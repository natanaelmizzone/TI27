"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="682338dd-878d-543f-b2a2-5a323c5f0032")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[3424],{823759:(e,t,i)=>{i.d(t,{Lt:()=>s,ai:()=>r,hF:()=>a,kL:()=>n});let n="whiteboard_menu_selector--container--ye4aw",r="whiteboard_menu_selector--chevron--kjs2p",a="whiteboard_menu_selector--input--GTjdY",s="whiteboard_menu_selector--select--nLTil text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},750114:(e,t,i)=>{i.d(t,{I:()=>s});var n=i(486106),r=i(458699),a=i(410936);function s(e){let t=(0,r.n)(e);if(t){let i=e.hideTooltip?t:(0,n.jsx)(r.v,{children:t});return(0,n.jsx)("div",{className:a.sx,children:i})}return null}},292815:(e,t,i)=>{i.d(t,{I:()=>a});var n=i(486106);let r=(0,i(992467).kf)("lazy_cmty_purchase_button",{isCodesplit:!0,ComponentFactory:async()=>({default:(await i.e(8316).then(i.bind(i,638316))).default})});function a({resource:e,context:t,payment:i,enableWideButtonForStickyFooter:a,enableCondensedWideButtonForStickyFooter:s,thirdPartyM10nUrl:o}){return(0,n.jsx)(r,{fallback:null,errorFallback:null,resource:e,context:t,payment:i,enableWideButtonForStickyFooter:a,enableCondensedWideButtonForStickyFooter:s,thirdPartyM10nUrl:o})}},485582:(e,t,i)=>{i.d(t,{J:()=>x});var n=i(486106),r=i(7378),a=i(763686),s=i(189185),o=i(27355),l=i(449184),d=i(976749),c=i(67099),u=i(62612),p=i(214564),h=i(337179),m=i(50769);let f=i(479760).zS;function x(){let[e,t]=(0,o.fp)(m.ph),i=(0,o.md)(m.KG),x=(0,o.md)(m.kh),_=(0,u._X)({subscribeToUpdates_expensive:!0}),[g,b]=(0,r.useState)(null),j="whiteboard"===(0,d.lg)(),y=r.useCallback(()=>{if(e){let{emojis:t,index:i}=e;if(t&&i>=0&&i<t.length){let e=(0,c._Q)(t[i]);e&&s.l7.user("insert-emoji",()=>{(0,l.sx)("inserted_editor_emoji",{emoji:e}),a.SmY?.replaceCurrentShortcodeWithEmoji(e)})}}},[e]),v=r.useCallback(()=>{t(null)},[t]);if(!x||!e||null===i)return null;let C=(0,u.Yb)(_,x);if(!(0,u.ZT)(C,_))return null;let T={top:C.y+_.y-8,bottom:C.y+_.y+C.height+8,left:C.x+_.x,right:C.x+_.x+C.width,height:C.height,width:C.width},E=g&&T.height>0&&T.bottom>_.height-g&&T.top>_.height-T.bottom?{positionFromBottom:{left:T.left,bottom:_.height+_.y-T.top},direction:h.ri.UPWARDS}:{targetRect:T,direction:h.ri.DOWNWARDS};return(0,n.jsx)("div",{children:(0,n.jsx)(p.j,{dispatchTypeahead:t,onClear:v,onInsert:y,typeahead:e,width:168,...E,emojiImageSet:i,isFigJam:j,recordingKey:"emojiTypeaheadView",setMaxTypeaheadHeight:b,zIndex:f})})}},978258:(e,t,i)=>{i.d(t,{k:()=>b});var n=i(486106),r=i(7378),a=i(514228),s=i(465776),o=i(763686),l=i(249071),d=i(27355),c=i(850789),u=i(571209),p=i(976749),h=i(275640),m=i(62612),f=i(84367),x=i(299537),_=i(90441),g=i(43374);function b({children:e,isShown:t,centerInFrame:i,anchorToRect:s,showInReadOnly:l,respectPreferredPosition:d,disableAnimation:c,zIndex:u,obstacleMargin:p}){let x;let[_,b]=r.useState(!1),[y,v]=r.useState(!1),C=r.useRef(null),{markPositionChanged:T,markSelectionChanged:E}=(0,g.LP)(C),S=(0,a.d4)(({mirror:{appModel:e}})=>[o.QOV.DEFAULT,o.QOV.SELECTING_TEXT,o.QOV.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),w=(0,a.d4)(({mirror:{appModel:e}})=>e.isReadOnly),I=(0,m._X)({subscribeToUpdates_expensive:t}),L=(0,f.J2)(o.Ez5.canvasViewState().selectionBoundingRect),N=(0,f.J2)(o.Ez5.canvasViewState().inlineMenuTarget),A=s||N?.boundingBox||L,O=(0,g.JI)(),k=(0,a.d4)(e=>e.mirror.sceneGraphSelection),R=(0,h.kl)("isTableSublayerSelected"),M=(x=o.cfv.ABOVE,N?.preferredPosition?x=N.preferredPosition:R&&(x=o.cfv.BELOW),x),D=!!O||!I||!A||!S||w&&!l||!t;r.useEffect(()=>{(D||y)&&_&&b(!1)},[D,_,y]);let P=I?.offsetX||0,U=I?.offsetY||0;return(r.useEffect(()=>{b(!1)},[k,P,U]),r.useEffect(()=>{E(k)},[k,E]),D)?(0,n.jsx)(g.C_,{disableAnimation:c,ref:C,children:null}):(0,n.jsx)(j,{animationContainerRef:C,boundingBox:A,centerInFrame:i,disableAnimation:c,isHovering:_,markPositionChanged:T,obstacleMargin:p,preferredRelativePosition:M,respectPreferredPosition:d,setIsHovering:b,setSizeChanged:v,viewport:I,zIndex:u,children:e})}function j({children:e,viewport:t,animationContainerRef:i,centerInFrame:a,boundingBox:h,preferredRelativePosition:f,setSizeChanged:b,isHovering:j,setIsHovering:y,markPositionChanged:v,respectPreferredPosition:C,disableAnimation:T,zIndex:E,obstacleMargin:S}){let[w,I]=(0,d.fp)(x.f),L=w.positionRelativeToSelection,N=r.useRef(null),A=(0,p.lg)(),O=(0,g.v2)(),k=a?0:O,R=r.useRef(null),M=(0,u.FQ)(R,S),D=(0,m.Yb)(t,h),P=r.useMemo(()=>({...D,x:D.x+t.x,y:D.y+t.y}),[D,t]),U=r.useCallback((e,i,n,r)=>{if(t){let a=e-t.x,s=i-t.y,l=(0,m.$$)(t,{x:a,y:s-r/window.devicePixelRatio});o.glU.figjamInlineMenuPositionUpdate(l.x,l.y,n.height)}v({x:e+n.width/2,y:i+n.height/2});let a=(0,g.iv)(P,e,i,f);L!==a&&I({type:"SET_POS_RELATIVE_TO_SELECTION",payload:a})},[t,v,P,L,I,f]),F=r.useCallback((e,t,i)=>{switch(i){case o.cfv.ABOVE:return[(0,_.Al)(e,t),a?(0,_.tJ)(e,t):(0,_.T1)(e,t,k)];case o.cfv.BELOW:return[(0,_.Al)(e,t),a?(0,_.tJ)(e,t):(0,_.DH)(e,t,k)];case o.cfv.LEFT:return[(0,_.Dl)(e,t,20),a?(0,_.tJ)(e,t):e.y];case o.cfv.RIGHT:return[(0,_.Yh)(e,20),a?(0,_.tJ)(e,t):e.y];default:(0,s.xb)(i)}},[k,a]),B=r.useCallback((e,t,i)=>{let[n,r]=F(e,t,i);return l.r.fromOriginAndSize(n,r,t.width,t.height)},[F]),H=r.useCallback((e,t,i,n,r)=>!a&&i===o.cfv.ABOVE&&n.top()>r.top()?B(e,t,o.cfv.BELOW):!a&&i===o.cfv.BELOW&&n.top()<r.top()?B(e,t,o.cfv.ABOVE):i===o.cfv.LEFT&&n.left()>r.left()?B(e,t,o.cfv.RIGHT):i===o.cfv.RIGHT&&n.left()<r.left()?B(e,t,o.cfv.LEFT):n,[B,a]),V=r.useCallback((e,i,n,r)=>{let a=l.r.fromOriginAndSize(t.x,t.y,t.width,t.height),s=B(e,i,f),o=M(s,a,r),d=H(e,i,f,o,s);return d===o||C||(o=M(d,a,r)),[o.left(),o.top()]},[f,C,t.height,t.width,t.x,t.y,M,B,H]),[G]=(0,c.A)((0,m.ZT)(D,t),500);if(!G)return(0,n.jsx)(g.C_,{disableAnimation:T,ref:i,children:null});let W="whiteboard"===A&&j?{transition:"transform 0.1s"}:{};return W.WebkitUserSelect="none",(0,n.jsx)(_.lM,{frozen:j,offset:k,onMouseEnter:()=>{y(!0),N.current&&clearTimeout(N.current),N.current=null},onMouseLeave:()=>{N.current=setTimeout(()=>y(!1),100)},onPosition:U,positionXY:V,setSizeChanged:b,style:W,targetRect:P,zIndex:E,children:(0,n.jsx)("div",{ref:R,children:(0,n.jsx)(g.C_,{disableAnimation:T,ref:i,children:e})})})}},432935:(e,t,i)=>{i.d(t,{_H:()=>u,mJ:()=>c});var n=i(7378),r=i(514228),a=i(859698),s=i(763686),o=i(973142),l=i(633080);function d(){let e=(0,r.d4)(e=>e.mirror.selectionProperties.stateGroupSelectionInfo);return n.useMemo(()=>e?.allStates?e.allStates.sort((t,i)=>p(t,e.stateGroupModel.propertySortOrder,e.stateGroupModel.propertyValues)-p(i,e.stateGroupModel.propertySortOrder,e.stateGroupModel.propertyValues)).map(e=>e.symbol.nodeId):[],[e])}function c(){let e=(0,r.d4)(e=>e.mirror.sceneGraph),t=d();return n.useMemo(()=>{let i=t=>{let i=e.get(t);if(!i?.publishID)return null;let n=(0,o.At)(i.description),r=i.description,d={type:l.PW.COMPONENT,name:i.name,description:n,description_rt:r,isLocal:!1,userFacingVersion:(0,a.F7)(i.userFacingVersion),node_id:i.publishID,library_key:i.sourceLibraryKey};i.sharedSymbolVersion&&(d.content_hash=i.sharedSymbolVersion),i.componentKey&&(d.component_key=i.componentKey,d.thumbnail_url=`/component/${i.componentKey}/thumbnail?ver=${d.content_hash}`,d.canvas_url=`/component/${i.componentKey}/canvas?ver=${d.content_hash}`);let c=s.Egt?.getNodeSize(t);return c&&(d.min_node_height=c.height,d.min_node_width=c.width),d};return new Map(t.map(e=>[e,i(e)]))},[e,t])}function u(){let e=d(),t=c();return e.filter(e=>!!t.get(e))}function p(e,t,i){let n=new Map;for(let[t,i]of e.symbol.name.split(",").map(e=>e.trim().split("=")))t&&i&&n.set(t,i);let r=0;for(let e of t)r=r/10+i[e].indexOf(n.get(e)||"");return r}},415304:(e,t,i)=>{i.d(t,{H:()=>S});var n=i(486106),r=i(7378),a=i(514228),s=i(934246),o=i(125019),l=i(27355),d=i(635978),c=i(741237),u=i(731583),p=i(385874),h=i(62612),m=i(722362),f=i(167249),x=i(321380),_=i(640042),g=i(763686),b=i(700578),j=i(723183),y=i(633914),v=i(376315),C=i(21029);function T(e){return e?e.richMediaInfo?.richMediaType==="VIDEO"?e.childrenGuids[0]??null:e.hasEnabledVideoPaint?e.guid:null:null}function E(e){let t=T(e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode));return t?[t]:[]}function S(){let e=function(){let e=(0,m.Mw)(),t=(0,a.d4)(E);return(0,r.useMemo)(()=>{let i=[...t],n=T(e);return n&&i.push(n),[...new Set(i)]},[t,e])}();return e.length?(0,n.jsx)(w,{videoNodeIds:e}):null}function w({videoNodeIds:e}){let t=function(e){let t=(0,r.useCallback)((e,t)=>e.nodeId?{nodeId:e.nodeId,position:t}:void 0,[]);return(0,u.tB)("VideoOverlays",e,t,{useFlushSyncExpensive:!0})}(e),i=(0,h._X)({subscribeToUpdates_expensive:!0});return i?(0,n.jsx)(n.Fragment,{children:Object.entries(t).map(([e,t])=>(0,n.jsx)(I,{nodeId:e,position:t.position,viewportInfo:i},e))}):null}function I({nodeId:e,position:t,viewportInfo:i}){let[u,T]=(0,r.useState)(!1),E=(0,C.sO)(),S=(0,m.KH)(),w=(0,r.useMemo)(()=>Object.keys(S),[S]),I=(0,a.d4)(e=>e.mirror.sceneGraph),L=(0,r.useMemo)(()=>(0,h.Yb)(i,t),[i,t]),N=(0,f.wA)((e,t)=>{let i=e.get(t);if(!i||!i.hasEnabledVideoPaint)return null;let n=i.fills.findIndex(e=>p.y7(e)?.video?.hash);if(-1===n)return null;let r=i.fills[n];return r&&r.video?.hash?{hexHash:(0,o.nj)(r.video.hash),index:n,showControls:!!(i.videoPlayback?.showControls||i.isInImmutableFrame)}:null},e),[A,O,k,R,M]=function(e,t,i,n,a,s){let[o,d]=(0,r.useState)("dormant"),[c,u,p]=(0,y.J)(null),[h,m,f]=(0,y.J)(null),[x,C,T]=(0,y.J)(null),[E]=(0,l.fp)(v.oe),S=function(e,t,i,n,a,s,o,l){let d=(0,r.useRef)(s),c=(0,r.useRef)(o);return(0,r.useCallback)(()=>{if(!e)return;t("loading");let r=document.createElement("video");r.crossOrigin="anonymous",r.autoplay=!0,r.muted=0===l,r.volume=l,i(r);let s=document.createElement("div");s.appendChild(r),s.style.width=`${d.current}px`,s.style.height=`${c.current}px`,document.body.appendChild(s),n(s),async function(){e&&a(await (0,_.mc)(null,r,e))}()},[e,t,a,i,n,l])}(t,d,f,T,p,n,a,E[e]?.currentVolume!==void 0?E[e].currentVolume:1),w=(0,r.useCallback)(()=>{if(c.current){try{c.current.dispose()}catch(e){console.error("Error disposing of video player",e)}p(null)}function t(){let t=(0,b.UN)().get(e);t&&null!=i&&(g.Ez5?.markContainingIndependentLayerNodesDirty(t.guid)||g.Ez5?.invalidateCanvas(),g.Ez5?.moveFromIndependentRenderLayer(t.guid),t.invalidateCanvasSpaceBoundsForSelfAndParents())}h.current&&h.current.parentNode&&h.current.remove(),f(null),x.current&&x.current.parentNode&&x.current.remove(),T(null),g.Ez5?.removeAllVideoNodeReferences(e),d("dormant"),t(),setTimeout(t,0)},[e,i,c,p,d,h,f,x,T]);return function(e,t,i,n,a,s){let o=(0,r.useRef)(s);o.current=s,(0,r.useEffect)(()=>{i&&n&&n.parentNode&&null!=t&&(i.on("playing",()=>{a("playing");let i=(0,b.UN)().get(e);if(i){i.initializeVideoTextureInFillPaint(t,n.videoWidth,n.videoHeight),i.setVideoElementInFillPaint(t,n),g.Ez5?.moveToIndependentRenderLayer(i.guid);let r=()=>{if(!o.current&&(i=(0,b.UN)().get(e))){let e=Math.floor(1e3*n.currentTime);i.setVideoCurrentTimeInFillPaint(t,e),i.setVideoIsPlayingInFillPaint(t,!n.paused),g.Ez5?.markContainingIndependentLayerNodesDirty(i.guid)||g.Ez5?.invalidateCanvas(),i.invalidateCanvasSpaceBoundsForSelfAndParents()}};if("requestVideoFrameCallback"in HTMLVideoElement.prototype){let e=()=>{r(),n.requestVideoFrameCallback(e)};e()}else{let e=()=>{r(),requestAnimationFrame(e)};e()}}}),b.UN().get(e)?.videoPlayback?.muted&&(i.muted(!0),i.volume(0)),i.play())},[e,t,i,n,a])}(e,i,u,m,d,s),(0,r.useEffect)(()=>()=>{w()},[w]),(0,r.useEffect)(()=>{let e=(0,j.tG)().subscribeToContextLost(()=>{w()});return()=>{e()}},[w]),[m,C,o,S,w]}(e,N?.hexHash??null,N?.index??null,t.width*i.zoomScale,t.height*i.zoomScale,i.isPanning||i.isZooming),D=(0,r.useCallback)(t=>{let i=I.get(e),n=i?.parentNode?.type||"";if((0,x.MT)(n)){let e=i?.parentGuid;e&&!w.includes(e)&&c.tJ([e])}else w.includes(e)||c.tJ([e]);t&&"dormant"!==k?t?.paused?t?.play():t?.pause():(T(!1),R())},[k,R,e,w,I]),P=(0,_.DD)(e),U=(0,_.ZU)(e),[F,B]=(0,l.fp)(v.H),{isVideoNodeHovered:H,pointerDownOnVideo:V}=F,G=(0,r.useCallback)((e,t)=>{B({isVideoNodeHovered:e,pointerDownOnVideo:t})},[B]);return N&&N.showControls?(0,n.jsx)("div",{style:{position:"fixed",width:t.width*i.zoomScale,height:t.height*i.zoomScale,top:i.y,left:i.x,transform:`translate(${L.x}px, ${L.y}px) rotate(${t.angle}deg)`,transformOrigin:"top left",pointerEvents:"none"},children:(0,n.jsx)("div",{style:{pointerEvents:"auto"},children:(0,n.jsx)(d._L,{didAutoplayOnSelection:!1,hasEnded:u,isLoading:"loading"===k,isMaximized:!1,isVideoHovered:!0,isVideoNodeHovered:H,mediaHash:N.hexHash,pointerDownOnVideo:V,setHasEnded:e=>{T(e),e&&M()},setIsMaximized:s.lQ,setIsVideoHovered:s.lQ,setVideoControls:G,shouldHideControlBar:U,shouldHideFullscreenButton:E,shouldHidePlaybackButton:P,toggleVideoPlayback:D,videoContainerElement:O,videoElement:A})})}):null}},3836:(e,t,i)=>{i.d(t,{n:()=>m});var n=i(486106),r=i(7378),a=i(514228),s=i(443068),o=i(149844),l=i(303541),d=i(929976),c=i(848862),u=i(45218),p=i(129884),h=i(828414);function m(e){let t=(0,a.wA)(),i=(0,c.Um)(),m=i?.type===h.kt,f=e.resourceType===u.bD.WIDGET?(0,l.t)("community.plugins.create_new_widget"):(0,l.t)("community.plugins.create_new_plugin"),x=r.useCallback(e=>{m?t(d.oB()):t(d.j7({type:h.kt,data:{targetRect:e.currentTarget?.getBoundingClientRect()}}))},[t,m]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.K,{"aria-label":f,htmlAttributes:{"data-tooltip-type":p.Ib.TEXT,"data-tooltip":f},onClick:x,children:(0,n.jsx)(o.e,{})}),m&&(0,n.jsx)(h.Pq,{resourceType:e.resourceType})]})}},950005:(e,t,i)=>{i.d(t,{W:()=>g});var n=i(486106),r=i(7378),a=i(514228),s=i(637027),o=i(714743),l=i(589278),d=i(303541),c=i(929976),u=i(850671);function p(){return(0,n.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.5594 4.51951C27.2967 3.55473 29.3688 3 31.5833 3C33.7979 3 35.87 3.55473 37.6073 4.51951L36.6363 6.26799C35.2024 5.47169 33.4655 5 31.5833 5C29.7012 5 27.9643 5.47169 26.5304 6.26799L25.5594 4.51951ZM40.1279 6.44958C41.6462 8.03598 42.5833 10.0811 42.5833 12.3333C42.5833 13.1443 42.4615 13.9318 42.2328 14.6823L40.3197 14.0993C40.492 13.5337 40.5833 12.9425 40.5833 12.3333C40.5833 10.6589 39.8909 9.09446 38.683 7.83249L40.1279 6.44958ZM20.5833 12.3333C20.5833 10.0811 21.5204 8.03598 23.0388 6.44958L24.4837 7.83249C23.2758 9.09446 22.5833 10.6589 22.5833 12.3333C22.5833 12.9425 22.6746 13.5337 22.847 14.0993L20.9339 14.6823C20.7052 13.9318 20.5833 13.1443 20.5833 12.3333ZM40.5429 17.7548C41.0494 17.1527 41.4763 16.4937 41.8068 15.7886L39.9959 14.9398C39.7426 15.4802 39.4111 15.9939 39.0096 16.4706C38.5701 16.9926 38.4772 17.6483 38.5592 18.1861C39.3313 18.0684 40.5364 17.8847 40.5364 17.8847C40.5289 17.8355 40.5321 17.7961 40.5377 17.7719C40.5397 17.7629 40.5417 17.7575 40.5429 17.7548ZM22.6273 17.7589C22.1192 17.1557 21.6911 16.4953 21.3598 15.7886L23.1708 14.9398C23.4241 15.4802 23.7556 15.9939 24.1571 16.4706C24.5966 16.9926 24.6894 17.6483 24.6075 18.1861C23.8353 18.0684 23.4024 18.0024 22.6303 17.8847C22.6378 17.8355 22.6346 17.7961 22.629 17.7719C22.6238 17.7492 22.619 17.7491 22.6273 17.7589ZM12.7855 18.8279C13.5007 18.3073 14.3826 18 15.3333 18H18.2724V20H15.3333C14.8195 20 14.3471 20.1649 13.9624 20.4449C13.5028 19.8134 13.2451 19.4594 12.7855 18.8279ZM19.7419 18H22.6229H22.681C22.6637 18 22.6432 18.0029 22.6222 18.0095C22.616 18.0115 22.6103 18.0136 22.6051 18.0158C22.6051 18.0158 23.6596 18.6058 24.3353 18.9838C24.047 19.4991 23.4839 20 22.681 20H19.7419V18ZM40.5444 18.0095C40.5235 18.0029 40.5029 18 40.4856 18H40.5438H43.7581V20H40.4856C39.6827 20 39.1196 19.4991 38.8313 18.9838C39.507 18.6058 40.5615 18.0158 40.5615 18.0158C40.5564 18.0136 40.5506 18.0115 40.5444 18.0095ZM45.3943 18H48.6667C51.0599 18 53 19.9401 53 22.3333V26.7778H51V22.3333C51 21.0447 49.9553 20 48.6667 20H45.3943V18ZM11 22.3333C11 21.3826 11.3073 20.5007 11.8279 19.7855C12.4594 20.2451 12.8134 20.5028 13.4449 20.9624C13.1649 21.3471 13 21.8195 13 22.3333V25.4391H11V22.3333ZM11 30.0977V26.9919H13V30.0395V30.0977C13 30.0804 12.9971 30.0598 12.9905 30.0389C12.9885 30.0327 12.9864 30.027 12.9842 30.0218C12.9842 30.0218 12.3942 31.0763 12.0162 31.752C11.5009 31.4637 11 30.9006 11 30.0977ZM18.6667 30C18.0575 30 17.4663 30.0913 16.9007 30.2637L16.3177 28.3505C17.0682 28.1218 17.8557 28 18.6667 28C20.9189 28 22.964 28.9371 24.5504 30.4555L23.1675 31.9003C21.9055 30.6924 20.3411 30 18.6667 30ZM16.0602 30.5874C15.5198 30.8407 15.0061 31.1722 14.5294 31.5737C14.0074 32.0133 13.3517 32.1061 12.8139 32.0241C12.9316 31.252 12.9976 30.8191 13.1153 30.047C13.1645 30.0545 13.2039 30.0512 13.2281 30.0457C13.2371 30.0436 13.2425 30.0416 13.2452 30.0404C13.8473 29.5339 14.5063 29.107 15.2114 28.7765L16.0602 30.5874ZM53 29V37.8889H51V29H53ZM26 39C26 37.1179 25.5283 35.381 24.732 33.9471L26.4805 32.9761C27.4453 34.7134 28 36.7854 28 39C28 41.2146 27.4453 43.2866 26.4805 45.0239L24.732 44.0529C25.5283 42.619 26 40.8821 26 39ZM53 40.1111V49H51V40.1111H53ZM12.8139 45.9759C13.3517 45.8939 14.0074 45.9867 14.5293 46.4263C15.0061 46.8278 15.5198 47.1593 16.0602 47.4126L15.2114 49.2235C14.5063 48.893 13.8473 48.466 13.2452 47.9596C13.2425 47.9584 13.2371 47.9564 13.2281 47.9543C13.2039 47.9487 13.1645 47.9455 13.1153 47.953C13.1153 47.953 12.9316 46.748 12.8139 45.9759ZM18.6667 48C20.3411 48 21.9055 47.3076 23.1675 46.0997L24.5504 47.5445C22.964 49.0629 20.9189 50 18.6667 50C17.8557 50 17.0682 49.8782 16.3177 49.6495L16.9007 47.7363C17.4663 47.9087 18.0575 48 18.6667 48ZM11 47.9023C11 47.0994 11.5009 46.5363 12.0162 46.248C12.3942 46.9237 12.9842 47.9782 12.9842 47.9782C12.9864 47.973 12.9885 47.9673 12.9905 47.9611C12.9971 47.9402 13 47.9196 13 47.9023V47.9605V51.0081H11V47.9023ZM53 51.2222V55.6667C53 58.0599 51.0599 60 48.6667 60H44.2222V58H48.6667C49.9553 58 51 56.9553 51 55.6667V51.2222H53ZM11 55.6667V52.5609H13V55.6667C13 56.1805 13.1649 56.6529 13.4449 57.0376L11.8279 58.2145C11.3073 57.4993 11 56.6174 11 55.6667ZM15.3333 60C14.3826 60 13.5007 59.6927 12.7855 59.1721L13.9624 57.5551C14.3471 57.8351 14.8195 58 15.3333 58H19.7778V60H15.3333ZM30.8889 60H22V58H30.8889V60ZM42 60H33.1111V58H42V60Z",fill:"var(--color-icon-tertiary)"}),(0,n.jsx)("path",{d:"M13.9624 20.4449C13.5028 19.8134 13.2451 19.4594 12.7855 18.8279C12.3424 19.1503 12.1474 19.3465 11.8279 19.7855C12.4594 20.2451 12.8134 20.5028 13.4449 20.9624C13.6139 20.7303 13.7189 20.6222 13.9624 20.4449Z",fill:"var(--color-icon-tertiary)"}),(0,n.jsx)("path",{d:"M13 30.0395V30.0977C13 30.0804 12.9971 30.0598 12.9905 30.0389C12.9885 30.0327 12.9864 30.027 12.9842 30.0218L12.0162 31.752C12.2838 31.9017 12.5 31.9763 12.8139 32.0241C12.8139 32.0241 12.9976 30.8191 13.1153 30.047C13.0703 30.0441 13 30.0395 13 30.0395Z",fill:"var(--color-icon-tertiary)"}),(0,n.jsx)("path",{d:"M13.1153 47.953L12.8139 45.9759C12.6557 46 12.195 46.1479 12.0162 46.248L12.9842 47.9782C12.9864 47.973 12.9885 47.9673 12.9905 47.9611C12.9971 47.9402 13 47.9196 13 47.9023V47.9605L13.1153 47.953Z",fill:"var(--color-icon-tertiary)"}),(0,n.jsx)("path",{d:"M24.6075 18.1861C23.8353 18.0684 23.4024 18.0024 22.6303 17.8847C23.2962 18.3139 23.6695 18.5546 24.3353 18.9838C24.451 18.7772 24.5564 18.5211 24.6075 18.1861Z",fill:"var(--color-icon-tertiary)"}),(0,n.jsx)("path",{d:"M22.6229 18H22.681C22.6637 18 22.6432 18.0029 22.6222 18.0095C22.616 18.0115 22.6103 18.0136 22.6051 18.0158C22.6051 18.0158 23.6596 18.6058 24.3353 18.9838C23.6695 18.5546 23.2962 18.3139 22.6303 17.8847C22.6274 17.9297 22.6229 18 22.6229 18Z",fill:"var(--color-icon-tertiary)"}),(0,n.jsx)("path",{d:"M40.5364 17.8847C40.5364 17.8847 39.3313 18.0684 38.5592 18.1861C38.5768 18.3016 38.6904 18.7319 38.8313 18.9838C39.507 18.6058 40.5615 18.0158 40.5615 18.0158C40.5564 18.0136 40.5506 18.0115 40.5444 18.0095C40.5235 18.0029 40.5029 18 40.4856 18H40.5438L40.5364 17.8847Z",fill:"var(--color-icon-tertiary)"})]})}function h(){return(0,n.jsxs)("svg",{width:"64",height:"64",viewBox:"0 0 64 64",fill:"none",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.4987 5.63364L31.9998 2.13477L28.501 5.63364L29.9152 7.04785L31.9998 4.96319L34.0845 7.04785L35.4987 5.63364ZM5.63785 28.4967L7.05206 29.911L4.96319 31.9998L7.05206 34.0887L5.63785 35.5029L2.13477 31.9998L5.63785 28.4967ZM28.5009 58.3659L29.9151 56.9517L31.9998 59.0365L34.0846 56.9517L35.4988 58.3659L31.9998 61.8649L28.5009 58.3659ZM58.3702 35.4946L61.8649 31.9998L58.3702 28.5051L56.9559 29.9193L59.0365 31.9998L56.9559 34.0804L58.3702 35.4946ZM37.2481 7.38307L35.8339 8.79729L39.9186 12.8819H45.6994V10.8819H40.747L37.2481 7.38307ZM48.1756 10.8819V12.8819H51.1281V15.8344H53.1281V10.8819H48.1756ZM53.1281 18.3106H51.1281V24.0914L55.2086 28.1719L56.6228 26.7577L53.1281 23.263V18.3106ZM56.6228 37.2419L55.2086 35.8277L51.1281 39.9082V45.689H53.1281V40.7367L56.6228 37.2419ZM53.1281 48.1652H51.1281V51.1175H48.1757V53.1175H53.1281V48.1652ZM45.6995 53.1175V51.1175H39.9188L35.834 55.2023L37.2483 56.6165L40.7472 53.1175H45.6995ZM26.7514 56.6165L28.1656 55.2023L24.0809 51.1175H18.3085V53.1175H23.2525L26.7514 56.6165ZM15.8365 53.1175V51.1175H12.8925V48.1735H10.8925V53.1175H15.8365ZM10.8925 45.7015H12.8925V39.9291L8.80361 35.8402L7.38939 37.2545L10.8925 40.7575V45.7015ZM7.38939 26.7452L8.80361 28.1594L12.8925 24.0705V18.298H10.8925V23.2421L7.38939 26.7452ZM10.8925 15.826H12.8925V12.8819H15.8365V10.8819H10.8925V15.826ZM18.3086 10.8819V12.8819H24.0811L28.1657 8.79729L26.7515 7.38307L23.2527 10.8819H18.3086Z",fill:"var(--color-icon-tertiary)"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.3956 19.5055L26.4844 29.1128H41.4723L28.9966 45.6671L27.3994 44.4634L37.4607 31.1128H22.582L31.7721 18.3375L33.3956 19.5055Z",fill:"var(--color-icon-tertiary)"})]})}var m=i(848862),f=i(828414),x=i(154709),_=i(954184);function g({isWidget:e}){let t=(0,a.wA)(),i=(0,m.Um)(),g=i?.type===f.kt,b=r.useRef(null),j=r.useCallback(e=>{g?t(c.oB()):t(c.j7({type:f.kt,data:{type:"pointing",targetRect:e.currentTarget?.getBoundingClientRect()}}))},[t,g]),{href:y,onClick:v}=(0,u.y)("https://www.figma.com/widget-docs/intro/"),{href:C,onClick:T}=(0,u.y)("https://www.figma.com/plugin-docs");return(0,n.jsxs)("div",{className:"empty_development_view--developmentPluginEmptyStateContainer--cTeAp",children:[(0,n.jsx)("span",{className:l.s.m16.$,children:e?(0,n.jsx)(h,{}):(0,n.jsx)(p,{})}),(0,n.jsx)("span",{className:l.s.font11.fontNormal.colorTextSecondary.mb4.$,children:e?(0,d.tx)("community.plugins.no_widgets_created_yet"):(0,d.tx)("community.plugins.no_plugins_created_yet")}),e?(0,n.jsx)(s.N_,{href:y,onClick:v,className:l.s.font11.fontNormal.noUnderline.inline.$,trusted:!0,children:(0,d.tx)("community.plugins.learn_more_about_widget_development")}):(0,n.jsx)(s.N_,{href:C,onClick:T,className:l.s.font11.fontNormal.noUnderline.inline.$,trusted:!0,children:(0,d.tx)("community.plugins.learn_more_about_plugin_development")}),(0,n.jsx)(s.u4,{defaultClass:"empty_development_view--buttonWithBorder--zk4QX text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:j,children:(0,n.jsxs)("div",{className:"empty_development_view--buttonContent--kb5Nb",children:[(0,n.jsx)(o.B,{className:"empty_development_view--plusIcon--h23yu",svg:_.A}),(0,n.jsx)("div",{className:"empty_development_view--buttonContentDisplayText--bCttl",children:(0,d.tx)("community.plugins.new")}),(0,n.jsx)("div",{ref:b,children:(0,n.jsx)(o.B,{className:"empty_development_view--caretIcon--jjHPA",svg:x.A})})]})})]})}},254275:(e,t,i)=>{i.d(t,{_:()=>f,n:()=>m});var n=i(486106),r=i(7378),a=i(443068),s=i(749199),o=i(736516),l=i(536384),d=i.n(l),c=i(303541),u=i(129884),p=i(882116),h=i(968638),m=(e=>(e.DETAIL="detail",e.TILE="title",e.FIGJAM_PLUGIN_ROW="figjam_plugin_row",e))(m||{});function f(e){let{isSavedForUser:t,save:i,unsave:r}=(0,p.QK)(e.resourceId,e.resourceType);return(0,n.jsx)(x,{onClick:e=>{t?r():i(),e.stopPropagation()},isSaved:t,parentView:e.parentView,isFauxFocused:e.isFauxFocused})}function x(e){let t="title"===e.parentView?d()({[h.Xb]:!e.isSaved,[h.ez]:e.isSaved||!!e.isFauxFocused}):"figjam_plugin_row"===e.parentView?h._P:"",{SaveIcon:i,SaveFilledIcon:l}=r.useMemo(()=>(e.parentView,{SaveIcon:s.k,SaveFilledIcon:o.y}),[e.parentView]);return(0,n.jsx)("div",{className:t,children:(0,n.jsx)(a.K,{onClick:e.onClick,"aria-label":e.isSaved?(0,c.t)("community.saves.remove_from_saves"):(0,c.t)("community.saves.save"),"aria-pressed":e.isSaved,htmlAttributes:{"data-tooltip-type":u.Ib.TEXT,"data-tooltip":e.isSaved?(0,c.t)("community.saves.remove_from_saves"):(0,c.t)("community.saves.save")},children:e.isSaved?(0,n.jsx)(l,{}):(0,n.jsx)(i,{})})})}},68162:(e,t,i)=>{i.d(t,{H:()=>o});var n=i(486106),r=i(303541);function a(){return(0,n.jsxs)("svg",{width:"60",height:"70",viewBox:"0 0 60 70",fill:"none",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M38.747 8.88206L29.9998 0.134888L21.2527 8.88206H8.89248V21.2422L0.134766 30L8.89248 38.7577V51.1176H21.2525L29.9998 59.865L38.7472 51.1176H51.1281V38.7368L59.8649 30L51.1281 21.2631V8.88206H38.747ZM49.1281 10.8821H37.9186L29.9998 2.96331L22.0811 10.8821H10.8925V22.0707L2.96319 30L10.8925 37.9292V49.1176H22.0809L29.9998 57.0366L37.9188 49.1176H49.1281V37.9084L57.0365 30L49.1281 22.0915V10.8821Z",fill:"var(--color-bg-disabled-secondary)"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.3956 17.5056L24.4844 27.1129H39.4723L26.9966 43.6672L25.3994 42.4635L35.4607 29.1129H20.582L29.7721 16.3377L31.3956 17.5056Z",fill:"var(--color-bg-disabled-secondary)"}),(0,n.jsx)("path",{d:"M40 41.5C40 40.6716 40.6716 40 41.5 40H58.5C59.3284 40 60 40.6716 60 41.5V68.4395C60 69.0684 59.2726 69.418 58.7815 69.0252L50 62L41.2185 69.0252C40.7274 69.418 40 69.0684 40 68.4395V41.5Z",fill:"var(--color-bg-disabled-secondary)"})]})}function s(){return(0,n.jsxs)("svg",{width:"51",height:"69",viewBox:"0 0 51 69",fill:"none",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.58333 9.33333C9.58333 4.0157 14.6867 0 20.5833 0C26.48 0 31.5833 4.0157 31.5833 9.33333C31.5833 11.371 30.8158 13.2415 29.5429 14.7548C29.5409 14.7593 29.5365 14.7716 29.5338 14.7946C29.5285 14.8406 29.5344 14.9014 29.5552 14.9594C29.5611 14.9758 29.5672 14.9892 29.5728 15H37.6667C40.0599 15 42 16.9401 42 19.3333V52.6667C42 55.0599 40.0599 57 37.6667 57H4.33333C1.9401 57 0 55.0599 0 52.6667V44.9023C0 43.9176 0.731631 43.317 1.36447 43.0896C1.99657 42.8626 2.86764 42.869 3.52935 43.4263C4.72239 44.431 6.148 45 7.66667 45C11.5538 45 15 41.149 15 36C15 30.851 11.5538 27 7.66667 27C6.148 27 4.72239 27.569 3.52935 28.5737C2.86764 29.131 1.99657 29.1374 1.36447 28.9104C0.731631 28.683 0 28.0824 0 27.0977V19.3333C0 16.9401 1.9401 15 4.33333 15H11.5939C11.5995 14.9892 11.6056 14.9758 11.6115 14.9594C11.6323 14.9014 11.6382 14.8406 11.6328 14.7946C11.6302 14.7716 11.6257 14.7593 11.6237 14.7547C10.3509 13.2415 9.58333 11.371 9.58333 9.33333ZM29.544 14.7526C29.5443 14.7522 29.544 14.7526 29.544 14.7526ZM20.5833 2C15.4343 2 11.5833 5.44622 11.5833 9.33333C11.5833 10.852 12.1524 12.2776 13.1571 13.4706C13.7143 14.1324 13.7208 15.0034 13.4937 15.6355C13.2664 16.2684 12.6657 17 11.681 17H4.33333C3.04467 17 2 18.0447 2 19.3333V27.0106C2.01079 27.0162 2.02423 27.0222 2.04063 27.0281C2.09865 27.049 2.15938 27.0548 2.20535 27.0495C2.22841 27.0468 2.24068 27.0424 2.24526 27.0404C3.75846 25.7676 5.62904 25 7.66667 25C12.9843 25 17 30.1033 17 36C17 41.8967 12.9843 47 7.66667 47C5.62904 47 3.75845 46.2324 2.24526 44.9596C2.24068 44.9576 2.22842 44.9532 2.20535 44.9505C2.15938 44.9452 2.09865 44.951 2.04063 44.9719C2.02423 44.9778 2.01079 44.9838 2 44.9894V52.6667C2 53.9553 3.04467 55 4.33333 55H37.6667C38.9553 55 40 53.9553 40 52.6667V19.3333C40 18.0447 38.9553 17 37.6667 17H29.4856C28.5009 17 27.9003 16.2684 27.673 15.6355C27.4459 15.0034 27.4523 14.1324 28.0096 13.4706C29.0143 12.2776 29.5833 10.852 29.5833 9.33333C29.5833 5.44622 25.7324 2 20.5833 2ZM2.24739 27.0393C2.24784 27.0391 2.24739 27.0394 2.24739 27.0393Z",fill:"var(--color-bg-disabled-secondary)"}),(0,n.jsx)("path",{d:"M31 40.5C31 39.6716 31.6716 39 32.5 39H49.5C50.3284 39 51 39.6716 51 40.5V67.4395C51 68.0684 50.2726 68.418 49.7815 68.0252L41 61L32.2185 68.0252C31.7274 68.418 31 68.0684 31 67.4395V40.5Z",fill:"var(--color-bg-disabled-secondary)"})]})}function o(e){return(0,n.jsxs)("div",{className:"saved_view_empty_state--emptyStateContainer--KrviB",children:[e.isWidget?(0,n.jsx)(a,{}):(0,n.jsx)(s,{}),(0,n.jsxs)("div",{className:"saved_view_empty_state--emptyStateTextContainer--xRmL3",children:[(0,n.jsx)("div",{className:"saved_view_empty_state--emptyStateHeader--t4hjK text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,r.tx)("universal_insert.saved_empty_state")}),(0,n.jsx)("div",{className:"saved_view_empty_state--emptyStateSubheader--FndRk text--fontPos11--2LvXf text--_fontBase--QdLsd",children:e.isWidget?(0,r.tx)("universal_insert.saved_for_quick_access_widgets"):(0,r.tx)("universal_insert.saved_for_quick_access_plugins")})]})]})}},254940:(e,t,i)=>{i.d(t,{s:()=>x,w:()=>f});var n=i(486106),r=i(514228),a=i(637027),s=i(589278),o=i(303541),l=i(156213),d=i(453187),c=i(684168),u=i(516028),p=i(845253),h=i(53721),m=i(404161),f=(e=>(e.FigJamPluginTile="figjam_plugin_tile",e))(f||{});function x(e){let t=(0,r.wA)(),{version:i,isPlugin:f,variant:x}=e,_=(0,u.q5)(),g=(0,p.sZ)(),b=(0,c.RW)(),j=(0,d.a)(g?.id,i.plugin_id,b.loaded?b.data?.workspaceId:void 0);if(!_||!_.parentOrgId)return null;if(j){let e="figjam_plugin_tile"===x?(0,o.tx)("universal_insert.request"):(0,o.tx)("universal_insert.approval_pending");return(0,n.jsx)(a.nR,{disabled:!0,className:s.s.wFull.$,dataTestId:"request-button-approval-pending",children:e})}let y={extension:{pluginId:i.plugin_id,iconUrl:i.redirect_icon_url,name:i.name},isWidget:!f,orgId:_.parentOrgId,workspaceDetails:b.loaded?b.data:void 0,openedFrom:"editor",fullscreenEditorType:(0,h.wN)(_.editorType)},v="figjam_plugin_tile"===x?(0,o.tx)("universal_insert.request"):(0,o.tx)("universal_insert.request_approval");return(0,n.jsx)(a.nR,{onClick:()=>{t((0,l.to)({type:m.S,data:y}))},className:s.s.wFull.$,dataTestId:"request-button",children:v})}},172012:(e,t,i)=>{i.d(t,{t:()=>o});var n=i(7378),r=i(514228),a=i(763686),s=i(546509);function o(){let e=(0,s.m0)(),t=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);return n.useEffect(()=>{e&&(e._keyboard_will_show_with_height=e=>{a.glU.keyboardWillShowWithHeight(e)},e._keyboard_will_hide=()=>{t===a.m1T.TEXT&&a.glU.setDefaultEditMode()},window.FigmaAppObj?(window.FigmaAppObj.keyboardWillShow=()=>{a.glU.keyboardWillShow()},window.FigmaAppObj.keyboardWillShowWithHeight=e=>{a.glU.keyboardWillShowWithHeight(e)}):window.FigmaAppObj={keyboardWillShow:()=>{a.glU.keyboardWillShow()},keyboardWillShowWithHeight:e=>{a.glU.keyboardWillShowWithHeight(e)}})},[e,t]),null}},467175:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(7378),r=i(231521),a=i(463802),s=i(408361);function o({maxDepth:e}){let[t]=(0,a.DF)();return(0,n.useEffect)(()=>t.registerCommand(s.Pi,()=>!function(e){let t=(0,s.vJ)();if(!(0,s.I2)(t))return!1;let i=function(e){let t=e.getNodes();return new Set(0===t.length?[e.anchor.getNode().getParentOrThrow(),e.focus.getNode().getParentOrThrow()]:t.map(e=>(0,s.ff)(e)?e:e.getParentOrThrow()))}(t),n=0;for(let e of i)if((0,r.HY)(e))n=Math.max((0,r.g2)(e)+1,n);else{if(!(0,r.Mz)(e))return!1;let t=e.getParent();if(!(0,r.HY)(t))throw Error("LimitIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");n=Math.max((0,r.g2)(t)+1,n)}return n<=e}(e??7),s.d),[t,e]),null}},152433:(e,t,i)=>{i.d(t,{D:()=>_,N:()=>x});var n=i(486106),r=i(514228),a=i(253683),s=i(430294),o=i(601108),l=i(303541),d=i(455680),c=i(129884),u=i(144634),p=i(439493),h=i(436725),m=i(254405);let f=["semi-bold","semi bold","bold","extra-bold","extra bold","black"];function x(e){return f.some(t=>e.toLowerCase().startsWith(t))}function _(){let e=(0,r.d4)(e=>x(e.mirror.selectionProperties.fontStyle?.toString()||"")),t=(0,r.d4)(e=>"STRIKETHROUGH"===e.mirror.selectionProperties.whiteboardTextDecoration);return(0,o.k)().figjam_a11y_inline_toolbar?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.V,{variant:"toggle",tooltip:(0,l.t)("fullscreen_actions.toggle-bold"),ariaLabel:(0,l.t)("fullscreen_actions.toggle-bold"),checked:e,offIcon:(0,n.jsx)(a.j,{}),onIcon:(0,n.jsx)(a.j,{}),onChange:()=>d.Y5.triggerActionInUserEditScope("toggle-bold"),recordingKey:"bold",tooltipShortcutActionKey:"toggle-bold"}),(0,n.jsx)(u.V,{variant:"toggle",tooltip:(0,l.t)("fullscreen_actions.text-toggle-strikethrough"),ariaLabel:(0,l.t)("fullscreen_actions.text-toggle-strikethrough"),checked:t,offIcon:(0,n.jsx)(s.N,{}),onIcon:(0,n.jsx)(s.N,{}),onChange:()=>d.Y5.triggerActionInUserEditScope("text-toggle-strikethrough"),recordingKey:"strikethrough",tooltipShortcutActionKey:"text-toggle-strikethrough"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.K0,{svg:h.A,tooltip:"toggle-bold",tooltipType:c.Ib.LOOKUP,active:e?"LOUD":void 0,onClick:()=>d.Y5.triggerActionInUserEditScope("toggle-bold"),recordingKey:"bold",role:"switch",blurOnClick:!0}),(0,n.jsx)(p.K0,{svg:m.A,tooltip:"text-toggle-strikethrough",tooltipType:c.Ib.LOOKUP,active:t?"LOUD":void 0,onClick:()=>d.Y5.triggerActionInUserEditScope("text-toggle-strikethrough"),recordingKey:"strikethrough",role:"switch",blurOnClick:!0})]})}},969977:(e,t,i)=>{i.d(t,{jk:()=>W});var n=i(486106),r=i(7378),a=i(514228),s=i(934246),o=i(189185),l=i(601108),d=i(815945),c=i(878298),u=i(536384),p=i.n(u),h=i(436288),m=i(90566),f=i(651849),x=i(103090),_=i(551536),g=i(589278),b=i(8833),j=i(713722),y=i(976749),v=i(239551),C=i(364284),T=i(848862),E=i(53721),S=i(129884),w=i(794875),I=i(932285),L=i(439493),N=i(823759);let A="widget_controls--label--YWqiO text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",O="widget_controls--img--bNdQj",k=(0,d.UJ)(e=>e.includes("xmlns")?"data:image/svg+xml;utf8,"+encodeURIComponent(e.trim()):(f.k.warn("Your widget must include the xmlns property on any SVGs used in the property menu. See https://developer.mozilla.org/en-US/docs/Web/SVG/Element/svg for more info"),null),1e3);function R(e){let t=(0,y.E3)(),i=e.icon?k(e.icon):null,r=void 0!==t&&t===E.nT.Design;return i?(0,n.jsx)(M,{label:e.label,propertyName:e.propertyName,href:e.href,size:r?"small":"large",tooltip:e.tooltip,icon:i,onClick:e.onClick,active:e.active?e.active:"NONE"}):(0,n.jsx)(D,{label:e.label,propertyName:e.propertyName,href:e.href,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE"})}function M(e){let t=e.href?(0,n.jsx)(_.N,{href:e.href,className:g.s.cursorDefault.wFull.hFull.$,target:"_blank",trusted:!1,children:(0,n.jsx)("img",{src:e.icon,className:O,alt:`${e.propertyName}`})}):(0,n.jsx)("img",{src:e.icon,className:O,alt:`${e.propertyName}`});return(0,n.jsx)(L.$n,{buttonStyle:{overflow:"hidden",flexShrink:0},size:e.size,tooltip:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,c.Pt)("widgetControl",e.propertyName),children:t})}function D(e){let t=e.href?(0,n.jsx)(_.N,{href:e.href,className:p()(A,g.s.cursorDefault.wFull.hFull.$),target:"_blank",trusted:!1,children:e.label}):(0,n.jsx)("span",{className:A,children:e.label});return(0,n.jsx)(L.$n,{className:g.s.flexShrink0.$,tooltip:e.tooltip===e.label?void 0:e.tooltip,onClick:e.onClick,active:e.active?e.active:"NONE",recordingKey:(0,c.Pt)("widgetControl",e.propertyName),children:t})}function P({widgetInfo:e,item:t}){let i=(0,y.E3)(),a=o.nc.user("widget-select-color",i=>{let n=(0,h.colorToHex)(i.option);v.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,x[n]??n)}),s=(0,m.A)(a,100),[l,d]=r.useState(!1),u=[t.selectedOption,...t.options.map(e=>e.option)],p={},x={};for(let e of u)try{let t=j.z5.parse(e);p[e]=t,x[(0,h.colorToHex)(t)]=e}catch(t){return f.k.warn(`Cannot render widget color selector. ${e} is an invalid color.`),(0,n.jsx)("div",{"data-testid":"emptyColorSelector"})}let _=i===E.nT.Design;return(0,n.jsx)(I.qW,{buttonSize:_?"xsmall":"small",inlineButtonTooltip:t.tooltip,isColorPopoverOpen:l,isDesignInlineMenu:_,onColorChange:e=>{s(e)},optionSize:"medium",options:t.options.map(e=>({option:p[e.option],tooltip:e.tooltip})),paletteType:"widget",recordingKey:(0,c.Pt)("widgetControl",t.propertyName),setIsColorPopoverOpen:d,value:{option:p[t.selectedOption]}})}function U({widgetInfo:e,item:t}){return(0,n.jsx)(R,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,onClick:o.nc.user("widget-action",()=>{v.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}let F=w.l6,B=w.c$;function H({item:e,widgetInfo:t}){let i=(0,y.E3)(),r=(0,a.wA)(),s=(0,T.Um)(),o=e.options.find(t=>t.option===e.selectedOption),l=(0,c.Pt)("widgetControl",e.propertyName),d=void 0!==i&&i===E.nT.Design;return(0,n.jsx)("div",{className:d?void 0:N.kL,"data-tooltip-show-above":!0,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":e.tooltip,children:(0,n.jsx)(F,{ariaLabel:e.tooltip,blurOnChange:!0,chevronClassName:d?"widget_controls--chevron--a3ua2":N.ai,className:d?"widget_controls--select---Nqnq text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L":N.Lt,dispatch:r,dropdownAlignment:"left",dropdownClassName:b.Dm,dropdownShown:s,dropdownWidth:144,formatter:{format:e=>e.tooltip,isEqual:(e,t)=>e.option===t.option},id:`widgetControl.${e.propertyName}`,inputClassName:d?"widget_controls--input--Z6nHO":N.hF,onChange:i=>{v.x.runPropertyMenuCallback(t.pluginID,t.widgetID,e.propertyName,i.option)},property:{option:e.selectedOption,tooltip:o?o.tooltip:e.selectedOption},recordingKey:l,targetDomNode:document.body,children:e.options.map((t,i)=>(0,n.jsx)(B,{value:t,formattedValue:t.tooltip,recordingKey:(0,c.Pt)(l,t.option),selected:e.selectedOption===t.option,truncateInMiddle:!0},i))})})}function V({widgetInfo:e,item:t}){return(0,n.jsx)(R,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:t.icon,active:t.isToggled?"LOUD":"NONE",onClick:o.nc.user("widget-toggle",()=>{v.x.runPropertyMenuCallback(e.pluginID,e.widgetID,t.propertyName,null)})})}function G({widgetInfo:e,item:t}){let i;let r=(0,l.k)().widget_link_encode_uri_component?encodeURIComponent(t.href):t.href;return null!==t.icon&&(i=t.icon?t.icon:'<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 12H16V13H13V27H27V24H28V27V28H13H12V27V13V12ZM27.0001 13H26.9913L27.0001 13.0088V13ZM20.0001 13H26.2999L17.0251 22.2747L17.7323 22.9818L27.0001 13.714V20H28.0001V12.5V12H27.5001H20.0001V13Z" fill="white" fill-opacity="0.8"/></svg>'),(0,n.jsx)(R,{tooltip:t.tooltip,label:t.tooltip,propertyName:t.propertyName,icon:i,onClick:s.lQ,href:"https://www.figma.com/exit?url="+r})}function W(){let e=function(){let e=(0,x.R)(e=>e.mirror.selectionProperties.selectedWidgetInfo);return r.useMemo(()=>{if(!e)return e;let{pluginID:t}=e;if(!(0,C.Vi)(t))return e;let i=e.propertyMenu.map(e=>"separator"===e.itemType?e:{...e,tooltip:(0,C.kZ)(t,e.propertyName)||e.tooltip});return{...e,propertyMenu:i}},[e])}();return e&&e.propertyMenu.length?(0,n.jsx)(n.Fragment,{children:e.propertyMenu.map((t,i)=>{switch(t.itemType){case"action":return(0,n.jsx)(U,{item:t,widgetInfo:e},i);case"separator":return(0,n.jsx)(L.wv,{},i);case"color-selector":return(0,n.jsx)(P,{item:t,widgetInfo:e},i);case"dropdown":return(0,n.jsx)(H,{item:t,widgetInfo:e},i);case"toggle":return(0,n.jsx)(V,{item:t,widgetInfo:e},i);case"link":return(0,n.jsx)(G,{item:t,widgetInfo:e},i)}})}):null}},523157:(e,t,i)=>{i.d(t,{x:()=>B});var n=i(486106),r=i(7378),a=i(514228),s=i(521428);let o=(0,r.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",d:"M18.5 4A1.5 1.5 0 0 1 20 5.5V19a1 1 0 0 1-.898.995L19 20h-1l-.102-.005A1 1 0 0 1 17 19v-6H7v6a1 1 0 0 1-.897.995L6 20H5l-.103-.005A1 1 0 0 1 4 19V5.5a1.5 1.5 0 1 1 3 0V7h10V5.5A1.5 1.5 0 0 1 18.5 4m0 1a.5.5 0 0 0-.5.5V19h1V5.5a.5.5 0 0 0-.5-.5m-13 0a.5.5 0 0 0-.5.5V19h1V5.5a.5.5 0 0 0-.5-.5m9.701 7H17v-1.799zM7 11.2v.8h.802l-.009-.009L11.784 8H10.2zm2.198.8h1.603l-.008-.008L14.785 8h-1.587zM16.2 8l-4 4h1.588L17 8.787V8zM7 9.786 8.786 8H7z"})})});var l=i(878298),d=i(223926),c=i.n(d),u=i(920142),p=i(103090),h=i(303541),m=i(559491),f=i(15667),x=i(543529),_=i(844435),g=i(516028),b=i(300692),j=i(185954),y=i(612938),v=i(45218),C=i(53721),T=i(155287),E=i(129884),S=i(480825);let w=(0,i(524523).ex)("figjam_plugin_relaunch_button_info",function(e){let{name:t,description:i}=e;return(0,n.jsxs)("div",{className:"figjam_plugin_relaunch_button_info_tooltip--figjamRelaunchButtonInfo--d289K text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,n.jsx)("span",{className:"figjam_plugin_relaunch_button_info_tooltip--handle--XUJNp",children:t}),i&&(0,n.jsx)("div",{children:i})]})},e=>({name:e.getAttribute("data-tooltip-name"),description:e.getAttribute("data-tooltip-description")}));var I=i(291714),L=i(632989),N=i(969533);function A({onClick:e,recordingKey:t,ariaLabel:i,tooltip:r,tooltipType:a,tooltipName:s,tooltipDescription:o,showChevron:l,children:d}){return(0,n.jsx)(L.E,{className:"whiteboard_inline_menu_icon_button--iconButton40--yjNDz",onClick:e,recordingKey:t,"aria-label":i,htmlAttributes:{"data-tooltip":r,"data-tooltip-type":a,"data-tooltip-show-above":!0,"data-tooltip-name":s,"data-tooltip-description":o,"data-testid":t},children:(0,n.jsxs)("span",{"aria-hidden":!0,className:"whiteboard_inline_menu_icon_button--icon--SUTLm",children:[d,l&&(0,n.jsx)(N.O,{className:"whiteboard_inline_menu_icon_button--chevron--tjrn4"})]})})}var O=i(439493),k=i(769101),R=i(407919),M=i(302958),D=i(576487);function P(e){let{tooltipName:t,tooltipDescription:i,onClick:r,hasMultipleOptions:a,recordingKey:s,plugin:l}=e,d=(0,I._r)(),c=a?(0,h.t)("whiteboard.inline_menu.open_relaunch_menu.aria_label",{pluginName:l.name}):t??l.name,u=a?{tooltip:l.name,tooltipType:E.Ib.TEXT}:{tooltip:w,tooltipType:d&&t?E.Ib.SPECIAL:void 0,tooltipName:t,tooltipDescription:"string"==typeof i?i:String(i)};return(0,n.jsx)(A,{onClick:r,recordingKey:s,showChevron:a,ariaLabel:c,...u,children:(0,T.ZQ)(l)?(0,n.jsx)(o,{}):(0,n.jsx)(S.V,{className:"plugin_relaunch_content--pluginIcon--dxgZD plugin--pluginIconBase--yAG5F",plugin:l,alt:l.name})})}function U({children:e}){return(0,n.jsx)("div",{className:"plugin_relaunch_content--flexColumn--3aDVl",children:e})}function F(e){let{relaunchData:t}=e,i=e=>parseInt(e||"0");return(0,n.jsx)(k.Fn,{onChange:n=>{let r=t[i(n)];r&&e.onSelect(r)},value:null,renderOption:({value:e,onClick:r})=>{let a=t[i(e)];if(!a)return null;let o=a.relaunchButton.name.length>34||"string"==typeof a.relaunchButton.description&&a.relaunchButton.description.length>34,d=(0,l.Pt)("relaunchMenuSelectorOption",a.pluginTypeAndID,a.relaunchButton.command);return(0,n.jsx)("div",{"data-tooltip":w,"data-tooltip-type":a.relaunchButton.name&&o?E.Ib.SPECIAL:void 0,"data-tooltip-show-right":!0,"data-tooltip-name":a.relaunchButton.name,"data-tooltip-description":a.relaunchButton.description,children:(0,n.jsx)("div",{className:"plugin_relaunch_content--menuItem--fZT86",children:(0,n.jsxs)(s.WW,{variant:"secondary",onClick:r,recordingKey:d,children:[(0,n.jsx)("div",{className:"plugin_relaunch_content--name--VYXnN ellipsis--ellipsis--Tjyfa",children:a.relaunchButton.name}),a.relaunchButton.description&&(0,n.jsx)("div",{className:"plugin_relaunch_content--description--aAoGx ellipsis--ellipsis--Tjyfa",children:String(a.relaunchButton.description)})]})})},`${a.pluginTypeAndID}-${e}`)},renderButton:({onClick:e,value:r})=>{let a=t[i(r)];return a?(0,n.jsx)(P,{hasMultipleOptions:!0,onClick:e,plugin:a.plugin,recordingKey:(0,l.Pt)("relaunchMenuSelectorIconButton",a.pluginTypeAndID)}):null},options:t.map((e,t)=>`${t}`),OptionWrapper:U})}function B(){let e=(0,p.R)(e=>e.mirror.selectionProperties.pluginRelaunchData),t=(0,a.d4)(e=>e.mirror.selectionProperties.numSelected),i=(0,p.R)(e=>e.publishedPlugins),s=(0,p.R)(e=>e.localPlugins),o=(0,x.Yo)(),d=(0,g.tS)(),E=(0,r.useRef)(new j.O(u.A.duration(1,"day"))),S=(0,_.V2)(),w=(0,a.wA)(),I=e=>w(m.af({id:e,resourceType:i[e]?.is_widget?v.bD.WIDGET:v.bD.PLUGIN})),L=(0,b.vA)(e,i,s,o,t||0,(e,t)=>E.current.debounceRefresh(e,()=>I(e),t),T.FW.FIGJAM),N=c()(L,e=>e.pluginTypeAndID),A=e=>{var t,i;if(!d)return;if(!S){y.R.instance.handleUpgrade(f.Q7.RUN_WIDGET);return}t=(0,h.t)("whiteboard.inline_menu.relaunching_plugin",{commandName:e.relaunchButton.name}),i="figjam-plugin-relaunched",R.D.dispatch(M.F.enqueue({message:t,type:i,icon:D.zX.CHECK,timeoutOverride:3e3}));let{canRun:n}=(0,b.JT)({plugin:e.plugin,editorType:C.nT.Whiteboard});n&&y.R.instance.enqueue({mode:"run-forever",runPluginArgs:{plugin:e.plugin,openFileKey:d||"",command:e.relaunchButton.command,queryMode:!1,runMode:"default",triggeredFrom:"relaunch",ignoreForRunLastPlugin:!0,isWidget:!1}})};return 0===L.length?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O.wv,{}),Object.values(N).map(e=>{if(!e||!e[0])return;let t=e[0],i=`relaunch-button-${t.pluginTypeAndID}-${e.length}`;return 1===e.length?(0,n.jsx)(P,{tooltipName:t.relaunchButton.name,tooltipDescription:t.relaunchButton.description,plugin:t.plugin,onClick:()=>A(t),recordingKey:(0,l.Pt)("relaunchIconButton",t.pluginTypeAndID,t.relaunchButton.command)},i):(0,n.jsx)(F,{relaunchData:e,onSelect:A},i)})]})}},846715:(e,t,i)=>{i.r(t),i.d(t,{DelightfulToolbarWithErrorBoundary:()=>tL});var n=i(486106),r=i(7378),a=i(514228),s=i(934246),o=i(343967),l=i(763686),d=i(27355),c=i(536384),u=i.n(c),p=i(783094),h=i(708845),m=i(745972),f=i(778880),x=i(776368),_=i(751457),g=i(303541),b=i(8833),j=i(831799),y=i(644079),v=i(290668),C=i(120210),T=i(486443),E=i(722362),S=i(546509),w=i(516028),I=i(191312),L=i(680166),N=i(192333),A=i(859828),O=i(634656),k=i(435916),R=i(757252),M=i(822177),D=i(300024),P=i(634288),U=i(405130),F=i(510768),B=i(461518),H=i(391708),V=i(849005),G=i(27927),W=i(751648),K=i(521428),z=i(948337),Z=i(589278),$=i(156213),Y=i(15667),q=i(904757),X=i(544744),J=i(505291);function Q(e){let t=(0,a.wA)(),[i,s]=(0,r.useState)(!0),o=(0,w.tS)(),l=(0,X.FL)(),{getPlanAndPlanUser:d,getIsEligibleForProvisionalAccess:c}=(0,L.wH)(),{plan:u,planUser:p}=d(I.G_.WHITEBOARD);if(!i)return null;let h=e.shouldShowCurf?(0,n.jsx)(K.$n,{variant:"primary",onClick:()=>{if(!p||!u)return;let e=I.G_.WHITEBOARD;t($.to({type:q.HY,data:{planParentId:u.key.parentId,planTier:u.tier,planType:u.key.type,planUserPermission:p.permission,licenseType:e,fileKey:o??"",entryPoint:Y.PE.CurfProvisionalAccessBanner,getIsEligibleForProvisionalAccess:c},showModalsBeneath:!0}))},children:(0,g.t)("fullscreen.toolbar_banner.provisional_access.curf.cta")}):void 0;return(0,n.jsx)(J.p,{leftContent:{icon:(0,n.jsx)(z.a,{})},content:(0,n.jsx)("div",{children:(0,n.jsx)("span",{className:Z.s.textBodyLargeStrong.$,children:e.text})}),trackingContext:"Provisional Access DLT Banner",isFloatingBanner:!0,shouldHide:l,onClose:()=>{s(!1)},rightContent:h,bannerType:"provisional_access"})}var ee=i(220026),et=i(355181),ei=i(370443),en=i(622574),er=i(106207),ea=i(862883),es=i(869006);let eo=(0,r.memo)(function(){let e=(0,E.aV)(),t=(0,en.kD)(),i=(0,er.b4)(),r=(0,w.q5)();if(!(0,en.tS)()||e)return null;let a={icon:(0,n.jsx)(ee.Q,{})},s=t?.publishedByUser?.handle?(0,n.jsx)("div",{children:(0,g.tx)("whiteboard.delightful_toolbar.custom_template_banner.youre_viewing_a_team_template",{userName:(0,n.jsx)("b",{children:t?.publishedByUser.handle})})}):(0,g.tx)("whiteboard.delightful_toolbar.custom_template_banner.youre_viewing_a_template");return(0,n.jsx)(J.p,{leftContent:a,content:s,rightContent:(0,n.jsx)(el,{onCopyClick:()=>{t&&r&&i({templateIdentifier:{type:ea.vt.TeamTemplate,file_key:t.fileKey},templateName:t.name})}}),trackingContext:"Custom Template Notice DLT Banner"})});function el(e){return(0,n.jsxs)("div",{className:Z.s.flex.gap8.itemsCenter.mr6.$,children:[(0,n.jsx)(es.RJ,{viewOnly:!0,variant:"brand-secondary"}),(0,n.jsx)(et.V,{onClick:e.onCopyClick,variant:"primary",trackingProperties:{trackingDescriptor:ei.c.USE_IN_NEW_FILE},children:(0,g.tx)("whiteboard.delightful_toolbar.custom_template_banner.new_file_button")})]})}var ed=i(410717),ec=i(797478),eu=i(129884),ep=i(57e3),eh=i(630194),em=i(552397),ef=i(801324),ex=i(900567),e_=i(731560);let eg="select-and-hand",eb={offsetX:-8,offsetY:0};function ej(){let e=(0,a.d4)(e=>e.mirror.appModel.currentTool===l.NLJ.SELECT),t=(0,C.LR)(),i=r.useCallback(()=>{t(!1),l.glU?.triggerActionInUserEditScope("set-tool-default-figjam",{source:D.fK})},[t]);return(0,n.jsx)(em.I,{ButtonLayout:ex.Z,className:e_.Lt,"data-tooltip":"set-tool-default-desc-figjam","data-tooltip-type":eu.Ib.LOOKUP,hasOpenSubmenu:!1,isEnabledForViewers:!0,isSelected:e,onClick:i,recordingKey:(0,eh.hx)("select"),toolType:"select",tooltipLocation:"left",tooltipOffset:eb,children:(0,n.jsx)(ef.wB,{})})}function ey(){let e=(0,a.d4)(e=>e.mirror.appModel.currentTool===l.NLJ.HAND),t=(0,C.LR)(),i=r.useCallback(()=>{t(!1),l.glU?.triggerActionInUserEditScope("set-tool-hand",{source:D.fK})},[t]);return(0,n.jsx)(em.I,{ButtonLayout:ex.Z,className:e_.sD,"data-tooltip":"set-tool-hand","data-tooltip-type":eu.Ib.LOOKUP,hasOpenSubmenu:!1,isEnabledForViewers:!0,isSelected:e,onClick:i,onboardingKey:ep.N,recordingKey:(0,eh.hx)("hand"),toolType:"hand",tooltipLocation:"left",tooltipOffset:eb,children:(0,n.jsx)(ef.jN,{})})}function ev(){return(0,n.jsxs)("div",{className:e_.fp,"data-element-target":eg,children:[(0,n.jsx)(ej,{}),(0,n.jsx)(ey,{})]})}var eC=i(391056),eT=i(897148),eE=i(366068);let eS=(0,r.memo)(function(e){let{dltRef:t}=e,i=(0,E.aV)(),[a,s]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=t.current;if(!e)return;let i=e=>{(0,ec.n3)(e.target,(0,ec.Tc)(eg))||s(!0)};return e.addEventListener("click",i),()=>e.removeEventListener("click",i)},[t]);let o=(0,r.useMemo)(()=>({icon:(0,n.jsx)(ed._,{}),text:(0,g.t)("whiteboard.delightful_toolbar.view_only")}),[]),l=(0,r.useMemo)(()=>(0,g.tx)("whiteboard.delightful_toolbar.version_history_banner_text",{selectIcon:(0,n.jsx)(eC.kf,{icon:eE.A}),handIcon:(0,n.jsx)(eC.kf,{icon:eT.A})}),[]);return i||!a?null:(0,n.jsx)(J.p,{leftContent:o,content:l,trackingContext:"Version history DLT Banner",onClose:()=>s(!1)})});var ew=i(941192),eI=i(403368),eL=i(287368),eN=i(580087);let eA=(0,r.memo)(function(e){let{dltRef:t}=e,i=(0,E.aV)(),[a,s]=(0,r.useState)(!0),o=(0,eL.N)()===eL.Q.REQUEST_NEEDED;(0,r.useEffect)(()=>{let e=t.current;if(!e||o)return;let i=e=>{(0,ec.n3)(e.target,(0,ec.Tc)(eg))||s(!0)};return e.addEventListener("click",i),()=>e.removeEventListener("click",i)},[t,o]);let l=(0,r.useMemo)(()=>o?{icon:(0,n.jsx)(ed._,{})}:{icon:(0,n.jsx)(ed._,{}),text:(0,g.t)("whiteboard.delightful_toolbar.view_only")},[o]),[d,c,u]=function(e){let[t,i]=(0,r.useState)(!1),[n,a]=(0,r.useState)(!1),[s,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{if(!e)return;let t=setTimeout(()=>{i(!0),setTimeout(()=>i(!1),200)},1e3),n=setTimeout(()=>{a(!0),setTimeout(()=>a(!1),200)},1100),r=setTimeout(()=>{o(!0),setTimeout(()=>o(!1),200)},1200);return()=>{clearTimeout(t),clearTimeout(n),clearTimeout(r)}},[e]),[t,n,s]}(a),p=(0,eI.S)(),h=!!w.q5()?.org?.figjamDisabledAt,m=(0,r.useMemo)(()=>p&&h?(0,g.tx)("whiteboard.delightful_toolbar.view_only_banner_text_figjam_disabled_by_org_no_chat",{commentKey:(0,n.jsx)(eN.uk,{isPressed:d}),emoteKey:(0,n.jsx)(eN.VQ,{isPressed:c})}):p?o?(0,g.tx)("whiteboard.delightful_toolbar.view_only_banner_text_no_chat_in_exp",{commentKey:(0,n.jsx)(eN.uk,{isPressed:d}),emoteKey:(0,n.jsx)(eN.VQ,{isPressed:c})}):(0,g.tx)("whiteboard.delightful_toolbar.view_only_banner_text_no_chat",{commentKey:(0,n.jsx)(eN.uk,{isPressed:d}),emoteKey:(0,n.jsx)(eN.VQ,{isPressed:c})}):h?(0,g.tx)("whiteboard.delightful_toolbar.view_only_banner_text_figjam_disabled_by_org",{commentKey:(0,n.jsx)(eN.uk,{isPressed:d}),chatKey:(0,n.jsx)(eN.fn,{isPressed:c}),emoteKey:(0,n.jsx)(eN.VQ,{isPressed:u})}):o?(0,g.tx)("whiteboard.delightful_toolbar.view_only_banner_text_in_exp",{commentKey:(0,n.jsx)(eN.uk,{isPressed:d}),chatKey:(0,n.jsx)(eN.fn,{isPressed:c}),emoteKey:(0,n.jsx)(eN.VQ,{isPressed:u})}):(0,g.tx)("whiteboard.delightful_toolbar.view_only_banner_text",{commentKey:(0,n.jsx)(eN.uk,{isPressed:d}),chatKey:(0,n.jsx)(eN.fn,{isPressed:c}),emoteKey:(0,n.jsx)(eN.VQ,{isPressed:u})}),[p,h,d,c,u,o]),f=(0,r.useMemo)(()=>(0,n.jsx)("div",{style:ew.sx.add({margin:"0 5px"}).$,children:(0,n.jsx)(es.RJ,{viewOnly:!0,variant:"primary",recordingKey:"dltBannerViewPermission",hideViewOnlyText:!0})}),[]);if(i||!a)return null;let x=o?()=>{s(!1),e.onClose&&e.onClose(!0)}:void 0;return(0,n.jsx)(J.p,{leftContent:l,content:m,rightContent:f,trackingContext:"View-only DLT Banner",onClose:x,isFloatingBanner:o})});var eO=i(526509),ek=i(274383),eR=i(861323),eM=i(7677),eD=i(532797),eP=i(668312),eU=i(809171),eF=i(806412),eB=i(832508),eH=i(47967),eV=i(176280),eG=i(95367),eW=i(48566),eK=i(370763),ez=i(241541),eZ=i(101956),e$=i(433401),eY=i(927391);function eq(){let e=(0,E.aV)(),t=(0,d.md)(eZ.wg),[i,a]=(0,d.fp)(M.gT),s=(0,eL.N)();return(r.useEffect(()=>{!e&&i&&(t||s===eL.Q.NO_REQUEST_NEEDED)&&a(!1)},[e,t,s,i,a]),e||t||s===eL.Q.DATA_LOADING)?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)("div",{className:i?e_.qG:e_.Xn,children:(0,n.jsx)(eG.XS,{"data-onboarding-key":e$.aE,children:(0,n.jsx)(eG.Iy,{children:(0,n.jsx)(eW.kF,{editorTheme:"whiteboard",children:(0,n.jsx)(eX,{})})})})})}function eX(){let e=(0,eY.a)(),{activeToolId:t,activateTool:i,topLevelMode:r,editModeType:a}=(0,ez.rM)(eK.lW),s=r===l.lyf.HISTORY,o=(0,eK.uh)(),d=(0,eH.z)(a);return(0,n.jsxs)(n.Fragment,{children:[d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eV.N,{toolId:l.NLJ.SELECT,icon:(0,n.jsx)(eM.H,{}),onActivateTool:i,activeToolId:t,tooltipText:(0,g.t)("fullscreen_actions.set-tool-default"),tooltipShortcut:o(l.NLJ.SELECT)}),(0,n.jsx)(eV.N,{toolId:l.NLJ.HAND,icon:(0,n.jsx)(eD.t,{}),onActivateTool:i,activeToolId:t,tooltipText:(0,g.t)("fullscreen_actions.set-tool-hand"),tooltipShortcut:o(l.NLJ.HAND)})]}),!s&&(0,n.jsx)(eV.N,{toolId:l.NLJ.COMMENTS,icon:e>0?(0,n.jsx)(eP.X,{}):(0,n.jsx)(eU.f,{}),onActivateTool:i,activeToolId:t,recordingKey:eF.Pt("toolbarView","toolComment"),tooltipText:(0,g.t)("fullscreen_actions.comment"),tooltipShortcut:o(l.NLJ.COMMENTS)}),(0,n.jsx)(eB.F,{})]})}var eJ=i(125333),eQ=i(989956),e0=i(671837),e1=i(866915),e2=i(30255),e3=i(937735),e5=i(397954),e6=i(955650),e4=i(109163);let e9=r.memo(function({optimizeForCompactSize:e}){let[t,i]=(0,d.fp)(eO.oh),a=(0,C.LR)(),s=(0,e6.bu)(),o=(0,e6.ri)(),c=(0,e6.s3)(),p=(0,d.md)(e5.B),h=c&&p===l.cxo.PENCIL_TOOL,m=s||h,[f,x]=r.useState(!1),{paints:_}=(0,d.md)(eJ.GI),[g,b]=r.useState(l.NLJ.VECTOR_PENCIL),[,j]=r.useState(l.NLJ.VECTOR_PENCIL),y=g===l.NLJ.VECTOR_PENCIL?"set-tool-pencil":g===l.NLJ.HIGHLIGHTER?"set-tool-highlighter":g===l.NLJ.ERASER?"set-tool-eraser":g===l.NLJ.WASHI_TAPE?"set-tool-washi-tape":"";r.useEffect(()=>{o&&o!==g&&(j(g),b(o))},[o,g,b,j]);let v=r.useCallback(()=>{a(!1),s?l.glU?.triggerActionInUserEditScope("set-tool-default",{source:D.fK}):(l.glU?.triggerActionInUserEditScope(y,{source:D.fK}),i({type:"open",tool:"pencil"}))},[i,s,y,a]),{isHovered:T,onMouseEnter:E,onMouseMove:S,onMouseLeave:w,onTouchStart:I,onTouchEnd:L}=(0,e1.W)(v,!1,!1),N="set-tool-pencil"===y?"set-tool-marker":y,A=eQ.F.format(_?.[0]?.color),O=(0,n.jsx)(e0.eq,{action:y}),k=(0,eh.hx)("pencil"),R=(0,X.hv)();return(0,n.jsxs)(e3.XN,{alignment:"LEFT",onMouseEnter:()=>{"open"===t.state&&"pencil"===t.tool||R||x(!0)},onMouseLeave:()=>{x(!1)},children:[(0,n.jsx)(e3.ti,{isSelected:T||m,explicitWidth:e0.bm,shouldCenterContent:!0,noScaleAnimation:!0,children:(0,n.jsx)(em.J,{className:e_.wz,"data-tooltip":N,"data-tooltip-type":eu.Ib.LOOKUP,hasOpenSubmenu:m,isHovered:T,isSelected:m,onClick:v,onMouseEnter:E,onMouseLeave:w,onMouseMove:S,onTouchEnd:L,onTouchStart:I,recordingKey:k,toolType:"pencil",tooltipOffset:{offsetX:void 0,offsetY:m?-4:-22},children:(0,n.jsxs)("div",{className:e_.EY,children:[(0,n.jsx)("div",{className:u()(e_.cd,{[e_.Mg]:m}),children:(0,n.jsx)(e0.vp,{action:y})}),(0,n.jsx)(e2.s,{toolType:"pencil",color:A,isSelected:m,onTap:v,IconNoRef:O,canvasToSvgScale:1,isHovered:T||f,hoverOffsetAmount:"DRAWING"})]})})}),(0,n.jsx)(e3.Qw,{isOpen:m,overflowChildren:!0,children:(0,n.jsx)(e4.i,{tool:g,isOpen:m,recordingKey:eh.aQ,optimizeForCompactSize:e})})]})});var e8=i(446151),e7=i(189185),te=i(153399),tt=i(545760),ti=i(575478),tn=i(932270),tr=i(601108),ta=i(191804),ts=i(616107),to=i(967873),tl=i(666387),td=i(650460),tc=i(177090);function tu({recordingKey:e,isOpen:t}){let[i,a]=(0,d.fp)(eJ.qL),[s,o]=r.useState(!1),{openColorPalettePicker:c,closeColorPalettePicker:u}=(0,O.$J)(o),p=eQ.F.format(i);r.useEffect(()=>{u()},[t,u]);let h=e=>{a(e),l.glU?.triggerActionInUserEditScope("set-tool-sticky",{source:D.fK})},m=e=>{h(e),tp()},f=(0,O.Z9)(),x=f.type===ts.Yv.CUSTOM,_=(0,te.TS)("sticky"),b=x?f.variations.sticky:_,j=(0,d.md)(to.Qv),y=!!j;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(e3.br,{shouldVerticallyCenter:!0,paddingRight:8,paddingLeft:8,children:[(0,n.jsx)(tc.V,{loadingPaletteCircleCount:j}),!y&&((0,tr.k)().figjam_fpl_dlt_sticky_submenu?(0,n.jsx)(ti.bL,{onChange:e=>{let t=(0,ta.H0)(e);t&&(h(t),tp())},legend:(0,n.jsx)(tn.q,{children:(0,g.tx)("whiteboard.stickies.color_selector.legend")}),children:(0,n.jsx)("div",{className:e_.Bp,children:b.map((t,i)=>{let r=eQ.F.format(t),a=x?(0,te.AF)(i,"sticky"):(0,te.V_)(t,"sticky");return(0,n.jsx)(td.kk,{size:"medium",value:t,selectionState:r===p?"selected":"unselected",paletteType:"sticky",background:"light",tooltip:a,recordingKey:eF.Pt(e,a)},eQ.F.format(t)+"-"+i)})})}):b.map((t,i)=>{let r=eQ.F.format(t),a=x?(0,te.AF)(i,"sticky"):(0,te.V_)(t,"sticky");return(0,n.jsx)(td.cd,{size:"medium",value:t,selectionState:r===p?"selected":"unselected",paletteType:"sticky",background:"light",onClick:()=>m(t),tooltip:a,recordingKey:eF.Pt(e,a)},eQ.F.format(t)+"-"+i)})),(0,n.jsx)(tl.s,{colorPalettePickerState:{openColorPalettePicker:c,closeColorPalettePicker:u,isColorPalettePickerOpen:s},paletteType:"sticky",recordingKey:eF.Pt(e||"color-palettes","sticky")||"sticky",disabled:y,isInDltSubmenu:!0})]})})}let tp=()=>{let e={duration:800,easing:"ease-out"},t={transform:"rotate(0) translate(0, 0)"},i=[t,{transform:"translate(32px, 32px) rotate(5deg) translate(0, -8px) translate(-32px, -32px)",offset:.1},{transform:"translate(32px, 32px) rotate(5deg) translate(0, -10px) translate(-32px, -32px)",offset:.35},t,{transform:"translate(-32px, 32px) rotate(-3deg) translate(32px, -32px) "},t,{transform:"translate(32px, 32px) rotate(1deg) translate(-32px, -32px) "},t];[e_.eB,e_.gz,e_.Sk].forEach((t,n)=>{document.getElementsByClassName(t)[0].parentElement?.animate(i,{...e,...{delay:70*n}})})};function th({toolbarIconScale:e}){let t=(0,e6.bu)(),i=(0,e6.sT)(),a=(0,d.md)(eJ.qL),s=(0,E.aV)(),[o,c]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1),[m,f]=(0,r.useState)(tt.k.DEFAULT),x=240/ef.rX,_=(0,te.zS)(a,"sticky"),g=eQ.F.format(a),b=s||!_?"rgba(230, 230, 230, 1)":(0,te.MV)(_,g),{state:j}=(0,r.useContext)(ek.nS),[y,v]=(0,d.fp)(eO.oh),T=(0,C.LR)(),S=(0,r.useCallback)(()=>{T(!1),i?l.glU?.triggerActionInUserEditScope("set-tool-default",{source:D.fK}):(l.glU?.triggerActionInUserEditScope("set-tool-sticky",{source:D.fK}),v({type:"open",tool:"sticky"}))},[v,i,T]),w=i||t||"open"===y.state&&"shape"===y.tool,{isHovered:I,onMouseEnter:L,onMouseMove:N,onMouseLeave:A,onTouchStart:O,onTouchEnd:k}=(0,e1.W)(S,w,!1),R=(0,r.useCallback)((e,t)=>{e7.l7.user("drop-sticky-on-canvas",()=>l.glU?.dropDiagramItemOntoCanvas(l.NLJ.STICKY,Math.round(e.x),Math.round(e.y),Math.round(t.x),Math.round(t.y),l.V5h.TOP_LEFT,l.VTL.NO)),c(!1),h(!1),f(tt.k.DEFAULT)},[]),M=(0,r.useCallback)(()=>{c(!0),m===tt.k.DEFAULT&&f(tt.k.INITIAL_DRAG_ON_DLT)},[]);(0,r.useEffect)(()=>{if("sticky"===j.draggedTool){let e=!j.draggedToolCanCancel;m===tt.k.INITIAL_DRAG_ON_DLT?e&&f(tt.k.DRAG_ON_CANVAS):m===tt.k.DRAG_ON_CANVAS?e||f(tt.k.DRAG_RETURN_TO_DLT):m===tt.k.DRAG_RETURN_TO_DLT&&e&&f(tt.k.DRAG_ON_CANVAS)}else j.draggedTool||f(tt.k.DEFAULT)},[j,o,f,m]);let P=ef.UJ,U=(0,r.useRef)(null);return(0,n.jsxs)(e3.XN,{alignment:"CENTER",innerRef:U,children:[(0,n.jsx)(e3.ti,{isSelected:I||i,noScaleAnimation:!0,children:(0,n.jsx)(em.J,{className:e_.qf,"data-tooltip":"set-tool-sticky","data-tooltip-type":eu.Ib.LOOKUP,hasOpenSubmenu:i,isHovered:I,isSelected:i,onClick:S,onMouseEnter:L,onMouseLeave:A,onMouseMove:N,onTouchEnd:k,onTouchStart:O,onboardingKey:D.s2,recordingKey:(0,eh.hx)("sticky"),toolType:"sticky",tooltipOffset:{offsetY:-26,offsetX:10},children:(0,n.jsxs)("div",{className:u()(e_.z6,e_.ac),children:[(0,n.jsx)(e2.s,{Icon:P,canvasToSvgScale:x,color:b,hoverOffsetAmount:"STICKY",isDragReversing:p,isHovered:I,isSelected:i,onDragEnd:R,onDragStart:M,onTap:S,stickyAnimationState:m,toolType:"sticky",toolbarIconScale:e}),(0,n.jsx)(P,{toolOrder:2,color:b,toolbarIconScale:e,shouldAnimate:o,isReversing:p,stickyAnimationState:m}),(0,n.jsx)(P,{toolOrder:3,color:b,toolbarIconScale:e,shouldAnimate:o,isReversing:p,stickyAnimationState:m}),(0,n.jsx)(P,{toolOrder:4,color:b,toolbarIconScale:e,shouldAnimate:o,isReversing:p,stickyAnimationState:m})]})})}),(0,n.jsx)(e3.Qw,{isOpen:i,fadedOut:I,children:(0,n.jsx)(tu,{isOpen:i,recordingKey:(0,eh.hx)("stickySubmenu")})})]})}var tm=i(465776),tf=i(67768),tx=i(523222),t_=i(641273);let tg=r.memo(function(){let e=(0,T.XM)(),t=(0,d.md)(eO.c5),i=(0,d.Xr)(tf.n6),a=(0,tx.f7)();(0,tm.KF)(void 0!==t,"There should be at least one collapsedStage threshold width less than our current container width.");let s=a.slice(0,t.numPrimaryTools),o=e&&void 0===s.find(e=>"stamp"===e.toolType);return r.useEffect(()=>{i(void 0!==s.find(e=>"quick-actions-v2"===e.toolType))},[i,s]),(0,n.jsx)(n.Fragment,{children:(t.numPrimaryTools>0||o)&&(0,n.jsxs)("div",{className:e_.r6,children:[s.map(({Component:e,toolType:t})=>(0,n.jsx)(e,{},t)),o&&(0,n.jsx)(t_.s,{},"stamp")]})})});var tb=i(355754);function tj({isDisabled:e}){let t=(0,tb.xI)();return(0,n.jsx)(em.I,{ButtonLayout:ex.Z,className:e_.dk,"data-tooltip":"straight-line","data-tooltip-type":eu.Ib.LOOKUP,hasOpenSubmenu:!1,isDisabled:e,isSelected:t,onClick:()=>{l.glU?.triggerActionInUserEditScope("toggle-straight-pencil",{source:D.fK})},recordingKey:(0,eh.hx)("straight-line"),testId:"delightful-toolbar-straight-line",toolType:"pencil",tooltipLocation:"left",children:(0,n.jsx)(ef.OS,{})})}var ty=i(455680),tv=i(357047);function tC(){let e=(0,a.d4)(e=>(0,tv.Yh)(e.mirror.appModel,"undo"));return(0,n.jsx)(em.I,{ButtonLayout:ex.Z,className:e_.tN,"data-tooltip":"undo","data-tooltip-type":eu.Ib.LOOKUP,hasOpenSubmenu:!1,isDisabled:!e,isSelected:!1,onClick:()=>{ty.Y5.triggerActionInUserEditScope("undo",{source:D.fK})},recordingKey:(0,eh.hx)("undo"),testId:"delightful-toolbar-undo",toolType:"undo",tooltipLocation:"left",children:(0,n.jsx)(ef.ej,{})})}function tT(){let e=(0,a.d4)(e=>(0,tv.Yh)(e.mirror.appModel,"redo"));return(0,n.jsx)(em.I,{ButtonLayout:ex.Z,className:e_.ZS,"data-tooltip":"redo","data-tooltip-type":eu.Ib.LOOKUP,hasOpenSubmenu:!1,isDisabled:!e,isSelected:!1,onClick:()=>{ty.Y5.triggerActionInUserEditScope("redo",{source:D.fK})},recordingKey:(0,eh.hx)("redo"),testId:"delightful-toolbar-redo",toolType:"redo",tooltipLocation:"left",children:(0,n.jsx)(ef.Uf,{})})}function tE(){return(0,n.jsxs)("div",{className:e_.fp,children:[(0,n.jsx)(tC,{}),(0,n.jsx)(tT,{})]})}var tS=i(27776);let tw=r.memo(function(){let e=(0,a.d4)(e=>e.universalInsertModal.pinned),t=(0,w.q5)(),i=t?.votingSessions,[c,_]=r.useState("PRE"),I=r.useRef(null),L=(0,h.wY)(I),[k,F]=(0,d.fp)(eO.c5),B=(0,T.XM)(),[H,V]=(0,d.fp)(M.gT),[K,z]=(0,d.fp)(eO.oh);(0,U.m)(M.gT),r.useEffect(()=>{F((0,tx.az)(B).find(e=>L?L.width>=e.thresholdWidth:0>=e.thresholdWidth))},[L,F,B]),"PRE"===c&&L&&_("ANIMATING"),r.useEffect(()=>{if("ANIMATING"===c){let e=setTimeout(()=>_("POST"),eh.YB);return()=>clearTimeout(e)}},[c,_]),(0,O.qv)();let Z={marginBottom:(0,y.xn)(),marginLeft:0,marginRight:0};window.innerWidth<(0,p.hG)(tS.ejp)&&window.innerWidth>(0,p.hG)(tS.nnJ)&&e===N.t.PINNED_AND_DOCKED_LEFT&&(Z.marginLeft=C.gR),function(){let e=function(){let{windowInnerHeight:e}=(0,m.l)(),t=(0,W.Ao)();if(!t)return;let i=t?t.height+16:0;return{x:t.x,y:e-i,width:t.width,height:i}}();(0,x.X)(e?{id:"dlt",rect:e,direction:"up"}:void 0)}();let $=(0,eh.lq)(),[Y,q]=r.useReducer(ek.pw,ek.Wp),X=r.useMemo(()=>({state:Y,dispatch:q}),[Y,q]);(0,v.C_)(I);let J=414>=(L?.width||0),Q=(0,E.dH)(),ee=(0,a.d4)(e=>e.multiplayerEmoji.type),et=(0,R.AE)(),ei="closed"===K.state?void 0:K.tool,en=r.useRef(ei);en.current=ei;let er=(0,R.Yg)(),ea=(0,a.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);r.useEffect(()=>{Q===l.NLJ.SELECT||Q===l.NLJ.DROPPER_COLOR||(0,P.L)(Q)&&"pencil"===en.current||(0,G.qW)(Q)&&"shape"===en.current||(Q===l.NLJ.CONNECTOR_ELBOWED||Q===l.NLJ.CONNECTOR_STRAIGHT||Q===l.NLJ.CONNECTOR_CURVED)&&"shape"===en.current||Q===l.NLJ.STICKY&&"sticky"===en.current||z({type:"close",source:eO.Yg.ToolSelected}),Q===l.NLJ.SELECT&&"pencil"===en.current&&z({type:"close",source:eO.Yg.ToolSelected}),"NONE"!==ee&&z({type:"close",source:eO.Yg.ToolSelected}),!(0,G.qW)(Q)&&Q!==l.NLJ.CONNECTOR_ELBOWED&&Q!==l.NLJ.CONNECTOR_STRAIGHT||er||"shape"===en.current||et||z({type:"open",tool:"shape"})},[Q,J,ee,er,K,z,et]),r.useEffect(()=>{let e=e=>{"Escape"===e.key&&ea!==l.m1T.TEXT&&z({type:"close",source:eO.Yg.KeyboardEsc})};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[ea,z]),r.useEffect(()=>{let e=e=>{!(0,P.L)(Q)&&I.current&&e.target instanceof Element&&!I.current.contains(e.target)&&z({type:"close",source:eO.Yg.ClickOut})};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[Q,z]);let es=(0,a.d4)(e=>{let t=e.mirror.appModel.currentTool;return t!==l.NLJ.VECTOR_PENCIL&&t!==l.NLJ.HIGHLIGHTER}),eo=(0,S.BI)(),el=f.Ay.isIpad||f.Ay.isMeetDevice?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:u()(e_.ph,b.Dm),children:[(0,n.jsx)("div",{className:u()(e_.s$,e_.fT,{[e_.cz]:!es}),children:(0,n.jsx)(tj,{isDisabled:es})}),eo?.shouldHideDLTUndoRedo&&!f.Ay.isMeetDevice?void 0:(0,n.jsx)("div",{className:e_.s$,children:(0,n.jsx)(tE,{})})]})}):null,ed=A.C()?.setWhiteboardToolbeltNode||s.lQ,ec=A.C()?.setWhiteboardToolbeltContainerNode||s.lQ,eu=CSS.supports&&CSS.supports("overflow","clip"),ep=(0,o.U1)(ed),em=r.useRef(null),ef=(0,n.jsx)("div",{id:D.HY,className:u()(e_.kl,{[e_.Q$]:!1}),ref:ep,role:"region","aria-label":(0,g.t)("whiteboard.delightful_toolbar.drawing_tools_label"),"data-onboarding-key":D.HY,"data-element-target":D.HY,"data-testid":D.HY,children:(0,n.jsx)("div",{className:u()(e_.o9,{[e_.ES]:eu}),children:(0,n.jsx)("div",{className:u()({[e_.Uq]:!1}),onPointerDown:e=>{},role:void 0,children:(0,n.jsxs)("div",{className:u()(e_.iU,{[e_.wF]:!1}),ref:em,children:[(0,n.jsx)(ev,{}),(0,n.jsx)(eh.cG,{className:e_.zb}),(0,n.jsxs)(eh.wn,{children:[(0,n.jsx)(e9,{optimizeForCompactSize:!!J}),(0,n.jsx)(th,{toolbarIconScale:1}),(0,n.jsx)(e8.xJ,{optimizeForCompactSize:!!J})]}),(0,n.jsx)(eh.cG,{}),(0,n.jsx)(tg,{}),(k?.numPrimaryTools!==0||B)&&(0,n.jsx)(eh.cG,{}),(0,n.jsx)(eR.q,{toolbarIconScale:1})]})})})}),ex=(0,n.jsxs)("div",{className:e_.AT,ref:ec,children:[i&&!H&&(0,n.jsx)(tI,{toolbarContainerRef:I,onCloseForViewOnlyBanner:V}),(0,n.jsx)("div",{className:H?e_.Xn:e_.qG,children:ef}),(0,n.jsx)(eq,{})]}),eg=(0,a.d4)(e=>e.showingFileFooter);return(0,n.jsx)(j.fu,{name:D.RZ,children:(0,n.jsxs)(ek.nS.Provider,{value:X,children:[el,(0,n.jsx)("div",{className:u()(e_.HG,b.Dm,{[e_.E$]:!1,[e_.Qs]:eg,[e_.i0]:"ANIMATING"===c&&!$,[e_.OA]:"POST"===c||$,[e_.z]:$}),style:Z,ref:I,onFocusCapture:()=>{I.current?.setAttribute("aria-hidden","false")},children:ex})]})})});function tI(e){let t=(0,B.w)(),i=(0,V.z)(),a=(0,H.g)(),s=(0,F.a)(),{getProvisionalAccessBanner:o}=(0,L.wH)(),l=o(I.G_.WHITEBOARD);return r.useMemo(()=>s?(0,n.jsx)(Q,{text:l?.text??"",shouldShowCurf:l?.shouldShowCurf}):t?(0,n.jsx)(eo,{}):a?(0,n.jsx)(eS,{dltRef:e.toolbarContainerRef}):i?(0,n.jsx)(eA,{dltRef:e.toolbarContainerRef,onClose:e.onCloseForViewOnlyBanner}):(0,k.O)()?(0,n.jsx)(k.X,{}):null,[t,a,i,s,l,e.toolbarContainerRef,e.onCloseForViewOnlyBanner])}function tL(){return(0,n.jsx)(_.tH,{boundaryKey:"DelightfulToolbar",fallback:_.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,n.jsx)(tw,{})})}},873436:(e,t,i)=>{i.d(t,{D8:()=>_,W2:()=>g,Zh:()=>x,sD:()=>b});var n=i(486106),r=i(7378),a=i(763686),s=i(27355),o=i(723791),l=i(303541),d=i(84367),c=i(893645),u=i(858282),p=i(195407),h=i(526509),m=i(446151),f=i(757252);let x="figjam-shapes-sidebar-onboarding-key",_="figjam-developer-shapes-onboarding-key",g="figjam-more-shapes-onboarding-key";function b({complete:e}){let[t,i]=(0,s.fp)(h.oh),b=(0,d.ut)(a.Ez5?.figjamState().isShapesSidebarOpen,!1),j=(0,o.gB)({shapesSidebarOpen:b}),[y,v]=(0,r.useState)(!1),[C,T]=(0,r.useState)(!1),E=(0,f.ke)();return r.useEffect(()=>{C&&!("open"===t.state&&"shape"===t.tool)&&e()},[j,C,e,t]),(0,n.jsx)(c.WZ,{isShowing:!0,steps:[{title:(0,l.tx)("whiteboard.ad_onboarding.shapes_sidebar.header"),description:(0,l.tx)("whiteboard.ad_onboarding.shapes_sidebar.body"),targetKey:x,trackingContextName:"AD Onboarding > Shapes Sidebar",arrowPosition:u.F_.LEFT_TITLE,whenTargetLost:"complete",highlightBlue:!0},{title:(0,l.tx)("whiteboard.ad_onboarding.developer_shapes.header"),description:(0,l.tx)("whiteboard.ad_onboarding.developer_shapes.body"),targetKey:_,trackingContextName:"AD Onboarding > Developer Shapes",arrowPosition:u.F_.LEFT_TITLE,onStepShow:()=>{y||v(!0);let e=(0,p.xT)(_);e&&e.scrollIntoView()},whenTargetLost:"complete",disableHighlight:!0},{title:(0,l.tx)("whiteboard.ad_onboarding.more_shapes_button.header"),description:(0,l.tx)("whiteboard.ad_onboarding.more_shapes_button.body"),targetKey:g,trackingContextName:"AD Onboarding > More Shapes",onStepShow:()=>{C||(E(),i({type:"open",tool:"shape"}),T(!0))},arrowPosition:u.F_.LEFT_TITLE,whenTargetLost:"complete",highlightBlue:!0}],onComplete:e,userFlagOnShow:m.c8})}},446151:(e,t,i)=>{i.d(t,{c8:()=>eb,xJ:()=>eA});var n=i(486106),r=i(7378),a=i(763686),s=i(189185),o=i(27355),l=i(536384),d=i.n(l),c=i(125333),u=i(989956),p=i(621515),h=i(579169),m=i(545877),f=i(120210),x=i(722362),_=i(268271),g=i(129884),b=i(6204),j=i(526509),y=i(630194),v=i(274383),C=i(544744),T=i(866915),E=i(944059),S=i(714743),w=i(303541),I=i(873436);let L="advanced_diagramming_onboarding--flyout--F8slx";var N=i(741686),A=i(776856),O=i(488178);function k({position:e,isHovered:t,hasProgressedToShapesSidebar:i,onboardingDelayHasCompleted:r,complete:a}){return e?i?(0,n.jsx)(I.sD,{complete:a}):(0,E.createPortal)((0,n.jsxs)("div",{className:d()({"advanced_diagramming_onboarding--onboardingContainer--V1w0u":!0,"advanced_diagramming_onboarding--onboardingHovered--JCcLA":t}),style:{top:e.top,left:e.left,height:e.height,width:e.width},children:[(0,n.jsx)(M,{}),(0,n.jsx)(R,{text:(0,w.t)("whiteboard.ad_onboarding.onboarding_entry_pill_content"),isShowing:r})]}),document.getElementById("fullscreen-root")):null}function R({text:e,isShowing:t}){return(0,n.jsx)("div",{className:d()({"advanced_diagramming_onboarding--labelContainer--MO7wT":!0,"advanced_diagramming_onboarding--labelContainerShowing--LmY-g":t}),children:(0,n.jsx)("span",{className:"advanced_diagramming_onboarding--label--4Ti9J text--fontPos11--2LvXf text--_fontBase--QdLsd",children:e})})}function M(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:d()("advanced_diagramming_onboarding--flyoutLeft--d-idk",L),children:(0,n.jsx)(S.B,{svg:O.A,style:{fill:"#FFFFFF",stroke:"#B6B6B6"}})}),(0,n.jsx)("div",{className:d()("advanced_diagramming_onboarding--flyoutRight--RmOg2",L),children:(0,n.jsx)(S.B,{svg:N.A,style:{fill:"#FFFFFF",stroke:"#B6B6B6"}})}),(0,n.jsx)("div",{className:d()("advanced_diagramming_onboarding--flyoutCenter--xXW1g",L),children:(0,n.jsx)(S.B,{svg:A.A,style:{fill:"#FFFFFF",stroke:"#B6B6B6"}})})]})}var D=i(30255),P=i(514228),U=i(632989),F=i(601108),B=i(456530),H=i(348225),V=i(806412),G=i(589278),W=i(765855),K=i(62612),z=i(634656),Z=i(666387),$=i(937735),Y=i(397954),q=i(955650),X=i(932285),J=i(439493),Q=i(351862),ee=i(365876),et=i(300024),ei=i(47958),en=i(27927),er=i(592383),ea=i(731560);let es="dlt_shape_submenu--isSelected--isSGg";var eo=i(702627),el=i(527157),ed=i(178500);let ec=r.memo(function({recordingKey:e}){let t=(0,q.OD)(),i=(0,q.AT)(),s=(0,q.R0)(),l=(0,o.md)(c.ez),[d,p]=(0,o.fp)(c.SK),h=(0,o.md)(c.U9),m=(0,o.md)(j.oh),f="open"===m.state&&"shape"===m.tool,x=r.useCallback(e=>{let t=en.Jc.get(e);if(!t)return;let{actionEnum:i}=(0,en.Qd)().get(t);a.glU?.triggerActionEnumInUserEditScope(i,{source:et.fK})},[]),_=(0,er.Su)(et.fK),g=r.useCallback(e=>{("CURVED"!==e||(0,F.k)().ad_curved_connectors)&&(p({...d,connectorToolLineStyle:e}),a.glU?.triggerActionEnumInUserEditScope(Q.tl(e),{source:et.fK}))},[p,d]),b=u.F.format(l),[y,v]=r.useState(!1),{openColorPalettePicker:C,closeColorPalettePicker:T}=(0,z.$J)(v),[E,S]=r.useState(!1);!function({isShapeMenuColorPickerOpen:e}){let t=function(e){let t=(0,o.md)(Y.B),i=(0,q.Yt)(),n=(0,q.s3)()&&t===a.cxo.SHAPE_TOOL;return null!==i||n||e}(e),[i,n]=(0,o.fp)(Y.B),s=a.cxo.SHAPE_TOOL;r.useEffect(()=>{t&&i!==s?n(s):t||i!==s||n(Y.y)},[t,s,i,n]),r.useEffect(()=>()=>{i===s&&n(Y.y)},[i,n,s])}({isShapeMenuColorPickerOpen:E});let L=(0,ee.C)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)($.br,{paddingLeft:4,paddingRight:5,shouldVerticallyCenter:!0,children:[(0,n.jsx)(J.K0,{svg:el.A,tooltip:(0,w.t)("whiteboard.shapes_sidebar.bent_connector"),onClick:()=>g("ELBOWED"),active:t?"LOUD":"NONE",isNewSubmenu:!0,buttonStyle:{borderRadius:"12px 4px 4px 4px"},recordingKey:V.Pt(e,"ELBOWED")},"ELBOWED"),(0,F.k)().ad_curved_connectors&&(0,n.jsx)(J.K0,{svg:eo.A,tooltip:(0,w.t)("whiteboard.shapes_sidebar.curved_connector"),onClick:()=>g("CURVED"),active:s?"LOUD":"NONE",isNewSubmenu:!0,buttonStyle:{borderRadius:"4px",marginRight:"2px"},recordingKey:V.Pt(e,"CURVED")},"CURVED"),(0,n.jsx)(J.K0,{svg:ed.A,tooltip:(0,w.t)("whiteboard.delightful_toolbar.connector"),onClick:()=>g("STRAIGHT"),active:i?"LOUD":"NONE",isNewSubmenu:!0,buttonStyle:{borderRadius:"4px",marginRight:"2px"},recordingKey:V.Pt(e,"STRAIGHT")},"STRAIGHT"),(0,n.jsx)(X.ZE,{ariaLabel:(0,w.t)("whiteboard.inline_menu.color_list_box"),buttonBackground:"light",buttonCaretType:"up",buttonClassName:"dlt_shape_submenu--shapeColorSelectorButton--YekZF",buttonSize:"medium",isColorPopoverOpen:E,onColorChange:_,optionSize:"medium",palettePickerPopoverWrapper:function({children:t}){return(0,n.jsxs)(J.W1,{children:[(0,n.jsx)("div",{className:"dlt_shape_submenu--flexColumn--hCUzZ",children:t}),(0,n.jsx)(Z.s,{colorPalettePickerState:{openColorPalettePicker:C,closeColorPalettePicker:T,isColorPalettePickerOpen:y},paletteType:"base",recordingKey:V.Pt(e||"color-palettes","shape")||"shape",isInDltSubmenu:!1})]})},paletteType:"base",recordingKey:V.Pt(e,`shape-color-${b}`),setIsColorPopoverOpen:S,shouldDisableDataTooltip:!f,value:l})]}),(0,n.jsx)($.XI,{}),(0,n.jsx)($.br,{paddingLeft:8,paddingRight:4,shouldVerticallyCenter:!0,children:(0,n.jsx)(eu,{shapeColor:l,strokeStyleType:h,onChange:x,recordingKey:e})}),(()=>{let t="MINDMAP_TREE_NUCLEUS";return(0,n.jsx)($.br,{paddingLeft:4,paddingRight:4,shouldVerticallyCenter:!0,children:(0,n.jsx)(ep,{shapeType:t,color:l,strokeStyleType:h,onChange:x,recordingKey:V.Pt(e,t),isTopRight:!1},t)})})(),(0,n.jsx)($.XI,{}),(0,n.jsx)($.br,{paddingLeft:8,paddingRight:4,shouldVerticallyCenter:!0,children:(0,n.jsx)(U.E,{onClick:()=>L(),className:G.s.flex.b0.noWrap.gap0.flexRow.hFull.px8.itemsCenter.$,recordingKey:V.Pt(e,"MORESHAPES"),htmlAttributes:{"data-onboarding-key":I.W2},children:(0,n.jsx)("span",{className:G.s.colorText.textBodyMedium.$,children:(0,w.t)("whiteboard.shapes.more_shapes")})})})]})});function eu({shapeColor:e,strokeStyleType:t,onChange:i,recordingKey:r}){return(0,n.jsx)("div",{className:"dlt_shape_submenu--shapesGrid--iweeQ",style:{"--columns":er.ke.length},role:"listbox","data-fullscreen-intercept":!0,children:er.ke.map(a=>(0,n.jsx)(ep,{shapeType:a,color:e,strokeStyleType:t,onChange:i,recordingKey:V.Pt(r,a),isTopRight:!1},`BASIC-${a}`))})}function ep({shapeType:e,color:t,strokeStyleType:i,onChange:o,recordingKey:l,isTopRight:c,onboardingKey:p}){let h=(0,P.wA)(),{onDragStart:m,onDrag:f,onDragEnd:x}=function(){let e=(0,r.useContext)(en.S8);return{onDragStart:e.onDragStart,onDrag:e.onDrag,onDragEnd:e.onDragEnd}}(),_=function(e){let t=(0,r.useContext)(en.S8);return e?t.draggedShape===e:null!=t.draggedShape}(e),b=(0,r.useContext)(en.S8).shouldDragCancel,j=r.useRef(null),[y,v]=r.useState(0),C=(0,B.d)(.5),T=(0,B.d)(.5),E=(0,K.Pl)({subscribeToUpdates_expensive:_}),w=(0,q.Yt)(),I=(w?en.lx.get(w):null)===e,L=V.rf(l,"click",()=>{o(e)}),N=en.Jc.get(e);if(!N)return null;let A=(0,en.Qd)().get(N);if(!A)return null;let O=E*(A.canvasToSvgScale||1)/.2,k="MINDMAP_TREE_NUCLEUS"===e;return(0,n.jsx)("div",{className:d()({"dlt_shape_submenu--shape--0vtJo":!0,[es]:I&&!_,"dlt_shape_submenu--isTopRight--gZHau":c,"dlt_shape_submenu--mindmapIcon--C4vqQ":k}),children:(0,n.jsx)(H.P.div,{animate:_?b?"whileDragCancel":"whileDrag":"initial","aria-hidden":"true",className:d()({[ea.z6]:!0,[ea.ac]:!0,"dlt_shape_submenu--shapeDraggable--t9G0E":!0,"dlt_shape_submenu--isDragging--TttjP":_}),"data-onboarding-key":p,"data-tooltip":_?void 0:A.action,"data-tooltip-offset-y":-10,"data-tooltip-show-above":!0,"data-tooltip-type":g.Ib.LOOKUP,drag:!k,dragConstraints:{top:0,bottom:0,right:0,left:0},dragElastic:1,onDrag:(e,t)=>{f(t.point)},onDragEnd:(t,i)=>{if(C.set(.5),T.set(.5),!b){let i=j.current;if(i){let n=(0,ei.zG)(i.getBoundingClientRect()),r=(0,ei.C2)(t);s.l7.user("drop-shape-on-canvas",()=>a.glU?.dropDiagramItemOntoCanvas(en.Jc.get(e),Math.round(n.x),Math.round(n.y),Math.round(r.x),Math.round(r.y),a.V5h.TOP_LEFT,a.VTL.NO))}}v(e=>e+1),x()},onDragStart:(t,i)=>{let n=j.current;if(n){let e=n.getBoundingClientRect();C.set((i.point.x-e.x)/e.width),T.set((i.point.y-e.y)/e.height)}m(e),h(W.jD())},onPointerDown:L,style:{originX:C,originY:T},variants:{initial:{scale:1},whileDrag:{scale:O},whileDragCancel:{scale:.93}},children:_&&!b?!k&&(0,n.jsx)(A.Icon,{color:u.F.format(t),toolbarIconScale:.2,isBeingDraggedForPlacement:_,shapeStrokeProps:{isDragging:_,styleType:i,svgToCanvasScale:A.canvasToSvgScale?1/A.canvasToSvgScale:1},ref:j}):(0,n.jsx)(S.B,{svg:(0,er.eg)(e),className:d()({"dlt_shape_submenu--shapeIcon--o4oZr":!0,[es]:I})})},y)})}var eh=i(552397),em=i(757252),ef=i(827329),ex=i(27776);let e_="dlt_shape_collage--ignorePointerEvents--dih4g",eg=["ELLIPSE","SQUARE","TRIANGLE_UP"],eb="seen_figjam_advanced_diagraming_v1_onboarding",ej=(0,m.r1)(eb),ey=ex.YCy,ev=ex.zuZ,eC=[{zIndex:1,width:36,height:36,translateStart:{x:9,y:14},translateEnd:{x:7,y:-6},scale:36/128},{zIndex:2,width:32,height:32,translateStart:{x:49,y:16},translateEnd:{x:51,y:-4},scale:32/112},{zIndex:3,width:40,height:34,translateStart:{x:6,y:57},translateEnd:{x:4,y:37},scale:40/120}],eT={width:30,height:34,translateStart:{x:52,y:54},translateEnd:{x:54,y:34},scale:1},eE={ELBOWED:{action:a.rcl.SET_TOOL_CONNECTOR_ELBOWED,tool:a.NLJ.CONNECTOR_ELBOWED,Icon:ef.XD},CURVED:{action:a.rcl.SET_TOOL_CONNECTOR_CURVED,tool:a.NLJ.CONNECTOR_CURVED,Icon:ef.Mm},STRAIGHT:{action:a.rcl.SET_TOOL_CONNECTOR_STRAIGHT,tool:a.NLJ.CONNECTOR_STRAIGHT,Icon:ef.vO}},eS=r.memo(function({shapeType:e,index:t,toolbarIconScale:i,isInteractive:l}){let{state:p}=(0,r.useContext)(v.nS),h=en.Jc.get(e),m=h===(0,q.Yt)(),x=(0,ee.C)(),_=(0,em.AE)(),b=(0,o.md)(c.ez),C=u.F.format(b),T=(0,o.md)(c.U9),E=(0,en.Qd)().get(h),[S,w]=(0,o.fp)(j.oh),I="open"===S.state&&"shape"===S.tool,L=(0,f.LR)(),N=(0,r.useCallback)(()=>{if(L(!1),I){w({type:"close",source:j.Yg.ToolSelected}),a.glU?.triggerActionEnumInUserEditScope(a.rcl.SET_TOOL_DEFAULT,null);return}_?x({setToolToDefault:!1}):w({type:"open",tool:"shape"}),a.glU?.triggerActionEnumInUserEditScope(E.actionEnum,{source:et.fK})},[L,I,_,x,w,E.actionEnum]),A=p.draggedTool===`shape-tool-${t}`,O=(0,r.useCallback)((e,t)=>{s.l7.user("drop-shape-on-canvas",()=>a.glU?.dropDiagramItemOntoCanvas(h,Math.round(e.x),Math.round(e.y),Math.round(t.x),Math.round(t.y),a.V5h.TOP_LEFT,a.VTL.NO))},[h]),k=(E.canvasToSvgScale||1)/i;return l?(0,n.jsx)(eh.I,{className:d()({[ea.z6]:!0,[ea.ac]:!0,[e_]:A}),"data-tooltip":A?void 0:E.action,"data-tooltip-offset-y":0,"data-tooltip-type":g.Ib.LOOKUP,hasOpenSubmenu:I,inTabOrder:!1,isSelected:m,onClick:N,recordingKey:(0,y.hx)(`shape-tool-${t}`),toolType:`shape-tool-${t}`,children:(0,n.jsx)(D.s,{Icon:E.Icon,canvasToSvgScale:k,color:C,hoverOffsetAmount:"NONE",isHovered:!1,isSelected:m,onDragEnd:O,onTap:N,shapeStrokeStyleType:T,toolType:`shape-tool-${t}`,toolbarIconScale:i})}):(0,n.jsx)(E.Icon,{color:C,toolbarIconScale:i,shapeStrokeProps:{isDragging:A,styleType:void 0!==T?T:a.xbm.NONE,svgToCanvasScale:k&&i?1/(k*i):1}})});function ew({zIndex:e,width:t,height:i,transformStart:a,transformEnd:s,shouldFanOut:o,children:l,hasShadow:c,isInteractive:u}){let[p,h]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{h(!0);let e=setTimeout(()=>{h(!1)},150);return()=>{clearTimeout(e)}},[o]),(0,n.jsx)("div",{className:d()("dlt_shape_collage--collageIconContainer--80E2y",{[e_]:p,[ea.ac]:c}),style:{zIndex:e,width:t,height:i,transform:o?s:a},children:(0,n.jsx)("div",{className:d()({"dlt_shape_collage--collageScaleContainer--ZatXz":u}),children:l})})}function eI(e){return`translate(${e.x}px, ${e.y}px)`}let eL=(0,r.memo)(function({shouldFanOut:e,toolbarIconScale:t,showAdvancedDiagrammingOnboarding:i}){let{state:a}=(0,r.useContext)(v.nS);return(0,n.jsxs)("div",{className:d()({[ea.z6]:!0,"dlt_shape_collage--collageButton--Z28yX":!0,"dlt_shape_collage--advancedDiagrammingOnboarding--Tle7Q":i}),style:{width:100*t},children:[(0,n.jsx)(ew,{zIndex:"connector"===a.draggedTool?ev:ey+1,width:eT.width*t,height:eT.height*t,shouldFanOut:e,transformStart:eI({x:eT.translateStart.x*t,y:eT.translateStart.y*t}),transformEnd:eI({x:eT.translateEnd.x*t,y:eT.translateEnd.y*t}),isInteractive:!i,children:(0,n.jsx)(eN,{toolbarIconScale:t*eT.scale,isInteractive:!i})},"connector-tool"),eC.map((r,s)=>{let o=eg[s],l=en.Jc.get(o);return(0,n.jsx)(ew,{zIndex:a.draggedTool===`shape-tool-${s}`?ev:ey+1,width:r.width*t,height:r.height*t,shouldFanOut:e,transformStart:eI({x:r.translateStart.x*t,y:r.translateStart.y*t}),transformEnd:eI({x:r.translateEnd.x*t,y:r.translateEnd.y*t}),isInteractive:!i,hasShadow:!0,children:(0,n.jsx)(eS,{shapeType:o,index:s,toolbarIconScale:t*r.scale,isInteractive:!i})},l)})]})});function eN({toolbarIconScale:e,isInteractive:t}){let{state:i}=(0,r.useContext)(v.nS),l=(0,x.aV)(),p=(0,q.Uo)(),h=(0,ee.C)(),m=(0,em.AE)(),_=(0,o.md)(c.SK).connectorToolLineStyle,b=(0,o.md)(c.wp),C=u.F.format(b),[T,E]=(0,o.fp)(j.oh),S="open"===T.state&&"shape"===T.tool,w=(0,f.LR)(),I=(0,r.useCallback)(()=>{if(w(!1),S){E({type:"close",source:j.Yg.ToolSelected}),a.glU?.triggerActionEnumInUserEditScope(a.rcl.SET_TOOL_DEFAULT,null);return}m?h({setToolToDefault:!1}):E({type:"open",tool:"shape"}),a.glU?.triggerActionEnumInUserEditScope(eE[_].action,{source:et.fK})},[w,S,m,h,E,_]),L="connector"===i.draggedTool,N=(0,r.useCallback)((e,t)=>{s.l7.user("drop-connector-on-canvas",()=>a.glU?.dropDiagramItemOntoCanvas(eE[_].tool,Math.round(e.x),Math.round(e.y+7*ei.P),Math.round(t.x),Math.round(t.y),a.V5h.TOP_LEFT,a.VTL.NO))},[_]),A=eE[_].Icon;return t?(0,n.jsx)(eh.I,{className:d()({[ea.z6]:!0,[e_]:L,"dlt_shape_collage--isConnectorIconHidden--OVylY":l}),"data-tooltip":L?void 0:"set-tool-connector-elbowed","data-tooltip-offset-y":0,"data-tooltip-type":g.Ib.LOOKUP,hasOpenSubmenu:S,inTabOrder:!1,isSelected:p,onClick:I,onboardingKey:et.Nr,recordingKey:(0,y.hx)("connector-tool"),toolType:"connector",children:(0,n.jsx)(D.s,{Icon:A,canvasToSvgScale:ei.P,color:C,hoverOffsetAmount:"NONE",isHovered:!1,isSelected:p,onDragEnd:N,onTap:I,toolType:"connector",toolbarIconScale:e})}):(0,n.jsx)(A,{color:C,toolbarIconScale:e,shapeStrokeProps:{isDragging:L,styleType:a.xbm.NONE,svgToCanvasScale:ei.P&&e?1/(ei.P*e):1}})}function eA({optimizeForCompactSize:e}){let[t,i]=(0,o.fp)(c.SK),[s,l]=(0,o.fp)(Y.B),{shapeWithTextType:d}=t,u=en.Jc.get(d),m=(0,r.useRef)(null),f=(0,C.$y)(),x=(0,q.Yt)(),g=(0,q.bu)(),v=(0,q.sT)(),E=(0,q.s3)()&&s===a.cxo.SHAPE_TOOL,S=(0,o.md)(j.oh),w="open"===S.state&&"shape"===S.tool||E,I=function({startingShapeTool:e}){let[t,i]=(0,o.fp)(j.oh),n="open"===t.state&&"shape"===t.tool;return(0,r.useCallback)(()=>{if(n){i({type:"close",source:j.Yg.ToolSelected}),a.glU?.triggerActionEnumInUserEditScope(a.rcl.SET_TOOL_DEFAULT,null);return}if(e){let t=(0,en.Qd)(),i=t.get(e)?.actionEnum??a.rcl.SET_TOOL_DEFAULT;a.glU?.triggerActionEnumInUserEditScope(i,{source:et.fK})}i({type:"open",tool:"shape"})},[i,n,e])}({startingShapeTool:en.Jc.get("SQUARE")}),L=(0,o.md)(h.Fy),N=(0,o.md)(ej),{show:A,isShowing:O,complete:R}=(0,p.e)({overlay:b.Wd_,priority:_.N.SECONDARY_MODAL},[N,L]),M=(0,em.AE)();r.useEffect(()=>{A({canShow:(e,t)=>!e&&t&&!M&&f})},[A,N,M,L,f]);let[D,P]=(0,r.useState)(!1);r.useEffect(()=>{let e=setTimeout(()=>{P(!0)},2e3);return()=>clearTimeout(e)},[P]);let[U,F]=r.useState(!1),B=(0,em.ar)(),H=r.useCallback(()=>{a.glU?.triggerActionEnumInUserEditScope(a.rcl.SET_TOOL_DEFAULT,null),F(!0),B()},[B]),V=O&&D&&!U,G=V||M?H:I;(0,r.useEffect)(()=>{u!==x&&x&&i({...t,shapeWithTextType:en.lx.get(x)})},[x,u,t,i]);let{isHovered:W,onMouseEnter:K,onMouseMove:z,onMouseLeave:Z,onTouchStart:X,onTouchEnd:J}=(0,T.W)(G,g||v,!1),Q=(0,n.jsx)($.Qw,{isOpen:w,fadedOut:W,optimizeForCompactSize:e,testId:"dlt-shape-submenu",id:et.V4,children:(0,n.jsx)(en.Lz,{children:(0,n.jsx)(ec,{recordingKey:(0,y.hx)("shapeMenu")})})}),ee=m.current?.getBoundingClientRect(),ei=ee?{top:ee.top,left:ee.left,height:ee.height,width:ee.width}:void 0;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)($.XN,{alignment:"CENTER",children:[(0,n.jsx)($.ti,{isSelected:W||w,noScaleAnimation:!0,children:(0,n.jsx)(eh.J,{ariaLabel:"dlt-shape-collage-button",className:ea.xt,"data-does-not-dismiss-modal":!0,hasOpenSubmenu:w,isHovered:W,isSelected:w,onClick:G,onMouseEnter:K,onMouseLeave:Z,onMouseMove:z,onTouchEnd:J,onTouchStart:X,onboardingKey:et.BC,recordingKey:(0,y.hx)("shape"),testId:"dlt-shape-collage-button",toolType:"shape",children:(0,n.jsx)("div",{className:"dlt_shape_collage--collageButtonContainer--4Ex6o",ref:m,children:(0,n.jsx)(eL,{shouldFanOut:W,showAdvancedDiagrammingOnboarding:V,toolbarIconScale:1})})})}),Q]}),O&&(0,n.jsx)(k,{onboardingDelayHasCompleted:D,position:ei,isHovered:W,hasProgressedToShapesSidebar:U,complete:R})]})}},592383:(e,t,i)=>{i.d(t,{L2:()=>K,Qc:()=>W,Su:()=>z,eg:()=>V,h$:()=>H.A,ke:()=>G});var n=i(7378),r=i(763686),a=i(27355),s=i(169182),o=i(125333),l=i(27927),d=i(328130),c=i(193017),u=i(744346),p=i(858635),h=i(591862),m=i(989294),f=i(108557),x=i(21531),_=i(258806),g=i(742456),b=i(803905),j=i(113971),y=i(924042),v=i(607564),C=i(341413),T=i(40842),E=i(943742),S=i(375688),w=i(992663),I=i(32229),L=i(489925),N=i(578995),A=i(60943),O=i(156698),k=i(46799),R=i(625862),M=i(555402),D=i(174052),P=i(803402),U=i(144832),F=i(934458),B=i(920134),H=i(536651);function V(e){switch(e){case"SQUARE":return A.A;case"ELLIPSE":return f.A;case"ROUNDED_RECTANGLE":return k.A;case"DIAMOND":return p.A;case"TRIANGLE_UP":return O.A;case"TRIANGLE_DOWN":return F.A;case"PARALLELOGRAM_RIGHT":return w.A;case"PARALLELOGRAM_LEFT":return S.A;case"ENG_DATABASE":return x.A;case"ENG_QUEUE":return b.A;case"ENG_FILE":return _.A;case"ENG_FOLDER":return g.A;case"TRAPEZOID":return U.A;case"STAR":return D.A;case"SHIELD":return R.A;case"HEXAGON":return j.A;case"PENTAGON":return I.A;case"OCTAGON":return T.A;case"PLUS":return L.A;case"PREDEFINED_PROCESS":return N.A;case"MANUAL_INPUT":return v.A;case"CHEVRON":return u.A;case"DOCUMENT_SINGLE":return m.A;case"DOCUMENT_MULTIPLE":return h.A;case"ARROW_LEFT":return d.A;case"ARROW_RIGHT":return c.A;case"SUMMING_JUNCTION":return P.A;case"OR":return E.A;case"SPEECH_BUBBLE":return M.A;case"INTERNAL_STORAGE":return y.A;case"MINDMAP_TREE_NUCLEUS":return C.A;default:return B.A}}let G=["SQUARE","ELLIPSE","DIAMOND","TRIANGLE_UP","TRIANGLE_DOWN","ROUNDED_RECTANGLE","CHEVRON"],W=["SQUARE","ELLIPSE","DIAMOND","TRIANGLE_UP","TRIANGLE_DOWN","ROUNDED_RECTANGLE","PARALLELOGRAM_RIGHT","PARALLELOGRAM_LEFT"],K=[...G,"PREDEFINED_PROCESS","DOCUMENT_SINGLE","DOCUMENT_MULTIPLE","MANUAL_INPUT","HEXAGON","PARALLELOGRAM_RIGHT","PARALLELOGRAM_LEFT","ENG_DATABASE","ENG_QUEUE","INTERNAL_STORAGE","TRAPEZOID","SUMMING_JUNCTION","OR","SHIELD","ENG_FOLDER","ENG_FILE","PENTAGON","OCTAGON","PLUS","ARROW_LEFT","ARROW_RIGHT","STAR","SPEECH_BUBBLE"];function z(e){let t=(0,a.md)(o.SK),i=(0,a.Xr)(o.ez),{shapeWithTextType:s}=t;return n.useCallback(t=>{i(t);let n=l.Jc.get(s);if(!n)return;let a=(0,l.Qd)(),o=a.get(n)?.actionEnum??r.rcl.SET_TOOL_DEFAULT;r.glU?.triggerActionEnumInUserEditScope(o,{source:e})},[i,s,e])}(0,s.ck)("207bc31b9911b06b2b85797781d0a68486b15dc6"),(0,s.ck)("476a2d6160ae8dc502e8458d538777675394443b"),(0,s.ck)("06cceafc7034bc35db5fb309ab70717615526a5c"),(0,s.ck)("5ab93eef0010c3b6af23e4c8fd15e3f427a8799a"),(0,s.ck)("98d711f562ff8f5c043c5c622ef61f3654da25cb"),(0,s.ck)("45389442e64125e09f25fc9a0eaf4bc27e4da760"),(0,s.ck)("ac68553557253b75a1bfc3ad0996bcbacefa8650")},523222:(e,t,i)=>{i.d(t,{az:()=>M,dQ:()=>k,f7:()=>D,Q6:()=>P});var n=i(601108),r=i(469876),a=i(658673),s=i(486106),o=i(7378),l=i(514228),d=i(763686),c=i(120210),u=i(129884),p=i(983733),h=i(630194),m=i(837467),f=i(552397),x=i(801324),_=i(300024),g=i(731560);let b=(0,o.memo)(function(){let e=(0,l.d4)(e=>e?.mirror?.appModel?.currentTool===d.NLJ.SECTION),t=(0,c.LR)(),i=(0,o.useCallback)(()=>{t(!1),d.glU?.triggerActionInUserEditScope(e?"set-tool-default":"set-tool-section",{source:_.fK})},[e,t]);return(0,s.jsx)(f.I,{toolType:"section",recordingKey:(0,h.hx)("section"),isSelected:e,className:g.uW,onClick:i,"data-tooltip-type":u.Ib.LOOKUP,"data-tooltip":"set-tool-section",hasOpenSubmenu:!1,onboardingKey:p.pN,children:t=>(0,s.jsx)(m.gd,{toolType:"section",inactiveIcon:(0,s.jsx)(x.aO,{}),hoveredIcon:(0,s.jsx)(x.wv,{}),activeIcon:(0,s.jsx)(x.XU,{}),isSelected:e,isHovered:t})})});var j=i(641273);let y=(0,o.memo)(function(){let e=(0,l.d4)(e=>e?.mirror?.appModel?.currentTool===d.NLJ.TYPE),t=(0,c.LR)(),i=(0,o.useCallback)(()=>{t(!1),d.glU?.triggerActionInUserEditScope(e?"set-tool-default":"set-tool-type",{source:_.fK})},[e,t]);return(0,s.jsx)(f.I,{toolType:"text",recordingKey:(0,h.hx)("text"),isSelected:e,className:g.Qq,onClick:i,"data-tooltip-type":u.Ib.LOOKUP,"data-tooltip":"set-tool-type",hasOpenSubmenu:!1,children:t=>(0,s.jsx)(m.gd,{toolType:"text",inactiveIcon:(0,s.jsx)(x.Ch,{}),hoveredIcon:(0,s.jsx)(x.Gb,{}),activeIcon:(0,s.jsx)(x.nl,{}),isSelected:e,isHovered:t})})}),v=(0,o.memo)(function(){let e=(0,l.d4)(e=>e?.mirror?.appModel?.currentTool===d.NLJ.COMMENTS),t=(0,o.useCallback)(()=>{d.glU?.triggerActionInUserEditScope(e?"set-tool-default":"set-tool-comments",{source:_.fK})},[e]);return(0,s.jsx)(f.I,{toolType:"comments",recordingKey:(0,h.hx)("comments"),isSelected:e,className:g.nK,onClick:t,"data-tooltip-type":u.Ib.LOOKUP,"data-tooltip":"set-tool-comments",hasOpenSubmenu:!1,children:t=>(0,s.jsx)(m.gd,{toolType:"comments",inactiveIcon:(0,s.jsx)(x.Rz,{}),hoveredIcon:(0,s.jsx)(x.hM,{}),activeIcon:(0,s.jsx)(x.EB,{}),isSelected:e,isHovered:t})})});var C=i(27355),T=i(442259),E=i(67768),S=i(604494),w=i(365876),I=i(765161),L=i(630757);let N=(0,o.memo)(function(){let e=(0,w.V)(),t=(0,C.md)(S.Bu),{Inactive:i,GrayHover:n,Active:r}=(0,L.U)(),a=(0,I.iT)();return(0,s.jsx)(f.I,{toolType:"quick-actions-v2",recordingKey:(0,h.hx)("toggle-actions-menu"),isSelected:t,className:g.TC,onClick:()=>{a&&T.CB.closeWheel(),e()},"data-tooltip-type":u.Ib.LOOKUP,"data-tooltip":"toggle-menu",onboardingKey:E.D1,hasOpenSubmenu:!1,children:e=>(0,s.jsx)(m.gd,{toolType:"quick-actions-v2",inactiveIcon:(0,s.jsx)(i,{}),hoveredIcon:(0,s.jsx)(n,{}),activeIcon:(0,s.jsx)(r,{}),isSelected:t,isHovered:e})})}),A=(0,o.memo)(function(){let e=(0,l.d4)(e=>e?.mirror?.appModel?.currentTool===d.NLJ.TABLE),t=(0,c.LR)(),i=(0,o.useCallback)(()=>{t(!1),d.glU?.triggerActionInUserEditScope(e?"set-tool-default":"set-tool-table",{source:_.fK})},[e,t]);return(0,s.jsx)(f.I,{toolType:"table",recordingKey:(0,h.hx)("table"),isSelected:e,className:g.tp,onClick:i,"data-tooltip-type":u.Ib.LOOKUP,"data-tooltip":"set-tool-table",hasOpenSubmenu:!1,children:t=>(0,s.jsx)(m.gd,{toolType:"table",inactiveIcon:(0,s.jsx)(x.PW,{}),hoveredIcon:(0,s.jsx)(x.nb,{}),activeIcon:(0,s.jsx)(x.oN,{}),isSelected:e,isHovered:t})})}),O=new Map([["text",{toolType:"text",Component:y,action:"set-tool-type"}],["stamp",{toolType:"stamp",Component:j.s,action:"set-tool-stamp"}],["section",{toolType:"section",Component:b,action:"set-tool-section"}],["table",{toolType:"table",Component:A,action:"set-tool-table"}],["universal-insert",{toolType:"universal-insert",Component:a.Hm,action:"browse-all-resources-dlt-overflow"}],["comments",{toolType:"comments",Component:v,action:"set-tool-comments"}],["quick-actions-v2",{toolType:"quick-actions-v2",Component:N,action:"toggle-menu"}]]);function k(){let e=function(){let e=["text","section","table","stamp"];return(0,n.k)().figjam_quick_actions_v2&&e.push("quick-actions-v2"),e}();return r.pb.isGoogleClassroomIntegration()&&e.push("comments"),e}function R(e){return 0===e?549:573+56*e}function M(e){let t=[],i=k().length;return t.push({stage:"FULL",thresholdWidth:R(i),numPrimaryTools:i}),5===i&&t.push({stage:"MINIMIZED_FOUR",thresholdWidth:R(4),numPrimaryTools:4}),t=t.concat([{stage:"MINIMIZED_THREE",thresholdWidth:R(3),numPrimaryTools:e?2:3},{stage:"MINIMIZED_TWO",thresholdWidth:R(2),numPrimaryTools:e?1:2},{stage:"MINIMIZED_ONE",thresholdWidth:R(1),numPrimaryTools:e?0:1},{stage:"MINIMIZED_ZERO",thresholdWidth:549,numPrimaryTools:0},{stage:"MINIMIZED",thresholdWidth:437,numPrimaryTools:0},{stage:"CUT_OFF",thresholdWidth:0,numPrimaryTools:0}])}function D(){let e=[];for(let t of k()){let i=(function(){let e=new Map;for(let t of new Set(["text","stamp","section","table","comments","quick-actions-v2"]))O.has(t)&&e.set(t,O.get(t));return e})().get(t);i&&(e=e.concat(i))}return e}function P(e){return D().slice(0,e).map(e=>e.toolType)}},641273:(e,t,i)=>{i.d(t,{s:()=>R});var n=i(486106),r=i(7378),a=i(514228),s=i(763686),o=i(536384),l=i.n(o),d=i(169182),c=i(778880),u=i(714743),p=i(819472),h=i(303541),m=i(308685),f=i(124493),x=i(442259),_=i(120210),g=i(486443),b=i(129884),j=i(630194),y=i(837467),v=i(552397),C=i(955650),T=i(960980),E=i(801324),S=i(300024),w=i(765161),I=i(731560),L=i(824007);let N={padBottom:30,height:512},A=100*N.padBottom/N.height,O=`calc(${A}% + ${-S.H1}px)`,k=`translateY(${O})`,R=(0,r.memo)(function(){let e=(0,a.wA)(),t=(0,w.iT)(),i=(0,a.d4)(e=>e?.mirror?.appModel?.currentTool===s.NLJ.STAMP)||t,o=(0,g.XM)(),d=(0,T.hr)(),c=d>0,u=(0,a.d4)(e=>e.universalInsertModal.showing),h=(0,C.bu)(),L=(0,r.useCallback)(()=>{o&&e(f.H1({votingStage:s.W8Y.NOT_JOINED})),e(m.Ho())},[e,o]),N=(0,_.LR)(),A=(0,p.L)(),O=(0,r.useCallback)(()=>{N(!1),A(),t?x.CB.closeWheel():(0,w.X)({source:S.fK})},[t,N,A]);return(0,n.jsxs)("div",{"data-element-target":S.NZ,className:l()(I.Zh,I.UJ),children:[(0,n.jsx)(v.I,{className:I.iE,"data-tooltip":"set-tool-stamp","data-tooltip-bottom-flip-margin":o?0:void 0,"data-tooltip-type":b.Ib.LOOKUP,hasOpenSubmenu:!1,isSelected:i,onClick:O,onboardingKey:S.E$,recordingKey:(0,j.hx)("stamp"),toolType:"stamp",tooltipLocation:o?"below":"above",tooltipOffset:o?{offsetX:0,offsetY:-14}:void 0,children:e=>(0,n.jsx)(y.gd,{toolType:"stamp",inactiveIcon:(0,n.jsx)(E.oV,{}),hoveredIcon:(0,n.jsx)(E.mS,{}),activeIcon:(0,n.jsx)(E.dF,{}),isSelected:i,isHovered:e})}),o&&!u&&!h&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M,{leaveVotingSessionAndCloseWheel:L,onClickToOpenWheel:O,numVotesRemaining:d,hasRemainingVotes:c}),(0,n.jsx)(P,{onClickToOpenWheel:O,isStampToolSelected:i,hasRemainingVotes:c})]})]})});function M({onClickToOpenWheel:e,leaveVotingSessionAndCloseWheel:t,numVotesRemaining:i,hasRemainingVotes:a}){let[s,o]=(0,r.useState)(!1),d=a&&!c.Ay.isIpad;D({shouldOpenWheelOnHover:d,isHovered:s});let p=a?I.rf:I.he;return(0,n.jsx)("button",{className:l()(I.tS,p),onMouseEnter:()=>!c.Ay.isIpad&&o(!0),onMouseLeave:()=>!c.Ay.isIpad&&o(!1),onClick:()=>{d||(a?e():t())},tabIndex:-1,children:a?(0,n.jsx)("span",{className:I._V,children:(0,h.tx)("voting.delightful_toolbar.votes_remaining",{numVotes:i})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.B,{className:I.oE,svg:L.A}),(0,n.jsx)("span",{className:I._V,children:(0,h.tx)("voting.delightful_toolbar.no_votes_remaining")})]})})}function D({shouldOpenWheelOnHover:e,isHovered:t}){let i=e&&t;(0,r.useEffect)(()=>{if(!i)return;let e=setTimeout(()=>(0,w.X)({source:"peeking_vote_wheel_hover",openedViaHover:!0}),100);return()=>clearTimeout(e)},[i])}function P({onClickToOpenWheel:e,isStampToolSelected:t,hasRemainingVotes:i}){let[a,s]=(0,r.useState)(!1),o=r.useRef(null),u=(0,w.iT)(),p=(0,w.p3)({isHidden:u,wheelRef:o}),h=i&&!c.Ay.isIpad;D({shouldOpenWheelOnHover:h,isHovered:a}),(0,r.useEffect)(()=>{let e=o.current;if(!e)return;let t={transform:`${k} scale(1.05)`},i={transform:`${k} scale(1)`},n=new Animation(new KeyframeEffect(e,[{transform:"translateY(100%) scale(0.1)"},t],{duration:450,easing:"ease-out"})),r=new Animation(new KeyframeEffect(e,[t,i],{duration:200,easing:"ease-in-out"})),a=new Animation(new KeyframeEffect(e,[i,i],{duration:400})),s=new Animation(new KeyframeEffect(e,[i,{}],{duration:300,easing:"cubic-bezier(0.37, 0, 0.48, 1.33)"}));return n.play(),n.finished.then(()=>r.play()).catch(()=>{}),r.finished.then(()=>a.play()).catch(()=>{}),a.finished.then(()=>s.play()).catch(()=>{}),()=>{n.cancel(),a.cancel(),s.cancel()}},[o]);let m=!(t||i);return(0,n.jsx)("div",{className:I.$,children:(0,n.jsx)("button",{ref:o,tabIndex:-1,className:l()(I.uA,{[I.hA]:m,[I.wj]:u,[I.tq]:p,[I.FP]:!i}),onMouseEnter:()=>!c.Ay.isIpad&&s(!0),onMouseLeave:()=>!c.Ay.isIpad&&s(!1),onClick:()=>!h&&e(),style:{backgroundImage:`url(${(0,d.ck)("c497ee1c6afcaf44b866a46227b40c8ad62dd143")})`}})})}},192798:(e,t,i)=>{let n,r,a,s;i.r(t),i.d(t,{FigjamView:()=>v5});var o=i(486106),l=i(7378),d=i(514228),c=i(763686),u=i(601108),p=i(27355),h=i(778880),m=i(459490),f=i(751457),x=i(302958),_=i(933328),g=i(858738),b=i(722362),j=i(546509),y=i(713695),v=i(503702),C=i(84367),T=i(53721),E=i(924869),S=i(42945),w=i(485582),I=i(656450),L=i(372672),N=i(77316),A=i(303541),O=i(62612),k=i(486517),R=i(337179);let M=i(479760).R1;function D(e){let{dispatch:t,targetRect:i,user:n,typeahead:r,onInsert:a,onClear:s,setTypeahead:d}=e,[c,u]=l.useState(null),p=(0,O._X)({subscribeToUpdates_expensive:!0}),h=(0,O.Yb)(p,i);if(!(0,O.ZT)(h,p))return null;let m={top:h.y+p.y+h.height+8,right:h.x+p.x,bottom:h.y+p.y+h.height+8,left:h.x+p.x,height:0,width:0},f=c&&m.top+c>p.height?R.ri.UPWARDS:R.ri.DOWNWARDS,x={left:m.left,bottom:p.height-h.y+8},_=(0,R.f6)({...e,targetRect:m,direction:f,positionFromBottom:x});return(0,o.jsx)(k.E,{dispatch:t,entity:n,onClear:s,onInsert:a,recordingKey:"canvasMentionsTypeahead",setMaxTypeaheadHeight:u,setTypeahead:d,typeahead:r,width:300,..._,getAdditionalMetadata:e=>"has_permission"in e&&!e.has_permission?(0,A.t)("whiteboard.editor_mentions_typeahead.not_in_file"):null,zIndex:M})}var P=i(165054),U=i(189185),F=i(901889),B=i(11),H=i(925970),V=i(985254),G=i(516028),W=i(772425),K=i(162414),z=i(477548),Z=i(657783),$=i(669294);async function Y(e,t,i,n,r,a){let{trackEventForFile:s,searchSessionId:o,mentionedByUserId:l,nodeId:d,store:u}=a;try{let a=(await Z.L.getCanvasMentionsFileNeedsInvite({fileKey:e,mentionedUserId:n.id})).data.meta.needs_invite;r(V.b({has_used_canvas_mentions:!0}));let p=(0,$.x)(d,u);s("canvas_mention_created",{...p,search_session_id:o,mention_id:t,mentioned_user_id:n.id,mentioned_by_user_id:l,mentioned_user_can_view_file:!a},{forwardToDatadog:!0}),a&&r(x.F.enqueue({message:(0,A.t)("whiteboard.visual_bell.canvas_at_mentions_mentioned_user_will_be_invited_to_file",{handle:n.handle}),button:{text:(0,A.t)("whiteboard.visual_bell.canvas_at_mentions_mentioned_undo_invite"),action:()=>{s("canvas_mention_undo_invite",{...p,search_session_id:o,mention_id:t,mentioned_user_id:n.id,mentioned_by_user_id:l,mentioned_user_can_view_file:!a},{forwardToDatadog:!0}),U.l7.user("undo-at-mention",()=>c.fp8.removeMention(i,t))}}}))}catch(e){(0,B.$D)(P.e.FIGJAM,e)}}function q(){let e=(0,d.wA)(),t=(0,L.iZ)(),[i,n]=(0,p.fp)(N.LQ),r=(0,p.md)(N.MX),{onInsert:a,onClear:s}=function(e){let t=(0,d.wA)(),[i,n]=(0,p.fp)(N.LQ),[r,a]=(0,p.fp)(N.h1),[s,o]=(0,p.fp)(N.wm),u=(0,K.zW)({checkPermissions:z.m1.VIEW_OR_PENDING}),h=(0,G.tS)(),m=(0,F.U)(),f=!!i?.mentions,x=""===s,_=(0,d.Pj)(),g=(0,d.d4)(e=>(function(e){let t=Object.keys(e);return 0===t.length?null:t[0]})(e.mirror.sceneGraphSelection));return l.useEffect(()=>{let e=!1;if(null===r){n(null);return}let t=setTimeout(async()=>{let t=await (0,W.fG)(r,u,!1),i=!!t?.mentions;e||(f&&!i&&(m("canvas_mention_search_no_results",{...(0,$.x)(g,_)}),t={mentions:[],index:0,maxMentions:0,type:"mentions",search:r}),i&&x&&o((0,H.MZ)()),n(t))},100);return function(){clearTimeout(t),e=!0}},[t,u,r,x,o,n,f,m,g,_]),{onInsert:l.useCallback(()=>{if(i&&i.mentions&&i.mentions[i.index]&&e?.id){let n=i.mentions[i.index],r=U.l7.user("insert-at-mention",()=>c.fp8.replaceCurrentMentionsQueryWithMention({mentionedUserId:n.id,mentionedByUserId:e.id,handle:n.handle}));h&&r.mentionId&&Y(h,r.mentionId,r.stablePath,n,t,{trackEventForFile:m,searchSessionId:s,mentionedByUserId:e.id,nodeId:g??"",store:_})}},[i,e?.id,s,h,_,t,m,g]),onClear:l.useCallback(()=>{m("canvas_mention_search_cancelled",{...(0,$.x)(g,_)}),a(null)},[a,m,g,_])}}(t);return!r||!i||!t||0===i.mentions.length&&!i.search||(0,I.Fl)(t.id)||t.sharing_restricted?null:(0,o.jsx)(D,{dispatch:e,targetRect:r,user:t,typeahead:i,onInsert:a,onClear:s,setTypeahead:n})}var X=i(92649),J=i(59055),Q=i(351942),ee=i(407993),et=i(126479),ei=i(794676),en=i(918756);function er({children:e}){return(0,o.jsx)(en.G.Provider,{value:{loggerEventName:"figjam_navigate"},children:e})}var ea=i(943453),es=i(825876),eo=i(916286),el=i(506207),ed=i(934246),ec=i(343967),eu=i(443068),ep=i(520159),eh=i(54715),em=i(251970),ef=i(556482),ex=i(536384),e_=i.n(ex),eg=i(90566),eb=i(449184),ej=i(207101),ey=i(125333),ev=i(347284),eC=i(563413),eT=i(589278),eE=i(8833),eS=i(32128),ew=i(779965),eI=i(275938),eL=i(873436),eN=i(27927),eA=i(204478),eO=i(240545),ek=i(656470),eR=i.n(ek),eM=i(223926),eD=i.n(eM),eP=i(451499);let eU=new eP.J,eF=new eP.AW,eB=()=>new Map([["SQUARE",[(0,A.t)("whiteboard.shape_keywords.rectangle")]],["ELLIPSE",[(0,A.t)("whiteboard.shape_keywords.circle"),(0,A.t)("whiteboard.shape_keywords.connector")]],["ROUNDED_RECTANGLE",[(0,A.t)("whiteboard.shape_keywords.pill"),(0,A.t)("whiteboard.shape_keywords.terminator")]],["DIAMOND",[(0,A.t)("whiteboard.shape_keywords.decision")]],["TRIANGLE_UP",[]],["TRIANGLE_DOWN",[(0,A.t)("whiteboard.shape_keywords.merge")]],["PARALLELOGRAM_RIGHT",[(0,A.t)("whiteboard.shape_keywords.data"),(0,A.t)("whiteboard.shape_keywords.input"),(0,A.t)("whiteboard.shape_keywords.output")]],["PARALLELOGRAM_LEFT",[(0,A.t)("whiteboard.shape_keywords.data"),(0,A.t)("whiteboard.shape_keywords.input"),(0,A.t)("whiteboard.shape_keywords.output")]],["ENG_DATABASE",[(0,A.t)("whiteboard.shape_keywords.database")]],["ENG_QUEUE",[(0,A.t)("whiteboard.shape_keywords.data"),(0,A.t)("whiteboard.shape_keywords.storage"),(0,A.t)("whiteboard.shape_keywords.queue")]],["ENG_FILE",[]],["ENG_FOLDER",[]],["TRAPEZOID",[(0,A.t)("whiteboard.shape_keywords.manual_operation")]],["STAR",[]],["SHIELD",[(0,A.t)("whiteboard.shape_keywords.off_page_connector")]],["HEXAGON",[(0,A.t)("whiteboard.shape_keywords.preparation")]],["PENTAGON",[]],["OCTAGON",[]],["PLUS",[(0,A.t)("whiteboard.shape_keywords.cross"),(0,A.t)("whiteboard.shape_keywords.and")]],["PREDEFINED_PROCESS",[]],["MANUAL_INPUT",[]],["CHEVRON",[(0,A.t)("whiteboard.shape_keywords.step"),(0,A.t)("whiteboard.shape_keywords.process")]],["DOCUMENT_SINGLE",[]],["DOCUMENT_MULTIPLE",[]],["ARROW_LEFT",[]],["ARROW_RIGHT",[]],["SUMMING_JUNCTION",[(0,A.t)("whiteboard.shape_keywords.and")]],["OR",[]],["SPEECH_BUBBLE",[(0,A.t)("whiteboard.shape_keywords.comment"),(0,A.t)("whiteboard.shape_keywords.quote")]],["INTERNAL_STORAGE",[]]]);function eH(e){return[eU.format(e).toLowerCase(),...(n||(n=eB()),n).get(e)||[]]}let eV=()=>new Map([["ELBOWED",[(0,A.t)("whiteboard.connector_keywords.angled"),(0,A.t)("whiteboard.connector_keywords.arrow"),(0,A.t)("whiteboard.connector_keywords.bent"),(0,A.t)("whiteboard.shape_keywords.connector"),(0,A.t)("whiteboard.connector_keywords.curved"),(0,A.t)("whiteboard.connector_keywords.elbowed"),(0,A.t)("whiteboard.connector_keywords.edge"),(0,A.t)("whiteboard.connector_keywords.line"),(0,A.t)("whiteboard.connector_keywords.turn")]],["STRAIGHT",[(0,A.t)("whiteboard.connector_keywords.arrow"),(0,A.t)("whiteboard.connector_keywords.edge"),(0,A.t)("whiteboard.shape_keywords.connector"),(0,A.t)("whiteboard.connector_keywords.line"),(0,A.t)("whiteboard.connector_keywords.straight")]],["STRAIGHT_NO_ENDPOINTS",[(0,A.t)("whiteboard.connector_keywords.edge"),(0,A.t)("whiteboard.shape_keywords.connector"),(0,A.t)("whiteboard.connector_keywords.line"),(0,A.t)("whiteboard.connector_keywords.straight")]],["CURVED",[(0,A.t)("whiteboard.connector_keywords.angled"),(0,A.t)("whiteboard.connector_keywords.arrow"),(0,A.t)("whiteboard.connector_keywords.bent"),(0,A.t)("whiteboard.shape_keywords.connector"),(0,A.t)("whiteboard.connector_keywords.edge"),(0,A.t)("whiteboard.connector_keywords.line"),(0,A.t)("whiteboard.connector_keywords.turn"),(0,A.t)("whiteboard.connector_keywords.curved")]]]);var eG=i(351862);let eW=new eP.kv,eK="DEFAULT_CONTAINING_FRAME_PLACEHOLDER",ez=new Map;function eZ(e){if(e.startsWith(eO.yR)){let t=c.glU?.getShapeWithTextTypeFromToolString(e);if(t)return ez.get(t)}return ez.get(e)}function e$(e,t,i=!1){let n=(0,u.k)().ad_branded_shapes_m1;ez.clear(),Object.entries(e.libraryKeyToSubscribedItems).forEach(([e,t])=>{t?.forEach(t=>{ez.set(eG.yw(t),{type:"library",item:t,libraryKey:e})})});let r=Object.keys(e.libraryKeyToSubscribedItems).map(i=>{let r=e.libraryKeyToSubscribedItems[i]?.filter(e=>!t||t.includes(e.library_key)),a=eD()(r,e=>e.containing_frame?.name??eK),s=e.subscribedFiles.find(e=>e.library_key===i)?.name||"";return Object.keys(a).sort((e,t)=>(0,eG.pf)(s,e).localeCompare((0,eG.pf)(s,t))).map(e=>{let t=e!==eK?e:void 0,r={title:n?s:t?`${(0,eG.pf)(s)} - ${(0,eG.pf)(s,t)}`:(0,eG.pf)(s),items:a[e],libraryKey:i};return t&&(r.librarySubCategory=t),r})}),a=eO.KQ.map(e=>({swtCollectionType:e,shapes:eO.aq.get(e)??[]}));a.forEach(({shapes:e})=>{e.forEach(e=>{ez.set(e,{type:"swt",shapeType:e})})});let s=["STRAIGHT_NO_ENDPOINTS","STRAIGHT","ELBOWED"];return(0,u.k)().ad_curved_connectors&&s.push("CURVED"),i&&s.push("MINDMAP_TREE_NUCLEUS"),5===s.length&&s.shift(),{swtData:a,shapeLibraryData:eR()(r),connectorData:s}}function eY({connectorData:e,swtData:t,shapeLibraryData:i}){return 0===e.length&&0===t.length&&0===i.length}function eq(e,t){return e.every(e=>t.some(t=>t.startsWith(e)))}let eX=e=>e.toLowerCase().trim(),eJ=e=>eX(e).split(/\s+/);function eQ(e,t){let i=eJ((0,A.t)("whiteboard.shapes_sidebar.connections")),n=eJ((0,A.t)("whiteboard.shapes_sidebar.connectors")),a=eJ((0,A.t)("whiteboard.shapes.mindmap")),s=eJ(t);return e.filter(e=>"MINDMAP_TREE_NUCLEUS"===e?eq(s,[...i,...a]):eq(s,[...i,...n,...[eF.format(e).toLowerCase(),...(r||(r=eV()),r).get(e)||[]].reduce((e,t)=>[...e,...eJ(t)],[])]))}function e0(e,t){let i=[],n=eJ(t);return e.forEach(({swtCollectionType:e,shapes:t})=>{let r=eJ(eW.format(e)),a=t.filter(e=>eq(n,[...r,...eH(e).reduce((e,t)=>[...e,...eJ(t)],[])]));0!==a.length&&i.push({swtCollectionType:e,shapes:a})}),i}function e1(e,t){let i=[],n=eJ(t);return e.forEach(({libraryKey:e,librarySubCategory:t,title:r,items:a})=>{let s=[...eJ(r)].concat(t?eJ(t):[]),o=a.filter(e=>eq(n,[...s,...eJ(e.name)]));0!==o.length&&i.push({libraryKey:e,librarySubCategory:t,title:r,items:o})}),i}var e2=i(806412),e3=i(813960),e5=i(185058),e6=i(757252),e4=i(632989),e9=i(521428),e8=i(91689),e7=i(888808),te=i(687265),tt=i(787735);let ti=(0,p.eU)({}),tn=(0,p.E3)("diagramming-shapes-sidebar-section-expanded-state",{});var tr=(e=>(e[e.Recents=0]="Recents",e[e.Connectors=1]="Connectors",e[e.SWT=2]="SWT",e[e.Advanced=3]="Advanced",e[e.OtherLibrary=4]="OtherLibrary",e[e.OtherLibraryCategory=5]="OtherLibraryCategory",e))(tr||{});function ta(e){let t=(0,p.md)(eA.Ai),i=(0,p.fp)(ti),n=(0,p.fp)(tn);return(0,l.useMemo)(()=>{let r=[];for(let{localStorageKey:a,sectionType:s,isDefaultExpanded:o}of e){if(!a){r.push([!0,()=>{}]);continue}let[e,l]=!function({isSearching:e,sectionType:t}){switch(t){case 4:case 5:return!0;default:return!e}}({sectionType:s,isSearching:t})?i:n,d=o??(t||![4,5].includes(s));r.push([e[a]??d,t=>{l({...e,[a]:t})}])}return r},[t,n,e,i])}function ts(e){let t={};return ta(e).forEach(([i],n)=>{let r=e[n]?.localStorageKey;r&&(t[r]=i)}),t}function to(e){return ta([e])[0]??[!0,()=>{}]}function tl({title:e,localStorageKey:t,sectionType:i,onboardingKey:n,totalItems:r,useStrongTypography:a=!0,isDefaultExpanded:s,testIdPrefix:d}){let[c,u]=to({localStorageKey:t,sectionType:i,isDefaultExpanded:s}),p=(0,l.useCallback)(()=>{u(!c)},[c,u]);return(0,o.jsx)(e4.E,{className:tt.uU,onClick:p,htmlAttributes:{"data-testid":`${d?`${d}-`:""}${eO.Pr}-${e}`,"data-onboarding-key":n??"","data-total-items":r??0},children:(0,o.jsx)(tc,{title:e,isExpanded:c,useStrongTypography:a})})}function td({title:e,localStorageKey:t,sectionType:i,showUpsellBanner:n,onboardingKey:r,totalItems:a,testIdPrefix:s,children:l}){let[d]=to({localStorageKey:t,sectionType:i});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(tl,{title:e,sectionType:i,localStorageKey:t,onboardingKey:r,totalItems:a,testIdPrefix:s}),n&&d&&(0,o.jsx)(tu,{}),d&&l]})}function tc({title:e,isExpanded:t,useStrongTypography:i}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h4",{...ef.xk(i?te.g.textBodyMediumStrong:te.g.textBodyMedium),children:e}),(0,o.jsx)("div",{className:"xm2njfp x8x9d4c",children:t?(0,o.jsx)(e8.l,{"aria-label":(0,A.t)("whiteboard.shapes_sidebar.collapse_section")}):(0,o.jsx)(e7.k,{"aria-label":(0,A.t)("whiteboard.shapes_sidebar.expand_section")})})]})}function tu({libraryTitle:e}){let t=(0,e6.uB)();return(0,o.jsxs)("div",{className:tt.m4,children:[(0,o.jsx)("div",{className:"x1sf2cm4 x1j6dyjg x2b8uid x1e56ztr",children:e?(0,A.t)("whiteboard.shapes_sidebar.upgrade_cta.library",{libraryTitle:e}):(0,A.t)("whiteboard.shapes_sidebar.upgrade_cta")}),(0,o.jsx)(e9.Pw,{onClick:t,children:(0,o.jsx)("span",{...ef.xk(te.g.textBodyMediumStrong),children:(0,A.t)("whiteboard.shapes_sidebar.view_plans")})})]})}var tp=i(813803),th=i(745591);let tm="shapes_sidebar_empty_search_result--emptyResultsLabelQuery--SQlGl";function tf({query:e}){let[t,i]=(0,p.fp)(eA.ah),n=t?(0,A.tx)("whiteboard.shapes_sidebar.search.empty.library",{searchQuery:(0,o.jsx)("span",{className:tm,children:e}),libraryTitle:t}):(0,A.tx)("whiteboard.shapes_sidebar.search.empty.global",{searchQuery:(0,o.jsx)("span",{className:tm,children:e})});return(0,o.jsxs)("div",{className:"shapes_sidebar_empty_search_result--emptyResultsLabelContainer--tLDfu","data-testid":eO.lO,children:[(0,o.jsx)(th.T,{className:"shapes_sidebar_empty_search_result--emptyResultsLabel--rY-Xq",role:"alert",children:n}),t?(0,o.jsx)(e4.E,{onClick:()=>i(void 0),children:(0,o.jsx)("span",{className:"xggk2y7 x1y0c0v0 x2b8uid",children:(0,A.tx)("whiteboard.shapes_sidebar.search.search_all")})}):null]})}var tx=i(916195),t_=i(169182),tg=i(714362),tb=i(714743),tj=i(80990),ty=i(455680),tv=i(633080),tC=i(588397);let tT=(e,t)=>[e,t].join("");function tE(e,t){if(e)return t?`shapeLibrary-${e}-${t}`:`shapeLibrary-${e}`}function tS({item:e,addToRecentsBehavior:t,toolSetSource:i,isLocked:n,metadata:r,testId:a}){(0,ej.h)(()=>{(async()=>{try{await tj.Eo.getCanvas(e)}catch(e){(0,tg.x1)("error","teamLibraryItemSceneGraphCache.getCanvas",e)}})()});let s=r&&r.id?(0,eG.vo)(r.id,e.name):"",d=(0,e6.HB)(e),u=(0,p.md)(ey.W6)===i,[h,m]=(0,p.fp)(eA.Hf),f=(0,l.useCallback)(()=>{(0,eG.KG)(e,i,s),(0,eG.ko)({event:eG.fT.SelectedShape,shape:e.name,searchState:h}),m({state:"complete"})},[e,h,m,i,s]),x=(0,l.useCallback)(()=>(0,eG.z9)(e,t),[e,t]),_=(0,e6.U_)(),g=(0,e6.yX)(),b=r?.id?(0,eG.N0)(r.id,e.name,"sidebar"):void 0,j=b?(0,o.jsx)(tk,{iconSrc:b,name:e.name}):null,y=r?.id===eO.iJ?eO.$s:eO.du;return(0,o.jsx)(tC.lX,{ThumbnailOverride:j,buttonProps:{onItemClick:n?g:f,onItemDoubleClick:n?void 0:x,onFocus:n?void 0:f,onBlur:_},className:n?tt.$I:d&&u?tt.WB:tt.Fu,draggable:n?void 0:{afterSuccessfulInsert:i=>{(e.type===tv.PW.COMPONENT||e.type===tv.PW.STATE_GROUP)&&(0,eG.KE)((0,eG.yw)(e),t,t_.Ay().user_data?.id)},onDragStart:()=>{ty.Y5.triggerActionEnum(c.rcl.SET_TOOL_DEFAULT),(0,eG.Ln)()},onPointerUp:eG.UH},height:y,isFigJam:!0,isSearch:!1,item:e,noBackground:!0,noVisibleFocus:!0,shouldHideDescription:!0,shouldShowShadowOnHover:!0,showName:!1,testId:a,thumbPaddingGrid:b?0:16,tooltipOverride:s||void 0,width:y})}function tw({title:e,sectionType:t,libraryIcon:i,totalItems:n,onboardingKey:r,testIdPrefix:a,localStorageKey:s}){let[d,c]=to({localStorageKey:s,sectionType:t}),u=(0,l.useCallback)(()=>{c(!d)},[d,c]);return(0,o.jsxs)(e4.E,{className:tt.WH,htmlAttributes:{"data-testid":`${a?`${a}-`:""}${eO.uI}-${e}`,"data-onboarding-key":r??"","data-total-items":n},onClick:u,children:[(0,o.jsx)("div",{className:tt.VL,children:i}),(0,o.jsxs)("div",{className:tt.HW,children:[(0,o.jsx)("p",{children:(0,eG.pf)(e)}),n?(0,o.jsx)("p",{className:tt.xB,children:(0,A.t)("whiteboard.shapes_sidebar.shapes_count",{numShapes:n})}):null]}),d?(0,o.jsx)(e7.k,{"aria-label":(0,A.t)("whiteboard.shapes_sidebar.collapse_section")}):(0,o.jsx)(e8.l,{"aria-label":(0,A.t)("whiteboard.shapes_sidebar.expand_section")})]})}function tI({title:e,icon:t,count:i,onClick:n,onboardingKey:r,testIdPrefix:a}){return(0,o.jsxs)(e4.E,{className:tt.WH,htmlAttributes:{"data-testid":`${a?`${a}-`:""}${eO.uI}-${e}`,"data-onboarding-key":r??"","data-total-items":i},onClick:n,children:[(0,o.jsx)("div",{className:tt.VL,children:t}),(0,o.jsxs)("div",{className:tt.HW,children:[(0,o.jsx)("p",{children:(0,eG.pf)(e)}),(0,o.jsx)("p",{className:tt.xB,children:(0,A.t)("whiteboard.shapes_sidebar.shapes_count",{numShapes:i})})]}),(0,o.jsx)(tx.e,{className:tt.nN})]})}let tL=[eO.iJ];function tN(e,t){return tL.includes(e[0])&&!tL.includes(t[0])?-1:!tL.includes(e[0])&&tL.includes(t[0])?1:e[0].localeCompare(t[0])}let tA=({data:e,isLocked:t,isExpanded:i,isConsolidatedLibrary:n,sectionType:r,showUpsellBanner:a,hasSectionHeader:s,onboardingKey:l,metadataByLibraryKey:d,isDefaultExpanded:u})=>{let p=(0,eG.pf)(e.title,e.librarySubCategory);return tV({isExpanded:i,headerInfo:s?{title:p,localStorageKey:tE(e.libraryKey,e.librarySubCategory),sectionType:r,libraryIcon:(0,eG.Nd)(e.title),key:tT(e.libraryKey,e.librarySubCategory??e.title),onboardingKey:l,totalItems:e.items.length,testIdPrefix:eO.UC,isConsolidatedLibrary:n,useStrongTypography:!0,isDefaultExpanded:u}:void 0,items:e.items,getTile:i=>(0,o.jsx)(tS,{item:i,metadata:d?.[i.library_key],addToRecentsBehavior:c.VTL.YES,toolSetSource:c.qq.SHAPES_SIDEBAR_REGULAR,isLocked:t,testId:`${e.title}-${eO.Kv}-${i.id}`},i.id),showUpsellBanner:a,libraryId:d?.[e.libraryKey]?.id})};function tO({libraryKey:e,title:t,items:i,metadataByLibraryKey:n,canShowUpsellBanner:r,librarySubCategory:a}){let s=(0,e6.es)(),d=(0,eG.ek)(i[0]?.library_key,n),u=(0,l.useMemo)(()=>{let e=i[0]?.library_key;if(e)return n?.[e]?.id===eO.iJ?eL.D8:void 0},[i,n]);return(0,o.jsx)(td,{title:t,localStorageKey:tE(e,a),sectionType:tR({isAdvancedLibrary:d,isSubCategory:!!a}),showUpsellBanner:r&&s,onboardingKey:u,totalItems:i.length,testIdPrefix:eO.UC,children:i.map(e=>(0,o.jsx)(tS,{item:e,metadata:n?.[e.library_key],addToRecentsBehavior:c.VTL.YES,toolSetSource:c.qq.SHAPES_SIDEBAR_REGULAR,isLocked:s,testId:`${t}-${eO.Kv}-${e.id}`},e.id))})}function tk({iconSrc:e,name:t,testIdPrefix:i="shapes-library-item-tile-thumb-override",variant:n="sidebar"}){return(0,o.jsx)("div",{className:e_()({[tt.vq]:"sidebar"===n,[tt.et]:"swapper"===n}),"data-testid":`${i}-${t}`,"data-svg-no-gray-fill":!0,children:(0,o.jsx)(tb.B,{svg:e,className:tt.lO})})}function tR({isAdvancedLibrary:e,isSubCategory:t}){return e?tr.Advanced:t?tr.OtherLibraryCategory:tr.OtherLibrary}let tM="recents";function tD({metadataByLibraryKey:e}){let t=(0,e6.B8)(),i=(0,p.md)(ey.ez),n=(0,p.md)(ey.U9),r=(0,e6.es)();if(t.length<1)return null;let a=t.slice(0,eO.qA);return(0,o.jsx)(td,{title:(0,A.t)("whiteboard.shapes_sidebar.recents"),localStorageKey:tM,sectionType:tr.Recents,children:a.map(t=>{let a=eZ(t);return a?"library"===a.type?(0,o.jsx)(tS,{item:a.item,addToRecentsBehavior:c.VTL.YES_WITHOUT_REORDER,toolSetSource:c.qq.SHAPES_SIDEBAR_RECENTS,testId:`recents-${eO.Kv}-${a.item.id}`,isLocked:r,metadata:e?.[a.item.library_key]},`recents-${a.item.id}`):(0,o.jsx)(e3.h,{shapeType:a.shapeType,color:i,strokeStyleType:n,addToRecentsBehavior:c.VTL.YES_WITHOUT_REORDER,toolSetSource:c.qq.SHAPES_SIDEBAR_RECENTS,testId:`recents-${eO.QA}-${a.shapeType}`,recordingKey:e2.Pt(eO.eu,`${eO.QA}-${a.shapeType}`)},`recents-${a.shapeType}`):null})})}let tP=new eP.kv,tU=e=>`shapesWithText-${e}`;function tF({collectionType:e,shapes:t,shapeColor:i,shapeToolStrokeStyleType:n}){return(0,o.jsx)(td,{title:tP.format(e),localStorageKey:tU(e),sectionType:tr.SWT,children:t.map(t=>(0,o.jsx)(e3.h,{shapeType:t,color:i,strokeStyleType:n,addToRecentsBehavior:c.VTL.YES,toolSetSource:c.qq.SHAPES_SIDEBAR_REGULAR,testId:`${e}-${eO.QA}-${t}`,recordingKey:e2.Pt(eO.Yu,`${eO.QA}-${t}`)},`${e}-${t}`))},e)}let tB={numColumns:4,height:eO.$s+eO.OS,style:tt.H0},tH={numColumns:5,height:eO.du,style:tt.Tk};function tV({isExpanded:e,headerInfo:t,items:i,getTile:n,showUpsellBanner:r,libraryId:a}){let s=[];return 0===i.length?[]:(t&&(s.push(t.isConsolidatedLibrary?{element:(0,o.jsx)("div",{className:tt.n_,children:(0,o.jsx)(tw,{...t})}),height:eO.d5+1}:{element:(0,o.jsx)(tl,{...t}),height:eO.GN}),!e)||(r&&s.push({element:(0,o.jsx)("div",{className:tt.fL,children:(0,o.jsx)(tu,{})}),height:eO.pD}),s.push(...function({items:e,layout:t,getTile:i}){let n=[];for(let r=0;r<e.length;r+=t.numColumns){let a=e.slice(r,r+t.numColumns),s=[];a.forEach(e=>{let t=i(e);t&&s.push(t)}),n.push({element:(0,o.jsx)("div",{className:t.style,children:s}),height:t.height})}return n}({items:i,layout:a&&a!==eO.iJ?tH:tB,getTile:n}))),s)}function tG({data:e,shapeColor:t,shapeToolStrokeStyleType:i,query:n,metadataByLibraryKey:r}){let a=function(e){let t=tr.Recents,[i]=to({localStorageKey:tM,sectionType:t}),n=(0,e6.B8)(),r=(0,p.md)(ey.ez),a=(0,p.md)(ey.U9),s=(0,p.md)(eA.Ai),l=(0,e6.es)();if(n.length<1||s)return[];let d=n.slice(0,eO.qA);return tV({isExpanded:i,headerInfo:{title:(0,A.t)("whiteboard.shapes_sidebar.recents"),localStorageKey:tM,sectionType:t},items:d,getTile:t=>{let i=eZ(t);return i?"library"===i.type?(0,o.jsx)(tS,{item:i.item,addToRecentsBehavior:c.VTL.YES_WITHOUT_REORDER,toolSetSource:c.qq.SHAPES_SIDEBAR_RECENTS,testId:`recents-${eO.Kv}-${i.item.id}`,isLocked:l,metadata:e?.[i.item.library_key]},`recents-${i.item.id}`):(0,o.jsx)(e3.h,{shapeType:i.shapeType,color:r,strokeStyleType:a,addToRecentsBehavior:c.VTL.YES_WITHOUT_REORDER,toolSetSource:c.qq.SHAPES_SIDEBAR_RECENTS,testId:`recents-${eO.QA}-${i.shapeType}`,recordingKey:e2.Pt(eO.eu,`${eO.QA}-${i.shapeType}`)},`recents-${i.shapeType}`):null}})}(r),s=function({connectorStyles:e,shapeColor:t,shapeToolStrokeStyleType:i}){let n=(0,eG.DP)(),r=(0,eG.vz)(),a=(0,e6.AE)(),s=tr.Connectors,[l]=to({sectionType:s,localStorageKey:tW});return tV({isExpanded:l,items:e,headerInfo:{title:a?(0,A.t)("whiteboard.shapes_sidebar.connections"):(0,A.t)("whiteboard.shapes_sidebar.connectors"),localStorageKey:tW,sectionType:s},getTile:e=>"MINDMAP_TREE_NUCLEUS"===e?(0,o.jsx)(e3.h,{addToRecentsBehavior:c.VTL.NO,color:t,disableDragging:!0,recordingKey:e2.Pt(eO.qD,e),shapeType:e,size:"large",strokeStyleType:i,testId:`${eO.Xi}-${e}`,toolSetSource:c.qq.SHAPES_SIDEBAR_REGULAR},e):(0,o.jsx)(e5.W,{isSelected:n(e),connectorStyle:e,setConnectorTool:r,size:"large",testId:`${eO.Xi}-${e}`,recordingKey:e2.Pt(eO.qD,`${eO.Xi}-${e}`)},e)})}({connectorStyles:e.connectorData,shapeColor:t,shapeToolStrokeStyleType:i}),d=function({swtData:e,shapeColor:t,shapeToolStrokeStyleType:i}){let n=tr.SWT,r=ts(e.map(e=>({localStorageKey:tU(e.swtCollectionType),sectionType:tr.SWT})));return e.reduce((e,{swtCollectionType:a,shapes:s})=>{let l=tU(a);return[...e,...tV({isExpanded:r[l]??!0,headerInfo:{title:tP.format(a),localStorageKey:l,sectionType:n,key:a},items:s,getTile:e=>(0,o.jsx)(e3.h,{shapeType:e,color:t,strokeStyleType:i,addToRecentsBehavior:c.VTL.YES,toolSetSource:c.qq.SHAPES_SIDEBAR_REGULAR,testId:`${a}-${eO.QA}-${e}`,recordingKey:e2.Pt(eO.Yu,`${eO.QA}-${e}`)},`${a}-${e}`)})]},[])}({swtData:e.swtData,shapeColor:t,shapeToolStrokeStyleType:i}),u=function({shapeLibraryData:e,metadataByLibraryKey:t}){let i=(0,e6.es)(),n=(0,p.md)(eA.Ai),r=!!(0,p.md)(eA.ah),a=e.reduce((e,t)=>(e[t.title]||(e[t.title]=[]),e[t.title]?.push(t),e),{}),s=[];for(let[,e]of Object.entries(a)){let i=e[0],n=i&&!(0,eG.ek)(i.libraryKey,t);n&&s.push({localStorageKey:tE(i.libraryKey),sectionType:tr.OtherLibrary}),s=s.concat(e.map((e,i)=>({localStorageKey:tE(e.libraryKey,e.librarySubCategory),sectionType:tR({isAdvancedLibrary:(0,eG.ek)(e.libraryKey,t),isSubCategory:!!e.librarySubCategory}),isDefaultExpanded:!!n&&0===i||void 0})))}let d=ts(s);return(0,l.useMemo)(()=>{let e=!1;return Object.entries(a).sort(tN).reduce((a,[s,l])=>{let c=l[0]?.libraryKey;if(!c)return a;let u=(0,eG.ek)(c,t),p=u?eL.D8:void 0,h=[],m=n&&!r&&!u,f=m?[{libraryKey:c,title:s,items:l.reduce((e,t)=>e.concat(...t.items),[])}]:l;if(!i||e||u||r||(h=h.concat([{element:(0,o.jsx)("div",{className:tt.e0,children:(0,o.jsx)(tu,{})}),height:eO.kv}]),e=!0),u||n||r){let n=f.reduce((n,a,s)=>{let o=tE(a.libraryKey,a.librarySubCategory),l=!r||f.length>1,c=l&&0===s&&i&&!a.librarySubCategory&&!e;return e||=c,[...n,...tA({data:a,isExpanded:!o||(d[o]??!0),sectionType:tR({isAdvancedLibrary:u,isSubCategory:!!a.librarySubCategory}),isConsolidatedLibrary:m,isLocked:i,showUpsellBanner:c,hasSectionHeader:l,onboardingKey:p,metadataByLibraryKey:t,isDefaultExpanded:!u&&0===s||void 0})]},[]);h=h.concat(n)}return a.concat(h)},[])},[d,r,i,n,t,a])}({shapeLibraryData:e.shapeLibraryData,metadataByLibraryKey:r}),h=(0,p.md)(eA.Ai),m=!!(0,p.md)(eA.ah),f=l.useMemo(()=>h&&eY(e)?[{element:(0,o.jsx)(tf,{query:n}),height:200}]:m?u:[...a,...s,...d,...u],[e,m,h,n,s,u,a,d]),x=l.useRef(null),_=(0,tp.Te)({count:f.length,getScrollElement:()=>x.current,estimateSize:e=>f[e]?.height??0,getItemKey:e=>`shapes-sidebar-virtual-row-${e}`,overscan:10,paddingEnd:12});return(0,o.jsx)(ev.P,{scrollContainerRef:x,horizontalScrollingDisabled:!0,className:tt.jG,scrollContainerDataTestId:"shapes-sidebar-virtual-scroll-container",children:(0,o.jsx)("div",{style:{height:`${_.getTotalSize()}px`,width:"100%",position:"relative"},children:(0,o.jsx)(eN.Lz,{children:_.getVirtualItems().map(e=>(0,o.jsx)("div",{"data-testid":e.key,style:{position:"absolute",top:0,left:0,width:"100%",height:`${e.size}px`,transform:`translateY(${e.start}px)`},children:f[e.index]?.element},e.key))})})})}let tW="connectors";function tK({connectorStyles:e,shapeColor:t,shapeToolStrokeStyleType:i}){let n=(0,eG.DP)(),r=(0,eG.vz)(),a=(0,e6.AE)();return(0,o.jsx)(td,{title:a?(0,A.t)("whiteboard.shapes_sidebar.connections"):(0,A.t)("whiteboard.shapes_sidebar.connectors"),localStorageKey:tW,sectionType:tr.Connectors,children:e.map(e=>"MINDMAP_TREE_NUCLEUS"===e?(0,o.jsx)(e3.h,{addToRecentsBehavior:c.VTL.NO,color:t,disableDragging:!0,recordingKey:e2.Pt(eO.qD,e),shapeType:e,size:"large",strokeStyleType:i,testId:`${eO.Xi}-${e}`,toolSetSource:c.qq.SHAPES_SIDEBAR_REGULAR},e):(0,o.jsx)(e5.W,{isSelected:n(e),connectorStyle:e,setConnectorTool:r,size:"large",testId:`${eO.Xi}-${e}`,recordingKey:e2.Pt(eO.qD,`${eO.Xi}-${e}`)},e))})}let tz={otherLibrariesHeaderRow:{display:"x78zum5",flexShrink:"x2lah0s",alignItems:"x6s0dn4",justifyContent:"x1qughib",padding:"x1i0f7ym",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,$$css:!0},withBottomBorder:{borderBottom:"x1kgkb76",borderBottomWidth:null,borderBottomStyle:null,borderBottomColor:null,$$css:!0}};function tZ({shapeLibraryData:e,metadataByLibraryKey:t,isFullyExpanded:i=!1}){let n=(0,l.useMemo)(()=>e.reduce((e,t)=>(e[t.title]||(e[t.title]=[]),e[t.title]?.push(t),e),{}),[e]),r=(0,p.Xr)(eA.ah),[a,s]=(0,l.useState)(!1),d=(0,l.useCallback)(e=>{s(e>0)},[]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{...ef.xk(te.g.textBodyMediumStrong,tz.otherLibrariesHeaderRow,a&&tz.withBottomBorder),style:{height:eO.GN},"data-testid":`platform-shapes-split-panel-${eO.Pr}-other-libraries`,children:(0,o.jsx)("h3",{className:"x98rzlu xuxw1ft xb3r6kr xlyipyv x1db2dqx",children:(0,A.t)("whiteboard.shapes_sidebar.other_libraries")})}),(0,o.jsx)(ev.P,{horizontalScrollingDisabled:!0,onScroll:d,scrollingDisabled:i,hideScrollbar:i,className:"x78zum5 xdt5ytf xh8yej3 x6s0dn4 xl56j7k xysyzu8",children:Object.entries(n).sort(tN).map(([e,i])=>{let n=i[0]?.items[0]?.library_key;return(0,eG.ek)(n,t)?null:(0,o.jsx)("div",{className:"xmtjor9",children:(0,o.jsx)(tI,{title:e,icon:(0,eG.Nd)(e),count:i.reduce((e,t)=>e+t.items.length,0),onClick:()=>{eb.az.trackDefinedEvent("figjam_advanced_diagramming.shapes_sidebar_library_open",{libraryTitle:e,libraryKey:n}),r(e)},testIdPrefix:eO.zk},n)})})})]})}function t$(){let e=(0,e6.ke)();return(0,o.jsx)(f.tH,{boundaryKey:"FigJamShapesSidebar",team:P.e.FIGJAM,fallback:f.H4.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{e()},children:(0,o.jsx)(tY,{})})}function tY(){let e=(0,ec.U1)(),t=(0,p.md)(eA.ah),i=(0,p.md)(ey.ez),n=(0,p.md)(ey.U9),{libraryItems:r,metadata:a}=(0,eI.uE)(),[s,d]=(0,p.fp)(eA.Hf),[c,h]=(0,p.fp)(eA.oW),[m,f]=(0,p.fp)(eA.Ai),x=!!t,_=(0,p.Xr)(ti),g=(0,e6.es)(),[b,j]=(0,p.fp)(eA.sz),y=l.useRef(null);(0,ej.h)(()=>{void 0===b&&j(y.current?y.current.clientHeight-eO.Zu:550)});let v=(0,l.useMemo)(()=>{let e=!(0,u.k)().ad_branded_shapes_m1,t=Object.keys(r.libraryKeyToSubscribedItems);return e?t.filter(e=>!(a?.[e]?.tags??[]).includes("branded")):void 0},[a,r]),C=(0,e6.AE)(),T=(0,l.useMemo)(()=>e$(r,v,C),[r,v,C]),[E,S]=(0,l.useState)(T),w=(0,l.useCallback)(e=>{if(""===e){(0,eG.ko)({event:eG.fT.ClearedSearch,searchState:s}),d({state:"inactive"}),S(T),h(e),_({});return}let{connectorData:i,swtData:n,shapeLibraryData:r}=T;S({swtData:e0(n,e),shapeLibraryData:e1(r,e),connectorData:eQ(i,e)}),h(t=>(""===t&&eb.az.trackDefinedEvent("figjam_advanced_diagramming.shapes_sidebar_search",{}),e)),d((0,eG.vD)({searchState:s,query:e,libraryTitle:t})),f(!0)},[T,s,f,h,d,_,t]),I=(0,eg.A)(w,200),L=(0,l.useCallback)(()=>{I.cancel(),w(""),f(!1)},[I,w,f]),N=(0,l.useCallback)(e=>""===e?L():I(e),[L,I]),A=(0,l.useMemo)(()=>Object.entries(a??{}).reduce((e,[t,i])=>e+(i.id&&!tL.includes(i.id)?1:0),0),[a]),[O,k]=(0,l.useState)({minTopPanelHeight:void 0,maxTopPanelHeight:void 0}),R=!m&&!x&&A>0;l.useEffect(()=>{if(!y.current)return;let e=new ResizeObserver(()=>{if(!y.current)return;let e=y.current.clientHeight,t=eO.GN+eO.d5*A+2,i=e-eO.GN-2;k({minTopPanelHeight:e-t,maxTopPanelHeight:i}),j(e-eO.Zu)});return e.observe(y.current),()=>e.disconnect()},[A,j,R]);let{minTopPanelHeight:M,maxTopPanelHeight:D}=O,P=l.useMemo(()=>(0,o.jsx)(tG,{data:x?{swtData:[],shapeLibraryData:E.shapeLibraryData.filter(e=>e.title===t),connectorData:[]}:E,shapeColor:i,shapeToolStrokeStyleType:n,query:c,metadataByLibraryKey:a}),[E,x,a,c,t,i,n]);return(0,o.jsx)(ew.wV,{ref:e,size:eS.qm,defaultSize:eS.qm,onResize:ed.lQ,className:e_()(tt.cx,eT.s.relative.wFitContent.flex.flexShrink1.flexGrow1.overflowAuto.$,eE.Dm),disableResizing:!0,side:"right","data-cancel-insertable-resource-drag-and-drop":!0,children:(0,o.jsxs)("div",{id:eO.YV,"data-testid":eO.YV,className:e_()(tt.kL,eT.s.relative.wFitContent.borderBox.selectNone.radiusLarge.flex.flexColumn.itemsCenter.colorBg.elevation100.overflowHidden.$),children:[(0,o.jsx)(t0,{searchQuery:c,handleSearch:N,categoryTitle:t}),(0,o.jsx)(tJ,{}),x&&!c.length?(0,o.jsx)(tq,{title:t}):null,x&&g?(0,o.jsx)("div",{className:c.length?tt.e0:tt.fL,children:(0,o.jsx)(tu,{libraryTitle:t})}):null,(0,u.k)().ad_branded_shapes_m1?R?(0,o.jsxs)("div",{ref:y,className:tt.Z$,children:[(0,o.jsx)(ew.wV,{onResize:e=>{M&&D&&j(Math.min(Math.max(e,M),D))},size:b,side:"bottom",className:tt.SN,children:P}),(0,o.jsx)(tJ,{}),(0,o.jsx)(tZ,{shapeLibraryData:E.shapeLibraryData,metadataByLibraryKey:a,isFullyExpanded:!!M&&!!b&&b<=M})]}):P:(0,o.jsxs)(ev.P,{horizontalScrollingDisabled:!0,className:tt.jG,children:[(0,o.jsx)(tQ,{data:E,shapeColor:i,shapeToolStrokeStyleType:n,query:c,metadataByLibraryKey:a}),(0,o.jsx)("div",{className:eT.s.h12.flexShrink0.$})]})]})})}function tq({title:e}){let t=(0,p.Xr)(eA.ah);return(0,o.jsxs)("div",{className:"x78zum5 x1q0g3np xe8ttls x9f619 xh8yej3",children:[(0,o.jsx)(eu.K,{htmlAttributes:{"data-testid":eO.Jg},onClick:()=>{t(void 0)},"aria-label":(0,A.t)("whiteboard.shapes_sidebar.back"),children:(0,o.jsx)(ep.C,{})}),(0,o.jsx)("h3",{className:"xlup9mm x20nx6h",children:(0,eG.pf)(e)})]})}function tX({children:e,closeAction:t,testId:i}){return(0,o.jsxs)("div",{"data-testid":i,className:"x78zum5 x1q0g3np x6s0dn4 x4pvk5x x1ci220x x163pfp",children:[(0,o.jsx)("div",{className:"xmzs88n xv1l7n4",children:e}),(0,o.jsx)(eu.K,{htmlAttributes:{"data-testid":eO.m3},"aria-label":(0,A.t)("canvas_search.filter.remove"),onClick:t,children:(0,o.jsx)(eh.f,{})})]})}function tJ(){return(0,o.jsx)("div",{className:eT.s.flexGrow0.flexShrink0.wFull.h1.bt1.bSolid.colorBorder.$})}function tQ({data:e,shapeColor:t,shapeToolStrokeStyleType:i,query:n,metadataByLibraryKey:r}){let a=(0,p.md)(eA.Ai);return a&&eY(e)?(0,o.jsx)(tf,{query:n}):(0,o.jsxs)("div",{className:tt.rs,"data-testid":eO.w4,children:[!a&&(0,o.jsx)(eN.Lz,{children:(0,o.jsx)(tD,{metadataByLibraryKey:r})}),(0,o.jsxs)(eN.Lz,{children:[0!==e.connectorData.length&&(0,o.jsx)(tK,{connectorStyles:e.connectorData,shapeColor:t,shapeToolStrokeStyleType:i}),e.swtData.map(e=>(0,o.jsx)(tF,{collectionType:e.swtCollectionType,shapes:e.shapes,shapeColor:t,shapeToolStrokeStyleType:i},e.swtCollectionType)),e.shapeLibraryData.map(({libraryKey:e,title:t,items:i,librarySubCategory:n},a)=>(0,o.jsx)(tO,{title:t,libraryKey:e,items:i,metadataByLibraryKey:r,canShowUpsellBanner:0===a,librarySubCategory:n},tT(e,t)))]})]})}function t0({searchQuery:e,handleSearch:t}){let i=(0,j.Kx)(),[n,r]=(0,p.fp)(eA.ah),a=(0,l.useCallback)(()=>t(""),[t]),s=(0,e6.ke)(),d=n?(0,A.t)("whiteboard.shapes_sidebar.search_shapes_in_category",{categoryTitle:n}):(0,A.t)("whiteboard.shapes_sidebar.search_shapes");return(0,o.jsxs)("div",{className:eT.s.wFull.py12.$,children:[(0,o.jsxs)("div",{"data-onboarding-key":eL.Zh,className:eT.s.flex.flexRow.pl16.pr8.gap8.$,children:[(0,o.jsx)("h2",{className:eT.s.itemSelfCenter.textBodyLargeStrong.flexGrow1.$,children:(0,A.t)("whiteboard.shapes_sidebar.title")}),(0,o.jsx)("div",{className:eT.s.flexGrow0.flex.flexRow.gap8.$,children:(0,o.jsx)(eu.K,{"aria-label":(0,A.t)("whiteboard.shapes_sidebar.close"),onClick:()=>{s()},recordingKey:"close-shapes-sidebar",htmlAttributes:{"data-testid":eO.NQ},children:(0,o.jsx)(em.A,{})})})]}),(0,o.jsx)("div",{className:eT.s.pr8.pl12.mt8.flexGrow1.$,children:(0,o.jsx)("div",{className:eT.s.p0.colorBgSecondary.radiusMedium.mb4.$,children:(0,o.jsx)(eC.IW,{ariaDescription:(0,A.t)("general.search_will_update"),className:tt.ON,clearSearch:a,focusOnMount:!i?.shouldOptimizeForIpadApp,hasTransparentBackground:!0,iconClassName:eT.s.colorIconSecondary.$,onChange:t,placeholder:d,query:e,selectTextOnMount:!i?.shouldOptimizeForIpadApp,smallFont:!0,withSmallXIcon:!0,withUI3Icon:!0})})}),e.length&&n?(0,o.jsx)("div",{className:"x78zum5 x1q0g3np x1uxwvfr",children:(0,o.jsx)(tX,{testId:eO._U+"-"+n,closeAction:()=>r(void 0),children:(0,A.tx)("whiteboard.shapes_sidebar.search.token.in_library",{libraryTitle:(0,o.jsx)("span",{className:"xiuzu7u",children:(0,eG.pf)(n)})})})}):null]})}var t1=i(162641),t2=i(646972),t3=i(790868),t5=i(760762),t6=i(121043),t4=i(465776),t9=i(821217),t8=i(236327),t7=i(12342),ie=i(186343),it=i(226610),ii=i(129884),ir=i(799e3),ia=i(254335),is=i(506456),io=i(153133),il=i(306437);function id(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 17H19C19.5523 17 20 16.5523 20 16V7.68748V4.99998C20 4.4477 19.5523 3.99998 19 3.99998L8 3.99998C7.44772 3.99998 7 4.4477 7 4.99998V6.00002L6 6.00002L6 4.99998C6 3.89542 6.89543 2.99998 8 2.99998H19C20.1046 2.99998 21 3.89542 21 4.99998V7.68748V16C21 17.1046 20.1046 18 19 18H18V17ZM5 20.0001H16C16.5523 20.0001 17 19.5524 17 19.0001V10.6876V8.00011C17 7.44782 16.5523 7.00011 16 7.00011H5C4.44772 7.00011 4 7.44782 4 8.00011V19.0001C4 19.5524 4.44772 20.0001 5 20.0001ZM16 21.0001H5C3.89543 21.0001 3 20.1047 3 19.0001V8.00011C3 6.89554 3.89543 6.00011 5 6.00011H16C17.1046 6.00011 18 6.89554 18 8.00011V10.6876V19.0001C18 20.1047 17.1046 21.0001 16 21.0001ZM10.5 14.5C11.0523 14.5 11.5 14.0523 11.5 13.5C11.5 12.9477 11.0523 12.5 10.5 12.5C9.94772 12.5 9.5 12.9477 9.5 13.5C9.5 14.0523 9.94772 14.5 10.5 14.5ZM14.5 13.5C14.5 14.0523 14.0523 14.5 13.5 14.5C12.9477 14.5 12.5 14.0523 12.5 13.5C12.5 12.9477 12.9477 12.5 13.5 12.5C14.0523 12.5 14.5 12.9477 14.5 13.5ZM7.5 14.5C8.05228 14.5 8.5 14.0523 8.5 13.5C8.5 12.9477 8.05228 12.5 7.5 12.5C6.94772 12.5 6.5 12.9477 6.5 13.5C6.5 14.0523 6.94772 14.5 7.5 14.5Z",fill:"var(--color-icon)"})})}function ic({pageCount:e,...t}){return(0,o.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...t,children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 17H18V18H19C20.1046 18 21 17.1046 21 16V7.68748V4.99998C21 3.89542 20.1046 2.99998 19 2.99998H8C6.89543 2.99998 6 3.89542 6 4.99998L6 6.00002L7 6.00002V4.99998C7 4.4477 7.44772 3.99998 8 3.99998L19 3.99998C19.5523 3.99998 20 4.4477 20 4.99998V7.68748V16C20 16.5523 19.5523 17 19 17ZM16 20.0001H5C4.44772 20.0001 4 19.5524 4 19.0001V8.00011C4 7.44782 4.44772 7.00011 5 7.00011H16C16.5523 7.00011 17 7.44782 17 8.00011V10.6876V19.0001C17 19.5524 16.5523 20.0001 16 20.0001ZM5 21.0001H16C17.1046 21.0001 18 20.1047 18 19.0001V10.6876V8.00011C18 6.89554 17.1046 6.00011 16 6.00011H5C3.89543 6.00011 3 6.89554 3 8.00011V19.0001C3 20.1047 3.89543 21.0001 5 21.0001Z",fill:"var(--color-icon)"}),(0,o.jsx)("text",{x:"10.5",y:"14.5",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Inter",fontWeight:"550",fontSize:"9",fill:"var(--color-icon)",children:e})]})}let iu="pages_dropdown--pagesDropdownButton--9KRC-",ip="pages_dropdown--active--R5AFZ",ih="pages_dropdown--pagesDropdownIcon--nnevp",im="pages_dropdown--dropdownHeaderText--dp9ZX ellipsis--ellipsis--Tjyfa";function ix({triggerType:e,pagesList:t,nonDividerPageCount:i,isDropdownOpen:n,setIsDropdownOpen:r,isReadOnly:a}){let s=(0,l.useRef)(null),d=(0,l.useCallback)(()=>r(!1),[r]),c=(0,l.useCallback)(()=>r(!n),[r,n]),u=s.current?.getBoundingClientRect(),p=(0,it.o3)(it.nt.figjamPagePickerA11y),h=`${l.useId()}-dropdown-trigger`,m=`${l.useId()}-dropdown-menu`,f=(0,ie.dh)(),x=l.useMemo(()=>{let e=t.map(e=>e.nodeId).findIndex(e=>e===f);return e<0?null:e+1},[f,t]),_=(()=>{switch(e){case t2.mb.ADD_PAGE:return(0,o.jsx)(i_,{isDropdownOpen:n,toggleDropdown:c,ref:s});case t2.mb.VIEW_PAGES:return(0,o.jsx)(ig,{pageCount:i,isDropdownOpen:n,toggleDropdown:c,ref:s,id:h,menuID:m,currentPagePosition:x,shouldUseAccessibleElements:p});default:(0,t4.xb)(e)}})();return(0,o.jsxs)(o.Fragment,{children:[_,n&&u&&(0,o.jsxs)(ib,{targetRect:u,shouldUseAccessibleElements:p,close:d,id:m,triggerID:h,children:[(0,o.jsx)(ij,{shouldUseAccessibleElements:p}),(0,o.jsx)(iy,{pagesList:t,isReadOnly:a,closeDropdown:d,shouldUseAccessibleElements:p})]})]})}let i_=(0,l.forwardRef)(function({isDropdownOpen:e,toggleDropdown:t},i){return(0,o.jsx)(e4.E,{className:e_()(iu,"pages_dropdown--singlePage--RS1Vj",{[ip]:e}),onClick:t,"aria-label":(0,A.t)("pages_panel.toolbar.add_pages_tooltip"),ref:i,"aria-pressed":e,htmlAttributes:{"data-tooltip":(0,A.t)("pages_panel.toolbar.add_pages_tooltip"),"data-tooltip-type":ii.Ib.TEXT},children:(0,o.jsx)("span",{className:ih,children:(0,o.jsx)(ic,{})})})}),ig=(0,l.forwardRef)(function({currentPagePosition:e,id:t,isDropdownOpen:i,menuID:n,pageCount:r,shouldUseAccessibleElements:a=!1,toggleDropdown:s},d){let c=(0,ie.nn)(),u=l.useMemo(()=>a&&c?e?(0,A.t)("pages_panel.toolbar.dropdown_trigger.label",{currentPageName:c,currentPageNumber:e,totalPageCount:r}):(0,A.t)("pages_panel.toolbar.dropdown_trigger.label_without_position",{currentPageName:c}):(0,A.t)("pages_panel.toolbar.view_pages_tooltip"),[c,e,r,a]);return(0,o.jsxs)(e4.E,{ref:d,"aria-controls":a&&n||void 0,"aria-expanded":i,"aria-haspopup":"menu","aria-label":u,className:e_()(iu,{[ip]:i}),onClick:s,htmlAttributes:{"data-testid":"figjam.pages_panel.toolbar.dropdown_trigger","data-tooltip":(0,A.t)("pages_panel.toolbar.view_pages_tooltip"),"data-tooltip-type":ii.Ib.TEXT,id:a&&t||void 0},children:[(0,o.jsx)("span",{className:ih,children:r>9?(0,o.jsx)(id,{}):(0,o.jsx)(ic,{pageCount:r})}),(0,o.jsx)("span",{className:"pages_dropdown--pagesDropdownButtonText--vxa32 ellipsis--ellipsis--Tjyfa",children:c})]})});function ib({targetRect:e,close:t,children:i,shouldUseAccessibleElements:n=!1,id:r,triggerID:a}){let s=(0,d.wA)(),c={top:e.y+e.height+16,left:e.x,width:200,maxHeight:312};return(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return window.addEventListener("keydown",e),window.addEventListener("blur",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("blur",t)}},[t]),(0,o.jsx)(t9.o,{eventListeners:["onClick","onMouseDown"],children:(0,o.jsx)(t8.gw,{id:n&&r||void 0,"aria-labelledby":n&&a||void 0,className:"pages_dropdown--dropdown--wiw73",style:c,dispatch:s,closeDropdown:t,positionFixed:!0,tabIndex:n?-1:void 0,children:(0,o.jsx)("div",{className:"pages_dropdown--dropdownContents--3qDS5",children:i})})})}function ij({shouldUseAccessibleElements:e=!1}){let t=(0,t2.hs)(),i=(0,t7.V6)();return(0,o.jsxs)("div",{className:"pages_dropdown--dropdownHeader--K3jZk",children:[e?(0,o.jsx)("h2",{className:im,children:(0,A.t)("fullscreen.pages_panel.pages")}):(0,o.jsx)("span",{className:im,children:(0,A.tx)("fullscreen.pages_panel.pages")}),t&&(i?(0,o.jsx)(ia.t,{}):(0,o.jsx)(ir.e,{}))]})}function iy({pagesList:e,isReadOnly:t,closeDropdown:i,shouldUseAccessibleElements:n=!1}){let[r,a]=(0,l.useState)(!1),s=(0,l.useRef)(null),d=(0,l.useCallback)(e=>{a(e>0)},[]);(0,il.a)({pagesList:e,scrollContainerRef:s});let c=(0,t2.sv)(),u=(0,io.g)({pagesList:e,shouldShowDuplicateOption:c});return(0,o.jsx)(ev.P,{horizontalScrollingDisabled:!0,onScroll:d,className:e_()("pages_dropdown--scrollContainer--jAJ5C",{"pages_dropdown--withTopBorder--LkCLX":r}),innerClassName:"pages_dropdown--scrollContainerContents--12wMh",ref:s,children:(0,o.jsx)(is.bU,{pages:e,isReadOnly:t,onContextMenu:u,isComparingChanges:!1,onPageSwitch:i,activePageShouldUseBrandColor:!0,shouldUseButtonRows:n})})}var iv=i(95038),iC=i(929976),iT=i(91703),iE=i(848862),iS=i(521211),iw=i(112838),iI=i(452252),iL=i(825649),iN=i(146384);function iA({containerRef:e}){let t=(0,iS.Z)(),i=(0,d.wA)(),n=(0,iE.Um)(),r=n?.type===iI.eg,a=(0,d.d4)(e=>e.isRenaming),s=(0,G.q5)(),c=(0,L.iZ)(),u=!!s&&(0,iN.DF)(s,c),p=s?.project?.activeProjectResourceConnections?.[0],h=l.useRef(null),m=h.current?.getBoundingClientRect(),f=e.current?.getBoundingClientRect(),x=(0,iw.E)(h,!a),_={top:f?.top??0,bottom:f?.bottom?f?.bottom+3:0,left:m?.left??0,right:m?.right??0,width:m?.width??0,height:m?.height??0},[g,b]=l.useState(!1);return l.useEffect(()=>{if(g){let e=setTimeout(()=>{b(!1),ty.Y5.triggerAction("toggle-sidebar",{source:"figjam-panel"})},200);return()=>clearTimeout(e)}},[i,g]),(0,o.jsxs)(o.Fragment,{children:[a?(0,o.jsx)("span",{className:"panel_toggle--fileNameInput--hzx4e panel_toggle--containerBase--4sK6N",style:{width:Math.max(150,x??0)},children:(0,o.jsx)(iI.o3,{})}):(0,o.jsxs)(e4.E,{className:"panel_toggle--button--Z3V1x panel_toggle--containerBase--4sK6N",ref:h,onClick:()=>{b(!0)},"aria-label":(0,A.t)("fullscreen_actions.expand-figjam-left-panel-with-filename",{fileName:t}),htmlAttributes:{onDoubleClick:()=>{b(!1),u&&i(iT.vg())},onContextMenu:e=>{if(e.preventDefault(),r){i(iC.oB());return}i(iC.j7({type:iI.eg,data:{targetRect:_}}))},"data-tooltip":(0,A.t)("fullscreen_actions.expand-figjam-left-panel"),"data-tooltip-type":ii.Ib.TEXT},recordingKey:"figjam-panel-toggle",children:[(0,o.jsx)("span",{className:"panel_toggle--text--u2ukq ellipsis--ellipsis--Tjyfa",children:t}),p&&(0,o.jsx)(iv.W,{hostPlanName:p.hostPlanName,connectedPlanName:p.connectedPlanName})]}),(0,o.jsx)(iL.i,{dropdownTargetRect:n?.data?.targetRect,dispatch:i,dropdownVisible:r,leanPadding:0,activatePathOnMount:n?.data?.activatePathOnMount,trackEvent:eb.sx})]})}let iO="figjam_collapsed_left_panel--divider--l9NPO";function ik({pagesList:e,isReadOnly:t}){let[i,n]=(0,l.useState)(!1),r=l.useRef(null),a=(0,ec.U1)(r),s=(0,F.am)(),d=(0,l.useMemo)(()=>e.filter(e=>!e.isDivider).length,[e]),c=(0,t2.h5)({nonDividerPageCount:d}),u=(0,G.q5)(),{renamingPageId:p,commitRenaming:h}=(0,t3.c)(e),m=!!p,f=(0,l.useCallback)(e=>{n(e),e&&!i&&s("pages_panel_open_toggle",{isPagesOpen:e},{forwardToDatadog:!0}),!e&&m&&h()},[i,h,m,s]);return(0,o.jsx)(iP,{children:(0,o.jsxs)(iM,{ref:a,children:[(0,o.jsx)(iP,{children:(0,o.jsx)(t6.xG,{})}),(0,o.jsx)(iU,{children:(0,o.jsx)(iA,{containerRef:r})}),(0,o.jsx)(iP,{children:(0,o.jsxs)(iF,{children:[u&&(0,o.jsx)("div",{className:"figjam_collapsed_left_panel--paidStatusBadgeWrapper--u7dYt",children:(0,o.jsx)(t5.s,{openFile:u})}),(0,o.jsx)(t6.n8,{})]})}),!!c&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(iD,{}),(0,o.jsx)(iU,{children:(0,o.jsx)(ix,{triggerType:c,pagesList:e,isDropdownOpen:i,setIsDropdownOpen:f,nonDividerPageCount:d,isReadOnly:t})})]})]})})}function iR(){return(0,o.jsxs)(iM,{testId:"figjam-left-panel-loading",children:[(0,o.jsx)(iP,{children:(0,o.jsx)(iV,{})}),(0,o.jsx)(iU,{children:(0,o.jsx)(iG,{})}),(0,o.jsx)(iH,{}),(0,o.jsx)(iU,{children:(0,o.jsx)(iW,{})})]})}let iM=l.forwardRef(function({children:e,onboardingKey:t,testId:i},n){return(0,o.jsx)("div",{ref:n,className:e_()(eE.Dm,"figjam_collapsed_left_panel--container--FYM0w","figjam_collapsed_left_panel--withShapeSidebar--A1L6c"),style:{maxWidth:(0,h.FP)()?300:eS.g_},"data-onboarding-key":t,"data-testid":i,children:e})});function iD(){return(0,o.jsx)("div",{className:iO})}function iP({children:e}){return(0,o.jsx)("div",{className:"figjam_collapsed_left_panel--noShrink--NWpwj",children:e})}function iU({children:e}){return(0,o.jsx)("div",{className:"figjam_collapsed_left_panel--upToHalfWidth--GUezb",children:e})}function iF({children:e}){return(0,o.jsx)("div",{className:"figjam_collapsed_left_panel--statusSection--N5vuO",children:e})}function iB({width:e}){return(0,o.jsx)("div",{className:"figjam_collapsed_left_panel--loadingPlaceholder--ejxL9",style:{width:e,visibility:"hidden"},children:(0,o.jsx)(t1._b,{})})}function iH(){return(0,o.jsx)("div",{className:iO,style:{visibility:"hidden"}})}function iV(){return(0,o.jsx)(iB,{width:44})}function iG(){return(0,o.jsx)("div",{className:"figjam_collapsed_left_panel--panelTogglePlaceholderContainer--qWqG-",children:(0,o.jsx)(iB,{width:180})})}function iW(){return(0,o.jsx)(iB,{width:81})}var iK=i(783094);let iz=(0,p.eU)(!1);var iZ=i(644304),i$=i(598921),iY=i(404275),iq=i(771975),iX=i(181415),iJ=i(659785),iQ=i(28424),i0=i(617561);function i1(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(i2,{}),(0,o.jsx)(iJ.d,{})]})}function i2(){return(0,o.jsxs)("div",{className:"figjam_left_panel_header--iconSection--n7JT9",children:[(0,o.jsx)("div",{className:"figjam_left_panel_header--leftSide--OGLAP",children:(0,o.jsx)(t6.xG,{})}),(0,o.jsxs)("div",{className:"figjam_left_panel_header--rightSide--Kcru4",children:[(0,u.k)().internal_only_debug_tools&&(0,o.jsx)(t6.bu,{}),(0,o.jsx)(t6.n8,{}),(0,o.jsx)(iQ.En,{}),(0,o.jsx)(i0.J,{}),(0,o.jsx)(iX.J,{onClick:()=>ty.Y5.triggerAction("toggle-sidebar",{source:"figjam-left-panel-header"}),"aria-label":(0,A.t)("fullscreen_actions.collapse-figjam-left-panel"),htmlAttributes:{"data-tooltip":(0,A.t)("fullscreen_actions.collapse-figjam-left-panel"),"data-tooltip-type":ii.Ib.TEXT},recordingKey:"figjam-collapse-expanded-left-panel",children:(0,o.jsx)(iq.C,{})})]})]})}let i3="figjam_pages_panel_header--headerText--mvfGF";function i5({shouldUseHeadingElement:e=!1}){let t=(0,t2.hs)(),i=(0,t7.V6)();return(0,o.jsxs)("div",{className:e_()("figjam_pages_panel_header--container--o2Ga7",{"figjam_pages_panel_header--containerWithNewPageDropdown--SwVmo":t&&i}),children:[e?(0,o.jsx)("h2",{className:i3,children:(0,A.t)("fullscreen.pages_panel.pages")}):(0,o.jsx)("div",{className:i3,children:(0,A.tx)("fullscreen.pages_panel.pages")}),(0,o.jsx)("div",{className:"figjam_pages_panel_header--buttonGroup--LWXvA",children:t&&(i?(0,o.jsx)(ia.t,{recordingKey:"figjam-new-page-dropdown"}):(0,o.jsx)(ir.e,{recordingKey:"figjam-new-page-button"}))})]})}var i6=i(27776);let i4="figjam_expanded_left_panel--interopPanel--M-7QA";function i9({pagesList:e,isReadOnly:t}){let i=(0,eS.GQ)(),n=(0,t2.sv)(),r=(0,io.g)({pagesList:e,shouldShowDuplicateOption:n}),a=(0,ec.U1)(),s=(0,t7.ew)(),[d,c]=(0,p.fp)(iz),u=(0,e6.Yg)(),h=(0,e6.ke)(),m=(0,l.useRef)(null);(0,l.useEffect)(()=>{d||(c(!0),h())},[d,c,h]);let f=(0,it.o3)(it.nt.figjamPagePickerA11y),x=(0,o.jsxs)(i7,{width:i,ref:a,children:[(0,o.jsxs)("div",{className:"figjam_expanded_left_panel--noShrink--mamEZ",ref:m,children:[(0,o.jsx)(i1,{}),s&&(0,o.jsx)(nt,{}),(0,o.jsx)(i5,{shouldUseHeadingElement:f})]}),(0,o.jsx)(ne,{pagesList:e,children:(0,o.jsx)(is.bU,{pages:e,isReadOnly:t,onContextMenu:r,isComparingChanges:!1,activePageShouldUseBrandColor:!0,shouldUseButtonRows:f})})]}),_=u&&d,g=m.current?.clientHeight||134;return _?(0,o.jsx)("div",{style:{height:i8(g,e.length)},children:x}):x}let i8=(e,t)=>{let i=(0,iK.jz)(i6.xM9),n=e+5;return Math.min(n+i*t,n+4*i)},i7=(0,l.forwardRef)(function({width:e,children:t},i){let n=(0,t7.ew)();return(0,o.jsx)(ew.wV,{ref:i,className:e_()(eE.Dm,"figjam_expanded_left_panel--resizableContainer--DhTbD",{[i4]:n}),size:e,defaultSize:eS.qm,side:"right",onResize:e=>(0,eS.xT)(e,eS.Yh,eS.g_),style:{maxWidth:eS.g_},id:iZ.k,"data-cancel-insertable-resource-drag-and-drop":!0,children:(0,o.jsx)("div",{style:{width:e},className:e_()("figjam_expanded_left_panel--panel--rI14k",{[i4]:n}),"data-testid":"figjam-expanded-left-panel",children:t})})});function ne({pagesList:e,children:t}){let[i,n]=(0,l.useState)(!1),r=(0,l.useRef)(null);(0,il.a)({pagesList:e,scrollContainerRef:r});let a=(0,l.useCallback)(e=>{n(e>0)},[]);return(0,o.jsx)(ev.P,{horizontalScrollingDisabled:!0,onScroll:a,className:e_()("figjam_expanded_left_panel--scrollContainer--V6RoK",{"figjam_expanded_left_panel--withTopBorder--OhkVb":i}),ref:r,children:t})}function nt(){let[e,,t]=(0,iY.BN)(c.xae.LAYERS);return(0,o.jsx)(i$.y,{withBorder:!0,children:(0,o.jsx)(iY.eG,{tabPropsMap:e,tabManager:t})})}var ni=i(290668),nn=i(629866),nr=i(644079),na=i(859828),ns=i(751648);let no=(0,iK.jz)(i6.fh1),nl=(0,iK.jz)(i6.if6);function nd({includePanelGap:e,dltBottomOffset:t,collidesWithDLT:i,collidesWithTools:n}){let r=e?nl:0;return i&&(r+=t),n&&(r+=no+nl),r}function nc({shouldAnimate:e,children:t}){let i=(0,l.useRef)(null);(0,ni.C_)(i);let n=(0,t7.ew)(),r=function(e){let[t,i]=(0,l.useState)(0),n=(0,nr.Yk)(),r=(0,ns.TH)();return(l.useLayoutEffect(()=>{if(!e.current)return;let t=e.current.getBoundingClientRect(),n=t.left;i(n+t.width);let r=new ResizeObserver(t=>{for(let r of t)if(e.current===r.target){let e=r.borderBoxSize?.[0];i(n+(e?e.inlineSize:r.contentRect.width))}});return r.observe(e.current),()=>r.disconnect()},[e]),r)?t+nl>r.left?nd({includePanelGap:!1,dltBottomOffset:n,collidesWithDLT:!0,collidesWithTools:!1}):nd({includePanelGap:!1,dltBottomOffset:n,collidesWithDLT:!1,collidesWithTools:!1}):0}(i);return(0,o.jsx)(nn.Q,{shouldAnimate:e,floatingWhenExpanded:!0,children:(0,o.jsx)("div",{ref:i,style:{position:"absolute",top:0,left:0,bottom:n?0:r,pointerEvents:"none"},children:(0,o.jsx)("div",{style:{pointerEvents:"auto",display:"contents"},children:t})})})}let nu=l.memo(function(){let e=(0,b.aV)(),t=(0,eS.Ye)(),i=(0,eS.cT)(),n=(0,eS.n0)(),r=(0,b.p8)("showUi"),a=(0,e6.Yg)();if((0,eS.bi)(),!r)return null;if(e)return(0,o.jsx)(nc,{shouldAnimate:!1,children:(0,o.jsx)(iR,{})});let s=t?(0,o.jsx)(ik,{pagesList:n,isReadOnly:i}):(0,o.jsx)(i9,{pagesList:n,isReadOnly:i});return(0,o.jsx)(nc,{children:(0,o.jsxs)(el.V,{className:"figjam_left_panel--leftPanelContents--kBMIg",style:{visibility:h.Ay.isIpadNative?"hidden":"visible"},children:[s,a&&(0,o.jsx)(t$,{})]})})});var np=i(728210),nh=i(512493),nm=i(714520),nf=i(410717),nx=i(617427),n_=i(831799),ng=i(904127),nb=i(869006);function nj(){let[e,t]=(0,l.useState)(null),[i,n]=(0,l.useState)(!1),r=(0,l.useRef)(null),a=(0,l.useCallback)(()=>{r.current&&clearTimeout(r.current),n(!1)},[]),s=(0,l.useCallback)(e=>{"reactive_guidance_tooltip--fadeout--qFmOg"===e.animationName&&t(null)},[]),d=(0,l.useCallback)((e,i)=>{r.current&&(clearTimeout(r.current),t(null)),requestAnimationFrame(()=>{r.current=setTimeout(a,5e3),t({x:e,y:i}),n(!0)})},[a]);(0,l.useEffect)(()=>(0,ng.M)(d),[d]);let c=(0,O._X)({subscribeToUpdates_expensive:!!e});if(!e)return null;let u={top:c.y,left:c.x,height:c.height,width:c.width},p=(0,O.Z0)(c,{x:e.x+50/c.zoomScale,y:e.y}),h={transform:`translate3D(${p.x}px, ${p.y}px, 0) translate(0, -50%)`};return(0,o.jsx)(n_.fu,{name:"Reactive Guidance Tooltip",children:(0,o.jsx)("div",{className:"reactive_guidance_tooltip--overflowContainer--RQWcR",style:u,children:(0,o.jsxs)("div",{className:e_()("reactive_guidance_tooltip--tooltip--YkN90",i?"reactive_guidance_tooltip--fadeIn--Sipdd":"reactive_guidance_tooltip--fadeOut--XaVTK"),style:h,onAnimationEnd:s,children:[(0,o.jsx)(nf._,{}),(0,o.jsx)("div",{className:"reactive_guidance_tooltip--text--Si0XF",children:(0,A.tx)("whiteboard.reactive_guidance.view_only",{permission:(0,o.jsx)("span",{className:"reactive_guidance_tooltip--textEmphasis--VIQ6b",children:(0,A.tx)("whiteboard.reactive_guidance.view_only_permission")})})}),(0,o.jsx)(nb.RJ,{viewOnly:!0,variant:"link-onbrand",recordingKey:"reactiveGuidanceViewPermission",hideViewOnlyText:!0}),(0,o.jsx)(nx.Me,{onClick:a,trackingEventName:"reactive_guidance_tooltip_closed",recordingKey:"reactiveGuidanceTooltip","aria-label":(0,A.t)("general.close"),children:(0,o.jsx)(em.A,{})})]})})})}var ny=i(537858),nv=i(165619),nC=i(415304),nT=i(805373),nE=i(353422),nS=i(492908),nw=i(731583),nI=i(90441);let nL=(0,iK.hG)(i6.Yub),nN=(0,iK.hG)(i6.Dts)+4;function nA({stamp:e,renderChildren:t}){let i=(0,O._X)({subscribeToUpdates_expensive:!0}),[n,r]=(0,l.useState)(null),a=(0,nr.Yk)(),[s,d]=(0,l.useState)(ii.Zj.ABOVE),[c,u]=(0,l.useState)(null),p=e.guid;(0,l.useEffect)(()=>{let e=`stamp-tooltip-${p}`,t=(0,nw.EE)(e,[p],e=>r(e.position));return r(t.currentNodePosition[p]?.position||null),()=>{(0,nw.lB)(e)}},[p]);let h=(0,l.useMemo)(()=>n?(0,O.Yb)(i,n.absoluteBounds):null,[n,i]),m=(0,l.useMemo)(()=>h?{...h,x:h.x+i.x,y:h.y+i.y}:null,[h,i.x,i.y]),f=(0,l.useMemo)(()=>!!h&&(0,O.ZT)(h,i),[h,i]),x=(0,l.useCallback)((e,t,n)=>{let r;let s=i.y+10,o=i.y+i.height-10-a-t.height,l=i.x+10,d=i.x+i.width-10-t.width,c=ii.Zj.ABOVE,u=(0,nS.qE)((0,nI.Al)(e,t),l,d);return u+nL+nN>e.x+e.width?(u=(0,nS.qE)(e.x+e.width+n,l,d),c=ii.Zj.RIGHT):u+t.width-nL-nN<e.x&&(u=(0,nS.qE)(e.x-t.width-n,l,d),c=ii.Zj.LEFT),c===ii.Zj.LEFT||c===ii.Zj.RIGHT?r=(0,nI.tJ)(e,t):(r=(0,nI.T1)(e,t,n))<s&&(r=(0,nI.DH)(e,t,n),c=ii.Zj.BELOW),{pos:c,x:u,y:(0,nS.qE)(r,s,o)}},[a,i]),_=(0,l.useCallback)((e,t,i)=>x(e,t,i).x,[x]),g=(0,l.useCallback)((e,t,i)=>x(e,t,i).y,[x]),b=(0,l.useCallback)((e,t,i,n)=>{if(!m)return;let r=x(m,i,n).pos;d(r),u(n=>{let a=function({targetRect:e,tooltipRect:t,tooltipPosition:i}){let n=e.x-t.x+e.width/2,r=e.y-t.y+e.height/2,a=t.width-2*nL-nN,s=t.height-2*nL-nN;switch(i){case ii.Zj.ABOVE:return{left:(0,nS.qE)(n-nL,nN,a),top:Math.floor(t.height)};case ii.Zj.BELOW:return{left:(0,nS.qE)(n-nL,nN,a),top:-nL};case ii.Zj.RIGHT:return{left:-nL,top:(0,nS.qE)(r-nL,nN,s)};case ii.Zj.LEFT:return{left:Math.floor(t.width),top:(0,nS.qE)(r-nL,nN,s)}}}({targetRect:m,tooltipRect:{x:e,y:t,width:i.width,height:i.height},tooltipPosition:r});return n&&a.top===n.top&&a.left===n.left?n:a})},[x,m]);return m&&f?(0,o.jsx)(nI.lM,{style:{WebkitUserSelect:"none"},targetRect:m,offset:nL,positionX:_,positionY:g,onPosition:b,children:t({arrowPosition:c,tooltipPosition:s})}):null}let nO="stamp_overlay--userText--FdBYI ellipsis--ellipsis--Tjyfa",nk="stamp_overlay--tRexAvatarForeground--6Qkya",nR={[ii.Zj.ABOVE]:"stamp_overlay--downArrow--VJLl5 stamp_overlay--arrow--F8-y5",[ii.Zj.BELOW]:"stamp_overlay--upArrow--PCqYY stamp_overlay--arrowInset--8zLXg stamp_overlay--arrow--F8-y5",[ii.Zj.RIGHT]:"stamp_overlay--leftArrow--u3dvc stamp_overlay--arrow--F8-y5",[ii.Zj.LEFT]:"stamp_overlay--rightArrow--G7DIa stamp_overlay--arrow--F8-y5"},nM={[ii.Zj.ABOVE]:"stamp_overlay--animationUp--Pq4mv stamp_overlay--animationBase--a-FJI",[ii.Zj.BELOW]:"stamp_overlay--animationDown--mBXfv stamp_overlay--animationBase--a-FJI",[ii.Zj.RIGHT]:"stamp_overlay--animationRight--2KY5g stamp_overlay--animationBase--a-FJI",[ii.Zj.LEFT]:"stamp_overlay--animationLeft--daYLK stamp_overlay--animationBase--a-FJI"};function nD(e){let t=e.mirror.sceneGraph,i=Object.keys(e.mirror.sceneGraphSelection);if(1!==i.length)return null;let n=t.get(i[0]);return n&&"STAMP"===n.type?n:null}function nP(e){let t=e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode);return t&&"STAMP"===t.type?t.guid:null}function nU({shouldShowAvatar:e,avatarEntity:t,text:i}){return(0,o.jsxs)(o.Fragment,{children:[e&&(0,o.jsx)(nT.Ro,{size:16,entity:t}),(0,o.jsx)("div",{className:nO,children:i})]})}function nF({size:e}){return(0,o.jsxs)("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",children:[(0,o.jsxs)("g",{clipPath:"url(#clip0_1941_43995)",children:[(0,o.jsx)("rect",{className:"stamp_overlay--tRexAvatarBackground--tprTe",width:"16",height:"16"}),(0,o.jsx)("path",{className:nk,d:"M3 9.90476V8H9V9.42857V10.8571V13C9 15.2091 7.20914 17 5 17H0L-0.71875 11.7143L3 9.90476Z"}),(0,o.jsx)("path",{className:nk,fillRule:"evenodd",clipRule:"evenodd",d:"M4.81038 2.08926C3.50282 2.45482 3 3.93364 3 5.29134V8C3 8.55228 3.44771 9 4 9H13C13.5523 9 14 8.55228 14 8V6.16667C14 4.50981 12.6569 3.16667 11 3.16667H8.24357C7.98467 3.16667 7.73678 3.06531 7.53359 2.90486C7.09796 2.56089 6.25898 2 5.42 2C5.21483 2 5.00965 2.03354 4.81038 2.08926ZM5.75 5.5C6.16421 5.5 6.5 5.16421 6.5 4.75C6.5 4.33579 6.16421 4 5.75 4C5.33579 4 5 4.33579 5 4.75C5 5.16421 5.33579 5.5 5.75 5.5Z"}),(0,o.jsx)("path",{className:nk,d:"M11.8504 13.8881C10.8861 14.05 10.9477 12.5057 9.64966 12.5057C8.35158 12.5057 7.14966 13.3116 7.14966 12.1587C7.14966 11.0057 8.35155 11 9.64962 11C11.5299 11 12.8147 13.7262 11.8504 13.8881Z"})]}),(0,o.jsx)("defs",{children:(0,o.jsx)("clipPath",{id:"clip0_1941_43995",children:(0,o.jsx)("circle",{r:"8",cx:"8",cy:"8",fill:"black"})})})]})}function nB({stamp:e,shouldAnimate:t,testId:i}){let n=e.stampData?.stampedByUserId||null,r=e.stampData?.userId||null,{user:a,loading:s}=(0,I.wW)(n),{user:l,loading:d}=(0,I.wW)(r),c=G.q5()?.org?.name,u=(()=>{let t=!e.isFaceStamp,i=!!e.stampData?.votingSessionId;if(n&&s||r&&d)return(0,o.jsxs)(o.Fragment,{children:[t&&(0,o.jsx)("div",{className:"stamp_overlay--loadingAvatar--DkN-J stamp_overlay--loadingBase--2UAyM"}),(0,o.jsx)("div",{className:"stamp_overlay--loadingUserText--845yi stamp_overlay--loadingBase--2UAyM"})]});if(a){let e=a.handle;return(0,o.jsx)(nU,{shouldShowAvatar:t,avatarEntity:a,text:i?(0,A.tx)("voting.stamp_tooltip.vote",{userName:e}):r&&n!==r?(0,o.jsxs)("div",{className:"stamp_overlay--faceStampTooltipText--bMf1l",children:[l?.handle," ",(0,o.jsx)("br",{}),(0,o.jsx)("p",{className:"stamp_overlay--stampedByText--fK8AK",children:(0,A.tx)("whiteboard.stamp.stamped_by_tooltip",{userName:e})})]}):e})}if(l){let e=l.handle;return(0,o.jsx)(nU,{shouldShowAvatar:t,avatarEntity:l,text:i?(0,A.tx)("voting.stamp_tooltip.vote",{userName:e}):e})}if(r&&(0,I.Fl)(r)||n&&(0,I.Fl)(n)){let e=i?(0,A.tx)("voting.stamp_tooltip.visitor_vote"):c?(0,A.tx)("voting.stamp_tooltip.visitor_with_org",{orgName:c}):(0,A.tx)("voting.stamp_tooltip.visitor_without_org");return(0,o.jsx)(nU,{shouldShowAvatar:t,avatarEntity:{id:n||r||void 0},text:e})}return n||r?(0,o.jsx)(nU,{shouldShowAvatar:t,avatarEntity:{},text:(0,A.tx)("voting.stamp_tooltip.unavailable")}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(nF,{size:16}),(0,o.jsx)("div",{className:nO,children:(0,A.tx)("voting.stamp_tooltip.old_stamp")})]})})();return(0,o.jsx)(nA,{stamp:e,renderChildren:({tooltipPosition:e,arrowPosition:n})=>(0,o.jsxs)("div",{className:t?nM[e]:"",children:[(0,o.jsx)("div",{className:"stamp_overlay--tooltip---xJx5 text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L","data-testid":i,children:u}),n&&(0,o.jsx)("div",{className:nR[e],style:n})]})})}let nH=l.memo(function(){let e=(0,d.d4)(nD);return(0,o.jsx)(o.Fragment,{children:e&&(0,o.jsx)(nB,{stamp:e,shouldAnimate:!0,testId:"selected-stamp-tooltip"},e.guid)})}),nV=l.memo(function(){let e=(0,d.d4)(nP),[t,i]=(0,l.useState)(null),[n,r]=(0,l.useState)(!0),a=(0,d.d4)(e=>t?e.mirror.sceneGraph.get(t):null),s=(0,d.d4)(nD),c=(0,nE.d0)();return((0,l.useEffect)(()=>{let n=!!t;if(e!==t&&(e||t)){if(e&&n){r(!1),i(e);return}if(e&&!n){let t=setTimeout(()=>{i(e)},100);return()=>clearTimeout(t)}if(!e&&n){let e=setTimeout(()=>{i(null),r(!0)},300);return()=>clearTimeout(e)}}},[e,t]),s?.isFaceStamp&&!s?.stampData?.votingSessionId&&c)?null:(0,o.jsx)(o.Fragment,{children:a&&(0,o.jsx)(nB,{stamp:a,testId:"hovered-stamp-tooltip",shouldAnimate:n},a.guid)})}),nG=l.memo(function(){return(0,h.aJ)()?(0,o.jsx)(nV,{}):(0,o.jsx)(nH,{})});var nW=i(920142),nK=i(288654),nz=i(566045),nZ=i(156213),n$=i(579169),nY=i(797994),nq=i(864723),nX=i(43951),nJ=i(165519),nQ=i(858282),n0=i(419216),n1=i(351585),n2=i(990893),n3=i(25542);function n5(){let e=(0,p.md)(nq.UQ),t=(0,p.md)(n$.zN),i=1e3*parseFloat(n3.H)+300,[n,r]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{let e=setTimeout(()=>{r(!0)},i);return()=>clearTimeout(e)},[i]),e&&"loaded"===t.status&&!1===t.data&&!1===h.Ay.isInNativeApp&&n)?(0,o.jsx)(n6,{}):null}function n6(){let e=(0,d.d4)(e=>e.userFlags),t=(0,G.q5)(),i=t?.teamId,n=t?.key,r=(0,d.d4)(e=>e.multiplayer.sessionID),a=(0,d.d4)(e=>e.userAnalyticsData?.first_figjam_at),s=(0,p.md)(n1.Zk);if(!(0,nY.mW)(e,"figjam_editor_onboarded"))return null;if(i)return(0,o.jsx)(n4,{teamId:i,userFlags:e,currentFileKey:n,currentSessionId:r});{let t=(0,nY.mW)(e,"seen_fj_upsell_draft_modal_1")?(0,nY.mW)(e,"seen_fj_upsell_draft_modal_2")?(0,nY.mW)(e,"seen_fj_upsell_draft_modal_3")?null:s.seen_fj_upsell_draft_modal_2.fileKey!==n||s.seen_fj_upsell_draft_modal_2.sessionId!==r?"seen_fj_upsell_draft_modal_3":null:s.seen_fj_upsell_draft_modal_1.fileKey!==n||s.seen_fj_upsell_draft_modal_1.sessionId!==r?"seen_fj_upsell_draft_modal_2":null:"seen_fj_upsell_draft_modal_1";return!t||(0,nW.A)(a).add(7,"day").isSameOrAfter((0,nW.A)())?null:(0,o.jsx)(n9,{mainText:n8(t),userFlag:t,secondaryText:n7(t),upsellSource:nJ.b.FIGJAM_UPSELL_MODAL,gif:re(t),teamId:"",currentSessionId:r,currentFileKey:n})}}function n4(e){var t;let{teamId:i,userFlags:n,currentSessionId:r,currentFileKey:a}=e,s=(0,nK.Rs)(nX.bel,{teamId:i});if("loaded"!==s.status)return null;let l=1!==(t=s.data?.team?.teamFileCounts?.whiteboardFileCount??0)||(0,nY.mW)(n,"seen_fj_upsell_team_modal_1")?2!==t||(0,nY.mW)(n,"seen_fj_upsell_team_modal_2")?3!==t||(0,nY.mW)(n,"seen_fj_upsell_team_modal_3")?null:"seen_fj_upsell_team_modal_3":"seen_fj_upsell_team_modal_2":"seen_fj_upsell_team_modal_1";return l?(0,o.jsx)(n9,{mainText:n8(l),userFlag:l,secondaryText:n7(l),upsellSource:nJ.b.FIGJAM_UPSELL_MODAL,gif:re(l),teamId:i,currentFileKey:a,currentSessionId:r}):null}function n9(e){let{mainText:t,secondaryText:i,userFlag:n,upsellSource:r,gif:a,teamId:s}=e,c=(0,p.Xr)(n1.xw),u=(0,d.wA)(),h=(0,p.md)(n1.Zk);l.useEffect(()=>{c({showing:!0,userFlag:n})},[c,n]);let m=()=>{u(nZ.Lo()),u(V.b({[n]:!0})),h[n]={fileKey:e.currentFileKey,sessionId:e.currentSessionId},c({showing:!1})},f=(0,t_.mm)()[0],x="ja"===f?323-2*n0.uv:303-2*n0.uv;return(0,o.jsx)(n_.fu,{name:"FigJamUpsellModal",properties:{},children:(0,o.jsxs)(n0.CR,{additionalOnExplicitDismiss:m,className:"figjam_upsell_modal--modal--04mt-",closeButtonClassName:"figjam_upsell_modal--closeButton--MTKjp",disableClickOutsideToHide:!0,dismissModal:m,shouldCenterArrow:nQ.EL.FALLBACK,shouldDismissWhenLostDOMTarget:!0,targetKey:n2.l,topPadding:12,width:x,children:[(0,o.jsxs)("div",{className:"figjam_upsell_modal--genericTopHalf--iECQZ",children:[(0,o.jsx)("span",{className:"figjam_upsell_modal--mainText--pe9Vj text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",style:{width:"ja"===f?154:150},children:t}),(0,o.jsx)("div",{className:"figjam_upsell_modal--gif--1VlR7",children:a})]}),(0,o.jsxs)("div",{className:"figjam_upsell_modal--genericBottomHalf--ZGBjw",children:[(0,o.jsx)("span",{children:i}),(0,o.jsx)(nx.$z,{onClick:()=>{m(),u(nZ.to({type:nz.V,data:{upsellSource:r,teamId:s,openCheckoutInNewTab:!0}}))},children:(0,A.tx)("upsell.history.upgrade_now")})]})]})})}function n8(e){switch(e){case"seen_fj_upsell_draft_modal_1":return(0,A.tx)("whiteboard.paywall_upsell.draft.first.main",{purpleSection:rt((0,A.tx)("whiteboard.paywall_upsell.draft.first.main.purpleSection"))});case"seen_fj_upsell_draft_modal_2":return(0,A.tx)("whiteboard.paywall_upsell.draft.second.main",{purpleSection:rt((0,A.tx)("whiteboard.paywall_upsell.draft.second.main.purpleSection"))});case"seen_fj_upsell_draft_modal_3":return(0,A.tx)("whiteboard.paywall_upsell.draft.third.main",{purpleSection:rt((0,A.tx)("whiteboard.paywall_upsell.draft.third.main.purpleSection"))});case"seen_fj_upsell_team_modal_1":return(0,A.tx)("whiteboard.paywall_upsell.team.main",{fileCount:rt((0,A.tx)("whiteboard.paywall_upsell.team.main.first"))});case"seen_fj_upsell_team_modal_2":return(0,A.tx)("whiteboard.paywall_upsell.team.main",{fileCount:rt((0,A.tx)("whiteboard.paywall_upsell.team.main.second"))});case"seen_fj_upsell_team_modal_3":return(0,A.tx)("whiteboard.paywall_upsell.team.last.main",{purpleSection:rt((0,A.tx)("whiteboard.paywall_upsell.team.last.main.purpleSection"))});default:return(0,o.jsx)(o.Fragment,{})}}function n7(e){switch(e){case"seen_fj_upsell_draft_modal_1":return(0,A.tx)("whiteboard.paywall_upsell.draft.first.secondary");case"seen_fj_upsell_draft_modal_2":return(0,A.tx)("whiteboard.paywall_upsell.draft.second.secondary");case"seen_fj_upsell_draft_modal_3":return(0,A.tx)("whiteboard.paywall_upsell.draft.third.secondary");case"seen_fj_upsell_team_modal_1":case"seen_fj_upsell_team_modal_2":case"seen_fj_upsell_team_modal_3":return(0,A.tx)("whiteboard.paywall_upsell.team.secondary");default:return(0,o.jsx)(o.Fragment,{})}}function re(e){switch(e){case"seen_fj_upsell_draft_modal_1":return(0,o.jsx)("img",{src:(0,t_.ck)("2e5f8efd83d4a5faea78203c9c6d306d0d0b862b"),alt:"stamping a sticky animation"});case"seen_fj_upsell_draft_modal_2":return(0,o.jsx)("img",{src:(0,t_.ck)("7909d41489939d9259567eeb734d887eb67b95fc"),alt:"voting wheel animation"});case"seen_fj_upsell_draft_modal_3":return(0,o.jsx)("img",{src:(0,t_.ck)("c490e715dcc620fce0cff9c6cd11936b30dbe1bd"),alt:"audio call animation"});case"seen_fj_upsell_team_modal_1":return(0,o.jsx)("img",{src:(0,t_.ck)("fecccf2b6ed6c72a5269dea45f2f713bdef5b0cb"),alt:"one file used animation"});case"seen_fj_upsell_team_modal_2":return(0,o.jsx)("img",{src:(0,t_.ck)("1623cd399db275cf37f3360fbf774696660cd7e6"),alt:"two files used animation"});case"seen_fj_upsell_team_modal_3":return(0,o.jsx)("img",{src:(0,t_.ck)("cb781eb3d9a927a0bce7e246f2f8614e47d5ee1c"),alt:"third file used animation"})}}function rt(e){return(0,o.jsx)("span",{className:"figjam_upsell_modal--purpleText--gZ21M",children:e})}var ri=i(150656),rn=i(103090),rr=i(566371),ra=i(925868),rs=i(502364),ro=i(216696),rl=i(378195),rd=i(559491),rc=i(399472),ru=i(968813),rp=i(913823),rh=i(879323),rm=i(844435),rf=i(622574),rx=i(106207),r_=i(12032),rg=i(916469),rb=i(684168),rj=i(120210),ry=i(845253),rv=i(198840),rC=i(191312),rT=i(18797),rE=i(336853),rS=i(79930),rw=i(979658),rI=i(45218),rL=i(862883),rN=i(381612),rA=i(92359),rO=i(42189),rk=i(293326),rR=i(930338),rM=i(342732),rD=i(225265),rP=i(921418),rU=i(703988),rF=i(265452),rB=i(920333),rH=i(533467),rV=i(813188),rG=i(539089),rW=i(326519),rK=i(68180),rz=i(125993),rZ=i(491152),r$=i(734251),rY=i(941192),rq=i(487970),rX=i(15924),rJ=i(808294),rQ=i(777551),r0=i(86989),r1=i(638169),r2=i(761211),r3=i(170366),r5=i(300692),r6=i(480825),r4=i(828414),r9=i(199070),r8=i(439332),r7=i(130069),ae=i(254275),at=i(637027),ai=i(489933),an=i(976749),ar=i(248118),aa=i(193867),as=i(635568),ao=i(192343),al=i(616526),ad=i(769773);function ac(e){let t=(0,d.wA)(),i=l.useRef(null),n=(0,iE.Um)(),r="whiteboard"===(0,an.lg)(),a=(0,ao.F5)(),{tabManager:s,searchQuery:c}=(0,rB.cX)(),u=(0,rw.Vq)(s.activeTab),p=(0,ar.Gt)(e.pluginId,u),m=(0,ar.dR)(e.pluginId,u),f=(0,ar.RK)(e.pluginId),x=(0,ai.t)(e.pluginId,p,m).length>0,_=x&&n?.type===eE.LO,g=(0,as.b)(),{validatePublishedPluginInOrgAllowlist:b,isPluginBlockedByAllowlist:j}=(0,rm.j1)(e.pluginId),y=l.useCallback(n=>{if(n.stopPropagation(),b()){if(r&&(0,ao.oM)({id:e.pluginId,type:rO.p.PLUGINS,source:u,options:{...a,query:c}}),x){_?t(iC.oB()):t(iC.j7({type:eE.LO,data:{pluginId:e.pluginId,view:e.view,target:i.current?.getBoundingClientRect(),triggeredFrom:u}}));return}f?p():m(),g()}},[b,r,x,g,e.pluginId,e.view,u,a,c,_,t,f,p,m]),{buttonCta:v,isNotInHeader:C}=e,T=(0,d.d4)(e=>(0,aa.zg)(e.selectedView)&&!e.user),[E,S]=l.useState(T);l.useEffect(()=>{S(T)},[T]);let w=C?at.$$:at.nR,I=T?void 0:y;return(0,o.jsx)("div",{ref:i,"data-not-draggable":!0,"data-testid":"run-cta-button",children:(0,o.jsxs)(w,{onClick:h.Ay.isIpad?void 0:I,onPointerDown:h.Ay.isIpad?I:void 0,className:T||j?al.NY:al.lI,children:[v,x&&(0,o.jsx)(tb.B,{svg:ad.A,className:C||T?al.sD:al.wE})]})})}var au=i(38430),ap=i(201703),ah=i(254940),am=i(882116);let af="browse_plugins_universal_modal_tiles--savedPluginTile--pLNFr browse_plugins_universal_modal_tiles--browsePluginTile--99ESx",ax="browse_plugins_universal_modal_tiles--pluginTileIcon--C0pTJ",a_="browse_plugins_universal_modal_tiles--browsePluginTileRightSide--u74qu",ag="browse_plugins_universal_modal_tiles--savedPluginTileLeftSide--nqHJe browse_plugins_universal_modal_tiles--browsePluginTileRightSide--u74qu",ab="browse_plugins_universal_modal_tiles--pluginTileDescription--gno7V text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa";var aj=i(568040),ay=i(586486);let av=(0,r3.M)(),aC=l.forwardRef((e,t)=>{let i=(0,d.wA)(),{localFileId:n,view:r}=e,a=(0,rm.nl)(),s=n?a[n]:null,c=(0,rm.kd)(),u=s?s.plugin_id:e.publishedPlugin.id,p=e.publishedPlugin??c.find(e=>e.id===u),h=p?.versions[p.current_plugin_version_id],m=!!h,f=l.useRef(null),x=(0,iE.Um)(),_=x?.type===au.lD&&x.data.localFileId===n&&x.data.pluginId===u&&x.data.view===r&&x.data.targetRect,{tabManager:g,searchQuery:b,setPreviewResource:j}=(0,rB.cX)(),{dragState:y,onInsertableResourcePointerDown:v}=(0,r2.c)({clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:(0,as.b)(),triggeredFrom:(0,rw.Vq)(g.activeTab),resource:s??h,searchQuery:b});if(!s&&!p)return null;let C=()=>{n&&av.openExtensionDirectory(n)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(r$.n.div,{className:af,onPointerDown:v,ref:t,children:[(0,o.jsxs)(e4.E,{className:ag,onClick:()=>m?j({id:h.plugin_id,type:rw.Rt.PLUGINS}):C(),children:[(0,o.jsx)("div",{className:ax,children:m&&h?(0,o.jsx)(r6.V,{plugin:h,loading:"lazy",alt:""}):(0,o.jsx)(tb.B,{svg:ay.A})}),(0,o.jsxs)("div",{className:a_,children:[(0,o.jsxs)("div",{className:"browse_plugins_universal_modal_tiles--developmentPluginPrimaryText--25RR9",children:[(0,o.jsx)("span",{className:"browse_plugins_universal_modal_tiles--developmentPluginName--f75Vj browse_plugins_universal_modal_tiles--pluginTileName--z1OSk text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",children:h?h.name:s.name}),p&&r4.tY.PluginManagementTitleBadge(p)]}),(0,o.jsx)(r9.A,{localResource:s,publishedResource:p})]})]}),(0,o.jsxs)("div",{className:"browse_plugins_universal_modal_tiles--developmentTileRightSide----HW6",children:[(0,o.jsx)(rK.T,{selected:_??void 0,children:(0,o.jsx)(eu.K,{ref:f,onClick:e=>{let t=e.currentTarget.getBoundingClientRect();i(iC.j7({type:au.lD,data:{localFileId:n,pluginId:u,view:r,targetRect:t}}))},"aria-label":(0,A.t)("whiteboard.inserts.plugin_development_options_tooltip"),htmlAttributes:{"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":(0,A.t)("whiteboard.inserts.plugin_development_options_tooltip")},children:(0,o.jsx)(rz.J,{})})}),_&&(0,o.jsx)(au.T9,{localResource:s??void 0,publishedResource:s?void 0:p,viewResource:()=>j({id:u,type:rw.Rt.PLUGINS})}),(0,o.jsx)(ac,{pluginId:u,buttonCta:(0,A.t)("whiteboard.inserts.plugin_run_cta"),isNotInHeader:!1,view:r})]})]}),(0,o.jsx)(r1.z,{dragState:y})]})});function aT(e){let t=(0,r0.xp)(e.pluginId),i=(0,rm.Be)().plugins[e.pluginId],n=l.useMemo(()=>i||e.pluginVersion||(0,r5.Ar)(t)||r5.lT,[i,t,e.pluginVersion]);return(0,o.jsx)(aE,{pluginId:e.pluginId,pluginVersion:n,view:e.view,showLockIcon:e.showLockIcon,plugin:t})}let aE=l.memo(function(e){let{plugin:t,pluginVersion:i}=e,{isSavedForUser:n}=(0,am.QK)(e.pluginId,rI.vt.PLUGIN),r=(0,as.b)(),{tabManager:a,searchQuery:s,setPreviewResource:l}=(0,rB.cX)(),d=(0,r0.EO)(t),c=(0,r0.gn)(t),p=(0,ry.sZ)(),h=(0,rm.ll)(),m=(0,rb.XV)({org:p,extension:t,allowlistedExtensions:h}),{dragState:f,onInsertableResourcePointerDown:x}=(0,r2.c)({clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:r,triggeredFrom:(0,rw.Vq)(a.activeTab),resource:i,searchQuery:s,showRequestFlow:m}),_=(0,rm.bI)(i.plugin_id)&&e.view===rO.p.PLUGINS,g=(0,j.BI)(),b=(0,rq.QP)({resource:t,validBadges:[rq.op.FREEMIUM,rq.op.OFF_PLATFORM,rq.op.PURCHASED]});if(i===r5.lT||(0,rI.m3)(t)&&(g?.shouldOptimizeForIpadApp||(0,u.k)().cmty_m10n_test_apple_os))return null;let y=_?(0,o.jsx)(r7.WZ,{resource:t}):d?(0,o.jsx)(aS,{plugin:t}):c?(0,o.jsx)(r8.Vv,{children:(0,A.tx)("community.buyer.update")}):m?(0,o.jsx)("div",{style:rY.sx.add({width:"80px"}).$,children:(0,o.jsx)(ah.s,{version:i,isPlugin:!0,variant:ah.w.FigJamPluginTile})}):(0,o.jsx)(ac,{pluginId:e.pluginId,buttonCta:(0,A.t)("whiteboard.inserts.plugin_run_cta"),isNotInHeader:!1,view:e.view}),v=(0,ap.kB)(t)||(0,ap.CF)(i),C=_?(0,o.jsx)(r7.e2,{resource:t}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"browse_plugins_universal_modal_tiles--pluginTileHeader--gYj6D",children:(0,o.jsxs)("div",{className:"browse_plugins_universal_modal_tiles--pluginTitle--aUkOj resource_tiles--pluginTitle--dP-tg",children:[(0,o.jsx)("span",{className:"browse_plugins_universal_modal_tiles--pluginTileName--z1OSk text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",children:i.name}),b&&(0,o.jsx)("div",{className:"browse_plugins_universal_modal_tiles--pluginTitleBadgeContainer--SQKss resource_tiles--pluginTitleBadgeContainer--Q-9cz",children:b}),c&&(0,o.jsx)("div",{className:"browse_plugins_universal_modal_tiles--browsePluginTilePaymentError--A0pCZ",children:(0,o.jsx)(r8.xY,{})}),e.showLockIcon&&(0,o.jsx)(tb.B,{svg:aj.A})]})}),(0,o.jsx)("div",{className:e_()(ab,"browse_plugins_universal_modal_tiles--pluginTileDescriptionPadding--qGAaH"),children:(0,rQ.G8)(i,rZ.$J)}),v&&(0,o.jsx)("div",{className:ab,children:v})]});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(r$.n.div,{className:af,onPointerDown:x,"data-testid":`figjam-plugin-tile-${e.pluginId}`,children:[(0,o.jsxs)(e4.E,{className:ag,onClick:()=>l({id:i.plugin_id,type:rw.Rt.PLUGINS}),children:[(0,o.jsxs)("div",{className:"browse_plugins_universal_modal_tiles--relativeContainer--yRMHl",children:[_&&(0,o.jsx)("div",{className:"browse_plugins_universal_modal_tiles--redDot--rXNiG red_dot--baseRedDot--pgZV7"}),(0,o.jsx)("div",{className:ax,children:(0,o.jsx)(r6.V,{plugin:i,loading:"lazy",alt:"",draggable:!1})})]}),(0,o.jsx)("div",{className:a_,children:C})]}),(0,o.jsx)("div",{className:e_()(eT.s.flex.itemsCenter.mr8.if(n,eT.s.visible).$),children:(0,o.jsx)(ae._,{resourceId:e.pluginId,resourceType:rI.vt.PLUGIN,parentView:ae.n.FIGJAM_PLUGIN_ROW})}),(0,o.jsx)("div",{children:y})]}),(0,o.jsx)(r1.z,{dragState:f})]})});function aS(e){let t=(0,rB.cX)().setPreviewResource,i=(0,r0.lt)(e.plugin);return(0,rI.m3)(e.plugin)?(0,o.jsxs)(e4.E,{className:"browse_plugins_universal_modal_tiles--priceBadgeContainer--Sf172",onClick:()=>t({id:e.plugin.id,type:rw.Rt.PLUGINS}),htmlAttributes:{"data-not-draggable":!0},children:[(0,o.jsx)("div",{className:"browse_plugins_universal_modal_tiles--priceBadge--L2Q5M ellipsis--ellipsis--Tjyfa",children:(0,rJ.bV)(e.plugin.monetized_resource_metadata)}),(0,rJ.Lt)({resource:e.plugin,payment:i})&&(0,o.jsx)(rX.w5,{metadata:e.plugin.monetized_resource_metadata,condensed:!0})]}):null}var aw=i(914498),aI=i(352115),aL=i(838765),aN=i(961422),aA=i(255946),aO=i(273550),ak=i(985095),aR=i(757723),aM=i(957552);let aD="browse_widgets_universal_modal_tiles--widgetImageContainer--Jawtg",aP="browse_widgets_universal_modal_tiles--widgetTileMeta--pIVCD",aU="browse_widgets_universal_modal_tiles--widgetMetadataContainer--BLS2U",aF="browse_widgets_universal_modal_tiles--developmentWidgetPrimaryText--4ORbR",aB="browse_widgets_universal_modal_tiles--widgetResourceActionContainer--tlXT0";function aH(e){let{publishedWidget:t}=e,i=(0,rB.cX)().setPreviewResource,n=(0,d.wA)(),r=t.id,a=t?.versions[t.current_plugin_version_id],s=!!a,l=(0,iE.Um)(),c=l&&l?.type===au.lD&&l.data.localFileId===r&&l.data.view===e.tab,u=s?a.redirect_snapshot_url||"":ak.J;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(aL.sU,{image:(0,o.jsx)(aN.FK,{className:aD,children:(0,o.jsx)(aA.z,{src:u,context:rC._Y.WHITEBOARD})}),bottomRow:(0,o.jsxs)("div",{className:aP,children:[(0,o.jsx)(aL.dY.MetadataContainer,{className:aU,children:(0,o.jsx)(aL.dY.TextMetadataLayout,{onClick:()=>i({id:r,type:rw.Rt.WIDGETS}),primaryText:(0,o.jsxs)("div",{className:aF,children:[(0,o.jsx)("span",{children:a.name}),t&&r4.tY.PluginManagementTitleBadge(t)]}),secondaryText:(0,o.jsx)(r9.A,{publishedResource:t,localResource:void 0})})}),(0,o.jsxs)(aL.dY.ResourceActionContainer,{className:aB,children:[(0,o.jsx)(rK.T,{selected:c??void 0,children:(0,o.jsx)(eu.K,{onClick:t=>{let i=t.currentTarget.getBoundingClientRect();n(iC.j7({type:au.lD,data:{localFileId:r,view:e.tab,targetRect:i}}))},"aria-label":(0,A.t)("whiteboard.inserts.widget_options"),htmlAttributes:{"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":(0,A.t)("whiteboard.inserts.widget_options")},children:(0,o.jsx)(rz.J,{})})}),c&&(0,o.jsx)(au.T9,{publishedResource:t,viewResource:()=>i({id:r,type:rw.Rt.WIDGETS})})]})]})})})}let aV=(0,r3.M)(),aG=l.forwardRef((e,t)=>{let i=(0,rm.yQ)(),{localFileId:n}=e,r=(0,d.wA)(),a=i[n],s=(0,rm.bh)(),l=(0,rm.jg)(),c=(0,iE.Um)(),{tabManager:u,searchQuery:p,setPreviewResource:h}=(0,rB.cX)();if(!a)return null;let m=s.find(e=>e.id===i[n].plugin_id),f=a.plugin_id,x=m?.versions[m.current_plugin_version_id],_=!!x,g=c&&c?.type===au.lD&&c.data.localFileId===a.localFileId&&c.data.view===e.tab,b=()=>{aV.openExtensionDirectory(a.localFileId)},j=_&&x.redirect_snapshot_url||l[n]&&l[n].metadata.widgetSnapshotImageSrc||ak.J;return(0,o.jsx)(aL.sU,{image:(0,o.jsx)(aN.FK,{className:aD,children:(0,o.jsx)(aO._,{src:j,widget:a,analytics:{triggeredFrom:(0,rw.Vq)(u.activeTab),searchQuery:p},context:rC._Y.WHITEBOARD})}),bottomRow:(0,o.jsxs)("div",{ref:t,className:aP,children:[(0,o.jsx)(aL.dY.MetadataContainer,{className:aU,children:(0,o.jsx)(aL.dY.TextMetadataLayout,{onClick:()=>_?h({id:f,type:rw.Rt.WIDGETS}):b(),primaryText:(0,o.jsxs)("div",{className:aF,children:[(0,o.jsx)("span",{children:x?.name?x?.name:a.name}),m&&r4.tY.PluginManagementTitleBadge(m)]}),secondaryText:(0,o.jsx)(r9.A,{localResource:a,publishedResource:m})})}),(0,o.jsxs)(aL.dY.ResourceActionContainer,{className:aB,children:[(0,o.jsx)(rK.T,{selected:g??void 0,children:(0,o.jsx)(eu.K,{onClick:t=>{let i=t.currentTarget.getBoundingClientRect();r(iC.j7({type:au.lD,data:{localFileId:a.localFileId,view:e.tab,targetRect:i}}))},"aria-label":(0,A.t)("whiteboard.inserts.widget_options"),htmlAttributes:{"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":(0,A.t)("whiteboard.inserts.widget_options")},children:(0,o.jsx)(rz.J,{})})}),g&&(0,o.jsx)(au.T9,{localResource:a,viewResource:()=>h({id:f,type:rw.Rt.WIDGETS})})]})]})})}),aW=l.memo(function(e){let{tabManager:t,setPreviewResource:i}=(0,rB.cX)(),n=(0,d.wA)(),r=e.widgetId,a=(0,r0.aQ)(e.widgetId),s=l.useMemo(()=>e.widgetVersion||(0,r5.uF)(a),[e.widgetVersion,a]),c=(0,r0.EO)(a),p=(0,r0.gn)(a),h=(0,ry.sZ)(),f=(0,rm.U6)(),x=(0,rb.XV)({org:h,extension:a,allowlistedExtensions:f}),_=!!(c||x),{searchQuery:g}=(0,rB.cX)();l.useEffect(()=>{a||n(rd.af({id:r,resourceType:rI.bD.WIDGET}))},[r,n,a]);let b=(0,j.BI)(),y=(0,d.d4)(e=>e.authedActiveCommunityProfile),{isSavedForUser:v}=(0,am.QK)(e.widgetId,rI.vt.WIDGET);return(0,m.q8)()&&aR.RA.has(r)||!s||(0,rI.m3)(a)&&(b?.shouldOptimizeForIpadApp||(0,u.k)().cmty_m10n_test_apple_os)?null:(0,o.jsx)(aL.sU,{className:"browse_widgets_universal_modal_tiles--widgetCardContainer--yzVBr resource_tiles--_parentWithHoverAction--m180X",image:(0,o.jsxs)(aN.FK,{className:aD,children:[!p&&(0,o.jsx)("div",{className:"browse_widgets_universal_modal_tiles--widgetMonetizationBadge--C1Vye",children:(0,rq.$3)({resource:a,authedActiveCommunityProfile:y,validBadges:[rq.op.PURCHASED,rq.op.OFF_PLATFORM,rq.op.FREEMIUM,rq.op.PRICE]})}),_?(0,o.jsx)(aA.z,{src:s.redirect_snapshot_url,context:rC._Y.WHITEBOARD}):(0,o.jsx)(aO._,{src:s.redirect_snapshot_url,widget:s,analytics:{triggeredFrom:(0,rw.Vq)(t.activeTab),searchQuery:g},context:rC._Y.WHITEBOARD})]}),bottomRow:(0,o.jsx)(aL.dY.FigJamMetadata,{name:s.name,onClick:()=>i({id:r,type:rw.Rt.WIDGETS}),publishers:a?.community_publishers?.accepted,showLockIcon:e.showLockIcon,showPaymentError:p,rightAlignedElement:(0,o.jsx)("div",{className:e_()("browse_widgets_universal_modal_tiles--saveButtonInTile--KIOlI",{[aM._0]:!v}),children:(0,o.jsx)(ae._,{resourceId:e.widgetId,resourceType:rI.vt.WIDGET,parentView:ae.n.TILE})})}),onClick:_||p?()=>i({id:r,type:rw.Rt.WIDGETS}):void 0,dataTestId:`figjam-widget-tile-${r}`})}),aK="browse_resources_all_search_view--sectionHeaderContainer--fg20n",az="browse_resources_all_search_view--sectionHeader--0rdpg text--fontPos13--xW8hS text--_fontBase--QdLsd",aZ="browse_resources_all_search_view--seeMore--t4uuM text--fontPos13--xW8hS text--_fontBase--QdLsd";var a$=i(62942),aY=i(625002);function aq(e){let{results:t}=(0,rM.I)(rD.Cn.FigJam),i=(0,nE.d0)();return e.lastPluginSearchQuery!==e.debouncedSearchQuery||e.lastWidgetSearchQuery!==e.debouncedSearchQuery||i&&e.lastFaceStampSearchQuery!==e.debouncedSearchQuery?(0,o.jsx)(rH.Wd,{}):0===t.normalizedSearchResults.length&&0===e.searchTemplatesResult[aI.e].length&&0===e.widgetSavedSearchResultIds.length&&0===e.widgetCommunitySearchResultIds.length&&0===e.widgetOrgSearchResultIds.length&&0===e.pluginSavedSearchResultIds.length&&0===e.pluginOrgSearchResultIds.length&&0===e.pluginCommunitySearchResultIds.length&&0===e.widgetDevelopmentSearchResultIds.length&&0===e.pluginDevelopmentSearchResultIds.length&&0===e.moreResult.length&&0===e.teamTemplatesFromSearch.length?(0,o.jsx)(rF.e,{illustration:aY.A,query:e.query,cta:(0,o.jsx)(rF._,{url:"/community/figjam"})}):(0,o.jsxs)(n_.fu,{name:"all",properties:{resourceType:"all",query:e.query},children:[(0,o.jsx)(a2,{results:e.moreResult}),[()=>(0,o.jsx)(a0,{},"librarySearchResults"),()=>i&&(0,o.jsx)(aQ,{faceStampSearchIsLoading:e.faceStampSearchIsLoading,query:e.query},"faceStampSearchResults"),()=>(0,o.jsx)(a1,{templateSearchResults:e.searchTemplatesResult,teamTemplatesFromSearch:e.teamTemplatesFromSearch,totalNumTeamTemplatesFromSearch:e.totalNumTeamTemplatesFromSearch},"templateSearchResults"),()=>(0,o.jsx)(aX,{savedSearchResultIds:e.widgetSavedSearchResultIds,communitySearchResultIds:e.widgetCommunitySearchResultIds,orgSearchResultIds:e.widgetOrgSearchResultIds,developmentSearchResultIds:e.widgetDevelopmentSearchResultIds,searchIsLoading:e.widgetSearchIsLoading,searchHasResolved:e.widgetSearchHasResolved},"widgetSearchResults"),()=>(0,o.jsx)(aJ,{savedSearchResultIds:e.pluginSavedSearchResultIds,communitySearchResultIds:e.pluginCommunitySearchResultIds,orgSearchResultIds:e.pluginOrgSearchResultIds,developmentSearchResultIds:e.pluginDevelopmentSearchResultIds,searchIsLoading:e.pluginSearchIsLoading,searchHasResolved:e.pluginSearchHasResolved},"pluginSearchResults")].map(e=>e())]})}function aX(e){let t=(0,rB.cX)().tabManager,i=e.savedSearchResultIds.concat(e.communitySearchResultIds,e.orgSearchResultIds),n=Math.max(i.length+e.developmentSearchResultIds.length-4,0),r=i.slice(0,4),a=Math.min(e.developmentSearchResultIds.length,4-r.length);return 0===i.length?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:aK,children:[(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:az,children:(0,A.tx)("whiteboard.inserts.widgets")})}),n>0&&(0,o.jsx)("button",{className:aZ,onClick:()=>{t.setActiveTab(rO.p.WIDGETS)},children:`See ${n} more ${(0,rR.LD)(n,"result")}`})]}),(0,o.jsx)("div",{className:"browse_resources_all_search_view--widgetTilesGridContainer--MDlpu browse_widgets_view--widgetTilesGridContainer--t5-lL",children:(0,o.jsxs)(o.Fragment,{children:[r.map(e=>(0,o.jsx)(aW,{widgetId:e},e)),e.developmentSearchResultIds.slice(0,a).map(e=>(0,o.jsx)(aG,{localFileId:e,tab:rO.p.DEVELOPMENT},e))]})})]})}function aJ(e){let t=(0,rB.cX)().tabManager,i=e.savedSearchResultIds.concat(e.communitySearchResultIds,e.orgSearchResultIds),n=Math.max(i.length+e.developmentSearchResultIds.length-4,0),r=i.slice(0,4),a=Math.min(e.developmentSearchResultIds.length,4-r.length);return 0===i.length?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:e_()(aK,"browse_resources_all_search_view--pluginCategorySectionHeaderPadding--RKhPp"),children:[(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:az,children:(0,A.tx)("whiteboard.inserts.plugins")})}),n>0&&(0,o.jsx)("button",{className:aZ,onClick:()=>{t.setActiveTab(rO.p.PLUGINS)},children:`See ${n} more ${(0,rR.LD)(n,"result")}`})]}),(0,o.jsxs)(o.Fragment,{children:[r.slice(0,4).map(e=>(0,o.jsx)(aT,{pluginId:e,view:rO.p.PLUGINS},e)),e.developmentSearchResultIds.slice(0,a).map(e=>(0,o.jsx)(aC,{localFileId:e,view:rO.p.DEVELOPMENT},e))]})]})}function aQ(e){let t=(0,nE.U5)(e.query),{setPreviewResource:i}=(0,rB.cX)();return 0===t.length?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:aK,children:[(0,o.jsx)("div",{className:az,children:(0,A.tx)("whiteboard.inserts.faces_title")}),t.length>5&&!e.faceStampSearchIsLoading&&(0,o.jsx)("button",{className:aZ,onClick:()=>{i({id:"FACE_STAMPS",type:rw.Rt.ORG_FACE_STAMPS})},children:(0,A.tx)("whiteboard.inserts.see_more")})]}),(0,o.jsx)("div",{className:a$.ts,children:e.faceStampSearchIsLoading?(0,o.jsx)("div",{className:"browse_resources_all_search_view--skeletonContainer--W9B65",children:(0,o.jsx)(rW._b,{rows:1,showHeader:!1})}):(0,o.jsx)(rW.Jd,{maxRows:1,isLoading:!1,users:t})})]})}function a0(){let e=(0,rB.cX)().tabManager,{results:t}=(0,rM.I)(rD.Cn.FigJam),i=l.useMemo(()=>(0,rP.Ow)(t.normalizedSearchResults),[t.normalizedSearchResults]),n=Math.max(i.length-12,0),r=(0,d.wA)(),a=(0,G.q5)(),{fileVersion:s,loadingState:c}=(0,rn.R)(e=>({fileVersion:e.fileVersion,loadingState:e.loadingState})),u=a&&s&&(0,rT.Sc)(c,(0,rA.yD)(a.key));return(l.useEffect(()=>{u&&r((0,rp.zK)())},[r,u]),0===i.length)?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:aK,children:[(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:az,children:(0,A.tx)("whiteboard.inserts.stickers")})}),n>0&&(0,o.jsx)("button",{className:aZ,onClick:()=>{e.setActiveTab(rO.p.STICKERS_AND_COMPONENTS)},children:(0,A.tx)("whiteboard.inserts.see_num_more_resources",{numMoreResources:n})})]}),(0,o.jsx)(rV.lU,{items:(0,rG.M8)(i.slice(0,12)),showContextMenu:!0,layoutOverride:rU.rp.SMALL})]})}function a1(e){let t=(0,rB.cX)().tabManager,i=(0,d.d4)(e=>e.hubFiles),n=(e.templateSearchResults[aI.e]||[]).map(e=>i[e]),r=[...e.teamTemplatesFromSearch.map(e=>({type:rS.n.TeamTemplate,template:e})),...n.map(e=>({type:rS.n.HubFile,template:e}))],a=Math.max(n.length+e.totalNumTeamTemplatesFromSearch-4,0);return 0===r.length?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:aK,children:[(0,o.jsx)("div",{className:az,children:(0,A.tx)("whiteboard.inserts.templates")}),a>0&&(0,o.jsx)("button",{className:aZ,onClick:()=>{t.setActiveTab(rO.p.TEMPLATES)},children:(0,A.tx)("whiteboard.inserts.see_num_more_resources",{numMoreResources:a})})]}),(0,o.jsx)(aw.g,{templates:r.slice(0,4),templateInsertionLocation:rv.RD.CURRENT_FILE})]})}function a2(e){return(0,o.jsx)("div",{className:"browse_resources_all_search_view--moreTopPadding--NroRc",children:e.results.map((e,t)=>(0,o.jsx)(e,{},t))})}var a3=i(964520),a5=i(913636),a6=i(830372),a4=i(973927),a9=i(862913),a8=i(591174),a7=i(167556),se=i(578394),st=i(160324),si=i(566312),sn=i(878651),sr=i(430781);let sa="browse_resources_use_cases--sectionHeader--bfznu text--fontPos13--xW8hS text--_fontBase--QdLsd",ss="browse_resources_use_cases--buttonText--zK9DZ",so="browse_resources_use_cases--flexContainer--dANvZ",sl="browse_resources_use_cases--useCaseSectionHeader--e5Nxj browse_resources_use_cases--sectionHeader--bfznu text--fontPos13--xW8hS text--_fontBase--QdLsd",sd="browse_resources_use_cases--sectionHeaderSubtext--5e-e- text--fontPos11--2LvXf text--_fontBase--QdLsd",sc="browse_resources_use_cases--resourceContainer--rxSfA browse_explore_category_view--resourceContainer--pdbQU",su="browse_resources_use_cases--resourceMetadata--AdJJW text--fontPos11--2LvXf text--_fontBase--QdLsd browse_resources_use_cases--hasFocusOutline--ak8SN",sp="browse_resources_use_cases--stickerWidgetEllipsis--KpMzQ ellipsis--ellipsis--Tjyfa",sh="browse_resources_use_cases--templateEllipsis--8hbx5 ellipsis--ellipsis--Tjyfa";function sm({onClick:e,name:t,localizedName:i,localizedDescription:n,children:r}){let a=e?(0,o.jsxs)(e4.E,{className:sa,onClick:e,children:[(0,u.k)().figjam_a11y_inserts_modal?(0,o.jsx)("h2",{className:ss,children:i||t}):(0,o.jsx)("div",{className:ss,children:i||t}),(0,o.jsx)(a5.n,{})]}):(0,o.jsx)("div",{className:sa,children:(0,u.k)().figjam_a11y_inserts_modal?(0,o.jsx)("h2",{className:ss,children:i||t}):(0,o.jsx)("div",{className:ss,children:i||t})});return(0,o.jsxs)("div",{className:"browse_resources_use_cases--useCaseSection--c00-9",children:[a,(0,o.jsx)("div",{className:sd,children:n}),(0,o.jsx)("div",{className:"browse_resources_use_cases--sectionResources--WMI76",children:r})]},t)}function sf(){let e=(0,d.d4)(e=>e.figjamDefaultInserts.useCases),t=e=>"Brainstorm together"===e?(0,A.t)("whiteboard.inserts.use_cases_brainstorm_together"):"Run a meeting"===e?(0,A.t)("whiteboard.inserts.use_cases_run_a_meeting"):"Diagram anything"===e?(0,A.t)("whiteboard.inserts.use_cases_diagram_anything"):"Lead a workshop"===e?(0,A.t)("whiteboard.inserts.use_cases_lead_a_workshop"):"Break the ice"===e?(0,A.t)("whiteboard.inserts.use_cases_break_the_ice"):void 0,i=e=>"Brainstorm together"===e?(0,A.t)("whiteboard.inserts.use_cases_brainstorm_together_description"):"Run a meeting"===e?(0,A.t)("whiteboard.inserts.use_cases_run_a_meeting_description"):"Diagram anything"===e?(0,A.t)("whiteboard.inserts.use_cases_diagram_anything_description"):"Lead a workshop"===e?(0,A.t)("whiteboard.inserts.use_cases_lead_a_workshop_description"):"Break the ice"===e?(0,A.t)("whiteboard.inserts.use_cases_break_the_ice_description"):void 0,n=e.filter(e=>!e.name.includes("Whats New"));return 0===n.length?(0,o.jsx)(sy,{}):(0,o.jsx)(o.Fragment,{children:n.map(e=>"collage_items"===e.name?null:(0,o.jsx)(sm,{name:e.name,localizedName:t(e.name),localizedDescription:i(e.name),children:e.resources.slice(0,3).map(t=>(0,o.jsxs)(l.Fragment,{children:[t&&"is_widget"in t&&!!t.is_widget&&(0,o.jsx)(sg,{widgetId:t.id}),t&&"type"in t&&t.type===tv.PW.COMPONENT&&(0,o.jsx)(sj,{resource:t}),t&&"viewer_mode"in t&&!!t.viewer_mode&&(0,o.jsx)(s_,{template:{type:rS.n.HubFile,template:t}})]},[e.name,t?t.id:""].join("_")))},e.name))})}function sx(e){let t=(0,d.d4)(e=>e.figjamDefaultInserts.useCases).find(t=>t.name===e.useCaseName);if(!t)return null;let i=t.resources.filter(e=>"viewer_mode"in e&&!!e.viewer_mode),n=t.resources.filter(e=>"is_widget"in e&&!!e.is_widget),r=t.resources.filter(e=>"type"in e&&e.type===tv.PW.COMPONENT),a=t.resources.filter(e=>"is_widget"in e&&!e.is_widget);return(0,o.jsxs)(n_.fu,{name:"use_case",properties:{useCase:t.name},children:[!!i.length&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:sl,children:(0,A.tx)("whiteboard.inserts.templates")}),(0,o.jsx)(aw.g,{templates:i.map(e=>({type:rS.n.HubFile,template:e})),templateInsertionLocation:rv.RD.CURRENT_FILE})]}),!!n.length&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:sl,children:(0,A.tx)("whiteboard.inserts.widgets")}),(0,o.jsx)("div",{className:"browse_resources_use_cases--widgetTilesGridContainer--gv30z browse_widgets_view--widgetTilesGridContainer--t5-lL",children:n.map(e=>(0,o.jsx)(e4.E,{className:sc,children:(0,o.jsx)(aW,{widgetId:e.id},e.id)},e.id))})]}),!!r.length&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:sl,children:(0,A.tx)("whiteboard.inserts.stickers_and_components")}),(0,o.jsx)(rV.OS,{items:r,showContextMenu:!0})]}),!!a.length&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:sl,children:(0,A.tx)("whiteboard.inserts.plugins")}),(0,o.jsx)("div",{className:"browse_resources_use_cases--pluginCategoryViewPadding--e1D-M",children:a.map(e=>(0,o.jsx)(e4.E,{className:sc,children:(0,o.jsx)(aT,{pluginId:e.id,view:rO.p.ALL},e.id)},e.id))})]})]})}function s_({template:e,showPublisherName:t=!1}){let{imageUrl:i,clientMeta:n,thumbnailIsSet:r,isWhiteboard:a,hubFileId:s,name:l,primaryKey:d,publishers:c,resizedThumbnailUrls:u}=(0,a4.fG)()(e),p=(0,as.b)(),{isInsertingTemplate:h}=(0,rx.Fz)(),{dragState:m,onInsertableResourcePointerDown:f}=(0,se.B)({resource:e,clickToInsert_DEPRECATED:!0,afterSuccessfulInsert:p,triggeredFrom:"universal-insert-figjam-all-use-case"}),x=c[0];return(0,o.jsxs)("div",{className:"browse_resources_use_cases--templatePreview--vlIll browse_resources_use_cases--resourcePreview--rTL2d",children:[(0,o.jsx)(aN.zq,{image:(0,o.jsx)("div",{onPointerDown:f,className:m?sr.J:void 0,children:(0,o.jsxs)(aN.FK,{backgroundColor:(0,a9.Cn)(n),children:[(0,o.jsx)(aN.zx.Cover,{children:(0,o.jsx)("div",{className:"browse_resources_use_cases--hoverOverlay--84hkm browse_templates_tab--hoverOverlay--BpdyD"})}),(0,o.jsx)(aN.zx.Center,{children:(0,o.jsx)(si.i,{insertTemplate:ed.lQ,isInsertingTemplate:h(d),shouldUseOpaqueBackground:!0,children:(0,rv.Ve)(rv.RD.CURRENT_FILE)})}),(0,o.jsx)(sn.Ho,{image:i||void 0,isSet:r,isWhiteboard:a,hubFileId:s,alt:l,resizedThumbnailUrls:u})]})}),bottomRow:(0,o.jsxs)("button",{className:e_()(su,t&&x&&"browse_resources_use_cases--resourceMetadataWithPublisher--V9KyE"),role:e.type===rS.n.HubFile?void 0:"presentation",children:[(0,o.jsx)("div",{className:so,children:(0,o.jsx)("div",{className:sh,children:l})}),t&&!!x&&(0,o.jsx)("div",{className:so,children:(0,o.jsx)("div",{className:e_()(sh,"browse_resources_use_cases--publisher--2akDJ"),children:(0,A.tx)("whiteboard.inserts.by_publisher_name",{publisherName:x.name})})})]})}),(0,o.jsx)(a8.S,{dragState:m})]})}function sg(e){let t=e.widgetId,i=(0,d.d4)(e=>e.publishedWidgets[t]),n=i?(0,r5.Ar)(i):null;return i&&n?(0,o.jsx)(sb,{widgetVersion:n}):null}function sb(e){let{dragState:t,onInsertableResourcePointerDown:i}=(0,st.P)({resource:e.widgetVersion,clickToInsert_DEPRECATED:!0,afterSuccessfulInsert:(0,as.b)(),triggeredFrom:"universal-insert-figjam-all-use-case"});return(0,o.jsxs)("div",{children:[(0,o.jsx)(aL.sU,{className:"browse_resources_use_cases--widgetPreview--egQ9B browse_resources_use_cases--resourcePreview--rTL2d",image:(0,o.jsx)(aL.WM,{backgroundColor:"transparent",removeBorder:!0,className:"browse_resources_use_cases--widgetImageContainer--diYt5",children:(0,o.jsx)(e4.E,{htmlAttributes:{onPointerDown:i},className:"browse_resources_use_cases--widgetButtonContainer--hLY9z browse_resources_use_cases--hasFocusOutline--ak8SN",children:(0,o.jsx)("img",{className:e_()("browse_resources_use_cases--widgetImage--Rciys",{[sr.J]:!!t}),src:e.widgetVersion.redirect_snapshot_url,alt:""})})}),bottomRow:(0,o.jsx)(e4.E,{className:su,children:(0,o.jsx)("div",{className:so,children:(0,o.jsx)("div",{className:sp,children:e.widgetVersion.name})})})}),(0,o.jsx)(a7.E,{dragState:t})]})}function sj(e){let t=(0,as.b)();return(0,o.jsxs)("div",{className:"browse_resources_use_cases--stickerPreview--ESlWj browse_resources_use_cases--resourcePreview--rTL2d",children:[(0,o.jsx)(tC.lX,{buttonProps:{clickToInsert:!0},draggable:{sourceForTracking:"universal-insert-figjam-all-use-case",afterSuccessfulInsert:t},height:90,isFigJam:!0,isSearch:!1,item:e.resource,noBackground:!0,shouldHideDescription:!0,shouldShowShadowOnHover:!0,showName:!1,width:90}),(0,o.jsx)("div",{className:"browse_resources_use_cases--stickerResourceMetadata--vE2eG",children:(0,o.jsx)(e4.E,{className:su,children:(0,o.jsx)("div",{className:sp,children:e.resource.name})})}),(0,o.jsx)(rV.he,{})]})}function sy(){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(sv,{name:(0,A.t)("whiteboard.inserts.use_cases_brainstorm_together"),description:(0,A.t)("whiteboard.inserts.use_cases_brainstorm_together_description")}),(0,o.jsx)(sv,{name:(0,A.t)("whiteboard.inserts.use_cases_run_a_meeting"),description:(0,A.t)("whiteboard.inserts.use_cases_run_a_meeting_description")}),(0,o.jsx)(sv,{name:(0,A.t)("whiteboard.inserts.use_cases_diagram_anything"),description:(0,A.t)("whiteboard.inserts.use_cases_diagram_anything_description")}),(0,o.jsx)(sv,{name:(0,A.t)("whiteboard.inserts.use_cases_lead_a_workshop"),description:(0,A.t)("whiteboard.inserts.use_cases_lead_a_workshop_description")}),(0,o.jsx)(sv,{name:(0,A.t)("whiteboard.inserts.use_cases_break_the_ice"),description:(0,A.t)("whiteboard.inserts.use_cases_break_the_ice_description")})]})}function sv({name:e,description:t,miniCardsOnly:i=!1}){return(0,o.jsxs)("div",{className:e_()("browse_resources_use_cases--useCaseSectionLoading--jAjoI browse_resources_use_cases--useCaseSection--c00-9",{"browse_resources_use_cases--mini_useCaseSectionLoading--Er0Hh":i}),children:[(0,o.jsxs)("div",{className:sa,children:[e,(0,o.jsx)(a5.n,{})]}),(0,o.jsx)("div",{className:sd,children:t})]},e)}function sC({currentOrg:e}){let{teamTemplates:t,isLoading:i}=(0,rf.wv)(rC._Y.WHITEBOARD),{setSelectedCategory:n}=(0,rB.cX)(),r=!t?.length,a=(0,A.t)("whiteboard.inserts.start_from_a_template"),s=(0,A.t)("whiteboard.inserts.try_handmade_templates_created_by_your_team");return i?(0,o.jsx)(sv,{name:a,description:s,miniCardsOnly:!0}):r?null:(0,o.jsx)(sm,{name:a,localizedName:a,localizedDescription:s,onClick:()=>n({resourceType:rw.Rt.TEAM_TEMPLATES,id:"",title:(0,A.t)("whiteboard.inserts.org_name_templates",{orgName:e.name})}),children:(0,o.jsx)(a6.Y,{spacing:32,horizontalAlignItems:"center",children:t.map(e=>(0,o.jsx)(s_,{template:e,showPublisherName:!0},(0,a4.gp)(e)))})})}var sT=i(873852),sE=i(335206),sS=i(526509),sw=i(523222),sI=i(453756),sL=i(696626);function sN(e){let t=(0,sI.L)(),i=(0,nE.d0)();return(0,o.jsxs)("div",{className:e.hasTopPadding?"browse_more_view--moreViewContainer--blJLd":void 0,children:[t?(0,o.jsx)(sA,{}):(0,o.jsx)(sk,{}),(0,o.jsx)(sE.l7,{}),i&&(0,o.jsx)(rW.H_,{}),(0,o.jsx)(sE.j6,{}),(0,o.jsx)(sE.m_,{}),(0,o.jsx)(sE.G0,{}),(0,o.jsx)(sE.fQ,{})]})}function sA(){let{numVisibleTools:e}=(0,p.md)(sL.Kj),t=(0,sL.hn)(e);return(0,o.jsx)(o.Fragment,{children:t.map(({toolId:e})=>(0,o.jsx)(sO,{toolId:e},e))})}function sO({toolId:e}){switch(e){case c.NLJ.TYPE:return(0,o.jsx)(sE.ue,{});case c.NLJ.SECTION:return(0,o.jsx)(sE.Sn,{});case c.NLJ.TABLE:return(0,o.jsx)(sE.vh,{});case c.NLJ.STAMP:return(0,o.jsx)(sE.Ox,{});case c.NLJ.COMMENTS:return(0,o.jsx)(sE.v7,{});case sT.y:return(0,o.jsx)(sE.Lf,{});default:return null}}function sk(){let e=(0,p.md)(sS.c5),t=(0,sw.dQ)(),i=(0,sw.Q6)(e?.numPrimaryTools??0),n=t.filter(e=>!i.includes(e));return(0,o.jsx)(o.Fragment,{children:n.map(e=>(0,o.jsx)(sR,{toolKey:e},e))})}function sR({toolKey:e}){switch(e){case"text":return(0,o.jsx)(sE.ue,{});case"section":return(0,o.jsx)(sE.Sn,{});case"table":return(0,o.jsx)(sE.vh,{});case"stamp":return(0,o.jsx)(sE.Ox,{});case"comments":return(0,o.jsx)(sE.v7,{});case"quick-actions-v2":return(0,o.jsx)(sE.Lf,{});default:return null}}var sM=i(155287);let sD=l.memo(function(e){let t=t=>(0,sM.ZQ)(t)?(0,o.jsx)(aC,{localFileId:t.localFileId,view:e.view},"development_plugin_"+t.localFileId):(0,o.jsx)(aT,{pluginId:t.plugin_id,view:e.view,pluginVersion:t},"recent_plugin_"+t.plugin_id);return(0,o.jsx)(o.Fragment,{children:e.items.map(e=>t(e))})});function sP(){let e=(0,rB.Hb)(),t=(0,rm.Tg)().filter(e);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(sD,{items:t.slice(0,4),view:rO.p.RECENTS})})}function sU(){let e=(0,rx.eE)(rL.$A.FigJam),t=(0,rB.ik)(e,"templates",(e,t)=>!t.some(t=>t.type===rS.n.HubFile&&t.template.id===e.id),4),i=(0,rB.mk)(t,[(0,rT.mC)(rN.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:rL.$A.FigJam})),(0,rT.mC)(ru.fC)]);return(0,o.jsx)(aw.g,{templates:i,templateInsertionLocation:rv.RD.CURRENT_FILE})}let sF="browse_widgets_view--sectionHeader--rxCOO text--fontPos13--xW8hS text--_fontBase--QdLsd",sB="browse_widgets_view--widgetTilesGridContainer--t5-lL",sH=l.memo(function(e){let t=e=>(0,sM.ZQ)(e)?(0,o.jsx)(aG,{localFileId:e.localFileId,tab:rO.p.RECENTS},e.localFileId):(0,o.jsx)(aW,{widgetId:e.plugin_id,widgetVersion:e,tab:rO.p.RECENTS},e.plugin_id);return(0,o.jsx)("div",{className:sB,children:e.items.map(e=>t(e))})});function sV({}){let e=(0,rB.Sp)(),t=(0,rm.qr)().filter(e);return(0,o.jsx)(sH,{items:t.slice(0,4)})}var sG=i(522930);let sW="browse_resources_all_tab--sectionHeader--Xq6Ds text--fontPos16--oMC-G text--_fontBase--QdLsd",sK="browse_resources_all_tab--divider--lN9-d",sz="browse_resources_all_tab--sectionBottomPadding--3jqXm";function sZ(){let e=(0,rB.qZ)(),t=(0,rf.Gi)(),i=(0,rT.oh)(ru.fC),n=(0,rT.oh)(rN.cd.fetchWidgetsMetadata.loadingKeyForPayload({key:rL.$A.FigJam})),r=(0,rT.oh)(rp.fi),a=(0,rT.oh)(rN.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:rL.$A.FigJam})),s=(0,d.d4)(e=>e.figjamDefaultInserts.useCases),l=!!e&&0===s.length;return i||e&&l||!e&&(n||r||a)?(0,o.jsx)(rH.Wd,{}):(0,o.jsx)(n_.fu,{name:"all",children:(0,o.jsxs)("div",{children:[(0,o.jsx)(sG.O9,{applyInsertStyling:!0}),t?.type==="org"&&(0,o.jsx)(sC,{currentOrg:t.entity}),e?(0,o.jsx)(sf,{}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(sq,{}),(0,o.jsx)("div",{className:sK}),(0,o.jsx)(sX,{}),(0,o.jsx)("div",{className:sK}),(0,o.jsx)(s$,{}),(0,o.jsx)("div",{className:sK}),(0,o.jsx)(sY,{}),(0,o.jsx)("div",{className:sK}),(0,o.jsx)(sJ,{})]})]})})}function s$(){let e=(0,rB.cX)().tabManager;return(0,o.jsxs)("div",{className:sz,children:[(0,o.jsx)(sQ,{title:(0,A.t)("whiteboard.inserts.widgets"),subtitle:(0,A.t)("whiteboard.inserts.widgets_subtitle"),onClick:()=>e.setActiveTab(rO.p.WIDGETS),showCaret:!0,shorterSectionHeader:!1}),(0,o.jsx)(sV,{})]})}function sY(){let e=(0,rB.cX)().tabManager;return(0,o.jsxs)("div",{className:sz,children:[(0,o.jsx)(sQ,{title:(0,A.t)("whiteboard.inserts.plugins"),subtitle:(0,A.t)("whiteboard.inserts.plugins_subtitle"),onClick:()=>e.setActiveTab(rO.p.PLUGINS),showCaret:!0,shorterSectionHeader:!0}),(0,o.jsx)(sP,{})]})}function sq(){let e=(0,rB.cX)().tabManager;return(0,o.jsxs)("div",{className:sz,children:[(0,o.jsx)(sQ,{title:(0,A.t)("whiteboard.inserts.stickers"),subtitle:(0,A.t)("whiteboard.inserts.stickers_subtitle"),onClick:()=>e.setActiveTab(rO.p.STICKERS_AND_COMPONENTS),showCaret:!0,shorterSectionHeader:!1}),(0,o.jsx)(rG.zz,{})]})}function sX(){let e=(0,rB.cX)().tabManager;return(0,o.jsxs)("div",{className:sz,children:[(0,o.jsx)(sQ,{title:(0,A.t)("whiteboard.inserts.templates"),subtitle:(0,A.t)("whiteboard.inserts.templates_subtitle"),onClick:()=>e.setActiveTab(rO.p.TEMPLATES),showCaret:!0,shorterSectionHeader:!1}),(0,o.jsx)(sU,{})]})}function sJ(){let e=(0,rB.cX)().tabManager;return(0,o.jsxs)("div",{className:sz,children:[(0,o.jsx)(sQ,{title:(0,A.t)("whiteboard.inserts.more"),onClick:()=>e.setActiveTab(rO.p.MORE),showCaret:!0,shorterSectionHeader:!0}),(0,o.jsx)(sN,{hasTopPadding:!1})]})}function sQ(e){return(0,o.jsxs)(e4.E,{className:e_()({"browse_resources_all_tab--sectionHeaderContainer--2ZoeS":!!e.subtitle,"browse_resources_all_tab--sectionHeaderContainerNoSubtitle--qdp9l browse_resources_all_tab--sectionHeaderContainer--2ZoeS":!e.subtitle,"browse_resources_all_tab--sectionHeaderContainerShorter--jEE47":!!e.shorterSectionHeader}),onClick:e.onClick,children:[(0,o.jsxs)("div",{className:"browse_resources_all_tab--sectionTitleContainer--5Z1j0",children:[(0,u.k)().figjam_a11y_inserts_modal?(0,o.jsxs)("h2",{className:sW,children:[" ",e.title," "]}):(0,o.jsxs)("div",{className:sW,children:[" ",e.title," "]}),e.showCaret&&(0,o.jsx)(a3.a,{className:"browse_resources_all_tab--icon--NB560"})]}),e.subtitle&&(0,o.jsx)("div",{className:"browse_resources_all_tab--sectionHeaderSubtext--7a8Mb text--fontPos13--xW8hS text--_fontBase--QdLsd",children:e.subtitle})]})}var s0=i(448960);function s1({children:e,searchQuery:t,setSearchQuery:i,resourceDetailViewContent:n,resourceDetailViewHeader:r,categoryViewContent:a,categoryViewHeader:s,mainScrollContainerRef:l,categoryScrollContainerRef:c,initialModalPosition:u,modalPosition:p,bounds:h,showLeftPinBound:m,setShowLeftPinBound:f,shouldSnapToPosition:x,entryPointId:_,disableDragging:g,setPinned:b}){let y=(0,d.wA)(),{tabManager:v}=(0,rB.cX)(),C=!a&&!s&&!n&&!r,T=s&&a,E=n&&r,S=j.Kx()?.shouldOptimizeForIpadApp;return(0,o.jsxs)(s0.B.Root,{bounds:h,disableDragging:g,entryPointId:_,initialPosition:u,modalPosition:p,setPinned:b,setShowLeftPinBound:f,shouldOptimizeForIpadApp:S,shouldShowTabView:C,shouldSnapToPosition:x,showLeftPinBound:m,children:[(0,o.jsxs)(s0.B.TabView,{hasSlidingPaneStyle:C,children:[(0,o.jsx)(s0.B.SearchBar,{searchQuery:t,setSearchQuery:i,showCloseButton:!0,topBarStyle:"browse_all_resources_modal_container--figjamTopBarContainer--KF-6s",onFocus:()=>y(H.Dy({entryPoint:"figjam:inserts"}))}),(0,o.jsx)("div",{className:"browse_all_resources_modal_container--divider--U9jtu"}),(0,o.jsx)(s0.B.ScrollContainer,{type:"main",currentTab:v.activeTab,scrollContainerRef:l,shouldShowTabView:C,toolbeltHeight:rk.zD,children:e})]}),T&&(0,o.jsxs)(s0.B.TabView,{hasSlidingPaneStyle:!E,children:[s,(0,o.jsx)(s0.B.ScrollContainer,{type:"category",currentTab:v.activeTab,scrollContainerRef:c,shouldShowTabView:C,toolbeltHeight:rk.zD,children:a})]}),E&&(0,o.jsxs)(s0.B.TabView,{hasSlidingPaneStyle:!0,children:[r,(0,o.jsx)(s0.B.ScrollContainer,{type:"detail",currentTab:v.activeTab,shouldShowTabView:C,toolbeltHeight:rk.zD,children:n})]})]})}var s2=i(451154),s3=i(535653),s5=i(18399),s6=i(520315);let s4="browse_explore_category_view--resourceContainer--pdbQU";function s9(e){let t=e.selectedCategoryId,{shelves:i,isLoading:n}=(0,s3.d)(e.shelfType),r=i?i.find(e=>e.id===t):void 0;if(!i||0===i.length)return null;if(n)return(0,o.jsx)(s6.L,{});let a=t=>(0,o.jsx)("button",{className:s4,children:e.renderResource(t)},t.id);return r?(0,o.jsxs)(n_.fu,{name:"explore",properties:{resourceType:e.resourceType,selectedCategory:t},children:[(0,o.jsx)("div",{className:e.resourceType===rI.bD.WIDGET?"browse_explore_category_view--widgetTilesGridContainer--U4Dl6 browse_widgets_view--widgetTilesGridContainer--t5-lL":"browse_explore_category_view--pluginCategoryViewPadding--tst89",children:r.shelf_content.map(e=>a(e))}),(0,o.jsx)(s5.q,{resourceType:e.resourceType})]}):null}function s8(e){let t=(0,nE.U5)(e.debouncedSearchQuery),i=(0,nE.d0)();return 0===e.results.length&&0===t.length?(0,o.jsx)(n_.fu,{name:"more",properties:{query:e.debouncedSearchQuery},children:(0,o.jsx)(rF.e,{illustration:aY.A,defaultDisplayStringResourceType:"items",query:e.query})}):(0,o.jsx)(n_.fu,{name:"more",properties:{query:e.debouncedSearchQuery},children:(0,o.jsxs)("div",{className:"browse_more_search_view--searchTopPadding--iZQ6F",children:[i&&(0,o.jsx)(aQ,{faceStampSearchIsLoading:e.faceStampSearchIsLoading,query:e.query}),e.results.map((e,t)=>(0,o.jsx)(e,{},t))]})})}let s7="browse_plugins_search_view--sectionHeader--OKPiP text--fontPos13--xW8hS text--_fontBase--QdLsd";function oe(e){let{query:t,debouncedSearchQuery:i,hasResolved:n,savedSearchResultIds:r,communitySearchResultIds:a,orgSearchResultIds:s,developmentSearchResultIds:l,lastPluginSearchQuery:c}=e,u=(0,d.d4)(e=>e.currentUserOrgId&&e.orgById[e.currentUserOrgId]),p=r&&r.length>0,h=a&&a.length>0,m=l&&l.length>0,f=u&&s&&s.length>0;return c!==i?(0,o.jsx)(rH.VR,{}):!n||p||h||f||m?(0,o.jsxs)(n_.fu,{name:"plugins",properties:{resourceType:"plugin",query:i},children:[p&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:s7,children:(0,A.tx)("whiteboard.inserts.plugin_recents")}),r.map(e=>(0,o.jsx)(aT,{pluginId:e,view:rO.p.SAVED},`saved_plugin_${e}`))]}),m&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:s7,children:(0,A.tx)("whiteboard.inserts.development")}),l.map(e=>(0,o.jsx)(aC,{localFileId:e,view:rO.p.DEVELOPMENT},"development_plugin_"+e))]}),f&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:s7,children:(0,A.tx)("whiteboard.inserts.plugin_from_org",{orgName:u.name})}),s.map(e=>(0,o.jsx)(aT,{pluginId:e,view:rO.p.EXPLORE},`org_plugin_${e}`))]}),h&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:s7,children:(0,A.tx)("whiteboard.inserts.plugin_from_community")}),a.map(e=>(0,o.jsx)(aT,{pluginId:e,view:rO.p.EXPLORE},`community_plugin_${e}`))]})]}):(0,o.jsx)(n_.fu,{name:"plugins",properties:{resourceType:"plugin",query:i},children:(0,o.jsx)(rF.e,{illustration:aY.A,defaultDisplayStringResourceType:"plugins",query:t,cta:(0,o.jsx)(rF._,{url:"/community/plugins"}),orgNameIfAllowlistEnforced:u&&u.plugins_whitelist_enforced?u.name:void 0})})}var ot=i(407919),oi=i(147952),on=i(190980),or=i(465071),oa=i(3836),os=i(825015),oo=i(257019);function ol(e){let t=e.extensionType===sM.Ag.Plugin?oo.E2:oo.Hr,i=(0,or.T5)("BrowseExtensionsOrgAllowlistView").unwrapOr(null),n=i?.key.type===rC.OL.ORG?i.key.parentId:void 0;return i&&n&&t.hasAllowlist({id:n,plugins_whitelist_enforced:i.pluginsWhitelistEnforced,widgets_whitelist_enforced:i.widgetsWhitelistEnforced})&&n?(0,o.jsx)(oc,{orgId:n,dedupeOrgSaves:e.dedupeOrgSaves,extensionType:e.extensionType}):null}function od(e){let{extensionIds:t,extensionType:i}=e;return i===sM.Ag.Plugin?(0,o.jsx)(o.Fragment,{children:t.map(e=>(0,o.jsx)(aT,{pluginId:e,view:rO.p.EXPLORE},e))}):(0,o.jsx)("div",{className:sB,children:t.map(e=>(0,o.jsx)(aW,{widgetId:e},e))})}function oc(e){let{orgId:t}=e,i=(e.extensionType===sM.Ag.Plugin?rm.ll:rm.U6)(),n=l.useMemo(()=>Object.keys(i),[i]),r=(0,G.tS)(),a=(e.extensionType===sM.Ag.Plugin?sM.Gb:sM.n_)(t,r),s=(0,rT.mC)(a),d=(0,rm.Be)(),c=e.extensionType===sM.Ag.Plugin?d.orgPlugins:d.orgWidgets,u=l.useMemo(()=>e.dedupeOrgSaves?n.filter(e=>!c[e]):n,[n,e.dedupeOrgSaves,c]);return s?0===u.length?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:sF,children:(0,A.tx)("universal_insert.approved_from_figma_community")}),(0,o.jsx)(od,{extensionType:e.extensionType,extensionIds:u})]}):(0,o.jsx)(s6.L,{})}var ou=i(493196),op=i(270045),oh=i(876459),om=i(116101),of=(e=>(e.RECENT_AND_SAVED="recent_and_saved",e.DEVELOPMENT="development",e.ORG="org",e))(of||{});let ox="browse_main_view_selector--mainViewHeader--1tbfQ";function o_(e){let t=(0,d.wA)(),i=(0,ry.sZ)(),n=l.useCallback(e=>(function(e,t){switch(e){case of.RECENT_AND_SAVED:return(0,A.t)("universal_insert.recents_and_saved");case of.DEVELOPMENT:return(0,A.t)("universal_insert.development");case of.ORG:return t?(0,A.t)("whiteboard.inserts.plugin_from_org",{orgName:t.name}):(0,A.t)("universal_insert.from_your_org")}})(e,i),[i]),r=[of.RECENT_AND_SAVED],a=(0,d.d4)(e=>e.universalInsertModal.scrollDevelopmentSectionIntoView),s=l.useRef(null);if(s.current&&a){t(om.SI({}));let e=s.current;setTimeout(()=>e.scrollIntoView({behavior:"smooth"}),0)}return(oh.eD&&r.push(of.DEVELOPMENT),1!==r.length||i)?(0,o.jsx)("div",{className:ox,ref:s,children:(0,o.jsxs)(ou.bL,{onChange:e.setCurrentView,value:e.currentView,recordingKey:"figjam-browse-modal-main-view-select",children:[(0,o.jsx)(ou.l9,{label:(0,o.jsx)(op.h,{children:(0,A.t)("universal_insert.view_resources_by")})}),(0,o.jsxs)(ou.mc,{children:[r.map(e=>(0,o.jsx)(ou.c$,{value:e,children:n(e)},e)),i&&(0,o.jsx)(ou.wv,{}),i&&(0,o.jsx)(ou.c$,{value:of.ORG,children:n(of.ORG)})]})]})}):(0,o.jsx)("div",{className:e_()(ox,eT.s.ml8.mt2.mb2.$),children:(0,o.jsx)("div",{className:"browse_main_view_selector--mainViewSelectorTitle--WL5Qi text--fontPos13--xW8hS text--_fontBase--QdLsd",children:n(r[0])})})}let og=(0,p.eU)(of.RECENT_AND_SAVED),ob=(0,p.eU)(of.RECENT_AND_SAVED);var oj=i(950005);function oy(){let e=(0,rm.nl)(),t=(0,rm.Im)(),i=(0,rm.kd)().filter(e=>!t[e.id]);if(0===Object.keys(e).length&&0===i.length)return(0,o.jsx)(oj.W,{isWidget:!1});let n=Object.keys(e).reverse();return(0,o.jsxs)(o.Fragment,{children:[n.map(e=>(0,o.jsx)(aC,{localFileId:Number(e),view:rO.p.DEVELOPMENT},"development_plugin_"+e)),i.map(e=>(0,o.jsx)(aC,{publishedPlugin:e,view:rO.p.DEVELOPMENT},"development_plugin_"+e.id))]})}function ov(){let e=(0,rm.f6)();return 0===e.length?null:(0,o.jsxs)(n_.fu,{name:"invited",children:[e.map(e=>(0,o.jsx)(aT,{pluginId:e.id,view:rO.p.PLUGINS,pluginVersion:(0,r5.uF)(e)},e.id)),(0,o.jsx)(a6.Y,{padding:{horizontal:24},children:(0,o.jsx)("div",{className:eT.s.wFull.h1.$,style:rY.sx.add({backgroundColor:"var(--color-border)"}).$})})]})}var oC=i(443820),oT=i(279454),oE=i(438674),oS=i(336063);function ow(){return(0,o.jsxs)("div",{className:eT.s.flex.flexColumn.itemsCenter.alignCenter.pl16.pr16.$,children:[(0,o.jsx)("div",{children:(0,o.jsx)(tb.B,{svg:oS.A,useOriginalSrcFills_DEPRECATED:!0,svgWidth:"90px",autosize:!0})}),(0,o.jsx)("div",{className:eT.s.mb24.mt16.pl36.pr36.$,children:(0,A.tx)("whiteboard.inserts.plugin_community_disabled",{private_plugins:(0,o.jsx)(oE.N,{newTab:!0,href:"https://www.figma.com/plugin-docs",trusted:!0,children:(0,A.tx)("whiteboard.inserts.plugin_community_disabled_private_plugins")})})})]})}let oI="browse_plugins_recents_list--loadingSpinner--ydkCW";function oL(){let e=(0,d.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:void 0);return e?(0,o.jsx)(oN,{org:e}):(0,o.jsx)("span",{className:oI,"data-testid":"loading-spinner",children:(0,o.jsx)(oC.k,{})})}function oN({org:e}){let t=(0,d.d4)(t=>{let{orgUsersByOrgId:i}=t,n=i[e.id];return n[t.user.id]?.permission===rC._D.GUEST}),i=!!(e&&e.plugins_whitelist_enforced),n=(0,rm.ll)(),r=(0,rn.R)(i=>e&&!t?(0,r5.Qt)((0,r5.i8)((0,rB.H6)(Object.values(i.publishedPlugins))),e.id):{}),a=Object.keys(r),s=(0,G.tS)(),c=(0,sM.Gb)(e?.id??"",s),u=(0,rT.mC)(c),p=rd.LP.loadingKeyForPayload(e?.id??""),h=(0,rT.mC)(p),m=(0,rm.Be)().orgPlugins,f=l.useMemo(()=>{let e=Object.values(m).filter(e=>!r[e.plugin_id]);return i&&(e=e.filter(e=>n[e.plugin_id])),e.sort(rm.YW)},[n,i,r,m]),x=(0,oT.Ol)(f),_=!e.public_plugins_allowed||e.plugins_whitelist_enforced&&u&&0===Object.keys(n).length,g=t||h&&0===Object.keys(r).length,b=(0,d.wA)();return(l.useEffect(()=>{e&&!t&&b(rc.Xt())},[b,e,t]),(!i||u)&&h)?_&&g?(0,o.jsx)(ow,{}):(0,o.jsxs)(n_.fu,{name:"explore",children:[a.length>0&&(0,o.jsx)(o.Fragment,{children:a.map(e=>(0,o.jsx)(aT,{pluginId:e,view:rO.p.EXPLORE,showLockIcon:!0},e))}),x.length>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"browse_plugins_recents_list--sectionHeader--az12L text--fontPos13--xW8hS text--_fontBase--QdLsd",children:(0,A.tx)("universal_insert.saved_from_community")}),x.map(e=>{let t=e.plugin_id;return(0,o.jsx)(aT,{pluginId:t,view:rO.p.EXPLORE},t)})]}),(0,o.jsx)(ol,{extensionType:sM.Ag.Plugin,dedupeOrgSaves:!0})]}):(0,o.jsx)("span",{className:oI,"data-testid":"loading-spinner",children:(0,o.jsx)(oC.k,{})})}var oA=i(815945),oO=i(789),ok=i(68162),oR=i(661220);let oM="browse_recent_and_saved_view--subTitle--04tFz text--fontPos12--YsUAh text--_fontBase--QdLsd",oD="browse_recent_and_saved_view--showAllSavedExtensionsButton--l1qOq text--fontPos12--YsUAh text--_fontBase--QdLsd";function oP(){let{filterByAllowlist:e,filterByPublicResourcesAllowed:t}=(0,rm.jA)(!1),i=(0,rB.Hb)(),n=(0,rm.Tg)().filter(i);n=t(n=e(n));let r=(0,rm.Be)(),a=r.plugins,s=l.useMemo(()=>Object.values(a).sort(rm.YW).filter(e=>"user"===e.installed_by),[a]),d=(0,oA.xx)(()=>s),c=(0,oT.Ol)(d()),[u,p]=l.useState(!1),h=l.useMemo(()=>u?c:c.slice(0,40),[c,u]),m=(0,oO.$D)();if(!r.loaded&&!m)return(0,o.jsx)("div",{className:eT.s.flex.justifyCenter.alignCenter.p24.$,children:(0,o.jsx)(oC.k,{})});if(0===n.length&&0===c.length)return(0,o.jsx)(ok.H,{isWidget:!1});let f=n.slice(0,6),x=f.length>0,_=c.length>0;return(0,o.jsxs)(o.Fragment,{children:[x&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:oM,children:(0,A.tx)("universal_insert.recents")}),(0,o.jsx)(sD,{items:f,view:rO.p.RECENTS})]}),x&&_&&(0,o.jsx)(oR.F,{}),_&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:oM,children:(0,A.tx)("universal_insert.saved")}),(0,o.jsx)(sD,{items:h,view:rO.p.SAVED}),c.length>40&&!u&&(0,o.jsx)("button",{className:oD,onClick:()=>p(!0),children:(0,A.tx)("universal_insert.show_all_saved_plugins")})]})]})}function oU(){return(0,o.jsx)(os.K,{resourceType:rI.bD.PLUGIN,shelfType:rI.cS.BROWSE_PLUGINS_MODAL,renderResource:e=>(0,o.jsx)(aT,{pluginId:e.id,view:rO.p.EXPLORE},e.id)})}function oF(){let[e,t]=(0,p.fp)(ob);return(0,o.jsx)(o_,{setCurrentView:t,currentView:e})}function oB(){let e=(0,p.md)(ob),t=(0,or.T5)("BrowsePluginsCombinedListView").unwrapOr(null),i=!!t?.pluginsWhitelistEnforced;return(0,o.jsxs)("div",{children:[(0,o.jsx)(ov,{}),(0,o.jsxs)("div",{className:eT.s.flex.justifyBetween.wFull.minW0.$,children:[(0,o.jsx)(oF,{}),e===of.DEVELOPMENT&&(0,o.jsx)("div",{className:eT.s.flex.itemsCenter.pr16.$,children:(0,o.jsx)(oa.n,{resourceType:rI.bD.PLUGIN})})]}),e===of.RECENT_AND_SAVED&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(oP,{}),i?(0,o.jsx)(ol,{extensionType:sM.Ag.Plugin}):(0,o.jsx)(oU,{})]}),e===of.DEVELOPMENT&&(0,o.jsx)(oy,{}),e===of.ORG&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(oL,{}),!i&&(0,o.jsx)(oU,{})]})]})}function oH(){l.useEffect(()=>{function e(e){e.key===on.S7&&ot.D.dispatch(oi.HQ({storeInRecentsKey:rL.$A.FigJam}))}return ot.D.dispatch(oi.HQ({storeInRecentsKey:rL.$A.FigJam})),window.addEventListener("storage",e,!1),()=>{window.removeEventListener("storage",e,!1)}},[]);let e=(0,d.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:void 0),t=e?e.id:"",i=(0,rT.oh)(ro.sz.loadingKeyForPayload({shelfType:rI.cS.BROWSE_PLUGINS_MODAL})),n=(0,G.tS)(),r=(0,rT.oh)((0,sM.Gb)(t,n)),a=(0,rT.oh)(rd.LP.loadingKeyForPayload(t));return i||r||a?(0,o.jsx)(rH.VR,{}):(0,o.jsx)(n_.fu,{name:"plugins",children:(0,o.jsx)(oB,{})})}var oV=i(496441),oG=i(313269),oW=i(905430),oK=i(276489),oz=i(608145),oZ=i(740025),o$=i(12796),oY=i(319631),oq=i(525678),oX=i(834956),oJ=i(58113),oQ=i(269100),o0=i(55550);function o1(e){let t=(0,d.d4)(e=>e.universalInsertModal),i=(0,d.wA)(),n=(0,rm.$1)(),r=(0,d.d4)(t=>(0,r5.my)(e.pluginId,t.publishedPlugins)),a=(0,r0.gn)(r),s=Object.values(n).find(e=>e.plugin_id===r.id),c=!!s,p=!!r.id,h=(0,rm.Be)().plugins[e.pluginId]||(0,r5.uF)(r),{isSavedForOrg:m,isSavedForUser:f,onSaveClick:x}=(0,am.Bj)(h),_=m||f,g=(0,rB.cX)().tabManager,b=(0,rw.Vq)(g.activeTab),y=(0,as.b)(),v=(0,j.Kx)(),C=(0,G.q5)(),{orgEntity:T,org:E,appModel:S,selectedView:w,isReadOnly:I,userCanViewPlugins:L,userCanRunExtensions:N,pluginSubmenuDropdownTargetRect:O,activeTextReviewPlugin:k}=(0,rn.R)(e=>({orgEntity:(0,oZ.EL)(e),org:e.currentUserOrgId&&e.orgById[e.currentUserOrgId]||null,appModel:e.mirror.appModel,selectedView:e.selectedView,isReadOnly:e.mirror.appModel.isReadOnly,userCanViewPlugins:(0,o$.Eh)(e),userCanRunExtensions:(0,o$.cb)(e),pluginSubmenuDropdownTargetRect:e.dropdownShown?.data?.targetRect,activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin}));l.useEffect(()=>{p||i(rd.af({id:e.pluginId,resourceType:rI.bD.PLUGIN}))},[i,e.pluginId,p]);let R={};R[h.plugin_id]=h;let M={openFile:C,allSavedPlugins:R,localExtensions:n,orgEntity:T,org:E,isReadOnly:I,userCanViewPlugins:L,userCanRunExtensions:N,editorType:"whiteboard",activeTextReviewPlugin:k,isDevHandoff:!1,publishedPlugins:{},publishedWidgets:{}},D={openFile:C,allSavedPlugins:{},localExtensions:n,orgEntity:T,org:E,isReadOnly:I,userCanViewPlugins:L,userCanRunExtensions:N,editorType:"whiteboard",activeTextReviewPlugin:k,publishedPlugins:{},publishedWidgets:{}},P=(0,iE.Um)(),U=P?.type===o2&&P.data.pluginId===e.pluginId,F=s?.manifest.menu&&s.manifest.menu.length>0?(0,oW.z)(s.manifest.menu,s):[],B=h.manifest.menu&&h.manifest.menu.length>0?(0,oW.z)(h.manifest.menu,h):[],H=B.length>0||F.length>0,V=c||H,W=()=>{let e=()=>{let e=(0,ar.cK)(h);(0,oz.Im)(M,b,e)};_?e():x(e,!0),y()},K=()=>{if(!s)return;let e=()=>{let e=(0,ar.hN)(s);(0,oz.Im)(D,b,e)};_?e():x(e,!0),y()};if(!p)return(0,o.jsx)(s6.L,{});let z=v?.shouldOptimizeForIpadApp||(0,u.k)().cmty_m10n_test_apple_os;return(0,o.jsxs)(n_.fu,{name:"detail",properties:{resourceId:r.id,isMonetized:(0,rI.m3)(r),resourceType:rI.bD.PLUGIN,editorType:"whiteboard"},children:[(0,o.jsx)(ev.P,{height:(0,rk.mS)(t.pinned,500,rB.s3,rk.zD),children:(0,o.jsxs)("div",{className:oQ.tJ,children:[a&&(0,o.jsx)(r8.cu,{}),(0,o.jsx)("img",{className:e_()(oQ.VM,oQ.Mp),src:r.redirect_thumbnail_url||"",alt:`${h.name}`,width:rj.gR,height:rj.gR/2}),(0,o.jsx)("div",{className:oQ.oQ,children:(0,o.jsx)(oJ.f,{resource:r})}),(0,o.jsx)("div",{className:oQ.h_,children:(0,o.jsx)(oG.R,{fallback:null,errorFallback:null,value:h.description})})]})}),!z&&(0,o.jsxs)(oV._,{newTab:!0,className:oQ.P0,href:`/community/plugin/${e.pluginId}`,trusted:!0,children:[(0,o.jsx)(tb.B,{svg:o0.A,className:oQ.JX}),(0,A.tx)("whiteboard.inserts.see_more_details_in_community")]}),U&&O&&(0,o.jsx)(oX.j,{lean:"left",minWidth:130,rootAndSubmenuMaxWidth:190,leanPadding:0,showPoint:!1,items:(()=>{if(!V)return[];if(!H&&s)return[{displayText:"In-development version",callback:()=>K()},{displayText:"Published version",callback:()=>W()}];let e=e=>()=>(0,oz.Im)(M,b,e),t=[];B.forEach(i=>{t.push((0,oK.q)(i,e))});let n=(0,oq.jv)(t,{appModel:S,selectedView:w});if(!c)return n;let r=e=>()=>(0,oz.Im)(D,b,e),a=[];F.forEach(e=>{a.push((0,oK.q)(e,r))});let o=(0,oq.jv)(a,{appModel:S,selectedView:w}),l=[];return s.error?l.push({displayText:"\u26A0 In-development version",callback:()=>{i((0,nZ.to)({type:oY.r,data:{dispatch:i,error:s.error,resourceType:rI.bD.PLUGIN},showModalsBeneath:!0}))}}):o.length>0?l.push({displayText:"In-development version",children:o}):l.push({displayText:"In-development version",callback:()=>{K()}}),n.length>0?l.push({displayText:"Published version",children:n}):l.push({displayText:"Published version",callback:()=>{W()}}),l})(),onSelectItem:e=>{e.callback&&e.callback("",null,i)},parentRect:O,dispatch:i})]})}let o2="DROPDOWN_TYPE_PLUGIN_DETAIL_SUBMENU";function o3(e){let t=e.selectedCategoryId,{shelves:i,isLoading:n}=(0,s3.d)(e.shelfType),r=i?i.find(e=>e.id===t):void 0;if(!i||0===i.length)return null;if(n)return(0,o.jsx)(s6.L,{});let a=t=>(0,o.jsx)("div",{className:s4,role:"button",tabIndex:0,children:e.renderResource(t)},t.id);return r?(0,o.jsx)(n_.fu,{name:"explore",properties:{selectedCategory:t},children:(0,o.jsx)("div",{className:"browse_explore_category_view--resourcesGrid--Gvw3Y",children:r.shelf_content.map(e=>a(e))})}):null}var o5=i(885929),o6=i(551536),o4=i(471982),o9=i(354658),o8=i(707808),o7=i(684783);function le(e){let t=(0,d.wA)(),i=(0,d.d4)(e=>e.universalInsertModal),n=(0,d.d4)(e=>e.hubFiles)[e.id],r=(0,rv.a6)(n),a=(0,j.Kx)(),s=a?.shouldOptimizeForIpadApp||(0,u.k)().cmty_m10n_test_apple_os;return(0,o.jsxs)(n_.fu,{name:"detail",properties:{resourceId:n.id,resourceType:rI.bD.HUB_FILE},children:[(0,o.jsxs)(ev.P,{height:(0,rk.mS)(i.pinned,504,rB.s3,rk.zD),children:[(0,o.jsx)("div",{className:"browse_templates_preview--embedContainer--8lgx5 hub_file_detail_view--embedContainer--QMuUr detail_view--embedContainer---TcbF",children:(0,o.jsx)(o7.Z,{containerClassName:"browse_templates_preview--embedContainerInner--0EnCv hub_file_detail_view--iframeContainer---uQYN",disableClickToExpand:!0,disableComments:!0,disableFullscreen:!0,dispatch:t,fixedSize:!0,fullscreenState:o8.G4.DEFAULT,hubFile:n,profileIdToAdminResourceAs:null},n.id)}),(0,o.jsx)("div",{className:"browse_templates_preview--description--RScN2 text--fontPos13--xW8hS text--_fontBase--QdLsd",children:(0,o.jsx)("div",{className:"browse_templates_preview--textDescription--4t3-n",children:(0,rZ.$J)(r.description).trim().length>0&&(0,o.jsx)(oG.R,{fallback:null,errorFallback:null,value:r.description})})})]}),!s&&(0,o.jsxs)(o6.N,{className:"browse_templates_preview--communityLinkBase--1NI6W",href:(0,o4.UI)({path:o9.Uo.FILE,id:n.id}),target:"_blank",trusted:!0,children:[(0,o.jsx)(tb.B,{svg:o0.A,className:"browse_templates_preview--communityLinkIcon--DC-Q4 text--fontPos11--2LvXf text--_fontBase--QdLsd"}),(0,A.tx)("whiteboard.inserts.see_more_details_in_community")]})]})}var lt=i(690075),li=i(71774),ln=i(603239),lr=i(564422);function la(e){let{resourceId:t,goBack:i,buttonCta:n}=e,r=(0,d.d4)(e=>e.hubFiles)[t],a=(0,rv.a6)(r),{insertTemplate:s,isInsertingTemplate:u}=(0,rx.Fz)(),p=(0,as.b)(),{tabManager:m,searchQuery:f}=(0,rB.cX)(),x=(0,rw.Vq)(m.activeTab),_=(0,rj.LR)(),g=l.useCallback(()=>_(),[_]),b="whiteboard"===(0,an.lg)(),j=(0,ao.F5)(),y=(0,ln.F)(),v=r.community_publishers?.accepted||[];return(0,o.jsxs)("div",{className:"browse_templates_preview_top_bar--topBar--6SkwK",children:[(0,o.jsxs)("div",{className:"browse_templates_preview_top_bar--left--vErPQ",children:[(0,o.jsx)(e4.E,{className:e_()("browse_templates_preview_top_bar--backButton--d3Iws","browse_templates_preview_top_bar--hasFocusOutline--le5ti"),onClick:h.Ay.isIpad?void 0:i,htmlAttributes:{onPointerDown:h.Ay.isIpad?i:void 0,autoFocus:!0},"aria-label":(0,A.t)("general.back"),children:(0,o.jsx)(tb.B,{svg:lr.A,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0})}),(0,o.jsxs)("div",{className:"browse_templates_preview_top_bar--pluginMetadataContainer--WC29F",children:[(0,o.jsx)("div",{className:"browse_templates_preview_top_bar--pluginTileName--iiS-m text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",children:a.name}),(r.community_publishers?.accepted.length||0)>0&&(0,o.jsx)("div",{className:"browse_templates_preview_top_bar--pluginTilePublishers--UFpkz text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",children:(0,A.tx)("whiteboard.inserts.by_publisher",{numPublishers:v.length,firstPublisherName:v[0]?.name,multiplePublisherSuffix:(0,o.jsx)("span",{"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":(0,lt.eg)(v.slice(1),v.length,e=>e.name),children:(0,A.tx)("whiteboard.inserts.and_others")})})})]})]}),(0,o.jsxs)("div",{className:"browse_templates_preview_top_bar--right--jxcsE",children:[(0,o.jsx)(si.i,{insertTemplate:()=>{s({template:{template:r,type:rS.n.HubFile},templateInsertionDirection:c.hKj.RIGHT,triggeredFrom:x,onSuccess:()=>{b&&(0,ao.oM)({id:r.id,type:rO.p.TEMPLATES,source:x,options:{...j,query:f}}),p()}})},isInsertingTemplate:u(t),children:n}),y?(0,o.jsx)(li.O,{setPinned:e.setPinned}):(0,o.jsx)(eu.K,{onClick:g,"aria-label":(0,A.t)("general.close"),children:(0,o.jsx)(em.A,{})})]})]})}var ls=i(472727);function lo(e){let t=(0,d.d4)(e=>e.hubFiles),i=e.templates[aI.e].map(e=>t[e]),n=(0,rf.tS)(),[r,a]=l.useState(!n);l.useEffect(()=>{n&&a(!1)},[e.debouncedSearchQuery,n]);let s=[...e.teamTemplatesFromSearch.map(e=>({type:rS.n.TeamTemplate,template:e})),...r?i.map(e=>({type:rS.n.HubFile,template:e})):[]];return 0!==i.length||0!==e.totalNumTeamTemplatesFromSearch||e.teamTemplatesFromSearchIsLoading?(0,o.jsx)(n_.fu,{name:"templates",properties:{query:e.debouncedSearchQuery},children:(0,o.jsxs)("div",{className:ls.iU,children:[(0,o.jsx)(aw.g,{templates:s,templateInsertionLocation:rv.RD.CURRENT_FILE}),!e.teamTemplatesFromSearchIsLoading&&(0,o.jsx)("div",{className:eT.s.relative.$,children:(0,o.jsx)(ra.a,{className:eT.s.absolute.h300.$,style:{top:"-150px"},"data-testid":"load-more-search",onIntersectionChange:({isIntersecting:t})=>{t&&!e.requestLoadMoreTeamTemplatesFromSearch()&&a(!0)}})})]})}):(0,o.jsx)(n_.fu,{name:"templates",properties:{query:e.debouncedSearchQuery},children:(0,o.jsx)(rF.e,{illustration:aY.A,defaultDisplayStringResourceType:"templates",query:e.query,cta:(0,o.jsx)(rF._,{url:"/community/figjam",resourceType:rI.bD.HUB_FILE})})})}var ll=i(846441);let ld="browse_widgets_search_view--sectionHeader--IDC0e text--fontPos13--xW8hS text--_fontBase--QdLsd",lc="browse_widgets_search_view--widgetTilesGridContainer--b0tIx browse_widgets_view--widgetTilesGridContainer--t5-lL";var lu=i(727585);function lp(e){let{query:t,debouncedSearchQuery:i,hasResolved:n,savedSearchResultIds:r,communitySearchResultIds:a,orgSearchResultIds:s,developmentSearchResultIds:l,lastWidgetSearchQuery:c}=e,u=(0,d.d4)(e=>e.currentUserOrgId&&e.orgById[e.currentUserOrgId]),p=(0,rm.NU)(),h=r&&r.length>0,m=a&&a.length>0,f=u&&s&&s.length>0,x=l&&l.length>0;return c!==i?(0,o.jsx)(rH.i8,{}):!n||h||m||f||x?(0,o.jsxs)(n_.fu,{name:"widgets",properties:{resourceType:"widget",query:i},children:[h&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:ld,children:(0,A.tx)("whiteboard.inserts.saved")}),(0,o.jsx)("div",{className:lc,children:r.map(e=>(0,o.jsx)(aW,{widgetId:e,widgetVersion:p[e]},`saved_plugin_${e}`))})]}),x&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:ld,children:(0,A.tx)("whiteboard.inserts.development")}),(0,o.jsx)("div",{className:lc,children:l.map(e=>(0,o.jsx)(aG,{tab:rO.p.DEVELOPMENT,localFileId:e},e))})]}),f&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:ld,children:(0,A.tx)("whiteboard.inserts.widgets_from_org",{orgName:u.name})}),(0,o.jsx)("div",{className:lc,children:s.map(e=>(0,o.jsx)(aW,{widgetId:e},e))})]}),m&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:ld,children:(0,A.tx)("whiteboard.inserts.from_community")}),(0,o.jsx)("div",{className:lc,children:a.map(e=>(0,o.jsx)(aW,{widgetId:e},e))})]})]}):(0,o.jsx)(n_.fu,{name:"widgets",properties:{resourceType:"widget",query:i},children:(0,o.jsx)(rF.e,{illustration:lu.A,defaultDisplayStringResourceType:"widgets",query:t,cta:(0,o.jsx)(rF._,{url:"/community/widgets"}),orgNameIfAllowlistEnforced:u&&u.widgets_whitelist_enforced?u.name:void 0})})}function lh(){let{filterByAllowlist:e}=(0,rm.jA)(!0),t=(0,rB.Sp)(),i=(0,rm.qr)().filter(t);i=e(i);let n=(0,rm.Be)().widgets,r=l.useMemo(()=>Object.values(n).sort(rm.YW).filter(e=>"user"===e.installed_by),[n]),a=(0,oA.xx)(()=>r),s=(0,oT.Ol)(a()),[d,c]=l.useState(!1),p=l.useMemo(()=>d?s:s.slice(0,40),[s,d]),h=l.useMemo(()=>i.slice(0,6),[i]);if(0===h.length&&0===s.length)return(0,o.jsx)(ok.H,{isWidget:!0});let m=h.length>0,f=s.length>0;return(0,o.jsxs)(o.Fragment,{children:[m&&(0,o.jsxs)(o.Fragment,{children:[(0,u.k)().figjam_a11y_inserts_modal?(0,o.jsx)("h2",{className:e_()(oM,eT.s.mb8.$),children:(0,A.tx)("universal_insert.recents")}):(0,o.jsx)("div",{className:e_()(oM,eT.s.mb8.$),children:(0,A.tx)("universal_insert.recents")}),(0,o.jsx)(sH,{items:h})]}),m&&f&&(0,o.jsx)(oR.F,{}),f&&(0,o.jsxs)(o.Fragment,{children:[(0,u.k)().figjam_a11y_inserts_modal?(0,o.jsx)("h2",{className:e_()(oM,eT.s.mb8.$),children:(0,A.tx)("universal_insert.saved")}):(0,o.jsx)("div",{className:e_()(oM,eT.s.mb8.$),children:(0,A.tx)("universal_insert.saved")}),(0,o.jsx)(sH,{items:p}),s.length>40&&!d&&(0,o.jsx)("button",{className:oD,onClick:()=>c(!0),children:(0,A.tx)("universal_insert.show_all_saved_widgets")})]})]})}function lm(){let e=(0,rm.yQ)(),t=(0,rm.bh)().filter(t=>!Object.keys(e).find(i=>e[i].plugin_id===t.id));if(0===Object.keys(e).length&&0===t.length)return(0,o.jsx)(oj.W,{isWidget:!0});let i=Object.keys(e).reverse();return(0,o.jsxs)("div",{className:sB,children:[i.map(e=>(0,o.jsx)(aG,{localFileId:Number(e),tab:rO.p.DEVELOPMENT},e)),t.map(e=>(0,o.jsx)(aH,{tab:rO.p.DEVELOPMENT,publishedWidget:e},e.id))]})}function lf(){let e=(0,rm.wW)();return 0===e.length?null:(0,o.jsx)(n_.fu,{name:"invited",children:(0,o.jsx)("div",{className:eT.s.mt16.$,children:(0,o.jsxs)(a6.Y,{width:"fill-parent",verticalAlignItems:"center",padding:{horizontal:24,vertical:16},horizontalAlignItems:"center",spacing:24,direction:"vertical",children:[e.map(e=>(0,o.jsx)(lx,{widget:e},e.id)),(0,o.jsx)("div",{className:eT.s.wFull.h1.$,style:rY.sx.add({backgroundColor:"var(--color-border)"}).$})]})})})}function lx({widget:e}){let t=(0,r5.uF)(e),{tabManager:i}=(0,rB.cX)();return(0,o.jsxs)(a6.Y,{children:[(0,o.jsxs)("div",{className:eT.s.relative.$,children:[(0,o.jsx)("div",{className:eT.s.absolute.w8.h8.bRadiusHalf.colorBgDanger.$,style:rY.sx.add({left:"-8px",top:"-8px"}).$}),(0,o.jsx)(aL.sU,{image:(0,o.jsx)(aL.WM,{removeBorder:!0,children:(0,o.jsx)(aO._,{src:t.redirect_snapshot_url,widget:t,analytics:{triggeredFrom:(0,rw.Vq)(i.activeTab)},context:rC._Y.WHITEBOARD})}),className:eT.s.w200.$})]}),(0,o.jsx)(r7.PE,{resource:e})]})}var l_=i(146161),lg=i(551193),lb=i(164913);function lj(){return(0,o.jsxs)("div",{className:eT.s.flex.flexColumn.itemsCenter.$,children:[(0,o.jsx)("div",{children:(0,o.jsx)(tb.B,{svg:lb.A,useOriginalSrcFills_DEPRECATED:!0,svgWidth:"60px",autosize:!0})}),(0,o.jsx)("div",{className:eT.s.mt16.mb24.$,children:(0,A.tx)("whiteboard.inserts.disabled_org_widgets_empty_state_description")})]})}function ly(){let e=(0,d.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:void 0);return e?(0,o.jsx)(lv,{org:e}):(0,o.jsx)(s6.L,{})}function lv({org:e}){let t=(0,or.D6)("_BrowseWidgetsOrgView"),i=(0,or.sI)(t).unwrapOr(!1),n=e&&e.widgets_whitelist_enforced,r=(0,rm.U6)(),a=(0,l_.h)("widget"),s=(0,G.tS)(),d=(0,sM.n_)(e?.id??"",s),c=(0,rT.mC)(d),u=rd.a8.loadingKeyForPayload(e.id??""),p=(0,rT.mC)(u),h=!e.public_plugins_allowed||e.widgets_whitelist_enforced&&c&&0===Object.keys(r).length,m=i||p&&0===a.length,f=(0,rm.Be)().orgWidgets,x=l.useMemo(()=>{let t=Object.values(f).filter(t=>!(0,lg.s7)(t,e.id));return n&&(t=t.filter(e=>r[e.plugin_id])),t.sort(rm.YW)},[r,n,e.id,f]),_=(0,oT.Ol)(x);return c&&p?h&&m?(0,o.jsx)(lj,{}):(0,o.jsxs)(n_.fu,{name:"explore",children:[a.length>0&&(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:sB,children:a.map(e=>{let t=e.plugin_id;return(0,o.jsx)(aW,{widgetId:t,showLockIcon:!0},t)})})}),_.length>0&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:sF,children:(0,A.tx)("universal_insert.saved_from_community")}),(0,o.jsx)("div",{className:sB,children:_.map(e=>{let t=e.plugin_id;return(0,o.jsx)(aW,{widgetId:t},t)})})]}),(0,o.jsx)(ol,{extensionType:sM.Ag.Widget,dedupeOrgSaves:!0})]}):(0,o.jsx)(s6.L,{})}function lC(){return(0,o.jsx)(os.K,{resourceType:rI.bD.WIDGET,shelfType:rI.cS.BROWSE_WIDGETS_MODAL,renderResource:e=>(0,o.jsx)(aW,{widgetId:e.id},e.id)})}function lT(){let[e,t]=(0,p.fp)(og);return(0,o.jsx)(o_,{setCurrentView:t,currentView:e})}function lE(){let e=(0,p.md)(og),t=(0,ry.sZ)(),i=!!(t&&t.widgets_whitelist_enforced);return(0,o.jsxs)("div",{children:[(0,o.jsx)(lf,{}),(0,o.jsxs)("div",{className:eT.s.flex.justifyBetween.wFull.minW0.$,children:[(0,o.jsx)(lT,{}),e===of.DEVELOPMENT&&(0,o.jsx)("div",{className:eT.s.flex.itemsCenter.pr16.$,children:(0,o.jsx)(oa.n,{resourceType:rI.bD.WIDGET})})]}),e===of.RECENT_AND_SAVED&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(lh,{}),i?(0,o.jsx)(ol,{extensionType:sM.Ag.Widget}):(0,o.jsx)(lC,{})]}),e===of.DEVELOPMENT&&(0,o.jsx)(lm,{}),e===of.ORG&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ly,{}),!i&&(0,o.jsx)(lC,{})]})]})}function lS(){l.useEffect(()=>{function e(e){e.key===on.xk&&ot.D.dispatch(oi.aF({storeInRecentsKey:rL.$A.FigJam}))}return ot.D.dispatch(oi.aF({storeInRecentsKey:rL.$A.FigJam})),window.addEventListener("storage",e,!1),()=>{window.removeEventListener("storage",e,!1)}},[]);let e=(0,d.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:void 0),t=e?e.id:"",i=(0,rT.oh)(ro.sz.loadingKeyForPayload({shelfType:rI.cS.BROWSE_WIDGETS_MODAL})),n=(0,G.tS)(),r=(0,rT.oh)((0,sM.n_)(t,n)),a=(0,rT.oh)(rd.a8.loadingKeyForPayload(t)),s=(0,rT.mC)(rN.cd.fetchWidgetsMetadata.loadingKeyForPayload({key:rL.$A.FigJam}));return i||r||a||!s?(0,o.jsx)(rH.i8,{}):(0,o.jsx)(n_.fu,{name:"widgets",children:(0,o.jsx)(lE,{})})}var lw=i(212260),lI=i(359152),lL=i(287316),lN=i(265420),lA=i(300024);function lO({teamId:e}){let{requestLoadMoreForTeam:t,templatesByTeam:i}=(0,rf.li)({teamId:e,editorType:rC._Y.WHITEBOARD});return i?(0,o.jsx)(n_.fu,{name:"custom_templates_by_team",children:(0,o.jsxs)("div",{className:eT.s.pt20.$,children:[(0,o.jsx)(aw.g,{templates:i.templates.map(e=>({type:rS.n.TeamTemplateLg,template:e}))}),(0,o.jsx)(ra.a,{className:eT.s.relative.$,style:{bottom:"250px"},onIntersectionChange:({isIntersecting:e})=>{e&&t()}})]})}):(0,o.jsx)(sG.Ht,{})}var lk=i(750114),lR=i(292815);function lM(e){let{resourceId:t,goBack:i}=e,n=(0,d.d4)(e=>e.authedActiveCommunityProfile),r=(0,r0.xp)(t),a=!!r.id,s=(0,rm.Be)().plugins[t]||(0,r5.uF)(r),c=(0,d.d4)(e=>(0,aa.zg)(e.selectedView)&&!e.user),p=r.community_publishers?.accepted||[],m=(0,d.wA)(),f=(0,rj.LR)();l.useEffect(()=>{a||m(rd.af({id:t,resourceType:rI.bD.PLUGIN}))},[m,t,a]);let x=(0,r0.EO)(r),_=Object.values((0,rm.$1)()).find(t=>String(t.plugin_id)===e.resourceId),g=(0,ry.sZ)(),b=(0,rm.ll)(),j=!_&&(0,rb.XV)({org:g,extension:r,allowlistedExtensions:b}),y=(0,ln.F)(),v=l.useCallback(()=>f(),[f]);return(0,o.jsxs)("div",{className:al.XV,children:[(0,o.jsxs)("div",{className:al.kb,children:[(0,o.jsx)(tb.B,{svg:lr.A,className:al.Gv,onClick:h.Ay.isIpad?void 0:i,onPointerDown:h.Ay.isIpad?i:void 0,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0}),(0,o.jsxs)("div",{className:al.uV,children:[(0,o.jsxs)("div",{className:al.uA,children:[(0,o.jsx)("div",{className:al.B6,children:s.name}),(0,o.jsx)("div",{className:al.fc,children:(0,rq.$3)({resource:r,validBadges:[rq.op.PURCHASED],authedActiveCommunityProfile:n})||(0,o.jsx)(lk.I,{badges:r.badges,height:"16",hideTooltip:!0})})]}),(r.community_publishers?.accepted.length||0)>0&&(0,o.jsx)("div",{className:al.N9,children:(0,A.tx)("whiteboard.inserts.by_publisher",{numPublishers:p.length,firstPublisherName:p[0]?.name,multiplePublisherSuffix:(0,o.jsx)("span",{"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":(0,lt.eg)(p.slice(1),p.length,e=>e.name),children:(0,A.tx)("whiteboard.inserts.and_others")})})})]})]}),(0,o.jsxs)("div",{className:al.pG,children:[(0,o.jsx)("div",{className:eT.s.mr8.$,children:x&&!(0,u.k)().community_hub_admin_reviewer?(0,o.jsx)(lR.I,{resource:r,context:rI.aL.INSERTS,payment:r.community_resource_payment}):(0,o.jsx)("div",{"data-tooltip-type":c?ii.Ib.TEXT:void 0,"data-tooltip":c?(0,A.t)("whiteboard.inserts.log_in_or_sign_up_to_use",{resourceType:rI.vt.PLUGIN}):void 0,children:j?(0,o.jsx)(ah.s,{version:s,isPlugin:!0}):(0,o.jsx)(ac,{pluginId:r.id,buttonCta:(0,A.t)("whiteboard.inserts.plugin_run_cta"),isNotInHeader:!0,view:rO.p.PLUGINS})})}),(0,o.jsx)(ae._,{resourceId:r.id,resourceType:rI.vt.PLUGIN,parentView:ae.n.DETAIL}),y?(0,o.jsx)(li.O,{setPinned:e.setPinned}):(0,o.jsx)(eu.K,{onClick:v,"aria-label":(0,A.t)("general.close"),children:(0,o.jsx)(em.A,{})})]})]})}var lD=i(839924),lP=i(117577),lU=i(813868);function lF(e){let{resourceId:t,goBack:i}=e,n=(0,r0.aQ)(e.resourceId),r=n?.community_publishers.accepted||[],a=(0,d.wA)(),s=(0,rj.LR)(),c=Object.values((0,rm.yQ)()).find(e=>e.plugin_id===t),p=(0,d.d4)(e=>e.authedActiveCommunityProfile),m=(0,rm.bh)().find(e=>e.id===t),f=oh.eD&&!!m&&!c,x=!!c||f,_=(0,iE.Um)(),g=_?.type===lB&&_.data.widgetId===t,b=(0,r5.uF)(n),{tabManager:j,searchQuery:y}=(0,rB.cX)(),v=(0,rw.Vq)(j.activeTab),C="whiteboard"===(0,an.lg)(),T=(0,ao.F5)(),E=Object.values((0,rm.$1)()).find(t=>String(t.plugin_id)===e.resourceId),S=(0,ry.sZ)(),w=(0,rm.U6)(),I=!E&&(0,rb.XV)({extension:n,org:S,allowlistedExtensions:w});l.useEffect(()=>{n||a(rd.af({id:t,resourceType:rI.bD.WIDGET}))},[t,a,n]);let L=(0,as.b)(),N=U.nc.user("insert-published-widget",()=>{(0,lU.j)({pluginID:b.plugin_id,widgetName:b.name,pluginVersionID:b.id,triggeredFrom:v}),C&&(0,ao.oM)({id:b.plugin_id,type:rO.p.WIDGETS,source:v,options:{...T,query:y}}),L()}),O=(0,r0.EO)(n),k=(0,ln.F)(),R=l.useCallback(()=>s(),[s]);if(!n)return null;let M=x?e=>{if(x){if(e.preventDefault(),e.stopPropagation(),g)a(iC.oB());else{let i=e.target.getBoundingClientRect();a(iC.j7({type:lB,data:{targetRect:i,widgetId:t}}))}}}:N;return(0,o.jsxs)("div",{className:al.XV,children:[(0,o.jsxs)("div",{className:al.kb,children:[(0,u.k)().figjam_a11y_inserts_modal?(0,o.jsx)(e4.E,{className:e_()(al.Gv,al.LR),onClick:h.Ay.isIpad?void 0:i,htmlAttributes:{onPointerDown:h.Ay.isIpad?i:void 0,autoFocus:!0,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0},"aria-label":(0,A.t)("general.back"),children:(0,o.jsx)(lP.t,{})}):(0,o.jsx)(tb.B,{svg:lr.A,className:al.Gv,onClick:h.Ay.isIpad?void 0:i,onPointerDown:h.Ay.isIpad?i:void 0,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0}),(0,o.jsxs)("div",{className:al.uV,children:[(0,o.jsxs)("div",{className:al.uA,children:[(0,o.jsx)("div",{className:al.B6,children:b.name}),(0,o.jsx)("div",{className:al.fc,children:(0,rq.$3)({resource:n,validBadges:[rq.op.PURCHASED],authedActiveCommunityProfile:p})||(0,o.jsx)(lk.I,{badges:n.badges,height:"16",hideTooltip:!0})})]}),(n.community_publishers?.accepted.length||0)>0&&(0,o.jsx)("div",{className:al.N9,children:(0,A.tx)("whiteboard.inserts.by_publisher",{numPublishers:r.length,firstPublisherName:r[0]?.name,multiplePublisherSuffix:(0,o.jsx)("span",{"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":(0,lt.eg)(r.slice(1),r.length,e=>e.name),children:(0,A.tx)("whiteboard.inserts.and_others")})})})]})]}),(0,o.jsxs)("div",{className:al.pG,children:[(0,o.jsx)("div",{className:eT.s.mr8.$,children:O&&!(0,u.k)().community_hub_admin_reviewer?(0,o.jsx)(lR.I,{resource:n,context:rI.aL.INSERTS}):I?(0,o.jsx)(ah.s,{version:b,isPlugin:!1}):(0,o.jsx)(e9.$n,{onClick:h.Ay.isIpad?void 0:M,actionOnPointerDown:h.Ay.isIpad??void 0,variant:"primary",htmlAttributes:{"data-testid":"add-widget-button","data-not-draggable":!0},children:(0,o.jsxs)("span",{className:eT.s.flex.flexRow.justifyCenter.itemsCenter.$,children:[(0,A.t)("whiteboard.inserts.add_widget"),x&&(0,o.jsx)(tb.B,{svg:ad.A,className:al.sD})]})})}),(0,o.jsx)("div",{children:(0,o.jsx)(ae._,{resourceId:n.id,resourceType:rI.vt.WIDGET,parentView:ae.n.DETAIL})}),k?(0,o.jsx)(li.O,{setPinned:e.setPinned}):(0,o.jsx)(eu.K,{onClick:R,"aria-label":(0,A.t)("general.close"),children:(0,o.jsx)(em.A,{})})]})]})}let lB="DROPDOWN_TYPE_WIDGET_DETAIL_SUBMENU";function lH(){let{universalInsertModal:e}=(0,rn.R)(e=>({universalInsertModal:e.universalInsertModal})),[t,i]=l.useState(e.initialSelectedCategory??a),n=(0,G.tS)(),r=e.initialTab||s||(n?rO.p.ALL:rO.p.WIDGETS),{searchQuery:d,setSearchQuery:c,previewResource:u,setPreviewResource:p}=(0,ll.Rz)();return(0,o.jsx)(rB.kx,{initialTab:r,setPreviewResource:p,setSelectedCategory:i,searchQuery:d,children:(0,o.jsx)(lV,{selectedCategory:t,setSearchQuery:c,previewResource:u})})}function lV({selectedCategory:e,setSearchQuery:t,previewResource:i}){let{tabManager:n,setSelectedCategory:r,searchQuery:c,setPreviewResource:h}=(0,rB.cX)(),m=(0,G.q5)(),{fileVersion:f,loadingState:x,universalInsertModal:_}=(0,rn.R)(e=>({fileVersion:e.fileVersion,loadingState:e.loadingState,universalInsertModal:e.universalInsertModal})),{searchTemplatesResult:g,moreResult:b,pluginSavedSearchResultIds:j,pluginCommunitySearchResultIds:y,pluginOrgSearchResultIds:v,pluginDevelopmentSearchResultIds:C,pluginSearchIsLoading:T,pluginSearchHasResolved:E,widgetSavedSearchResultIds:S,widgetCommunitySearchResultIds:w,widgetOrgSearchResultIds:I,widgetSearchIsLoading:N,widgetSearchHasResolved:O,widgetDevelopmentSearchResultIds:k,faceStampSearchIsLoading:R,faceStampSearchHasResolved:M,debouncedSearchQuery:D,lastPluginSearchQuery:P,lastWidgetSearchQuery:U,lastFaceStampSearchQuery:F,teamTemplatesFromSearch:B,totalNumTeamTemplatesFromSearch:H,teamTemplatesFromSearchIsLoading:V,requestLoadMoreTeamTemplatesFromSearch:W}=(0,ll.Ib)(),K=(0,ry.sZ)(),z=(0,p.md)(r_.D);l.useEffect(()=>{z&&!lN.l.has(z)&&(0,rs.YQ)({id:rg.X,properties:{requester:rg.Y.FigjamUniversalInsertsMenuOpen}})},[z]),l.useEffect(()=>{_.previewResource&&h(_.previewResource)},[h,_.previewResource]),l.useEffect(()=>{a=e},[e]),l.useEffect(()=>{s=n.activeTab},[n.activeTab]),l.useEffect(()=>{_.initialSearch&&t(_.initialSearch)},[_.initialSearch,t]);let{isInsertingTemplate:Z}=(0,rx.Fz)(),$=(0,d.wA)(),Y=(0,lL.W6)(),q=_.sourceRect,[X,J]=l.useMemo(()=>{if(Y&&q)return[void 0,{kind:"sourceRect",sourceRect:q}];{let e=lA.b;return[e,{kind:"buttonTarget",buttonTarget:e}]}},[Y,q]),{initialModalPosition:Q,modalPosition:ee,setModalPosition:et}=(0,rj.ts)(J,rj.zo,rj.gR),{bounds:ei,showLeftPinBound:en,setShowLeftPinBound:er,shouldSnapToPosition:ea,setPinned:es}=(0,lD.C)(lW,et,_.pinned,rB.t$,Q,_.showing);l.useEffect(()=>{$(rN.cd.fetchTemplatesMetadata({key:rL.$A.FigJam,orgId:m?.parentOrgId})),$(rN.cd.fetchWidgetsMetadata({key:rL.$A.FigJam})),$(ru.qR({}))},[$,m?.parentOrgId]),l.useEffect(()=>{$(ro.sz({shelfType:rI.cS.FIGJAM_TEMPLATES_PICKER}))},[$]);let eo=Object.keys((0,rm.yQ)()).join(","),el=(0,L.iZ)(),ed=(0,ry.sZ)(),ec=(0,rE.G7)(ed),eu=(0,rf.Gi)(),ep=l.useRef(null),eh=l.useRef(null);l.useEffect(()=>{el&&($(rl._J()),$(rc.aq()))},[$,el,eo]),(0,rr.IT)((0,rd.se)()),(0,rr.IT)((0,rd.fd)()),l.useEffect(()=>{$(rh.cr({shouldSearchDefaultLibraries:!0}))},[$]);let em=m&&f&&(0,rT.Sc)(x,(0,rA.yD)(m.key));l.useEffect(()=>{em&&$((0,rp.zK)())},[$,em]),l.useEffect(()=>{"function"==typeof eh.current?.scroll&&eh.current.scroll({top:0,behavior:"smooth"})},[D]);let ef=(0,u.k)().pro_templates_lg,{filterOptions:ex,selectedTeamOrWorkspaceOrLicenseGroupIds:e_,isMyTeamsOnly:eg,onFilterChange:eb,requestLoadMore:ej,requestLoadMoreForTeam:ey,templatesByTeam:ev,userTeamOrWorkspaceIds:eC,isLoadingTeamTemplates:eE}=(0,rf.GR)(eu?.type==="org"?eu.entity:null,rC._Y.WHITEBOARD),{filterOptions:eS,selectedIds:ew,isMyTeamsOnly:eI,onFilterChange:eL,requestLoadMoreForOrg:eN,teamTemplates:eA,userTeamOrWorkspaceIds:eO,isLoading:ek}=(0,rf.L_)({orgId:eu?.type==="org"?eu.entity.id:null,areWorkspacesEnabled:ec,editorType:rC._Y.WHITEBOARD,numTemplatesPerTeam:4}),eR=ef?eS:ex,eM=ef?ew:e_,eD=ef?eI:eg,eP=ef?eL:eb,eU=ef?eN:ej,eF=ef?eO:eC,eB=ef?ek:eE,eH=ef?eA:ev;return(0,o.jsx)(s1,{bounds:ei,categoryScrollContainerRef:ep,categoryViewContent:e?e.resourceType===rw.Rt.TEMPLATES?(0,o.jsx)(o3,{selectedCategoryId:e.id,shelfType:rI.cS.FIGJAM_TEMPLATES_PICKER,setPreviewHubFile:h,renderResource:e=>(0,o.jsx)(o5.S,{template:{type:rS.n.HubFile,template:e},templateInsertionLocation:rv.RD.CURRENT_FILE,triggeredFrom:(0,rw.Vq)(n.activeTab),isInsertingTemplate:Z(e.id),onClickTitle:()=>h({id:e.id,type:rw.Rt.TEMPLATES})},e.id)}):e.resourceType===rw.Rt.STICKERS_AND_COMPONENTS?(0,o.jsx)(rG.uU,{selectedLibrary:e,setSelectedLibrary:r}):e.resourceType===rw.Rt.WIDGETS?(0,o.jsx)(s9,{selectedCategoryId:e.id,goBack:()=>r(void 0),resourceType:rI.bD.WIDGET,shelfType:rI.cS.BROWSE_WIDGETS_MODAL,renderResource:e=>(0,o.jsx)(aW,{widgetId:e.id},e.id)}):e.resourceType===rw.Rt.PLUGINS?(0,o.jsx)(s9,{selectedCategoryId:e.id,goBack:()=>r(void 0),resourceType:rI.bD.PLUGIN,shelfType:rI.cS.BROWSE_PLUGINS_MODAL,renderResource:e=>(0,o.jsx)(aT,{pluginId:e.id,view:rO.p.EXPLORE},e.id)}):e.resourceType===rw.Rt.ALL?(0,o.jsx)(sx,{useCaseName:e.id}):e.resourceType===rw.Rt.TEAM_TEMPLATES?ef&&e.id||eu?.type==="team"?(0,o.jsx)(lO,{teamId:e.id}):eH.length||eB?(0,o.jsxs)(n_.fu,{name:"custom_org_templates",children:[eH.map(({teamId:e,teamName:t,workspaceName:i,templates:n,totalTemplatesByTeam:a})=>(0,o.jsx)(l.Fragment,{children:ef?(0,o.jsx)(lI.Z0,{teamName:t??"",workspaceName:ec?i??"":null,teamId:e,minimalSpacing:!0,onSeeAllClick:a>4?()=>{r({id:e,resourceType:rw.Rt.TEAM_TEMPLATES,title:(0,A.t)("whiteboard.inserts.team_name_templates",{teamName:t??""})})}:void 0,children:(0,o.jsx)(aw.g,{templates:n})}):(0,o.jsx)(lI.fc,{teamName:t??"",workspaceName:ec?i??"":null,teamId:e,onRequestLoadMoreForTeam:ey,minimalSpacing:!0,children:(0,o.jsx)(aw.g,{templates:n})})},e)),(0,o.jsx)(ra.a,{"data-testid":"load-more-teams",className:eT.s.relative.$,style:{bottom:"250px"},onIntersectionChange:({isIntersecting:e})=>{e&&eU()}})]}):(0,o.jsx)(sG.Ht,{}):void 0:null,categoryViewHeader:function(){if(!e)return;let t=e.resourceType===rw.Rt.TEAM_TEMPLATES&&""===e.id?(0,o.jsx)("div",{className:eT.s.mr8.$,children:(0,o.jsx)(lI.DL,{filterOptions:eR,selectedIds:eM,isMyTeamsOnly:eD,onFilterChange:e=>{"function"==typeof ep.current?.scroll&&ep.current?.scroll({top:0,behavior:"smooth"}),eP(e)},userTeamOrWorkspaceIds:new Set(eF),showWorkspaces:ec})}):void 0;return(0,o.jsx)(s2.b,{selectedCategory:e,goBack:()=>{ef&&e.resourceType===rw.Rt.TEAM_TEMPLATES&&e.id&&eu?.type==="org"?r({id:"",title:(0,A.t)("whiteboard.inserts.org_name_templates",{orgName:K?.name??""}),resourceType:rw.Rt.TEAM_TEMPLATES}):r(void 0)},setPinned:es,extraContent:t})}(),entryPointId:X,initialModalPosition:Q,mainScrollContainerRef:eh,modalPosition:ee,resourceDetailViewContent:i&&i.id&&i.type?i.type===rw.Rt.TEMPLATES?(0,o.jsx)(le,{id:i.id,selectedCategoryId:"",setPreviewHubFile:h}):i.type===rw.Rt.WIDGETS?(0,o.jsx)(lw.xl,{id:i.id}):i.type===rw.Rt.PLUGINS?(0,o.jsx)(o1,{pluginId:i.id}):i.type===rw.Rt.ORG_FACE_STAMPS?(0,o.jsx)(rW.$t,{onBack:()=>{n.setActiveTab(rO.p.MORE)},queryFromAllSearch:""!==D?D:null}):void 0:null,resourceDetailViewHeader:i&&i.id&&i.type?i.type===rw.Rt.TEMPLATES?(0,o.jsx)(la,{resourceId:i.id,goBack:()=>{h(void 0)},buttonCta:(0,A.t)("whiteboard.inserts.add_template"),setPinned:es}):i.type===rw.Rt.WIDGETS?(0,o.jsx)(lF,{resourceId:i.id,goBack:()=>h(void 0),setPinned:es}):i.type===rw.Rt.PLUGINS?(0,o.jsx)(lM,{resourceId:i.id,goBack:()=>h(void 0),setPinned:es}):i.type===rw.Rt.ORG_FACE_STAMPS?(0,o.jsx)(rW.EP,{onBack:()=>h(void 0),setPinned:es,queryFromAllSearch:D}):void 0:null,searchQuery:c,setPinned:es,setSearchQuery:t,setShowLeftPinBound:er,shouldSnapToPosition:ea,showLeftPinBound:en,children:(0,o.jsx)(lG,{debouncedSearchQuery:D,faceStampSearchHasResolved:M,faceStampSearchIsLoading:R,lastFaceStampSearchQuery:F,lastPluginSearchQuery:P,lastWidgetSearchQuery:U,moreResult:b,pluginCommunitySearchResultIds:y,pluginDevelopmentSearchResultIds:C,pluginOrgSearchResultIds:v,pluginSavedSearchResultIds:j,pluginSearchHasResolved:E,pluginSearchIsLoading:T,requestLoadMoreTeamTemplatesFromSearch:W,searchQuery:c,searchTemplatesResult:g,setPinned:es,setPreviewHubFile:h,setPreviewResource:h,teamTemplatesFromSearch:B,teamTemplatesFromSearchIsLoading:V,totalNumTeamTemplatesFromSearch:H,widgetCommunitySearchResultIds:w,widgetDevelopmentSearchResultIds:k,widgetOrgSearchResultIds:I,widgetSavedSearchResultIds:S,widgetSearchHasResolved:O,widgetSearchIsLoading:N})})}function lG({setPreviewResource:e,searchQuery:t,searchTemplatesResult:i,moreResult:n,pluginSavedSearchResultIds:r,pluginCommunitySearchResultIds:a,pluginOrgSearchResultIds:s,pluginDevelopmentSearchResultIds:d,pluginSearchIsLoading:c,pluginSearchHasResolved:u,widgetSavedSearchResultIds:p,widgetCommunitySearchResultIds:h,widgetOrgSearchResultIds:m,widgetSearchIsLoading:f,widgetSearchHasResolved:x,widgetDevelopmentSearchResultIds:_,faceStampSearchIsLoading:g,faceStampSearchHasResolved:b,debouncedSearchQuery:j,lastPluginSearchQuery:y,lastWidgetSearchQuery:v,lastFaceStampSearchQuery:C,teamTemplatesFromSearch:T,teamTemplatesFromSearchIsLoading:E,totalNumTeamTemplatesFromSearch:S,requestLoadMoreTeamTemplatesFromSearch:w}){let I=(0,nE.U5)(t),L=(0,ry.sZ)(),N=(0,rm.ll)(),A=(0,rm.U6)(),O=l.useMemo(()=>(0,rb.Cs)({org:L,isWidget:!1})?a:L&&L.plugins_whitelist_enforced?a.filter(e=>N[e]):a,[L,N,a]),k=l.useMemo(()=>(0,rb.Cs)({org:L,isWidget:!0})?h:L&&L.widgets_whitelist_enforced?h.filter(e=>A[e]):h,[L,A,h]),{tabPanelPropsMap:R}=(0,rB.cX)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ri.t.TabPanel,{...R.All,children:t?(0,o.jsx)(aq,{debouncedSearchQuery:j,faceStampSearchHasResolved:b,faceStampSearchIsLoading:g,faceStampSearchResults:I,lastFaceStampSearchQuery:C,lastPluginSearchQuery:y,lastWidgetSearchQuery:v,moreResult:n,pluginCommunitySearchResultIds:O,pluginDevelopmentSearchResultIds:d,pluginOrgSearchResultIds:s,pluginSavedSearchResultIds:r,pluginSearchHasResolved:u,pluginSearchIsLoading:c,query:t,searchTemplatesResult:i,teamTemplatesFromSearch:T,totalNumTeamTemplatesFromSearch:S,widgetCommunitySearchResultIds:k,widgetDevelopmentSearchResultIds:_,widgetOrgSearchResultIds:m,widgetSavedSearchResultIds:p,widgetSearchHasResolved:x,widgetSearchIsLoading:f}):(0,o.jsx)(sZ,{})}),(0,o.jsx)(ri.t.TabPanel,{...R.Widgets,children:t?(0,o.jsx)(lp,{query:t,debouncedSearchQuery:j,hasResolved:x,savedSearchResultIds:p,communitySearchResultIds:k,orgSearchResultIds:m,developmentSearchResultIds:_,lastWidgetSearchQuery:v}):(0,o.jsx)(lS,{})}),(0,o.jsx)(ri.t.TabPanel,{...R.Stickers,children:(0,o.jsx)(rG.FN,{query:t})}),(0,o.jsx)(ri.t.TabPanel,{...R.Plugins,children:t?(0,o.jsx)(oe,{query:t,debouncedSearchQuery:j,savedSearchResultIds:r,communitySearchResultIds:O,developmentSearchResultIds:d,orgSearchResultIds:s,hasResolved:u,lastPluginSearchQuery:y}):(0,o.jsx)(oH,{})}),(0,o.jsx)(ri.t.TabPanel,{...R.Templates,children:t?(0,o.jsx)(lo,{templates:i,teamTemplatesFromSearch:T,totalNumTeamTemplatesFromSearch:S,teamTemplatesFromSearchIsLoading:E,requestLoadMoreTeamTemplatesFromSearch:w,query:t,debouncedSearchQuery:j}):(0,o.jsx)(aI.J,{setPreviewHubFile:e})}),(0,o.jsx)(ri.t.TabPanel,{...R.More,children:t?(0,o.jsx)(s8,{results:n,query:t,debouncedSearchQuery:j,faceStampSearchIsLoading:g}):(0,o.jsx)(n_.fu,{name:"more2",children:(0,o.jsx)(sN,{hasTopPadding:!0})})})]})}function lW(){return{x:-rj.gR,y:0,width:2*rj.gR+rk.wR,height:window.innerHeight}}var lK=i(358450),lz=i(172012),lZ=i(797777),l$=i(512956),lY=i(318123),lq=i(610446),lX=i(44647),lJ=i(348225),lQ=i(257275);function l0({children:e}){return(0,o.jsx)(o.Fragment,{children:e})}var l1=i(545877),l2=i(317394),l3=i(924253),l5=i(181774),l6=i(696396),l4=i(353099),l9=i(772021),l8=i(701580),l7=i(53857),de=i(110313),dt=i(29104),di=i(355607);function dn({title:e,onClose:t,badge:i,closeButtonInnerText:n,testIdPrefix:r}){let a=(0,di.$)();return(0,o.jsxs)("div",{className:"figjam_panel_header--headerContainer--fVdY4",children:[(0,o.jsx)("h2",{className:"figjam_panel_header--title--n9fHo",children:e}),(0,o.jsxs)("div",{className:eT.s.flex.itemsCenter.gap4.$,children:[i,(0,o.jsx)(nx.Me,{onClick:t,"aria-label":(0,A.t)("common.close"),actionOnPointerDown:a,trackingProperties:{text:n||"close"},"data-testid":r&&`${r}-close-button`,children:(0,o.jsx)(em.A,{})})]})]})}let dr="ai_modal--suggestionV2--Us2t6",da="ai_modal--secondaryButton--weULP",ds="ai_modal--selected--S4ORY",dl="ai_modal--promptBuilderContents---yRyI",dd="ai_modal--promptBuilderScrollWrapper--iQkhu";var dc=i(972494);function du({suggestion:{title:e,subtitle:t,useCaseCategory:i},onClick:n}){return(0,o.jsx)(e4.E,{onClick:n,className:e_()(eT.s.flex.justifyBetween.itemsCenter.py16.pl16.pr12.b1.colorBorder.bRadius6.wFull.alignLeft.$,"ai_modal--oneClickButton--VqeLK"),htmlAttributes:{"data-testid":"figjam-ai-one-click-v2"},children:(0,o.jsxs)("div",{className:eT.s.flex.itemsCenter.justifyBetween.gap12.wFull.$,children:[(0,o.jsx)("div",{className:eT.s.flex.flexRow.itemsStart.$,children:(0,o.jsxs)("div",{className:e_()(eT.s.colorTextSecondary.font11.fontInter.normal.overflowHidden.ellipsis.$,"ai_modal--oneClickText--36sek"),children:[(0,o.jsx)("span",{className:eT.s.colorText.font11.fontInter.fontMedium.normal.$,children:e}),` ${t}`]})}),(0,o.jsx)("div",{className:"ai_modal--oneClickIcon--J1-2k",children:(0,lq.wg)(i)}),(0,o.jsx)(tb.B,{className:e_()(eT.s.hidden.colorIconBrand.bRadius2.$,"ai_modal--oneClickAiIcon--fQNmm"),"data-tooltip":(0,A.t)("whiteboard.ai_modal.make"),"data-tooltip-type":ii.Ib.TEXT,"data-tooltip-show-above":"true",svg:dc.A})]})})}var dp=i(357047),dh=i(850166),dm=i(231521),df=i(693164),dx=i(463802),d_=i(408361);let dg="prompt_editor_v2--input--hm43Y text--fontPos13--xW8hS text--_fontBase--QdLsd",db="prompt_editor_v2--promptBoxTextShimmer--pMr3h";function dj(){let[e]=(0,dx.DF)(),[t,i]=l.useState("");return l.useEffect(()=>e.registerUpdateListener(({editorState:e})=>{let t="";e.read(()=>{t=(0,df.bk)([df.mK,df.NB])}),i(t)}),[e]),t}function dy({initialPrompt:e=null,setInitialPrompt:t}){let i={paragraph:e_()(eT.s.lh24.$,"prompt_editor_v2--promptParagraph--NNM8M prompt_editor_v2--paragraph--poJzZ"),list:{listitem:"prompt_editor_v2--listItem--annrO",ol:"prompt_editor_v2--ol--ic0Fx",olDepth:["prompt_editor_v2--ol1--faICF","prompt_editor_v2--ol2--F-Y-h","prompt_editor_v2--ol3--MAJmP","prompt_editor_v2--ol4--fqE0M","prompt_editor_v2--ol5---WTwx"],ul:"prompt_editor_v2--ul--S8A3v",nested:{listitem:"prompt_editor_v2--nestedListItem--JvJWk"}}};return{namespace:"FigJamAiPromptEditor",editorState:()=>{if(e)(0,df.Wn)(e,[df.mK,df.NB]);else{let e=(0,d_.Ni)();if(!e.getFirstChild()){let t=(0,d_.lJ)();e.append(t)}}t("")},nodes:[dm.v5,dm.YW],theme:i,onError:function(e){console.error(e)}}}function dv({onSubmit:e}){let t=dj(),i=(0,p.md)(lY.dO),n=(0,b.p8)("keyboardShortcuts"),r=(0,dp.c1)(n,"quick-create");return(0,o.jsx)("div",{className:"ai_modal--generateButtonContainer--TZ5A4",children:(0,o.jsx)("div",{className:"ai_modal--generateButtonContainerInner--LrHTI",children:(0,o.jsx)(e9.$n,{disabled:0===t.length||i.status===dh.c.LOADING,onClick:()=>{e(t)},htmlAttributes:{"data-testid":"figjam-ai-modal-generate-button"},"aria-label":(0,A.t)("whiteboard.ai_modal.make_button_aria_label"),"aria-description":r,children:(0,A.tx)("whiteboard.ai_modal.make_shortcut")})})})}var dC=i(656233),dT=i(683966),dE=i(211731),dS=i(947080),dw=i(898216),dI=i(464923),dL=i(212109),dN=i(909072),dA=i(628878),dO=i(708845),dk=i(476572),dR=i(919079),dM=i(862108);function dD({shouldAutoFocus:e}){let[t]=(0,dx.DF)();return l.useEffect(()=>{e&&t.focus()},[t,e]),null}var dP=i(467175),dU=i(850527),dF=i(63728);function dB({hasFreeformEditedPrompt:e,updatePillSuggestions:t,examplePrompt:i}){let n=(0,p.md)(lY.xc),[r]=(0,dx.DF)(),a=(0,p.md)(lY.dO),[s,o]=(0,p.fp)(lY.JV),d=(0,p.Xr)(lY.KL);l.useEffect(()=>{n?r.update(()=>{(0,df.Wn)(n.prompt,[df.mK,df.NB]),t(r.getEditorState(),n.useCaseCategory)}):t(r.getEditorState())},[r,n,t]),l.useEffect(()=>{a.status===dh.c.LOADING?r.setEditable(!1):r.setEditable(!0)},[r,a]);let c=l.useCallback(t=>((0,dF.Fo)(t)&&"Enter"===t.key||"Tab"===t.key||e.current||((0,dM.Br)(),e.current=!0),!1),[e]);l.useEffect(()=>r.registerCommand(d_.R1,c,d_.Jj),[r,c]);let u=l.useCallback(e=>{if((0,dF.Fo)(e)||(0,dF.vN)(e,dF.xH.SHIFT)||(0,dF.vN)(e,dF.xH.ALT))return!1;let n=(0,df.bk)([df.mK,df.NB]);return r.update(()=>{if(0===n.length){let n=(0,lq.sM)(i.title,i.subtitle);(0,df.Wn)(n,[df.mK,df.NB]),(0,d_.Ni)().selectEnd().insertText(" ");let a=r.getEditorState();return o(i.useCaseCategory),t(a,i.useCaseCategory),e.preventDefault(),d(n),(0,dM.tV)(n),!0}}),!1},[r,i,o,t,d]);return l.useEffect(()=>r.registerCommand(d_.OX,u,d_.Jj),[r,u]),l.useEffect(()=>r.registerUpdateListener(({editorState:e,prevEditorState:i})=>{let n="";e.read(()=>{n=(0,df.bk)([df.mK,df.NB])});let r=!1,a="";i.read(()=>{a=(0,df.bk)([df.mK,df.NB]);let e=(0,d_.vJ)(),t=d_.Ni().getFirstDescendant()?.getKey(),i=d_.Ni().getLastDescendant()?.getKey();(0,d_.I2)(e)&&(r=a.length>0&&(0===e.focus.offset&&e.focus.key===t&&e.anchor.key===i&&(0,dU.Nx)(e.anchor)||0===e.anchor.offset&&e.anchor.key===t&&e.focus.key===i&&(0,dU.Nx)(e.focus)))}),r?n!==a&&(o(void 0),t(e,void 0,!0),n.length>0&&(0,dM.Br)()):n.length>0&&!s?t(e):0===n.length&&(o(void 0),t(e))}),[r,s,o,t]),null}var dH=i(437088),dV=i(38914),dG=i(272243),dW=i(612521),dK=i(564528),dz=i(102752),dZ=i(759243),d$=i(584673),dY=i(16929);function dq(){return(0,o.jsx)("div",{className:"ai_announcement_modal--browseInCommunityContainer--03F-u",children:(0,o.jsxs)(o6.N,{href:"/community/collections/best-figjam-ai-prompts",target:"_blank",className:"ai_announcement_modal--communityLink--CA-Qf",trusted:!0,children:[(0,o.jsx)(tb.B,{svg:dY.A,className:"ai_announcement_modal--communityIcon--Gmr2-"}),(0,A.tx)("whiteboard.ai_feature_announcement.more_prompts.community_button")]})})}function dX(){return(0,o.jsxs)("div",{className:"ai_announcement_modal--morePromptsHeader--Av2QS",children:[(0,o.jsx)("span",{className:"ai_announcement_modal--headerText--iJ5yO",children:(0,A.tx)("whiteboard.ai_feature_announcement.more_prompts.title")}),(0,o.jsx)("span",{className:eT.s.font13.$,children:(0,A.tx)("whiteboard.ai_feature_announcement.more_prompts.description")})]})}function dJ({selectedPrompt:e,setSelectedPrompt:t}){let i=(0,lq.FN)();return(0,o.jsx)("div",{className:"ai_announcement_modal--morePromptsBodyOuter--3cfNs",children:(0,o.jsx)("div",{className:"ai_announcement_modal--morePromptsBody--SEGr5",children:Object.entries(i).map(([i,n])=>(0,o.jsx)(dQ,{category:n.category,suggestion:n.suggestion,isSelected:e===i,onClick:()=>t(i)},i))})})}function dQ({category:e,suggestion:t,isSelected:i,onClick:n}){let r=(0,lq.wg)(e);return(0,o.jsxs)("button",{className:e_()("ai_announcement_modal--morePromptExample--O3B-f",{"ai_announcement_modal--selectedMorePromptExample--TCcYx":i}),onClick:n,children:[(0,o.jsx)("div",{className:"ai_announcement_modal--morePromptIcon--vM2Pj",children:r}),(0,o.jsx)("div",{className:eT.s.inline.alignLeft.$,children:t.map((e,i)=>(0,o.jsxs)("span",{className:e.bold?"ai_announcement_modal--boldedText--DaSsh":"ai_announcement_modal--normalText--zPNO-",children:[e.text,i!==t.length?" ":""]},i))})]})}function d0({dismissModal:e,selectedPromptKey:t}){let i=(0,p.Xr)(lY.ft),n=(0,p.Xr)(lY.xc),r="en"===(0,t_.mm)()[0],a=(0,ie.dh)();return(0,o.jsxs)("div",{className:"ai_announcement_modal--morePromptsFooter--peV6H",children:[r?(0,o.jsx)(dq,{}):(0,o.jsx)("div",{}),(0,o.jsx)("div",{className:eT.s.flex.gap16.$,children:(0,o.jsx)("button",{onClick:function(){let r=(0,lq.FN)()[t];if(!r)return;let s=(0,lq.hZ)(r);n({prompt:s,useCaseCategory:r.setUseCaseCategory?r.category:void 0}),i({prompt:s,useCaseCategory:r.setUseCaseCategory?r.category:void 0,subtitle:s,stage:lq.Zj.GENERATE_MODE,entrypoint:lq.fV.IN_EDITOR,pageNodeId:a}),e()},children:(0,o.jsx)("div",{className:e_()(eT.s.py4.pl8.pr16.b1.bRadius6.font13.fontMedium.lh24.$,"ai_announcement_modal--primaryBtn--Hp0e- ai_announcement_modal--btn--I8Apa"),children:(0,o.jsxs)("div",{className:eT.s.flex.flexRow.itemsCenter.$,children:[(0,o.jsx)(tb.B,{svg:dc.A,className:"ai_announcement_modal--aiIcon--u4hnd"}),(0,A.t)("whiteboard.ai_modal.make")]})})})})]})}let d1=(0,dz.Ju)(function(e){let t=dH.hS({open:e.open,onClose:e.onClose}),[i,n]=l.useState(()=>Object.keys((0,lq.FN)())[0]??"");return(0,o.jsx)(dV.bL,{manager:t,width:"fit-content",children:(0,o.jsxs)(dG.vo,{children:[(0,o.jsx)(dG.Y9,{children:(0,o.jsx)("div",{className:e_()(eT.s.absolute.h18.$,"ai_announcement_modal--aiBadge--DSi1-"),children:(0,o.jsx)(dZ.v,{location:"MODAL",onPointerUp:()=>{(0,dK.Lf)(d$.nG)||dW.Ay.unsafeRedirect(d$.nG,"_blank")}})})}),(0,o.jsxs)(dG.nB,{padding:0,children:[(0,o.jsx)(dX,{}),(0,o.jsx)("div",{className:"ai_announcement_modal--morePromptsModalBody--8TEvg",children:(0,o.jsx)(dJ,{setSelectedPrompt:n,selectedPrompt:i})})]}),(0,o.jsx)(dG.wi,{children:(0,o.jsx)(d0,{dismissModal:e.onClose,selectedPromptKey:i})})]})})},"FigJamAIMorePromptsModal");var d2=i(70690),d3=i(888006);function d5({suggestions:e,setSuggestions:t,updatePillSuggestions:i,maxHeight:n}){let r=(0,d.wA)(),[a]=(0,dx.DF)(),s=(0,p.md)(lY.dO),[l,c]=(0,p.fp)(lY.JV),u=e_()("ai_modal--suggestionPill--w44sw text--fontPos11--2LvXf text--_fontBase--QdLsd",dr),h=e_()(eT.s.colorBg.pl10.pr8.font11.lh16.borderBox.b1.bRadius6.wFitContent.$,dr),m=dj();return(0,o.jsx)(o.Fragment,{children:e.length>0&&(0,o.jsxs)("div",{className:"ai_modal--pillSuggestions--G7kp1",style:{maxHeight:n},children:[(0,o.jsx)("div",{className:"ai_modal--pillSuggestionsGenerated--6JXOL",children:e.map((n,r)=>(0,o.jsx)(e4.E,{className:u,onClick:()=>{void 0===l?a.update(()=>{(0,df.Wn)(n.prompt,[df.mK,df.NB]),n.prompt.endsWith(" ")&&(0,d_.Ni)().selectEnd().insertText(" "),(0,d_.Ni)().selectEnd()}):a.update(()=>{let t=(0,df.bk)([df.mK,df.NB]),i=(0,lq.LY)(l).length===e.length&&l!==lq.es.MIND_MAP?`${(0,lq.jJ)(t)} 
- ${n.prompt} `:`${t}
- ${n.prompt} `;(0,df.Wn)(i,[df.mK,df.NB]),(0,d_.Ni)().selectEnd()}),(0,lq.UH)(n)?(c(n.categoryKey),i(a.getEditorState(),n.categoryKey)):t(e=>e.filter(e=>e.prompt!==n.prompt)),(0,dM.lt)(r,n.prompt)},disabled:s.status===dh.c.LOADING,children:(0,o.jsxs)("div",{className:eT.s.flex.itemsCenter.gap6.$,children:[(0,lq.UH)(n)&&(0,lq.Oo)(n.categoryKey),n.title,!(0,lq.UH)(n)&&(0,o.jsx)(tb.B,{svg:d3.A,className:eT.s.colorIconTertiary.$})]})},n.title))}),void 0===l&&0===m.length&&(0,o.jsx)(e4.E,{className:h,disabled:s.status===dh.c.LOADING,onClick:()=>{r((0,nZ.to)({type:d1}))},children:(0,o.jsxs)("div",{className:eT.s.flex.itemsCenter.gap4.cursorDefault.$,children:[(0,A.tx)("whiteboard.ai_modal.suggestion.more_prompts"),(0,o.jsx)(tb.B,{svg:d2.A,className:eT.s.colorIconFigjam.$})]})})]})})}function d6({onSubmit:e}){let[t]=(0,dx.DF)(),i=dj(),n=l.useCallback(t=>0===i.length||!!(0,dF.Fo)(t)&&(t.preventDefault(),e((0,df.bk)([df.mK,df.NB])),!0),[e,i.length]);return l.useEffect(()=>t.registerCommand(d_.if,n,d_.Jj),[t,n]),null}function d4(){let e=dj(),t=(0,p.md)(lY.JV),i=(0,lq.TQ)(e,t);if(e.length<=0||!i)return null;let n=(0,lq.jJ)(e);return(0,o.jsx)("div",{className:e_()(eT.s.absolute.zIndex0.top0.left0.bgTransparent.overflowHidden.colorTextTertiary.font13.wFull.lh24.$,"prompt_editor_v2--placeholderParagraph--D5ueD prompt_editor_v2--paragraph--poJzZ"),children:`${n}${(0,A.t)("whiteboard.ai_modal.prompt_builder.trailing_ellipsis")}`})}function d9({onSubmit:e}){let t;let[i,n]=(0,p.fp)(lY.Ac),r=(0,l.useRef)(!1),a=(0,p.md)(lY.JV),s=(0,p.md)(lY.zS)===lY.Wl.TOP_BAR,[d,c]=(0,l.useState)((0,lq.fF)(i,a)),u=(0,p.md)(lY.dO),[h,m]=(0,l.useState)(()=>(0,dC.QP)([lq.B1.TEMPLATE,lq.B1.VISUAL])),[f,x]=(0,l.useState)(!0),_=(0,l.useMemo)(()=>(0,lq.Cb)(h),[h]),g=(0,lq.sM)(_.title,_.subtitle,!1),b=(0,p.Xr)(lY.Ac),j=(0,l.useRef)(null),y=(0,dO.wY)(j),v=(t=180,y&&(t=36*Math.floor(((0,iK.jz)(i6.N5f)-y.height)/36)),t),C=(0,l.useCallback)((e,t,i)=>{e.read(()=>{let e=(0,df.bk)([df.mK,df.NB]);c(n=>{let r=(0,lq.fF)(e,t),a=!n.every(lq.UH),s=r.some(lq.UH)&&0===e.length||i;return a&&!s?n:r})})},[]),T=(0,l.useRef)([]);(0,l.useEffect)(()=>{let e=T.current.map(e=>e.title),t=d.map(e=>e.title),i=!(0,dk.yZ)(new Set(e),new Set(t)),n=T.current.length>0&&!T.current.some(lq.UH)&&!d.some(lq.UH);T.current=d,i&&!n&&(0,dM.Fg)(d)},[d]);let E=l.useCallback(e=>{e.read(()=>{let e=(0,df.bk)([df.mK,df.NB]);0!==e.length||f?0!==e.length&&f&&x(!1):(m(e=>e===lq.B1.TEMPLATE?lq.B1.VISUAL:lq.B1.TEMPLATE),x(!0)),r.current&&0===e.length&&(r.current=!1,b(""))})},[f,b]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(de.n,{initialConfig:dy({initialPrompt:i,setInitialPrompt:n}),children:[(0,o.jsx)("div",{className:e_()("prompt_editor_v2--promptBox--SdF5B",eT.s.flex.flexColumn.colorBgSecondary.p16.mx16.bRadius6.if(u.status===dh.c.LOADING,eT.s.opacity0_5).$),children:(0,o.jsxs)("div",{className:eT.s.relative.flex.flexColumn.font13.resizeNone.wFull.hFull.justifyBetween.$,children:[(0,o.jsx)(dN.$,{contentEditable:(0,o.jsx)(ce,{contentEditableClassName:dg,contentEditableStyle:{minHeight:y?.height},disabled:u.status===dh.c.LOADING,dataTestid:"figjam-ai-modal-prompt-editor-v2",isAutoFocused:s&&u.status!==dh.c.LOADING,ariaLabel:(0,A.t)("whiteboard.ai_modal.prompt_label"),ariaPlaceholder:g}),placeholder:(0,o.jsxs)("div",{"aria-hidden":!0,className:e_()("prompt_editor_v2--placeholder--wqsck text--fontPos13--xW8hS text--_fontBase--QdLsd",db),ref:j,children:[(0,o.jsx)("span",{children:g}),(0,o.jsx)(d7,{})]}),ErrorBoundary:dE.A}),(0,o.jsx)(d4,{}),(0,o.jsx)(d5,{suggestions:d,setSuggestions:c,updatePillSuggestions:C,maxHeight:v})]})}),(0,o.jsx)(dw.Q,{}),(0,o.jsx)(dA.m,{}),(0,o.jsx)(dP.A,{maxDepth:5}),(0,o.jsx)(dL.D,{onChange:E,ignoreSelectionChange:!0}),(0,o.jsx)(dS.G,{}),(0,o.jsx)(dI.E,{transformers:[df.mK,df.NB]}),(0,o.jsx)(dD,{shouldAutoFocus:s&&u.status!==dh.c.LOADING}),(0,o.jsx)(d6,{onSubmit:e}),(0,o.jsx)(dB,{hasFreeformEditedPrompt:r,updatePillSuggestions:C,examplePrompt:_}),(0,o.jsx)(dv,{onSubmit:e})]},"FigJamAiPromptEditor")})}function d8({onSubmit:e}){let t=(0,p.md)(n1.QY),i=(0,p.md)(lY.zS)===lY.Wl.TOP_BAR;return(0,o.jsx)("div",{className:e_()(eT.s.colorBgSecondary.p16.bRadius6.cursorText.$,"prompt_editor_v2--entryViewPromptBox--EkmRO"),"data-onboarding-key":l9.AI,children:(0,o.jsxs)("div",{className:eT.s.relative.font13.fontInter.normal.fontNormal.lh24.flex.itemsStart.wFull.hFull.$,children:[(0,o.jsx)(dN.$,{contentEditable:(0,o.jsx)(ce,{contentEditableClassName:e_()(eT.s.overflowYScroll.zIndex1.wFull.hFull.alignLeft.$,dg),dataTestid:"figjam-ai-modal-entry-view-prompt-editor",disabled:!1,isAutoFocused:i,ariaLabel:(0,A.t)("whiteboard.ai_modal.prompt_label"),ariaPlaceholder:(0,A.t)("whiteboard.ai_modal.prompt_placeholder")}),placeholder:(0,o.jsx)("div",{"aria-hidden":!0,className:e_()(eT.s.eventsNone.colorTextTertiary.absolute.$,t.showing?null:db),children:(0,o.jsx)("span",{children:(0,A.t)("whiteboard.ai_modal.prompt_placeholder")})}),ErrorBoundary:dE.A}),(0,o.jsx)(dw.Q,{}),(0,o.jsx)(dA.m,{}),(0,o.jsx)(dP.A,{maxDepth:5}),(0,o.jsx)(dS.G,{}),(0,o.jsx)(dD,{shouldAutoFocus:i}),(0,o.jsx)(d6,{onSubmit:e}),(0,o.jsx)(dI.E,{transformers:[df.mK,df.NB]})]})})}function d7(){return(0,o.jsx)(dR.Ex,{className:e_()(eT.s.font11.fontMedium.h16.px4.bRadius5.ml4.hFitContent.colorTextSecondary.$,"prompt_editor_v2--tabBadge--bntTA"),text:(0,A.t)("whiteboard.ai_modal.hint_tab"),color:dR.zE.TERTIARY})}function ce({contentEditableClassName:e,contentEditableStyle:t,disabled:i,dataTestid:n,isAutoFocused:r,ariaLabel:a,ariaPlaceholder:s}){let[d]=(0,dx.DF)(),[c,u]=(0,l.useState)(!!r),p=l.useRef(null),h=l.useCallback(()=>!!c&&(u(!1),p.current?.focus(),!0),[p,c]);return(0,l2.O1)(h,l2.KD.EDITING_TEXT_FIELD),(0,o.jsxs)("section",{"aria-label":(0,A.t)("whiteboard.ai_modal.make_templates_and_diagrams"),className:"prompt_editor_v2--editableWrapper---hIpF",children:[(0,o.jsx)(e4.E,{className:"prompt_editor_v2--visuallyHiddenButton--AsyAA",htmlAttributes:{onKeyDown:e=>{"Enter"!==e.key||c||(e.preventDefault(),u(!0),d.focus())}},onClick:ed.lQ,ref:p,children:(0,A.t)("whiteboard.ai_modal.edit_prompt_button")}),(0,o.jsx)(dT.a,{"aria-placeholder":s,ariaLabel:a,className:e,"data-testid":n,disabled:i,onBlur:()=>{c&&u(!1)},onClick:()=>{c||(u(!0),d.focus())},onFocus:()=>{c||u(!0)},onKeyDown:e=>{"Escape"===e.key&&c&&(u(!1),p.current?.focus())},placeholder:(0,o.jsx)(o.Fragment,{}),spellCheck:!1,style:t,tabIndex:c?0:-1})]})}function ct({onGenerate:e}){let t=(0,p.md)(lY.zS),i=(0,p.Xr)(lY.H4),n=(0,G.tS)(),r=(0,l.useMemo)(()=>(0,lq.w4)(1),[]),a=(0,p.Xr)(lY.ft),s=(0,p.Xr)(lY.Ac),d=(0,ie.dh)(),c=t=>{e(),s(`${t.title} ${t.subtitle}`),a({prompt:`${t.title} ${t.subtitle}`,useCaseCategory:t.useCaseCategory,subtitle:t.subtitle,stage:lq.Zj.GENERATE_MODE,entrypoint:lq.fV.IN_EDITOR,fromGenerateModalV2:!0,pageNodeId:d})},u=async t=>{e(),s(t),await a({prompt:t,stage:lq.Zj.GENERATE_MODE,entrypoint:lq.fV.IN_EDITOR,fromGenerateModalV2:!0,pageNodeId:d})},h=(0,dt.a)()?(0,A.t)("whiteboard.ai_modal.beta_badge"):(0,A.t)("qa.ai");return(0,o.jsx)(n_.fu,{name:l6.e0.AI_PROMPT_BUILDER_ENTRY_VIEW,properties:{fileKey:n},children:(0,o.jsx)("div",{"data-testid":"figjam-ai-modal-entry-view-v2",className:dl,children:(0,o.jsxs)(de.n,{initialConfig:dy({setInitialPrompt:s}),children:[(0,o.jsx)(dn,{title:(0,A.t)("whiteboard.ai_modal.make_templates_and_diagrams"),onClose:i,badge:(0,o.jsx)(l7.E,{variant:"inactiveOutline",children:h}),testIdPrefix:"ai-modal-header"}),(0,o.jsxs)(ev.P,{className:dd,children:[(0,o.jsx)("div",{className:"ai_modal--entryViewPromptEditorWrapper--D6Zwq",children:(0,o.jsx)(d8,{onSubmit:u})}),(0,o.jsx)("div",{className:"ai_modal--oneClickPromptSection--K-kml",children:(0,o.jsx)("div",{className:e_()(eT.s.mx16.grid.rowGap12.overflowHidden.$,"ai_modal--oneClickPromptGridV2--yc8rD"),children:r.map((e,i)=>(0,o.jsx)(ci,{shouldAnimate:t===lY.Wl.NEW_FILE,index:i,children:(0,o.jsx)(du,{suggestion:e,onClick:()=>c(e)})},e.title+e.subtitle))})}),(0,o.jsx)(dv,{onSubmit:u})]})]},"FigJamAiEntryViewPromptEditor")})})}function ci({shouldAnimate:e,index:t,children:i}){return e?(0,o.jsx)(lJ.P.div,{initial:{opacity:0,scale:.8,transform:"translateY(40px)"},animate:{opacity:1,scale:1,transform:"translateY(0px)"},transition:{delay:(t+1)*.05},children:i}):i}var cn=i(602140);function cr(){let e=(0,p.md)(lY.dO);return(0,u.k)().cortex_execution_tracing&&(e.status===dh.c.SUCCESS||e.status===dh.c.ERROR)&&e.trace?(0,o.jsx)("div",{style:rY.sx.mb16.$,className:eT.s.mx16.mt16.$,children:(0,o.jsxs)("div",{className:eT.s.px12.py12.flex.gap12.bRadius6.colorBgFigjamTertiary.font11.colorTextFigjam.overflowBreakWord.$,children:[(0,o.jsx)("div",{children:(0,A.tx)("whiteboard.ai_modal.share_trace_nudge_in_modal",{weirdOutput:(0,o.jsx)("span",{className:eT.s.font11.colorTextFigjam.fontBold.$,children:(0,A.t)("whiteboard.ai_modal.share_trace_nudge_weird_output")})})}),(0,o.jsx)(e4.E,{className:"ai_share_trace_nudge--button--9ZX8n",onClick:()=>{(0,cn.j)(JSON.stringify(e.trace,null,2),"trace.json")},children:(0,o.jsx)("div",{className:eT.s.font11.lh16.noWrap.$,children:(0,A.tx)("whiteboard.ai_modal.share_trace")})})]})}):(0,o.jsx)(o.Fragment,{})}function ca({onGenerate:e}){let t=(0,p.Xr)(lY.H4),i=(0,p.md)(lY.dO),n=(0,p.md)(lY.JV),[r,a]=(0,p.fp)(lY.Sn),s=(0,p.md)(lY.l1),l=(0,G.q5)(),d=i.status===dh.c.SUCCESS?lq.Zj.REFINEMENT_MODE:lq.Zj.GENERATE_MODE,u=(0,p.Xr)(lY.ft),h=(0,ie.dh)(),m=async t=>{e(),await u({prompt:t,useCaseCategory:n,stage:d,entrypoint:lq.fV.IN_EDITOR,fromGenerateModalV2:!0,pageNodeId:h})};function f(e){e!==r&&s&&c.$mk&&(a(e),c.$mk.updateFigjamAiGanttChartType(e,s))}let x=(0,dt.a)()?(0,A.t)("whiteboard.ai_modal.beta_badge"):(0,A.t)("qa.ai");return(0,o.jsx)(n_.fu,{name:l6.e0.AI_PROMPT_BUILDER_GENERATE_STAGE,properties:{fileKey:l?.key},children:(0,o.jsxs)("div",{"data-testid":"figjam-ai-modal-prompt-builder-v2",className:dl,children:[(0,o.jsx)(dn,{title:(0,A.t)("whiteboard.ai_modal.make_templates_and_diagrams"),onClose:t,badge:(0,o.jsx)(l7.E,{variant:"inactiveOutline",children:x}),closeButtonInnerText:"dismiss",testIdPrefix:"ai-modal-header"}),(0,o.jsxs)(ev.P,{className:dd,children:[(0,o.jsx)("div",{className:eT.s.pt16.$,children:(0,o.jsx)(d9,{onSubmit:m})}),(0,o.jsx)(cr,{}),i.status===dh.c.SUCCESS&&"gantt"===i.type&&(0,o.jsx)("div",{className:"ai_modal--ganttChartStyleContainer--lXP5n",children:(0,o.jsxs)("div",{className:"ai_modal--ganttChartStyleContainerInner--GQHQh",children:[(0,o.jsx)("div",{className:e_()(eT.s.colorTextSecondary.$),children:(0,A.tx)("whiteboard.ai_modal.style")}),(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{onClick:()=>{f(c.VIy.BASIC)},className:e_()(eT.s.inline.itemsCenter.py6.px14.b1.colorBorder.fontMedium.lh16.$,{[da]:!0,[ds]:r===c.VIy.BASIC}),style:rY.sx.add({borderRadius:"6px 0px 0px 6px",fontSize:"10px"}).$,children:(0,A.tx)("whiteboard.ai_modal.basic")}),(0,o.jsx)("button",{onClick:()=>{f(c.VIy.EXPANDED)},className:e_()(eT.s.inline.itemsCenter.py6.px14.bSolid.br1.bt1.bb1.colorBorder.fontMedium.lh16.$,{[da]:!0,[ds]:r===c.VIy.EXPANDED}),style:rY.sx.add({borderRadius:"0px 6px 6px 0px",fontSize:"10px"}).$,children:(0,A.tx)("whiteboard.ai_modal.expanded")})]})]})})]})]})})}let cs=[(0,t_.ck)("25d8a30c44eab356d393ee997bc62cd0c85b4a28"),(0,t_.ck)("3d959a21151e0b11ad486bd688e54f88d625c00a"),(0,t_.ck)("9e7571f06975aa64d8e90ac0289a1b152dcc4dad")];function co(){let e=(0,l3.q)(),t=(0,b.aV)();return!!e&&!t}function cl(){let e=(0,d.d4)(e=>e.mirror.appModel.showUi),t=(0,p.md)(lY.zS),i=(0,p.Xr)(lY.H4),n=(0,l.useRef)(null);return(0,l2.O1)(()=>{let r=document.activeElement;return!!(e&&t!==lY.Wl.NONE&&(n.current?.contains(r)||r?.classList.contains("focus-target")||(0,l5.t)(r)))&&(i(),!0)},l2.KD.MODAL),n}function cd(){return co()?(0,o.jsx)(l0,{children:(0,o.jsx)(cc,{})}):null}function cc(){let e;let[t,i]=(0,p.fp)(lY.yt);!function(){let e=(0,ie.dh)(),t=(0,p.md)(lY.J1),i=(0,p.Xr)(lY.RJ);(0,l.useEffect)(()=>{e!==t&&i()},[e,i,t])}(),function(){let e=(0,G.tS)(),t=(0,p.Xr)(lY.A0);(0,l.useEffect)(()=>{t()},[e,t])}();let n=(0,b.p8)("showUi"),r=(0,p.md)(lY.zS);if(r===lY.Wl.NONE||r===lY.Wl.TOP_BAR)return null;if(r===lY.Wl.NEW_FILE)e=(0,o.jsx)(ch,{onGenerate:()=>{i(!0)},hasGenerated:t});else throw Error("Unsupported AI Modal Display Type");return(0,o.jsx)("div",{className:eT.s.if(!n,eT.s.hidden).$,children:e})}function cu({onGenerate:e}){let t=(0,G.tS)(),i=cl();return(0,ec.U1)(i),(0,o.jsx)(n_.fu,{name:l6.e0.AI_PROMPT_BUILDER_MODAL,properties:{fileKey:t,modalSource:lY.Wl.TOP_BAR},children:(0,o.jsx)("div",{className:"ai_modal--topBarV2--kJAjC","data-testid":"figjam-ai-modal-topbar-v2",ref:i,children:(0,o.jsx)(cf,{onGenerate:e})})})}function cp(){let e=!(0,m.q8)()&&(0,lq.Uy)(),t=(0,p.Xr)(lY.yt),i=(0,p.md)(lY.zS)===lY.Wl.TOP_BAR,n=co();return e&&i&&n?(0,o.jsx)(l0,{children:(0,o.jsx)(cu,{onGenerate:()=>{t(!0)}})}):null}function ch({onGenerate:e,hasGenerated:t}){let i=(0,G.tS)(),n=(0,aR.tG)(),r=cl();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n_.fu,{name:l6.e0.AI_PROMPT_BUILDER_MODAL,properties:{fileKey:i,modalSource:lY.Wl.NEW_FILE},children:(0,o.jsxs)("div",{className:"ai_modal--modalV2--uHVNF","data-testid":"figjam-ai-modal-new-file-v2",ref:r,children:[(0,o.jsx)(cf,{onGenerate:e}),!t&&(0,o.jsx)(cm,{})]})}),n&&(0,o.jsx)(l4.p,{children:(0,o.jsx)(l9.i1,{targetKey:l9.AI})})]})}function cm(){let e=(0,G.tS)(),t=(0,d.wA)(),i={rest:{scale:.9},hover:{transition:{duration:.3,ease:"easeInOut"},scale:[.9,1],y:[0,-9,3]}};return(0,o.jsxs)(n_.fu,{name:l6.e0.AI_PROMPT_BUILDER_TEMPLATES_CALLOUT,properties:{fileKey:e},children:[(0,o.jsxs)("div",{className:eT.s.flex.justifyCenter.itemsCenter.mt16.mb10.$,children:[(0,o.jsx)("div",{className:e_()(eT.s.h2.flex1.$,"ai_modal--hrLeft--trcI7")}),(0,o.jsx)("div",{className:e_()(eT.s.relative.px10.py4.font11.colorTextSecondary.fontNormal.$),children:(0,A.tx)("whiteboard.ai_modal.or")}),(0,o.jsx)("div",{className:e_()(eT.s.h2.flex1.$,"ai_modal--hrRight--rxij6")})]}),(0,o.jsx)(lJ.P.div,{variants:{hover:{transition:{staggerChildren:.05}}},initial:"rest",whileHover:"hover",children:(0,o.jsxs)(n_.$z,{onClick:()=>{t(nZ.$O({type:l8.PH.type,data:{triggeredFrom:"aiModal",templateInsertionLocation:rv.RD.CURRENT_FILE}}))},innerText:"start with template",className:eT.s.flex.itemsCenter.justifyCenter.py6.bgTransparent.wFull.$,style:rY.sx.add({height:"42px"}).$,children:[(0,o.jsx)("div",{children:cs.map((e,t)=>(0,o.jsx)(lJ.P.img,{src:e,alt:(0,A.t)("whiteboard.ai_modal.template_image_alt"),style:rY.sx.add({width:"51px",position:"relative"}).if(1===t,rY.sx.add({width:"44px",top:"-5px",marginLeft:"-26px"})).if(0===t,rY.sx.add({top:"3px"})).if(2===t,rY.sx.add({marginLeft:"-24px",top:"3px"})).$,variants:i},e))}),(0,o.jsxs)(lJ.P.div,{className:eT.s.flex.itemsCenter.justifyCenter.gap4.$,variants:{rest:{x:0},hover:{transition:{duration:.3,type:"spring"},x:[0,-5,0]}},children:[(0,o.jsx)("div",{className:e_()(eT.s.font13.$,"ai_modal--templateCtaV2--n1GTF"),children:(0,A.tx)("whiteboard.ai_modal.template_cta")}),(0,o.jsx)("div",{className:e_()(eT.s.colorIconSecondary.mt2.$),children:(0,o.jsx)(lX.k,{})})]})]})})]})}function cf({onGenerate:e}){let t=(0,p.md)(lY.zS)===lY.Wl.TOP_BAR,i=(0,p.md)((0,l1.Fu)(lY.Pg));return(0,o.jsxs)("div",{"data-fullscreen-prevent-event-capture":!0,className:e_()(eT.s.colorBg.flex.flexColumn.$,"ai_modal--generateContainerV2--vAeZh",{"ai_modal--border--WpxWn":!t}),"data-testid":"figjam-ai-modal-content-v2",children:[i?.status==="loaded"&&!i?.data&&(0,o.jsx)(ct,{onGenerate:e}),i?.status==="loaded"&&i?.data&&(0,o.jsx)(ca,{onGenerate:e})]})}var cx=i(576487),c_=i(835718);let cg="ai-loading-bell";function cb(){return(0,o.jsx)(l0,{children:(0,o.jsx)(cj,{})})}function cj(){let e=(0,p.md)(lY.dO),t=(0,d.wA)(),i=(0,c_.um)();return(0,l.useEffect)(()=>{e.status===dh.c.LOADING?t(x.F.enqueue({message:(0,A.t)("whiteboard.ai_modal.streaming"),icon:cx.zX.SPINNER,type:cg,timeoutOverride:1/0})):t(x.F.dequeue({matchType:cg})),e.status===dh.c.ERROR&&i(e.errorMessage,c_.ez.GENERATE)},[e,t,i]),null}var cy=i(99004),cv=i(632248),cC=i(862289),cT=i(171177),cE=i(363670),cS=i(423085),cw=i(551945),cI=i(342207),cL=i(741237),cN=i(290931),cA=i(441035),cO=i(278499),ck=i(690245),cR=i(690713),cM=i(757007),cD=i(878298),cP=i(312412),cU=i(994270),cF=i(794154),cB=i(487011),cH=i(189361),cV=i(222272),cG=i(360824),cW=i(236825),cK=i(788559),cz=i(904596);function cZ({iterateOptions:e,children:t,content:i,recordingKey:n,aiTrackingContext:r,targets:a,stayOpen:s,completionString:d,showFeedbackInline:c=!1,onDismiss:u,action:p,prompt:h,onChange:m,onRun:f,submitLabel:x,additionalCompletionText:_,minLength:g=1,showPrompt:b=!0,disableActionButton:j=!1,hideFeedbackButtons:y=!1,...v}){let{onDismiss:C,toastRef:T,hasAcceptButton:E}=function({iterateOptions:e,aiTrackingContext:t,targets:i,stayOpen:n,onDismiss:r}){let{close:a}=(0,cF.cq)();(0,cU.P)(!!n);let s=!!e.find(e=>[cz.is.ACCEPT,cz.is.KEEP_IT].includes(e.type)),o=(0,l.useCallback)(()=>{void 0!==t&&(0,cB.hm)({...t,status:cO.o2.COMPLETED,interaction:cO.sd.DISMISS,interaction_type:cO.Cq.BUTTON_CLICK}),a(),r?.()},[a,t,r]),d=l.useRef(null),c=(0,l.useCallback)(()=>{void 0!==t&&(0,cB.hm)({...t,status:cO.o2.COMPLETED,interaction:cO.sd.DISMISS,interaction_type:cO.Cq.AUTO})},[t]);return(0,cP.x)({ref:d,targets:i||[],onClose:c,disabled:!i}),(0,cT.kz)(dF.Uz.ESCAPE,()=>{t&&(0,cB.hm)({...t,status:cO.o2.COMPLETED,interaction:cO.sd.DISMISS,interaction_type:cO.Cq.KEYBOARD_SHORTCUT,keyboard_shortcut:(0,cT.F1)({key:dF.Uz.ESCAPE})}),a()},!s),{onDismiss:o,toastRef:d,hasAcceptButton:s}}({iterateOptions:e,aiTrackingContext:r,targets:a,stayOpen:s,onDismiss:u}),S=!!r,w=(0,o.jsx)("div",{className:"x78zum5 xh8yej3 xdt5ytf x1rjybxy",children:(0,o.jsxs)("div",{className:"x9f619",children:[b&&(0,o.jsx)(cG.XG,{action:p,value:h,onChange:m,recordingKey:n,minLength:g,...v}),(0,o.jsxs)(cV.B,{fullWidth:!0,justify:"space-between",children:[S&&(0,o.jsx)("div",{...ef.xk(y&&cY.visibilityHidden),children:(0,o.jsx)(cK.z,{aiTrackingContext:r},"feedbackButtons")}),(0,o.jsx)(cH.r,{shortcuts:b?[{key:dF.Uz.ENTER,modifier:[dF.xH.META]}]:[],onAction:e=>{r&&(0,cB.SX)({...r,...(0,cB.Q0)(e),interaction:cO.NI.GENERATE}),f()},disabled:j||b&&h.trim().length<g,recordingKey:(0,cD.Pt)(n,"enter"),variant:b?"primary":"secondary",children:x})]})]})});return(0,o.jsx)(cW.y,{extra:w,content:i,onDismiss:E?void 0:C,recordingKey:(0,cD.Pt)(n,"toast"),ref:T,shouldAutoFocus:!0,children:(0,o.jsx)(cV.B,{justify:"space-between",align:"center",fullWidth:!0,children:(0,o.jsxs)(cV.B,{gap:4,align:"center",children:[(0,o.jsx)(c$,{completionString:d,additionalCompletionText:_}),(0,o.jsx)("span",{className:"x17akokd x1qxcl5b x1n0bwc9 x1h67ju5",children:t})]})})})}function c$({completionString:e,additionalCompletionText:t}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(cM.g,{style:{"--color-icon":"var(--color-icon-success)"}}),(0,o.jsx)("span",{className:"xiqqdae xkezfkh","data-testid":"iterateDoneText",children:e||(0,A.tx)("ai.done")}),t&&(0,o.jsx)("span",{className:"x17akokd x1qxcl5b",children:t})]})}let cY={visibilityHidden:{visibility:"xlshs6z",$$css:!0}};var cq=i(382217),cX=i(39751),cJ=i(700578),cQ=i(432652),c0=i(948389),c1=i(624361),c2=i(561689),c3=i(531474),c5=i(23253);let c6="ai_canvas_prompt_data_user_prompt",c4="ai_canvas_prompt_data_parent_node_guids";function c9(e,t){U.l7.ai("fj-ai-canvas-prompting-history-recording",()=>{e.setInteractiveSlideConfigData(c6,t.userPrompt),e.setInteractiveSlideConfigData(c4,JSON.stringify(t.sourceNodeIds))})}function c8(e){let t=e.interactiveSlideConfigData[c6],i=e.interactiveSlideConfigData[c4];if(void 0===t||!i)return;let n=[];try{n=JSON.parse(i)}catch{return}return{userPrompt:t,sourceNodeIds:n}}var c7=(e=>(e.TEXT="text",e.IMAGE="image",e.UNSUPPORTED="unsupported",e))(c7||{});function ue(e,t){return c.OhE?.getCanvasAiElibilityForNode(t)===c.AP3.Eligible}async function ut(e){try{let t=(0,c3.R)(e);return{content:await (0,c5.VG)(t),type:"image"}}catch(e){return console.error("Error fetching image URL:",e),{content:"",type:"unsupported"}}}function ui(e){return{content:e.textSublayer?.textContent||"",type:"text"}}async function un(e,t){return(await Promise.all(e.filter(e=>ue(t,e)).map(async e=>{let i=t.get(e);return i?i.isImage?await ut(i):ui(i):{content:"",type:"unsupported"}}))).filter(({content:e,type:t})=>e.length>0&&"unsupported"!==t).reduce((e,{type:t,content:i})=>("text"===t?e.nodeTextContents.push(i):"image"===t&&e.nodeImageContents.push(i),e),{nodeTextContents:[],nodeImageContents:[]})}async function ur(e,t,i,n,r=0){if(r>n||e.guid in t)return;let a=await us(e);if(!a)return;t[e.guid]=a;let s=c8(e);if(s)for(let e of s.sourceNodeIds){let a=i.get(e);a&&await ur(a,t,i,n,r+1)}}async function ua(e,t,i){let n={};for(let r of e){let e=t.get(r);e&&await ur(e,n,t,i,0)}return n}async function us(e){if(e.isImage)return{type:"IMG",imgUri:(await ut(e)).content,guid:e.guid};{let t=ui(e);return t.content.length<=0?null:{type:"STICKY",text:t.content,guid:e.guid}}}async function uo(e,t){let i=await ua(e,t,3),n=function(e,t){let i=[];for(let n of Object.values(e)){let e=t.get(n.guid);if(!e)continue;let r=c8(e);if(r){let e=i.find(e=>(function(e,t){if(e.userPrompt!==t.userPrompt)return!1;for(let i of e.sourceNodeIds)if(!t.selectedNodesPromptedOn.includes(i))return!1;return!0})(r,e));if(e)n.aiParentPromptId=e.id;else{let e=i.length.toString();i.push({userPrompt:r.userPrompt,selectedNodesPromptedOn:r.sourceNodeIds,id:i.length.toString()}),n.aiParentPromptId=e}}}return i}(i,t),r=[],a=[];for(let[t,n]of Object.entries(i))e.includes(t)?r.push(n):a.push(n);return{selectedNodes:r,otherRelevantNodes:a,pastPrompts:n}}let ul=async({params:{userPrompt:e,nodeTextContents:t,nodeImageContents:i,selectedNodes:n,otherRelevantNodes:r,pastPrompts:a,onGenerationCompleted:s,generateUserPromptFromTexts:o},abortController:l})=>{let d=(0,c0.Ay)();await cQ.Ay.figjam.canvasIdeate({nodeTextContents:t,nodeImageContents:i,selectedNodes:n,otherRelevantNodes:r,previousPrompts:a,userPrompt:e,generateUserPromptFromTexts:o},d).then(e=>{l.signal.aborted||s(e.data,e.enhancedPrompt)})},ud=async({params:{shouldEnhancePrompt:e,imageContents:t,textContents:i,selectedNodes:n,setEnhancedPrompt:r,otherRelevantNodes:a,pastPrompts:s,...o},abortController:l,clientLifecycleId:d})=>{let c=(0,c0.Ay)(),p=o.prompt;if(p+="\n"+i.join("\n"),e){let e=await cQ.Ay.figjam.canvasEnhancePrompt({userPrompt:o.prompt,imageContents:t,outputType:"image"},c);!l.signal.aborted&&e.data&&(r(e.data),p=e.data)}(0,u.k)().figjam_ai_canvas_threaded_context&&(p=function(e,t,i,n){let r=function(e,t,i){let n=function(e,t){let i={};for(let t of e)i[t.guid]=t;for(let e of t)i[e.guid]=e;return i}(e,t),r=[];for(let e of i){let t={selectedNodes:[],userPrompt:e.userPrompt,knownOutcomes:[]};for(let i of e.selectedNodesPromptedOn){let e=n[i];e&&t.selectedNodes.push(e)}t.knownOutcomes=Object.values(n).filter(t=>t.aiParentPromptId===e.id),0!==t.knownOutcomes.length&&r.push(t)}return r}(t,i,n);return 0===r.length?e:`Here are some past conversations we've had. They're not super important but I'm including them so you have context on what has already been said and done.
${r.map((e,t)=>`Interaction ${t+1}:
${function(e){let t=e.userPrompt.length>0?`## Prompt given to you by the user
- ${e.userPrompt}
`:"";return`## Text submitted by user
${e.selectedNodes.map(e=>`- ${"IMG"===e.type?"UNKNOWN_IMAGE":e.text}`).join("\n")}
${t}
## Your response
${e.knownOutcomes.map(e=>`- ${"IMG"===e.type?"UNKNOWN_IMAGE":e.text}`).join("\n")}
`}(e)}`).join("\n")}

  ${e}`}(p,n,a,s));let h=await (0,c2.cb)({abortController:l,params:{...o,prompt:p},clientLifecycleId:d});return c9(o.targetNode,{userPrompt:o.prompt,sourceNodeIds:n.map(e=>e.guid)}),h},uc=async({params:{targetNode:e,onImageSuccess:t,imageContents:i,textContents:n,selectedNodes:r,otherRelevantNodes:a,pastPrompts:s,shouldEnhancePrompt:o,setEnhancedPrompt:l,...d},abortController:c})=>{let u=(0,c0.Ay)(),p=await cQ.Ay.figjam.canvasMakeImageFromImages({userPrompt:d.prompt,nodeTextContents:n,nodeImageContents:i,selectedNodes:r,otherRelevantNodes:a,previousPrompts:s,shouldEnhancePrompt:!!o,targetWidth:480,targetHeight:480},u);if(c.signal.aborted)return;o&&p.enhancedPrompt&&l(p.enhancedPrompt),t(p.base64Image);let h=await (0,c1.UD)((0,rR.Vs)(p.base64Image),"image/png",d.prompt);U.l7.ai("figjam-ai-canvas-make-image-from-canvas-content",()=>{e.insertImageInFillPaint(h),c9(e,{userPrompt:d.prompt,sourceNodeIds:r.map(e=>e.guid)})})},uu=async({params:e,abortController:t,clientLifecycleId:i})=>!function(e){let t=(0,cJ.UN)();return e.some(e=>{let i=t.get(e);return i?.isImage&&ue(t,e)})}(e.selectedNodes.map(e=>e.guid))?await ud({params:e,abortController:t,clientLifecycleId:i}):await uc({params:e,abortController:t,clientLifecycleId:i});var up=(e=>(e[e.SHOW_PROMPT_BOX=0]="SHOW_PROMPT_BOX",e[e.HIDE_PROMPT_BOX=1]="HIDE_PROMPT_BOX",e))(up||{}),uh=(e=>(e.STICKIES="STICKIES",e.IMAGE="IMAGE",e))(uh||{});let um=(0,p.um)({currentAction:null,longRunningAction:null,prompt:"",generationResult:null,generationDoneState:1},(e,t)=>{switch(t.type){case"RESET":return c.Ez5?.figjamState().currentAICanvasInputNodeIds.set([]),{...e,currentAction:null,longRunningAction:null,prompt:""};case"SET_CURRENT_ACTION":return{...e,currentAction:t.action};case"SET_LONG_RUNNING_ACTION":return{...e,longRunningAction:t.longRunningAction};case"SET_PROMPT":return{...e,prompt:t.prompt};case"SET_GENERATION_RESULT":return{...e,generationResult:t.generationResult};case"SET_GENERATION_DONE_STATE":return{...e,generationDoneState:t.doneState};default:(0,t4.xb)(t)}});function uf(){return(0,p.fp)(um)}function ux({currentAction:e}){let[,t]=uf(),i=function(e){switch(e){case cv.JT.CANVAS_GENERATE_IMAGE:return uu;case cv.JT.CREATE_IDEAS:return ul;default:(0,t4.xb)(e)}}(e),n=(0,cC.RL)(e,i),{state:r}=n,a=(0,cX.ZC)(r),s=(0,cX.ZC)(e);return l.useEffect(()=>{(r!==a||e!==s)&&t({type:"SET_LONG_RUNNING_ACTION",longRunningAction:n})},[e,t,n,s,a,r]),null}var u_=i(455748),ug=i(311375),ub=i(109758),uj=i(104740),uy=i(167249),uv=i(514229),uC=i(353086);function uT(){let e=(0,ug.Tv)(),t=(0,b.eY)(),i=(0,l.useRef)([]),n=(0,l.useRef)(null);return(0,l.useCallback)(async()=>{if(!(i.current.length!==e.length||!e.every(e=>i.current.includes(e)))&&n.current)return n.current;i.current=e;let r=await un(e,t),a=await uo(e,t),s={...r,...a};return n.current=s,s},[i,n,e,t])}function uE(){let[{currentAction:e}]=uf();return l.useMemo(()=>null!==e,[e])}function uS(e,t){let i=e.map(e=>t.get(e)?.absoluteBoundingBox).filter(e=>void 0!==e);if(0===i.length)return{x:0,y:0,width:0,height:0};let n=i[0].x,r=i[0].y,a=i[0].x+i[0].w,s=i[0].y+i[0].h;for(let e=1;e<i.length;e++){let t=i[e];n=Math.min(n,t.x),r=Math.min(r,t.y),a=Math.max(a,t.x+t.w),s=Math.max(s,t.y+t.h)}let o=a-n,l=s-r;return{x:n,y:r,width:o,height:l}}function uw(e,t){let i=uS(t,(0,cJ.UN)());U.l7.user("figjam ai canvas positioning",()=>{e.x=i.x+i.width+32,e.y=i.y})}function uI(){let e=(0,O._X)({subscribeToUpdates_expensive:!1}),t=(0,uj.Z)();return l.useCallback(i=>{let n=uS(i,(0,cJ.UN)()),r={x:e.offsetX-e.width/2/e.zoomScale,y:e.offsetY-e.height/2/e.zoomScale,width:e.width/e.zoomScale,height:e.height/e.zoomScale};if(!(r.x<=n.x)||!(r.y<=n.y)||!(r.x+r.width>=n.x+n.width)||!(r.y+r.height>=n.y+n.height)){if(n.width<=r.width&&n.height<=r.height){t({centerX:n.x+n.width/2,centerY:n.y+n.height/2,scale:e.zoomScale},{jumpOnAbort:!0});return}t({centerX:n.x+n.width/2,centerY:n.y+n.height/2,scale:.5*Math.min(e.width/n.width,e.height/n.height)},{jumpOnAbort:!0})}},[t,e])}function uL(e){return[e.x+e.width,e.y]}function uN(){return(0,C.ut)(c.Ez5?.figjamState().currentAICanvasInputNodeIds,[])}function uA(e){c.Ez5?.figjamState().currentAICanvasInputNodeIds.set(e)}function uO(){let{close:e}=(0,cF.cq)(),[{currentAction:t},i]=uf();return(0,l.useCallback)(()=>{t&&(0,cC.B3)(t),i({type:"RESET"}),e()},[e,i,t])}var uk=i(368426),uR=i(314264),uM=i(654860),uD=i(263077),uP=i(13082);function uU({action:e,value:t,onChange:i,suggestion:n,suggestionPills:r=[],promptHistory:a=[],recordingKey:s,featureNameForInstrumentation:c,minLength:u,header:p,aiTrackingContext:h,onRun:m}){let f=(0,l.useRef)(null),x=n&&t!==n&&n.startsWith(t),_=n?.slice(t.length)||"",g=t.length<=0,b=g&&r.length>0,j=a.length>0&&g,y=(0,d.Pj)().getState(),v=(0,cT.qI)(),C=document.activeElement?.tagName==="TEXTAREA";(0,cT.kz)(dF.Uz.TAB,e=>{x&&(!v||C)&&(e.preventDefault(),i(n),(0,uR.ds)("actions_prompt_tab_completed",y.openFile?.key,y,{feature:c,suggestion:n}))}),(0,uD.y)(t,f),(0,uM.z)();let T=(0,cG.Sg)(!0,!1);return(0,o.jsxs)("div",{className:"x1hmxfdi x9f619",children:[(0,o.jsx)("div",{className:"x6drftx",children:p}),(0,o.jsxs)("div",{className:e_()(eT.s.borderBox.p4.colorBg.wFull.flex.flexColumn.bRadius5.relative.$),onClick:()=>{let e=f?.current;e&&e.focus()},children:[(0,o.jsx)("div",{className:e_()(eT.s.flex.relative.overflowHidden.$,eE.Dm),children:(0,o.jsxs)("div",{className:eT.s.flex1.relative.font13.ml8.$,style:rY.sx.add({lineHeight:`${cG.$g}px`}).$,children:[(0,o.jsx)("div",{children:(0,o.jsx)(cG.gr,{ref:f,height:cG.OL,maxHeight:cG.OL,minLength:u,onChange:i,recordingKey:s,value:t,verticalPromptLayout:!0})}),x&&(0,o.jsxs)("div",{...ef.xk(uB.suggestionText,x?uB.promptBoxTextShimmer:null),style:T,children:[(0,o.jsx)("span",{className:eT.s.invisible.$,children:t}),(0,o.jsx)("span",{children:_}),x&&(0,o.jsx)("span",{className:eT.s.inlineFlex.itemsCenter.ml4.$,children:(0,o.jsx)(cG.qy,{})})]}),(0,o.jsx)("div",{className:eT.s.absolute.flex.flexRow.$,style:{top:4,right:4},children:(0,o.jsx)(uP.y,{helpUrlVariant:e})})]})}),(0,o.jsx)("div",{className:"x1swbamy",children:(0,o.jsxs)(cV.B,{fullWidth:!0,justify:b||j?"space-between":"end",children:[(b||j)&&(0,o.jsxs)(cV.B,{gap:8,children:[(0,o.jsx)(cG.nj,{promptHistory:a,onChange:i,textAreaRef:f}),r.map((e,t)=>(0,o.jsx)(e9.$n,{variant:"secondary",onClick:()=>{i(e.prompt),f.current?.focus(),c&&(0,uR.ds)("actions_prompt_suggestion_clicked",y.openFile?.key,y,{feature:c,suggestion:e.prompt})},children:e.label},t))]}),(0,o.jsx)(uF,{shortcuts:[{key:dF.Uz.ENTER,modifier:[dF.xH.META]}],onAction:e=>{h&&(0,cB.SX)({...h,...(0,cB.Q0)(e),interaction:cO.NI.GENERATE}),m()}})]})})]})]})}function uF({onAction:e,shortcuts:t}){return(0,cT.TH)(t||[],(t,i)=>{e&&(t.preventDefault(),e({shortcut:i,target:null}))},!!e),(0,o.jsx)(e4.E,{className:"x16rqkct x1f4uy0e xvy4d1p xxk0z11 x78zum5 x6s0dn4 xl56j7k x1gs6z28",onClick:()=>e({shortcut:null,target:null}),children:(0,o.jsx)(uk.d,{stroke:"white"})})}let uB={promptBoxTextShimmer:{WebkitMask:"x1h85hx6",mask:"xcg3dqn",maskClip:null,maskComposite:null,maskImage:null,maskMode:null,maskOrigin:null,maskPosition:null,maskRepeat:null,maskSize:null,backgroundRepeat:"xiy17q3",animationName:"x18zoeg8",animationDuration:"x1h5mrz9",animationIterationCount:"xa4qsjk",$$css:!0},suggestionText:{position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",userSelect:"x87ps6o",pointerEvents:"x47corl",color:"x3vvef7",overflowWrap:"xj0a0fe",$$css:!0}};function uH({selectedTab:e,onTabChange:t}){return(0,o.jsxs)("div",{className:"x78zum5 x1q0g3np x167g77z x1e56ztr",children:[(0,o.jsxs)("button",{...ef.xk(uW.tab("stickies"===e)),onClick:()=>t("stickies"),children:[(0,o.jsx)(cS.i,{}),(0,A.t)("figjam_ai.canvas.prompt_box.tab_stickies")]}),(0,o.jsxs)("button",{...ef.xk(uW.tab("image"===e)),onClick:()=>t("image"),children:[(0,o.jsx)(cw.s,{}),(0,A.t)("figjam_ai.canvas.prompt_box.tab_image")]})]})}let uV=(0,p.eU)("stickies");function uG(){let[e,t]=(0,p.fp)(uV),{promptHistory:i}=(0,cN.a)(ck.i,e=>e),n=(0,b.KH)();!function(){let[{longRunningAction:e,generationResult:t,currentAction:i}]=uf(),n=e?.state??cC.qy.INITIAL,r=uN(),a=(0,b.KH)(),s=(0,u_.$)(a),o=(0,u_.$)(i),d=uO(),c=(0,l.useMemo)(()=>{if(!i||o&&null!==i||n===cC.qy.RUNNING||n===cC.qy.CANCELLED)return!1;if(n===cC.qy.DONE&&t){let e=Object.keys(a),{generatedNodeIds:i}=t,n=r.some(t=>e.includes(t)),s=i.some(t=>e.includes(t));if(n||s)return!1}return!0},[o,i,n,t,a,r]);(0,l.useEffect)(()=>{s&&c&&d()},[s,c,d]),(0,cT.kz)(dF.Uz.ESCAPE,()=>{n!==cC.qy.RUNNING&&d()})}();let r=uO(),a=function(){let{addPromptToHistory:e}=(0,cN.a)(ck.i,e=>e),t=(0,cC.RL)(cv.JT.CREATE_IDEAS,ul),i=uT(),n=(0,b.eY)(),r=uI(),[{prompt:a},s]=uf();return l.useCallback(async({targetSourceNodeIds:o,generatedNodeIdsToReplace:l,shouldUpdateDoneState:d})=>{""!==a.trim()&&e(a);let{nodeTextContents:p,nodeImageContents:h,selectedNodes:m,otherRelevantNodes:f,pastPrompts:x}=await i();cL.wr();let _=a.trim();await t?.start({userPrompt:_,nodeTextContents:p,nodeImageContents:h,selectedNodes:m,otherRelevantNodes:f,pastPrompts:x,generateUserPromptFromTexts:!a.length&&!!u.k().figjam_ai_canvas_enhance_prompt,onGenerationCompleted:(e,t)=>{l&&l.length>0&&c.OhE?.deleteGeneratedNodes(l),u.k().figjam_ai_canvas_enhance_prompt&&t&&s({type:"SET_PROMPT",prompt:t}),s({type:"SET_GENERATION_RESULT",generationResult:function(e,t,i,n,r){let a=(0,u.k)().figjam_ai_canvas_noodles?c.OhE?.createStickiesFromStringsWithNoodles(e,t):c.OhE?.createStickiesFromStrings(e,t);if(a?.generatedNodeIds)for(let t of a?.generatedNodeIds){let r=n.get(t);r&&c9(r,{userPrompt:i,sourceNodeIds:e})}if(!(0,u.k)().figjam_ai_canvas_noodles&&a?.generatedNodeIds&&a?.generatedNodeIds.length>0&&n.get(a?.generatedNodeIds[0]??null)?.isSection){let t=n.get(a?.generatedNodeIds[0]??null);t&&(uw(t,e),r([...e,t.id]))}return{generationType:uh.STICKIES,generatedNodeIds:a?.generatedNodeIds??[]}}(o,e,_,n,r)}),d&&s({type:"SET_GENERATION_DONE_STATE",doneState:up.HIDE_PROMPT_BOX})}})},[a,i,t,e,n,r,s])}(),s=function(){let e=uT(),t=uI(),[{prompt:i},n]=uf(),r=(0,cC.RL)(cv.JT.CANVAS_GENERATE_IMAGE,uu),{receiveImage:a,imageFailed:s}=function(){let[{generationResult:e},t]=uf(),i=uT(),n=(0,l.useRef)(e);(0,l.useEffect)(()=>{n.current=e},[e]);let r=(0,l.useCallback)(()=>{t({type:"SET_GENERATION_RESULT",generationResult:e?.generationType===uh.IMAGE?{...e,imageResult:{state:"FAILURE"}}:e})},[t,e]);return{receiveImage:(0,l.useCallback)(async e=>{let r=(await i()).nodeTextContents.join("\n"),a=await (0,c1.UD)((0,rR.Vs)(e),"image/png",r);t({type:"SET_GENERATION_RESULT",generationResult:n.current?.generationType===uh.IMAGE?{...n.current,imageResult:{state:"SUCCESS",image:a}}:n.current})},[t,i]),imageFailed:r}}(),o=(0,ry.sZ)(),d=l.useMemo(()=>{let e=(0,uC.O)(cv.JT.GENERATE_IMAGE,o);return e[0]?.value},[o]),{addPromptToHistory:p}=(0,cN.a)(ck.i,e=>e);return l.useCallback(async({sourceNodeIds:o,generatedNodeIdsToReplace:l})=>{let{nodeImageContents:h,nodeTextContents:m,selectedNodes:f,otherRelevantNodes:x,pastPrompts:_}=await e();cL.wr(),""!==i.trim()&&p(i);let g=(0,uv.qq)({create:!0,selectTargetNode:!1,size:{x:480,y:480}});uw(g,o),n({type:"SET_GENERATION_RESULT",generationResult:{generationType:uh.IMAGE,generatedNodeIds:[g.id],imageResult:{state:"PENDING"}}});let b=(0,c5.qY)(g);t([...o,g.id]),l&&l.length>0&&c.OhE?.deleteGeneratedNodes(l);try{await r?.start({targetNode:g,dimensions:{width:g.size.x,height:g.size.y},images:[],prompt:i.trim(),imageContents:h,textContents:m,selectedNodes:f,otherRelevantNodes:x,pastPrompts:_,onImageSuccess:a,onImageFailed:s,action:cv.JT.GENERATE_IMAGE,modelType:d,shouldEnhancePrompt:!i.length&&u.k().figjam_ai_canvas_enhance_prompt,setEnhancedPrompt:e=>{u.k().figjam_ai_canvas_enhance_prompt&&e&&n({type:"SET_PROMPT",prompt:e})}})}catch(e){throw(0,ub.zD)({node:g}),e}finally{b()}},[e,i,t,p,r,a,s,d,n])}(),d=(0,l.useMemo)(()=>({stickies:{action:cv.JT.CREATE_IDEAS,runningText:(0,A.t)("figjam_ai.canvas.create_ideas.in_progress"),featureName:"create_ideas"},image:{action:cv.JT.CANVAS_GENERATE_IMAGE,runningText:(0,A.t)("image_ai.make_image.processing"),featureName:"generate_image"}}),[]),h=d[e],[{longRunningAction:m,prompt:f,generationResult:x,generationDoneState:_},g]=uf(),j=uN(),y=(0,l.useCallback)(e=>{g({type:"SET_PROMPT",prompt:e})},[g]),v=(0,l.useMemo)(()=>"stickies"===e?[{label:(0,A.t)("figjam_ai.canvas.prompt_box.more_ideas"),prompt:(0,A.t)("figjam_ai.canvas.prompt_box.give_more_ideas")},{label:(0,A.t)("figjam_ai.canvas.prompt_box.copy_inspirations"),prompt:(0,A.t)("figjam_ai.canvas.prompt_box.create_copy_inspirations")},{label:(0,A.t)("figjam_ai.canvas.prompt_box.user_stories"),prompt:(0,A.t)("figjam_ai.canvas.prompt_box.write_user_stories")}]:[{label:(0,A.t)("figjam_ai.canvas.prompt_box.mockup"),prompt:(0,A.t)("figjam_ai.canvas.prompt_box.mockup_prompt")},{label:(0,A.t)("figjam_ai.canvas.prompt_box.storyboard"),prompt:(0,A.t)("figjam_ai.canvas.prompt_box.draw_storyboard")},{label:(0,A.t)("figjam_ai.canvas.prompt_box.concept_image"),prompt:(0,A.t)("figjam_ai.canvas.prompt_box.make_concept_image")}],[e]),C=l.useMemo(()=>"stickies"===e?[{content:(0,A.t)("figjam_ai.canvas.create_ideas.five_more_wild_ideas")}]:[{content:(0,A.t)("figjam_ai.canvas.prompt_box.make_image")}],[e]),T=(0,cA.U)(C),E=(0,l.useCallback)(async()=>{let t=Object.keys(n);uA(t),"stickies"===e?await a({targetSourceNodeIds:t}):await s({sourceNodeIds:t})},[n,e,a,s]),S=(0,l.useCallback)(async()=>{if(!x)return;let t=Object.keys(n);if(uA(t),"stickies"===e){if(x.generationType!==uh.STICKIES)return;await a({targetSourceNodeIds:t,generatedNodeIdsToReplace:x.generatedNodeIds,shouldUpdateDoneState:!0})}else{if(x.generationType!==uh.IMAGE)return;let e=x?.generatedNodeIds??[];await s({sourceNodeIds:t,generatedNodeIdsToReplace:e})}},[x,n,e,a,s]),w=uI(),I=(0,l.useCallback)(()=>{cL.tJ(j),_===up.HIDE_PROMPT_BOX?(x&&(cL.tJ(j),w(j)),g({type:"SET_GENERATION_DONE_STATE",doneState:up.SHOW_PROMPT_BOX})):(g({type:"SET_GENERATION_DONE_STATE",doneState:up.HIDE_PROMPT_BOX}),S())},[j,_,x,g,w,S]),L=(0,l.useCallback)(()=>{},[]),N=cC.qy.INITIAL;m&&(L=m.stop,N=m.state);let O=(0,l.useCallback)(()=>{L(),cL.tJ(j),uA([])},[j,L]);(0,l.useEffect)(()=>{N===cC.qy.INITIAL&&g({type:"SET_GENERATION_DONE_STATE",doneState:up.HIDE_PROMPT_BOX})},[N,g]);let k=(0,l.useCallback)(e=>{L(),(0,cC.B3)(cv.JT.CREATE_IDEAS),(0,cC.B3)(cv.JT.CANVAS_GENERATE_IMAGE),t(e),g({type:"SET_CURRENT_ACTION",action:d[e].action})},[g,t,L,d]);if((0,l.useEffect)(()=>{(N===cC.qy.INITIAL||N===cC.qy.CANCELLED)&&((0,cC.B3)(cv.JT.CREATE_IDEAS),(0,cC.B3)(cv.JT.CANVAS_GENERATE_IMAGE),g({type:"SET_CURRENT_ACTION",action:h.action}))},[N,g,h.action]),(0,l.useEffect)(()=>{N===cC.qy.CANCELLED&&("image"===e&&x?.generationType===uh.IMAGE&&x.generatedNodeIds.length>0&&c.OhE?.deleteGeneratedNodes(x.generatedNodeIds),(0,cC.B3)(h.action))},[N,e,h.action,x?.generatedNodeIds,x?.generationType]),!m)return null;let R=m.aiTrackingContext;switch(N){case cC.qy.INITIAL:return(0,o.jsx)(uU,{action:h.action,aiTrackingContext:R,featureNameForInstrumentation:h.featureName,header:(0,o.jsx)(uH,{selectedTab:e,onTabChange:k}),minLength:0,onChange:y,onRun:E,promptHistory:i,recordingKey:"canvas-unified-ai-action-view-initial",suggestion:T,suggestionPills:v,value:f});case cC.qy.RUNNING:return(0,o.jsx)(cq.F,{onCancel:O,aiTrackingContext:R,children:h.runningText});case cC.qy.DONE:return(0,o.jsx)(cZ,{action:h.action,aiTrackingContext:{...R,iteration_view_type:cO.$J.SUCCESS_WITH_ITERATION},completionString:(0,A.t)("ai.done"),featureNameForInstrumentation:h.featureName,hideFeedbackButtons:_===up.SHOW_PROMPT_BOX,iterateOptions:[],minLength:0,onChange:y,onDismiss:r,onRun:I,prompt:f,promptHistory:i,showPrompt:_===up.SHOW_PROMPT_BOX,submitLabel:_===up.HIDE_PROMPT_BOX?(0,A.t)("figjam_ai.canvas.create_ideas.add_more_context"):(0,A.t)("figjam_ai.canvas.create_ideas.start"),suggestion:""});case cC.qy.ERROR:return(0,o.jsx)(cR.E,{error:m.error,aiTrackingContext:R,onDismiss:r});case cC.qy.CANCELLED:return null;default:(0,t4.xb)(N)}}let uW={tab:e=>[{paddingLeft:"xj9uezu",paddingRight:"xy13l1i",paddingInlineStart:null,paddingInlineEnd:null,borderRadius:"x1sxf85j",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,display:"x78zum5",flexDirection:"x1q0g3np",alignItems:"x6s0dn4",justifyContent:"xl56j7k",color:(e?cI.Tj.textFigjam:cI.Tj.textSecondary)==null?null:"xfx01vb",backgroundColor:(e?cI.Tj.bgFigjamTertiary:null)==null?null:"xr5ldyu","--color-icon":(e?cI.Tj.iconFigjam:cI.Tj.iconSecondary)==null?null:"xhxir3b",...te.g.textBodyMedium,$$css:!0},{"--color":(e?cI.Tj.textFigjam:cI.Tj.textSecondary)!=null?e?cI.Tj.textFigjam:cI.Tj.textSecondary:void 0,"--backgroundColor":(e?cI.Tj.bgFigjamTertiary:null)!=null?e?cI.Tj.bgFigjamTertiary:null:void 0,"----color-icon":(e?cI.Tj.iconFigjam:cI.Tj.iconSecondary)!=null?e?cI.Tj.iconFigjam:cI.Tj.iconSecondary:void 0}]};function uK({isHovered:e}){return(0,o.jsx)("svg",{style:{fill:e?"var(--color-icon-onbrand)":"var(--color-icon-figjam)",zIndex:1},width:"14",height:"14",viewBox:"0 0 14 14",children:(0,o.jsx)("path",{d:"M5.83447 1.30095C6.23643 0.239814 7.76365 0.239726 8.16552 1.30095L8.20165 1.41131L9.17822 4.82341L12.5972 5.79802L12.7065 5.83416C13.7701 6.23512 13.7701 7.76526 12.7065 8.16619L12.5972 8.20232L9.17822 9.17595L8.20165 12.589C7.86658 13.7593 6.24939 13.7958 5.83447 12.6984L5.79833 12.589L4.8208 9.17595L1.40283 8.20232C0.193214 7.85738 0.193183 6.14293 1.40283 5.79802L4.8208 4.82341L5.79833 1.41131L5.83447 1.30095ZM1.67626 7.24041L5.4956 8.32927L1.67724 7.24041C1.67568 7.23996 1.6739 7.23892 1.67236 7.23845C1.67373 7.23887 1.67488 7.24001 1.67626 7.24041ZM1.8247 6.71697L1.67626 6.75994C1.67497 6.76031 1.67364 6.76053 1.67236 6.76091C1.67381 6.76047 1.67577 6.76036 1.67724 6.75994L5.4956 5.67107L1.8247 6.71697ZM12.3227 6.75994L12.1733 6.71697L8.50341 5.67107L12.3227 6.75994Z"})})}function uz(){return(0,o.jsx)("svg",{width:"360",height:"159",viewBox:"0 0 360 159",fill:"none",children:(0,o.jsxs)("g",{opacity:"0.7",children:[(0,o.jsx)("path",{d:"M0 13C0 5.8203 5.8203 0 13 0L347 0C354.18 0 360 5.8203 360 13V146C360 153.18 354.18 159 347 159L13 159C5.8203 159 0 153.18 0 146L0 13Z",fill:"white"}),(0,o.jsx)("path",{d:"M17 11.5L343 11.5C345.485 11.5 347.5 13.5147 347.5 16V106C347.5 108.485 345.485 110.5 343 110.5L17 110.5C14.5147 110.5 12.5 108.485 12.5 106L12.5 16C12.5 13.5147 14.5147 11.5 17 11.5Z",fill:"#F5F5F5",stroke:"#E6E6E6"}),(0,o.jsx)("path",{d:"M12 128C12 125.239 14.2386 123 17 123H31C33.7614 123 36 125.239 36 128V142C36 144.761 33.7614 147 31 147H17C14.2386 147 12 144.761 12 142L12 128Z",fill:"#E6E6E6"}),(0,o.jsx)("path",{d:"M48 128C48 125.239 50.2386 123 53 123L104 123C106.761 123 109 125.239 109 128V142C109 144.761 106.761 147 104 147H53C50.2386 147 48 144.761 48 142V128Z",fill:"#E6E6E6"}),(0,o.jsx)("path",{d:"M31 26C31 24.8954 31.8954 24 33 24L120 24C121.105 24 122 24.8954 122 26V34C122 35.1046 121.105 36 120 36L33 36C31.8954 36 31 35.1046 31 34V26Z",fill:"#D9D9D9"}),(0,o.jsx)("rect",{x:"320",y:"119",width:"28",height:"28",rx:"14",fill:"#8638E5"}),(0,o.jsx)("g",{style:{mixBlendMode:"multiply"},children:(0,o.jsx)("rect",{x:"25",y:"21",width:"2",height:"18",rx:"1",fill:"#8638E5"})})]})})}function uZ({isHovered:e,setIsHovered:t}){let[{currentAction:i},n]=uf(),r=(0,l.useCallback)(()=>{i&&(0,cC.B3)(i),(0,cC.B3)(cv.JT.CREATE_IDEAS),n({type:"SET_CURRENT_ACTION",action:cv.JT.CREATE_IDEAS})},[i,n]);return(0,o.jsxs)("div",{className:"x1vqgdyp x100vrsf x78zum5 xl56j7k x6s0dn4 x1n2onr6",children:[(0,o.jsx)("button",{className:"x1vqgdyp x100vrsf x78zum5 xl56j7k x6s0dn4 x10l6tqk x13vifvy xu96u03 x71s49j",onMouseOver:()=>{t(!0)},onMouseLeave:()=>{t(!1)},onClick:r,style:{cursor:"pointer",background:"transparent",border:"none",padding:0},"aria-label":(0,A.t)("figjam_ai.canvas.overlay_label"),"data-fullscreen-intercept":!0,children:(0,o.jsx)("div",{...ef.Ay.props(uQ.buttonBackgroundCircle(e))})}),(0,o.jsx)(uK,{isHovered:e})]})}function u$(){let[{currentAction:e}]=uf();return(0,o.jsxs)(o.Fragment,{children:[e&&(0,o.jsx)(ux,{currentAction:e}),(0,o.jsx)(uX,{}),(0,o.jsx)(uJ,{})]})}function uY({isHovered:e,setIsEntrypointHovered:t}){return(0,o.jsx)("div",{className:"x1n2onr6 xg7h5cd",children:(0,o.jsx)(uZ,{isHovered:e,setIsHovered:t})})}function uq(){let[e,t]=l.useState(!1);return(0,o.jsxs)("div",{className:"x1n2onr6 x78zum5 xg7h5cd x5ttheu x1jc569q",children:[(0,o.jsx)(uY,{isHovered:e,setIsEntrypointHovered:t}),e&&(0,o.jsx)("div",{className:"x1iog12x",children:(0,o.jsx)(uz,{})})]})}function uX(){let e=function(){let e=(0,d.d4)(({mirror:{appModel:e}})=>e.showUi),t=(0,b.KH)(),i=(0,uy.Fk)((e,t)=>{let i=Object.keys(t),n=i.length>0,r=i.map(e=>c.OhE?.getCanvasAiElibilityForNode(e)??c.AP3.Ineligible);return n&&r.includes(c.AP3.Eligible)&&!r.includes(c.AP3.Ineligible)},t),n=uE(),r=function(e){let t=uN();return(0,uy.Fk)((e,t,i)=>{let n=Object.keys(t);return n.length>0&&i.length>0&&i.some(e=>n.includes(e))},e,t)}(t),a=(0,d.d4)(({mirror:{appModel:e}})=>[c.QOV.DEFAULT,c.QOV.SELECTING_TEXT,c.QOV.CLICKING_TO_CHANGE_SELECTION].includes(e.activeUserAction)),s=(0,d.d4)(({mirror:{appModel:e}})=>e.activeCanvasEditModeType),o=(0,uy.Fk)((e,t,i)=>{let n=Object.keys(t);return i===c.m1T.TEXT&&n.some(t=>e.get(t)?.isStickyText)},t,s);return(!n||!r)&&e&&(i||o)&&a}(),t=(0,O._X)({subscribeToUpdates_expensive:e}),i=function(e){let t=(0,O._X)({subscribeToUpdates_expensive:e}),i=(0,C.ut)(c.Ez5?.canvasViewState().selectionBoundingRect,{x:0,y:0,width:0,height:0});return l.useMemo(()=>(0,O.Yb)(t,i),[t,i])}(e);return!e||t.zoomScale<.35?null:(0,o.jsx)(nI.lM,{targetRect:i,positionXY:uL,children:(0,o.jsx)(cy.m,{role:"region","aria-label":(0,A.t)("figjam_ai.canvas.overlay_label"),children:(0,o.jsx)(uq,{})})})}function uJ(){!function(){let[{generationResult:e}]=uf();(0,l.useEffect)(()=>{if(e?.generationType!==uh.IMAGE)return;let t=e.generatedNodeIds,i=1===t.length?(0,cJ.UN)().get(t[0]||null):null;i&&"SUCCESS"===e.imageResult.state&&(0,c2.Xo)({node:i,image:e.imageResult.image,action:cv.JT.GENERATE_IMAGE})},[e])}();let e=Object.keys((0,b.KH)()),t=function(){let e=(0,d.d4)(({mirror:{appModel:e}})=>e.showUi),t=uE();return e&&t}(),i=(0,b.dH)(),n=function(e,t){let i=(0,O._X)({subscribeToUpdates_expensive:e}),n=(0,uy.Fk)((e,t)=>uS(t??[],e),t);return l.useMemo(()=>(0,O.Yb)(i,n),[i,n])}(t,e),[{currentAction:r,longRunningAction:a,generationDoneState:s}]=uf(),u=a?.state??cC.qy.INITIAL;return((0,l.useEffect)(()=>{let e=u===cC.qy.INITIAL||u===cC.qy.DONE&&s===up.SHOW_PROMPT_BOX;null!==r&&e?c.Ez5?.figjamState().isInCanvasAiMode.set(!0):c.Ez5?.figjamState().isInCanvasAiMode.set(!1)},[r,u,s]),(0,l.useEffect)(()=>{c.Ez5?.figjamState().isInCanvasAiMode.set(!1)},[i]),t&&n&&r)?u===cC.qy.RUNNING||u===cC.qy.DONE||u===cC.qy.ERROR?(0,o.jsx)(cE.p,{children:(0,o.jsx)(cT.s3,{name:"figjamAICanvas",recordingKey:"figjamAICanvas",forwardUnhandledEventsToFullscreen:!0,children:(0,o.jsx)(uG,{})})}):(0,o.jsx)(nI.lM,{targetRect:n,positionXY:uL,children:(0,o.jsx)(cy.m,{role:"region","aria-label":(0,A.t)("figjam_ai.canvas.overlay_label"),children:(0,o.jsx)(cT.s3,{name:"figjamAICanvas",recordingKey:"figjamAICanvas",forwardUnhandledEventsToFullscreen:!0,children:(0,o.jsx)("div",{...ef.Ay.props(uQ.promptView,u===cC.qy.INITIAL&&uQ.withMarginLeft),children:(0,o.jsx)(uG,{})})})})}):(0,o.jsx)(o.Fragment,{})}let uQ={buttonBackgroundCircle:e=>[{pointerEvents:"x67bb7w",height:"xxk0z11",width:"xvy4d1p",borderRadius:"x16rqkct",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,outline:"x1sdedzc",outlineColor:null,outlineStyle:null,outlineWidth:null,outlineOffset:"x1g40iwv",backgroundColor:"xr5ldyu",display:"x1hq8ynl",justifyContent:"xl56j7k",alignItems:"x6s0dn4",animationName:"x1dq9r3j",animationDuration:"x5hsz1j",animationTimingFunction:"xvvy8qz",$$css:!0},{"--backgroundColor":e?"var(--color-icon-figjam)":"var(--color-icon-onbrand)"}],promptView:{pointerEvents:"x67bb7w",width:"x3p9ev8",background:"x1qfvsp",backgroundAttachment:null,backgroundClip:null,backgroundColor:null,backgroundImage:null,backgroundOrigin:null,backgroundPosition:null,backgroundPositionX:null,backgroundPositionY:null,backgroundRepeat:null,backgroundSize:null,borderRadius:"x137qmg1",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,boxShadow:"xbxdop8",$$css:!0},withMarginLeft:{marginLeft:"x1czzo2b",marginInlineStart:null,marginInlineEnd:null,$$css:!0}};var u0=i(718764),u1=i(57692),u2=i(678782),u3=i(275640),u5=i(185998),u6=i(614223),u4=i(216495);function u9(e){let[t,i]=(0,u3.lJ)("accessibleLabel"),[n,r]=(0,l.useState)(t),{setIsEditorOpen:a}=e,s=l.useId(),c=(0,d.wA)(),p=(0,d.d4)(e=>e.userFlags.seen_alt_text_explanation),h=l.useCallback(()=>{!p&&n&&c(V.b({seen_alt_text_explanation:!0}))},[p,n,c]),m=l.useCallback(e=>{r(e.target.value),i(e.target.value)},[r,i]),f=l.useCallback(e=>{r(e),i(e)},[r,i]),x=l.useCallback(e=>{"Enter"===e.key&&(a(!1),h())},[a,h]),_=p?"image_description_editor--popup--l-kiW _overlayBase--_overlayBase--Rkj8l":"image_description_editor--popupWithExplanation--0XudB image_description_editor--popup--l-kiW _overlayBase--_overlayBase--Rkj8l",g=n&&!(0,u4.gl)(n)?n:"",b=(0,A.t)("whiteboard.inline_menu.image_description_placeholder");return(0,o.jsxs)(o.Fragment,{children:[!p&&(0,o.jsx)("div",{className:"image_description_editor--explanation--JK2UL",children:(0,A.tx)("whiteboard.inline_menu.image_description_explanation")}),(0,o.jsx)("div",{className:`${_} ${eE.Dm}`,children:(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)("div",{className:"xt7dq6l xs1vzh6 xfifm61",children:(0,o.jsx)(u6.J,{mode:"dark",children:(0,o.jsx)(u5.p,{id:s,value:g,onChange:f,onKeyDown:x,onClick:h,placeholder:b,autoFocus:!0,size:"lg"})})}):(0,o.jsx)("input",{className:"image_description_editor--input--GzlDz input--darkInput--zfbnG",value:g,onChange:m,onKeyDown:x,onClick:h,placeholder:b,autoComplete:"off",autoCapitalize:"off",autoFocus:!0})})]})}var u8=i(978258),u7=i(447445),pe=i(382883),pt=i(249071),pi=i(512402),pn=i(701001),pr=i(792783),pa=i(50769),ps=i(43374),po=i(942553),pl=i(340893),pd=i(967857),pc=i(95419),pu=i(860955),pp=i(963340);let ph=(0,l.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",d:"M3.253 18.433H2L6.762 5.342H8.04l4.763 13.09H11.55L7.446 6.896h-.09zm.901-5.018h6.494v1.074H4.154zm13.398 5.241a3.8 3.8 0 0 1-1.624-.345 2.84 2.84 0 0 1-1.17-1.01q-.434-.665-.434-1.61 0-.729.275-1.228.274-.498.78-.818a4.3 4.3 0 0 1 1.195-.505 11 11 0 0 1 1.521-.288q.825-.102 1.394-.178.575-.078.875-.243.3-.166.3-.537v-.23q0-1.004-.6-1.58-.594-.58-1.713-.581-1.061 0-1.732.467-.666.465-.934 1.1l-1.08-.39q.332-.806.92-1.286.59-.486 1.317-.696a5.1 5.1 0 0 1 1.477-.218q.563 0 1.17.147.613.147 1.137.512.525.358.85 1.003.327.64.327 1.624v6.667h-1.138v-1.554h-.07a3.15 3.15 0 0 1-1.617 1.515q-.608.262-1.426.262m.153-1.041q.908 0 1.573-.403a2.76 2.76 0 0 0 1.022-1.068q.365-.671.365-1.476v-1.42q-.128.123-.428.218a6 6 0 0 1-.684.173 16 16 0 0 1-.768.121l-.69.09a6.4 6.4 0 0 0-1.419.32q-.588.216-.901.6-.313.377-.313.972 0 .894.639 1.387.639.486 1.604.485"})})}),pm=(0,l.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",d:"M6.696 5.28h1.449l4.433 12.328 1.148.159v.76h-4.31v-.76l1.555-.16-.936-2.808H4.524l-.936 2.791 1.572.177v.76H1.186v-.76l1.13-.16zM7.721 8l-.495-1.68-.476 1.732-1.925 5.829h4.893zm6.669 7.947q0-1.713 1.695-2.472 1.695-.777 4.221-.83v-.548q0-.9-.194-1.413-.177-.53-.636-.76-.459-.246-1.29-.247-.9 0-1.642.283a9.6 9.6 0 0 0-1.413.653l-.389-.777q.194-.177.813-.494a9 9 0 0 1 1.413-.566 5.2 5.2 0 0 1 1.537-.247q1.2 0 1.89.336.706.336 1.006 1.077.318.742.318 1.996v5.829h1.095v.653q-.971.265-1.642.265-.424 0-.583-.141-.16-.125-.16-.6v-.654a8.6 8.6 0 0 1-1.394 1.007q-.742.423-1.696.424-1.271 0-2.12-.707-.83-.707-.83-2.067m3.479 1.731q.495 0 1.183-.318.69-.318 1.254-.759v-3.126q-2.137.017-3.25.636-1.095.618-1.095 1.66 0 1.007.512 1.466.513.441 1.396.441"})})}),pf=(0,l.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",d:"m9.285 14.922 1.17 3.68h1.087L7.282 5.405h-.979L2.016 18.602h1.088l1.17-3.68zm-4.704-.97 2.212-6.915 2.193 6.915zm17.403-.571v-2.755a8.6 8.6 0 0 0-.345-2.402q-.326-1.142-1.024-1.876a3.4 3.4 0 0 0-1.196-.834q-.708-.3-1.586-.3-1.07 0-1.85.427-.77.417-1.277 1.15a5.2 5.2 0 0 0-.77 1.732 8.5 8.5 0 0 0-.255 2.103v2.755q0 1.278.327 2.402.335 1.125 1.07 1.885.498.544 1.196.834.697.282 1.577.281 1.078 0 1.858-.426.78-.435 1.278-1.169t.743-1.713q.255-.979.254-2.094m-7.115.789a9.5 9.5 0 0 1-.11-1.414v-2.311q0-.898.182-1.732.19-.833.59-1.386.39-.562.933-.87.553-.309 1.369-.309.634 0 1.124.2.49.19.842.553.355.361.58.87.236.498.354 1.115zm6.036-.617a8 8 0 0 1-.19 1.713 3.7 3.7 0 0 1-.59 1.396 2.6 2.6 0 0 1-.915.87q-.561.327-1.36.327-.616 0-1.096-.182a2.6 2.6 0 0 1-.825-.525 3 3 0 0 1-.607-.834 5 5 0 0 1-.363-1.097l5.855-5.275q.046.345.064.761t.027.707z"})})}),px=(0,l.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",d:"M1.991 19.691q-.395-.22-.44-.484-.022-.264.308-.924t1.034-2.046q.528-.99.792-1.54.286-.572.374-.814.11-.242.11-.308-.044-.198.044-.308a.65.65 0 0 1 .286-.22 7 7 0 0 0 .352-.396q.264-.285.484-.682.198-.462.462-.946.263-.484.704-1.21l1.144-1.936q.44-.77.968-1.562.528-.814 1.122-1.606.243-.308.44-.484.198-.197.396-.176.264 0 .594.176.353.176.638.462t.418.616q.11.176.088.748-.021.572-.088 1.386a126 126 0 0 1-.154 1.738q-.066.902-.198 2.134t-.264 2.574q-.11 1.342-.176 2.596-.066 1.232 0 2.156a1.6 1.6 0 0 1 0 .374 2 2 0 0 0-.022.286q-.132.132-.44.11-.285 0-.572-.132-.264-.132-.308-.33a.33.33 0 0 1-.088-.176q0-.132.022-.528.023-.396.044-1.254l.11-3.564-.286.022q-.198 0-.748.044-.549.044-1.188.132-.637.066-1.188.154-.528.066-.726.132-.198 0-.484.264a3.3 3.3 0 0 0-.506.682 2.3 2.3 0 0 1-.33.66q-.22.33-.22.44-.153.11-.264.264l-.088.154q0 .132-.22.66-.197.506-.506 1.144-.307.616-.616 1.078l-.462.704zm4.554-7.084.22-.044q.243-.045.55-.088.33-.066.594-.066a20 20 0 0 1 1.342-.286q.419-.088.572-.088a.7.7 0 0 1 .308.066q.088.11.154.132l.088.022q.023-.044.066-.506l.11-1.144q.088-.682.154-1.408.088-.748.132-1.364l.066-.968q.023-.418.044-.748l.022-.352q-.132 0-.572.484-.417.484-.946 1.276a17 17 0 0 0-.99 1.694q-.22.418-.418.748t-.308.33q-.044.044-.264.396-.197.33-.44.77a8 8 0 0 0-.396.77q-.154.33-.088.374m7.325 5.566a.66.66 0 0 0-.22-.264q-.132-.11-.132-.198a.7.7 0 0 0-.022-.176q0-.11-.088-.198-.11-.132.022-.594.132-.484.44-1.166.309-.704.726-1.474.176-.176.352-.462.175-.285.264-.374 0-.088.066-.154.066-.088.154-.088v-.132q0-.11.198-.374.22-.264.528-.572.308-.33.638-.616.33-.308.55-.44.462-.308.946-.374.506-.066.858.22l.22.22.352.352q.22.176.44.374l.814.726-.396 1.1q-.286.88-.154 1.54.155.66.44 1.144.11.242.44.462.352.22.66.264a.7.7 0 0 1 .33.132q.154.11.154.352 0 .22-.088.352-.087.132-.308.176a1.93 1.93 0 0 1-1.364-.352q-.616-.44-1.144-1.452a3.6 3.6 0 0 1-.242-.484q-.133-.374-.154-.484l-.33.418q-.242.285-.374.418-1.562 1.584-2.706 2.134-1.122.528-1.87.044m.792-1.232q0 .155.462 0 .484-.176 1.034-.616.748-.638 1.496-1.408.77-.77 1.232-1.43l.484-.792q-.22-.506-.484-.682-.241-.198-.418-.198-.286 0-.858.528-.549.528-1.188 1.408a17.5 17.5 0 0 0-1.21 1.936q-.219.44-.396.858z"})})});var p_=i(67145),pg=i(880308),pb=i(363242),pj=i(794875),py=i(144634),pv=i(439493),pC=i(769101);let pT="font_family_control--dotOption--dSxZU";var pE=i(325101),pS=i(830323),pw=i(894028),pI=i(952632),pL=i(869552),pN=i(445748),pA=i(415790),pO=i(724074);class pk extends pj.c${}var pR=(e=>(e.SANS_SERIF="sansSerif",e.SERIF="serif",e.MONOSPACE="monospace",e.SCRIPT="script",e))(pR||{});let pM=(0,o.jsx)(ph,{}),pD={sansSerif:{getLabel:()=>(0,A.t)("whiteboard.fonts.simple"),fontFamily:"Inter",icon:pS.A,fplIcon:(0,o.jsx)(ph,{})},serif:{getLabel:()=>(0,A.t)("whiteboard.fonts.bookish"),fontFamily:"Merriweather",icon:pA.A,fplIcon:(0,o.jsx)(pm,{})},monospace:{getLabel:()=>(0,A.t)("whiteboard.fonts.technical"),fontFamily:"Roboto Mono",icon:pw.A,fplIcon:(0,o.jsx)(pf,{})},script:{getLabel:()=>(0,A.t)("whiteboard.fonts.cute"),fontFamily:"Figma Hand",icon:pL.A,fplIcon:(0,o.jsx)(px,{})}};function pP(){return new Set(Object.values(pD).map(e=>e.fontFamily))}let pU=e=>Object.values(pD).find(t=>e===t.fontFamily),pF=e=>e.filter(e=>!pP().has(e)).sort((e,t)=>e<t?-1:1).slice(0,5),pB=e=>{if(1!==e.length||void 0===e[0])return;let t=pU(e[0]);return t?.getLabel()},pH=e=>{if(1!==e.length||void 0===e[0])return pS.A;let t=pU(e[0]);return t?.icon||pS.A},pV=e=>{if(1!==e.length||void 0===e[0])return pM;let t=pU(e[0]);return t?.fplIcon||pM},pG=(e,t)=>{if(t){if(e===pD.monospace.fontFamily)return pI.A;if(e===pD.script.fontFamily)return pN.A;if(e===pD.serif.fontFamily)return pO.A}};function pW({reportWidth:e,value:t,optionProps:i}){let n=l.useRef(null);return l.useLayoutEffect(()=>{let i=n.current;return i&&e(t,i.getBoundingClientRect().width),()=>e(t,void 0)},[n,t,e,i.svg]),(0,o.jsx)("div",{className:"font_family_control--offscreenMeasurementContainer--owMGS","aria-hidden":!0,children:(0,o.jsx)(pk,{...i,additionalStylesClassName:e_()(i.additionalStylesClassName,"font_family_control--optionForMeasurement--HH-4F"),forwardedRef:n})})}var pK=i(325158),pz=i(513745),pZ=i(568293),p$=i(459096),pY=i(874849),pq=i(399133),pX=i(821223),pJ=i(613182),pQ=i(691059),p0=i(575478),p1=i(932270);function p2({onChange:e,options:t,tooltip:i,ariaLabel:n,buttonContent:r,disabled:a=!1,recordingKey:s,dataTestId:d,trackingProperties:c,menuAriaLabel:u}){let[p,h]=l.useState(!1),{getTriggerProps:m,getContainerProps:f}=pQ.fP({isOpen:p,onOpenChange:h,type:"menu",placement:"top"}),x=l.useCallback(t=>{e(t),h(!1)},[e,h]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(py.V,{variant:"menu",tooltip:i,ariaLabel:n,disabled:a,recordingKey:s,dataTestId:d,trackingProperties:c,getPopoverTriggerProps:m,children:r}),(0,o.jsx)(pQ.mc,{className:"xon4yw5 x1u3p76b x19y5rnk x78zum5 x1q0g3np xeq5yr9 x6s0dn4 xb3r6kr",...f({}),children:(0,o.jsx)(u1.N,{orientation:"horizontal","aria-label":u||i,className:"xon4yw5 x1u3p76b x19y5rnk x78zum5 x1q0g3np xeq5yr9 x6s0dn4 xb3r6kr",children:(0,o.jsx)(p0.bL,{onChange:x,legend:(0,o.jsx)(p1.q,{children:u||i}),readonly:a,recordingKey:e2.Pt(s,"radioOptions"),children:(0,o.jsx)("div",{className:"inline_toolbar_menu--optionContainer--jjLSi",children:t.map(e=>(0,o.jsx)(p0.c$,{value:e.value,"aria-label":e.label,readonly:e.disabled||a||void 0,...ef.xk(p3.option,e.isSelected&&p3.optionSelected,(e.disabled||a)&&p3.optionDisabled),htmlAttributes:{"data-tooltip":e.disabled?void 0:e.label,"data-tooltip-show-above":"true","data-tooltip-type":ii.Ib.TEXT,"data-tooltip-shortcut-key":e.shortcutKey},children:(0,o.jsx)("div",{className:"x78zum5 x6s0dn4 xl56j7k x100vrsf x1vqgdyp","aria-hidden":!0,children:e.content})},e.value))})})})})]})}let p3={option:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"x100vrsf",height:"x1vqgdyp",cursor:"x1ypdohk",border:"x1gs6z28",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,backgroundColor:"xjbqb8w",fill:"x11h9p1v","--color-icon":"x30jfuo","--color-icon-tertiary":"x1hk3a5i",color:"xkrz9af",position:"x1n2onr6",boxSizing:"x1afcbsf",":hover_backgroundColor":"x1793mbz",":hover_fill":"x1qnvb1m",":hover_color":"x14vgbwh",":has(:focus-visible)_outline":"x104mfq1",":has(:focus-visible)_outlineColor":null,":has(:focus-visible)_outlineStyle":null,":has(:focus-visible)_outlineWidth":null,":has(:focus-visible)_outlineOffset":"x1h3at1i",$$css:!0},optionSelected:{backgroundColor:"x3vy5ar",fill:"x1izjc7m","--color-icon":"x7vbk4z",color:"x1g8r3bf",":hover_backgroundColor":"x1uy4bra",":hover_fill":"xbbycpj",":hover_color":"x1j6599z",$$css:!0},optionDisabled:{fill:"xcvvleq",color:"xyqngj2",cursor:"xt0e3qv",":hover_backgroundColor":"x1n5bzlp",":hover_fill":"xmof37z",":hover_color":"xf1th98",$$css:!0}};var p5=i(226895),p6=i(413459),p4=i(687403),p9=i(32481),p8=i(312185),p7=i(848964);function he(e){let t=ht(e);t&&ty.Y5.triggerAction(t)}function ht(e){switch(e){case"LEFT":return"text-align-left";case"CENTER":return"text-align-center";case"RIGHT":return"text-align-right"}return""}function hi(e){switch(e){case"LEFT":break;case"CENTER":return p9.A;case"RIGHT":return p7.A}return p8.A}function hn(e){let t=hr(e);t&&ty.Y5.triggerAction(t)}function hr(e){switch(e){case"TOP":return"text-align-top";case"CENTER":return"text-align-middle";case"BOTTOM":return"text-align-bottom"}return""}function ha(e){switch(e){case"TOP":return p6.A;case"CENTER":break;case"BOTTOM":return p5.A}return p4.A}var hs=i(71149),ho=i(975811),hl=i(258517),hd=i(203369),hc=i(639798);let hu=pj.l6,hp=pj.c$;var hh=(e=>(e[e.HUGE=96]="HUGE",e[e.EXTRA_LARGE=64]="EXTRA_LARGE",e[e.LARGE=40]="LARGE",e[e.MEDIUM=24]="MEDIUM",e[e.SMALL=16]="SMALL",e))(hh||{});let hm=[16,24,40,64,96],hf=new Set(hm),hx=e=>e>=64?40:32,h_=e=>(0,hs.p)({96:18,64:16,40:14,24:13,16:12}[e],"neg"),hg={omnipresent:{getLabel:()=>(0,A.t)("whiteboard.text_sizes.omnipresent"),maxValue:1/0,minValue:1385},towering:{getLabel:()=>(0,A.t)("whiteboard.text_sizes.towering"),maxValue:1384,minValue:745},mammoth:{getLabel:()=>(0,A.t)("whiteboard.text_sizes.mammoth"),maxValue:744,minValue:377},ginormous:{getLabel:()=>(0,A.t)("whiteboard.text_sizes.ginormous"),maxValue:376,minValue:185},huge:{getLabel:()=>(0,A.t)("whiteboard.text_sizes.huge"),maxValue:96,minValue:96},extraLarge:{getLabel:()=>(0,A.t)("whiteboard.text_sizes.extra_large"),maxValue:64,minValue:64},large:{getLabel:()=>(0,A.t)("whiteboard.text_sizes.large"),maxValue:40,minValue:40},medium:{getLabel:()=>(0,A.t)("whiteboard.text_sizes.medium"),maxValue:24,minValue:24},small:{getLabel:()=>(0,A.t)("whiteboard.text_sizes.small"),maxValue:16,minValue:16},teensy:{getLabel:()=>(0,A.t)("whiteboard.text_sizes.teensy"),maxValue:4,minValue:-1/0}},hb=[...Object.values(hg).map(e=>e.minValue),u4.oV],hj={format:e=>{let t=Object.values(hg).find(t=>e>=t.minValue&&e<=t.maxValue);return t?t.getLabel():`${e}`}},hy=e=>e.length>1?e.filter(e=>!hf.has(e)).sort((e,t)=>e-t).slice(0,5):[];function hv({reportWidth:e,inputProps:t}){let i=l.useRef(null),n=t.property;return l.useLayoutEffect(()=>{let t=i.current;return t&&e(n,t.getBoundingClientRect().width),()=>e(n,void 0)},[i,n,e]),(0,o.jsx)("div",{className:hc.D9,"aria-hidden":!0,children:(0,o.jsx)(pj.uQ,{...t,containerClassName:e_()(t.containerClassName,hc.oO),ref:i})})}function hC({reportWidth:e,value:t,optionProps:i}){let n=l.useRef(null);return l.useLayoutEffect(()=>{let i=n.current;return i&&e(t,i.getBoundingClientRect().width),()=>e(t,void 0)},[n,t,e]),(0,o.jsx)("div",{className:hc.D9,"aria-hidden":!0,children:(0,o.jsx)(hp,{...i,additionalStylesClassName:e_()(i.additionalStylesClassName,hc.ZS),forwardedRef:n})})}var hT=i(774045);let hE=()=>!!(0,d.d4)(hS);function hS(e){let t=e.mirror.sceneGraph,i=Object.keys(e.mirror.sceneGraphSelection);if(1!==i.length)return null;let n=t.get(i[0]);return n&&"SHAPE_WITH_TEXT"===n.type&&n.childrenAreAllGhosts?n:null}function hw(e){let t=Object.keys(e.mirror.sceneGraphSelection);return 1!==t.length?c.gEE.RIGHT:c.qmM.getConnectorCardinalDirection(t[0])}function hI(e){let t=hS(e);if(!t)return null;let i=t.attachedConnectorIDs;if(1!==i.length)return null;let n=e.mirror.sceneGraph,r=n.get(i[0]);if(!r)return null;switch(c.qmM.getQuickAddInteraction()){case c.lMj.DRAG:return r;case c.lMj.CLICK:{let e=n.get(r.connectorStart.endpointNodeID);if(!e)return null;return e}}}function hL(){let e=(0,d.d4)(e=>e.mirror.appModel.hyperlinkLocation),t=(0,iE.Um)(),i=(0,p.md)(hT.n),n=t&&t.type===eE.K9,r=(0,d.d4)(e=>e.progressBarState.mode===c.Oin.HIDE_UI),a=(0,d.d4)(e=>e.mirror.selectionProperties.name&&-1!==e.mirror.selectionProperties.name.indexOf("FigJam Stamp Icon")&&e.mirror.selectionProperties.numSelectedByType?.ROUNDED_RECTANGLE===1&&1===e.mirror.selectionProperties.numSelected),s=(0,d.d4)(e=>a||e.mirror.selectionProperties.numSelectedByType?.STAMP===1&&1===e.mirror.selectionProperties.numSelected),o=(0,d.d4)(e=>{let t=e.mirror.selectionProperties.numSelectedByType?.TABLE,i=e.mirror.selectionProperties.numSelectedByType?.TABLE_CELL;return t&&t>0||i&&i>0}),l=(0,d.d4)(e=>!e.mirror.selectionProperties.numSelected||0===e.mirror.selectionProperties.numSelected),u=(0,C.ut)(c.Ez5?.figjamState().isInCanvasAiMode,!1),m=(0,d.d4)(hS),f=(0,nE.d0)();return!l&&!e&&!r&&(!o||!n)&&!m&&(s&&!h.XN?f:!i&&!u)}var hN=i(628249),hA=i(762413),hO=i(720559),hk=i(996627),hR=i(519202),hM=i(511649),hD=i(166989);let hP="whiteboard_transparency--icon--LOJ7P",hU="whiteboard_transparency--separator--t8wmx",hF=t8.wv,hB={[c.A$i.VISIBLE]:"VISIBLE",[c.A$i.TRANSPARENT]:"TRANSPARENT",[c.A$i.TRANSPARENT_CUSTOM]:"TRANSPARENT_CUSTOM",[c.A$i.HIDDEN]:"HIDDEN"},hH={[c.A$i.VISIBLE]:(0,o.jsx)(hA.H,{}),[c.A$i.TRANSPARENT]:(0,o.jsx)(hO.N,{}),[c.A$i.TRANSPARENT_CUSTOM]:(0,o.jsx)(hO.N,{}),[c.A$i.HIDDEN]:(0,o.jsx)(hk.a,{})};var hV=(e=>(e[e.NONE=0]="NONE",e[e.CONNECTOR=1]="CONNECTOR",e[e.SHAPE_WITH_TEXT=2]="SHAPE_WITH_TEXT",e[e.PLATFORM_SHAPE=4]="PLATFORM_SHAPE",e[e.ALL=7]="ALL",e))(hV||{});function hG(e,t,i,n,r){2&t&&i(e),1&t&&n(e===c.A$i.HIDDEN),4&t&&r(e)}function hW(){let e=(0,d.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),t=(0,d.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType),i=(0,d.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelectedPlatformShape??0),n=0;if(e&&e>0&&t){let r=t.SHAPE_WITH_TEXT??0,a=t.CONNECTOR??0;r+a+i===e&&(r>0&&(n|=2),a>0&&(n|=1),i>0&&(n|=4))}return n}function hK(e){return 1&e?[c.A$i.VISIBLE,c.A$i.HIDDEN]:2&e||4&e?[c.A$i.VISIBLE,c.A$i.TRANSPARENT,c.A$i.HIDDEN]:[]}function hz(e,t,i,n){if(!((0,u4.gl)(i)||(0,u4.gl)(t)||(0,u4.gl)(n))){let r=i?c.A$i.HIDDEN:c.A$i.VISIBLE,a=t??n??r;if((!(2&e)||a===t)&&(!(4&e)||a===n)&&(!(1&e)||a===r))return a}}let hZ=e=>Number(e);function h$(e){return e.toString()}function hY({isColorPopoverOpen:e}){let[t,i]=(0,u3.lJ)("shapeWithTextFillType"),n={[c.A$i.VISIBLE]:(0,A.t)("whiteboard.inline_menu.shape_visibility_visible"),[c.A$i.TRANSPARENT]:(0,A.t)("whiteboard.inline_menu.shape_visibility_transparent"),[c.A$i.TRANSPARENT_CUSTOM]:(0,A.t)("whiteboard.inline_menu.shape_visibility_transparent"),[c.A$i.HIDDEN]:(0,A.t)("whiteboard.inline_menu.shape_visibility_hidden")},[r,a]=(0,u3.lJ)("connectorTextBackgroundTransparent"),[s,l]=(0,u3.lJ)("platformShapeFillType"),d=hW(),u=hK(d),p=hz(d,t,r,s),h=e=>{hG(hZ(e),d,i,a,l)};return 1===d?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(hM.D8,{className:"whiteboard_transparency--connectorFillContainer--yUHqE",onPointerUp:e?()=>{a(p!==c.A$i.HIDDEN)}:void 0,role:"button",recordingKey:"connectorTextBackgroundVisibility",children:[p===c.A$i.HIDDEN?(0,o.jsx)(hR.j,{className:hP}):(0,o.jsx)(nf._,{className:hP}),(0,o.jsx)("div",{className:"whiteboard_transparency--connectorFillText--N-Ydb text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",children:(0,A.t)("whiteboard.inline_menu.text_background")})]}),(0,o.jsx)(hF,{className:hU})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"whiteboard_transparency--container---6CxE",children:(0,o.jsx)(hD.b,{value:void 0===p||(0,u4.gl)(p)?void 0:h$(p),legend:(0,o.jsx)(p1.q,{children:(0,A.t)("whiteboard.inline_menu.shape_visibility.legend")}),onChange:h,recordingKey:"shapeWithTextFillType",children:u.map(t=>{let i=h$(t);return(0,o.jsx)(hD.c,{icon:hH[t],value:i,"aria-label":n[t],htmlAttributes:{onPointerUp:e?()=>h(i):ed.lQ},children:n[t]},e2.Pt("shapeWithTextFillTypeKey",hB[t]))})})}),(0,o.jsx)(hF,{className:hU})]})}var hq=i(888175),hX=i(368611),hJ=i(371825);function hQ(){return new Map([["ADD_COLUMN_LEFT",{identifier:"ADD_COLUMN_LEFT",iconImageURL:(0,t_.ck)("9400f62ae966871748dbc8fe8bb5db43905451f9"),label:(0,A.t)("fullscreen_actions.add-table-column-before"),style:po._3.normal}],["ADD_COLUMN_RIGHT",{identifier:"ADD_COLUMN_RIGHT",iconImageURL:(0,t_.ck)("a304100b18ea5bc6ac701d1702639b19584f572b"),label:(0,A.t)("fullscreen_actions.add-table-column-after"),style:po._3.normal}],["ADD_ROW_ABOVE",{identifier:"ADD_ROW_ABOVE",iconImageURL:(0,t_.ck)("af73d211189324f341d869dbe6ad31d9293f3b02"),label:(0,A.t)("fullscreen_actions.add-table-row-above"),style:po._3.normal}],["ADD_ROW_BELOW",{identifier:"ADD_ROW_BELOW",iconImageURL:(0,t_.ck)("3ff9e470d8ff8b00bda37a1a7cffbc5cf71f9c50"),label:(0,A.t)("fullscreen_actions.add-table-row-below"),style:po._3.normal}],["DELETE_CONTENT",{identifier:"DELETE_CONTENT",iconImageURL:(0,t_.ck)("fa39374a2621258ff204c8b3d19fabcac205a8bb"),label:(0,A.t)("fullscreen_actions.delete-table-contents"),style:po._3.normal}],["DELETE_COLUMN",{identifier:"DELETE_COLUMN",iconImageURL:(0,t_.ck)("0cdf2f7792c22668c4128463ce1ab2b7daf6cc04"),label:(0,A.t)("fullscreen_actions.delete-current-table-column"),style:po._3.normal}],["DELETE_ROW",{identifier:"DELETE_ROW",iconImageURL:(0,t_.ck)("b7c2f4ee6638f3636435f94e34b112c111c8a000"),label:(0,A.t)("fullscreen_actions.delete-current-table-row"),style:po._3.normal}],["MOVE_ROW_UP",{identifier:"MOVE_ROW_UP",iconImageURL:(0,t_.ck)("76b29748240a680d3c70193da514abf2fd7da3bd"),label:(0,A.t)("fullscreen_actions.move-table-row-up"),style:po._3.normal}],["MOVE_ROW_DOWN",{identifier:"MOVE_ROW_DOWN",iconImageURL:(0,t_.ck)("8a24043471d379715530ceb9a27ee89415e80a4e"),label:(0,A.t)("fullscreen_actions.move-table-row-down"),style:po._3.normal}],["MOVE_COLUMN_LEFT",{identifier:"MOVE_COLUMN_LEFT",iconImageURL:(0,t_.ck)("ced31cac875250517fc43e5503917c727ce83697"),label:(0,A.t)("fullscreen_actions.move-table-column-left"),style:po._3.normal}],["MOVE_COLUMN_RIGHT",{identifier:"MOVE_COLUMN_RIGHT",iconImageURL:(0,t_.ck)("90a6ce44002cb629d48a1152811a25e1f8542e9b"),label:(0,A.t)("fullscreen_actions.move-table-column-right"),style:po._3.normal}],["ADD_COMMENT",{identifier:"ADD_COMMENT",iconImageURL:(0,t_.ck)("ef8e7f34cbdd40b6360bfb68ed73e9435f5df6d3"),label:(0,A.t)("comments.add_a_comment"),style:po._3.normal}],["CUT",{identifier:"CUT",iconImageURL:(0,t_.ck)("4906ac36ad87b2fbc8c1131de33e50ffcd0f931c"),label:(0,A.t)("fullscreen_actions.cut"),style:po._3.normal}],["COPY",{identifier:"COPY",iconImageURL:(0,t_.ck)("a9a157a59bc9bea59323414709220f1aabc8e5b0"),label:(0,A.t)("fullscreen_actions.copy"),style:po._3.normal}],["PASTE_HERE",{identifier:"PASTE_HERE",iconImageURL:(0,t_.ck)("403745040a09ea356a24a823ce8aaa9729275bfc"),label:(0,A.t)("fullscreen_actions.paste"),style:po._3.normal}],["PASTE_TO_REPLACE",{identifier:"PASTE_TO_REPLACE",iconImageURL:(0,t_.ck)("403745040a09ea356a24a823ce8aaa9729275bfc"),label:(0,A.t)("fullscreen_actions.paste-to-replace"),style:po._3.normal}],["EXPORT_SELECTION",{identifier:"EXPORT_SELECTION",iconImageURL:(0,t_.ck)("069e62f3f6d36c863fcaf132b661541bae26f3b4"),label:(0,A.t)("fullscreen.context_menu.export_selection"),style:po._3.normal}],["BRING_TO_FRONT",{identifier:"BRING_TO_FRONT",iconImageURL:(0,t_.ck)("4ea2ce642395384d4e068112439edce0ae6eb308"),label:(0,A.t)("fullscreen_actions.bring-to-front"),style:po._3.normal}],["SEND_TO_BACK",{identifier:"SEND_TO_BACK",iconImageURL:(0,t_.ck)("1cd7645083299efad768ed580af47f6e449f3881"),label:(0,A.t)("fullscreen_actions.send-to-back"),style:po._3.normal}],["LOCK_UNLOCK",{identifier:"LOCK_UNLOCK",iconImageURL:(0,t_.ck)("5b57575766ec6e015d3ad82abdead130f38b51ee"),label:(0,A.t)("fullscreen.context_menu.lock_unlock"),style:po._3.normal}],["MULTISELECT_MODE",{identifier:"MULTISELECT_MODE",iconImageURL:(0,t_.ck)("5142f326fd3191c3bd589944cd9b9f89e70d53b5"),label:(0,A.t)("fullscreen.context_menu.multiselect"),style:po._3.normal}]])}let h0=new Map([["MOVE_ROW_UP","move-table-row-up"],["MOVE_ROW_DOWN","move-table-row-down"],["MOVE_COLUMN_LEFT","move-table-column-left"],["MOVE_COLUMN_RIGHT","move-table-column-right"],["ADD_COLUMN_LEFT","add-table-column-before"],["ADD_COLUMN_RIGHT","add-table-column-after"],["ADD_ROW_ABOVE","add-table-row-above"],["ADD_ROW_BELOW","add-table-row-below"],["DELETE_CONTENT","delete-table-contents"],["DELETE_COLUMN","delete-current-table-column"],["DELETE_ROW","delete-current-table-row"],["CUT","cut"],["COPY","copy"],["PASTE_HERE","paste-here"],["PASTE_TO_REPLACE","paste-to-replace"],["EXPORT_SELECTION","export-selection-or-current-page"],["BRING_TO_FRONT","bring-to-front"],["SEND_TO_BACK","send-to-back"],["LOCK_UNLOCK","toggle-locked-for-selected-nodes"],["MULTISELECT_MODE","set-tool-multiselect"]]),h1=()=>{let e=(0,d.d4)(e=>e.selectedView),t=(0,d.d4)(e=>e.mirror.appModel),i=(0,d.d4)(e=>!e.mirror.selectionProperties.numSelected||0===e.mirror.selectionProperties.numSelected),n=t.showComments&&!!e.commentsEnabled,r=new Set,a=(e,i)=>{(0,dp.Yh)(t,i)&&r.add(e)},s=(0,d.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);for(let[e,o]of(n&&r.add("ADD_COMMENT"),h0.entries()))switch(e){case"PASTE_TO_REPLACE":case"EXPORT_SELECTION":i||a(e,o);break;case"PASTE_HERE":i&&a(e,o);break;case"LOCK_UNLOCK":s!==c.m1T.RASTER&&a(e,o);break;case"MULTISELECT_MODE":t.currentTool===c.NLJ.HAND_SELECT&&a(e,o);break;default:a(e,o)}return r};var h2=(e=>(e[e.CANVAS=0]="CANVAS",e[e.CONTEXTUAL_TOOLBAR=1]="CONTEXTUAL_TOOLBAR",e))(h2||{});function h3(e,t){let i=h1(),n=[["MOVE_ROW_UP","MOVE_ROW_DOWN","MOVE_COLUMN_LEFT","MOVE_COLUMN_RIGHT"],["ADD_COLUMN_LEFT","ADD_COLUMN_RIGHT"],["ADD_ROW_ABOVE","ADD_ROW_BELOW"],["ADD_COMMENT"],["CUT","COPY","PASTE_HERE","PASTE_TO_REPLACE"],["EXPORT_SELECTION"],["LOCK_UNLOCK"],["BRING_TO_FRONT","SEND_TO_BACK"],["DELETE_CONTENT","DELETE_COLUMN","DELETE_ROW"]];0===t&&n.push(["MULTISELECT_MODE"]);let r=n.map(e=>e.filter(e=>i.has(e))).filter(e=>e.length>0);return{itemStringType:"menu",identifier:e,visibleActionIdentifiers:r,visibleActionGroups:r.map(e=>({actionIdentifiers:e}))}}var h5=i(682418),h6=i(498136),h4=i(886126),h9=i(449783);function h8(){return(0,d.d4)(e=>"UNORDERED_LIST"===e.mirror.selectionProperties.textLineType)}function h7(){return(0,d.d4)(e=>"ORDERED_LIST"===e.mirror.selectionProperties.textLineType)}var me=i(565436),mt=i(917051),mi=i(327027);let mn=(0,l.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",d:"M16.5 3a.5.5 0 0 1 0 1H14v16h2.5a.5.5 0 0 1 0 1h-6a.5.5 0 0 1 0-1H13V4h-2.5a.5.5 0 0 1 0-1zm-5 4a.5.5 0 0 1 0 1h-7a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h7a.5.5 0 0 1 0 1h-7A1.5 1.5 0 0 1 3 15.5v-7A1.5 1.5 0 0 1 4.5 7zm8 0A1.5 1.5 0 0 1 21 8.5v7a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1 0-1z"})})});var mr=i(738401),ma=i(178650);function ms(){return(0,d.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo.mode===c.nzw.SECTION_NAME)}function mo(){let e=ms();return()=>{e?c.glU?.hideOnCanvasNameEditor():c.glU?.triggerActionInUserEditScope("rename-selection",null)}}var ml=i(616107),md=i(634656),mc=i(932285),mu=i(650460);function mp(){let e=(0,u3.kl)("whiteboardColor"),t=(0,u3.kl)("whiteboardDividedSwatchColors");return(0,u4.gl)(t)?(console.error("whiteboardDividedSwatchColors should never be mixed"),[]):e&&(0,u4.hS)(e)?e:t??[]}function mh(){let e=(0,rn.R)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType),t=(0,d.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelectedPlatformShape??0),i=(0,d.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),n=(0,rn.R)(e=>e.mirror.appModel.activeCanvasEditModeType),r=(0,d.d4)(e=>Object.keys(e.mirror.sceneGraphSelection).some(t=>{let i=e.mirror.sceneGraph.get(t);return!!i?.textSublayer?.textContent.length}));if(!e)return!1;let a=e.SHAPE_WITH_TEXT??0,s=e.CONNECTOR??0,o=a+s+t===i;return s===i&&(o=(o=r)&&n!==c.m1T.TEXT),o}let mm=["alignLeft","alignHorizontalCenter","alignRight","alignTop","alignVerticalCenter","alignBottom"],mf=new Map([["alignLeft",(0,t_.ck)("01f4cc9eee24ffbf868d0a33aaaf8e82033a5d93")],["alignHorizontalCenter",(0,t_.ck)("ec77fcac2bc8db07c26c6e4b4b7258796a458ae9")],["alignRight",(0,t_.ck)("224ca896c598305c54981a912de06bc78ddf191f")],["alignTop",(0,t_.ck)("f70b64d1b08cb18c6d2afe696d33a6a47580732c")],["alignVerticalCenter",(0,t_.ck)("1981f7237279e2b10c0611f022a5f05a1a1aa70b")],["alignBottom",(0,t_.ck)("9860241afe3ebb4af6f6e49edeaa68b27ce9b354")]]),mx=mm.map(e=>({itemStringType:"iconAction",identifier:e,flashesOnPress:!1,iconImageURL:mf.get(e)})),m_={itemStringType:"actionSelector",identifier:"ALIGNMENT",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:3,items:mx,pages:[{rowMaxSize:3,items:mx}]}},mg={itemStringType:"actionSelector",identifier:"PENCIL_STROKE",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:0,items:pl.yp,pages:[{rowMaxSize:0,items:pl.yp}]},iconImageURLs:[(0,t_.ck)("e138358eb8b3a07efda73c406e4c61cc3d9fe6d3")]},mb=pl.xp.slice().reverse(),mj={itemStringType:"actionSelector",identifier:"HIGHLIGHTER_STROKE",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:0,items:mb,pages:[{rowMaxSize:0,items:mb}]},iconImageURLs:[(0,t_.ck)("c1837ca930ad93b0f6cc7e262e425757c34bca44")]},my=new Map([["alignLeft","align-left"],["alignHorizontalCenter","align-horizontal-center"],["alignRight","align-right"],["alignTop","align-top"],["alignVerticalCenter","align-vertical-center"],["alignBottom","align-bottom"]]);function mv(){let e=mh(),t=hW();return e&&t!==hV.CONNECTOR}let mC=new Map([["WHITEBOARD_COLOR",["base","baseLight"]],["HIGHLIGHT_COLOR",["highlight"]],["STICKY_COLOR",["sticky"]]]),mT=(0,t_.ck)("faebe7cf9aae2c9be1f26be56081a6fa4cc09f88"),mE=(0,t_.ck)("d355d0f21e8416bbdcae9f46430642c6b59cc915");var mS=(e=>(e.START="START",e.END="END",e))(mS||{});let mw=["NONE","ARROW","ARROW_FILLED","ARROW_INVERTED","CIRCLE","DIAMOND"],mI=new Map([["NONE","ROUND"],["DIAMOND","DIAMOND_FILLED"],["CIRCLE","CIRCLE_FILLED"],["ARROW","ARROW_LINES"],["ARROW_FILLED","ARROW_EQUILATERAL"],["ARROW_INVERTED","TRIANGLE_FILLED"]]),mL=new Map([["ROUND","NONE"],["DIAMOND_FILLED","DIAMOND"],["CIRCLE_FILLED","CIRCLE"],["ARROW_LINES","ARROW"],["ARROW_EQUILATERAL","ARROW_FILLED"],["TRIANGLE_FILLED","ARROW_INVERTED"]]),mN=(e,t)=>`CONNECTOR/${e}/${t}`;function mA(e){for(let t in mS){let i=e.split(`CONNECTOR/${t}/`);if(2===i.length)return i[1]}return null}let mO=mw.map(e=>mN("START",e)),mk=mw.map(e=>mN("END",e));function mR(e){return mw.map(t=>({itemStringType:"iconAction",identifier:mN(e,t),flashesOnPress:!1}))}let mM=new Map([["left",new Map([["NONE",(0,t_.ck)("7a9930b1e4aca1b5d06c36b00bd2cc64758c5849")],["ARROW",(0,t_.ck)("deb5540ae4b6484e3bdb0025b52bf8e71a79391c")],["ARROW_FILLED",(0,t_.ck)("fa76c9565eddcf56affd7797c5d393fed72b9028")],["ARROW_INVERTED",(0,t_.ck)("2336592069ee1de7da07da2aa881ff85c1c77989")],["CIRCLE",(0,t_.ck)("7c285e3fcbace487b65e53e626cc2ad2133e9acd")],["DIAMOND",(0,t_.ck)("1ab747ab4697d5f6bf7e5b99160883f70aa4c2a5")]])],["up",new Map([["NONE",(0,t_.ck)("157b46536766087af28320f95b2f0c98f71a1032")],["ARROW",(0,t_.ck)("8c3280098fe09c5e14d57d507f390c3bae24733a")],["ARROW_FILLED",(0,t_.ck)("de8f03cc76289efcb5ae472d7cb53e899a0e8d80")],["ARROW_INVERTED",(0,t_.ck)("465e721389b5e2f23116e26869dd90370cb10f2c")],["CIRCLE",(0,t_.ck)("eaa032fe2bcf35f92d9276227a0f2ac4f32c7edc")],["DIAMOND",(0,t_.ck)("711223c18ed61a1df0e414cc340334133720333d")]])],["right",new Map([["NONE",(0,t_.ck)("7a9930b1e4aca1b5d06c36b00bd2cc64758c5849")],["ARROW",(0,t_.ck)("53332df23dae692567e44b5c3321d0ec811c23d5")],["ARROW_FILLED",(0,t_.ck)("d2d126c19a44a29d01f2c8927ce496c7b4906a5f")],["ARROW_INVERTED",(0,t_.ck)("e644ae782ac2d99dccc8684fc8acf0627fe9bce1")],["CIRCLE",(0,t_.ck)("b272c1b69833952f3054bc74183ca23bd5d6b288")],["DIAMOND",(0,t_.ck)("2959df2f9f7f86724b0dfbdd24718af3742dfb76")]])],["down",new Map([["NONE",(0,t_.ck)("157b46536766087af28320f95b2f0c98f71a1032")],["ARROW",(0,t_.ck)("31d42fe0be5b036376d289ea121d5a1db20d3bc6")],["ARROW_FILLED",(0,t_.ck)("1e60f91397fba49e24f812cc92d52ca98d88e183")],["ARROW_INVERTED",(0,t_.ck)("cf37c05e83fc534cfa16a63f2f6eb49b187fdcd3")],["CIRCLE",(0,t_.ck)("ce81c97a7610b01854553d55585931d67c48b657")],["DIAMOND",(0,t_.ck)("aadf8da4a886c4ddf2950ce9863376fafe05543a")]])]]);function mD(e,t,i){let n=mA(e);if(n)return(0,u4.gl)(i)?mM.get("START"===t?"left":"right")?.get(n):mM.get(i)?.get(n)}function mP(){let e=(0,u3.kl)("connectorStartCapForSelection");return mL.get(e)}function mU(){let e=(0,u3.kl)("connectorEndCapForSelection");return mL.get(e)}function mF(e){return{itemStringType:"divider",identifier:`DIVIDER_${e}`,padding:po.JI.none}}function mB(){return Array(15).fill(0).map((e,t)=>mF(t))}let mH="FONT_FAMILY/",mV=["sansSerif","serif","monospace","script"],mG={sansSerif:{url:(0,t_.ck)("af15617d2091d08e7dfdb4b6485a71d5f786f53a"),height:28,width:58},serif:{url:(0,t_.ck)("d5d38cc21df531208977d180f40828171ce3d6ba"),height:28,width:70},monospace:{url:(0,t_.ck)("21c2519d1eeb90e02169035dc8365f593e652acc"),height:28,width:100},script:{url:(0,t_.ck)("4be856c46adce506823c69ea83b054e1e7438b44"),height:28,width:84}};function mW(){return mV.map(e=>{let t=pD[e];return{itemStringType:"textAction",identifier:`${mH}${e}`,text:t.fontFamily,textImage:mG[e]}})}let mK=new Map([["sansSerif",(0,t_.ck)("4d90c5e665fa16415b0b261e302696e4c706553a")],["serif",(0,t_.ck)("14457d0d904ce9c5c570f9557fc760a18cde12ea")],["monospace",(0,t_.ck)("a96474304a571c7ef149023afd13beb0c196f764")],["script",(0,t_.ck)("6e257bdd5a3789fd0013eb9611f503d44b1c4a56")]]);function mz(){let e=(0,u3.kl)("whiteboardFontFamilies");if(!(!e||(0,u4.gl)(e)))return e}let mZ="FONT_SIZE/",m$="FONT_SIZE/CUSTOM",mY=["small","medium","large","extraLarge","huge"];function mq(){let e=mY.map(e=>{let t=hg[e];return{itemStringType:"textAction",identifier:`${mZ}${e}`,text:t.getLabel(),decoratorText:t.maxValue.toString()}});return e.push({itemStringType:"textAction",identifier:m$,text:(0,A.t)("whiteboard.text_sizes.custom")}),e}function mX(){let e=(0,u3.kl)("whiteboardFontSizes");if(e&&(0,u4.hS)(e))return e}let mJ="IMAGE_CROP/";function mQ(){return Array.from(pK.Id.keys()).map(e=>({itemStringType:"textAction",identifier:`${mJ}${e}`,text:(0,pK.Fk)(e),decoratorText:(0,pK.d4)(e)}))}let m0={itemStringType:"action",identifier:"TIDY_UP",iconImageURL:(0,t_.ck)("f2098719f6f91ba59c36128eefa62954357cc185")},m1={itemStringType:"action",identifier:"GROUP_SELECTION",iconImageURL:(0,t_.ck)("935d977c723aac4b950cefa8d425248f5517ed37")},m2={itemStringType:"action",identifier:"UNGROUP_SELECTION",iconImageURL:(0,t_.ck)("a7761689c8cf9bf64b5d39d85aa780fa8691a1ad")},m3={itemStringType:"action",identifier:"CREATE_SECTION",iconImageURL:(0,t_.ck)("c44b2b4e1e45119f431e222606f087169ce2f6bd")};function m5(){return{identifier:"AI_SUMMARIZE",label:(0,A.t)("whiteboard.inline_menu.ai_quick_actions_summarize_button"),iconImageURL:(0,t_.ck)("1d27a05c1b24aba212490339088465fe5f599e4c"),style:po._3.normal}}function m6(){return{identifier:"AI_SORT",label:(0,A.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_button"),iconImageURL:(0,t_.ck)("56fafc9be0e983648b1b6daee4136bc0897aed21"),style:po._3.normal}}function m4(){return{identifier:"AI_LEARN_MORE",label:(0,A.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta"),iconImageURL:null,style:po._3.normal}}function m9(){let e=[m4()];return e.push(m6()),e.push(m5()),{itemStringType:"menu",identifier:"AI_QUICK_ACTIONS",iconImageURL:(0,t_.ck)("a5413bcebea4f5328627303644667c40a97cd319"),items:e}}let m8={itemStringType:"action",identifier:"DUPLICATE",iconImageURL:(0,t_.ck)("0f15e280ad450f4edef016319dfacd32c00de40b")},m7={itemStringType:"action",identifier:"DELETE",iconImageURL:(0,t_.ck)("947de7441fdaeb98b831a6dbaa025489abccba86"),isDestructive:!0},fe={itemStringType:"action",identifier:"UNLOCK",iconImageURL:(0,t_.ck)("abeca90f50320b169ca8b8430eaff2026dda30e7")};function ft(){let e=[...mM.values()].map(e=>[...e.values()]).flatMap(e=>{let t=[];return e.forEach(e=>{t.push(e)}),t}),t=mB().map(e=>[e.identifier,e]),i=[{itemStringType:"palette",identifier:"paletteWhiteboardColor",rowMaxSize:6,swatches:(0,pl.bE)((0,pl.LK)("WHITEBOARD_COLOR"),!0,"base")},{itemStringType:"divider",identifier:"DIVIDER_WHITEBOARD_COLOR",padding:po.JI.none,axis:po.Vq.vertical},{itemStringType:"iconAction",identifier:"fillTypeVisible",iconImageURL:(0,t_.ck)("bdf989a007b1d459bbad4949c595ecadbbad5d88"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"fillTypeTransparent",iconImageURL:(0,t_.ck)("fd9dfdbcf1ded21e76e0f013c8b3c4c2ade59591"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"fillTypeHidden",iconImageURL:(0,t_.ck)("f907f6942bab5d553b95bd448a1b30b4eb54733d"),flashesOnPress:!1}],n=[{itemStringType:"iconAction",identifier:"whiteboardStrokeSolid",iconImageURL:(0,t_.ck)("d355d0f21e8416bbdcae9f46430642c6b59cc915"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"whiteboardStrokeDashed",iconImageURL:(0,t_.ck)("1592518d3124a6b186044c3843d78f58f3424693"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"whiteboardStrokeNone",iconImageURL:(0,t_.ck)("f907f6942bab5d553b95bd448a1b30b4eb54733d"),flashesOnPress:!1},{itemStringType:"divider",identifier:"DIVIDER_WHITEBOARD_STROKE",padding:po.JI.none,axis:po.Vq.horizontal},{itemStringType:"iconAction",identifier:"whiteboardStrokeThin",iconImageURL:(0,t_.ck)("f45e43941c4deb776804efc35fe840177a275bf7"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"whiteboardStrokeThick",iconImageURL:(0,t_.ck)("89047150eaa941f24465aa324fa11dbb8b68be25"),flashesOnPress:!1}],r=[{itemStringType:"palette",identifier:"paletteHighlightColor",rowMaxSize:0,swatches:(0,pl.bE)((0,pl.LK)("HIGHLIGHTER"),!1,"base")}],a=[{itemStringType:"palette",identifier:"paletteWashiTapePattern",rowMaxSize:0,swatches:(0,pl.MC)(pl.FC,!0)}],s=[{itemStringType:"palette",identifier:"paletteStickyColor",rowMaxSize:0,swatches:(0,pl.bE)((0,pl.LK)("STICKY"),!1,"base")}],o=mW(),l=mq(),d=[{itemStringType:"iconAction",identifier:"textAlignLeft",iconImageURL:(0,t_.ck)("ffa1896c3a7c5ebb5a9faca54ab4b262d625d113"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"textAlignCenter",iconImageURL:(0,t_.ck)("d229c1db5d7709c1242ee4743c6ccf918e955dbb"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"textAlignRight",iconImageURL:(0,t_.ck)("e1b765fa3f0498e863004a473d9afd59791fa85d"),flashesOnPress:!1}],c=mR(mS.START),p=mR(mS.END),h=[{itemStringType:"iconAction",identifier:"connectorLineElbowed",iconImageURL:mT,flashesOnPress:!1},{itemStringType:"iconAction",identifier:"connectorLineStraight",iconImageURL:mE,flashesOnPress:!1}],m=mQ(),f=[{itemStringType:"slider",requiredFields:["sliderStyle"],identifier:"imageCropSlider",start:1,numIntervals:21,step:.1,axis:po.B9.horizontal,sliderStyle:po.Pi.base},{itemStringType:"iconAction",identifier:"imageRotate",iconImageURL:(0,t_.ck)("4e36f7828b150be693cb78641b249e20cadd0af8"),flashesOnPress:!1},{itemStringType:"divider",identifier:"DIVIDER_IMAGE_CONTROLS",padding:po.JI.none,axis:po.Vq.horizontal},{itemStringType:"actionSelector",identifier:"imageCropPresets",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:1,items:m,pages:[{rowMaxSize:1,items:m}]}}],x=new Map([...t,["WHITEBOARD_COLOR",{itemStringType:"paletteSelector",identifier:"WHITEBOARD_COLOR",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:0,items:i,pages:[{rowMaxSize:0,items:i}]}}],["HIGHLIGHT_COLOR",{itemStringType:"paletteSelector",identifier:"HIGHLIGHT_COLOR",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:0,items:r,pages:[{rowMaxSize:0,items:r}]}}],["WASHI_TAPE_PATTERN",{itemStringType:"paletteSelector",identifier:"WASHI_TAPE_PATTERN",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:0,items:a,pages:[{rowMaxSize:0,items:a}]}}],["STICKY_COLOR",{itemStringType:"paletteSelector",identifier:"STICKY_COLOR",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:0,items:s,pages:[{rowMaxSize:0,items:s}]}}],["WHITEBOARD_SHAPE",{itemStringType:"actionSelector",identifier:"WHITEBOARD_SHAPE",submenu:{position:po.pf.pinnedToFloatingBar,items:pl.zD,rowMaxSize:4,pages:pl.p6},iconImageURLs:[(0,t_.ck)("d8365bd2d17cecaa713c289f051114fdf6590505")]}],["WHITEBOARD_STROKE",{itemStringType:"actionSelector",identifier:"WHITEBOARD_STROKE",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:0,items:n,pages:[{rowMaxSize:0,items:n}]},iconImageURLs:[(0,t_.ck)("7f22083a673f802cfe0bddda8f70e81b4c45240a")]}],["RESIZE_TO_FIT",{itemStringType:"action",identifier:"RESIZE_TO_FIT",iconImageURL:(0,t_.ck)("067c607fa0b1963d525c2fed4f3855551ff8dbc2")}],["FONT_FAMILY",{itemStringType:"actionSelector",identifier:"FONT_FAMILY",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:1,items:o,pages:[{rowMaxSize:1,items:o}]},iconImageURLs:[(0,t_.ck)("4d90c5e665fa16415b0b261e302696e4c706553a"),(0,t_.ck)("14457d0d904ce9c5c570f9557fc760a18cde12ea"),(0,t_.ck)("e74fba46bfc5460a15ef53aebcfa25949c2efadf"),(0,t_.ck)("6e257bdd5a3789fd0013eb9611f503d44b1c4a56")]}],["WHITEBOARD_TEXT_STYLE",{itemStringType:"actionSelector",identifier:"WHITEBOARD_TEXT_STYLE",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:1,items:l,pages:[{rowMaxSize:1,items:l}]}}],["TEXT_DECORATION_BOLD",{itemStringType:"action",identifier:"TEXT_DECORATION_BOLD",iconImageURL:(0,t_.ck)("2e55e848e932e04b2a3ec12256f1407f1749c7cf")}],["TEXT_DECORATION_STRIKETHROUGH",{itemStringType:"action",identifier:"TEXT_DECORATION_STRIKETHROUGH",iconImageURL:(0,t_.ck)("db2a6ade78f8c64674af80577ac698c4d1768ef0")}],["ORDERED_LIST",{itemStringType:"action",identifier:"ORDERED_LIST",iconImageURL:(0,t_.ck)("64097c5924bf0f3d41682f3809419ad50c8410e3")}],["UNORDERED_LIST",{itemStringType:"action",identifier:"UNORDERED_LIST",iconImageURL:(0,t_.ck)("1c66cc53230fac0242092543577d33e3c4b9391c")}],["TEXT_ALIGN",{itemStringType:"actionSelector",identifier:"TEXT_ALIGN",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:0,items:d,pages:[{rowMaxSize:0,items:d}]}}],["CONNECTOR_START_CAP",{itemStringType:"actionSelector",identifier:"CONNECTOR_START_CAP",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:3,items:c,pages:[{rowMaxSize:3,items:c}]},iconImageURLs:e}],["CONNECTOR_END_CAP",{itemStringType:"actionSelector",identifier:"CONNECTOR_END_CAP",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:3,items:p,pages:[{rowMaxSize:3,items:p}]}}],["CONNECTOR_LINE_STYLE",{itemStringType:"actionSelector",identifier:"CONNECTOR_LINE_STYLE",submenu:{position:po.pf.pinnedToFloatingBar,rowMaxSize:0,items:h,pages:[{rowMaxSize:0,items:h}]}}],["ADD_CONNECTOR_TEXT",{itemStringType:"action",identifier:"ADD_CONNECTOR_TEXT",iconImageURL:(0,t_.ck)("88f9ce67669812647d9c63f5efc7a1c5d2524337")}],["REPLACE_IMAGE",{itemStringType:"imageSelector",identifier:"REPLACE_IMAGE",iconImageURL:(0,t_.ck)("986c5dae8611db9ff3268f71c8983362678e83ca")}],["IMAGE_BORDER",{itemStringType:"action",identifier:"IMAGE_BORDER",iconImageURL:(0,t_.ck)("3b6787676a2d47080de10be6b12a32e6582c2207")}],["SECTION_SHOW_HIDE",{itemStringType:"action",identifier:"SECTION_SHOW_HIDE"}],["SECTION_RENAME",{itemStringType:"action",identifier:"SECTION_RENAME",iconImageURL:(0,t_.ck)("9900d0f2ba10afd0b725938bcdbd81b642b9f473")}],["EMBED_OPEN_EXTERNAL",{itemStringType:"action",identifier:"EMBED_OPEN_EXTERNAL",iconImageURL:(0,t_.ck)("359a1a130090b203d422ea8f6df24c78ef36c0db")}],["EMBED_CONVERT_TO_TEXT",{itemStringType:"action",identifier:"EMBED_CONVERT_TO_TEXT",iconImageURL:(0,t_.ck)("e2b50062892be8eafdce7b788a47861d514ec2d6")}],["HYPERLINK",{itemStringType:"action",identifier:"HYPERLINK",iconImageURL:(0,t_.ck)("a7e495e823feb85770faae7cd178747af064f1b3")}],["AUTHOR_VISIBILITY",{itemStringType:"action",identifier:"AUTHOR_VISIBILITY",iconImageURL:(0,t_.ck)("675ac35ac57109af8724ac5735f1d592763fe78f")}],["ALIGNMENT",m_],["TIDY_UP",m0],["GROUP_SELECTION",m1],["UNGROUP_SELECTION",m2],["CREATE_SECTION",m3],["DUPLICATE",m8],["MENU",{itemStringType:"menu",identifier:"MENU",iconImageURL:(0,t_.ck)("d60a6c532647557aa1a222446779c8c8b7a8e74e"),items:[...hQ().values()]}],["DELETE",m7],["UNLOCK",fe],["PENCIL_STROKE",mg],["HIGHLIGHTER_STROKE",mj],["IMAGE_CONTROLS",{itemStringType:"actionSelector",identifier:"IMAGE_CONTROLS",iconImageURLs:[(0,t_.ck)("4e36f7828b150be693cb78641b249e20cadd0af8"),(0,t_.ck)("4bec08abeba0aaba641629d741396842f7f72790")],submenu:{requiredFields:["dismissal","webNotificationOnOpen","webNotificationOnClose"],position:po.pf.pinnedToFloatingBar,dismissal:po.$x.persistent,webNotificationOnOpen:po._E.enterCropMode,webNotificationOnClose:po._E.exitCropMode,items:f,rowMaxSize:0,pages:[{rowMaxSize:0,items:f}]}}]]);return(0,u.k)().figjam_synthesize_handbrake||x.set("AI_QUICK_ACTIONS",m9()),x}function fi(){let e=[...mM.values()].map(e=>[...e.values()]).flatMap(e=>{let t=[];return e.forEach(e=>{t.push(e)}),t}),t=new Map([...mB().map(e=>[e.identifier,e]),["WHITEBOARD_COLOR",{itemStringType:"paletteSelector",identifier:"WHITEBOARD_COLOR",submenu:{shouldCenterAlignItems:c.Ez5?.uiState().showUI3Colors.getCopy()??!1,position:po.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"palette",identifier:"paletteWhiteboardColor",rowMaxSize:c.Ez5?.uiState().showUI3Colors.getCopy()?8:6,swatches:(0,pl.bE)((0,pl.LK)("WHITEBOARD_COLOR"),!0,"base")},{itemStringType:"divider",identifier:"DIVIDER_WHITEBOARD_COLOR",padding:po.JI.none,axis:po.Vq.vertical},{itemStringType:"iconAction",identifier:"fillTypeVisible",iconImageURL:(0,t_.ck)("bdf989a007b1d459bbad4949c595ecadbbad5d88"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"fillTypeTransparent",iconImageURL:(0,t_.ck)("fd9dfdbcf1ded21e76e0f013c8b3c4c2ade59591"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"fillTypeHidden",iconImageURL:(0,t_.ck)("f907f6942bab5d553b95bd448a1b30b4eb54733d"),flashesOnPress:!1}]}]}}],["HIGHLIGHT_COLOR",{itemStringType:"paletteSelector",identifier:"HIGHLIGHT_COLOR",submenu:{position:po.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"palette",identifier:"paletteHighlightColor",rowMaxSize:0,swatches:(0,pl.bE)((0,pl.LK)("HIGHLIGHTER"),!1,"base")}]}]}}],["WASHI_TAPE_PATTERN",{itemStringType:"paletteSelector",identifier:"WASHI_TAPE_PATTERN",submenu:{position:po.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"palette",identifier:"paletteWashiTapePattern",rowMaxSize:0,swatches:(0,pl.MC)(pl.FC,!0)}]}]}}],["STICKY_COLOR",{itemStringType:"paletteSelector",identifier:"STICKY_COLOR",submenu:{position:po.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"palette",identifier:"paletteStickyColor",rowMaxSize:0,swatches:(0,pl.bE)((0,pl.LK)("STICKY"),!1,"base")}]}]}}],["WHITEBOARD_SHAPE",{itemStringType:"actionSelector",identifier:"WHITEBOARD_SHAPE",submenu:{position:po.pf.pinnedToFloatingBar,pages:pl.p6},iconImageURLs:[(0,t_.ck)("d8365bd2d17cecaa713c289f051114fdf6590505")]}],["WHITEBOARD_STROKE",{itemStringType:"actionSelector",identifier:"WHITEBOARD_STROKE",submenu:{position:po.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"iconAction",identifier:"whiteboardStrokeSolid",iconImageURL:(0,t_.ck)("d355d0f21e8416bbdcae9f46430642c6b59cc915"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"whiteboardStrokeDashed",iconImageURL:(0,t_.ck)("1592518d3124a6b186044c3843d78f58f3424693"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"whiteboardStrokeNone",iconImageURL:(0,t_.ck)("f907f6942bab5d553b95bd448a1b30b4eb54733d"),flashesOnPress:!1},{itemStringType:"divider",identifier:"DIVIDER_WHITEBOARD_STROKE",padding:po.JI.none,axis:po.Vq.horizontal},{itemStringType:"iconAction",identifier:"whiteboardStrokeThin",iconImageURL:(0,t_.ck)("f45e43941c4deb776804efc35fe840177a275bf7"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"whiteboardStrokeThick",iconImageURL:(0,t_.ck)("89047150eaa941f24465aa324fa11dbb8b68be25"),flashesOnPress:!1}]}]},iconImageURLs:[(0,t_.ck)("7f22083a673f802cfe0bddda8f70e81b4c45240a")]}],["RESIZE_TO_FIT",{itemStringType:"action",identifier:"RESIZE_TO_FIT",iconImageURL:(0,t_.ck)("067c607fa0b1963d525c2fed4f3855551ff8dbc2")}],["FONT_FAMILY",{itemStringType:"actionSelector",identifier:"FONT_FAMILY",submenu:{position:po.pf.pinnedToFloatingBar,pages:[{rowMaxSize:1,items:mW()}]},iconImageURLs:[(0,t_.ck)("4d90c5e665fa16415b0b261e302696e4c706553a"),(0,t_.ck)("14457d0d904ce9c5c570f9557fc760a18cde12ea"),(0,t_.ck)("e74fba46bfc5460a15ef53aebcfa25949c2efadf"),(0,t_.ck)("6e257bdd5a3789fd0013eb9611f503d44b1c4a56")]}],["WHITEBOARD_TEXT_STYLE",{itemStringType:"actionSelector",identifier:"WHITEBOARD_TEXT_STYLE",submenu:{position:po.pf.pinnedToFloatingBar,pages:[{rowMaxSize:1,items:mq()}]}}],["TEXT_DECORATION_BOLD",{itemStringType:"action",identifier:"TEXT_DECORATION_BOLD",iconImageURL:(0,t_.ck)("2e55e848e932e04b2a3ec12256f1407f1749c7cf")}],["TEXT_DECORATION_STRIKETHROUGH",{itemStringType:"action",identifier:"TEXT_DECORATION_STRIKETHROUGH",iconImageURL:(0,t_.ck)("db2a6ade78f8c64674af80577ac698c4d1768ef0")}],["ORDERED_LIST",{itemStringType:"action",identifier:"ORDERED_LIST",iconImageURL:(0,t_.ck)("64097c5924bf0f3d41682f3809419ad50c8410e3")}],["UNORDERED_LIST",{itemStringType:"action",identifier:"UNORDERED_LIST",iconImageURL:(0,t_.ck)("1c66cc53230fac0242092543577d33e3c4b9391c")}],["TEXT_ALIGN",{itemStringType:"actionSelector",identifier:"TEXT_ALIGN",submenu:{position:po.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"iconAction",identifier:"textAlignLeft",iconImageURL:(0,t_.ck)("ffa1896c3a7c5ebb5a9faca54ab4b262d625d113"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"textAlignCenter",iconImageURL:(0,t_.ck)("d229c1db5d7709c1242ee4743c6ccf918e955dbb"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"textAlignRight",iconImageURL:(0,t_.ck)("e1b765fa3f0498e863004a473d9afd59791fa85d"),flashesOnPress:!1}]}]}}],["CONNECTOR_START_CAP",{itemStringType:"actionSelector",identifier:"CONNECTOR_START_CAP",submenu:{position:po.pf.pinnedToFloatingBar,pages:[{rowMaxSize:3,items:mR(mS.START)}]},iconImageURLs:e}],["CONNECTOR_END_CAP",{itemStringType:"actionSelector",identifier:"CONNECTOR_END_CAP",submenu:{position:po.pf.pinnedToFloatingBar,pages:[{rowMaxSize:3,items:mR(mS.END)}]}}],["CONNECTOR_LINE_STYLE",{itemStringType:"actionSelector",identifier:"CONNECTOR_LINE_STYLE",submenu:{position:po.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"iconAction",identifier:"connectorLineElbowed",iconImageURL:mT,flashesOnPress:!1},{itemStringType:"iconAction",identifier:"connectorLineStraight",iconImageURL:mE,flashesOnPress:!1}]}]}}],["ADD_CONNECTOR_TEXT",{itemStringType:"action",identifier:"ADD_CONNECTOR_TEXT",iconImageURL:(0,t_.ck)("88f9ce67669812647d9c63f5efc7a1c5d2524337")}],["REPLACE_IMAGE",{itemStringType:"imageSelector",identifier:"REPLACE_IMAGE",iconImageURL:(0,t_.ck)("986c5dae8611db9ff3268f71c8983362678e83ca")}],["IMAGE_BORDER",{itemStringType:"action",identifier:"IMAGE_BORDER",iconImageURL:(0,t_.ck)("3b6787676a2d47080de10be6b12a32e6582c2207")}],["SECTION_SHOW_HIDE",{itemStringType:"action",identifier:"SECTION_SHOW_HIDE"}],["SECTION_RENAME",{itemStringType:"action",identifier:"SECTION_RENAME",iconImageURL:(0,t_.ck)("9900d0f2ba10afd0b725938bcdbd81b642b9f473")}],["EMBED_OPEN_EXTERNAL",{itemStringType:"action",identifier:"EMBED_OPEN_EXTERNAL",iconImageURL:(0,t_.ck)("359a1a130090b203d422ea8f6df24c78ef36c0db")}],["EMBED_CONVERT_TO_TEXT",{itemStringType:"action",identifier:"EMBED_CONVERT_TO_TEXT",iconImageURL:(0,t_.ck)("e2b50062892be8eafdce7b788a47861d514ec2d6")}],["HYPERLINK",{itemStringType:"action",identifier:"HYPERLINK",iconImageURL:(0,t_.ck)("a7e495e823feb85770faae7cd178747af064f1b3")}],["AUTHOR_VISIBILITY",{itemStringType:"action",identifier:"AUTHOR_VISIBILITY",iconImageURL:(0,t_.ck)("675ac35ac57109af8724ac5735f1d592763fe78f")}],["ALIGNMENT",m_],["TIDY_UP",m0],["GROUP_SELECTION",m1],["UNGROUP_SELECTION",m2],["CREATE_SECTION",m3],["DUPLICATE",m8],["MENU",{itemStringType:"menu",identifier:"MENU",iconImageURL:(0,t_.ck)("d60a6c532647557aa1a222446779c8c8b7a8e74e"),items:[...hQ().values()]}],["DELETE",m7],["UNLOCK",fe],["PENCIL_STROKE",mg],["HIGHLIGHTER_STROKE",mj],["IMAGE_CONTROLS",{itemStringType:"actionSelector",identifier:"IMAGE_CONTROLS",iconImageURLs:[(0,t_.ck)("4e36f7828b150be693cb78641b249e20cadd0af8"),(0,t_.ck)("4bec08abeba0aaba641629d741396842f7f72790")],submenu:{position:po.pf.pinnedToFloatingBar,dismissal:po.$x.persistent,webNotificationOnOpen:po._E.enterCropMode,webNotificationOnClose:po._E.exitCropMode,pages:[{rowMaxSize:0,items:[{itemStringType:"slider",identifier:"imageCropSlider",start:1,numIntervals:21,step:.1,axis:po.B9.horizontal,sliderStyle:po.Pi.base},{itemStringType:"iconAction",identifier:"imageRotate",iconImageURL:(0,t_.ck)("4e36f7828b150be693cb78641b249e20cadd0af8"),flashesOnPress:!1},{itemStringType:"divider",identifier:"DIVIDER_IMAGE_CONTROLS",padding:po.JI.none,axis:po.Vq.horizontal},{itemStringType:"actionSelector",identifier:"imageCropPresets",submenu:{position:po.pf.pinnedToFloatingBar,pages:[{rowMaxSize:1,items:mQ()}]}}]}]}}]]);return(0,u.k)().figjam_synthesize_handbrake||t.set("AI_QUICK_ACTIONS",m9()),t}var fn=i(125019),fr=i(151869),fa=i(761984),fs=i(152433);let fo=(0,l.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",d:"M10.103 8.005A1 1 0 0 1 11 9h7a1 1 0 0 1 .898-.995L19 8h1l.102.005A1 1 0 0 1 21 9v1l-.005.102a1 1 0 0 1-.893.893L20 11v7l.102.005A1 1 0 0 1 21 19v1l-.005.102a1 1 0 0 1-.893.893L20 21h-1l-.102-.005a1 1 0 0 1-.893-.893L18 20h-7l-.005.102a1 1 0 0 1-.893.893L10 21H9l-.103-.005a1 1 0 0 1-.892-.893L8 20v-1a1 1 0 0 1 .897-.995L9 18v-7l-.103-.005a1 1 0 0 1-.892-.893L8 10V9a1 1 0 0 1 .897-.995L9 8h1zM9 20h1v-1H9zm10 0h1v-1h-1zm-8-10-.005.102a1 1 0 0 1-.893.893L10 11v7l.102.005A1 1 0 0 1 11 19h7a1 1 0 0 1 .898-.995L19 18v-7l-.102-.005a1 1 0 0 1-.893-.893L18 10zM5.103 3.005A1 1 0 0 1 6 4h7a1 1 0 0 1 .898-.995L14 3h1l.102.005A1 1 0 0 1 16 4v1l-.005.103a1 1 0 0 1-.893.892L15 6v1.5a.5.5 0 0 1-1 0V6l-.102-.005a1 1 0 0 1-.893-.892L13 5H6l-.005.103a1 1 0 0 1-.892.892L5 6v7l.103.005A1 1 0 0 1 6 14h1.5a.5.5 0 0 1 0 1H6l-.005.102a1 1 0 0 1-.892.893L5 16H4l-.103-.005a1 1 0 0 1-.892-.893L3 15v-1a1 1 0 0 1 .897-.995L4 13V6l-.103-.005a1 1 0 0 1-.892-.892L3 5V4a1 1 0 0 1 .897-.995L4 3h1zM4 15h1v-1H4zm5-5h1V9H9zm10 0h1V9h-1zM4 5h1V4H4zm10 0h1V4h-1z"})})});var fl=i(175258),fd=i(126114);function fc(){let e=()=>{ty.Y5.triggerActionInUserEditScope("ungroup-selection")};return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("fullscreen_actions.ungroup-selection"),tooltipShortcutActionKey:"ungroup-selection",ariaLabel:(0,A.t)("fullscreen_actions.ungroup-selection"),onClick:e,recordingKey:"ungroupSelection",children:(0,o.jsx)(fo,{})}):(0,o.jsx)(pv.K0,{tooltip:"ungroup-selection",tooltipType:ii.Ib.LOOKUP,svg:fd.A,onClick:e,recordingKey:"ungroupSelection"})}function fu(){return(0,d.d4)(e=>{let t=e.mirror.selectionProperties.numSelectedByType;return(0,dp.Yh)(e.mirror.appModel,"ungroup-selection")&&t&&(0,fl.OU)(t,["FRAME","GROUP"])})}var fp=i(709354),fh=i(270307);function fm(){let e=(0,u3.kl)("washiTapePaint"),t=l.useMemo(()=>!e||(0,u4.gl)(e)?null:(0,fp.dG)("fillPaints",e),[e]),i=t?.data,n=i&&i.length>0?i[0]:void 0,r=e=>!!e;return[l.useMemo(()=>(i??[]).map(e=>{if(e?.type!=="IMAGE"||!e?.image?.hash)return;let t=(0,fn.nj)(e.image.hash);return hJ.B.find(e=>e.image===t)||{image:t,name:"w-custom",label:"Custom"}}).filter(r),[i]),n]}function ff({recordingKey:e}){let[t,i]=fm(),n=(0,u3.kl)("washiTapePaintIsMixed"),r=1===t.length?t[0]:t,[a,s]=l.useState(!1),[d,u]=l.useState(!1);l.useEffect(()=>{s(!1)},[i]);let p=()=>{ty.Y5.updateAppModel({currentSelectedProperty:{type:c.rrT.STROKE,indices:[0]}}),c.glU?.uploadPaintImage("NORMAL",1)},h=l.useMemo(()=>(0,pg.g)(),[]),m=l.useMemo(()=>(0,pg.g)(),[]),f=l.useMemo(()=>(0,mu.Wj)(hJ.B.length+1,(0,A.t)("whiteboard.inline_menu.washi_tape_pattern"),h),[h]),x=e=>(0,o.jsx)("div",{id:m,className:e_()({[fh.H]:e}),"aria-label":(0,A.t)("whiteboard.washi_tapes.custom"),role:"option","aria-selected":e,children:!Array.isArray(r)&&hJ.B.includes(r)?(0,o.jsx)(mu.HL,{value:mu.WW,swatchStyle:{fill:"rgba(255, 255, 255, 1)",boxShadow:"0px 0px 0px 1px rgba(255, 255, 255, 0.6) inset"},onPointerUp:p,tooltip:(0,A.t)("whiteboard.washi_tapes.custom"),fallbackSvg:mu.xY}):(0,o.jsx)(mu.YR,{imagePaint:i,background:"dark",size:"medium",selectionState:"selected",hovered:a,onPointerUp:p,onMouseEnter:()=>{s(!0)},onMouseLeave:()=>{s(!1)}})});return(0,o.jsx)(pC.Fn,{OptionWrapper:f,additionalOptionId:m,additionalOptionOnChange:p,additionalOptions:(e=!1)=>x(e),onChange:e=>{(0,hX.Cs)((0,hX.M8)(e),c.zkO.USER)},onToggleMenuOpen:u,optionEquality:(e,t)=>!(Array.isArray(e)||Array.isArray(t))&&e.image===t.image,options:hJ.B,renderButton:({value:t,ref:n,onClick:r,onKeyDown:a,active:s,activeOptionId:l})=>(0,o.jsx)(pv.$n,{active:s?"NORMAL":"NONE",ariaActiveDescendant:l,ariaControls:h,ariaLabel:(0,A.t)("whiteboard.inline_menu.washi_tape_pattern_selector_label",{currentPattern:(0,hJ.M)(t).toLocaleLowerCase()}),caret:"down",onKeyDown:a,onPointerDown:r,recordingKey:(0,cD.Pt)(e,"washiTapePatternSelectorButton"),role:"combobox",tooltip:Array.isArray(t)?(0,A.t)("whiteboard.delightful_toolbar.mixed"):(0,hJ.M)(t),children:!Array.isArray(t)&&hJ.B.includes(t)?(0,o.jsx)(mu.W1,{size:"small",value:(0,hX.M8)(t),ref:n}):(0,o.jsx)(mu.YR,{imagePaint:i,background:"dark",size:"small",ref:n})}),renderOption:({value:t,onClick:i,id:r,isSelected:a,isFocused:s})=>(0,o.jsx)("div",{"aria-label":(0,hJ.M)(t),"aria-selected":a,className:e_()({[fh.H]:s}),"data-tooltip":(0,hJ.M)(t),"data-tooltip-show-above":!0,"data-tooltip-type":ii.Ib.TEXT,id:r,role:"option",tabIndex:-1,children:(0,o.jsx)(mu.W1,{value:(0,hX.M8)(t),onPointerUp:e=>{d&&i(e)},selectionState:!n&&a?"selected":"unselected",recordingKey:(0,cD.Pt)(e,"washiTapePatternSelectorOption",t.name)})},t.name),value:r})}var fx=i(366203),f_=i(630194),fg=i(153399);function fb(e,t){return{itemStringType:e.itemStringType,identifier:e.identifier,isActive:t}}function fj({item:e,submenuActionEnabledMap:t,submenuActionActiveMap:i,toolbarPaletteSelectionsMap:n,startCapDirection:r,endCapDirection:a,customWhiteboardFontSize:s,strokeOpacity:o,strokeColor:l,imageScale:d}){let c=[],u=e.submenu.pages?e.submenu.pages?.flatMap(e=>e.items):e.submenu.items;return u&&(u=u.flatMap(e=>"itemGroupWithFallbacks"===e.itemStringType?e.options.flatMap(e=>e):e)).forEach(u=>{switch(u.itemStringType){case"iconAction":c.push(fy({submenuItem:u,submenuActionEnabledMap:t,submenuActionActiveMap:i,startCapDirection:r,endCapDirection:a}));break;case"textAction":c.push(fv({submenuItem:u,submenuActionEnabledMap:t,submenuActionActiveMap:i,customWhiteboardFontSize:s}));break;case"palette":if(n){let t=n.get(e.identifier);t&&c.push(t)}break;case"divider":switch(e.identifier){case"WHITEBOARD_COLOR":{let e=!!t.get("fillTypeVisible")||!!t.get("fillTypeTransparent")||!!t.get("fillTypeHidden");c.push({itemStringType:"divider",identifier:u.identifier,isVisible:e});break}case"WHITEBOARD_STROKE":{let e=(!!t.get("whiteboardStrokeSolid")||!!t.get("whiteboardStrokeDashed")||!!t.get("whiteboardStrokeNone"))&&(!!t.get("whiteboardStrokeThin")||!!t.get("whiteboardStrokeThick"));c.push({itemStringType:"divider",identifier:"DIVIDER_WHITEBOARD_STROKE",isVisible:e});break}case"PENCIL_STROKE":{let e=!1;pl.E5.forEach((i,n)=>{t.get(n)&&(e=!0)});let i=!!t.get("CONTEXTUAL_PENCIL_OPACITY")&&e;c.push({itemStringType:"divider",identifier:u.identifier,isVisible:i});break}case"IMAGE_CONTROLS":c.push({itemStringType:"divider",identifier:u.identifier,isVisible:!0})}break;case"slider":switch(e.identifier){case"PENCIL_STROKE":if(o&&l){let e=(0,u4.gl)(o)?1:o,i=(0,u4.gl)(l)?{r:0,g:0,b:0,a:1}:l;c.push({itemStringType:"slider",identifier:u.identifier,isVisible:!!t.get(u.identifier),color:i,value:e})}break;case"IMAGE_CONTROLS":c.push({itemStringType:"slider",identifier:u.identifier,isVisible:!!t.get(u.identifier),color:{r:56/255,g:56/255,b:56/255,a:1},value:d??1})}break;case"actionSelector":c.push({itemStringType:"actionSelector",identifier:u.identifier,iconImageURL:(0,t_.ck)("4bec08abeba0aaba641629d741396842f7f72790"),submenuItemStates:fj({item:u,submenuActionEnabledMap:t,submenuActionActiveMap:i})})}}),c}let fy=({submenuItem:e,submenuActionEnabledMap:t,submenuActionActiveMap:i,startCapDirection:n,endCapDirection:r})=>{let a={itemStringType:"iconAction",identifier:e.identifier,isActive:i.get(e.identifier)??!1,isVisible:t.get(e.identifier)??!1},s=mO.includes(e.identifier),o=mk.includes(e.identifier);return s&&(a.iconImageURL=mD(e.identifier,mS.START,n)),o&&(a.iconImageURL=mD(e.identifier,mS.END,r)),a},fv=({submenuItem:e,submenuActionEnabledMap:t,submenuActionActiveMap:i,customWhiteboardFontSize:n})=>{let r={itemStringType:"textAction",identifier:e.identifier,isActive:i.get(e.identifier)??!1,isVisible:t.get(e.identifier)??!1};return e.identifier===m$&&n&&(r.decoratorText=n.toString()),r};var fC=i(844818),fT=i(688563);let fE=()=>{let e=(0,j.rN)();if(e&&e.nativeContextualToolbarSupportedVersions){let t=e.nativeContextualToolbarSupportedVersions.min,i=e.nativeContextualToolbarSupportedVersions.max,n=po.MY.MIN,r=po.MY.MAX;if(n<=i&&t<=r)return Math.min(i,r)}},fS=()=>({version:po.MY.V5,identifier:"CONTEXTUAL",items:Array.from(ft().values())}),fw=()=>({version:po.MY.V6,identifier:"CONTEXTUAL",items:Array.from(fi().values())}),fI=(e,t)=>{let i=function(){let e=h7();return new Map([[c.Tcr.RESIZE_TO_FIT,["RESIZE_TO_FIT"]],[c.Tcr.TEXT_DECORATION,["TEXT_DECORATION_BOLD","TEXT_DECORATION_STRIKETHROUGH"]],[c.Tcr.WHITEBOARD_COLOR,["WHITEBOARD_COLOR"]],[c.Tcr.HIGHLIGHT_COLOR,["HIGHLIGHT_COLOR"]],[c.Tcr.STICKY_COLOR,["STICKY_COLOR"]],[c.Tcr.WASHI_TAPE_PATTERN,["WASHI_TAPE_PATTERN"]],[c.Tcr.IMAGE,["REPLACE_IMAGE","IMAGE_CONTROLS"]],[c.Tcr.BORDER,["IMAGE_BORDER"]],[c.Tcr.WHITEBOARD_SHAPE,["WHITEBOARD_SHAPE"]],[c.Tcr.WHITEBOARD_STROKE,["WHITEBOARD_STROKE","PENCIL_STROKE","HIGHLIGHTER_STROKE"]],[c.Tcr.FONT_FAMILY,["FONT_FAMILY"]],[c.Tcr.WHITEBOARD_TEXT_STYLE,["WHITEBOARD_TEXT_STYLE"]],[c.Tcr.TEXT_ALIGN_H,["TEXT_ALIGN"]],[c.Tcr.BULLETED_LIST,[e?"ORDERED_LIST":"UNORDERED_LIST"]],[c.Tcr.CONNECTOR_START_CAP,["CONNECTOR_START_CAP"]],[c.Tcr.CONNECTOR_END_CAP,["CONNECTOR_END_CAP"]],[c.Tcr.CONNECTOR_LINE_STYLE,["CONNECTOR_LINE_STYLE"]],[c.Tcr.ADD_TEXT,["ADD_CONNECTOR_TEXT"]],[c.Tcr.SECTION_SHOW_HIDE,["SECTION_SHOW_HIDE"]],[c.Tcr.SECTION_RENAME,["SECTION_RENAME"]],[c.Tcr.EMBED_OPEN_EXTERNAL,["EMBED_OPEN_EXTERNAL"]],[c.Tcr.EMBED_CONVERT_TO_TEXT,["EMBED_CONVERT_TO_TEXT"]],[c.Tcr.HYPERLINK,["HYPERLINK"]],[c.Tcr.AUTHOR_VISIBILITY,["AUTHOR_VISIBILITY"]],[c.Tcr.DIVIDER,["DIVIDER"]]])}(),n=function(){let e=(0,m.q8)(),t=(0,fa.V)(),i=(0,d.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);return new Map([["TIDY_UP",(0,u2.Zr)("tidy-up")],["GROUP_SELECTION",(0,u2.Zr)("group-selection")],["UNGROUP_SELECTION",fu()??!1],["CREATE_SECTION",(0,u2.Zr)("create-section-from-selection")],["ALIGNMENT",(0,u2.Zr)("align-top")&&i!==c.m1T.RASTER],["AI_QUICK_ACTIONS",!e&&t]])}(),r=function(){let e=(0,u3.kl)("imageHasNoStroke"),t=(0,u3.kl)("sectionContentsHidden"),i=(0,d.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo.mode===c.nzw.SECTION_NAME),n=(0,C.ut)(c.Ez5?.editorState().selectionIsHyperlink,!1),r=(0,u3.kl)("authorVisibility");return new Map([["TEXT_DECORATION_BOLD",(0,d.d4)(e=>(0,fs.N)(e.mirror.selectionProperties.fontStyle?.toString()||""))],["TEXT_DECORATION_STRIKETHROUGH",(0,d.d4)(e=>"STRIKETHROUGH"===e.mirror.selectionProperties.whiteboardTextDecoration)],["ORDERED_LIST",h7()],["UNORDERED_LIST",h8()],["IMAGE_BORDER",!1===e],["SECTION_SHOW_HIDE",!0===t],["SECTION_RENAME",i],["HYPERLINK",!0===n],["AUTHOR_VISIBILITY",!0===r]])}(),a=function(){let e=(0,u3.kl)("sectionContentsHidden"),t=(0,u3.kl)("name"),i=!t||""===t.trim();return new Map([["SECTION_SHOW_HIDE",e?(0,t_.ck)("4bd0b77f61f3fb82ef05fd310b8e2687b869c06a"):(0,t_.ck)("84b3f8771f16c5ea90e5d8274335a9ba095035af")],["SECTION_RENAME",i?(0,t_.ck)("88f9ce67669812647d9c63f5efc7a1c5d2524337"):(0,t_.ck)("9900d0f2ba10afd0b725938bcdbd81b642b9f473")]])}(),s=function(){let e=(0,u3.kl)("whiteboardColor"),t=mp(),[i,n]=fm(),r=new Map;[["WHITEBOARD_COLOR","paletteWhiteboardColor"],["HIGHLIGHT_COLOR","paletteHighlightColor"],["STICKY_COLOR","paletteStickyColor"]].forEach(([i,n])=>{let a=()=>{r.set(i,{itemStringType:"palette",paletteIdentifier:n,selectionType:po.Ud.customColor,colors:Array.isArray(t)?t:[t]})};if(null==e||(0,u4.gl)(e))a();else{let t=mC.get(i)?.map(t=>fg.zS(e,t)),s=t?.find(e=>e!==c.daH.CUSTOM)??c.daH.CUSTOM;s!==c.daH.CUSTOM?r.set(i,{itemStringType:"palette",paletteIdentifier:n,selectionType:po.Ud.presetColor,presetIdentifier:fg.sE.get(s),color:e}):a()}});let a=i[0],s=n?.imageThumbnail?.hash;return 1===i.length&&hJ.B.includes(a)?r.set("WASHI_TAPE_PATTERN",{itemStringType:"palette",paletteIdentifier:"paletteWashiTapePattern",selectionType:po.Ud.presetImage,presetIdentifier:a.name}):n?.type==="IMAGE"&&s&&r.set("WASHI_TAPE_PATTERN",{itemStringType:"palette",paletteIdentifier:"paletteWashiTapePattern",selectionType:po.Ud.customImage,imageIdentifier:(0,fn.nj)(s)}),r}(),o=function(){let e;switch((0,u3.kl)("whiteboardTextAlignHorizontal")){case"CENTER":e=(0,t_.ck)("d229c1db5d7709c1242ee4743c6ccf918e955dbb");break;case"LEFT":default:e=(0,t_.ck)("ffa1896c3a7c5ebb5a9faca54ab4b262d625d113");break;case"RIGHT":e=(0,t_.ck)("e1b765fa3f0498e863004a473d9afd59791fa85d")}let t=(0,u3.kl)("connectorStartCapDirection"),i=(0,u3.kl)("connectorEndCapDirection"),n=mP(),r=mU(),a=(0,u3.kl)("connectorLineStyleForSelection"),s=mz(),o=Object.keys(pD).find(e=>{let t=pD[e];if(void 0!==s)return s[0]===t.fontFamily});return new Map([["WHITEBOARD_SHAPE",(0,t_.ck)("d8365bd2d17cecaa713c289f051114fdf6590505")],["WHITEBOARD_STROKE",(0,t_.ck)("7f22083a673f802cfe0bddda8f70e81b4c45240a")],["PENCIL_STROKE",(0,t_.ck)("e138358eb8b3a07efda73c406e4c61cc3d9fe6d3")],["HIGHLIGHTER_STROKE",(0,t_.ck)("c1837ca930ad93b0f6cc7e262e425757c34bca44")],["TEXT_ALIGN",e],["CONNECTOR_START_CAP",mM.get(t)?.get(n)??(0,t_.ck)("deb5540ae4b6484e3bdb0025b52bf8e71a79391c")],["CONNECTOR_END_CAP",mM.get(i)?.get(r)??(0,t_.ck)("53332df23dae692567e44b5c3321d0ec811c23d5")],["CONNECTOR_LINE_STYLE","STRAIGHT"===a?mE:mT],["ALIGNMENT",(0,t_.ck)("01f4cc9eee24ffbf868d0a33aaaf8e82033a5d93")],["FONT_FAMILY",mK.get(o)??(0,t_.ck)("4d90c5e665fa16415b0b261e302696e4c706553a")],["IMAGE_CONTROLS",(0,t_.ck)("24060631afd5e4b0d2e5ace6f05f016f79b67f2b")]])}(),l=function(){let e=mX(),t=(0,A.t)("whiteboard.text_sizes.custom");if(e&&e.length>0){let i=e[0];if(e.length>1)t=(0,A.t)("whiteboard.inline_menu.font_size_mixed");else{let e=mq().find(e=>{let t=e.identifier.substring(mZ.length);return t in hg&&hg[t].maxValue===i});e&&(t=e.text)}}return new Map([["WHITEBOARD_TEXT_STYLE",t]])}(),u=function(){let e=(0,fx.w5)(),t=(0,fx.tA)(),i=(0,fx.XH)(),n=(0,fr.I9)(),r=n?.every(e=>e?.type==="VECTOR")??!1,a=n?.every(e=>e?.type==="HIGHLIGHT")??!1;return new Map([["WHITEBOARD_STROKE",t||i],["PENCIL_STROKE",e&&r],["HIGHLIGHTER_STROKE",e&&a]])}(),p=(0,H.MZ)(),h=fN(!1,p),f=(0,u3.kl)("locked"),x=function(){let e=mv(),t=hK(hW()),i=(0,fx.w5)(),n=(0,fx.tA)(),r=(0,fx.XH)(),a=function(){let e=[];for(let t in mS)mw.forEach(i=>{e.push([mN(t,i),!0])});return e}(),s=mm.map(e=>[e,!0]),o=mW().map(e=>[e.identifier,!0]),l=function(){let e=mX();return mq().map(t=>{if(t.identifier===m$){if(!e||0===e.length)return[t.identifier,!1];let i=e.some(e=>!hm.includes(e));return[t.identifier,i]}return[t.identifier,!0]})}(),d=function(){let e=(0,pK.Uq)();return mQ().map(t=>"CIRCLE"===t.identifier?[t.identifier,e]:[t.identifier,!0])}(),u=new Map([["fillTypeVisible",e&&t.includes(c.A$i.VISIBLE)],["fillTypeTransparent",e&&t.includes(c.A$i.TRANSPARENT)],["fillTypeHidden",e&&t.includes(c.A$i.HIDDEN)],["whiteboardStrokeSolid",n],["whiteboardStrokeDashed",n],["whiteboardStrokeNone",r],["whiteboardStrokeThin",i],["whiteboardStrokeThick",i],["textAlignLeft",!0],["textAlignCenter",!0],["textAlignRight",!0],...a,["connectorLineStraight",!0],["connectorLineElbowed",!0],["imageCropSlider",!0],["imageRotate",!0],...s,...o,...l,...d,["CONTEXTUAL_PENCIL_OPACITY",!0]]);return pl.E5.forEach((e,t)=>{u.set(t,i)}),pl.tj.forEach((e,t)=>{u.set(t,i)}),pl.p6.forEach(e=>{e.items.forEach(e=>{u.set(e.identifier,!0)})}),u}(),_=function(){let e=(0,u3.kl)("shapeWithTextFillType"),t=(0,u3.kl)("connectorTextBackgroundTransparent"),i=(0,u3.kl)("platformShapeFillType"),n=mv(),r=hz(hW(),e,t,i),a=(0,u3.kl)("whiteboardStrokeStyle"),s=(0,u3.kl)("whiteboardStrokeWeight"),o=(0,u3.kl)("whiteboardTextAlignHorizontal"),l=function(){let e=mP(),t=mU(),i=[];for(let n in mS){let r="START"===n?e:t;mw.forEach(e=>{i.push([mN(n,e),r===e])})}return i}(),d=(0,u3.kl)("connectorLineStyleForSelection"),u=mm.map(e=>[e,!1]),p=function(){let e=mz();return mW().map(t=>{let i=t.identifier.substring(mH.length);return[t.identifier,e?.includes(pD[i].fontFamily)??!1]})}(),h=function(){let e=mX();return mq().map(t=>{if(t.identifier===m$)return[t.identifier,!0];{let i=t.identifier.substring(mZ.length),n=!1;return i in hg&&(n=e?.includes(hg[i].maxValue)??!1),[t.identifier,n]}})}(),m=function(){let e=(0,pK.Mv)();return mQ().map(t=>[t.identifier,t.identifier===`${mJ}${e}`])}(),f=(0,fx.eX)("VECTOR"),x=(0,fx.eX)("HIGHLIGHT"),_=(0,f_.Ru)(s??0,f?"VECTOR":x?"HIGHLIGHT":"NONE"),g=new Map([["fillTypeVisible",n&&r===c.A$i.VISIBLE],["fillTypeTransparent",n&&r===c.A$i.TRANSPARENT],["fillTypeHidden",n&&r===c.A$i.HIDDEN],["whiteboardStrokeSolid","solid"===a],["whiteboardStrokeDashed","dashed"===a],["whiteboardStrokeNone","none"===a],["whiteboardStrokeThin","THIN"===_],["whiteboardStrokeThick","THICK"===_],["textAlignLeft","LEFT"===o],["textAlignCenter","CENTER"===o],["textAlignRight","RIGHT"===o],...l,["connectorLineStraight","STRAIGHT"===d],["connectorLineElbowed","ELBOWED"===d],...u,...p,...h,...m]);pl.E5.forEach((e,t)=>{g.set(t,s===e)}),pl.tj.forEach((e,t)=>{g.set(t,s===e)});let b=(0,u3.kl)("shapeWithTextTypeForSelection");return pl.p6.forEach(e=>{e.items.forEach(e=>{g.set(e.identifier,e.identifier===b)})}),g}(),g=h3("MENU",h2.CONTEXTUAL_TOOLBAR),b=(0,d.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),j=(0,u3.kl)("connectorStartCapDirection"),y=(0,u3.kl)("connectorEndCapDirection"),v=mX(),T=(0,u3.kl)("opacity"),E=(0,u3.kl)("whiteboardColor"),S=(0,pK.nB)(),w=function(){let e=(0,fa.v1)(),t=(0,fa.cF)(),i=(0,dt.a)(),n=[];if(e&&n.push(m6().identifier),t&&n.push(m5().identifier),!n.length)return null;let r=i?(0,A.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_mobile_disclaimer"):(0,A.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_mobile_disclaimer.ga");return{itemStringType:"menu",identifier:m9().identifier,visibleActionIdentifiers:[],visibleActionGroups:[{title:r,actionIdentifiers:n},{actionIdentifiers:[m4().identifier]}],requiredFields:["visibleActionGroups"]}}(),I=0,L=()=>{let e=mF(I);return I++,e};if(void 0===e)return null;if(f)return{version:e,identifier:"CONTEXTUAL",itemStates:[fb(fe,!1)],anchorPoints:h,id:p};let N=[];if(t)for(let n of t)i.get(n)?.map(t=>{if("DIVIDER"===t)return L();switch(e){case po.MY.V5:return ft().get(t);case po.MY.V6:return fi().get(t)}}).filter(e=>!!e).flatMap(e=>"itemGroupWithFallbacks"===e.itemStringType?e.options.flatMap(e=>e):e).forEach(e=>{switch(e.itemStringType){case"action":let t=e.identifier;N.push({itemStringType:"action",identifier:t,isActive:r.get(t)??!1,iconImageURL:a.get(t)});return;case"paletteSelector":let i=fj({item:e,submenuActionEnabledMap:x,submenuActionActiveMap:_,toolbarPaletteSelectionsMap:s});N.push({itemStringType:"paletteSelector",identifier:e.identifier,submenuItemStates:i});return;case"actionSelector":let n=e.identifier;if(!(u.get(n)??!0))return;let d=fj({item:e,submenuActionEnabledMap:x,submenuActionActiveMap:_,startCapDirection:j,endCapDirection:y,customWhiteboardFontSize:v?.find(e=>Object.values(hg).every(t=>t.maxValue!==e)),strokeOpacity:T,strokeColor:E,imageScale:S});N.push({itemStringType:"actionSelector",identifier:e.identifier,submenuItemStates:d,iconImageURL:o.get(n),label:l.get(n)});return;case"imageSelector":b!==c.m1T.RASTER&&N.push(e);return;case"divider":N.length>0&&"divider"!==N[N.length-1].itemStringType&&N.push(e);return}});return n.get("ALIGNMENT")&&N.push({itemStringType:"actionSelector",identifier:"ALIGNMENT",iconImageURL:(0,t_.ck)("01f4cc9eee24ffbf868d0a33aaaf8e82033a5d93"),submenuItemStates:fj({item:m_,submenuActionEnabledMap:x,submenuActionActiveMap:_})}),n.get("TIDY_UP")&&N.push(fb(m0,!1)),n.get("GROUP_SELECTION")&&N.push(fb(m1,!1)),n.get("UNGROUP_SELECTION")&&N.push(fb(m2,!1)),n.get("CREATE_SECTION")&&N.push(fb(m3,!1)),n.get("AI_QUICK_ACTIONS")&&w&&N.push(w),N.length&&"divider"!==N[N.length-1].itemStringType&&N.push(L()),N.push(fb(m8,!1)),N.push(g),N.push(fb(m7,!1)),{version:e,identifier:"CONTEXTUAL",itemStates:N,anchorPoints:h,id:p}};function fL({displayStateRef:e,anchorPointsStateRef:t}){let i=(0,j.rN)(),n=fI(fE(),(0,rn.R)(e=>e.mirror.selectionProperties.whiteboardControls));return!n||(0,pe.c2)(n.itemStates,e.current?.itemStates)&&(0,pe.c2)({...n.anchorPoints,displayStateId:null},{...e.current?.anchorPoints,displayStateId:null})||(i?.nativeContextualToolbarUpdateDisplayState?.(n),e.current=n),(0,o.jsx)(fA,{anchorPointsStateRef:t,displayStateId:e.current?.id})}let fN=(e,t)=>{let i=hL(),n=(0,C.J2)(c.Ez5.canvasViewState().selectionBoundingRect),r=(0,C.J2)(c.Ez5.canvasViewState().inlineMenuTarget),a=r?.boundingBox||n,s=(0,ps.v2)(),o=(0,O._X)({subscribeToUpdates_expensive:e}),u=(0,O.Yb)(o,a),h=(0,d.d4)(({mirror:{appModel:e}})=>[c.QOV.DEFAULT,c.QOV.SELECTING_TEXT].includes(e.activeUserAction)),m=(0,pr.WC)(),f=(0,pr.T$)(),x=(0,d.d4)(e=>e.universalInsertModal),_=(0,pr.wi)(),g=(0,d.d4)(e=>"NOT_PINNED"!==e.universalInsertModal.pinned),b=!!(0,p.md)(pa.ph),j=!!(0,p.md)(N.LQ),y=(0,d.d4)(({mirror:{appModel:e}})=>e.showUi),v=(0,pn._o)(),T=l.useRef({}),E=(0,d.d4)(e=>e.mirror.sceneGraphSelection),S=l.useRef(null),w=(0,d.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),I=w===c.m1T.RASTER,L=S.current===c.m1T.RASTER,A=Object.keys(E),k=Object.keys(T.current),R=!(A.length===k.length&&k.every(e=>A.includes(e)));if(T.current=E,S.current=w,!t)return null;let M=new pi.M(x.initialX,x.initialY),D=new pi.M(rj.gR,rj.zo),P=new pi.M(u.x,u.y),U=new pi.M(u.width,u.height),F=g&&new pt.r(M,D).containsIncludingBoundary(new pt.r(P,U));if(u.y+u.height<=(0,fC.VA)()+v||!(0,O.ZT)(u,o)||!i||!h||F||a.x===1/0||a.y===1/0||m||f||_&&!g||b||j)return null;let B=(0,fC.j5)(),H=y?0:B,V={x:a.x+a.width/2,y:a.y},G=(0,O.Z0)(o,V),W={x:G.x,y:G.y+B-s-H},K={x:a.x+a.width/2,y:a.y+a.height},z=(0,O.Z0)(o,K);return{above:W,below:{x:z.x,y:z.y+B+s-H},displayStateId:t,selectionChanged:R,shouldResetToolbar:L&&!I||R}};function fA({anchorPointsStateRef:e,displayStateId:t}){let i=fN(!0,t),n=(0,j.rN)(),r=(0,l.useRef)(!1),a=l.useCallback(()=>{n?.nativeContextualToolbarUpdateAnchorPoints&&t&&!(0,pe.c2)(e.current,i)&&(n.nativeContextualToolbarUpdateAnchorPoints(i),e.current=i)},[i,e,t,n]),s=(0,eg.A)(()=>{a(),r.current=!1},100),o=(0,O._X)({subscribeToUpdates_expensive:!1}),d=(0,cX.ZC)(o.y),c=o.y!==d;return l.useEffect(()=>{c?(r.current=!0,s()):r.current||a()},[s,a,c]),null}let fO=()=>{let e=(0,C.J2)(c.Ez5.canvasViewState().selectionBoundingRect),t=(0,C.J2)(c.Ez5.canvasViewState().inlineMenuTarget),i=t?.boundingBox||e,n=(0,O._X)({subscribeToUpdates_expensive:!0});if(i.x===1/0||i.y===1/0)return null;let r={x:i.x+i.width/2,y:i.y+i.height/2};return(0,O.Z0)(n,r)};function fk(e){let t=(0,j.BI)(),i=fO(),{commentPosition:n,setShouldAddComment:r}=e,a=10*Math.random(),s=10*Math.random(),d=i?{x:i.x+a,y:i.y+s}:null,c=n??d;if(c){let{x:e,y:i}=c;t?.requestToAddDraftCommentPin?.({x:Math.round(e),y:Math.round(i),width:32*1.15,height:32*1.15})}return l.useEffect(()=>{r(!1)},[r]),(0,o.jsx)(o.Fragment,{})}function fR(e){let{contextMenuPosition:t,setShouldUpdateMenu:i}=e,n=(0,j.rN)(),r=fE(),a=h3("MENU",h2.CANVAS);return r&&n?.nativeContextualToolbarUpdateMenuState?.({version:r,menuState:a,position:t}),l.useEffect(()=>{i(!1)},[i]),(0,o.jsx)(o.Fragment,{})}let fM=e=>{if(void 0!==e)switch(e){case po.MY.V5:return fS();case po.MY.V6:return fw();default:(0,t4.xb)(e)}};function fD(){let e=(0,j.kM)(),t=function(){let e=(0,pK.Xb)(),[t,i]=(0,u3.lJ)("sectionContentsHidden"),n=mo(),r=(0,mt.f)(),a=(0,me.o)(c.zkO.USER),[s,o]=(0,u3.lJ)("authorVisibility");return new Map([["TEXT_DECORATION_BOLD",()=>(0,lL.Jm)("toggle-bold")],["TEXT_DECORATION_STRIKETHROUGH",()=>(0,lL.Jm)("text-toggle-strikethrough")],["TIDY_UP",()=>(0,lL.Jm)("tidy-up")],["CREATE_SECTION",()=>(0,lL.Jm)("create-section-from-selection")],["GROUP_SELECTION",()=>(0,lL.Jm)("group-selection")],["UNGROUP_SELECTION",()=>(0,lL.Jm)("ungroup-selection")],["RESIZE_TO_FIT",()=>(0,lL.Jm)("resize-to-fit")],["DUPLICATE",()=>{(0,lL.Jm)("leave-edit-mode"),(0,lL.Jm)("duplicate-in-place")}],["DELETE",()=>{(0,lL.Jm)("leave-edit-mode"),(0,lL.Jm)("delete-selection")}],["UNLOCK",()=>(0,lL.Jm)("unlock-selected-nodes")],["ORDERED_LIST",()=>(0,lL.Jm)("text-toggle-ordered-list")],["UNORDERED_LIST",()=>(0,lL.Jm)("text-toggle-unordered-list")],["IMAGE_BORDER",()=>e()],["SECTION_SHOW_HIDE",()=>i(!t)],["SECTION_RENAME",()=>n()],["EMBED_OPEN_EXTERNAL",()=>r()],["EMBED_CONVERT_TO_TEXT",()=>a()],["HYPERLINK",()=>ty.Y5.triggerAction("text-edit-hyperlink")],["AUTHOR_VISIBILITY",()=>o(!s)],["ADD_CONNECTOR_TEXT",()=>(0,lL.Jm)("add-connector-text")]])}();l.useEffect(()=>{e&&(e._native_contextual_toolbar_perform_action=e=>{t.get(e)?.()})},[t,e]);let i=hW(),n=(0,u3.A5)("shapeWithTextTypeForSelection"),r=(0,u3.A5)("shapeWithTextFillType"),a=(0,u3.A5)("connectorTextBackgroundTransparent"),s=(0,u3.A5)("platformShapeFillType"),u=(0,u3.A5)("whiteboardStrokeStyle"),p=(0,u3.A5)("whiteboardStrokeWeight"),h=(0,u3.A5)("connectorStartCapForSelection"),m=(0,u3.A5)("connectorEndCapForSelection"),f=(0,u3.A5)("connectorLineStyleForSelection"),x=(0,u3.A5)("whiteboardFontFamilies"),_=(0,u3.A5)("whiteboardFontSizes"),g=(0,pK.te)();l.useEffect(()=>{e&&(e._native_contextual_toolbar_activate_submenu_item=e=>{var t=e;switch(pl.U9.includes(e)?t="SHAPE_NAME":mO.includes(e)?t="START_CAP_TYPE":mk.includes(e)?t="END_CAP_TYPE":mm.includes(e)?t="ALIGNMENT":e.startsWith(mH)?t="FONT_FAMILY":e.startsWith(mZ)?t="FONT_SIZE":e.startsWith(mJ)?t="IMAGE_CROP":pl.k.includes(e)?t="HIGHLIGHTER_STROKE_WIDTH":pl.X4.includes(e)&&(t="PENCIL_STROKE_WIDTH"),t){case"fillTypeVisible":hG(c.A$i.VISIBLE,i,r,a,s);break;case"fillTypeTransparent":hG(c.A$i.TRANSPARENT,i,r,a,s);break;case"fillTypeHidden":hG(c.A$i.HIDDEN,i,r,a,s);break;case"whiteboardStrokeSolid":u("solid");break;case"whiteboardStrokeDashed":u("dashed");break;case"whiteboardStrokeNone":u("none");break;case"whiteboardStrokeThin":p(hq.wv);break;case"whiteboardStrokeThick":p(hq.uM);break;case"PENCIL_STROKE_WIDTH":{let t=pl.E5.get(e);t&&p(t);break}case"HIGHLIGHTER_STROKE_WIDTH":{let t=pl.tj.get(e);t&&p(t);break}case"textAlignLeft":he("LEFT");break;case"textAlignCenter":he("CENTER");break;case"textAlignRight":he("RIGHT");break;case"connectorLineStraight":f("STRAIGHT");break;case"connectorLineElbowed":f("ELBOWED");break;case"START_CAP_TYPE":let o=mA(e),l=null!=o?mI.get(o):null;l&&h(l);break;case"END_CAP_TYPE":let d=mA(e),b=null!=d?mI.get(d):null;b&&m(b);break;case"SHAPE_NAME":n(e);break;case"ALIGNMENT":let j=my.get(e);j&&(0,lL.Jm)(j);break;case"FONT_FAMILY":let y=e.substring(mH.length);y in pD&&x([pD[y].fontFamily]);break;case"FONT_SIZE":let v=e.substring(mZ.length);mY.includes(v)&&_([hg[v].maxValue]);break;case"IMAGE_CROP":let C=e.substring(mJ.length);C&&pK.Id.has(C)&&(ty.Y5.triggerActionInUserEditScope("crop-image"),g?.(C));break;case"imageRotate":ty.Y5.triggerActionInUserEditScope("rotate-image-90-clockwise")}})},[e,i,f,a,m,g,s,n,r,h,u,p,x,_]);let y=function(){let e=new Map;return e.set("WHITEBOARD_COLOR",new Map((0,pl.LK)("WHITEBOARD_COLOR").map(([e,t])=>[t,e]))),e.set("HIGHLIGHT_COLOR",new Map((0,pl.LK)("HIGHLIGHTER").map(([e,t])=>[t,e]))),e.set("STICKY_COLOR",new Map((0,pl.LK)("STICKY").map(([e,t])=>[t,e]))),e}(),v=(0,u3.A5)("whiteboardColor");l.useEffect(()=>{e&&(e._native_toolbar_set_palette_color=(e,t)=>{v(t)},e._native_toolbar_set_palette_preset=(e,t)=>{if("WASHI_TAPE_PATTERN"===e){let e=hJ.B.find(e=>e.name===t);e&&(0,hX.Cs)((0,hX.M8)(e),c.zkO.USER);return}let i=y.get(e)?.get(t);i&&v(i)},e._native_toolbar_set_palette_image_data=(e,t,i)=>{if("WASHI_TAPE_PATTERN"===e){let e=(0,rR.Vs)(i);ty.Y5.updateAppModel({currentSelectedProperty:{type:c.rrT.STROKE,indices:[0]}}),c.glU.setCustomWashiTapeImageFromFile(e)}})},[y,e,v]);let C=(0,hN.j)();l.useEffect(()=>{e&&(e._native_toolbar_set_image_selector_data=(e,t,i)=>{if("REPLACE_IMAGE"!==e||!C)return;let{paint:n,paintIndex:r}=C,a=(0,rR.Vs)(i);ty.Y5.updateAppModel({currentSelectedProperty:{type:c.rrT.FILL,indices:[r]}});let s=n.blendMode||"NORMAL",o=n.opacity||1;c.glU.replaceImageFromFile({data:a,mimeType:t,name:"File"},s,o)})},[C,e]);let[T,E]=(0,l.useState)({x:0,y:0}),[S,w]=(0,l.useState)(!1),[I,L]=(0,l.useState)(null),[N,A]=(0,l.useState)(!1),O=(0,pd.dA)(),k=h3("MENU",h2.CANVAS),R=fE();l.useEffect(()=>{R&&e&&(e._native_contextual_toolbar_get_canvas_context_menu_state=()=>({version:R,menuState:k,position:T}))},[T,k,e,R]);let M=(0,b.p8)("showUi");l.useEffect(()=>{e&&(e._native_contextual_toolbar_perform_menu_action=(e,t,i)=>{switch(e){case"MENU":(0,lL.Jm)("set-tool-default");let n=h0.get(t);n?(0,lL.Jm)(n):"ADD_COMMENT"===t&&(L(i),A(!0));break;case"AI_QUICK_ACTIONS":switch(t){case"AI_SUMMARIZE":O({type:pd.Ay.SUMMARIZE,enabled:!0});break;case"AI_SORT":O({type:pd.Ay.CLUSTER,enabled:!0});break;case"AI_LEARN_MORE":dW.Ay.unsafeRedirect(pd.nG,"_blank")}}},e._native_contextual_toolbar_request_menu_items=e=>{E(e),w(!0)})},[e,O,M]);let D=(0,d.d4)(({mirror:{appModel:e}})=>e.activeUserAction===c.QOV.RESIZING);l.useEffect(()=>{e&&(e._native_contextual_toolbar_web_notification=e=>{switch(e){case"enterCropMode":ty.Y5.triggerActionInUserEditScope("crop-image");break;case"exitCropMode":D||(0,lL.Jm)("leave-edit-mode")}})},[e,D]);let P=(0,l.useRef)(null),U=(0,l.useRef)(null),F=(0,d.d4)(e=>e.mirror.appModel.isReadOnly);return(0,o.jsxs)(o.Fragment,{children:[F?null:(0,o.jsx)(fL,{displayStateRef:P,anchorPointsStateRef:U}),S?(0,o.jsx)(fR,{contextMenuPosition:T,setShouldUpdateMenu:w}):null,N?(0,o.jsx)(fk,{commentPosition:I,setShouldAddComment:A}):null]})}var fP=i(379902);let fU="animated_lock_svg--active--fHnjO",fF={duration:500,fill:"forwards"},fB={duration:250,fill:"forwards"};var fH=(e=>(e[e.LOCKED=0]="LOCKED",e[e.UNLOCKED=1]="UNLOCKED",e))(fH||{});function fV(e){return e.map(e=>new Animation(e,document.timeline))}function fG(e,t){let[i,n]=l.useState([]),[r,a]=l.useState([]),s=l.useRef(null),d=l.useRef(null);l.useLayoutEffect(()=>{n(fV([new KeyframeEffect(s.current,[{transform:"translateY(2px)",offset:0,easing:"linear"},{transform:"translateY(3px)",offset:.4,easing:"ease-out"},{transform:"translateY(4px)",offset:.6,easing:"ease-out"},{transform:"translateY(0px)",offset:1}],fF),new KeyframeEffect(s.current,[{strokeDashoffset:-2,offset:0,easing:"linear"},{strokeDashoffset:-2,offset:.4,easing:"ease-out"},{strokeDashoffset:-2,offset:.6,easing:"ease-out"},{strokeDashoffset:0,offset:1}],fF),new KeyframeEffect(d.current,[{transform:"translateY(0px)",offset:0,easing:"linear"},{transform:"translateY(1px)",offset:.4,easing:"ease-out"},{transform:"translateY(1px)",offset:.6,easing:"ease-out"},{transform:"translateY(0px)",offset:1}],fF)])),a(fV([new KeyframeEffect(s.current,[{transform:"translateY(0px)",offset:0,easing:"ease-out"},{transform:"translateY(2px)",offset:1}],fB),new KeyframeEffect(s.current,[{strokeDashoffset:0,offset:0,easing:"ease-out"},{strokeDashoffset:-2,offset:1}],fB)]))},[n,a]);let c=l.useCallback(e=>{e.forEach(e=>{e.playbackRate=1,e.play()})},[]),u=l.useCallback(e=>{e.forEach(e=>{e.cancel()})},[]);return{unlockAnimation:()=>{u(r),c(i)},lockAnimation:()=>{u(i),c(r)},AnimatedLockSvg:(0,o.jsxs)("svg",{className:"animated_lock_svg--lockSvg--vBUvA",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,o.jsx)("rect",{className:e_()("animated_lock_svg--lockBody--h8eXF",{[fU]:t}),x:"14.5",y:"18.5",width:"11",height:"7",ref:d}),(0,o.jsx)("path",{className:e_()("animated_lock_svg--lockShackle--Zaieb",{[fU]:t,"animated_lock_svg--locked--eN8B-":0===e}),d:"M23.5 18V15C23.5 13.067 21.933 11.5 20 11.5V11.5C18.067 11.5 16.5 13.067 16.5 15L16.5 16",ref:s})]})}}var fW=i(883901);function fK(e){let{lockAnimation:t,unlockAnimation:i,AnimatedLockSvg:n}=fG(fH.LOCKED);return e.shouldAnimateOnHover?(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{tooltip:(0,A.t)("whiteboard.inline_menu.unlock"),ariaLabel:(0,A.t)("whiteboard.inline_menu.unlock"),dataTestId:"unlock-control-v2",htmlAttributes:{onMouseEnter:i,onMouseLeave:t},onClick:()=>ty.Y5.triggerActionInUserEditScope("unlock-selected-nodes"),recordingKey:"unlockV2",variant:"button",children:n}):(0,o.jsx)(pv.$n,{tooltip:(0,A.t)("whiteboard.inline_menu.unlock"),onClick:()=>ty.Y5.triggerActionInUserEditScope("unlock-selected-nodes"),recordingKey:"unlockV2",onMouseEnter:i,onMouseLeave:t,testId:"unlock-control-v2",buttonStyle:{padding:"0px"},children:n}):(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("whiteboard.inline_menu.unlock"),onClick:()=>ty.Y5.triggerActionInUserEditScope("unlock-selected-nodes"),recordingKey:"unlock","data-testid":"unlock-control",ariaLabel:(0,A.t)("whiteboard.inline_menu.unlock"),children:(0,o.jsx)(fP.$,{})}):(0,o.jsx)(pv.K0,{svg:fW.A,tooltip:(0,A.t)("whiteboard.inline_menu.unlock"),onClick:()=>ty.Y5.triggerActionInUserEditScope("unlock-selected-nodes"),recordingKey:"unlock",testId:"unlock-control",svgStyle:{stroke:"var(--color-icon-menu-secondary)",fill:"none"}})}class fz extends pj.c${}var fZ=(e=>(e.LOCK_ALL="lock_all",e.LOCK_SECTION_BACKGROUND_ONLY="lock_section_background_only",e))(fZ||{});let f$=["lock_all","lock_section_background_only"],fY=()=>({lock_all:(0,A.t)("whiteboard.inline_menu.lock_all"),lock_section_background_only:(0,A.t)("whiteboard.inline_menu.lock_background_only")});function fq(){let[e,t]=l.useState([]),[i,n]=l.useState(!1),[r,a]=l.useState(!1),s=l.useRef(null),d=l.useRef(null),c=l.useRef(null),{lockAnimation:u,unlockAnimation:p,AnimatedLockSvg:h}=fG(fH.LOCKED,r),m=(c.current?.getBoundingClientRect().width||0)+40;l.useLayoutEffect(()=>{t([new KeyframeEffect(d.current,[{maxWidth:"40px"},{maxWidth:`${m}px`}],{duration:200,fill:"forwards",easing:"ease-out"}),new KeyframeEffect(c.current,[{opacity:"0"},{opacity:"1"}],{duration:200,fill:"forwards"})].map(e=>new Animation(e,document.timeline)))},[m]);let f=l.useCallback(e=>{e.forEach(e=>{e.playbackRate=1,e.play()})},[]);return(0,o.jsx)(e4.E,{className:"lock_control--buttonWrapper--Xlvr9",onClick:()=>{i?ty.Y5.triggerActionInUserEditScope("unlock-selected-nodes"):(n(!0),f(e))},ref:s,htmlAttributes:{onMouseEnter:()=>{p(),a(!0)},onMouseLeave:()=>{u(),a(!1)},"data-tooltip-type":i?void 0:"text","data-tooltip":i?void 0:(0,A.t)("whiteboard.inline_menu.unlock"),"data-testid":"unlock-with-friction-control"},recordingKey:"unlock-with-friction-control","aria-label":i?void 0:(0,A.t)("whiteboard.inline_menu.unlock"),children:(0,o.jsxs)("div",{className:"lock_control--button--XGLsY",ref:d,children:[h,(0,o.jsx)("span",{className:"lock_control--text--YFFB- text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",ref:c,children:(0,A.tx)("whiteboard.inline_menu.click_again_to_unlock")})]})})}function fX({reportWidth:e,value:t,optionProps:i}){let n=l.useRef(null);return l.useLayoutEffect(()=>{let i=n.current;return i&&e(t,i.getBoundingClientRect().width),()=>e(t,void 0)},[n,t,e,i.svg]),(0,o.jsx)("div",{className:"lock_control--offscreenMeasurementContainer---yCeM","aria-hidden":!0,children:(0,o.jsx)(fz,{...i,additionalStylesClassName:e_()(i.additionalStylesClassName,"lock_control--optionForMeasurement--q4Xze"),forwardedRef:n})})}let fJ=(0,l.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",d:"M18.37 10.225a1 1 0 0 1 1.337.068l2 2a1 1 0 0 1 0 1.414l-7 7A1 1 0 0 1 14 21h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 .293-.707l7-7zM12 18v2h2l7-7-2-2zm-2-6c1.246 0 2.416.326 3.43.898.277.156.31.532.086.757a.54.54 0 0 1-.64.08 5.993 5.993 0 0 0-7.759 1.78c-.193.268-.578.337-.81.101a.48.48 0 0 1-.054-.612A6.99 6.99 0 0 1 10 12m0-9a4 4 0 1 1 0 8 4 4 0 0 1 0-8m0 1a3 3 0 1 0 0 6 3 3 0 0 0 0-6"})})});var fQ=i(376762),f0=i(837500),f1=i(198712),f2=i(823759);function f3({ariaLabel:e,tooltip:t,...i}){let n=(0,d.wA)(),r=(0,iE.Um)();return(0,o.jsx)("div",{"data-tooltip-show-above":!0,"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":t,className:f2.kL,children:(0,o.jsx)(pj.l6,{ariaLabel:e??(0,pJ.En)({"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":t}),blurOnChange:!0,chevronClassName:f2.ai,className:f2.Lt,dispatch:n,dropdownAlignment:"right",dropdownClassName:eE.Dm,dropdownShown:r,dropdownWidth:144,id:"codeBlockLanguageSelector",inputClassName:f2.hF,role:"combobox",targetDomNode:document.body,...i})})}function f5(e){return e?(0,u4.gl)(e)?(0,A.t)("whiteboard.code_blocks.mixed"):(0,A.t)("whiteboard.inline_menu.programming_language_label",{currentLanguage:f0.lR.format(e)}):void 0}function f6(e){return e?(0,u4.gl)(e)?"MIXED":e:void 0}var f4=i(191804);function f9(e){return e?(0,u4.gl)(e)?"MIXED":e:void 0}var f8=i(398894),f7=i(198083),xe=i(697177),xt=i(850064),xi=i(782297),xn=i(958417),xr=i(576394),xa=i(237376),xs=i(359179),xo=i(130281),xl=i(520385),xd=i(319662);let xc={ROUND:xo.A,ARROW_LINES:xs.A,ARROW_EQUILATERAL:xl.A,TRIANGLE_FILLED:xd.A,DIAMOND_FILLED:xa.A,CIRCLE_FILLED:xr.A},xu={ROUND:(0,o.jsx)(f8.t,{}),ARROW_LINES:(0,o.jsx)(f7.D,{}),ARROW_EQUILATERAL:(0,o.jsx)(xe.l,{}),TRIANGLE_FILLED:(0,o.jsx)(xt.C,{}),DIAMOND_FILLED:(0,o.jsx)(xi.L,{}),CIRCLE_FILLED:(0,o.jsx)(xn.t,{})},xp=["ROUND","ARROW_LINES","ARROW_EQUILATERAL","TRIANGLE_FILLED","CIRCLE_FILLED","DIAMOND_FILLED"],xh=e=>function(){let t;let[i,n]=(0,u3.lJ)("connectorStartCap"===e?"connectorStartCapForSelection":"connectorEndCapForSelection"),r=(0,u3.kl)("connectorStartCap"===e?"connectorStartCapDirection":"connectorEndCapDirection"),a="connectorStartCap"===e?(0,A.t)("whiteboard.inline_menu.connector_start_point"):(0,A.t)("whiteboard.inline_menu.connector_end_point"),s=l.useMemo(()=>(0,pg.g)(),[]),[d,p]=l.useState(!1),h=(0,u3.kl)("connectorLineStyleForSelection"),m=e=>{n(e),"STRAIGHT"===h&&c.DV9?.snapshotStraightConnectorCaps()},f=x_(i);f&&(t="connectorStartCap"===e?(0,A.t)("whiteboard.inline_menu.connector_start_point_selector_label",{currentStartCap:f.toLocaleLowerCase()}):(0,A.t)("whiteboard.inline_menu.connector_end_point_selector_label",{currentEndCap:f.toLocaleLowerCase()}));let x=xp.map(t=>({value:t,content:(0,o.jsx)("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",transform:xm(e,r),pointerEvents:"none"},children:xx(t)}),label:x_(t),isSelected:!(0,u4.gl)(i)&&i===t})),_=l.useMemo(()=>(0,o.jsx)("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"center",transform:xm(e,r)},children:xx(i)}),[i,r]);return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(p2,{onChange:m,options:x,tooltip:a,ariaLabel:t,buttonContent:_,recordingKey:`${e}Control`}):(0,o.jsx)(pC.Fn,{value:i,onChange:m,renderButton:({onClick:n,onKeyDown:l,ref:d,active:c,activeOptionId:u})=>(0,o.jsx)(pv.K0,{ref:d,active:c?"NORMAL":"NONE",ariaActiveDescendant:u,ariaControls:s,ariaLabel:t,caret:"down",onKeyDown:l,onPointerDown:n,recordingKey:`${e}Control`,role:"combobox",svg:xf(i),svgStyle:{transform:xm(e,r)},tooltip:a}),options:xp,renderOption:({value:t,onClick:i,id:n,isSelected:a,isFocused:s})=>(0,o.jsx)(pv.K0,{active:a?"LOUD":"NONE",focused:s,id:n,onPointerUp:e=>{d&&i(e)},recordingKey:(0,cD.Pt)(`${e}Control`,String(t)),role:"option",svg:xf(t),svgStyle:{transform:xm(e,r)},tooltip:x_(t)},String(t)),OptionWrapper:(0,pC.SC)(a,s),onToggleMenuOpen:p})};function xm(e,t){switch((0,u4._W)(t,"connectorStartCap"===e?"left":"right")){case"up":return"rotate(-90deg)";case"right":return"rotate(0deg)";case"down":return"rotate(90deg)";case"left":return"rotate(180deg)"}}function xf(e){switch(e){case"ARROW_EQUILATERAL":case"ARROW_LINES":case"DIAMOND_FILLED":case"TRIANGLE_FILLED":case"CIRCLE_FILLED":case"ROUND":return xc[e];default:return xc.ROUND}}function xx(e){switch(e){case"ARROW_EQUILATERAL":case"ARROW_LINES":case"DIAMOND_FILLED":case"TRIANGLE_FILLED":case"CIRCLE_FILLED":case"ROUND":return xu[e];default:return xu.ROUND}}function x_(e){switch(e){case"ARROW_EQUILATERAL":return(0,A.t)("whiteboard.connector_caps.solid_arrow");case"ARROW_LINES":return(0,A.t)("whiteboard.connector_caps.line_arrow");case"TRIANGLE_FILLED":return(0,A.t)("whiteboard.connector_caps.triangle");case"DIAMOND_FILLED":return(0,A.t)("whiteboard.connector_caps.diamond");case"CIRCLE_FILLED":return(0,A.t)("whiteboard.connector_caps.circle");default:return(0,A.t)("whiteboard.connector_caps.none")}}let xg=xh("connectorStartCap"),xb=xh("connectorEndCap"),xj=(0,l.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",d:"M18.5 4a.5.5 0 0 1 0 1h-4A2.5 2.5 0 0 0 12 7.5v9A3.5 3.5 0 0 1 8.5 20h-4a.5.5 0 0 1 0-1h4a2.5 2.5 0 0 0 2.5-2.5v-9A3.5 3.5 0 0 1 14.5 4z"})})}),xy=(0,l.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",d:"M18.135 4.16a.5.5 0 1 1 .73.681l-14 15a.5.5 0 1 1-.73-.682z"})})}),xv=(0,l.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",d:"M18.5 4a.5.5 0 0 1 0 1 6.5 6.5 0 0 0-6.5 6.5v1A7.5 7.5 0 0 1 4.5 20a.5.5 0 0 1 0-1 6.5 6.5 0 0 0 6.5-6.5v-1A7.5 7.5 0 0 1 18.5 4"})})});var xC=i(16090),xT=i(31321),xE=i(39247);let xS={ELBOWED:xT.A,STRAIGHT:xE.A,CURVED:xC.A},xw={ELBOWED:(0,o.jsx)(xj,{}),STRAIGHT:(0,o.jsx)(xy,{}),CURVED:(0,o.jsx)(xv,{})};function xI(e){switch(e){case"ELBOWED":case"STRAIGHT":case"CURVED":return xS[e];default:return xS.ELBOWED}}function xL(e){switch(e){case"ELBOWED":return(0,A.t)("whiteboard.inline_menu.line_shape_elbowed");case"STRAIGHT":return(0,A.t)("whiteboard.inline_menu.line_shape_straight");case"CURVED":return(0,A.t)("whiteboard.inline_menu.line_shape_curved");default:return""}}function xN(e){switch(e){case"ELBOWED":default:return c.PoC.ELBOWED;case"STRAIGHT":return c.PoC.STRAIGHT;case"CURVED":return c.PoC.CURVED}}var xA=i(301080),xO=i(671547),xk=i(483451);function xR(e){let t=(0,fr.uQ)(),i=(0,u3.kl)("embedData"),n=(0,xO.tq)(i),[r,a]=(0,p.fp)(hT.n),s=l.useCallback(()=>{t&&(n(xO.yc.EMBED_EXPAND),a({type:"ACTIVATE_AND_MAXIMIZE",payload:{embedNodeID:t}}))},[a,t,n]);return i&&t&&(!r||e.inModal)?(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("whiteboard.embeds.inline_menu.maximize"),ariaLabel:(0,A.t)("whiteboard.embeds.inline_menu.maximize"),onClick:s,recordingKey:"embedMaximizeControl",children:(0,o.jsx)(xA.O,{})}):(0,o.jsx)(pv.K0,{svg:xk.A,active:"NONE",tooltip:(0,A.t)("whiteboard.embeds.inline_menu.maximize"),onClick:s,recordingKey:"embedMaximizeControl"}):null}var xM=i(850789),xD=i(23528),xP=i(136698),xU=i(565197),xF=i(407856),xB=i(504727),xH=i(599095);let xV="face_stamp_control--userLabeliPad--HZsHg",xG="face_stamp_control--faceStampOption--bMfTI";var xW=i(364616);let xK={top:0,right:0,bottom:0,left:0,width:0,height:0};function xz({onSelect:e}){let[t,i]=l.useState(""),[n]=(0,xM.A)(t,200),{faceStampServerSideSearch:r,faceStampSearchIsLoading:a,faceStampSearchHasResolved:s}=(0,xD.A)({maxResults:5}),d=(0,nE.U5)(n,6),c=a||!s;l.useEffect(()=>{r(n)},[r,n]);let u=(0,iE.BK)("face_stamp_replacement_dropdown"),p=xZ(d),m=(0,fr.Tv)(),f=l.useMemo(()=>{let t=[];switch(!0){case c:t=[(0,o.jsx)(t8.c$,{className:e_()(xG,"face_stamp_control--faceStampOption__loading--o6hDI"),children:(0,o.jsx)(oC.k,{size:"lg"})},"loading")];break;case d.length>0:t=d.filter(e=>!!p[e.id]).map((t,i)=>(0,o.jsxs)(t8.c$,{recordingKey:`faceStampInlineSwitcherOption-${t.id}`,onClick:async()=>{let i=await (0,xU.uL)({profileImageUrl:`${t.hi_res_img_url||t.img_url}?c=1`,userName:t.name||t.handle||"",userColor:(0,xP.$L)(t.id,xP.us),noCircleOutline:!1}),n=(0,xF.lJ)(i).filter(e=>"s-profile"===e.name),r=(0,xU.k6)(n[0],"F24822")||"";if(m)for(let e of m)(0,xU.w8)(r,t.id,e,U.zk.USER);e()},className:xG,children:[(0,o.jsx)("img",{className:"face_stamp_control--faceStampOptionThumb--Aoyvy",src:p[t.id],alt:(0,A.t)("whiteboard.inserts.faces_inline_search_image_alt_text",{user:t.handle})}),(0,o.jsx)("span",{className:e_()("face_stamp_control--userDropdownOption--WodTi ellipsis--ellipsis--Tjyfa",{[xV]:h.XN}),children:t.handle})]},i));break;case 0===d.length:t=[(0,o.jsx)(t8.c$,{className:xG,children:(0,o.jsx)("span",{className:"face_stamp_control--noSearchFoundText--CAeSf ellipsis--ellipsis--Tjyfa",children:(0,A.tx)("whiteboard.inserts.faces_inline_search_no_results",{searchQuery:(0,o.jsx)("span",{className:"face_stamp_control--emptyStateStrongText--Og0Ql",children:n})})})},"no-results")]}return t},[c,d,n,p,e,m]);return(0,o.jsx)(xB.Jz,{autofocusPrevElementOnEsc:!0,autofocusPrevElementOnSelect:!0,className:"face_stamp_control--faceStampDropdown--fSoHZ",hideDropdown:u.hide,lean:"right",leanPadding:0,maxWidth:226,minWidth:226,options:[(0,o.jsx)(eC.IW,{className:"face_stamp_control--searchBar--xHXdo",clearSearch:()=>i(""),focusOnMount:!0,hideSearchIcon:!0,hideXIcon:!n,isKeyDownHandled:t=>"Escape"===t.key&&(e(),!0),onChange:i,placeholder:(0,A.t)("whiteboard.face_stamps.enter_name"),query:n,selectTextOnMount:!0},"search"),...f],propagateCloseClick:!0,recordingKey:"faceStampSwitcherDropdown",showPoint:!1,targetRect:xK})}let xZ=e=>{let[t,i]=l.useState({});return l.useEffect(()=>{(async function(){i((await Promise.all(e.map(async e=>({id:e.id,profileUrl:await (0,xU.uL)({profileImageUrl:`${e.hi_res_img_url||e.img_url}?c=1`,userName:e.name||e.handle||"",userColor:(0,xP.$L)(e.id,xP.us),noCircleOutline:!0})})))).reduce((e,{id:t,profileUrl:i})=>({...e,[t]:i}),{}))})()},[e]),t};var x$=i(865092),xY=i(816110);let xq=(0,l.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",d:"M8.725 11.083a.5.5 0 0 1 .629.064l7.853 7.854H18a1 1 0 0 0 1-1v-.5a.5.5 0 0 1 1 0v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-3.5a.5.5 0 0 1 1 0v.293l3.646-3.647zM5 16.208V18a1 1 0 0 0 1 1h9.793L9 12.208zM19.5 14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1a.5.5 0 0 1 .5-.5m-15-3a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1a.5.5 0 0 1 .5-.5m15 0a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1a.5.5 0 0 1 .5-.5m-3.354-3.854a.5.5 0 1 1 .707.707L15.707 9l1.146 1.146.065.078a.5.5 0 0 1-.693.694l-.079-.065L15 9.708l-1.146 1.146a.5.5 0 0 1-.707-.707l1.146-1.146-1.146-1.147-.065-.078a.5.5 0 0 1 .693-.693l.079.064L15 8.294zM4.5 8.001a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1a.5.5 0 0 1 .5-.5m15 0a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1a.5.5 0 0 1 .5-.5m-13-4a.5.5 0 0 1 0 1H6a1 1 0 0 0-1 1v.5a.5.5 0 0 1-1 0V6a2 2 0 0 1 2-2zm12.515-1.56c.126-.505.844-.505.97 0l.315 1.26 1.26.314c.505.127.505.845 0 .971l-1.26.315-.315 1.26c-.126.504-.844.504-.97 0L18.7 5.3l-1.26-.315c-.505-.126-.505-.844 0-.97L18.7 3.7zM9.5 4.001a.5.5 0 0 1 0 1h-1a.5.5 0 0 1 0-1zm3 0a.5.5 0 0 1 0 1h-1a.5.5 0 0 1 0-1zm3 0a.5.5 0 0 1 0 1h-1a.5.5 0 0 1 0-1z"})})});var xX=i(494216),xJ=i(689063),xQ=i(172964),x0=i(124734),x1=i(4968),x2=i(307867),x3=i(131550),x5=i(198988);let x6=(0,l.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",d:"M18.204 4.01A2 2 0 0 1 20 6v2l-.01.204a2 2 0 0 1-1.786 1.785L18 10h-2l-.204-.01a2 2 0 0 1-1.785-1.786L14 8v-.5h-1a1 1 0 0 0-1 1v2c0 .598-.264 1.133-.68 1.5.416.367.68.902.68 1.5v2a1 1 0 0 0 1 1h1V16a2 2 0 0 1 1.796-1.99L16 14h2l.204.01A2 2 0 0 1 20 16v2l-.01.204a2 2 0 0 1-1.786 1.785L18 20h-2l-.204-.01a2 2 0 0 1-1.785-1.786L14 18v-.5h-1a2 2 0 0 1-2-2v-2a1 1 0 0 0-1-1H9v.5l-.01.204a2 2 0 0 1-1.786 1.785L7 15H5l-.204-.01a2 2 0 0 1-1.785-1.786L3 13v-2a2 2 0 0 1 1.796-1.99L5 9h2l.204.01A2 2 0 0 1 9 11v.5h1a1 1 0 0 0 1-1v-2a2 2 0 0 1 2-2h1V6a2 2 0 0 1 1.796-1.99L16 4h2zM16 15a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1zM5 10a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1zm11-5a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z"})})});var x4=i(537361),x9=i(187396),x8=i(896988),x7=i(139173),_e=(e=>(e.fontFamilyControl="fontFamilyControl",e))(_e||{});let _t=(0,iK.jz)(i6.cv$),_i=(0,iK.jz)(i6.S3e),_n=(0,iK.jz)(i6.tRI);function _r({children:e,padding:t}){return(0,o.jsx)(pv.W1,{padding:t,children:(0,o.jsx)("div",{className:xH.ec,children:e})})}function _a({value:e,onChange:t,options:i,optionsPerRow:n,renderOption:r,renderButton:a,optionEquality:s,additionalContentsTop:d,additionalContentsBottom:c,additionalOption:u,PopoverWrapper:p=_r,positionX:h,positionY:m,responsivePositionY:f,popoverClassName:x,onToggleMenuOpen:_,parentComponent:g,customOptions:b,overrideMenuOpenState:j,renderButtonRef:y,overrideMenuFocused:v,rowKeyPrefix:C,overscan:T=5,scrollContainerDimensionOverrides:E,scrollContainerRef:S,showHeaders:w=!0}){let I=(0,l.useRef)(null),L=(0,l.useRef)(null),[N,A]=(0,l.useState)(!1),O=j?j.isOpenOverride:N,k=j?j.setIsOpenOverride:A,[R,M]=(0,l.useState)(0),[D,P]=(0,l.useState)(!1),U=v?v.focusedIndexOverride:R,F=v?v.setFocusedIndexOverride:M,B=v?v.isFocusedByKeyboardOverride:D,H=v?v.setIsFocusedByKeyboardOverride:P,V=i.reduce((e,t)=>e+t.items.length,0)+(b?b.reduce((e,t)=>e+t.items.length,0):0)+(u?1:0),[G]=(0,l.useState)(()=>{let e=Array(V);for(let t=0;t<i.length;t++)e[t]=(0,pg.g)();return e}),W=new x9.W,[K,z]=(0,l.useState)(!0);l.useEffect(()=>{_&&_(O)},[O,_]);let Z=e=>{if(e<0)return;let t=0;for(let n=0;n<i.length;n++){let r=i[n];if(!r)return;if(e<r.items.length+t)return r.items[e-t];t+=r.items.length}if(b)for(let i=0;i<b?.length;i++){let n=b[i];if(!n)break;if(e<n.items.length+t)return n.items[e-t];t+=n.items.length}},$=l.useMemo(()=>{{let a=0,l=(i,l,d)=>{let c=l.header&&w?{element:(0,o.jsx)("div",{className:xH.Rs,children:l.header},`header-${d}`),height:(l.headerHeight??24)+2*_n}:null;c&&i.push(c);let u=Math.ceil(l.items.length/n);for(let d=0;d<u;d++){let p=l.items.slice(d*n,(d+1)*n),h=d===u-1,m=l.itemHeight??0,f=h&&c?m+_i:m,x={element:(0,o.jsx)("div",{className:e_()({[xH._z]:d===u-1}),style:{height:`${f}px`},children:p.map(i=>{let n=e=>t(i,e),o=e=>{n(e),k(!1)},l=e=>{(!g||"fontFamilyControl"!==g||K)&&o(e)},d=r({value:i,id:G[a],index:a,onClick:l,isSelected:s?s(i,e):i===e,isFocused:B&&U===a});return a++,d})}),height:f};i.push(x)}return i},d=i.reduce(l,[]),c=b?.reduce(l,[]),p=u?u(B):null;return[...d,...c||[],...p?[p]:[]]}},[u,K,b,U,B,t,s,G,i,n,g,r,k,w,e]),Y=(0,tp.Te)({count:$.length,getScrollElement:()=>(S??L).current,getItemKey:e=>C?`${C}-${e}`:e,estimateSize:e=>$[e]?.height??0,overscan:T});return(0,o.jsx)(x7.A,{target:a({value:e,ref:y??I,onKeyDown:e=>{switch(e.keyCode){case dF.Uz.ESCAPE:O?k(!1):e.currentTarget?.blur();break;case dF.Uz.ENTER:if(O&&U>=0&&U<V){let i=Z(U);i&&(t(i,e),k(!1))}break;case dF.Uz.RIGHT_ARROW:case dF.Uz.LEFT_ARROW:case dF.Uz.UP_ARROW:case dF.Uz.DOWN_ARROW:if(!(0,dF.sC)(e,0)){(0,x8.f7)(e);break}if(H(!0),O&&V){let t=U;(t+=e.keyCode===dF.Uz.UP_ARROW||e.keyCode===dF.Uz.LEFT_ARROW?-1:1)>=V?t=0:t<0&&(t=V-1),F(t)}else O||k(!0);e.preventDefault(),e.stopPropagation();break;case dF.Uz.TAB:H(!1);break;case dF.Uz.C:case dF.Uz.V:case dF.Uz.X:(0,dF.Te)(e)&&(ty.Y5.triggerAction(e.keyCode===dF.Uz.C?"copy":e.keyCode===dF.Uz.X?"cut":"paste"),e.stopPropagation(),e.preventDefault());break;default:(0,x8.f7)(e)}},onClick:()=>{H(!1),k(!O),g&&"fontFamilyControl"===g&&((0,lQ.nl)()?z(!0):(z(!1),W.reset(),W.scheduleOnce(()=>{z(!0)},250)))},active:O,activeOptionId:null!=U?G[U]:void 0}),onClose:()=>{g&&"fontFamilyControl"===g&&W.reset(),k(!1)},renderPopoverContents:e=>(0,o.jsxs)(p,{side:e,children:[d,(0,o.jsx)(ev.P,{height:E?.height??_t,width:E?.width,className:"x78zum5 x1q0g3np x1a02dak xfawy5m",scrollContainerRef:S??L,horizontalScrollingDisabled:!0,disableScrollbarBorder:!0,scrollContainerDataTestId:"virtualized-menu-selector-scroll-container",children:(0,o.jsx)("div",{style:{position:"relative",height:`${Y.getTotalSize()}px`,width:"100%"},children:Y.getVirtualItems().map(e=>(0,o.jsx)("div",{"data-testid":e.key,className:"x10l6tqk x13vifvy xu96u03 xh8yej3 xb3r6kr",style:{height:`${e.size}px`,transform:`translateY(${e.start}px)`},children:$[e.index]?.element},e.key))})}),c]}),isOpen:O,positionX:h,positionY:m,responsivePositionY:f,className:x})}let _s=(0,iK.jz)(i6.S3e),_o=(0,iK.jz)(i6.tRI),_l=(0,iK.jz)(i6.nwk);function _d(e,t){let i=0,n=0,r=0;for(let a of e){let e=a.options.length,s=Math.ceil(e/5),o=Math.floor((t-i)/5);if(t<i+e)return{section:a,sectionIndex:n,rowIndex:r+o};n+=1,r+=s,i+=e}}let _c="whiteboard_platform_shape_selector--searchBar--GCfUj",_u="whiteboard_platform_shape_selector--searchIcon--ovupR",_p="whiteboard_platform_shape_selector--shapeSectionTile--tI3Yz",_h="whiteboard_platform_shape_selector--showFocus--f0nS2",_m="whiteboard_platform_shape_selector--shapeSectionTileWrapper--mYx1e";function _f({platformShapeNodeId:e,renderButton:t,value:i,onChange:n,isOpen:r=!1}){let[a,s]=(0,uy.Fk)((e,t)=>{let i=e.get(t);return[i?.mainComponent?.sourceLibraryKey,i?.mainComponent?.name]},e),d=(0,p.md)(eI.Ai),{libraryItems:c,metadata:u}=(0,eI.uE)(),h=(0,l.useMemo)(()=>e$(c,a?[a]:void 0),[c,a]),m=(0,l.useRef)(null),f=(0,l.useRef)(null),x=(0,l.useRef)(null),[_,g]=(0,l.useState)(r),[b,j]=(0,l.useState)(""),[y,v]=(0,l.useState)(h),[C,T]=(0,l.useState)(-1),[E,S]=(0,l.useState)(!1),w=(0,l.useCallback)(e=>{g(e),!e&&(T(-1),S(!1),f.current&&f.current.scrollTo({top:0}))},[]);(0,l.useEffect)(()=>{!b&&0===y.shapeLibraryData.length&&h.shapeLibraryData.length>0&&v(h)},[h,y.shapeLibraryData.length,b]);let I=(0,l.useCallback)(e=>{if(T(-1),!e||!e.trim()){v(h),j(""),S(!1);return}j(e),S(!0),T(0),v(function(e,t){let{connectorData:i,swtData:n,shapeLibraryData:r}=t;return{swtData:e0(n,e),shapeLibraryData:e1(r,e),connectorData:eQ(i,e)}}(e,h))},[h]),L=(0,eg.A)(I,200),N=(0,l.useCallback)(()=>I(""),[I]),O=(0,l.useCallback)(e=>""===e?N():L(e),[N,L]),k=(0,l.useCallback)(e=>{e&&setTimeout(()=>{m.current?.focus(!0)},100)},[]),R=(0,l.useMemo)(()=>y.shapeLibraryData.reduce((e,t)=>{let i=t.librarySubCategory,n=t.libraryKey,r=(0,eI.ot)(d,n),a=i?`${r} - ${i}`:r,o={items:t.items,header:a,itemHeight:40,headerHeight:24};return s&&t.items.find(e=>e.name===s)?[o,...e]:[...e,o]},[]),[d,y.shapeLibraryData,s]);return(0,l.useEffect)(()=>{if(f.current){let e=function(e,t){let i=function(e,t){let i=0,n=0,r=0;for(let a of e){let e=a.items.length,s=Math.ceil(e/5),o=Math.floor((t-i)/5);if(t<i+e)return{option:a,sectionIndex:n,rowIndex:r+o};n+=1,r+=s,i+=e}}(t,e),n=_l,r=t.length>1&&i?.option.header?(i?.option.headerHeight??0)+2*_o:0,a=r?_s:0;if(!i)return 0;let s=0,o=Math.ceil(t.reduce((e,t,i)=>{let o=t.items.length,l=t.itemHeight??40,d=0===i?0:a,c=Math.ceil(o/5)*l+r+a;if(c<=n)return n-=c,s+=1,e+o;if(r+d+l>n)return r+d<=n&&(s+=1,n-=r+d),e;{let t=Math.floor((n-(r+d))/l);return t>0&&(s+=1,n-=t*l+r+d),e+Math.min(5*t,o)}},0)/5),l=Math.max(i.rowIndex-o+1,0),d=Math.max(i.sectionIndex-s+1,0);return Math.max(0,40*l+(d*r+Math.max(d-1,0)*a))}(C,R);f.current?.scrollTop!==e&&f.current.scrollTo({top:e})}},[C,R,y]),(0,o.jsx)(_a,{additionalContentsTop:(0,o.jsx)(eC.IW,{ref:m,className:_c,clearSearch:N,focusOnMount:!1,hideXIcon:!0,iconClassName:_u,isKeyDownHandled:e=>{let t=y.shapeLibraryData.reduce((e,t)=>e+t.items.length,0);if("Escape"===e.code||"Escape"===e.key)""!==b?N():w(!1);else if("Enter"===e.code||"Enter"===e.key){if(""!==b&&t>0){let t=y.shapeLibraryData[0]?.items[0];t&&(n(t,e),w(!1))}}else("ArrowUp"===e.code||"ArrowDown"===e.code)&&(x.current?.focus(),t>0&&(S(!0),T("ArrowDown"===e.code?0:t-1)),e.preventDefault());return!0},onChange:O,placeholder:(0,A.t)("whiteboard.inline_menu.change_shape_search"),query:b}),onChange:n,onToggleMenuOpen:k,options:R,optionsPerRow:5,overrideMenuFocused:{focusedIndexOverride:C,setFocusedIndexOverride:T,isFocusedByKeyboardOverride:E,setIsFocusedByKeyboardOverride:S},overrideMenuOpenState:{isOpenOverride:_,setIsOpenOverride:w},renderButton:t,renderButtonRef:x,renderOption:({value:e,onClick:t,id:i,isFocused:n,index:r})=>{if(!e)return null;let a=u?.[e.library_key];return(0,o.jsx)(_x,{currentOption:e,id:i,isFocused:n,onOptionClick:e=>{_&&t(e)},collection:a?.id,testIdPrefix:eO.uO},`${i}-${r}`)},rowKeyPrefix:eO.lK,scrollContainerDimensionOverrides:{width:200,height:_l},scrollContainerRef:f,showHeaders:R.length>1,value:i},a)}function _x({currentOption:e,id:t,onOptionClick:i,collection:n,isFocused:r,testIdPrefix:a}){let s=e.containing_frame?.name,l=e.library_key,d=(0,e6.OP)(l,s),c=a?`${a}-${e.name}`:`whiteboardShapeSwapButton.${e.name}`,u=n?(0,eG.N0)(n,e.name,"swapper",s):void 0,p=u?(0,o.jsx)(tk,{iconSrc:u,name:e.name,testIdPrefix:"shapes-library-swapper-thumb-override",variant:"swapper"}):null;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(e4.E,{onClick:i,recordingKey:`whiteboardShapeSwapButton.${e.name}`,"data-testid":c,className:e_()({[_p]:!0,[_h]:r}),children:(0,o.jsx)(tC.lX,{ThumbnailOverride:p,height:40,isFigJam:!0,isSearch:!1,item:e,noBackground:!0,shouldHideDescription:!0,shouldShowShadowOnHover:!0,showName:!1,thumbPaddingGrid:u?0:8,thumbWrapperClassName:_m,tooltipOverride:(0,eG.vo)(d,e.name),width:40})},`${t}-${e.name}`)})}function __({platformShapeNodeId:e,renderButton:t,value:i,onChange:n,wrapperId:r,isOpen:a=!1}){var s;let d=(0,uy.Fk)((e,t)=>{let i=e.get(t);return i?.mainComponent?.sourceLibraryKey},e),{libraryItems:c,metadata:u}=(0,eI.uE)(),p=(0,l.useMemo)(()=>e$(c,d?[d]:void 0),[c,d]),h=(0,l.useRef)(null),m=(0,l.useRef)(null),f=(0,l.useRef)(null),[x,_]=(0,l.useState)(a),[g,b]=(0,l.useState)(""),[j,y]=(0,l.useState)(p),[v,C]=(0,l.useState)(0),[T,E]=(0,l.useState)(!1);(0,l.useEffect)(()=>{!g&&0===j.shapeLibraryData.length&&p.shapeLibraryData.length>0&&y(p)},[p,j.shapeLibraryData.length,g]);let S=(0,l.useCallback)(e=>{if(C(-1),!e||!e.trim()){y(p),b(""),E(!1);return}b(e),E(!0),C(0),y(function(e,t){let{connectorData:i,swtData:n,shapeLibraryData:r}=t;return{swtData:e0(n,e),shapeLibraryData:e1(r,e),connectorData:eQ(i,e)}}(e,p))},[p]),w=(0,eg.A)(S,200),I=(0,l.useCallback)(()=>S(""),[S]),L=(0,l.useCallback)(e=>""===e?I():w(e),[I,w]),N=(0,l.useCallback)(e=>{e&&setTimeout(()=>{h.current?.focus(!0)},100)},[]),O=(0,l.useMemo)(()=>j.shapeLibraryData.map(e=>({libraryKey:e.libraryKey??"",options:e.items})),[j.shapeLibraryData]),k=(0,l.useMemo)(()=>j.shapeLibraryData.reduce((e,t)=>e=e.concat(t.items),[]),[j.shapeLibraryData]),R=O.length>1;(0,l.useEffect)(()=>{if(m.current){let e=function(e,t,i){let n=_d(t,e),r=_l,a=i&&t.length>1?24:0;if(!n)return 0;let s=0,o=Math.ceil(t.reduce((e,t)=>{let i=t.options.length,n=40*Math.ceil(i/5)+a;if(n<=r)return r-=n,s+=1,e+i;if(a+40>r)return a<=r&&(s+=1,r-=a),e;{let t=Math.floor((r-a)/40);return t>0&&(s+=1,r-=40*t+a),e+Math.min(5*t,i)}},0)/5);return Math.max(0,40*Math.max(n.rowIndex-o+1,0)+Math.max(n.sectionIndex-s+1,0)*a)}(v,O,R);m.current?.scrollTop!==e&&m.current.scrollTo({top:e})}},[v,j,O,R]);let M=new Set;return(0,o.jsx)(pC.Fn,{OptionWrapper:(s={wrapperId:r,scrollContainerRef:m},function({children:e}){return(0,o.jsx)(ev.P,{height:_l,disableScrollbarBorder:!0,scrollContainerRef:s.scrollContainerRef,children:(0,o.jsx)("div",{tabIndex:-1,className:"whiteboard_platform_shape_selector--shapeContainer--dRUYD",id:s.wrapperId,children:e})})}),additionalContentsTop:(0,o.jsx)(eC.IW,{ref:h,className:_c,clearSearch:I,focusOnMount:!1,hideXIcon:!0,iconClassName:_u,isKeyDownHandled:e=>{let t=j.shapeLibraryData.reduce((e,t)=>e+t.items.length,0);if("Escape"===e.code||"Escape"===e.key)""!==g?I():_(!1);else if("Enter"===e.code||"Enter"===e.key){if(""!==g&&t>0){let t=j.shapeLibraryData[0]?.items[0];t&&(n(t,e),_(!1))}}else("ArrowUp"===e.code||"ArrowDown"===e.code)&&(f.current?.focus(),t>0&&(E(!0),C("ArrowDown"===e.code?0:t-1)),e.preventDefault());return!0},onChange:L,placeholder:(0,A.t)("whiteboard.inline_menu.change_shape_search"),query:g}),onChange:n,onToggleMenuOpen:N,options:k,overrideMenuFocused:{focusedIndexOverride:v,setFocusedIndexOverride:C,isFocusedByKeyboardOverride:T,setIsFocusedByKeyboardOverride:E},overrideMenuOpenState:{isOpenOverride:x,setIsOpenOverride:_},renderButton:t,renderButtonRef:f,renderOption:({value:e,onClick:t,id:i,isFocused:n})=>{let r=k.indexOf(e);if(0===r&&M.clear(),!_d(O,r)||!e)return null;let a=u?.[e.library_key];return(0,o.jsx)(_g,{currentOption:e,addedSections:M,id:i,isFocused:n,onOptionClick:e=>{x&&t(e)},showHeaders:R,collection:a?.id},`${i}-${r}`)},value:i})}function _g({currentOption:e,addedSections:t,id:i,onOptionClick:n,showHeaders:r,collection:a,isFocused:s}){let l=e.containing_frame?.name,d=e.library_key,c=(0,e6.OP)(d,l),u=`${l??""}-${d}`,p=!1;r&&d&&!t.has(u)&&(t.add(u),p=!0);let h=p?(0,o.jsx)("div",{className:"whiteboard_platform_shape_selector--shapeSectionTitle--GV26T",children:(0,eG.pf)(c)}):null,m=a?(0,eG.N0)(a,e.name,"swapper",l):void 0,f=m?(0,o.jsx)(tk,{iconSrc:m,name:e.name,testIdPrefix:"shapes-library-swapper-thumb-override",variant:"swapper"}):null;return(0,o.jsxs)(pC.A3,{children:[h,(0,o.jsx)(e4.E,{onClick:n,recordingKey:`whiteboardShapeSwapButton.${e.name}`,"data-testid":`whiteboardShapeSwapButton.${e.name}`,className:e_()({[_p]:!0,[_h]:s}),children:(0,o.jsx)(tC.lX,{ThumbnailOverride:f,height:40,isFigJam:!0,isSearch:!1,item:e,noBackground:!0,shouldHideDescription:!0,shouldShowShadowOnHover:!0,showName:!1,thumbWrapperClassName:_m,tooltipOverride:(0,eG.vo)(c,e.name),width:40})},`${i}-${e.name}`)]})}var _b=i(592383);let _j=e=>{if(!e)return null;let t=(0,cJ.UN)().get(e);if(!t)return null;let i=t?.findContainingPlatformShape();if(t.guid===i)return{guid:i,type:t.type};let n=t;for(;n&&"CANVAS"!==n.type;){if(n.parentGuid===i)return{guid:n.parentNode?.guid,type:n.parentNode?.type};n=n.parentNode}return null};function _y(e){let t=function(e){let t=[],i=e&&(0,u4.hS)(e)?e:void 0;if(!i)return t;t.push(i);let n=c.DV9?.getAllShapeWithTextTypesInCanvas();if(!n)return t;let r=Array.from(new Map([...n.entries()].sort((e,t)=>t[1]-e[1])).keys()).filter(t=>t!==e);return r.length>0&&t.push(...r),t}(e),i=_b.L2.filter(e=>!t.includes(e));return[...t,...i]}function _v(e,t){return t.filter(t=>eH(t).some(t=>t.toLowerCase().includes(e.toLowerCase())))}let _C=new eP.J;function _T(e=4,t){return{getShapeGrid:function(e){return function({children:i}){let n=(0,o.jsx)("div",{role:"listbox","aria-label":e.ariaLabel,tabIndex:-1,className:t,id:e.wrapperId,children:i});return e.withScroll?(0,o.jsx)(ev.P,{height:184,disableScrollbarBorder:!0,ref:e.scrollContainerRef,children:n}):n}},getShapeGridIconStyle:function(t,i,n={top:!0,bottom:!0},r=!1){let a;let s={},o=r?"margin":"padding";return t<e&&n.top&&(s[`${o}Top`]="4px"),t>=Math.floor((i-1)/e)*e&&n.bottom&&(s[`${o}Bottom`]="4px"),t%e==0?s[`${o}Left`]="4px":t%e==e-1&&(s[`${o}Right`]="4px"),a=10,(t%e==0||t%e==e-1)&&(a+=1),s.gridColumn=`span ${a}`,r&&(s.borderRadius="3px"),s},scrollTopForIndex:function(t){return 40*Math.ceil((t-Math.floor(4.6)*e+1)/e)}}}let _E=_T(4,"whiteboard_shape_selector--shapeGridFourPerRow--K5Vt5"),_S=_T(5,"whiteboard_shape_selector--shapeGridFivePerRow--ON-iR");function _w({renderButton:e,value:t,onChange:i,ariaLabel:n,wrapperId:r}){let a=(0,l.useRef)(null),s=(0,l.useRef)(null),d=(0,l.useRef)(null),[c,u]=(0,l.useState)(!1),[p,h]=(0,l.useState)(""),[m,f]=(0,l.useState)(()=>_y(t)),[x,_]=(0,l.useState)(0),[g,b]=(0,l.useState)(!1),j=(0,l.useCallback)(e=>{let i=_y(t);if(!e||!e.trim()){f(i),h(""),b(!1);return}h(e),b(!0),_(0),f(_v(e,i))},[t]),y=(0,eg.A)(j,200),v=(0,l.useCallback)(()=>{y.cancel(),j("")},[j,y]),C=(0,l.useCallback)(e=>""===e?v():y(e),[v,y]),T=(0,l.useCallback)(e=>{e&&setTimeout(()=>{a.current?.focus(!0)},50)},[]);return(0,l.useEffect)(()=>{if(s.current){let e=_S.scrollTopForIndex(x);s.current?.getScrollTop()!==e&&s.current.scrollTo(e)}},[_S,x,m]),(0,o.jsx)(pC.Fn,{OptionWrapper:_S.getShapeGrid({ariaLabel:n,wrapperId:r,withScroll:!0,scrollContainerRef:s}),additionalContentsTop:(0,o.jsx)(eC.IW,{ref:a,className:"whiteboard_shape_selector--searchBar--ey24g",clearSearch:v,focusOnMount:!1,hideXIcon:!0,iconClassName:"whiteboard_shape_selector--searchIcon--wXneH",isKeyDownHandled:e=>(e.keyCode===dF.Uz.ESCAPE||"Escape"===e.code||"Escape"===e.key?""!==p?v():u(!1):e.keyCode===dF.Uz.ENTER?""!==p&&m.length>0&&(i(m[0],e),u(!1)):("ArrowUp"===e.code||"ArrowDown"===e.code)&&(d.current?.focus(),m.length>0&&(b(!0),_("ArrowDown"===e.code?m.length>1&&""!==p?1:0:m.length-1)),e.preventDefault()),!0),onChange:C,placeholder:(0,A.t)("whiteboard.inline_menu.change_shape_search"),query:p}),onChange:i,onToggleMenuOpen:T,options:m,overrideMenuFocused:{focusedIndexOverride:x,setFocusedIndexOverride:_,isFocusedByKeyboardOverride:g,setIsFocusedByKeyboardOverride:b},overrideMenuOpenState:{isOpenOverride:c,setIsOpenOverride:u},renderButton:e,renderButtonRef:d,renderOption:({value:e,onClick:t,id:i,isFocused:n})=>{let r=(0,u4.gl)(e)||!e?"1":`${_C.format(e)}`;return(0,o.jsx)(pv.K0,{active:"NONE",ariaLabel:"1"===r?void 0:r.toLocaleLowerCase(),buttonStyle:_S.getShapeGridIconStyle(m.indexOf(e),m.length,{top:!0,bottom:!0},!0),focused:n,id:i,onPointerUp:e=>{c&&t(e)},recordingKey:`whiteboardShapeSwapButton.${e}`,role:"option",svg:(0,_b.eg)(e),tooltip:r},String(e))},value:t})}function _I({onSelect:e,showShapePreview:t=()=>{},hideShapePreview:i=()=>{},ariaLabel:n}){let r=_E.getShapeGrid({ariaLabel:n}),a=(0,rn.R)(hS);if(!a)return(0,B.$D)(P.e.FIGJAM,Error("No selected shape ghost node")),null;let s=a.shapeWithTextType,l=`${_C.format(s)}`;return(0,o.jsxs)("div",{className:"whiteboard_shape_selector--menuWrapper--9RzvT",children:[(0,o.jsx)(r,{children:_b.Qc.map(n=>{let r=`${_C.format(n)}`;return(0,o.jsx)(pv.K0,{ariaLabel:r.toLocaleLowerCase(),buttonStyle:_E.getShapeGridIconStyle(_b.Qc.indexOf(n),_b.Qc.length,{top:!0,bottom:!1}),onMouseEnter:e=>t(n),onMouseLeave:e=>i(),onPointerUp:t=>{e(n,t)},recordingKey:`whiteboardInlineQuickAddShapeSelectorButton.${n}`,role:"option",svg:(0,_b.eg)(n),tooltip:r},String(n))})}),(0,o.jsxs)(pv.$n,{className:"whiteboard_shape_selector--sameShapeButton--McSOb",tooltip:l,onClick:t=>e(s,t),onMouseEnter:e=>t(s),onMouseLeave:e=>i(),recordingKey:"whiteboardInlineQuickAddShapeSelectorSameShapeButton",role:"button",ariaLabel:l.toLocaleLowerCase(),buttonChildrenStyle:{width:"100%"},children:[(0,o.jsx)(tb.B,{svg:(0,_b.eg)(s),className:"whiteboard_shape_selector--sameShapeSvg--JnJli"}),(0,A.tx)("whiteboard.inline_menu.add_same_shape")]})]})}var _L=i(555681),_N=i(180822);let _A=new eP.J;function _O({value:e,onChange:t,ariaLabel:i,tooltip:n,recordingKey:r,disabled:a=!1}){let[s,d]=l.useState(!1),{getTriggerProps:c,getContainerProps:u}=pQ.fP({isOpen:s,onOpenChange:d,type:"menu",placement:"top",softDismiss:!0}),[p,h]=l.useState(""),[m,f]=l.useState(()=>_y(e)),x=l.useCallback(t=>{let i=_y(e);if(!t||!t.trim()){f(i),h("");return}h(t),f(_v(t,i))},[e]),_=(0,eg.A)(x,200),g=l.useCallback(e=>{""===e?(_.cancel(),x("")):_(e),h(e)},[_,x]);l.useEffect(()=>{s||(h(""),x(""))},[s,x]);let b=l.useCallback(e=>{t(e),d(!1)},[t]),j=(0,u4.gl)(e)||!e?"1":`${_A.format(e)}`,y=n||(0,A.t)("whiteboard.inline_menu.change_shape"),v=i||("1"!==j?(0,A.t)("whiteboard.inline_menu.change_shape_label",{currentShape:j.toLocaleLowerCase()}):void 0);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(py.V,{ariaLabel:v,"data-testid":"WhiteboardShapeSelectorButton",disabled:a,getPopoverTriggerProps:c,recordingKey:(0,cD.Pt)(r,"shapeSwapButton"),tooltip:y,variant:"menu",children:(0,o.jsx)("div",{className:"x1kpt5kx",children:(0,o.jsx)(_N.A,{})})}),(0,o.jsx)(pQ.mc,{className:"xon4yw5 x1u3p76b x1mxnbhz xf7z5ut x143tcsw",...u({}),children:(0,o.jsx)(u6.J,{mode:"dark",children:(0,o.jsxs)(u1.N,{orientation:"horizontal","aria-label":i||(0,A.t)("whiteboard.inline_menu.change_shape"),...ef.xk(_D.toolbar),children:[(0,o.jsx)(_L.D,{"aria-label":(0,A.t)("whiteboard.inline_menu.change_shape_search"),onChange:g,placeholder:(0,A.t)("whiteboard.inline_menu.change_shape_search"),size:"md",value:p}),(0,o.jsx)(p0.bL,{value:e?String(e):"",onChange:b,legend:(0,o.jsx)(p1.q,{children:(0,A.t)("whiteboard.inline_menu.change_shape")}),readonly:a,recordingKey:(0,cD.Pt)(r,"shapeOptions"),children:(0,o.jsx)(ev.P,{height:184,disableScrollbarBorder:!0,children:(0,o.jsx)("div",{className:"xrvj5dj xkgyxu0 x143tcsw x1ov5mx2",children:m.map(t=>{let i=_A.format(t),n=e===t;return(0,o.jsx)(_k,{ariaLabel:i.toLocaleLowerCase(),isSelected:n,shape:t,tooltip:i,value:String(t)},String(t))})})})})]})})})]})}function _k({shape:e,value:t,isSelected:i,tooltip:n,ariaLabel:r}){return(0,o.jsx)(p0.c$,{value:t,...ef.xk(_D.shapeOption,i&&_D.shapeOptionSelected),"aria-label":r,"data-tooltip":n,"data-tooltip-show-above":"true","data-tooltip-type":"text",children:(0,o.jsx)(_R,{shape:e})})}function _R({shape:e}){let t=(0,_b.eg)(e);return(0,o.jsx)("div",{className:"xvy4d1p xxk0z11 x78zum5 x6s0dn4 xl56j7k x11h9p1v","aria-hidden":!0,children:(0,o.jsx)(tb.B,{svg:t})})}function _M({onSelect:e,showShapePreview:t=()=>{},hideShapePreview:i=()=>{},ariaLabel:n,recordingKey:r}){let a=l.useCallback(t=>{e(t)},[e]),s=(0,rn.R)(hS);if(!s)return(0,B.$D)(P.e.FIGJAM,Error("No selected shape ghost node")),null;let d=s?.shapeWithTextType||"SQUARE";return(0,o.jsxs)(u1.N,{orientation:"horizontal","aria-label":n||(0,A.t)("whiteboard.inline_menu.change_shape"),...ef.xk(_P.quickAddToolbar),children:[(0,o.jsx)(p0.bL,{value:"",onChange:a,legend:(0,o.jsx)(p1.q,{children:n||(0,A.t)("whiteboard.inline_menu.change_shape")}),recordingKey:(0,cD.Pt)(r,"quickAddShapeOptions"),children:(0,o.jsx)("div",{className:"xrvj5dj xl501l6 xg2d0mh",children:_b.Qc.map(e=>{let n=_A.format(e);return(0,o.jsx)(p0.c$,{value:String(e),className:"x100vrsf x1vqgdyp x78zum5 x6s0dn4 xl56j7k xjbqb8w x1gs6z28 x19y5rnk x1ypdohk x1h2kqdt xikdvxn x1793mbz x104mfq1 x1h3at1i","aria-label":n.toLocaleLowerCase(),"data-tooltip":n,"data-tooltip-show-above":"true","data-tooltip-type":"text",htmlAttributes:{onMouseEnter:()=>t(e),onMouseLeave:()=>i()},children:(0,o.jsx)(_R,{shape:e})},String(e))})})}),(0,o.jsxs)(nx.e6,{...ef.xk(_P.addSameShapeButton),onClick:()=>e(d),recordingKey:(0,cD.Pt)(r,"addSameShapeButton"),"data-tooltip":_A.format(d),"data-tooltip-show-above":"true","data-tooltip-type":"text",htmlAttributes:{onMouseEnter:()=>t(d),onMouseLeave:()=>i()},children:[(0,o.jsx)(_R,{shape:d}),(0,A.tx)("whiteboard.inline_menu.add_same_shape")]})]})}let _D={toolbar:{display:"x78zum5",flexDirection:"xdt5ytf",gap:"x1nfngrj",rowGap:null,columnGap:null,alignItems:"x6s0dn4",width:"x143tcsw",...te.g.textBodyMedium,$$css:!0},shapeOption:{width:"x100vrsf",height:"x1vqgdyp",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",backgroundColor:"xjbqb8w",border:"x1gs6z28",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,cursor:"x1ypdohk",transition:"x1h2kqdt",transitionBehavior:null,transitionDelay:null,transitionDuration:null,transitionProperty:null,transitionTimingFunction:null,color:"xikdvxn",":hover_backgroundColor":"x1793mbz",":has(:focus-visible)_outline":"x104mfq1",":has(:focus-visible)_outlineColor":null,":has(:focus-visible)_outlineStyle":null,":has(:focus-visible)_outlineWidth":null,":has(:focus-visible)_outlineOffset":"x1h3at1i",$$css:!0},shapeOptionSelected:{backgroundColor:"x3vy5ar",color:"x13ubrbh",$$css:!0}},_P={quickAddToolbar:{display:"x78zum5",flexDirection:"xdt5ytf",padding:"xf7z5ut",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,...te.g.textBodyMedium,$$css:!0},addSameShapeButton:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",gap:"x1nfngrj",rowGap:null,columnGap:null,padding:"xf7z5ut",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,backgroundColor:"xjbqb8w",border:"x1gs6z28",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,cursor:"x1ypdohk",color:"xkrz9af",...te.g.textBodyMedium,":hover_backgroundColor":"x1793mbz",":has(:focus-visible)_outline":"x104mfq1",":has(:focus-visible)_outlineColor":null,":has(:focus-visible)_outlineStyle":null,":has(:focus-visible)_outlineWidth":null,":has(:focus-visible)_outlineOffset":"x1h3at1i",$$css:!0}},_U=new eP.J;function _F(){let e=U.nc.user("create-shape-from-inline-quick-add",function(e){c.glU?.createShapeFromInlineQuickAdd(e)});function t(e){c.glU?.showGhostShapeFromInlineQuickAdd(e)}function i(){c.glU?.hideGhostShapeFromInlineQuickAdd()}let n=(0,A.t)("whiteboard.inline_menu.change_shape");return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(_M,{onSelect:e,showShapePreview:t,hideShapePreview:i,ariaLabel:n,recordingKey:"whiteboardInlineQuickAddShapeSelector"}):(0,o.jsx)(_I,{onSelect:e,showShapePreview:t,hideShapePreview:i,ariaLabel:n})}let _B=new Map([[c.Tcr.WHITEBOARD_COLOR,function(){let e;let t=(0,u3.A5)("whiteboardColor"),i=mp(),[n,r]=l.useState(!1),a=(0,rn.R)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType),s=(0,d.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelectedPlatformShape??0),u=(0,d.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),p=(0,d.d4)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection);return 0!==t.length&&t.every(t=>{let i=e.mirror.sceneGraph.get(t);return!!i&&"SECTION"===i.type&&i.sectionContentsHidden})}),h=mh(),m=(0,u3.A5)("shapeWithTextOpacityOverride"),f=(0,u3.A5)("platformShapeOpacityOverride"),x=(0,u3.kl)("shapeWithTextFillType"),_=(0,u3.kl)("platformShapeFillType"),g=a?a.SHAPE_WITH_TEXT??0:0,b=a&&a.SHAPE_WITH_TEXT===u,j=s===u,y=g>0,v=s>0;if(u&&u>0&&g+s===u){let t=null!=x&&x!==c.A$i.HIDDEN,n=null!=_&&_!==c.A$i.HIDDEN;(y&&t||v&&n)&&(e=Array.isArray(i)?i.length>0?i[0].a:void 0:i.a)}return p?(0,o.jsx)(pv.$n,{onClick:ed.lQ,active:"NONE",caret:"down",tooltip:(0,A.t)("whiteboard.no-edit-hidden-section-tooltip"),disabled:!0,children:(0,o.jsx)(mu.cd,{size:"small",value:i,paletteType:"base",background:"dark"})}):(0,o.jsx)(mc.ZE,{additionalContentsTop:(()=>{if(h)return(0,o.jsx)(hY,{isColorPopoverOpen:n})})(),ariaLabel:(0,A.t)("whiteboard.inline_menu.color_list_box"),buttonSize:"small",customOpacity:e,isColorPopoverOpen:n,onColorChange:i=>{u&&(t(i),null==e||x!==c.A$i.TRANSPARENT_CUSTOM||b&&u>1||m(e),null==e||_!==c.A$i.TRANSPARENT_CUSTOM||j&&u>1||f(e))},onOpacityChange:null!=e?e=>{let t=e;t<.01&&(t=.01),y&&m(t),v&&f(t)}:void 0,optionSize:"medium",paletteType:"base",recordingKey:"whiteboardColorControl",setIsColorPopoverOpen:r,value:i})}],[c.Tcr.STICKY_COLOR,function(){let e=(0,u3.A5)("whiteboardColor"),t=mp(),[i,n]=l.useState(!1);return(0,o.jsx)(mc.ZE,{value:t,onColorChange:e,recordingKey:"stickyColorControl",paletteType:"sticky",buttonSize:"small",optionSize:"medium",ariaLabel:(0,A.t)("whiteboard.inline_menu.color_list_box"),isColorPopoverOpen:i,setIsColorPopoverOpen:n})}],[c.Tcr.HIGHLIGHT_COLOR,function(){let e=(0,u3.A5)("whiteboardColor"),t=mp(),[i,n]=l.useState(!1);return(0,o.jsx)(mc.ZE,{value:t,onColorChange:e,recordingKey:"highlightColorControl",paletteType:"highlight",buttonSize:"small",optionSize:"medium",isColorPopoverOpen:i,setIsColorPopoverOpen:n})}],[c.Tcr.PENCIL_COLOR,function(){let e=(0,u3.A5)("whiteboardColor"),t=mp(),[i,n]=l.useState(!1),r=function(){let e=c.Ez5?.uiState().showUI3Colors.getCopy(),t=(0,md.Z9)().type===ml.Yv.CUSTOM;return e&&!t?"pencilUI3":"base"}();return(0,o.jsx)(mc.ZE,{value:t,onColorChange:e,recordingKey:"pencilColorControl",paletteType:r,buttonSize:"small",optionSize:"medium",isColorPopoverOpen:i,setIsColorPopoverOpen:n})}],[c.Tcr.WHITEBOARD_STROKE,fx.nm],[c.Tcr.WHITEBOARD_SHAPE,function(){let[e,t]=(0,u3.lJ)("shapeWithTextTypeForSelection"),i=(0,pg.g)();if(!e)return null;let n=(0,u4.gl)(e)||!e?"1":`${_U.format(e)}`,r=(0,A.t)("whiteboard.inline_menu.change_shape"),a="1"!==n?(0,A.t)("whiteboard.inline_menu.change_shape_label",{currentShape:n.toLocaleLowerCase()}):void 0;return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(_O,{value:e,onChange:t,ariaLabel:a,tooltip:r,recordingKey:"whiteboardShapeSwapButton",disabled:!1}):(0,o.jsx)(_w,{value:e,onChange:e=>t(e),ariaLabel:r,wrapperId:i,renderButton:({onClick:e,onKeyDown:t,activeOptionId:n,ref:s,active:l})=>(0,o.jsx)(pv.K0,{ref:s,active:l?"NORMAL":"NONE",ariaActiveDescendant:n,ariaControls:i,ariaLabel:a,caret:"down",onKeyDown:t,onPointerDown:e,recordingKey:"whiteboardShapeSwapButton",role:"combobox",svg:_b.h$,tooltip:r})},n)}],[c.Tcr.WHITEBOARD_PLATFORM_SHAPE,function(){let e=(0,e6.es)(),t=(0,ug.uQ)(),i=(0,uy.Fk)((e,t)=>{if(!t)return null;let i=e.get(t);return i?.type},t);if(t&&"TEXT"===i){let e=_j(t);e&&(t=e.guid??"",i=e.type)}let n=(0,uy.Fk)((e,t)=>{if(!t)return null;let i=e.get(t);return i?.mainComponent?.name},t),r=l.useMemo(()=>t?[t]:[],[t]),a=(0,d.wA)(),s=l.useCallback(e=>{U.l7.user("swap-instance",()=>{a((0,_.uO)({item:e,instanceGUIDs:r,sourceForTracking:"FigJam Instance Swapper",storeInRecentsKey:rL.$A.FigJam,usedSwapInstanceKeyboardShortcut:!1}))})},[a,r]),[c,p]=l.useState(null),h=l.useCallback(e=>{e&&(p(e),(0,cL.tJ)(r,!1),s(e))},[s,r]);if(!t||"INSTANCE"!==i||!n||e)return null;let m=(0,pg.g)(),f=(0,A.t)("whiteboard.inline_menu.change_shape"),x=(0,A.t)("whiteboard.inline_menu.change_shape_label",{currentShape:n}),g=(0,u.k)().ad_branded_shapes_m1?_f:__;return(0,o.jsx)(g,{platformShapeNodeId:t,value:c,onChange:h,wrapperId:m,renderButton:({onClick:e,onKeyDown:t,activeOptionId:i,ref:n,active:r})=>(0,o.jsx)(pv.K0,{ref:n,active:r?"NORMAL":"NONE",ariaActiveDescendant:i,ariaControls:m,ariaLabel:x,caret:"down",onKeyDown:t,onPointerDown:e,recordingKey:"whiteboardShapeSwapButton",role:"combobox",svg:_b.h$,tooltip:f})},t)}],[c.Tcr.TEXT_DECORATION,fs.D],[c.Tcr.HYPERLINK,function(){let e=(0,C.ut)(c.Ez5?.editorState().selectionIsHyperlink,!1);return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("fullscreen_actions.text-edit-hyperlink"),ariaLabel:(0,A.t)("fullscreen_actions.text-edit-hyperlink"),onClick:()=>ty.Y5.triggerAction("text-edit-hyperlink"),recordingKey:"editHyperlink",tooltipShortcutActionKey:"text-edit-hyperlink",children:(0,o.jsx)(x$.W,{})}):(0,o.jsx)(pv.K0,{svg:xY.A,tooltip:"text-edit-hyperlink",tooltipType:ii.Ib.LOOKUP,active:!0===e?"LOUD":void 0,onClick:()=>ty.Y5.triggerAction("text-edit-hyperlink"),recordingKey:"editHyperlink",blurOnClick:!0})}],[c.Tcr.BULLETED_LIST,function(){let e=h8(),t=h7();return(0,u.k)().figjam_a11y_inline_toolbar?t?(0,o.jsx)(py.V,{variant:"toggle",tooltip:(0,A.t)("fullscreen_actions.text-toggle-ordered-list"),ariaLabel:(0,A.t)("fullscreen_actions.text-toggle-ordered-list"),checked:t,offIcon:(0,o.jsx)(h5.p,{}),onIcon:(0,o.jsx)(h5.p,{}),onChange:()=>ty.Y5.triggerActionInUserEditScope("text-toggle-ordered-list"),recordingKey:"orderedListControl",tooltipShortcutActionKey:"text-toggle-ordered-list"}):(0,o.jsx)(py.V,{variant:"toggle",tooltip:(0,A.t)("fullscreen_actions.text-toggle-unordered-list"),ariaLabel:(0,A.t)("fullscreen_actions.text-toggle-unordered-list"),checked:e,offIcon:(0,o.jsx)(h6.Z,{}),onIcon:(0,o.jsx)(h6.Z,{}),onChange:()=>ty.Y5.triggerActionInUserEditScope("text-toggle-unordered-list"),recordingKey:"unorderedListControl",tooltipShortcutActionKey:"text-toggle-unordered-list"}):(0,o.jsx)(o.Fragment,{children:t?(0,o.jsx)(pv.K0,{svg:h4.A,tooltip:"text-toggle-ordered-list",tooltipType:ii.Ib.LOOKUP,active:t?"LOUD":void 0,onClick:()=>ty.Y5.triggerActionInUserEditScope("text-toggle-ordered-list"),recordingKey:"orderedListControl",role:"switch",blurOnClick:!0}):(0,o.jsx)(pv.K0,{svg:h9.A,tooltip:"text-toggle-unordered-list",tooltipType:ii.Ib.LOOKUP,active:e?"LOUD":void 0,onClick:()=>ty.Y5.triggerActionInUserEditScope("text-toggle-unordered-list"),recordingKey:"unorderedListControl",role:"switch",blurOnClick:!0})})}],[c.Tcr.FONT_FAMILY,function(){let[e,t]=(0,u3.lJ)("whiteboardFontFamilies"),i=(0,rn.R)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType),n=(0,pb.EZ)(),[r,a]=l.useState(void 0),{getTriggerProps:s,manager:d}=pu.b();if(!e||(0,u4.gl)(e))return null;let c=pF(e),p=e=>{if(e){let n=pU(e);n&&((0,eb.sx)("FigJam font family changed",{source:"default",fontFamily:e,nodeType:i&&1===Object.keys(i).length&&Object.keys(i).pop()||"MIXED",...i}),t([n.fontFamily]))}},h=Array.from(pP()),m=c.length>0?[...h,"divider",...c]:[...h],f=Math.max(4,32*m.indexOf(e[0])),x=(0,A.t)("whiteboard.inline_menu.font_family"),_=(0,pg.g)(),g=c.length>0,b=pB(e),j=b?(0,A.t)("whiteboard.inline_menu.font_family_label",{currentFont:b.toLocaleLowerCase()}):(0,A.t)("whiteboard.inline_menu.font_family");return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsxs)(pu.bL,{manager:d,children:[(0,o.jsx)(py.V,{variant:"menu",tooltip:(0,A.t)("whiteboard.inline_menu.font_family"),getTriggerProps:s,ariaLabel:j,recordingKey:"fontFamilyControl",children:pV(e)}),(0,o.jsx)(pu.mc,{children:(0,o.jsxs)(pp.z6,{title:(0,o.jsx)(pu.r1,{children:(0,A.t)("whiteboard.inline_menu.font_family")}),onChange:p,value:e[0],recordingKey:e2.Pt("fontFamilyControl","radioOptions"),children:[h.map(e=>{let t=pU(e);if(!t)return null;let i=pG(e,n),r=t?t.getLabel():e;return(0,o.jsx)(pp.CU,{value:e,"aria-label":r,"data-testid":"fontFamilyOption",children:i?(0,o.jsx)(tb.B,{svg:i,ariaLabel:t.getLabel(),className:"xk99fgg"}):t.getLabel()},e)}),g&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(pu.wv,{}),c.map(e=>(0,o.jsx)(pp.CU,{value:e,"aria-label":(0,A.t)("whiteboard.inline_menu.font_family_label",{currentFont:e.toLocaleLowerCase()}),"data-testid":"fontFamilyOption",children:e},e))]})]})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p_.r,{setMaxWidth:a,render:({reportWidthOfValue:t})=>(0,o.jsx)(o.Fragment,{children:m.map(i=>{let r=pU(i),a=r?r.fontFamily:i,s=r?r.getLabel():i,l=pG(a,n);return(0,o.jsx)(pW,{value:s,reportWidth:t,optionProps:{height:32,fullWidth:!0,svg:l,formattedValue:l?void 0:s,additionalStylesClassName:e.length>1?pT:void 0,checkSvg:e.length>1?pE.A:void 0,selected:!0}},s)})})}),(0,o.jsx)(pC.Fn,{value:null,onChange:p,renderButton:({onClick:t,onKeyDown:i,activeOptionId:n,ref:r,active:a})=>{let s;let l=pB(e);return l&&(s=(0,A.t)("whiteboard.inline_menu.font_family_label",{currentFont:l.toLocaleLowerCase()})),(0,o.jsx)(pv.K0,{ref:r,active:a?"NORMAL":"NONE",ariaActiveDescendant:n,ariaControls:_,ariaLabel:s,caret:"down",onKeyDown:i,onPointerDown:t,recordingKey:"fontFamilyControl",role:"combobox",svg:pH(e),tooltip:(0,A.t)("whiteboard.inline_menu.font_family")})},options:m,renderOption:t=>{let i=pU(t.value),a=i?i.fontFamily:t.value,s=i?i.getLabel():t.value,l=e.includes(a),d=pG(a,n);return"divider"!==t.value?(0,o.jsx)("div",{id:t.id,className:"font_family_control--optionContainer--joX6w",style:{width:(0,pc.uy)(r)?136:r},"aria-label":s,role:"option",tabIndex:-1,children:(0,o.jsx)(pk,{additionalStylesClassName:e.length>1?pT:void 0,checkSvg:e.length>1?pE.A:void 0,dataTestId:"fontFamilyOption",focused:t.isFocused,formattedValue:d?void 0:s,fullWidth:!0,height:32,onMouseUp:t.onClick,recordingKey:`fontFamilyControl.${s}`,selected:l,svg:d,value:s},s)},s):(0,o.jsx)(t8.wv,{},"divider")},OptionWrapper:function({children:e}){return(0,o.jsx)("div",{className:"font_family_control--flexColumn---Eol3","aria-label":x,id:_,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0,children:e})},positionY:e=>e.y-f,popoverClassName:"font_family_control--popover--uawA-",parentComponent:pC.k2.fontFamilyControl})]})}],[c.Tcr.WHITEBOARD_TEXT_STYLE,function(){let e=new ho.o1({normalizeFactor:1,min:1,max:2e3}),t=(0,d.wA)(),i=(0,iE.Um)(),[n,r]=l.useState(void 0),[a,s]=l.useState(void 0),{getTriggerProps:c,manager:p}=pu.b(),h=(0,rn.R)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType),[m,f]=(0,u3.lJ)("whiteboardFontSizes");if(!m||!(0,u4.hS)(m))return null;let x=(0,u4.hS)(m)?m:[],_=e=>{e&&(f([e]),hl.F.trackFromFullscreen("figjam_text_style_change",{source:"default",size:e,node_type:h&&1===Object.keys(h).length&&Object.keys(h).pop()||"MIXED",...h}))},g=e=>{"Enter"===e.key?(b(parseInt(e.currentTarget?.value)),t(iC.oB())):"ArrowUp"!==e.key||e.shiftKey?"ArrowDown"!==e.key||e.shiftKey||b(parseInt(e.currentTarget?.value)-1):b(parseInt(e.currentTarget?.value)+1);let i=["ArrowUp","ArrowDown"].includes(e.key);i&&(!i||e.shiftKey)||e.stopPropagation()},b=t=>{if(!isNaN(t)){let i=e.clamp(t);f([i]),hl.F.trackFromFullscreen("figjam_text_style_change",{source:"custom",size:i,node_type:h&&1===Object.keys(h).length&&Object.keys(h).pop()||"MIXED",...h})}},j=x.some(e=>!hf.has(e)),y={inputClassName:hc.hF,formatter:hj,customMixedText:(0,A.t)("whiteboard.inline_menu.font_size_mixed")},v={height:40,fullWidth:!0,additionalStylesClassName:hc.jZ},C=(0,A.t)("whiteboard.inline_menu.font_size_input"),T=(0,A.t)("whiteboard.inline_menu.font_size"),E=1===x.length?x[0]:void 0,S=E?hj.format(E):y.customMixedText,w=e=>_(e?parseInt(e):void 0);return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsxs)(pu.bL,{manager:p,children:[(0,o.jsx)(py.V,{variant:"menu",tooltip:T,getTriggerProps:c,ariaLabel:(0,A.t)("whiteboard.inline_menu.font_size_label",{currentFontSize:S.toLocaleLowerCase()}),recordingKey:"whiteboardTextStyle",children:(0,o.jsx)("div",{className:"x1exxlbk",children:S})}),(0,o.jsxs)(pu.mc,{children:[(0,o.jsx)(pp.z6,{title:(0,o.jsx)(pu.r1,{children:T}),onChange:w,value:E?.toString(),recordingKey:e2.Pt("whiteboardTextStyle","radioOptions"),children:hm.map(e=>(0,o.jsxs)(pp.CU,{value:e.toString(),"aria-label":hj.format(e),children:[(0,o.jsx)("div",{style:h_(e),children:hj.format(e)}),j&&(0,o.jsx)(pu.Ov,{children:(0,o.jsx)(pu.ME,{children:e})})]},e))}),(0,o.jsx)("div",{className:"x1xq1gxn",children:(0,o.jsx)(u5.p,{type:"number","aria-label":(0,A.t)("whiteboard.inline_menu.custom_font_size"),placeholder:C,recordingKey:"whiteboardTextStyleNumberInput","data-testid":"whiteboardTextStyleNumberInputDataTestId",onChange:w,value:1===x.length?x[0]?.toString():void 0,onKeyDown:g})}),hy(x).length>0&&(0,o.jsx)(pu.wv,{}),(0,o.jsx)(pp.z6,{title:"",onChange:w,children:hy(x).map(e=>(0,o.jsx)(pp.CU,{value:e.toString(),"aria-label":hj.format(e),children:hj.format(e)},e))})]})]}):(0,o.jsxs)("div",{className:hc.kL,"data-tooltip-show-above":!0,"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":T,children:[(0,o.jsx)(p_.r,{setMaxWidth:r,render:({reportWidthOfValue:e})=>(0,o.jsx)(o.Fragment,{children:hb.map(t=>(0,o.jsx)(hv,{reportWidth:e,inputProps:{...y,property:t}},(0,u4.hS)(t)?t:"__mixed"))})}),(0,o.jsx)(p_.r,{setMaxWidth:s,render:({reportWidthOfValue:t})=>(0,o.jsxs)(o.Fragment,{children:[hm.map(e=>(0,o.jsx)(hC,{value:e,reportWidth:t,optionProps:{value:e,formattedValue:hj.format(e),height:hx(e),style:h_(e),rightLabel:`${e}`}},e)),(0,o.jsx)(hC,{value:"number_input",reportWidth:t,optionProps:{...v,children:(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(hd.Q7,{formatter:e,onChange:ed.lQ,className:hc.FY,property:null,size:C.length,tabIndex:-1})})}},"number_input"),hy(x).map(e=>(0,o.jsx)(hC,{value:e,reportWidth:t,optionProps:{height:32,value:e,formattedValue:hj.format(e)}},e))]})}),(0,o.jsxs)(hu,{...y,ariaLabel:(0,A.t)("whiteboard.inline_menu.font_size_label",{currentFontSize:1===x.length?hj.format(x[0]).toLocaleLowerCase():y.customMixedText.toLocaleLowerCase()}),blurOnChange:!0,chevronClassName:hc.ai,dispatch:t,dropdownAlignment:"right",dropdownClassName:e_()(hc.z4,eE.Dm),dropdownShown:i,dropdownWidth:a,id:"whiteboardTextStyleControl",inputWidth:n,multipleSelections:x,onChange:_,preventHiddenInput:"until_keydown",property:1===x.length?x[0]:u4.oV,recordingKey:"whiteboardTextStyle",role:"combobox",targetDomNode:document.body,children:[hm.map(e=>(0,o.jsx)(hp,{value:e,height:hx(e),style:h_(e),rightLabel:j?`${e}`:void 0,fullWidth:!0,additionalStylesClassName:x.length>1?hc.Hp:void 0,checkSvg:x.length>1?pE.A:void 0},e)),(0,o.jsx)(pj.sK,{}),(0,o.jsx)(hp,{...v,selected:1===x.length&&!hf.has(x[0]),ariaLabel:T,children:(0,o.jsx)(hd.Q7,{ariaLabel:(0,A.t)("whiteboard.inline_menu.custom_font_size"),autoFocus:!0,className:hc.QR,dataTestId:"whiteboardTextStyleNumberInputDataTestId",formatter:e,onChange:ed.lQ,onKeyDown:g,placeholder:C,property:1===x.length?x[0]:null,recordingKey:"whiteboardTextStyleNumberInput"})}),hy(x).map(e=>(0,o.jsx)(hp,{height:32,value:e,additionalStylesClassName:x.length>1?hc.Hp:void 0,checkSvg:x.length>1?pE.A:void 0},e))]})]})}],[c.Tcr.START_MIND_MAP,function(){let e=()=>{ty.Y5.triggerActionInUserEditScope("start-mind-map")};return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("whiteboard.inline_menu.start_mind_map"),ariaLabel:(0,A.t)("whiteboard.inline_menu.start_mind_map"),onClick:e,recordingKey:"startMindMapControl",children:(0,o.jsx)(x6,{})}):(0,o.jsx)(pv.K0,{svg:x4.A,tooltip:(0,A.t)("whiteboard.inline_menu.start_mind_map"),onClick:e,recordingKey:"startMindMapControl"})}],[c.Tcr.TEXT_ALIGN_H,function(){let e=(0,u3.kl)("whiteboardTextAlignHorizontal"),t=(0,A.t)("whiteboard.inline_menu.text_alignment"),i=U.nc.user("set-text-align",e=>{he(e)}),n=l.useId(),[r,a]=l.useState(!1),s=e&&(0,u4.hS)(e)?(0,pJ.En)({"data-tooltip-type":ii.Ib.LOOKUP,"data-tooltip":ht(e)}):"",d=s?(0,A.t)("whiteboard.inline_menu.text_alignment_label",{currentTextAlignment:s.toLocaleLowerCase()}):void 0,c=l.useMemo(()=>[{value:"LEFT",content:(0,o.jsx)(pz.h,{}),label:(0,A.t)("fullscreen_actions.text-align-left"),isSelected:"LEFT"===e},{value:"CENTER",content:(0,o.jsx)(pZ.N,{}),label:(0,A.t)("fullscreen_actions.text-align-center"),isSelected:"CENTER"===e},{value:"RIGHT",content:(0,o.jsx)(p$.K,{}),label:(0,A.t)("fullscreen_actions.text-align-right"),isSelected:"RIGHT"===e}],[e]),p=l.useMemo(()=>{let e=c.find(e=>e.isSelected);return e?.content||(0,o.jsx)(pz.h,{})},[c]);return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(p2,{onChange:i,options:c,tooltip:t,ariaLabel:d,buttonContent:p,recordingKey:"textAlignmentControl"}):(0,o.jsx)(pC.Fn,{value:e,onChange:i,renderButton:({value:e,onClick:i,onKeyDown:r,activeOptionId:a,ref:s,active:l})=>{let d=e&&(0,u4.hS)(e)?(0,pJ.En)({"data-tooltip-type":ii.Ib.LOOKUP,"data-tooltip":ht(e)}):"",c=d?(0,A.t)("whiteboard.inline_menu.text_alignment_label",{currentTextAlignment:d.toLocaleLowerCase()}):void 0;return(0,o.jsx)(pv.K0,{ref:s,active:l?"NORMAL":"NONE",ariaActiveDescendant:a,ariaControls:n,ariaLabel:c,caret:"down",onKeyDown:r,onPointerDown:i,recordingKey:"textAlignmentControl",role:"combobox",svg:hi(e),tooltip:t})},options:["LEFT","CENTER","RIGHT"],renderOption:({value:e,onClick:t,isSelected:i,id:n,isFocused:a})=>(0,o.jsx)(pv.K0,{active:i?"LOUD":"NONE",focused:a,id:n,onPointerUp:e=>{r&&t(e)},recordingKey:(0,cD.Pt)("textAlignmentControl",function(e){switch(e){case"LEFT":break;case"CENTER":return"center";case"RIGHT":return"right"}return"left"}(e)),role:"option",svg:hi(e),tooltip:ht(e),tooltipType:ii.Ib.LOOKUP},String(e)),OptionWrapper:(0,pC.SC)(t,n),onToggleMenuOpen:a})}],[c.Tcr.TEXT_ALIGN_V,function(){let e=(0,u3.kl)("whiteboardTextAlignVertical"),t=(0,A.t)("whiteboard.inline_menu.text_alignment_v"),i=l.useId(),[n,r]=l.useState(!1),a=U.nc.user("set-text-align-v",e=>{hn(e)}),s=e&&(0,u4.hS)(e)?(0,pJ.En)({"data-tooltip-type":ii.Ib.LOOKUP,"data-tooltip":hr(e)}):"",d=s?(0,A.t)("whiteboard.inline_menu.text_alignment_v_label",{currentTextAlignment:s.toLocaleLowerCase()}):void 0,c=l.useMemo(()=>[{value:"TOP",content:(0,o.jsx)(pY.b,{}),label:(0,A.t)("fullscreen_actions.text-align-top"),isSelected:"TOP"===e},{value:"CENTER",content:(0,o.jsx)(pq.X,{}),label:(0,A.t)("fullscreen_actions.text-align-middle"),isSelected:"CENTER"===e},{value:"BOTTOM",content:(0,o.jsx)(pX.z,{}),label:(0,A.t)("fullscreen_actions.text-align-bottom"),isSelected:"BOTTOM"===e}],[e]),p=l.useMemo(()=>(0,o.jsx)(tb.B,{svg:ha(e)}),[e]);return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(p2,{options:c,onChange:a,buttonContent:p,recordingKey:"textAlignmentVControl",tooltip:t,ariaLabel:d}):(0,o.jsx)(pC.Fn,{value:e,onChange:U.nc.user("set-text-align-v",e=>hn(e)),renderButton:({value:e,onClick:n,onKeyDown:r,activeOptionId:a,ref:s,active:l})=>{let d=e&&(0,u4.hS)(e)?(0,pJ.En)({"data-tooltip-type":ii.Ib.LOOKUP,"data-tooltip":hr(e)}):"",c=d?(0,A.t)("whiteboard.inline_menu.text_alignment_v_label",{currentTextAlignment:d.toLocaleLowerCase()}):void 0;return(0,o.jsx)(pv.K0,{ref:s,active:l?"NORMAL":"NONE",ariaActiveDescendant:a,ariaControls:i,ariaLabel:c,caret:"down",onKeyDown:r,onPointerDown:n,recordingKey:"textAlignmentVControl",role:"combobox",svg:ha(e),tooltip:t})},options:["TOP","CENTER","BOTTOM"],renderOption:({value:e,onClick:t,isSelected:i,id:r,isFocused:a})=>(0,o.jsx)(pv.K0,{active:i?"LOUD":"NONE",focused:a,id:r,onPointerUp:e=>{n&&t(e)},recordingKey:(0,cD.Pt)("textAlignmentVControl",function(e){switch(e){case"TOP":return"top";case"CENTER":break;case"BOTTOM":return"bottom"}return"center"}(e)),role:"option",svg:ha(e),tooltip:hr(e),tooltipType:ii.Ib.LOOKUP},String(e)),OptionWrapper:(0,pC.SC)(t,i),onToggleMenuOpen:r})}],[c.Tcr.CONNECTOR_LINE_STYLE,function(){let e;let[t,i]=(0,u3.lJ)("connectorLineStyleForSelection"),[n,r]=l.useState(!1),a=(0,u.k)().ad_curved_connectors?["ELBOWED","CURVED","STRAIGHT"]:["ELBOWED","STRAIGHT"],s=e=>{("CURVED"!==e||(0,u.k)().ad_curved_connectors)&&(c.DV9?.handleConnectorLineStyleSwap(xN(t),xN(e)),i(e))},d=l.useId(),p=xL(t);p&&(e=(0,A.t)("whiteboard.inline_menu.line_shape_selector_label",{currentLineShape:p.toLocaleLowerCase()}));let h=a.map(e=>({value:e,content:xw[e],label:xL(e),isSelected:!(0,u4.gl)(t)&&t===e})),m=l.useMemo(()=>(function(e){switch(e){case"ELBOWED":case"STRAIGHT":case"CURVED":return xw[e];default:return xw.ELBOWED}})(t),[t]);return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(p2,{onChange:s,options:h,tooltip:(0,A.t)("whiteboard.inline_menu.line_shape"),ariaLabel:e,buttonContent:m,recordingKey:"connectorLineStyleControl"}):(0,o.jsx)(pC.Fn,{value:t,onChange:s,renderButton:({onClick:i,ref:n,onKeyDown:r,active:a,activeOptionId:s})=>(0,o.jsx)(pv.K0,{ref:n,active:a?"NORMAL":"NONE",ariaActiveDescendant:s,ariaControls:d,ariaLabel:e,caret:"down",onKeyDown:r,onPointerDown:i,recordingKey:"connectorLineStyleControl",role:"combobox",svg:xI(t),tooltip:(0,A.t)("whiteboard.inline_menu.line_shape")}),options:a,renderOption:({value:e,onClick:t,id:i,isSelected:r,isFocused:a})=>(0,o.jsx)(pv.K0,{id:i,tooltip:xL(e),svg:xI(e),onPointerUp:e=>{n&&t(e)},active:r?"LOUD":"NONE",focused:a,recordingKey:(0,cD.Pt)("connectorLineStyleControl",String(e)),role:"option"},String(e)),OptionWrapper:(0,pC.SC)((0,A.t)("whiteboard.inline_menu.line_shape"),d),onToggleMenuOpen:r})}],[c.Tcr.CONNECTOR_START_CAP,xg],[c.Tcr.CONNECTOR_END_CAP,xb],[c.Tcr.AUTHOR_VISIBILITY,function(){let[e,t]=(0,u3.lJ)("authorVisibility"),i=()=>{t(!e)};return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"toggle",tooltip:(0,A.t)("whiteboard.inline_menu.show_hide_author"),ariaLabel:(0,A.t)("whiteboard.inline_menu.show_hide_author"),checked:!!e,offIcon:(0,o.jsx)(fJ,{}),onIcon:(0,o.jsx)(fJ,{}),onChange:i,recordingKey:"authorVisibility"}):(0,o.jsx)(pv.K0,{svg:fQ.A,tooltip:(0,A.t)("whiteboard.inline_menu.show_hide_author"),active:e?"LOUD":void 0,onClick:i,recordingKey:"authorVisibility",role:"switch",blurOnClick:!0})}],[c.Tcr.ADD_TEXT,function(){let e=()=>{U.l7.user("add-connector-text",()=>ty.Y5.triggerAction("add-connector-text"))};return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("whiteboard.inline_menu.add_connector_text"),ariaLabel:(0,A.t)("whiteboard.inline_menu.add_connector_text"),onClick:e,recordingKey:"addTextControl",children:(0,o.jsx)(mi.B,{})}):(0,o.jsx)(pv.K0,{svg:mr.A,tooltip:(0,A.t)("whiteboard.inline_menu.add_connector_text"),active:void 0,onClick:e,recordingKey:"addTextControl"})}],[c.Tcr.DIVIDER,()=>(0,o.jsx)(pv.wv,{})],[c.Tcr.CODE_BLOCK_LANGUAGE,function(){let[e,t]=(0,u3.lJ)("codeBlockLanguage"),i=(0,F.am)(),{getTriggerProps:n,manager:r}=pu.b(),a=l.useMemo(()=>(0,u4.gl)(e)?(0,A.t)("whiteboard.code_blocks.mixed"):f0.lR.format(e??f0.jW),[e]);return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsxs)(pu.bL,{manager:r,children:[(0,o.jsx)(py.V,{variant:"menu",tooltip:(0,A.t)("whiteboard.inline_menu.programming_language"),getTriggerProps:n,ariaLabel:f5(e),recordingKey:"codeBlockLanguageSelector",children:(0,o.jsx)("div",{className:"xj35x94",children:a})}),(0,o.jsx)(pu.mc,{children:(0,o.jsx)(pp.z6,{title:(0,o.jsx)(pu.r1,{children:(0,A.t)("whiteboard.inline_menu.programming_language")}),onChange:n=>{i("figjam_code_block_language_select",{previousLanguage:f6(e),language:f6(n)}),t(n,f1.zk.YES)},value:(0,u4.gl)(e)?void 0:e??f0.jW,recordingKey:e2.Pt("codeBlockLanguageSelector","radioOptions"),children:f0.ie.map(e=>(0,o.jsx)(pp.CU,{value:e,"aria-label":f0.lR.format(e),children:f0.lR.format(e)},e))})})]}):(0,o.jsx)(f3,{tooltip:(0,A.t)("whiteboard.inline_menu.programming_language"),ariaLabel:f5(e),property:e??f0.jW,id:"codeBlockLanguageSelector",formatter:f0.lR,customMixedText:(0,A.t)("whiteboard.code_blocks.mixed"),onChange:n=>{i("figjam_code_block_language_select",{previousLanguage:f6(e),language:f6(n)}),t(n,f1.zk.YES)},onCancel:()=>{i("figjam_code_block_language_select",{previousLanguage:f6(e)})},recordingKey:"codeBlockLanguageSelector",children:f0.ie.map(e=>(0,o.jsx)(pj.c$,{value:e,ariaLabel:f5(e),recordingKey:`codeBlockLanguageSelector.${e}`},e))})}],[c.Tcr.CODE_BLOCK_THEME,function(){let[e,t]=(0,u3.lJ)("codeBlockTheme"),i=(0,F.am)(),[n,r]=l.useState(!1);return(0,o.jsx)(mc.ZE,{ariaLabel:e?(0,u4.gl)(e)?(0,A.t)("whiteboard.code_blocks.mixed"):(0,A.t)("whiteboard.inline_menu.code_block_theme",{currentTheme:f0.A$.format(e)}):void 0,buttonSize:"small",inlineButtonTooltip:(0,A.t)("whiteboard.inline_menu.theme"),isColorPopoverOpen:n,onColorChange:n=>{i("figjam_code_block_theme_select",{previousTheme:f9(e),theme:f9((0,f0.Kr)(n))}),t((0,f0.Kr)(n),f1.zk.YES)},optionSize:"medium",paletteType:"codeBlockTheme",recordingKey:"codeBlockThemeSelector",setIsColorPopoverOpen:r,value:(0,f4.mx)((0,f0.jP)(e))??[]})}],[c.Tcr.EMBED_OPEN_EXTERNAL,function(){return(0,o.jsx)(mt.e,{})}],[c.Tcr.EMBED_MAXIMIZE,function(){return(0,o.jsx)(xR,{})}],[c.Tcr.EMBED_CONVERT_TO_TEXT,function(){return(0,o.jsx)(me.S,{})}],[c.Tcr.IMAGE,pK.AZ],[c.Tcr.REMOVE_IMAGE_BACKGROUND,function(){let e=(0,u3.A5)("imageHasNoStroke"),t=()=>{let t=c.ruz?.getNodeImagePairsForEdit()??[];(0,cC.B3)(cv.JT.REMOVE_BACKGROUND),(0,cC.Ag)(cv.JT.REMOVE_BACKGROUND,xX.J,{source:"fullscreen-action",targets:t},{isBatch:t.length>1}),e(!0)};return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("whiteboard.inline_menu.remove_background"),ariaLabel:(0,A.t)("whiteboard.inline_menu.remove_background"),onClick:t,children:(0,o.jsx)(xq,{})}):(0,o.jsx)(pv.K0,{tooltip:(0,A.t)("whiteboard.inline_menu.remove_background"),svg:xJ.A,onClick:t})}],[c.Tcr.BORDER,pK.rT],[c.Tcr.DESCRIPTION,pK.Dz],[c.Tcr.SECTION_SHOW_HIDE,function(){let[e,t]=(0,u3.lJ)("sectionContentsHidden"),i=()=>{t(!e)},n=e?(0,A.t)("fullscreen_actions.show-section"):(0,A.t)("fullscreen_actions.hide-section");return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{ariaLabel:n,checked:!!e,dataTestId:"section-show-hide-control",offIcon:(0,o.jsx)(x2.T,{}),onChange:i,onIcon:(0,o.jsx)(hR.j,{}),recordingKey:"showHideSection",tooltip:n,tooltipShortcutActionKey:"toggle-section-visibility",variant:"toggle"}):(0,o.jsx)(pv.K0,{svg:e?x3.A:x5.A,tooltip:n,ariaLabel:n,role:"switch",tooltipShortcutActionKey:"toggle-section-visibility",active:e?"LOUD":void 0,onClick:i,recordingKey:"showHideSection"})}],[c.Tcr.SECTION_RENAME,function(){let e=ms(),t=mo(),i=(0,u3.kl)("name"),n=!i||""===i.trim(),r=n?(0,A.t)("fullscreen_actions.add-title"):(0,A.t)("fullscreen_actions.rename-section");return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:r,ariaLabel:r,onClick:t,recordingKey:"renameSection",tooltipShortcutActionKey:"rename-selection",children:n?(0,o.jsx)(mi.B,{}):(0,o.jsx)(mn,{})}):(0,o.jsx)(pv.K0,{svg:n?mr.A:ma.A,tooltip:r,tooltipShortcutActionKey:"rename-selection",resourceId:"rename-selection",onClick:t,active:e?"LOUD":void 0,recordingKey:"renameSection"})}],[c.Tcr.WASHI_TAPE_PATTERN,function(){return(0,o.jsx)(ff,{recordingKey:"washiTapePatternControl"})}],[c.Tcr.RESIZE_TO_FIT,function(){let e=(0,u3.kl)("sectionContentsOverflowing"),t=(0,u3.kl)("sectionContentsHidden"),i=()=>{ty.Y5.triggerActionInUserEditScope("resize-to-fit")};return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("fullscreen_actions.resize-to-fit"),tooltipShortcutActionKey:"resize-to-fit",ariaLabel:(0,A.t)("fullscreen_actions.resize-to-fit"),onClick:i,recordingKey:"resizeToFitSection",disabled:!!t,children:(0,o.jsx)(xQ.F,{})}):(0,o.jsx)(pv.K0,{svg:e?x0.A:x1.A,disabled:!!t,tooltip:(0,A.t)("fullscreen_actions.resize-to-fit"),tooltipShortcutActionKey:"resize-to-fit",onClick:i,recordingKey:"resizeToFitSection"})}],[c.Tcr.FACE_STAMP,function(){let e=(0,u3.kl)("stampData"),{label:t,loading:i}=function(e){let{user:t,loading:i}=(0,I.wW)(e?.userId||e?.stampedByUserId||null);return{label:e&&(0,u4.gl)(e)?(0,A.t)("whiteboard.face_stamps.mixed"):t?.handle||null,loading:i}}(e),[n,r]=l.useState(!1),a=(0,nE.d0)(),s=l.useRef(null);return(l.useEffect(()=>{let e=()=>r(!1),t=t=>{s.current?.contains(t.target)||e()},i=t=>{"Escape"===t.key&&e()};return document.addEventListener("click",t),document.addEventListener("focus",t,!0),window.addEventListener("keydown",i),()=>{document.removeEventListener("click",t),document.removeEventListener("focus",t),window.removeEventListener("keydown",i)}},[]),a&&e)?(0,o.jsxs)("div",{ref:s,children:[(0,o.jsxs)(hM.oj,{className:e_()(xH.Wh,"face_stamp_control--userLabel--S-WLt",{[xV]:h.XN}),onClick:()=>r(!n),role:"button",tabIndex:0,recordingKey:"faceStampControl",dataTestId:"faceStampControl",children:[(0,o.jsx)("div",{className:e_()({"face_stamp_control--loadingUserText--r884u":i,"face_stamp_control--userNameLabel--X-7PN":!i,"face_stamp_control--userNameLabeliPad--P1bIB":h.XN}),children:(0,o.jsxs)("span",{className:"face_stamp_control--userNameOverflow--lNvYi ellipsis--ellipsis--Tjyfa",children:[i?"":t," "]})}),(0,o.jsx)(tb.B,{svg:xW.A,className:"face_stamp_control--chevronButton--0T018"})]}),n&&(0,o.jsx)(xz,{onSelect:()=>r(!1)})]}):null}],[c.Tcr.LOCK,function(){let e=(0,u3.kl)("locked"),t=(0,u3.kl)("sectionContentsHidden"),[i,n]=l.useState(void 0),r=(0,pg.g)(),{getTriggerProps:a,manager:s}=pu.b(),d=()=>{e?ty.Y5.triggerActionInUserEditScope("unlock-selected-nodes"):ty.Y5.triggerActionInUserEditScope("lock-selected-nodes")};if(!t){var c;return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsxs)(pu.bL,{manager:s,children:[(0,o.jsx)(py.V,{variant:"menu",tooltip:(0,A.t)("whiteboard.inline_menu.lock_options"),getTriggerProps:()=>a({onClick:()=>{eb.az.trackDefinedEvent("figjam.lock_options.clicked",{})}}),ariaLabel:(0,A.t)("whiteboard.inline_menu.lock_options"),recordingKey:"lockUnlockOptions",dataTestId:"lock-control-inline-options-v2",children:(0,o.jsx)(fP.$,{})}),(0,o.jsx)(pu.mc,{children:(0,o.jsxs)(pu.YJ,{"aria-label":(0,A.t)("whiteboard.inline_menu.lock_options"),children:[(0,o.jsx)(pu.q7,{onClick:()=>{ty.Y5.triggerActionInUserEditScope("lock-selected-nodes"),eb.az.trackDefinedEvent("figjam.lock_options.lock_all.selected",{})},recordingKey:e2.Pt("lockOption","lock_all"),"aria-label":(0,A.t)("whiteboard.inline_menu.lock_all"),children:(0,A.t)("whiteboard.inline_menu.lock_all")}),(0,o.jsx)(pu.q7,{onClick:()=>{ty.Y5.triggerActionInUserEditScope("lock-selected-section-only"),eb.az.trackDefinedEvent("figjam.lock_options.lock_background_only.selected",{})},recordingKey:e2.Pt("lockOption","lock_section_background_only"),"aria-label":(0,A.t)("whiteboard.inline_menu.lock_background_only"),children:(0,A.t)("whiteboard.inline_menu.lock_background_only")})]})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p_.r,{setMaxWidth:n,render:({reportWidthOfValue:e})=>(0,o.jsx)(o.Fragment,{children:Object.entries(fY()).map(([t,i])=>(0,o.jsx)(fX,{value:t,reportWidth:e,optionProps:{height:24,fullWidth:!0,formattedValue:i,ignoreCheck:!0}},t))})}),(0,o.jsx)(pC.Fn,{value:null,onChange:e=>{switch(e){case"lock_all":ty.Y5.triggerActionInUserEditScope("lock-selected-nodes"),eb.az.trackDefinedEvent("figjam.lock_options.lock_all.selected",{});break;case"lock_section_background_only":ty.Y5.triggerActionInUserEditScope("lock-selected-section-only"),eb.az.trackDefinedEvent("figjam.lock_options.lock_background_only.selected",{})}},renderButton:({onClick:t})=>(0,o.jsx)(pv.K0,{svg:fW.A,tooltip:e?(0,A.t)("whiteboard.inline_menu.unlock"):(0,A.t)("whiteboard.inline_menu.lock"),onClick:()=>{t(),eb.az.trackDefinedEvent("figjam.lock_options.clicked",{})},recordingKey:"lockUnlockOptions",testId:"lock-control-inline-options-v2",caret:"down",svgStyle:{stroke:"var(--color-icon-menu-secondary)",fill:"none"}}),options:f$,renderOption:e=>{let t=Object.values(fZ).find(t=>t===e.value);if(!t)return;let n=fY()[t];return(0,o.jsx)("div",{id:e.id,className:"lock_control--optionContainer--RG6tY",style:{width:i??208},"aria-label":n,role:"option","aria-selected":e.isSelected,tabIndex:-1,children:(0,o.jsx)(fz,{value:t,height:24,fullWidth:!0,selected:e.isSelected,onMouseUp:e.onClick,recordingKey:e2.Pt("lockOption",t),ignoreCheck:!0,children:n},t)},t)},OptionWrapper:(c=(0,A.t)("whiteboard.inline_menu.lock_options"),function({children:e}){return(0,o.jsx)("div",{className:"lock_control--flexColumn--dwOZC","aria-label":c,id:r,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0,children:e})})})]})}return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("whiteboard.inline_menu.unlock"),onClick:d,ariaLabel:e?(0,A.t)("whiteboard.inline_menu.unlock"):(0,A.t)("whiteboard.inline_menu.lock"),recordingKey:"lockUnlock",dataTestId:"lock-control-inline-v2",children:(0,o.jsx)(fP.$,{})}):(0,o.jsx)(pv.K0,{svg:fW.A,tooltip:e?(0,A.t)("whiteboard.inline_menu.unlock"):(0,A.t)("whiteboard.inline_menu.lock"),onClick:d,recordingKey:"lockUnlock",testId:"lock-control-inline-v2",svgStyle:{stroke:"var(--color-icon-menu-secondary)",fill:"none"}})}]]);function _H({control:e}){let t=_B.get(e);return t?(0,o.jsx)(t,{}):null}var _V=i(969977),_G=i(299537),_W=i(291714),_K=i(659371),_z=i(384324),_Z=i(410575),_$=i(486140),_Y=i(107582),_q=i(737393),_X=i(544329),_J=i(482208),_Q=i(450549),_0=i(247653),_1=i(304791),_2=i(870386),_3=i(915517),_5=i(130563);let _6={"align-top":_3.A,"align-vertical-center":_5.A,"align-bottom":_Q.A,"align-left":_1.A,"align-horizontal-center":_0.A,"align-right":_2.A},_4={"align-top":(0,o.jsx)(_z.Q,{}),"align-vertical-center":(0,o.jsx)(_Z.O,{}),"align-bottom":(0,o.jsx)(_$.u,{}),"align-left":(0,o.jsx)(_Y.K,{}),"align-horizontal-center":(0,o.jsx)(_q.E,{}),"align-right":(0,o.jsx)(_X.F,{})};function _9(){let e=["align-left","align-horizontal-center","align-right","align-top","align-vertical-center","align-bottom"],t=e=>{ty.Y5.triggerActionInUserEditScope(e)},i=(0,pg.g)(),[n,r]=l.useState(!1),a=e.map(e=>({value:e,content:_4[e],label:(0,_J.A)(e),shortcutKey:e,isSelected:!1})),s=l.useMemo(()=>(0,o.jsx)(_Y.K,{}),[]);return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(p2,{onChange:t,options:a,tooltip:(0,A.t)("whiteboard.inline_menu.alignment_button"),buttonContent:s,recordingKey:"alignmentControl"}):(0,o.jsx)(pC.Fn,{value:"align-left",onChange:t,renderButton:({onClick:e,onKeyDown:t,activeOptionId:n,ref:r,active:a})=>(0,o.jsx)(pv.K0,{ref:r,active:a?"NORMAL":"NONE",ariaActiveDescendant:n,ariaControls:i,caret:"down",onKeyDown:t,onPointerDown:e,recordingKey:"alignmentControl",role:"combobox",svg:_6["align-left"],tooltip:(0,A.t)("whiteboard.inline_menu.alignment_button")}),options:e,renderOption:({value:e,onClick:t,id:i,isFocused:r})=>(0,o.jsx)(pv.K0,{active:"NONE",focused:r,id:i,onPointerUp:e=>{n&&t(e)},recordingKey:e2.Pt("alignmentControl",(0,rR.zS)(e)),role:"option",svg:_6[e],tooltip:e,tooltipType:ii.Ib.LOOKUP},e),OptionWrapper:(0,pC.SC)((0,A.t)("whiteboard.inline_menu.alignment_button"),i),onToggleMenuOpen:r})}var _8=i(483257),_7=i(681750);function ge(){let e=()=>{ty.Y5.triggerActionInUserEditScope("create-section-from-selection")};return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("fullscreen_actions.create-section-from-selection"),tooltipShortcutActionKey:"create-section-from-selection",ariaLabel:(0,A.t)("fullscreen_actions.create-section-from-selection"),onClick:e,recordingKey:"createSectionFromSelection",dataTestId:"createSectionFromSelection",children:(0,o.jsx)(_8.P,{})}):(0,o.jsx)(pv.K0,{tooltip:"create-section-from-selection",tooltipType:ii.Ib.LOOKUP,svg:_7.A,onClick:e,recordingKey:"createSectionFromSelection",testId:"createSectionFromSelection"})}var gt=i(215667),gi=i(383828),gn=i(432935);let gr="state_swap_library_items--scrollContainer--OX-3k",ga="state_swap_library_items--header--9Mr9Y text--fontPos11--2LvXf text--_fontBase--QdLsd",gs=l.memo(function({onClose:e}){let t=(0,d.d4)(e=>e.mirror.selectionProperties.stateGroupSelectionInfo),i=(0,d.d4)(e=>e.mirror.sceneGraphSelection),n=(0,gn.mJ)(),r=(0,gn._H)(),{height:a,width:s,gridClassName:c}=function(e){switch(e){case rU.rp.SMALL:return{height:70,width:70,gridClassName:"state_swap_library_items--gridContainerSmall---L0dp state_swap_library_items--_gridContainerBase--uPEDp"};case rU.rp.NORMAL:return{height:114,width:114,gridClassName:"state_swap_library_items--gridContainerNormal--sgzpl state_swap_library_items--_gridContainerBase--uPEDp"};case rU.rp.WIDE:return{width:246,gridClassName:"state_swap_library_items--gridContainerWide--UDAfb state_swap_library_items--_gridContainerBase--uPEDp"};case rU.rp.THIN_2_COL:throw Error("THIN_2_COL layout not implemented for state swap control");case rU.rp.THIN_3_COL:throw Error("THIN_3_COL layout not implemented for state swap control")}}((0,rU.PI)(r.map(e=>n.get(e)).filter(pc.Vq))),p=l.useMemo(()=>{let l=new Set(t?.selectedStates?.map(e=>e.symbol.nodeId));return new Map(r.map(t=>[t,(0,o.jsx)(tC.lX,{item:n.get(t),height:a,width:s,shouldHideDescription:!0,className:l.has(t)?"state_swap_library_items--selected--Pdhuy":"state_swap_library_items--notSelected--kXGoA",noBackground:!0,buttonProps:{onItemClick:()=>{let n={};n[t]=Object.keys(i),U.l7.user("swap-states",()=>(0,gi.Aw)(n)),e()}}},t)]))},[n,r,i,a,s,t?.selectedStates,e]);return t?.allStates&&t?.selectedStates?(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:ga,children:(0,A.tx)("whiteboard.inline_menu.variants")}),(0,o.jsx)(ev.P,{className:gr,children:(0,o.jsx)("div",{className:c,children:r.map(e=>p.get(e))})})]}):(0,o.jsxs)("div",{className:"state_swap_library_items--stateSwapMenuContainer--5TGRL",children:[(0,o.jsx)("div",{className:ga,children:(0,A.tx)("whiteboard.inline_menu.variants")}),(0,o.jsx)(ev.P,{className:gr,children:(0,o.jsx)("div",{className:c,children:r.map(e=>p.get(e))})})]}):null});var go=i(136271);let gl=l.memo(function(){let e=l.useRef(null),[t,i]=l.useState(!1),{getTriggerProps:n,manager:r}=pu.b(),a=(0,d.d4)(e=>e.mirror.selectionProperties.stateGroupSelectionInfo);return a?.allStates&&a?.selectedStates?(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(gt.a,{mode:"match",children:(0,o.jsxs)(pu.bL,{manager:r,children:[(0,o.jsx)(py.V,{variant:"menu",tooltip:(0,A.t)("whiteboard.inline_menu.see_variants"),getTriggerProps:n,ariaLabel:(0,A.t)("whiteboard.inline_menu.see_variants"),recordingKey:"stateSwapOptions",children:(0,o.jsx)(tb.B,{svg:go.A})}),(0,o.jsx)(pu.mc,{children:(0,o.jsx)(gs,{onClose:ed.lQ})})]})}):(0,o.jsx)(x7.A,{target:(0,o.jsx)(pv.K0,{svg:go.A,ref:e,onClick:()=>i(!0),caret:"down",tooltip:(0,A.t)("whiteboard.inline_menu.see_variants")}),onClose:()=>i(!1),renderPopoverContents:()=>(0,o.jsx)(gs,{onClose:()=>i(!1)}),isOpen:t,positionX:(e,t)=>e.x+e.width/2-t.width/2+138,positionY:e=>e.y+e.height+4}):null});var gd=i(993374),gc=i(636746);function gu(){let e=()=>{ty.Y5.triggerActionInUserEditScope("tidy-up")};return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("fullscreen_actions.tidy-up"),tooltipShortcutActionKey:"tidy-up",ariaLabel:(0,A.t)("fullscreen_actions.tidy-up"),onClick:e,recordingKey:"tidyUp",dataTestId:"tidyUp",children:(0,o.jsx)(gd.D,{})}):(0,o.jsx)(pv.K0,{svg:gc.A,tooltip:"tidy-up",tooltipType:ii.Ib.LOOKUP,onClick:e,recordingKey:"tidyUp",testId:"tidyUp"})}var gp=i(523157),gh=i(22844),gm=i(82981);function gf(){let e=()=>{ty.Y5.triggerActionInUserEditScope("leave-edit-mode"),ty.Y5.triggerActionInUserEditScope("delete-selection")};return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("whiteboard.inline_menu.delete"),ariaLabel:(0,A.t)("whiteboard.inline_menu.delete"),onClick:e,recordingKey:"delete",children:(0,o.jsx)(gh.i,{})}):(0,o.jsx)(pv.K0,{svg:gm.A,tooltip:(0,A.t)("whiteboard.inline_menu.delete"),onClick:e,recordingKey:"delete"})}var gx=i(591949),g_=i(854311);function gg(){let e=()=>{ty.Y5.triggerActionInUserEditScope("leave-edit-mode"),ty.Y5.triggerActionInUserEditScope("duplicate-in-place")};return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("whiteboard.inline_menu.duplicate"),ariaLabel:(0,A.t)("whiteboard.inline_menu.duplicate"),onClick:e,recordingKey:"duplicate",children:(0,o.jsx)(gx.u,{})}):(0,o.jsx)(pv.K0,{svg:g_.A,tooltip:(0,A.t)("whiteboard.inline_menu.duplicate"),onClick:e,recordingKey:"duplicate"})}var gb=i(493300);function gj(){let e=e=>{ty.Y5.triggerAction("leave-edit-mode"),ty.Y5.showSelectionContextMenu(e.clientX,e.clientY)};return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(py.V,{variant:"button",tooltip:(0,A.t)("whiteboard.inline_menu.show_additional_items"),ariaLabel:(0,A.t)("whiteboard.inline_menu.show_additional_items"),onClick:e,recordingKey:"showAdditionalItems",children:(0,o.jsx)(rz.J,{})}):(0,o.jsx)(pv.K0,{svg:gb.A,tooltip:(0,A.t)("whiteboard.inline_menu.show_additional_items"),onClick:e,recordingKey:"showAdditionalItems"})}function gy(e){return h.Ay.isIpad?(0,o.jsxs)(o.Fragment,{children:[e.showLeftSeparator?(0,o.jsx)(pv.wv,{}):null,(0,o.jsx)(gf,{}),(0,o.jsx)(pv.wv,{}),(0,o.jsx)(gg,{}),(0,o.jsx)(pv.wv,{}),(0,o.jsx)(gj,{})]}):h.Ay.isMeetDevice?(0,o.jsxs)(o.Fragment,{children:[e.showLeftSeparator?(0,o.jsx)(pv.wv,{}):null,(0,o.jsx)(gg,{}),(0,o.jsx)(pv.wv,{}),(0,o.jsx)(gf,{})]}):null}let gv="whiteboard_inline_menu--faceStampsIPadToolbar--eMV12",gC="whiteboard_inline_menu--whiteboardInlineMenu--5l5jy",gT=l.memo(function(){let e=hL();return!function(){let e=fE(),t=(0,j.rN)(),i=void 0!==e,n=(0,j.kM)(),r=(0,j.yx)();return l.useEffect(()=>{let i=fM(e);if(i){if(n){let t=setTimeout(()=>{window.FigmaMobile.nativeContextualToolbarSupportedVersions=void 0,n._native_contextual_toolbar_confirm_configuration=()=>{},(0,B.$D)(P.e.FIGJAM,Error(`Native contextual toolbar did not confirm configuration before timeout, version ${e}`))},2e3);n._native_contextual_toolbar_confirm_configuration=()=>{clearTimeout(t)}}t?.nativeContextualToolbarAcceptConfiguration?.(i),(0,fC.o5)(!1)}else t?.nativeContextualToolbarRejected?.(),(0,fC.o5)(!0);(0,fT.I)(r)},[e,t,n,r]),i}()?(0,o.jsx)(u8.k,{isShown:e,children:(0,o.jsx)(_W.IA,{children:(0,o.jsx)(gE,{testID:"WhiteboardInlineMenu",focusableDivTestId:"WhiteboardInlineMenuFocusableDiv"})})}):(0,o.jsx)(fD,{})}),gE=l.memo(function({testID:e,focusableDivTestId:t}){return(0,u.k)().figjam_a11y_inline_toolbar?(0,o.jsx)(gI,{testID:e}):(0,o.jsx)(gS,{testID:e,focusableDivTestId:t})}),gS=l.memo(function({testID:e,focusableDivTestId:t}){let i=l.createRef(),n=(0,p.md)(_G.f),r=(0,d.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),a=(0,d.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelectedPlatformShape??0),s=(0,d.d4)(e=>e.mirror.selectionProperties.stateGroupSelectionInfo?.stateGroup),f=(0,d.d4)(e=>e.mirror.sceneGraphSelection),x=(0,rn.R)(e=>e.mirror.selectionProperties.whiteboardControls),_=!!x?.includes(c.Tcr.DESCRIPTION),g=!!(0,u3.kl)("locked"),[b,j]=(0,l.useState)(!1),[y,v]=(0,l.useState)(g),C=(0,u_.$)(f),T=(0,u_.h)(g);l.useEffect(()=>{C&&j(!1)},[C,j]),gA({lockStateChanged:T,selectionChanged:C,setShouldSectionShowUnlockWithFriction:v}),(0,ni.C_)(i);let E=(0,d.d4)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection);return 1===t.length&&n.currentlySelectedNode.nodeId===t[0]?n.currentlySelectedNode.ariaLabel:null}),S=fu(),[w,I]=l.useState(!0),L=(0,nE.d0)(),N=(0,_K.Cb)(),O=(0,fa.QP)(),k=!(0,m.q8)(),R=(0,u2.Zr)("align-top"),M=(0,u2.Zr)("tidy-up"),D=R&&M&&!N,P=(0,u2.Zr)("create-section-from-selection")&&!N;if(g)return(0,o.jsx)(gw,{testID:e,menuRef:i,shouldSectionShowUnlockWithFriction:y});if(!x)return null;if(_&&b)return(0,o.jsx)(u9,{setIsEditorOpen:j});let{leftContentControls:U,menuMarginBottom:F,rightControlsEnabled:B}=gO({controls:x,setIsImageDescriptionEditorOpen:j,imageDescriptionControlShown:_,stateGroup:s,numberSelected:r,numSelectedPlatformShape:a}),H=(0,o.jsxs)(o.Fragment,{children:[...U]}),V=k&&O,G=gk({rightControlsEnabled:B,alignEnabled:R,ungroupEnabled:S,showTidyUpControl:D,showCreateSectionControl:P,shouldShowOrganizeDropdown:N,leftContentControls:U,figjamAiQuickActionShown:V}),W=G&&(0,o.jsxs)(o.Fragment,{children:[...G]}),K=(0,u.k)().figjam_a11y_inline_toolbar?u7.b:l.Fragment;return(0,o.jsx)(n_.fu,{name:"inline_toolbar",properties:{figjam_ai_control_shown:V,figjam_organize_control_shown:N},children:(0,o.jsx)("div",{className:e_()(gC,{[gv]:L&&h.XN}),children:(0,o.jsx)(u0.i,{children:(0,o.jsx)(K,{children:(0,o.jsxs)(pv.W1,{ariaHidden:w,ariaLabel:null==E?(0,A.t)("whiteboard.inline_menu.inline_menu_label"):(0,A.t)("whiteboard.inline_menu.inline_menu_label_with_selected_node",{selectedNodeAriaLabel:E}),focusableDivTestId:t,marginBottom:F,menuRef:i,onBlurCapture:e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&I(!0)},onFocus:()=>{I(!1)},propagateInputToFullscreen:!0,role:"region",tabIndex:-1,testID:e,children:[H,W,(0,o.jsx)(gy,{showLeftSeparator:null!==H||null!==W}),(0,o.jsx)(gp.x,{})]})})})})})});function gw({testID:e,menuRef:t,shouldSectionShowUnlockWithFriction:i}){return(0,o.jsx)(pv.W1,{testID:e,menuRef:t,children:i?(0,o.jsx)(fq,{}):(0,o.jsx)(fK,{shouldAnimateOnHover:!0})})}let gI=l.memo(function({testID:e}){let t,i,n;let r=l.createRef(),a=(0,p.md)(_G.f),s=(0,d.d4)(e=>e.mirror.sceneGraphSelection),u=(0,rn.R)(e=>e.mirror.selectionProperties.whiteboardControls),f=!!u?.includes(c.Tcr.DESCRIPTION),x=!!(0,u3.kl)("locked"),[_,g]=(0,l.useState)(!1),[b,j]=(0,l.useState)(x),y=(0,u_.$)(s),v=(0,u_.h)(x);l.useEffect(()=>{y&&g(!1)},[y,g]),gA({lockStateChanged:v,selectionChanged:y,setShouldSectionShowUnlockWithFriction:j}),(0,ni.C_)(r);let C=(0,d.d4)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection);return 1===t.length&&a.currentlySelectedNode.nodeId===t[0]?a.currentlySelectedNode.ariaLabel:null}),[T,E]=l.useState(!0),[S,w]=l.useState(void 0),I=(0,nE.d0)(),L=l.useCallback(e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&E(!0)},[E]),N=l.useCallback(()=>{E(!1)},[E]),O=(0,_K.Cb)(),k=(0,fa.QP)(),R=!(0,m.q8)()&&k;if(!u)return null;if(f&&_)return(0,o.jsx)(u9,{setIsEditorOpen:g});let M=e_()(gC,{[gv]:I&&h.XN});return x?(i=(0,A.t)("whiteboard.inline_menu.lock_options"),t=(0,o.jsx)(gL,{shouldSectionShowUnlockWithFriction:b}),n={}):(i=null==C?(0,A.t)("whiteboard.inline_menu.inline_menu_label"):(0,A.t)("whiteboard.inline_menu.inline_menu_label_with_selected_node",{selectedNodeAriaLabel:C}),n={figjam_ai_control_shown:R,figjam_organize_control_shown:O},t=(0,o.jsx)(gN,{controls:u||[],imageDescriptionControlShown:f,setIsImageDescriptionEditorOpen:g,figjamAiQuickActionShown:R,onMenuMarginBottomChange:w})),(0,o.jsx)(n_.fu,{name:"inline_toolbar",properties:n,children:(0,o.jsx)("div",{className:M,children:(0,o.jsx)(u0.i,{children:(0,o.jsx)(u7.b,{children:(0,o.jsx)(u1.N,{"aria-hidden":T,orientation:"horizontal","aria-label":i,className:"whiteboard_inline_menu--toolbarPrimitive--W8vkv","data-testid":e,htmlAttributes:{onBlurCapture:L,onFocus:N,role:"region"},ref:r,style:S?{marginBottom:S}:void 0,children:t})})})})})}),gL=l.memo(function({shouldSectionShowUnlockWithFriction:e}){return(0,o.jsx)(o.Fragment,{children:e?(0,o.jsx)(fq,{}):(0,o.jsx)(fK,{shouldAnimateOnHover:!0})})}),gN=l.memo(function({controls:e,setIsImageDescriptionEditorOpen:t,imageDescriptionControlShown:i,figjamAiQuickActionShown:n,onMenuMarginBottomChange:r}){let a=(0,d.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),s=(0,d.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelectedPlatformShape??0),c=(0,d.d4)(e=>e.mirror.selectionProperties.stateGroupSelectionInfo?.stateGroup),u=(0,_K.Cb)(),p=(0,u2.Zr)("align-top"),h=(0,u2.Zr)("tidy-up"),m=p&&h&&!u,f=(0,u2.Zr)("create-section-from-selection"),x=fu(),{leftContentControls:_,rightControlsEnabled:g,menuMarginBottom:b}=gO({controls:e,setIsImageDescriptionEditorOpen:t,imageDescriptionControlShown:i,stateGroup:c,numberSelected:a,numSelectedPlatformShape:s});l.useEffect(()=>{r(b)},[r,b]);let j=(0,o.jsxs)(o.Fragment,{children:[..._]}),y=gk({rightControlsEnabled:g,alignEnabled:p,ungroupEnabled:x,showTidyUpControl:m,showCreateSectionControl:f&&!u,shouldShowOrganizeDropdown:u,leftContentControls:_,figjamAiQuickActionShown:n}),v=y&&(0,o.jsxs)(o.Fragment,{children:[...y]});return(0,o.jsxs)(o.Fragment,{children:[j,v,(0,o.jsx)(gy,{showLeftSeparator:null!==j||null!==v}),(0,o.jsx)(gp.x,{})]})});function gA({lockStateChanged:e,selectionChanged:t,setShouldSectionShowUnlockWithFriction:i}){l.useLayoutEffect(()=>{e&&!t?i(!1):t&&i(!0)},[e,t,i])}function gO({controls:e,setIsImageDescriptionEditorOpen:t,imageDescriptionControlShown:i,stateGroup:n,numberSelected:r,numSelectedPlatformShape:a}){let s;let l=[],d=!1;return i?e.forEach((e,i)=>{let n=(0,o.jsx)(_H,{control:e},`${e}-${i}`);e===c.Tcr.DESCRIPTION&&(n=(0,o.jsx)(pK.Dz,{setIsEditorOpen:t},`${e}-${i}`)),l.push(n)}):n&&1===r&&0===a?l.push((0,o.jsx)(gl,{},"state-swap-control")):1===e.length&&e[0]===c.Tcr.WIDGET&&1===r?(l.push((0,o.jsx)(_V.jk,{},"widget-controls")),s=16):(d=!0,e.length>0&&l.push((0,o.jsx)(gR,{controls:e},"control-set"))),{leftContentControls:l,menuMarginBottom:s,rightControlsEnabled:d}}function gk({rightControlsEnabled:e,alignEnabled:t,showTidyUpControl:i,ungroupEnabled:n,showCreateSectionControl:r,shouldShowOrganizeDropdown:a,leftContentControls:s,figjamAiQuickActionShown:l}){if(!e)return null;let d=[t&&(0,o.jsx)(_9,{}),i&&(0,o.jsx)(gu,{}),n&&(0,o.jsx)(fc,{}),r&&(0,o.jsx)(ge,{}),a&&(0,o.jsx)(d$.tT,{}),l&&(0,o.jsx)(pd.s_,{})].filter(Boolean);return d.length&&s.length&&d.unshift((0,o.jsx)(pv.wv,{},"separator-right-content")),d}function gR({controls:e}){return e.length?(0,o.jsx)(o.Fragment,{children:e.map((e,t)=>(0,o.jsx)(_H,{control:e},`${e}-${t}`))}):null}let gM=l.memo(function(){let e=function(){let e=(0,d.d4)(e=>e.mirror.appModel.hyperlinkLocation),t=(0,iE.Um)(),i=t&&t.type===eE.K9,n=(0,d.d4)(e=>e.progressBarState.mode===c.Oin.HIDE_UI),r=hE(),a=(0,d.d4)(e=>e.mirror.selectionProperties.numSelectedByType?.SHAPE_WITH_TEXT===1&&1===e.mirror.selectionProperties.numSelected);return!(0,d.d4)(e=>!e.mirror.selectionProperties.numSelected||0===e.mirror.selectionProperties.numSelected)&&!e&&!n&&!i&&a&&r}(),t=(0,d.d4)(hw),i=(0,O.Pl)({subscribeToUpdates_expensive:!1}),n=(0,d.d4)(hI);if(!n)return null;let r=function(e,t,i){let n=(0,u.k)().figjam_a11y_inline_toolbar?(0,O.kE)(188,i):(0,O.kE)(168,i),r=(0,u.k)().figjam_a11y_inline_toolbar?(0,O.kE)(140,i):(0,O.kE)(130,i),a=(0,O.kE)(40,i),s=(0,O.kE)(4,i);switch(c.qmM.getQuickAddInteraction()){case c.lMj.CLICK:{let o={x:e.absoluteBoundingBox.x,y:e.absoluteBoundingBox.y,width:e.absoluteBoundingBox.w,height:e.absoluteBoundingBox.h},l=(0,O.kE)(20,i),d={x:0,y:0,width:n,height:r},u=o.x+o.width/2-n/2,p=o.y+o.height/2-(r-a/2-s);switch(t){case c.gEE.TOP:return d.x=u,d.y=o.y+-r,d;case c.gEE.BOTTOM:return d.x=u,d.y=o.y+o.height+-(r-a/2-2*s-l),d;case c.gEE.LEFT:return d.x=o.x+-(n/2+l),d.y=p,d;case c.gEE.RIGHT:return d.x=o.x+o.width+-(n/2-l),d.y=p,d}}case c.lMj.DRAG:return{x:e.connectorEndCanvasPosition.x-n/2,y:e.connectorEndCanvasPosition.y-r+a/2+s,width:n,height:r}}}(n,t,i);return r?(0,o.jsx)(u8.k,{isShown:e,centerInFrame:!0,anchorToRect:r,children:(0,o.jsx)(_W.IA,{children:(0,o.jsx)(gD,{testID:"WhiteboardInlineQuickAddMenu",focusableDivTestId:"WhiteboardInlineQuickAddMenuFocusableDiv"})})}):null}),gD=l.memo(function({testID:e,focusableDivTestId:t}){let i=l.useRef(null);return(0,u3.kl)("locked")?(0,o.jsx)(pv.W1,{testID:e,menuRef:i,children:(0,o.jsx)(fK,{})}):(0,o.jsx)("div",{children:(0,o.jsx)(pv.W1,{testID:e,focusableDivTestId:t,menuRef:i,ariaLabel:(0,A.t)("whiteboard.inline_menu.inline_menu_label"),role:"region",tabIndex:-1,propagateInputToFullscreen:!0,children:(0,o.jsx)(_F,{})})})});var gP=i(750676),gU=i(469876),gF=i(122682),gB=i(343085),gH=i(162807),gV=i(499229),gG=i(20763),gW=i(542126),gK=i(463678),gz=i(733790);let gZ="figjam_search";function g$(){return(0,pn.L3)()?(0,o.jsx)(gY,{}):null}function gY(){let{query:e,next:t,exit:i,setNavigateNearestOnce:n,search:r,isLoading:a,mode:s}=(0,gV.SQ)(),{focusedByButtons:d,hidden:p,setHidden:m,inputRef:f,navDisabled:x}=(0,gV.CT)(),_=(0,j.BI)();(0,ej.h)(()=>{m(!1)}),(0,gV.A5)(f,t,d);let[g,b]=(0,l.useState)(""),y=(0,l.useCallback)(e=>{e.keyCode===dF.Uz.ESCAPE?(e.target?.blur?.(),m(!0)):"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&(0,x8.jr)(e,x8.W0.YES,x8.VA.NO)&&e.stopPropagation()},[m]),v=(0,l.useCallback)(e=>{switch(e.keyCode){case dF.Uz.P:case dF.Uz.UP_ARROW:(e.keyCode!==dF.Uz.P||h.Ay.mac&&(0,dF.vN)(e,dF.xH.CONTROL))&&(t(gK.OP.PREV,"keyboard"),e.stopPropagation(),e.preventDefault());break;case dF.Uz.N:case dF.Uz.DOWN_ARROW:(e.keyCode!==dF.Uz.N||h.Ay.mac&&(0,dF.vN)(e,dF.xH.CONTROL))&&(t(gK.OP.NEXT,"keyboard"),e.stopPropagation(),e.preventDefault());break;case dF.Uz.ENTER:if((0,dF.Fo)(e)){c.YEY?.exitSearchMode(c.dNx.SELECT_ACTIVE);break}t(e.shiftKey?gK.OP.PREV:gK.OP.NEXT,"keyboard"),e.stopPropagation(),e.preventDefault()}},[t]),C=(0,ec.U1)(),T=!_?.shouldOptimizeForIpadApp;return(0,o.jsx)(u0.i,{children:(0,o.jsxs)("div",{ref:C,className:e_()(eE.Dm,"figjam_search--container--p-leE",{"figjam_search--hidden--FjJ1m":p}),onTransitionEnd:()=>{p&&i()},onBlurCapture:e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&(c.YEY?.setOverlayVisible(!1),n())},onKeyDown:y,children:[(0,o.jsxs)("div",{className:"figjam_search--searchBarRow--sTc8s",children:[(0,o.jsx)(gV.ih,{onChange:e=>r(e),query:e,focusedByButtons:d,innerRef:f,onKeyDown:v,editorType:gH._Y.FIGJAM}),a?(0,o.jsx)("div",{className:gz.dz,children:(0,o.jsx)(oC.k,{htmlAttributes:{"data-testid":"canvas-search-loading-spinner"}})}):(0,o.jsxs)(o.Fragment,{children:[!!e&&(0,o.jsx)(gq,{}),!x&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eu.K,{disabled:x,onClick:e=>{t(gK.OP.PREV,"button"),!(0,gV.SK)(e)&&T&&(d.current=!0,f.current.focus())},"aria-label":(0,A.t)("canvas_search.previous"),recordingKey:"canvas_search.previous",htmlAttributes:{"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":(0,A.t)("canvas_search.previous"),"data-tooltip-shortcut-key":"canvas-search-prev"},children:(0,o.jsx)(e8.l,{})}),(0,o.jsx)(eu.K,{disabled:x,onClick:e=>{t(gK.OP.NEXT,"button"),!(0,gV.SK)(e)&&T&&(d.current=!0,f.current.focus())},"aria-label":(0,A.t)("canvas_search.next"),recordingKey:"canvas_search.next",htmlAttributes:{"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":(0,A.t)("canvas_search.next"),"data-tooltip-shortcut-key":"canvas-search-next"},children:(0,o.jsx)(e7.k,{})})]})]}),(0,o.jsx)(gW.Od,{lean:gW.I_.LEFT,minWidth:(0,u.k)().eu_fpl_migration_search_settings_menu?160:116,recordingKey:gZ,shouldShowSearchCategories:!1}),(0,o.jsx)(eu.K,{onClick:()=>{m(!0)},"aria-label":(0,A.t)("canvas_search.close"),recordingKey:"canvas_search.close",htmlAttributes:{"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":(0,A.t)("canvas_search.close")},children:(0,o.jsx)(em.A,{})})]}),s===c.EW4.REPLACE&&(0,o.jsx)(gG.a,{query:e,value:g,onChange:b,recordingKey:gZ,onFocus:(t,i)=>{!e&&i&&f.current?.focus()},hasMultipleSelections:!1})]})})}function gq(){let{total:e}=(0,p.md)(ey.Fk),t=(0,p.md)(ey.Ch),i=t?.index==null?"?":`${t.index+1}`,n=0===e?(0,A.t)("canvas_search.no_results"):(0,A.t)("canvas_search.results_index_count",{index:i,total:e});return(0,o.jsx)("span",{className:"figjam_search--resultsCount--VfQrc","data-testid":"canvas-search-info",children:n})}var gX=i(756841),gJ=i(221114),gQ=i(764731),g0=i(602467);let g1=l.forwardRef(function(e,t){return(0,o.jsx)("div",{ref:t,style:e.style,className:e_()("whiteboard_sidebar_modal--WhiteboardSidebarModal--PALf6",e.className),children:e.children})});var g2=i(955650),g3=i(389091);let g5=500,g6="audioplayinvoked",g4="audioplaysuccess";class g9{constructor(e){this.play=({onSuccess:e,onNoInteractionFailure:t})=>{let i=()=>{window.removeEventListener(g6,this.audioPlayInvokedHandler),window.removeEventListener(g4,this.audioPlaySuccessHandler)};window.dispatchEvent(this.audioPlayInvokedEvent),this.audio.play().then(()=>{if(this.shouldBlockPlay){this.audio.pause(),this.isAttemptingToPlay=!1;return}this.lastPlayedTimestamp=Date.now(),window.dispatchEvent(this.audioPlaySuccessEvent),this.isFadingOut?this.fadeOut({}):(this.internalVolumeMultiplier=0,this.fadeIn({fadeInLength:1e3})),e&&e(),this.isAttemptingToPlay=!1,i()}).catch(e=>{if(this.isAttemptingToPlay=!1,"NotAllowedError"===e.name&&t){t();return}if(e.message.toLowerCase().includes("interrupted by a new load request")){(0,tg.ED)("FigJam MusicPlayer","Benign race condition: new track was requested while the promise to play the previous track was resolving (no user impact)");return}throw Error(`Failed to play music in the FigJam timer: ${e}`)})},this.playLoadingAudio=()=>{this.loadingAudio.currentSrc&&this.loadingAudio.play().catch(e=>{if("NotAllowedError"!==e.name)throw Error(`Failed to play loading music in the FigJam timer: ${e}`)})},this.stopLoadingAudio=()=>{this.loadingAudio.currentSrc&&(this.loadingAudio.pause(),this.setTimestamp(0,this.loadingAudio))},this.isPaused=()=>this.audio.paused||this.shouldBlockPlay,this.isPlaying=()=>!this.isPaused(),this.setTimestamp=(e,t)=>{if(t){if(t.seeking||t.readyState<=0){console.warn("Already seeking or audio isn't ready, can't set timestamp.");return}t.fastSeek?t.fastSeek(e):t.currentTime=e}},this.playAtTimestamp=({src:e,timestamp:t,onSuccess:i,onFailure:n})=>{this.isAttemptingToPlay=!1;let r=()=>{this.setTimestamp(t/1e3%this.audio.duration,this.audio),this.play({onSuccess:i,onNoInteractionFailure:n})};window.addEventListener(g6,this.audioPlayInvokedHandler),window.addEventListener(g4,this.audioPlaySuccessHandler),this.playLoadingAudio(),this.setSource(""),this.shouldBlockPlay=!1,this.audio.oncanplaythrough=()=>{this.audio.oncanplaythrough=null,this.handleVolumeUpdate(),r()},this.setSource(e)},this.playPreview=({src:e,timestampMs:t=0,playLengthMs:i,fadeLengthMs:n=g5})=>{let r=this.hasSource();this.playAtTimestamp({src:e,timestamp:t,onSuccess:()=>{this.isPaused()||!r?this.internalVolumeMultiplier=0:this.clearFadeTimeouts(),this.fadeIn({}),this.internalFadeOutTimeoutId=window.setTimeout(()=>{this.internalFadeOutTimeoutId=0,this.fadeOut({fadeOutLength:n,shouldStopWhenFadedOut:!0,targetVolumeMultiplier:0})},i+2*n)}})},this.stopPreview=()=>{this.internalFadeOutTimeoutId&&clearTimeout(this.internalFadeOutTimeoutId),this.internalFadeOutTimeoutId=0,this.stop()},this.clearFadeTimeouts=()=>{this.internalFadeOutTimeoutId&&clearTimeout(this.internalFadeOutTimeoutId),this.internalFadeInTimeoutId&&clearTimeout(this.internalFadeInTimeoutId)},this.resetFades=()=>{this.clearFadeTimeouts(),this.internalVolumeMultiplier=1,this.isFadingOut=!1,this.isFadingIn=!1},this.pause=()=>{this.stopLoadingAudio(),this.audio.paused||this.shouldBlockPlay||this.isAttemptingToPlay||(this.audio.pause(),this.clearFadeTimeouts()),this.shouldBlockPlay=!0},this.stop=()=>{this.stopLoadingAudio(),this.resetFades(),this.shouldBlockPlay=!0,this.audio.pause(),this.audio.removeAttribute("src")},this.hasSource=()=>""!==this.audio.currentSrc,this.setSource=e=>{this.audio.src=e},this.setIsMuted=e=>{this.audio.muted=e,this.loadingAudio.muted=e,this.isMuted=e,this.handleVolumeUpdate()},this.getCurrentVolume=()=>this.isMuted?0:(0,nS.qE)(this.externalVolume*this.internalVolumeMultiplier,0,1),this.handleVolumeUpdate=()=>{this.audio.volume=this.getCurrentVolume()},this.setVolume=e=>{this.externalVolume=e,this.handleVolumeUpdate()},this.fadeOut=({fadeOutLength:e=5e3,shouldStopWhenFadedOut:t=!1,targetVolumeMultiplier:i=0,callbackWhenDoneFading:n,resumeFadingIfInterrupted:r=!0})=>{this.clearFadeTimeouts();let a=1/(e/50),s=()=>{!this.audio.paused&&(this.internalVolumeMultiplier>i?(this.internalVolumeMultiplier-=a,this.handleVolumeUpdate(),this.internalFadeOutTimeoutId=window.setTimeout(s,50)):(this.internalFadeOutTimeoutId=0,t&&this.stop(),this.handleVolumeUpdate(),this.isFadingOut=!1,n&&n()))};r&&(this.isFadingOut=!0),s()},this.fadeIn=({fadeInLength:e=1e3,callbackWhenDoneFading:t})=>{this.clearFadeTimeouts();let i=1/(e/50),n=()=>{!this.audio.paused&&(this.internalVolumeMultiplier<1?(this.internalVolumeMultiplier+=i,this.handleVolumeUpdate(),this.internalFadeInTimeoutId=window.setTimeout(n,50)):(this.internalFadeInTimeoutId=0,this.handleVolumeUpdate(),this.isFadingIn=!1,t&&t()))};this.isFadingIn=!0,n()},this.isAttemptingToPlay=!1,this.audio=new Audio,this.audio.src="",this.audio.loop=!0,this.loadingAudio=new Audio,e&&e.loadingPlaybackUrl&&(this.loadingAudio.src=e.loadingPlaybackUrl),this.loadingAudio.loop=!0,this.audioPlayInvokedEvent=new Event(g6),this.audioPlayInvokedHandler=()=>{this.isAttemptingToPlay=!0},this.audioPlaySuccessEvent=new Event(g4),this.audioPlaySuccessHandler=()=>{this.loadingAudio.currentSrc&&this.loadingAudio.pause(),this.isAttemptingToPlay=!1},this.externalVolume=.7,this.isMuted=!1,this.isFadingOut=!1,this.isFadingIn=!1,this.shouldBlockPlay=!1,this.internalVolumeMultiplier=1,this.internalFadeOutTimeoutId=0,this.internalFadeInTimeoutId=0,this.lastPlayedTimestamp=null}}var g8=i(198387);let g7=e=>(0,d.d4)(t=>{let i=t.music.activeSongs.filter(t=>e===t.song_id);return i.length?i[0]:void 0},g8.eB);function be(){let e=(0,d.d4)(e=>e.music.music);return!e?.isPaused&&!e?.isStopped}let bt=(0,t_.ck)("f4e48159672101a168b296a94e39ef02f032e171"),bi=()=>{let[e,t]=l.useState({}),i=(0,d.d4)(e=>e.music.music);return l.useEffect(()=>{if(!i||i?.isPaused||i?.isStopped)return;let e=setTimeout(()=>t({}),500);return()=>{clearTimeout(e)}},[e,i,i?.isPaused]),e};var bn=i(675859),br=i(331623),ba=i(818609);let bs="music_dropdown--inDropdownAlbumArt---OmqE";var bo=i(395314);let bl={song_id:"fake track for no selection",localization_key:"",title:"",album_art:"",playback_url:"",start_at_ms:0,cuesheet:{tracks:[]}};function bd({selectedSong:e,activeSongs:t,isLoading:i,withBorder:n,withHeavyFont:r}){let a=(0,d.d4)(e=>e.dropdownShown?.type==="song-dropdown"?e.dropdownShown:null),[s,c]=l.useState(void 0),u=(0,d.Pj)(),p=(0,d.wA)(),h=(0,d.d4)(e=>e.music.playerInstance),m=e||bl,f=(0,di.$)(),_=[(0,o.jsx)(pj.c$,{fullWidth:!0,ignoreCheck:!0,children:(0,o.jsx)("div",{className:"music_dropdown--loadingSpinner--0IUIG",children:(0,o.jsx)(oC.k,{})})},"loading-music-options")];l.useEffect(()=>{let n=t.length&&!i,r=!e,a=t[0];n&&r&&a&&p(g3.Dx({selectedSongID:a.song_id}))},[i,e,p,t]),i||(_=t.map(e=>(0,o.jsx)(pj.c$,{value:e,icon:(0,o.jsx)(bn.oW,{src:e.album_art,alt:`album art for ${e.title}`,className:bs}),height:48},e.song_id)));let g=(0,o.jsx)(p_.Q,{setMaxWidth:e=>{void 0===e?c(void 0):c(Math.max(e,224))},options:_,formatOption:e=>bc.format(e.props.value),getIcon:e=>(0,o.jsx)(bn.oW,{src:e.props.value.album_art,alt:`album art for ${e.props.value.album_art.title}`,className:bs})}),b=async t=>{t.song_id===bl.song_id?e&&((0,ba.$B)(u.getState(),e.song_id),p(g3.L({selectedSongID:"",musicStartTimeMs:0}))):await (0,g8._s)({songID:t.song_id,onSuccess:()=>{let e=h?.isPlaying();(0,ba.tU)(u.getState(),t.song_id,e||!1);let i=t.song_id;p(g3.Dx({selectedSongID:i,dontTransmitWhenPaused:!0}))},onNotFound:()=>{p(g3.qV()),p(x.F.enqueue({message:(0,A.t)("whiteboard.timer.song_not_available_error"),error:!0,type:g3.lm}))}})},j=m===bl?(0,A.t)("whiteboard.music.loading"):void 0;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(pj.l6,{ariaLabel:(0,A.t)("whiteboard.music_player_select.aria_label"),className:"music_dropdown--songDropdownClosed--PEWeP","data-testid":"music-dropdown-button",dispatch:p,dropdownAlignment:"right",dropdownOverride:j,dropdownShown:a,dropdownWidth:s,formatter:bc,hideDropdownWhenContainerMoves:!0,icon:m===bl?(0,o.jsx)(br.t,{className:"music_dropdown--musicIcon--rYDUF",svg:bo.A}):void 0,id:"song-dropdown",inputClassName:e_()("music_dropdown--songDropdownInput--VQjWF",{"music_dropdown--songInputTextSongSelected--4mWzH":!!e,"music_dropdown--songInputTextNoSongSelected--AW4Zi":!e,"music_dropdown--songDropdownHeavyFont--fIlJd":r,"music_dropdown--border--8RslA":n,"music_dropdown--withHover--5STIo":n&&!f}),neverConstrain:!0,onChange:b,property:m,targetDomNode:document.body,willShowDropdown:()=>new Promise(e=>{(0,ba.eT)(u.getState()),e()}),children:_}),g]})}let bc={format:e=>{var t;return e?.localization_key?(t=e.localization_key,(0,A.t)(`figjam_songs.${t}.title`)):""}};function bu({useLightShadow:e}){return(0,o.jsxs)("svg",{width:"96",height:"96",viewBox:"0 0 96 96",fill:"none",style:{height:"100%",width:"100%",filter:e?"drop-shadow(0px 0.325px 0.813px rgba(0, 0, 0, 0.15)) drop-shadow(0px 1.625px 2.6px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 0.081px rgba(0, 0, 0, 0.12))":"drop-shadow(0px 1.625px 4.062500476837158px rgba(0, 0, 0, 0.15)) drop-shadow(0px 8.125000953674316px 13px rgba(0, 0, 0, 0.12)) drop-shadow(0px 0px 0.40625px rgba(0, 0, 0, 0.12))"},children:[(0,o.jsxs)("mask",{id:"mask0_134_226",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"96",height:"96",children:[(0,o.jsx)("circle",{cx:"48",cy:"48",r:"48",fill:"black"}),(0,o.jsx)("circle",{cx:"48",cy:"48",r:"48",fill:"url(#paint0_radial_134_226)"}),(0,o.jsx)("circle",{cx:"48",cy:"48",r:"47.1875",stroke:"black",strokeOpacity:"0.8",strokeWidth:"1.625"})]}),(0,o.jsxs)("g",{mask:"url(#mask0_134_226)",children:[(0,o.jsx)("circle",{cx:"48",cy:"48",r:"48",fill:"black"}),(0,o.jsx)("circle",{cx:"48",cy:"48",r:"48",fill:"url(#paint1_radial_134_226)"}),(0,o.jsx)("circle",{cx:"48",cy:"48",r:"47.1875",stroke:"black",strokeOpacity:"0.3",strokeWidth:"1.625"}),(0,o.jsx)("circle",{cx:"47.9999",cy:"48",r:"48.3438",stroke:"url(#paint2_linear_134_226)",strokeWidth:"0.8125"}),(0,o.jsx)("circle",{cx:"47.9999",cy:"48",r:"45.0938",stroke:"url(#paint3_linear_134_226)",strokeWidth:"0.8125"}),(0,o.jsx)("circle",{cx:"47.9999",cy:"48",r:"41.8438",stroke:"url(#paint4_linear_134_226)",strokeWidth:"0.8125"}),(0,o.jsx)("circle",{cx:"47.9999",cy:"48",r:"38.5938",stroke:"url(#paint5_linear_134_226)",strokeWidth:"0.8125"}),(0,o.jsx)("circle",{cx:"47.9999",cy:"48",r:"35.3438",stroke:"url(#paint6_linear_134_226)",strokeWidth:"0.8125"}),(0,o.jsx)("circle",{cx:"47.9999",cy:"48",r:"32.0938",stroke:"url(#paint7_linear_134_226)",strokeWidth:"0.8125"}),(0,o.jsx)("g",{filter:"url(#filter0_f_134_226)",children:(0,o.jsx)("path",{d:"M47.6379 42.7921L50.2388 118.707L-34.6776 45.6123L47.6379 42.7921Z",fill:"url(#paint8_linear_134_226)"})}),(0,o.jsx)("g",{filter:"url(#filter1_f_134_226)",children:(0,o.jsx)("path",{d:"M56.3805 43.3806L56.3805 -32.5788L138.744 43.3806L56.3805 43.3806Z",fill:"url(#paint9_linear_134_226)"})})]}),(0,o.jsxs)("defs",{children:[(0,o.jsxs)("filter",{id:"filter0_f_134_226",x:"-42.8026",y:"34.6671",width:"101.166",height:"92.1648",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,o.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"4.0625",result:"effect1_foregroundBlur_134_226"})]}),(0,o.jsxs)("filter",{id:"filter1_f_134_226",x:"48.2555",y:"-40.7038",width:"98.6138",height:"92.2094",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,o.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"4.0625",result:"effect1_foregroundBlur_134_226"})]}),(0,o.jsxs)("radialGradient",{id:"paint0_radial_134_226",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(48 48) rotate(135) scale(65.7609 27.1741)",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0.63"}),(0,o.jsx)("stop",{offset:"0.66129",stopColor:"white",stopOpacity:"0.17"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,o.jsxs)("radialGradient",{id:"paint1_radial_134_226",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(48 48) rotate(135) scale(65.7609 27.1741)",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0.63"}),(0,o.jsx)("stop",{offset:"0.66129",stopColor:"white",stopOpacity:"0.17"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,o.jsxs)("linearGradient",{id:"paint2_linear_134_226",x1:"96.7498",y1:"96.75",x2:"-0.750201",y2:"-0.75003",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0.05"}),(0,o.jsx)("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),(0,o.jsx)("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),(0,o.jsx)("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})]}),(0,o.jsxs)("linearGradient",{id:"paint3_linear_134_226",x1:"93.4998",y1:"93.5",x2:"2.49981",y2:"2.49997",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0.05"}),(0,o.jsx)("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),(0,o.jsx)("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),(0,o.jsx)("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})]}),(0,o.jsxs)("linearGradient",{id:"paint4_linear_134_226",x1:"90.2498",y1:"90.25",x2:"5.74982",y2:"5.74997",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0.05"}),(0,o.jsx)("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),(0,o.jsx)("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),(0,o.jsx)("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})]}),(0,o.jsxs)("linearGradient",{id:"paint5_linear_134_226",x1:"86.9998",y1:"87",x2:"8.99983",y2:"8.99997",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0.05"}),(0,o.jsx)("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),(0,o.jsx)("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),(0,o.jsx)("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})]}),(0,o.jsxs)("linearGradient",{id:"paint6_linear_134_226",x1:"83.7498",y1:"83.75",x2:"12.2498",y2:"12.25",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0.05"}),(0,o.jsx)("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),(0,o.jsx)("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),(0,o.jsx)("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})]}),(0,o.jsxs)("linearGradient",{id:"paint7_linear_134_226",x1:"80.4998",y1:"80.5",x2:"15.4998",y2:"15.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0.05"}),(0,o.jsx)("stop",{offset:"0.394591",stopColor:"white",stopOpacity:"0.12"}),(0,o.jsx)("stop",{offset:"0.498177",stopColor:"white",stopOpacity:"0.2"}),(0,o.jsx)("stop",{offset:"0.60488",stopColor:"white",stopOpacity:"0.12"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0.05"})]}),(0,o.jsxs)("linearGradient",{id:"paint8_linear_134_226",x1:"11.6492",y1:"45.2351",x2:"48.238",y2:"80.972",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0"}),(0,o.jsx)("stop",{offset:"0.452124",stopColor:"white",stopOpacity:"0.1"}),(0,o.jsx)("stop",{offset:"0.539969",stopColor:"white",stopOpacity:"0.48"}),(0,o.jsx)("stop",{offset:"0.635517",stopColor:"white",stopOpacity:"0.1"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,o.jsxs)("linearGradient",{id:"paint9_linear_134_226",x1:"92.4318",y1:"42.1712",x2:"57.088",y2:"5.20249",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0"}),(0,o.jsx)("stop",{offset:"0.452124",stopColor:"white",stopOpacity:"0.1"}),(0,o.jsx)("stop",{offset:"0.539969",stopColor:"white",stopOpacity:"0.48"}),(0,o.jsx)("stop",{offset:"0.635517",stopColor:"white",stopOpacity:"0.1"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]})}function bp(){return(0,o.jsxs)("svg",{width:"45",height:"46",viewBox:"0 0 45 46",fill:"none",children:[(0,o.jsx)("circle",{cx:"13.5002",cy:"8",r:"1.5",fill:"url(#paint0_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"19.5001",cy:"8",r:"1.5",fill:"url(#paint1_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"25.4994",cy:"8",r:"1.5",fill:"url(#paint2_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"31.5001",cy:"8",r:"1.5",fill:"url(#paint3_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"7.50049",cy:"14",r:"1.5",fill:"url(#paint4_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"7.50049",cy:"8",r:"1.5",fill:"url(#paint5_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"1.5",cy:"14",r:"1.5",fill:"url(#paint6_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"43.4999",cy:"14",r:"1.5",fill:"url(#paint7_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"13.5002",cy:"14",r:"1.5",fill:"url(#paint8_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"19.5001",cy:"14",r:"1.5",fill:"url(#paint9_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"25.4994",cy:"14.0002",r:"1.5",fill:"url(#paint10_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"31.5001",cy:"14",r:"1.5",fill:"url(#paint11_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"37.5002",cy:"14",r:"1.5",fill:"url(#paint12_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"37.5002",cy:"8",r:"1.5",fill:"url(#paint13_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"7.50049",cy:"20",r:"1.5",fill:"url(#paint14_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"1.5",cy:"20",r:"1.5",fill:"url(#paint15_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"43.4999",cy:"20",r:"1.5",fill:"url(#paint16_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"13.5002",cy:"20",r:"1.5",fill:"url(#paint17_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"19.5001",cy:"20",r:"1.5",fill:"url(#paint18_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"25.4994",cy:"20",r:"1.5",fill:"url(#paint19_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"31.5001",cy:"20",r:"1.5",fill:"url(#paint20_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"37.5002",cy:"20",r:"1.5",fill:"url(#paint21_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"7.50049",cy:"26",r:"1.5",fill:"url(#paint22_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"1.5",cy:"26",r:"1.5",fill:"url(#paint23_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"43.4999",cy:"26",r:"1.5",fill:"url(#paint24_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"13.5002",cy:"26",r:"1.5",fill:"url(#paint25_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"19.5001",cy:"26",r:"1.5",fill:"url(#paint26_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"25.4994",cy:"25.9998",r:"1.5",fill:"url(#paint27_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"31.5001",cy:"26",r:"1.5",fill:"url(#paint28_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"37.5002",cy:"26",r:"1.5",fill:"url(#paint29_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"7.50049",cy:"32",r:"1.5",fill:"url(#paint30_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"7.50049",cy:"38",r:"1.5",fill:"url(#paint31_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"1.5",cy:"32",r:"1.5",fill:"url(#paint32_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"43.4999",cy:"32",r:"1.5",fill:"url(#paint33_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"13.5002",cy:"32",r:"1.5",fill:"url(#paint34_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"19.5001",cy:"32",r:"1.5",fill:"url(#paint35_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"25.4994",cy:"32",r:"1.5",fill:"url(#paint36_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"31.5001",cy:"32",r:"1.5",fill:"url(#paint37_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"37.5002",cy:"32",r:"1.5",fill:"url(#paint38_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"37.5002",cy:"38",r:"1.5",fill:"url(#paint39_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"13.5002",cy:"38",r:"1.5",fill:"url(#paint40_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"19.5001",cy:"38",r:"1.5",fill:"url(#paint41_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"25.4994",cy:"38",r:"1.5",fill:"url(#paint42_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"31.5001",cy:"38",r:"1.5",fill:"url(#paint43_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"13.5002",cy:"44",r:"1.5",fill:"url(#paint44_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"19.5001",cy:"44",r:"1.5",fill:"url(#paint45_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"25.4994",cy:"44",r:"1.5",fill:"url(#paint46_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"31.5001",cy:"44",r:"1.5",fill:"url(#paint47_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"13.5002",cy:"2",r:"1.5",fill:"url(#paint48_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"19.5001",cy:"2",r:"1.5",fill:"url(#paint49_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"25.4994",cy:"2",r:"1.5",fill:"url(#paint50_linear_1414_55682)"}),(0,o.jsx)("circle",{cx:"31.5001",cy:"2",r:"1.5",fill:"url(#paint51_linear_1414_55682)"}),(0,o.jsxs)("defs",{children:[(0,o.jsxs)("linearGradient",{id:"paint0_linear_1414_55682",x1:"13.5002",y1:"6.5",x2:"13.5002",y2:"9.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint1_linear_1414_55682",x1:"19.5001",y1:"6.5",x2:"19.5001",y2:"9.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint2_linear_1414_55682",x1:"25.4994",y1:"6.5",x2:"25.4994",y2:"9.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint3_linear_1414_55682",x1:"31.5001",y1:"6.5",x2:"31.5001",y2:"9.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint4_linear_1414_55682",x1:"7.50049",y1:"12.5",x2:"7.50049",y2:"15.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint5_linear_1414_55682",x1:"7.50049",y1:"6.5",x2:"7.50049",y2:"9.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint6_linear_1414_55682",x1:"1.5",y1:"12.5",x2:"1.5",y2:"15.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint7_linear_1414_55682",x1:"43.4999",y1:"12.5",x2:"43.4999",y2:"15.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint8_linear_1414_55682",x1:"13.5002",y1:"12.5",x2:"13.5002",y2:"15.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint9_linear_1414_55682",x1:"19.5001",y1:"12.5",x2:"19.5001",y2:"15.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint10_linear_1414_55682",x1:"25.4994",y1:"12.5002",x2:"25.4994",y2:"15.5002",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint11_linear_1414_55682",x1:"31.5001",y1:"12.5",x2:"31.5001",y2:"15.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint12_linear_1414_55682",x1:"37.5002",y1:"12.5",x2:"37.5002",y2:"15.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint13_linear_1414_55682",x1:"37.5002",y1:"6.5",x2:"37.5002",y2:"9.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint14_linear_1414_55682",x1:"7.50049",y1:"18.5",x2:"7.50049",y2:"21.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint15_linear_1414_55682",x1:"1.5",y1:"18.5",x2:"1.5",y2:"21.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint16_linear_1414_55682",x1:"43.4999",y1:"18.5",x2:"43.4999",y2:"21.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint17_linear_1414_55682",x1:"13.5002",y1:"18.5",x2:"13.5002",y2:"21.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint18_linear_1414_55682",x1:"19.5001",y1:"18.5",x2:"19.5001",y2:"21.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint19_linear_1414_55682",x1:"25.4994",y1:"18.5",x2:"25.4994",y2:"21.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint20_linear_1414_55682",x1:"31.5001",y1:"18.5",x2:"31.5001",y2:"21.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint21_linear_1414_55682",x1:"37.5002",y1:"18.5",x2:"37.5002",y2:"21.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint22_linear_1414_55682",x1:"7.50049",y1:"24.5",x2:"7.50049",y2:"27.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint23_linear_1414_55682",x1:"1.5",y1:"24.5",x2:"1.5",y2:"27.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint24_linear_1414_55682",x1:"43.4999",y1:"24.5",x2:"43.4999",y2:"27.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint25_linear_1414_55682",x1:"13.5002",y1:"24.5",x2:"13.5002",y2:"27.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint26_linear_1414_55682",x1:"19.5001",y1:"24.5",x2:"19.5001",y2:"27.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint27_linear_1414_55682",x1:"25.4994",y1:"24.4998",x2:"25.4994",y2:"27.4998",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint28_linear_1414_55682",x1:"31.5001",y1:"24.5",x2:"31.5001",y2:"27.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint29_linear_1414_55682",x1:"37.5002",y1:"24.5",x2:"37.5002",y2:"27.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint30_linear_1414_55682",x1:"7.50049",y1:"30.5",x2:"7.50049",y2:"33.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint31_linear_1414_55682",x1:"7.50049",y1:"36.5",x2:"7.50049",y2:"39.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint32_linear_1414_55682",x1:"1.5",y1:"30.5",x2:"1.5",y2:"33.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint33_linear_1414_55682",x1:"43.4999",y1:"30.5",x2:"43.4999",y2:"33.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint34_linear_1414_55682",x1:"13.5002",y1:"30.5",x2:"13.5002",y2:"33.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint35_linear_1414_55682",x1:"19.5001",y1:"30.5",x2:"19.5001",y2:"33.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint36_linear_1414_55682",x1:"25.4994",y1:"30.5",x2:"25.4994",y2:"33.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint37_linear_1414_55682",x1:"31.5001",y1:"30.5",x2:"31.5001",y2:"33.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint38_linear_1414_55682",x1:"37.5002",y1:"30.5",x2:"37.5002",y2:"33.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint39_linear_1414_55682",x1:"37.5002",y1:"36.5",x2:"37.5002",y2:"39.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint40_linear_1414_55682",x1:"13.5002",y1:"36.5",x2:"13.5002",y2:"39.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint41_linear_1414_55682",x1:"19.5001",y1:"36.5",x2:"19.5001",y2:"39.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint42_linear_1414_55682",x1:"25.4994",y1:"36.5",x2:"25.4994",y2:"39.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint43_linear_1414_55682",x1:"31.5001",y1:"36.5",x2:"31.5001",y2:"39.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint44_linear_1414_55682",x1:"13.5002",y1:"42.5",x2:"13.5002",y2:"45.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint45_linear_1414_55682",x1:"19.5001",y1:"42.5",x2:"19.5001",y2:"45.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint46_linear_1414_55682",x1:"25.4994",y1:"42.5",x2:"25.4994",y2:"45.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint47_linear_1414_55682",x1:"31.5001",y1:"42.5",x2:"31.5001",y2:"45.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint48_linear_1414_55682",x1:"13.5002",y1:"0.5",x2:"13.5002",y2:"3.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint49_linear_1414_55682",x1:"19.5001",y1:"0.5",x2:"19.5001",y2:"3.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint50_linear_1414_55682",x1:"25.4994",y1:"0.5",x2:"25.4994",y2:"3.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]}),(0,o.jsxs)("linearGradient",{id:"paint51_linear_1414_55682",x1:"31.5001",y1:"0.5",x2:"31.5001",y2:"3.5",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#252525"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#A4A4A4"})]})]})]})}function bh(e){let{onTonearmHeadMouseDown:t}=e;return(0,o.jsxs)("svg",{width:"27",height:"80",viewBox:"0 0 27 80",fill:"none",children:[(0,o.jsx)("path",{d:"M18.7042 8.19556C18.7042 8.19556 18.7042 34.7407 18.7042 47.6641C18.7042 60.5876 13.9589 64.9213 13.9589 64.9213",stroke:"black",strokeOpacity:"0.2",strokeWidth:"5.33844",strokeLinecap:"round"}),(0,o.jsx)("g",{filter:"url(#filter0_dii_242_919)",children:(0,o.jsx)("path",{d:"M18.7042 8.19556C18.7042 8.19556 18.7042 34.7407 18.7042 47.6641C18.7042 60.5876 13.9589 64.9213 13.9589 64.9213",stroke:"white",strokeWidth:"4.15212",strokeLinecap:"round"})}),(0,o.jsxs)("g",{filter:"url(#filter1_d_242_919)",children:[(0,o.jsx)("rect",{x:"14",y:"2",width:"9.49057",height:"11.8632",fill:"url(#paint0_linear_242_919)"}),(0,o.jsx)("rect",{x:"14.2966",y:"2.29658",width:"8.89741",height:"11.27",stroke:"black",strokeOpacity:"0.2",strokeWidth:"0.59316"})]}),(0,o.jsxs)("g",{filter:"url(#filter2_d_242_919)",onMouseDown:t,className:"tonearm-svg--tonearmBottom--3JC--","aria-hidden":"true",children:[(0,o.jsx)("g",{filter:"url(#filter3_iii_242_919)",children:(0,o.jsx)("path",{d:"M9.30333 62.425C9.93167 61.6761 11.0481 61.5785 11.7969 62.2068L16.3554 66.0318C17.1042 66.6601 17.2019 67.7766 16.5735 68.5254L10.4596 75.8116C9.8313 76.5604 8.71489 76.6581 7.96606 76.0298L7.14087 75.3374L4.23279 72.8972L3.40761 72.2048C2.65878 71.5764 2.56111 70.46 3.18945 69.7112L9.30333 62.425Z",fill:"#E9E9E9"})}),(0,o.jsx)("path",{d:"M16.546 65.8046L11.9876 61.9796C11.1132 61.246 9.80976 61.36 9.07614 62.2343L2.96225 69.5206C2.22863 70.3949 2.34267 71.6984 3.21697 72.432L4.04216 73.1244L6.95024 75.5646L7.77542 76.257C8.64972 76.9906 9.95321 76.8766 10.6868 76.0023L16.8007 68.716C17.5343 67.8417 17.4203 66.5382 16.546 65.8046Z",stroke:"black",strokeOpacity:"0.25",strokeWidth:"0.59316"})]}),(0,o.jsxs)("defs",{children:[(0,o.jsxs)("filter",{id:"filter0_dii_242_919",x:"9.51017",y:"3.74674",width:"13.6427",height:"65.6232",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"1.18632"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),(0,o.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dx:"1.18632"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"0.415212"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0 0.709804 0 0 0 0.5 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_242_919"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dx:"-1.18632"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"0.415212"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0 0.708333 0 0 0 0.5 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"effect2_innerShadow_242_919",result:"effect3_innerShadow_242_919"})]}),(0,o.jsxs)("filter",{id:"filter1_d_242_919",x:"11.3451",y:"0.672526",width:"14.8005",height:"17.1732",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dy:"1.32747"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"1.32747"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),(0,o.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"})]}),(0,o.jsxs)("filter",{id:"filter2_d_242_919",x:"0.412163",y:"60.3145",width:"18.9386",height:"19.3776",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dy:"0.884983"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"0.884983"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.2 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_242_919"}),(0,o.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_242_919",result:"shape"})]}),(0,o.jsxs)("filter",{id:"filter3_iii_242_919",x:"1.29715",y:"60.3145",width:"16.8768",height:"17.3158",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,o.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dy:"2.37264"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"0.29658"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.86 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_242_919"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dx:"1.77948",dy:"1.77948"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"0.29658"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.8 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"effect1_innerShadow_242_919",result:"effect2_innerShadow_242_919"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dx:"-0.884983",dy:"-0.884983"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"0.884983"}),(0,o.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.17 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"effect2_innerShadow_242_919",result:"effect3_innerShadow_242_919"})]}),(0,o.jsxs)("linearGradient",{id:"paint0_linear_242_919",x1:"14",y1:"7.9316",x2:"23.4906",y2:"7.9316",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#CACACA"}),(0,o.jsx)("stop",{offset:"0.253125",stopColor:"#E2E2E2"}),(0,o.jsx)("stop",{offset:"0.384375",stopColor:"#F3F3F3"}),(0,o.jsx)("stop",{offset:"0.500704",stopColor:"white"}),(0,o.jsx)("stop",{offset:"0.625",stopColor:"#F3F3F3"}),(0,o.jsx)("stop",{offset:"0.753125",stopColor:"#E2E2E2"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#CACACA"})]})]})]})}function bm(e){let{onPause:t,onResume:i}=e,[n,r]=l.useState(null),a=l.useRef(0),s=l.useRef(0),c=(0,d.d4)(e=>e.music?.music?.isPaused),u=(0,j.F4)(),p=u?.shouldOptimizeForIpadApp||h.Ay.isIpad,m=l.useCallback(e=>{if(!1===c){let t=e.clientX;r(22-22*((0,nS.qE)(t-a.current,0,21)/21))}else{let t=e.clientX;r(22*((0,nS.qE)(a.current-t,0,21)/21))}},[c,22,21]),f=l.useCallback(e=>{document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",f);let n=!1===c;if(Date.now()-s.current<100)n?t():i();else if(n){let i=e.clientX;(0,nS.qE)(i-a.current,0,21)>10.5&&t()}else{let t=e.clientX;(0,nS.qE)(a.current-t,0,21)>10.5&&i()}a.current=0,r(null)},[m,c,t,i]),x=null!==n?n:!1===c?22:0;return(0,o.jsx)("div",{className:e_()("tonearm--tonearmStandalone--UOmob",{"tonearm--play--cp3C1":null===n,"tonearm--paused--pe2EE":null!==n}),style:{transform:`rotate(${x}deg)`},children:(0,o.jsx)(bh,{onTonearmHeadMouseDown:p?void 0:e=>{a.current=e.clientX,s.current=Date.now(),document.addEventListener("mousemove",m),document.addEventListener("mouseup",f)}})})}let bf="turntable--gray--OY0Du";var bx=i(147826);function b_(e){let{handlePause:t,handleTonearmResume:i}=e;return(0,o.jsxs)("div",{className:"turntable--recordPlayerBase--WG5CH","aria-hidden":"true",children:[(0,o.jsx)(bg,{handlePause:t,handleTonearmResume:i}),(0,o.jsx)("div",{className:"turntable--speakerGrill--DXQjl",children:(0,o.jsx)(bp,{})})]})}function bg(e){let{handlePause:t,handleTonearmResume:i}=e;return(0,o.jsxs)("div",{className:"turntable--recordPlayer--0aMTu",children:[(0,o.jsx)(bj,{size:"large"}),(0,o.jsx)(bm,{onPause:t,onResume:i})]})}var bb=(e=>(e.XSMALL="xsmall",e.LARGE="large",e))(bb||{});function bj(e){let{size:t,maskAlbumArtWhenPaused:i,maskRef:n,useGrayMask:r,useLightShadow:a}=e,s=function(){let e=(0,d.d4)(e=>e.music.music),t=g7(e?.selectedSongID||""),i=be(),n=t&&t.album_art;return!i||!n}()&&!!i;return(0,o.jsxs)("div",{className:e_()("turntable--record--96NxV",{"turntable--xsmall--eqtGp":"xsmall"===t,"turntable--large--oXtu6":"large"===t}),children:[(0,o.jsx)(bu,{useLightShadow:a}),(0,o.jsx)(by,{size:t,showMask:s,maskRef:n,useGrayMask:r})]})}function by(e){let t=(0,d.d4)(e=>e.music.music),i=g7(t?.selectedSongID||""),n=be(),r=i&&i.album_art;return(0,b.p8)("showUi")?(0,o.jsxs)("div",{className:e_()("turntable--spinningAlbum--N7jwa",{"turntable--spinningAlbumXSmall--vzhVj":"xsmall"===e.size,"turntable--spinningAlbumLarge--SWUZ2":"large"===e.size}),children:[r&&(0,o.jsx)(bn.oW,{className:e_()("turntable--spinningAlbumImage--H-qwO",{"turntable--spinningAlbumPlaying--UDk-I":t?.isPaused===!1,[bf]:!n}),src:i.album_art,alt:"spinning album art"}),(0,o.jsx)("div",{ref:e.maskRef,className:e_()("turntable--spinningAlbumImageMask--PZ7Cr turntable--spinningAlbumImage--H-qwO",{"turntable--noOpacity--ZKZnl":!e.showMask,[bf]:e.useGrayMask}),children:(0,o.jsx)(tb.B,{className:"turntable--maskIcon--mZo9b",svg:bx.A})})]}):null}var bv=i(659940);function bC(){let e=(0,oO.nF)(!0),t=!(0,bv.N)()&&e.enabled,i=(0,d.d4)(e=>e.userFlags.dismissed_figjam_music_volume_hint),n=(0,d.d4)(e=>e.music.music?.selectedSongID&&e.music.music?.selectedSongID!==""),r=(0,d.d4)(e=>e.music.music?.isPaused===!1&&e.music.music?.isStopped===!1),a=(0,d.wA)();return t||i||!r||!n?null:(0,o.jsxs)("div",{className:e_()("volume_hint--hintContainer--A9gj2",eE.Dm),"data-testid":"volume-hint",children:[(0,o.jsx)("div",{children:(0,A.tx)("whiteboard.timer.music_volume_hint_prompt_cta_v2",{promptQuestion:(0,o.jsx)("span",{className:"volume_hint--bold--vS77N",children:(0,A.t)("whiteboard.timer.music_volume_hint_prompt_question")})})}),(0,o.jsx)(eu.K,{onClick:()=>{a(V.b({dismissed_figjam_music_volume_hint:!0}))},"aria-label":(0,A.t)("general.close"),children:(0,o.jsx)(em.A,{})})]})}let bT="buttons--flexGrow--Qu8-s";function bE(e){let{flexGrow:t,...i}=e;return(0,o.jsx)("div",{className:e_()("buttons--secondaryButton--Y7X0E",{[bT]:e.flexGrow}),children:(0,o.jsx)(e9.IK,{...i,variant:"secondary",children:e.children})})}let bS=l.forwardRef((e,t)=>{let{flexGrow:i,...n}=e;return(0,o.jsx)("div",{className:e_()("buttons--primaryButton--cOfBR",{[bT]:e.flexGrow}),children:(0,o.jsx)(e9.IK,{ref:t,...n,variant:"primary",children:e.children})})});function bw(e){let{titleText:t,bodyText:i,cancelButtonText:n,confirmButtonText:r,confirmButtonRef:a,onCancel:s,onConfirm:l,onCancelDisabled:d,onConfirmDisabled:c,recordingKey:u}=e;return(0,o.jsxs)("div",{className:"meeting_tool_cancel_view--cancelViewContainer--W8dpk",children:[(0,o.jsx)("div",{className:"meeting_tool_cancel_view--headerTitle--UIcBu text--fontPos14--OL9Hp text--_fontBase--QdLsd",children:t}),(0,o.jsx)("div",{className:"meeting_tool_cancel_view--descriptionSection--9D1U7 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:i}),(0,o.jsxs)("div",{className:eT.s.flex.gap10.$,children:[(0,o.jsx)(bE,{flexGrow:!0,onClick:s,disabled:d,recordingKey:e2.Pt(u,"cancel"),children:n}),(0,o.jsx)(bS,{flexGrow:!0,ref:a,onClick:l,disabled:c,recordingKey:e2.Pt(u,"confirm"),children:r})]})]})}var bI=i(851274),bL=i(951634),bN=i(820986);let bA="playback_control_button--mediaControlButton--Wp3H1",bO="playback_control_button--withHover--9DG-T";var bk=(e=>(e.PLAY="play",e.PAUSE="pause",e.STOP="stop",e))(bk||{});let bR=(0,l.forwardRef)((e,t)=>{let i=(0,di.$)(),{buttonState:n,onClick:r,disabled:a,dataTooltip:s,dataOnboardingKey:l}=e;switch(n){case"play":return(0,o.jsx)("button",{className:e_()("playback_control_button--playButton--a1I8c playback_control_button--mediaControlButton--Wp3H1",{[bO]:!i}),ref:t,"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":s,"data-onboarding-key":l,disabled:a,onClick:r,"aria-label":s,children:(0,o.jsx)(bI.K,{})});case"pause":return(0,o.jsx)("button",{className:e_()(bA,{[bO]:!i}),ref:t,"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":s,"data-onboarding-key":l,disabled:a,onClick:r,"aria-label":s,children:(0,o.jsx)(bL.p,{})});case"stop":return(0,o.jsx)("button",{className:e_()(bA,{[bO]:!i}),ref:t,"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":s,disabled:a,onClick:r,"data-onboarding-key":l,"aria-label":s,children:(0,o.jsx)(bN.d,{})})}});function bM(){let[e,t]=l.useState(!1),i=(0,d.d4)(e=>e.music.music),n=(0,d.d4)(e=>e.music.playerInstance),r=i?.selectedSongID||"",a=g7(r),s=a?.start_at_ms,c=(0,d.d4)(e=>e.multiplayer.allUsers.length),[u,p]=l.useState(!1),h=(0,d.d4)(e=>e.music.activeSongs,g8.b2),m=be(),f=(0,d.wA)();l.useEffect(()=>{h.length&&p(!1)},[h.length]);let x=(0,d.Pj)(),_=l.useCallback(()=>{r&&(0,ba.xf)(x.getState(),r),f(g3.mF({musicStartTimeMs:s}))},[f,s,r,x]),g=l.useCallback(()=>{r&&(0,ba.fx)(x.getState(),r),f(g3.g_())},[f,r,x]),b=l.useCallback(()=>{_()},[_]),j=l.useCallback(()=>{let e=n?.lastPlayedTimestamp?n.lastPlayedTimestamp:0;(0,g8.nz)(e,c)?t(!0):g()},[g,n,c]),y=l.useCallback(()=>_(),[_]);return e?(0,o.jsx)(bw,{titleText:(0,A.t)("whiteboard.music.stop_music_confirmation_prompt"),bodyText:(0,A.t)("whiteboard.music.stop_music_confirmation_subtext"),cancelButtonText:(0,A.t)("whiteboard.music.stop_music_cancel_button"),confirmButtonText:(0,A.t)("whiteboard.timer.stop_timer_confirmation_button"),onCancel:()=>t(!1),onConfirm:()=>{t(!1),g()}}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{id:"musicModal",className:"music_view--musicView--XegVa","data-testid":"music-modal",children:[(0,o.jsx)(b_,{handlePause:g,handleTonearmResume:b}),(0,o.jsxs)("div",{className:"music_view--controlContainer--GYIKD",children:[(0,o.jsx)("div",{className:"music_view--selectSongContainer--qoUiA",children:(0,o.jsx)(bd,{selectedSong:a,activeSongs:h,isLoading:u,withBorder:!0,withHeavyFont:!0})}),(0,o.jsx)(bR,{buttonState:m?bk.STOP:bk.PLAY,onClick:m?j:y,dataTooltip:m?(0,A.t)("whiteboard.music.end_music_tooltip"):(0,A.t)("whiteboard.music.play_music_tooltip")})]})]}),(0,o.jsx)(bC,{})]})}var bD=i(587214),bP=i(795674),bU=i(152368),bF=i(629335),bB=i(657224),bH=i(680873),bV=i(766303),bG=i(760074),bW=i(603466);let bK=null,bz=null,bZ=null,b$=()=>(0,d.d4)(e=>e.music.playerInstance),bY=()=>1e3;function bq(){let[e,t]=l.useState({}),i=(0,d.d4)(e=>e.timer);l.useEffect(()=>{if(!i||!i.time||i?.time?.isPaused)return;let e=setTimeout(()=>t({}),bY());return()=>{clearTimeout(e)}},[e,i,i.time?.isPaused])}function bX(){let e=(0,d.d4)(e=>e.timer),t=(0,d.d4)(e=>(0,bV.d1)(e)),i=(0,d.d4)(e=>t?(0,bG.L8)(t,e.repos):null),n=Math.ceil((0,bU.P$)(e.time)/1e3);n>0?(0,g3.rF)(t,i,n):(0,g3.rF)(t,i)}let bJ=()=>{bZ&&bZ.pause(),bK&&bK.pause(),bz&&bz.pause(),bK=new Audio(b2),bz=new Audio(b1),bZ=new Audio(b0)},bQ=(e,t,i,n,r,a)=>{if(!i.current||!e)return;let s=(0,bU.P$)(i.current.time);if("add-minutes"===e.lastAction.type){if(bK&&bK.pause(),a.current?.resetFades(),a.current?.fadeIn({}),!i.current.time||0===i.current.time.totalTimeMs)return;let n=6e4*e.lastAction.minutes;i.current.time&&s+n<bU.y0&&t(g3.VV({timer:i.current.time,deltaMs:n}))}"start-timer"===e.lastAction.type&&((0,bB.DN)().set("last-timer-set-time",e.lastUsedTime),t(g3.Qv({totalTimeMs:1e3*e.lastUsedTime,musicStartTimeMs:i.current.musicStartTimeMs})),bZ&&n.current&&!r.current&&e.lastUsedTime>5&&(0,bU.PF)(bZ,n.current)),"pause-timer"===e.lastAction.type&&t(g3._1(i.current.time)),"resume-timer"===e.lastAction.type&&t(g3.ne(i.current.time)),"stop-timer"===e.lastAction.type&&(bJ(),t(g3.Vk()))},b0=(0,t_.ck)("304a1a341a619feb4af7d377c75dd325534e1734"),b1=(0,t_.ck)("f45e11344ee4f618173695e2405a9a988affc910"),b2=(0,t_.ck)("54a944bea3fce3ca45c91429993683685bec5782"),b3=()=>{l.useEffect(()=>{null===bZ&&(bZ=new Audio(b0)),null===bz&&(bz=new Audio(b1)),null===bK&&(bK=new Audio(b2))},[])},b5=e=>{let t=(0,bH.F)(e),i=(0,d.wA)(),n=(0,d.d4)(e=>e.timer),r=(0,bH.F)(n),a=(0,bH.F)((0,d.d4)(e=>e.timer.volume)),s=(0,bH.F)((0,d.d4)(e=>e.timer.isMuted)),o=(0,bH.F)(b$());l.useEffect(()=>{bQ(e,i,r,a,s,o)},[t,i,s,o,r,e,a])},b6=()=>{let e=(0,d.wA)(),t=(0,bH.F)((0,d.d4)(e=>e.timer.volume)),i=(0,bH.F)((0,d.d4)(e=>e.timer.setBy)),n=(0,bH.F)((0,L.iZ)()),r=(0,bH.F)((0,d.d4)(e=>e.timer.isMuted)),a=(0,bH.F)(b$()),s=(0,d.d4)(e=>e.music.music);return{callbackToRunAtFiveSecondsLeft:l.useCallback((i,n)=>{i.current&&bK?.paused&&!r.current&&(a.current&&a.current.fadeOut({fadeOutLength:5e3,shouldStopWhenFadedOut:!0,targetVolumeMultiplier:0}),(0,bU.PF)(bK,t.current)),n.current||e(g3.lu({state:"open",userInitiated:!1}))},[e,r,a,t]),callbackToRunWhenTimerFinishes:l.useCallback((i,n)=>{bK&&bK.pause(),i.current&&bz&&!r.current&&(0,bU.PF)(bz,t.current),bW.d1.timerChange("timerdone"),n.current||e(g3.lu({state:"open",userInitiated:!1}))},[e,r,t]),callbackToRunAfterAnimationFinishes:l.useCallback(t=>{if(s&&e(g3.c$(s)),"visible"===document.visibilityState)e(g3.Vk()),t({type:"reset-state"}),i.current!==n.current?.name&&e(g3.lu({state:"closed",userInitiated:!1}));else{let t=()=>{e(g3.lu({state:"open",userInitiated:!1})),window.removeEventListener("focus",t)};window.addEventListener("focus",t)}bJ(),a.current?.resetFades()},[n,e,s,i,a])}},b4=e=>{let t=(0,d.wA)(),i=(0,d.d4)(e=>e.timer.time),n=(0,bH.F)((0,d.d4)(e=>e.timer.audioEnabled)),r=(0,bH.F)((0,d.d4)(e=>e.timer&&"open"===e.timer.modalState)),a=(0,bH.F)((0,d.d4)(e=>e.timer.volume)),s=(0,bH.F)(b$()),o=(0,d.d4)(e=>e.timer.isMuted),c=!i||i.isPaused,u=(0,d.d4)(e=>e.music.music?.isPaused),{callbackToRunAtFiveSecondsLeft:p,callbackToRunWhenTimerFinishes:h,callbackToRunAfterAnimationFinishes:m}=b6();l.useEffect(()=>{if(c){bK&&bK.pause(),!1===u&&s.current?.fadeIn({fadeInLength:1e3});return}let t=(0,bU.P$)(i);t<5e3&&n.current&&bK?.paused&&!o&&(0,bU.PF)(bK,a.current),bK&&(bK.muted=o),t>5e3&&bK&&(bK.pause(),s.current?.resetFades(),s.current?.fadeIn({}));let l=[];return t>5e3&&l.push(window.setTimeout(()=>p(n,r),t-5e3)),l.push(window.setTimeout(()=>h(n,r),t)),l.push(window.setTimeout(()=>m(e),t+bU.cu)),()=>{l.forEach(clearTimeout)}},[i,c,t,e,h,m,p,r,a,n,s,o,u])},b9=(e,t)=>{l.useEffect(()=>{e.length>0&&e.forEach(e=>{e&&(e.volume=t/100)})},[e,t])},b8=e=>l.useCallback(()=>{e({type:"start-timer"})},[e]);function b7(){let[e,t]=(0,p.fp)(bF.$),i=(0,d.d4)(e=>e.timer.volume),n=(0,bH.F)((0,d.d4)(e=>e.timer.volume)),r=(0,bH.F)((0,d.d4)(e=>e.timer.isMuted)),a=l.useRef(e.lastUsedTime),s=b8(t);return[e,l.useMemo(()=>({setMinutes:e=>t({type:"set-minutes",minutes:e}),setSeconds:e=>t({type:"set-seconds",seconds:e}),setTime:(e,i)=>t({type:"set-time",minutes:e,seconds:i}),addMinutes:e=>t({type:"add-minutes",minutes:e}),startTimer:s,stopTimer:()=>t({type:"stop-timer"}),pauseTimer:()=>t({type:"pause-timer"}),resumeTimer:()=>t({type:"resume-timer"}),playStartChime:()=>{bZ&&n.current&&!r.current&&a.current>5&&(0,bU.PF)(bZ,i)}}),[n,r,i,t,s])]}let je="time_display--xsmall--RksCd",jt="time_display--medium--bxQbL",ji="time_display--large--nQrfq",jn="time_display--xlarge--HRGrX",jr="time_display--clockStyleWrapper--TN05b",ja="time_display--timeDiv--Y0hTB";var js=(e=>(e.XSMALL="xsmall",e.MEDIUM="medium",e.LARGE="large",e.XLARGE="xlarge",e))(js||{}),jo=(e=>(e.DEFAULT="DEFAULT",e.SECONDARY="SECONDARY",e.TERTIARY="TERTIARY",e))(jo||{});let jl=({minutesRef:e,disabled:t})=>{l.useLayoutEffect(()=>{t||(e.current?.focus(),e.current?.select())},[t,e])};function jd({timerActions:e,timerState:t,isStopped:i,withoutUnderline:n,withoutClockDisplay:r,isInUI3Toolbar:a,size:s="medium"}){let c=function(e,t){let{setMinutes:i,setSeconds:n,startTimer:r,setTime:a,addMinutes:s}=e,o=l.useRef(null),c=l.useRef(null),u=(0,d.wA)(),p=l.useCallback(e=>{if(!e.currentTarget.value.match(/^[0-9]?[0-9]?$/)){e.preventDefault();return}i(e.currentTarget.value),e.currentTarget.value.length>1&&c.current?.select()},[c,i]),h=l.useCallback(e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key)isNaN(parseInt(e.currentTarget.value))||(s(("ArrowUp"===e.key?1:-1)*(e.shiftKey?5:1)),setTimeout(()=>o.current?.select(),0),e.preventDefault());else if("ArrowRight"===e.key&&o.current){if(o.current.selectionStart===o.current.value.length&&c.current){c.current.select(),e.preventDefault();return}}else if("Enter"===e.key)r();else if("Escape"===e.key){u(g3.lu({state:"closed",userInitiated:!0,source:"keyboard"}));return}else if(":"===e.key){c.current?.select(),e.preventDefault();return}else(0,x8.jr)(e)},[s,u,r]),m=l.useCallback(()=>{if(!o.current)return;let e=o.current.value;0===e.length?i("00"):e.length<2?i(`0${e}`):i(e)},[o,i]),f=l.useCallback(()=>{o.current?.select()},[o]),x=l.useCallback(e=>{if(!e.currentTarget.value.match(/^[0-9]?[0-9]?$/)){e.preventDefault();return}let i=parseInt(e.currentTarget.value);i>59&&"99"!==t.minutes?(i-=60,a((0,bU.YI)(parseInt(t.minutes)+1),(0,bU.YI)(i))):i>59?n((0,bU.YI)(59)):(i<60||isNaN(i))&&n(e.currentTarget.value)},[n,a,t.minutes]);return{handleMinutesChange:p,handleMinutesKeyDown:h,handleMinutesBlur:m,handleMinutesFocus:f,handleSecondsChange:x,handleSecondsKeyDown:l.useCallback(e=>{let s;if("ArrowLeft"===e.key&&c.current){if(0===c.current.selectionEnd&&o.current){o.current.select(),e.preventDefault();return}}else if("Enter"===e.key){""!==t.minutes&&""!==t.seconds&&parseInt(t.minutes)+parseInt(t.seconds)!==0&&r();return}else if("Escape"===e.key){u(g3.lu({state:"closed",userInitiated:!0,source:"keyboard"}));return}else if(c.current?.value===""&&"Backspace"===e.key&&o.current?.value){i(o.current.value.substring(0,o.current.value.length-1)||"0"),o.current.focus(),e.preventDefault();return}if((0,x8.jr)(e)||"ArrowUp"!==e.key&&"ArrowDown"!==e.key)return;let l=parseInt(t.seconds);if(!isNaN(l)){if("ArrowUp"===e.key){if((l+=e.shiftKey?5:1)>59&&"99"===t.minutes)return;l>=60&&(l-=60,s=1)}else if("ArrowDown"===e.key&&(l-=e.shiftKey?5:1)<0){if(0===parseInt(t.minutes))return;s=-1,l+=60}setTimeout(()=>c.current?.select(),0),e.preventDefault(),s?a((0,bU.YI)(parseInt(t.minutes)+s),(0,bU.YI)(l)):n((0,bU.YI)(l))}},[u,o,c,i,n,a,r,t.minutes,t.seconds]),handleSecondsBlur:l.useCallback(()=>{n((0,bU.YI)(parseInt(t.seconds||"00")))},[n,t.seconds]),handleSecondsFocus:l.useCallback(()=>{c.current?.select()},[c]),secondsRef:c,minutesRef:o}}(e,t);return jl({minutesRef:c.minutesRef,disabled:h.Ay.isMeetDevice}),(0,o.jsx)(o.Fragment,{children:i?(0,o.jsx)(jp,{timerState:t,timerEventHandlers:c,withoutUnderline:n,withoutClockDisplay:r,size:s}):(0,o.jsx)(jc,{withoutUnderline:n,withoutClockDisplay:r,size:s,isInUI3Toolbar:a})})}function jc(e){let{withoutUnderline:t,withoutClockDisplay:i,withoutTimeShadow:n,withoutFlashOnPause:r,size:a,isSelected:s,prominence:l,timeDivRef:d,isInUI3Toolbar:c}=e,u=(0,p.md)(bF.jo),h=(0,p.md)(bF.Ld);return(0,o.jsx)(ju,{flashing:(0,bU.CM)(u.time)&&!r,isInUI3Toolbar:c,isSelected:s,prominence:l,size:a,timeDivRef:d,timeInSeconds:h,withoutClockDisplay:i,withoutTimeShadow:n,withoutUnderline:t})}function ju(e){let{timeInSeconds:t,withoutUnderline:i,withoutClockDisplay:n,withoutTimeShadow:r,flashing:a,size:s,isSelected:l,prominence:d,timeDivRef:c,isInUI3Toolbar:u}=e,{seconds:p,minutes:h}=(0,bP._d)(t);return(0,o.jsx)("div",{className:e_()({[jr]:!n}),children:(0,o.jsxs)("div",{ref:c,className:e_()(ja,{[je]:"xsmall"===s,[jt]:"medium"===s,[ji]:"large"===s,[jn]:"xlarge"===s,"time_display--selected--Idl4y":l,"time_display--secondary--r44Yf":"SECONDARY"===d,"time_display--tertiary--oyx7n":"TERTIARY"===d,"time_display--inUI3Toolbar--SFjvm":u}),children:[!n&&!r&&(0,o.jsx)(jh,{size:s,withoutUnderline:i}),(0,o.jsxs)("div",{className:e_()("time_display--timeDisplay--MuaRS",{"time_display--flashing--1Hw1m":a,[je]:"xsmall"===s,[jt]:"medium"===s,[ji]:"large"===s,[jn]:"xlarge"===s}),children:[(0,o.jsx)(jm,{isMinute:!0,size:s,value:(0,bU.YI)(h),displayOnly:!0}),":",(0,o.jsx)(jm,{size:s,value:(0,bU.YI)(p),displayOnly:!0})]})]})})}function jp({timerState:e,timerEventHandlers:t,withoutUnderline:i,withoutClockDisplay:n,size:r}){let{handleMinutesChange:a,handleMinutesKeyDown:s,handleMinutesBlur:l,handleMinutesFocus:d,handleSecondsChange:c,handleSecondsKeyDown:u,handleSecondsBlur:p,handleSecondsFocus:h,secondsRef:m,minutesRef:f}=t;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:e_()({[jr]:!n}),children:(0,o.jsxs)("div",{className:e_()(ja,{[jt]:"medium"===r,[ji]:"large"===r,[jn]:"xlarge"===r}),children:[(0,o.jsx)(jh,{size:r,withoutUnderline:i}),(0,o.jsxs)("div",{children:[(0,o.jsx)(jm,{ref:f,onFocus:d,onChange:a,onKeyDown:s,onBlur:l,value:e.minutes,size:r,isMinute:!0}),(0,o.jsx)("span",{"aria-hidden":"true",children:":"}),(0,o.jsx)(jm,{ref:m,onChange:c,onFocus:h,onKeyDown:u,onBlur:p,value:e.seconds,size:r})]})]})})})}function jh(e){return(0,o.jsxs)("div",{className:e_()("time_display--timeShadow--dyosl",{[je]:"xsmall"===e.size,[jt]:"medium"===e.size,[ji]:"large"===e.size,[jn]:"xlarge"===e.size}),"aria-hidden":"true",children:[(0,o.jsx)(jm,{isMinute:!0,size:e.size,value:88,displayOnly:!0}),":",(0,o.jsx)(jm,{size:e.size,value:88,displayOnly:!0}),!e.withoutUnderline&&(0,o.jsx)("div",{className:"time_display--timeInputUnderline--4Gxkr"})]})}let jm=l.forwardRef((e,t)=>{let{size:i,isMinute:n,onFocus:r,onChange:a,onKeyDown:s,onBlur:l,value:d,displayOnly:c}=e,u=e_()("time_display--timeInput--4Evh3",{"time_display--minute--Q8e3H":n,[je]:"xsmall"===i,[jt]:"medium"===i,[ji]:"large"===i,[jn]:"xlarge"===i});return c?(0,o.jsx)("span",{className:u,"data-testid":"stopped-time",children:d}):(0,o.jsx)("input",{ref:t,"aria-label":n?(0,A.t)("whiteboard.timer.minutes.aria_label"):(0,A.t)("whiteboard.timer.seconds.aria_label"),className:u,inputMode:"numeric",maxLength:2,onBlur:l,onChange:a,onFocus:r,onKeyDown:s,type:"text",value:d})});function jf(){bq(),bX();let[e,t]=b7(),{startTimer:i,stopTimer:n,addMinutes:r,pauseTimer:a,resumeTimer:s}=t,c=(0,p.md)(bF.jo),u=(0,d.d4)(e=>e.multiplayer.allUsers.length),h=l.useRef(null),m=l.useRef(null),f=l.useRef(!1),[x,_]=l.useState(!1),g=c.time,b=(0,bU.RE)(e),j=(0,bU.G8)(g),y=(0,bU.CM)(g),v=(0,bU.IQ)(g),C=(0,bU.$V)(g,e)&&!v;l.useEffect(()=>{if(!f.current){f.current=!0;return}x?m.current?.focus():h.current?.focus()},[x]),l.useEffect(()=>{v&&_(!1)},[v]);let T=l.useCallback(()=>{a()},[a]),E=l.useCallback(()=>{i()},[i]),S=l.useCallback(()=>{s()},[s]),w=l.useCallback(()=>{n()},[n]);if(x&&!v)return(0,o.jsx)(bw,{titleText:(0,A.t)("whiteboard.timer.end_timer_confirmation_new"),bodyText:(0,A.t)("whiteboard.timer.end_timer_confirmation_subtext_new"),cancelButtonText:(0,A.t)("whiteboard.timer.end_timer_go_back_new"),confirmButtonText:(0,A.t)("whiteboard.timer.end_timer_button_new"),confirmButtonRef:m,onCancel:()=>_(!1),onConfirm:()=>{_(!1),w()}});let I=j?(0,A.t)("whiteboard.timer.start_timer_tooltip"):g?.isPaused?(0,A.t)("whiteboard.timer.resume_timer_tooltip"):(0,A.t)("whiteboard.timer.pause_timer_tooltip"),L=j&&b<=0,N=g?.isPaused||j;return(0,o.jsx)("div",{className:"timer_view--timerContainer--kRcU1","data-testid":"timer-modal",children:(0,o.jsxs)("div",{className:eT.s.flex.flexColumn.p16.gap12.$,children:[(0,o.jsx)("div",{className:"timer_view--timerBackground--NUQ4g",children:(0,o.jsx)(jd,{timerActions:t,timerState:e,isStopped:j,size:js.XLARGE,withoutUnderline:!0,isInUI3Toolbar:!1})}),(0,o.jsxs)("div",{className:eT.s.flex.justifyBetween.itemsCenter.$,children:[(0,o.jsx)(bE,{onClick:e=>{r(bU.AC),e.preventDefault()},disabled:!C,"aria-label":(0,A.t)("whiteboard.timer.add_one_minute.aria_label"),children:(0,o.jsxs)("div",{className:"timer_view--addTimeButton--tKy9r",children:[(0,o.jsx)(bD.x,{}),(0,A.tx)("whiteboard.timer.min",{timeIncrement:bU.AC})]})}),(0,o.jsxs)("div",{className:eT.s.flex.gap12.$,children:[!j&&(0,o.jsx)(bR,{buttonState:bk.STOP,onClick:()=>{g&&((0,bU.fQ)(g,u)?_(!0):(h.current?.focus(),w()))},dataTooltip:(0,A.t)("whiteboard.timer.end_timer_tooltip"),disabled:j||v}),(0,o.jsx)(bR,{ref:h,buttonState:N?bk.PLAY:bk.PAUSE,onClick:N?()=>{y?S():E()}:T,dataTooltip:I,disabled:N?L:v,dataOnboardingKey:bU.Hm})]})]})]})})}jm.displayName="TwoDigitTimeInput";var jx=i(124493),j_=i(587765);function jg({onCancel:e}){let t=(0,j_.C3)(),i=(0,d.wA)(),n=(0,G.tS)(),r=(0,rT.oh)(jx.wQ(n||"")),a=l.useCallback(()=>{i(jx.PK({uiSurface:"MeetingsPanel"})),(0,eb.sx)("confirm_end_voting_session",{source:"voting_modal",votingSessionId:t?.id,fileKey:n})},[i,t,n]),s=l.useCallback(()=>{e(),(0,eb.sx)("cancel_end_voting_session",{source:"voting_modal",votingSessionId:t?.id,fileKey:n})},[e,t,n]);return(0,o.jsx)(bw,{titleText:(0,A.t)("voting.modal.end_voting_session_modal_header"),bodyText:(0,A.t)("voting.modal.end_voting_session_modal_description"),cancelButtonText:(0,A.t)("meetings_panel.voting.go_back"),confirmButtonText:(0,A.t)("voting.modal.end_voting_session_modal_confirm_button"),onCancel:s,onConfirm:a,onCancelDisabled:r||!t,onConfirmDisabled:r||!t,recordingKey:"endVotingModal"})}var jb=i(976345),jj=i(99493);let jy="face_pile--facePileAvatarPositioner--pWI9a",jv="face_pile--active--5AAUF";var jC=i(391784);function jT({userId:e,isActive:t}){let{user:i,loading:n}=(0,I.wW)(e);return(0,o.jsx)(jj.v,{userId:e,size:16,user:i,loading:n,defaultClassName:e_()("face_pile--facePileAvatar--pZDZe",t&&jv),loadingClassName:e_()("face_pile--facePileAvatarLoading--uhhTa face_pile--facePileAvatar--pZDZe",t&&jv)})}function jE({overflowUserIds:e,isActive:t}){return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:jy,children:(0,o.jsx)("div",{className:e_()({"face_pile--facePileOverflowIcon--qL11N":!0,[jv]:t}),children:(0,o.jsx)(tb.B,{className:"face_pile--overflowIcon--q-7wp",svg:jC.A})})})})}function jS({userIds:e,maxHeadsBeforeOverflow:t,isActive:i}){let n=e.length>t,r=n?e.slice(0,t-1):e,a=n?e.slice(t-1):[];return(0,o.jsxs)("div",{className:"face_pile--facePileContainer--DzqrO",children:[a.length?(0,o.jsx)(jE,{overflowUserIds:a,isActive:i}):null,[...r].reverse().map(e=>(0,o.jsx)("div",{className:jy,children:(0,o.jsx)(jT,{userId:e,isActive:i})},e))]})}var jw=i(745972);function jI({userId:e}){let{user:t,loading:i}=(0,I.wW)(e);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(jj.v,{userId:e,user:t,loading:i,size:24,loadingClassName:"voting_user_overflow_dropdown--loadingAvatar---1jYn"}),(0,o.jsx)(jj.m,{userId:e,user:t,loading:i,defaultClassName:"voting_user_overflow_dropdown--userName--huz8P text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsis--Tjyfa",loadingClassName:"voting_user_overflow_dropdown--loadingUserName--pC-X-"})]})}let jL=e=>{let{windowInnerHeight:t}=(0,jw.l)(),i=(0,nr.Yk)();return t-(e.y+e.height)-i-22};function jN({userIds:e,targetRect:t}){let i=jL(t),n=0===e.length;return(0,o.jsx)(xB.Cf,{className:"voting_user_overflow_dropdown--pointingDropdown--equm6",targetRect:t,lean:"center",disableDropdownScrollContainer:!0,propagateCloseClick:!0,children:(0,o.jsx)(ev.P,{maxHeight:i,width:192,children:(0,o.jsx)("ol",{className:"voting_user_overflow_dropdown--dropdownPadding---VKEq",children:n?(0,o.jsx)("div",{className:"voting_user_overflow_dropdown--noVotesText--T2dVF text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L",children:(0,A.tx)("voting.modal.during_voting_no_votes_dropdown")}):e.map(e=>(0,o.jsx)("li",{className:"voting_user_overflow_dropdown--listItem--d7eTA",children:(0,o.jsx)(jI,{userId:e})},e))})})})}var jA=i(960980);let jO="users_voted--rootSelected--y6VPJ";function jk({votingSessionInfo:e}){return(0,l.useMemo)(()=>e.votedNodes.reduce((e,t)=>(Object.entries(t.userIdToNodeVotes).forEach(([t,i])=>{e[t]=(e[t]||0)+i.length}),e),{}),[e.votedNodes])}let jR=e=>{let t=(0,d.wA)();return{isDropdownOpen:(0,d.d4)(e=>e.dropdownShown?.type===jD),handleTargetClick:()=>{t(jb.gR({type:jD}))}}};function jM({votingSessionInfo:e,userVoteLimit:t}){let[i,n]=(0,l.useState)(null),[r,a]=(0,l.useState)(!1),s=(0,L.TA)(),d=jk({votingSessionInfo:e}),c=(0,l.useMemo)(()=>Object.entries(d).filter(([e,i])=>i&&i>=t).map(([e])=>e).sort((0,jA.zi)(s)),[d,t,s]),{isDropdownOpen:u,handleTargetClick:p}=jR(c);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("button",{className:e_()({"users_voted--duringSessionRoot--XC-59 users_voted--rootBase--KRjQs text--fontPos12--YsUAh text--_fontBase--QdLsd":!0,[jO]:u}),onMouseDown:e=>e.stopPropagation(),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onClick:p,ref:e=>n(e),children:[(0,o.jsx)(jS,{userIds:c,maxHeadsBeforeOverflow:4,isActive:r||u}),(0,o.jsx)("p",{className:"users_voted--duringSessionText--glncG",children:c.length>0?(0,A.tx)("voting.modal.people_voted",{numVotes:c.length}):(0,A.tx)("voting.modal.during_voting_no_ones_voted")}),(0,o.jsx)(tb.B,{className:e_()({"users_voted--chevronDown--LWnXw":!0,"users_voted--chevronDownActive---IB9j":u}),svg:xW.A})]}),u&&i&&(0,o.jsx)(jN,{targetRect:i.getBoundingClientRect(),userIds:c})]})}let jD="USERS_VOTED_DROPDOWN";function jP({votingSessionInfo:e}){let[t,i]=(0,l.useState)(null),n=(0,L.TA)(),r=jk({votingSessionInfo:e}),a=(0,l.useMemo)(()=>Object.keys(r).sort((0,jA.zi)(n)),[r,n]),{isDropdownOpen:s,handleTargetClick:d}=jR(a);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("button",{className:e_()({"users_voted--resultsDetailRoot--K2wEg users_voted--rootBase--KRjQs text--fontPos12--YsUAh text--_fontBase--QdLsd":!0,[jO]:s}),onMouseDown:e=>e.stopPropagation(),onClick:d,ref:e=>i(e),children:(0,o.jsx)("p",{children:a.length>0?(0,A.tx)("voting.modal.voted",{numVotes:a.length}):(0,A.tx)("voting.modal.after_voting_no_one_voted")})}),s&&t&&(0,o.jsx)(jN,{targetRect:t.getBoundingClientRect(),userIds:a})]})}function jU({title:e,useSmallerText:t}){let[i,n]=(0,l.useState)(!1),r=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e=r.current;e?n(e.scrollHeight>e.clientHeight):n(!1)},[e,r]),(0,o.jsx)("div",{ref:r,className:e_()("voting_components--votingSessionTitle--KDhQJ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",{"voting_components--smallerText--rtDFU text--fontPos11--2LvXf text--_fontBase--QdLsd":t}),"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":i?e:void 0,children:e})}function jF({votingSessionInfo:e,onEndClick:t,recordingKey:i}){let n=(0,j_.C3)(),r=(0,d.d4)(e=>!e.user),a=(0,G.tS)();return n?(0,o.jsxs)("div",{className:"joined_vote_view--joinedVoteViewContainer--2w8-v",children:[(0,o.jsx)("div",{children:(0,o.jsx)(jU,{title:(0,jA.DG)(n),useSmallerText:!0})}),(0,o.jsx)("div",{className:"joined_vote_view--usersVotedContainer--nEFTt",children:(0,o.jsx)(jM,{votingSessionInfo:e,userVoteLimit:n.userVoteLimit})}),!h.Ay.isMeetDevice&&(0,o.jsx)("div",{className:eT.s.flex.$,children:(0,o.jsx)(bE,{flexGrow:!0,onClick:()=>{t(),(0,eb.sx)("click_end_voting_session",{source:"voting_modal",votingSessionId:n.id,fileKey:a})},disabled:r,"data-tooltip-type":r?ii.Ib.TEXT:void 0,"data-tooltip":r?(0,A.t)("voting.modal.end_disabled_logged_out_tooltip"):void 0,recordingKey:e2.Pt(i,"endVotingSession"),children:(0,o.jsx)("span",{children:(0,A.tx)("voting.modal.end_for_all")})})})]}):null}function jB({votingSessionInfo:e,recordingKey:t}){let[i,n]=l.useState(!1),r=l.useCallback(()=>{n(!1)},[n]),a=l.useCallback(()=>{n(!0)},[n]);return(0,o.jsx)(o.Fragment,{children:i?(0,o.jsx)(jg,{onCancel:r}):(0,o.jsx)(jF,{votingSessionInfo:e,onEndClick:a,recordingKey:t})})}function jH(){return(0,o.jsxs)("svg",{width:"142",height:"115",viewBox:"0 0 142 115",fill:"none",children:[(0,o.jsxs)("g",{filter:"url(#filter0_d_536_1194)",children:[(0,o.jsx)("mask",{id:"mask0_536_1194",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"9",y:"7",width:"112",height:"121",children:(0,o.jsx)("path",{d:"M30.3749 27.8343C32.0497 25.2359 34.6296 23.3518 37.6144 22.5472L95.2853 7.00006L120.973 102.285L25.6874 127.973L9.4772 67.8424C8.5589 64.4361 9.1256 60.8001 11.037 57.8348L30.3749 27.8343Z",fill:"white"})}),(0,o.jsxs)("g",{mask:"url(#mask0_536_1194)",children:[(0,o.jsx)("path",{d:"M95.2854 7.00012L120.973 102.285L25.6875 127.973L0 32.6875L95.2854 7.00012Z",fill:"#FFD966"}),(0,o.jsx)("g",{filter:"url(#filter1_f_536_1194)",children:(0,o.jsx)("rect",{x:"-9.06198",y:"72.871",width:"80.2756",height:"13.9108",transform:"rotate(-57 -9.06198 72.871)",fill:"black",fillOpacity:"0.3"})}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.7476 28.8039L10.2326 59.1223C15.1411 51.4964 30.0572 48.6566 30.0572 48.6566C30.0572 48.6566 25.2827 35.7405 29.7476 28.8039Z",fill:"#FFD966"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.7476 28.8039L10.2326 59.1223C15.1411 51.4964 30.0572 48.6566 30.0572 48.6566C30.0572 48.6566 25.2827 35.7405 29.7476 28.8039Z",fill:"url(#paint0_linear_536_1194)"})]})]}),(0,o.jsxs)("defs",{children:[(0,o.jsxs)("filter",{id:"filter0_d_536_1194",x:"-20.5598",y:"-13.5598",width:"162.092",height:"162.092",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"10.2799"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_536_1194"}),(0,o.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_536_1194",result:"shape"})]}),(0,o.jsxs)("filter",{id:"filter1_f_536_1194",x:"-35.6799",y:"-21.0717",width:"108.624",height:"128.137",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,o.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"13.3089",result:"effect1_foregroundBlur_536_1194"})]}),(0,o.jsxs)("linearGradient",{id:"paint0_linear_536_1194",x1:"20.32",y1:"42.4426",x2:"29.6252",y2:"49.517",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0.5"}),(0,o.jsx)("stop",{offset:"0.319642",stopColor:"white",stopOpacity:"0.2"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0.2"})]})]})]})}function jV(){return(0,o.jsxs)("svg",{width:"52",height:"52",viewBox:"0 0 52 52",fill:"none",children:[(0,o.jsxs)("g",{filter:"url(#filter0_d_1904_66844)",children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.6975 43.3947V28.2216C17.2146 28.9246 15.5806 29.3745 13.8194 29.4818L9.75977 29.729L9.75977 13.542L13.3208 13.2938C16.2911 13.0869 18.6537 11.8389 19.8608 8.79489L20.819 6.37863H34.6307V43.3947H18.6975ZM18.6975 23.7911C20.2723 22.6622 21.5839 21.1021 22.5245 19.3196V39.5677H30.8037V10.2056H23.4183C21.5367 14.9506 17.6323 16.8297 13.5868 17.1116V25.6618C14.9507 25.5788 16.2382 25.1962 17.4138 24.5825C17.8583 24.3505 18.2869 24.0855 18.6975 23.7911Z",fill:"white"}),(0,o.jsx)("path",{d:"M22.5245 39.5677H30.8037V10.2057H23.4183C21.5367 14.9506 17.6323 16.8297 13.5868 17.1116V25.6618C17.4441 25.427 20.6899 22.7961 22.5245 19.3196V39.5677Z",fill:"#9747FF"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64916 24.2332H9.86288L17 28L20.5 28.0597V39.5527H19.1422V43.3803H7.64916V39.5527L3.82166 39.5527L3.82166 28.0597L7.64916 28.0597V24.2332ZM11.4822 35.7197H7.65466V31.8927L11.4822 31.8927V28.0662H15.3092L15.3092 31.8867M15.3092 31.8927H19.1357ZM15.3092 35.7197H15.3152ZM19.1357 35.7197V31.8927ZM15.3092 35.7257V39.5473ZM11.4822 39.5473H15.3092ZM11.4822 35.7197V39.5473ZM15.3152 35.7197L19.1357 35.7197Z",fill:"white"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3092 28.0662H11.4822V31.8927L7.65466 31.8927V35.7197L11.4822 35.7197V39.5473H15.3092V35.7197L19.1357 35.7197V31.8927L15.3092 31.8927V28.0662Z",fill:"#9747FF"}),(0,o.jsx)("path",{d:"M38.9984 23.4121C39.1678 22.8781 39.9234 22.8781 40.0928 23.4121L41.5337 27.9551C41.584 28.1137 41.7006 28.2427 41.8533 28.3086L45.9788 30.0896C46.4408 30.289 46.4408 30.9442 45.9788 31.1437L41.8533 32.9246C41.7006 32.9906 41.584 33.1195 41.5337 33.2781L40.0928 37.8211C39.9234 38.3551 39.1678 38.3551 38.9984 37.8211L37.5575 33.2781C37.5072 33.1195 37.3906 32.9906 37.2378 32.9246L33.1124 31.1437C32.6503 30.9442 32.6503 30.289 33.1124 30.0896L37.2378 28.3086C37.3906 28.2427 37.5072 28.1137 37.5575 27.9551L38.9984 23.4121Z",fill:"#EFBA00"}),(0,o.jsx)("path",{d:"M38.9984 23.4121C39.1678 22.8781 39.9234 22.8781 40.0928 23.4121L41.5337 27.9551C41.584 28.1137 41.7006 28.2427 41.8533 28.3086L45.9788 30.0896C46.4408 30.289 46.4408 30.9442 45.9788 31.1437L41.8533 32.9246C41.7006 32.9906 41.584 33.1195 41.5337 33.2781L40.0928 37.8211C39.9234 38.3551 39.1678 38.3551 38.9984 37.8211L37.5575 33.2781C37.5072 33.1195 37.3906 32.9906 37.2378 32.9246L33.1124 31.1437C32.6503 30.9442 32.6503 30.289 33.1124 30.0896L37.2378 28.3086C37.3906 28.2427 37.5072 28.1137 37.5575 27.9551L38.9984 23.4121Z",fill:"url(#paint0_linear_1904_66844)"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.3739 28.313C37.4969 28.2595 37.5912 28.1537 37.6324 28.023L39.0624 23.4807C39.1998 23.0443 39.8002 23.0443 39.9376 23.4807L41.3676 28.023C41.4088 28.1537 41.5031 28.2595 41.6261 28.313L45.6529 30.0643C46.0273 30.2272 46.0273 30.7728 45.6529 30.9357L41.6261 32.687C41.5031 32.7405 41.4088 32.8463 41.3676 32.977L39.9376 37.5193C39.8002 37.9557 39.1998 37.9557 39.0624 37.5193L37.6324 32.977C37.5912 32.8463 37.4969 32.7405 37.3739 32.687L33.3471 30.9357C32.9727 30.7728 32.9727 30.2272 33.3471 30.0643L37.3739 28.313ZM42.8548 22.5094L43.9178 25.8859L46.8472 27.1599C49.7176 28.4083 49.7176 32.5917 46.8472 33.8401L43.9178 35.1141L42.8548 38.4906C41.8014 41.8365 37.1986 41.8364 36.1452 38.4906L35.0822 35.1141L32.1528 33.8401C32.1009 33.8175 32.05 33.794 32 33.7696L32 27.2304C32.05 27.206 32.1009 27.1825 32.1528 27.1599L35.0822 25.8859L36.1452 22.5094C37.1986 19.1635 41.8014 19.1636 42.8548 22.5094Z",fill:"white"}),(0,o.jsx)("path",{d:"M38.9985 23.4116C39.1678 22.8776 39.9235 22.8776 40.0929 23.4116L41.5338 27.9546C41.5841 28.1132 41.7007 28.2422 41.8534 28.3081L45.9789 30.0891C46.4409 30.2886 46.4409 30.9437 45.9789 31.1432L41.8534 32.9241C41.7007 32.9901 41.5841 33.1191 41.5338 33.2776L40.0929 37.8206C39.9235 38.3546 39.1678 38.3546 38.9985 37.8206L37.5576 33.2776C37.5073 33.1191 37.3906 32.9901 37.2379 32.9241L33.1125 31.1432C32.6504 30.9437 32.6504 30.2886 33.1125 30.0891L37.2379 28.3081C37.3906 28.2422 37.5073 28.1132 37.5576 27.9546L38.9985 23.4116Z",fill:"url(#paint1_linear_1904_66844)"}),(0,o.jsx)("path",{d:"M38.9985 23.4116C39.1678 22.8776 39.9235 22.8776 40.0929 23.4116L41.5338 27.9546C41.5841 28.1132 41.7007 28.2422 41.8534 28.3081L45.9789 30.0891C46.4409 30.2886 46.4409 30.9437 45.9789 31.1432L41.8534 32.9241C41.7007 32.9901 41.5841 33.1191 41.5338 33.2776L40.0929 37.8206C39.9235 38.3546 39.1678 38.3546 38.9985 37.8206L37.5576 33.2776C37.5073 33.1191 37.3906 32.9901 37.2379 32.9241L33.1125 31.1432C32.6504 30.9437 32.6504 30.2886 33.1125 30.0891L37.2379 28.3081C37.3906 28.2422 37.5073 28.1132 37.5576 27.9546L38.9985 23.4116Z",fill:"url(#paint2_linear_1904_66844)"})]}),(0,o.jsxs)("defs",{children:[(0,o.jsxs)("filter",{id:"filter0_d_1904_66844",x:"-1.91351",y:"-1.27567",width:"54.8539",height:"54.8539",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dy:"0.637836"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"0.956754"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1904_66844"}),(0,o.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1904_66844",result:"shape"})]}),(0,o.jsxs)("linearGradient",{id:"paint0_linear_1904_66844",x1:"46.6528",y1:"37.3139",x2:"29.2026",y2:"24.1295",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0"}),(0,o.jsx)("stop",{offset:"0.33271",stopColor:"white",stopOpacity:"0.11"}),(0,o.jsx)("stop",{offset:"0.449925",stopColor:"white",stopOpacity:"0.5"}),(0,o.jsx)("stop",{offset:"0.562473",stopColor:"white",stopOpacity:"0.11"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,o.jsxs)("linearGradient",{id:"paint1_linear_1904_66844",x1:"31.8916",y1:"21.6864",x2:"47.5581",y2:"39.2257",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#F7C000"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#E8B604"})]}),(0,o.jsxs)("linearGradient",{id:"paint2_linear_1904_66844",x1:"47.1997",y1:"39.5458",x2:"31.5331",y2:"22.0066",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0"}),(0,o.jsx)("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),(0,o.jsx)("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),(0,o.jsx)("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]})}function jG(){return(0,o.jsxs)("svg",{width:"46",height:"45",viewBox:"0 0 46 45",fill:"none",children:[(0,o.jsxs)("g",{filter:"url(#filter0_d_1904_66832)",children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.6036 25.0556C1.12383 20.6128 1.12383 13.3775 5.6036 8.93478C7.76292 6.7933 10.6465 5.61081 13.6925 5.61081C16.5194 5.61081 19.209 6.62902 21.3102 8.49271C23.4103 6.62969 26.0996 5.60886 28.9298 5.60886C31.9764 5.60886 34.8598 6.79177 37.0207 8.93478C39.1809 11.0772 40.3839 13.9501 40.3839 16.9962C40.3839 20.038 39.1847 22.91 37.0234 25.0548C37.0232 25.055 37.0236 25.0547 37.0234 25.0548C37.0226 25.0556 37.0214 25.0568 37.0207 25.0575L35.3114 26.7566L21.3162 40.6361L5.6036 25.0556ZM21.3102 13.2071L19.4117 11.3243C17.8838 9.80902 15.8532 8.97612 13.6925 8.97612C11.5298 8.97612 9.49924 9.81097 7.97334 11.3243C4.821 14.4506 4.821 19.5398 7.97334 22.6661L21.3161 35.8966L32.9417 24.3671L34.6509 22.6681C36.1788 21.1528 37.0186 19.139 37.0186 16.9962C37.0186 14.8514 36.1768 12.8376 34.6509 11.3243C33.1231 9.80902 31.0925 8.97416 28.9298 8.97416C26.7671 8.97416 24.7365 9.80902 23.2087 11.3243L21.3102 13.2071Z",fill:"white"}),(0,o.jsx)("path",{d:"M7.97332 22.6661C4.82098 19.5398 4.82098 14.4506 7.97332 11.3243C9.49922 9.81098 11.5298 8.97612 13.6925 8.97612C15.8532 8.97612 17.8838 9.80902 19.4116 11.3243L21.3101 13.2071L23.2087 11.3243C24.7365 9.80902 26.7671 8.97417 28.9298 8.97417C31.0924 8.97417 33.123 9.80902 34.6509 11.3243C36.1768 12.8376 37.0186 14.8514 37.0186 16.9962C37.0186 19.139 36.1788 21.1528 34.6509 22.6681L32.9417 24.3671L21.3161 35.8966L7.97332 22.6661Z",fill:"#FF8577"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.0424 27.6444C30.9973 27.7838 30.8938 27.8968 30.7588 27.9538L26.3392 29.8229C25.9283 29.9966 25.9283 30.579 26.3392 30.7527L30.7588 32.6217C30.8938 32.6788 30.9973 32.7918 31.0424 32.9312L32.6119 37.7787C32.7627 38.2444 33.4216 38.2444 33.5724 37.7787L35.142 32.9312C35.1871 32.7918 35.2906 32.6788 35.4256 32.6217L39.8452 30.7527C40.2561 30.579 40.2561 29.9966 39.8452 29.8229L35.4256 27.9538C35.2906 27.8968 35.1871 27.7838 35.142 27.6444L33.5724 22.7969C33.4216 22.3312 32.7627 22.3312 32.6119 22.7969L31.0424 27.6444ZM37.9408 25.3637L36.7741 21.7603C35.618 18.1897 30.5664 18.1896 29.4103 21.7603L28.2436 25.3637L25.0284 26.7233C21.8781 28.0556 21.8781 32.52 25.0284 33.8523L28.2436 35.2119L29.4103 38.8153C30.5664 42.3859 35.618 42.386 36.7741 38.8153L37.9408 35.2119L41.156 33.8523C44.3062 32.52 44.3062 28.0556 41.156 26.7233L37.9408 25.3637Z",fill:"white"}),(0,o.jsx)("path",{d:"M32.6119 22.7969C32.7627 22.3312 33.4216 22.3312 33.5724 22.7969L35.142 27.6444C35.1871 27.7838 35.2906 27.8968 35.4256 27.9538L39.8452 29.8229C40.2561 29.9966 40.2561 30.5789 39.8452 30.7527L35.4256 32.6217C35.2906 32.6788 35.1871 32.7917 35.142 32.9312L33.5724 37.7787C33.4216 38.2444 32.7627 38.2444 32.6119 37.7787L31.0424 32.9312C30.9973 32.7917 30.8938 32.6788 30.7588 32.6217L26.3392 30.7527C25.9283 30.5789 25.9283 29.9966 26.3392 29.8229L30.7588 27.9538C30.8938 27.8968 30.9973 27.7838 31.0424 27.6444L32.6119 22.7969Z",fill:"url(#paint0_linear_1904_66832)"}),(0,o.jsx)("path",{d:"M32.6119 22.7969C32.7627 22.3312 33.4216 22.3312 33.5724 22.7969L35.142 27.6444C35.1871 27.7838 35.2906 27.8968 35.4256 27.9538L39.8452 29.8229C40.2561 29.9966 40.2561 30.5789 39.8452 30.7527L35.4256 32.6217C35.2906 32.6788 35.1871 32.7917 35.142 32.9312L33.5724 37.7787C33.4216 38.2444 32.7627 38.2444 32.6119 37.7787L31.0424 32.9312C30.9973 32.7917 30.8938 32.6788 30.7588 32.6217L26.3392 30.7527C25.9283 30.5789 25.9283 29.9966 26.3392 29.8229L30.7588 27.9538C30.8938 27.8968 30.9973 27.7838 31.0424 27.6444L32.6119 22.7969Z",fill:"url(#paint1_linear_1904_66832)"})]}),(0,o.jsxs)("defs",{children:[(0,o.jsxs)("filter",{id:"filter0_d_1904_66832",x:"-1.68265",y:"-1.12177",width:"48.2361",height:"48.2361",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dy:"0.560885"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"0.841327"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1904_66832"}),(0,o.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1904_66832",result:"shape"})]}),(0,o.jsxs)("linearGradient",{id:"paint0_linear_1904_66832",x1:"25.2398",y1:"21.3136",x2:"40.9446",y2:"39.2619",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#F7C000"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#E8B604"})]}),(0,o.jsxs)("linearGradient",{id:"paint1_linear_1904_66832",x1:"40.9446",y1:"39.2619",x2:"25.2398",y2:"21.3136",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0"}),(0,o.jsx)("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),(0,o.jsx)("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),(0,o.jsx)("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]})}function jW(){return(0,o.jsxs)("svg",{width:"41",height:"40",viewBox:"0 0 41 40",fill:"none",children:[(0,o.jsxs)("g",{filter:"url(#filter0_d_1972_66634)",children:[(0,o.jsx)("path",{d:"M25.0742 24.5505V24.5597H25.7273C26.0169 24.5611 26.3027 24.6243 26.565 24.7451C26.8274 24.8659 27.0598 25.0414 27.2464 25.2593L27.2793 25.3009C27.5241 25.587 27.6808 25.9359 27.7307 26.3067C27.7807 26.6774 27.7219 27.0545 27.5612 27.3935C27.4006 27.7324 27.1448 28.0191 26.824 28.2198C26.5033 28.4204 26.1309 28.5267 25.7508 28.526H25.0068V28.5368C25.2967 28.5379 25.5827 28.6012 25.8451 28.7223C26.1075 28.8434 26.3398 29.0194 26.526 29.2379L26.5589 29.2764C26.8032 29.5625 26.9595 29.9114 27.0091 30.2818C27.0588 30.6523 26.9999 31.0291 26.8393 31.3678C26.6787 31.7064 26.4232 31.9929 26.1027 32.1935C25.7822 32.3941 25.4102 32.5004 25.0303 32.5H8.91728C8.46859 32.5002 8.02426 32.4134 7.60966 32.2446C7.19507 32.0758 6.81834 31.8283 6.50099 31.5162C6.18365 31.2041 5.93191 30.8336 5.76016 30.4257C5.5884 30.0179 5.5 29.5808 5.5 29.1393V19.8199H6.85C7.91966 19.8199 8.49287 19.6181 9.14907 18.1249C11.16 13.1555 14.6305 11.3018 14.6305 8.66534V7.82863C14.633 7.54171 14.7506 7.26738 14.9577 7.06536C15.1647 6.86334 15.4446 6.74999 15.7362 6.75H16.0682C16.5994 6.74951 17.1152 6.9252 17.5323 7.24869C17.9495 7.57218 18.2437 8.02458 18.3673 8.53282C18.5022 9.0959 18.5705 9.67242 18.5709 10.2509C18.5703 11.2371 18.3745 12.2137 17.9945 13.1262L17.058 15.379C17.0007 15.5145 16.9783 15.6619 16.9929 15.8079C17.0074 15.954 17.0584 16.0942 17.1413 16.2162C17.2242 16.3382 17.3365 16.4382 17.4682 16.5072C17.5998 16.5762 17.7467 16.6121 17.8959 16.6118H25.7508C26.0404 16.6131 26.3262 16.6764 26.5885 16.7971C26.8508 16.9179 27.0833 17.0934 27.2699 17.3113L27.3028 17.3545C27.5467 17.6406 27.7025 17.9893 27.7519 18.3595C27.8013 18.7298 27.7423 19.1062 27.5818 19.4446C27.4212 19.783 27.1659 20.0692 26.8457 20.2698C26.5255 20.4703 26.1538 20.5767 25.7742 20.5765H25.1478H26.479C26.7688 20.5775 27.0549 20.6408 27.3173 20.7619C27.5797 20.883 27.8121 21.059 27.9981 21.2776L28.0326 21.3177C28.2769 21.6037 28.4331 21.9524 28.4828 22.3227C28.5326 22.6931 28.4738 23.0697 28.3134 23.4083C28.153 23.7469 27.8976 24.0334 27.5774 24.2341C27.2572 24.4348 26.8853 24.5414 26.5056 24.5412L25.0742 24.5505Z",fill:"#0FA958"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.0742 24.5505V24.5597H25.7273C25.9951 24.561 26.2598 24.6152 26.5056 24.7189C26.506 24.719 26.5064 24.7192 26.5068 24.7194C26.5263 24.7276 26.5457 24.7362 26.565 24.7451C26.8274 24.8659 27.0598 25.0414 27.2464 25.2593L27.2793 25.3009C27.5241 25.587 27.6808 25.9359 27.7307 26.3067C27.7326 26.3206 27.7343 26.3346 27.7359 26.3485C27.7761 26.7057 27.7158 27.0672 27.5612 27.3935C27.5549 27.4069 27.5484 27.4202 27.5417 27.4334C27.3802 27.7549 27.1321 28.027 26.824 28.2198C26.5566 28.387 26.2533 28.4887 25.9396 28.5175C25.8794 28.5231 25.8187 28.5259 25.7579 28.526C25.7555 28.526 25.7531 28.526 25.7508 28.526H25.0069L25.0068 28.5368C25.2622 28.5378 25.5146 28.587 25.7505 28.6815C25.7504 28.6815 25.7506 28.6816 25.7505 28.6815C25.7822 28.6943 25.814 28.7079 25.8451 28.7223C26.1075 28.8434 26.3398 29.0194 26.526 29.2379L26.5589 29.2764C26.8032 29.5625 26.9595 29.9113 27.0091 30.2818C27.0588 30.6523 26.9999 31.0291 26.8393 31.3678C26.8322 31.3827 26.825 31.3975 26.8175 31.4123C26.6561 31.7315 26.409 32.0018 26.1027 32.1935C25.7822 32.3941 25.4102 32.5004 25.0303 32.5H8.91728C8.46859 32.5002 8.02426 32.4134 7.60966 32.2446C7.19507 32.0758 6.81834 31.8283 6.50099 31.5162C6.18365 31.2041 5.93191 30.8336 5.76016 30.4257C5.5884 30.0179 5.5 29.5808 5.5 29.1393V19.8199H6.85C7.91966 19.8199 8.49287 19.6181 9.14907 18.1249C10.1339 15.6911 11.4689 14.0047 12.5748 12.6076C13.727 11.152 14.6305 10.0106 14.6305 8.66534V7.82863C14.633 7.54171 14.7506 7.26738 14.9577 7.06536C15.1647 6.86333 15.4446 6.74999 15.7362 6.75H16.0682C16.5994 6.74951 17.1152 6.9252 17.5323 7.24869C17.9495 7.57218 18.2437 8.02458 18.3673 8.53282C18.5022 9.0959 18.5705 9.67242 18.5709 10.2509C18.5703 11.2371 18.3745 12.2137 17.9945 13.1262L17.058 15.379C17.0007 15.5145 16.9783 15.6619 16.9929 15.8079C17.0074 15.954 17.0584 16.0942 17.1413 16.2162C17.2242 16.3382 17.3365 16.4382 17.4682 16.5072C17.5998 16.5762 17.7467 16.6121 17.8959 16.6118H25.7508C26.0404 16.6131 26.3262 16.6764 26.5885 16.7971C26.8508 16.9179 27.0833 17.0934 27.2699 17.3113L27.3028 17.3545C27.3916 17.4587 27.4687 17.5711 27.5333 17.6899C27.646 17.8974 27.7205 18.1241 27.7519 18.3595C27.8013 18.7298 27.7423 19.1062 27.5818 19.4446C27.4212 19.783 27.1659 20.0692 26.8457 20.2698C26.7297 20.3424 26.6069 20.4027 26.4794 20.45C26.4793 20.4501 26.4796 20.45 26.4794 20.45C26.2558 20.5331 26.0174 20.5764 25.7761 20.5765H26.479C26.6908 20.5772 26.9005 20.6112 27.1005 20.6767C27.1742 20.7008 27.2466 20.7292 27.3173 20.7619C27.5797 20.883 27.8121 21.059 27.9981 21.2776L28.0326 21.3177C28.2769 21.6037 28.4331 21.9524 28.4828 22.3227C28.486 22.3465 28.4888 22.3703 28.4911 22.3941C28.5035 22.5228 28.5029 22.6519 28.4896 22.7795C28.4671 22.9963 28.4078 23.2089 28.3134 23.4083C28.153 23.7469 27.8976 24.0334 27.5774 24.2341C27.3012 24.4072 26.9866 24.5103 26.6617 24.5353C26.6099 24.5393 26.5578 24.5413 26.5056 24.5412L25.7273 24.5463L25.0742 24.5505ZM30.6292 19.7802C31.0668 20.4164 31.3522 21.1496 31.4561 21.9234C31.5833 22.8701 31.4325 23.8314 31.0246 24.6926C30.9059 24.9431 30.7671 25.1818 30.6102 25.4067C30.6498 25.5708 30.6811 25.7375 30.7039 25.9061C30.8315 26.8538 30.6807 27.8162 30.2721 28.6783C30.1597 28.9155 30.0293 29.142 29.8825 29.3563C29.9252 29.5293 29.9587 29.7051 29.9825 29.8831C30.1095 30.8302 29.9584 31.7918 29.55 32.6531C29.1418 33.514 28.4957 34.2349 27.6943 34.7365C26.8943 35.2372 25.9703 35.5004 25.0303 35.5C25.0299 35.5 25.0295 35.5 25.0291 35.5C25.0284 35.5 25.0277 35.5 25.027 35.5L8.91864 35.5C8.91819 35.5 8.91774 35.5 8.91728 35.5C8.08167 35.5002 7.25308 35.3386 6.4784 35.0231C5.70321 34.7075 4.99568 34.2435 4.39746 33.6552C3.79913 33.0667 3.32186 32.3655 2.99533 31.5901C2.66875 30.8146 2.5 29.9817 2.5 29.1393V16.8199H6.44186C7.5825 14.0786 9.10204 12.1602 10.1873 10.7901C10.2224 10.7458 10.2571 10.702 10.2913 10.6587C10.8805 9.91414 11.2289 9.45761 11.4543 9.0645C11.5547 8.8895 11.5982 8.78019 11.6169 8.72094C11.6258 8.69274 11.6288 8.67673 11.6298 8.67077L11.6305 8.66562L11.6305 7.81567L11.6306 7.80272C11.6401 6.70885 12.0887 5.67306 12.8628 4.91793C13.6352 4.1644 14.6688 3.74999 15.7362 3.75M30.6292 19.7802C30.773 19.1888 30.807 18.5728 30.7255 17.9626C30.6037 17.0498 30.2293 16.1933 29.6503 15.4855L29.6042 15.425L29.5489 15.3604C29.0789 14.8114 28.4963 14.3728 27.8434 14.0722C27.1906 13.7716 26.4815 13.6151 25.7646 13.6118L21.0159 13.6118C21.382 12.5311 21.5702 11.3969 21.5709 10.2528L21.5709 10.2489C21.5703 9.43548 21.4743 8.62505 21.2847 7.8339L21.2823 7.82375C20.9966 6.64915 20.3191 5.61336 19.3707 4.87796C18.424 4.14383 17.2605 3.74951 16.0682 3.75C16.0679 3.75 16.0685 3.75 16.0682 3.75H15.7362",fill:"white"}),(0,o.jsx)("path",{d:"M29.0719 19.3222C29.2063 18.9071 29.7937 18.9071 29.9281 19.3222L31.3273 23.6435C31.3675 23.7678 31.4598 23.8685 31.5801 23.9194L35.5199 25.5855C35.8862 25.7404 35.8862 26.2595 35.5199 26.4145L31.5801 28.0806C31.4598 28.1315 31.3675 28.2321 31.3273 28.3564L29.9281 32.6777C29.7937 33.0929 29.2063 33.0929 29.0719 32.6777L27.6727 28.3564C27.6325 28.2321 27.5402 28.1315 27.4199 28.0806L23.48 26.4145C23.1137 26.2595 23.1137 25.7404 23.48 25.5855L27.4199 23.9194C27.5402 23.8685 27.6325 23.7678 27.6727 23.6435L29.0719 19.3222Z",fill:"url(#paint0_linear_1972_66634)"}),(0,o.jsx)("path",{d:"M29.0719 19.3222C29.2063 18.9071 29.7937 18.9071 29.9281 19.3222L31.3273 23.6435C31.3675 23.7678 31.4598 23.8685 31.5801 23.9194L35.5199 25.5855C35.8862 25.7404 35.8862 26.2595 35.5199 26.4145L31.5801 28.0806C31.4598 28.1315 31.3675 28.2321 31.3273 28.3564L29.9281 32.6777C29.7937 33.0929 29.2063 33.0929 29.0719 32.6777L27.6727 28.3564C27.6325 28.2321 27.5402 28.1315 27.4199 28.0806L23.48 26.4145C23.1137 26.2595 23.1137 25.7404 23.48 25.5855L27.4199 23.9194C27.5402 23.8685 27.6325 23.7678 27.6727 23.6435L29.0719 19.3222Z",fill:"url(#paint1_linear_1972_66634)"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.6727 23.6435C27.6325 23.7678 27.5402 23.8685 27.4199 23.9194L23.48 25.5855C23.1137 25.7404 23.1137 26.2595 23.48 26.4145L27.4199 28.0806C27.5402 28.1315 27.6325 28.2321 27.6727 28.3564L29.0719 32.6777C29.2063 33.0929 29.7937 33.0929 29.9281 32.6777L31.3273 28.3564C31.3675 28.2321 31.4598 28.1315 31.5801 28.0806L35.5199 26.4145C35.8862 26.2595 35.8862 25.7404 35.5199 25.5855L31.5801 23.9194C31.4598 23.8685 31.3675 23.7678 31.3273 23.6435L29.9281 19.3222C29.7937 18.9071 29.2063 18.9071 29.0719 19.3222L27.6727 23.6435ZM33.8223 21.6104L32.7822 18.3981C31.7516 15.2151 27.2484 15.2151 26.2177 18.3981L25.1777 21.6104L22.3116 22.8224C19.5033 24.0101 19.5032 27.9899 22.3116 29.1775L25.1777 30.3896L26.2177 33.6018C27.2483 36.7849 31.7516 36.7849 32.7822 33.6018L33.8223 30.3896L36.6884 29.1775C39.4967 27.9899 39.4968 24.0101 36.6884 22.8225L33.8223 21.6104Z",fill:"white"})]}),(0,o.jsxs)("defs",{children:[(0,o.jsxs)("filter",{id:"filter0_d_1972_66634",x:"-1.5",y:"-1",width:"43",height:"43",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dy:"0.5"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"0.75"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1972_66634"}),(0,o.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1972_66634",result:"shape"})]}),(0,o.jsxs)("linearGradient",{id:"paint0_linear_1972_66634",x1:"23.2053",y1:"19.0109",x2:"35.3845",y2:"33.3378",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#F7C000"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#E8B604"})]}),(0,o.jsxs)("linearGradient",{id:"paint1_linear_1972_66634",x1:"35.7947",y1:"32.9891",x2:"23.6155",y2:"18.6622",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0"}),(0,o.jsx)("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),(0,o.jsx)("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),(0,o.jsx)("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]})}function jK(){return(0,o.jsxs)("div",{className:"vote_graphic--stampContainer--Gg9nN","aria-hidden":"true",children:[(0,o.jsx)("div",{className:"vote_graphic--sticky--5vnwr",children:(0,o.jsx)(jH,{})}),(0,o.jsx)("div",{className:"vote_graphic--plusOneStamp--lqNsf vote_graphic--stamp---bJ3m",children:(0,o.jsx)(jV,{})}),(0,o.jsx)("div",{className:"vote_graphic--heartStamp--EhTYO vote_graphic--stamp---bJ3m",children:(0,o.jsx)(jG,{})}),(0,o.jsx)("div",{className:"vote_graphic--thumbsUpStamp--d1jHf vote_graphic--stamp---bJ3m",children:(0,o.jsx)(jW,{})})]})}function jz({recordingKey:e}){let t=(0,d.wA)(),i=(0,jA.Pd)(l.useCallback(()=>{t(jx.H1({votingStage:c.W8Y.JOINED}))},[t]));return(0,o.jsxs)("div",{className:eT.s.flex.flexColumn.p16.$,children:[(0,o.jsx)("div",{className:eT.s.flex.gap8.itemsCenter.mb8.$,children:(0,o.jsx)(jK,{})}),(0,o.jsx)("div",{className:eT.s.flex.justifyCenter.$,children:(0,o.jsx)(bS,{onClick:i,recordingKey:e2.Pt(e,"joinVotingSession"),children:(0,A.tx)("meetings_panel.voting.join_vote")})})]})}var jZ=i(335032),j$=i(408237);let jY="create_new_vote_view--stepperButtonWrapper--MA6-g",jq=e=>{let t=null;try{t=parseInt(e,10)}catch(e){}return t};function jX(){let e=(0,d.wA)(),t=(0,G.tS)(),{title:i,userVoteLimit:n}=(0,d.d4)(e=>e.voting.votingParams),r=(0,d.d4)(e=>!e.user),a=(0,rT.oh)(jx.$c(t||"")),[s,c]=l.useState(n.toString());(0,l.useEffect)(()=>{let t=jq(s);t&&e(jx.hL(t))},[s,e]);let u=r||a;return(0,o.jsxs)("div",{className:eT.s.flex.flexColumn.p16.gap12.$,children:[(0,o.jsx)(jK,{}),(0,o.jsx)(jJ,{userVoteLimitInput:s,setUserVoteLimitInput:c,title:i,isTitleDisabled:u,isLimitDisabled:u,userVoteLimit:n,setTitle:l.useCallback(t=>e(jx.D6(t)),[e])})]})}function jJ(e){let t=l.useRef(null),i=(0,d.wA)(),n=(0,G.tS)(),r=(0,d.d4)(e=>!e.user),a=(0,rT.oh)(jx.$c(n||"")),s=(0,d.d4)(e=>e.multiplayer.allUsers.length),c=(0,uy.Fk)(e=>e.getCurrentPage()?.guid),u=j_.NE()?.id,p=r||a||!c,{userVoteLimitInput:h,userVoteLimit:m,title:f,setTitle:x,isLimitDisabled:_,isTitleDisabled:g,setUserVoteLimitInput:b}=e,j=l.useCallback(e=>{let t=parseInt(h);(t+=e)<1||t>99||b(t.toString())},[b,h]),y=l.useCallback(e=>{"ArrowUp"===e.key||"ArrowDown"===e.key?(j("ArrowUp"===e.key?1:-1),e.preventDefault()):("Enter"===e.key||"Escape"===e.key)&&t.current?.blur()},[j]),v=l.useCallback(()=>{t.current?.select()},[t]),C=l.useCallback(e=>{if(!e.currentTarget.value.match(/^(\s*|\d+)$/)){e.preventDefault();return}b(e.currentTarget.value)},[b]),T=l.useCallback(e=>{let i=t.current.value,n=jq(h);(""===i||!n||isNaN(n)||n<1)&&b("1")},[h,b]),E=(0,A.t)("voting.modal.voting_setup_responsive_placeholder_prompt",{numVotes:m}),S=(0,jA.Pd)(l.useCallback(()=>{if(!c)throw Error("Cannot start a voting session since currentPageNodeId is null");i(jx.vt({source:"voting_modal",usedCustomTitle:""!==f,requestBody:{title:f,in_progress:!0,user_vote_limit:m,num_people_in_file:s,page_node_id:c,voting_session_id_to_end:u},uiSurface:"MeetingsPanel"}))},[i,f,m,s,c,u]));return(0,o.jsxs)("div",{className:"create_new_vote_view--container--mzVZ7",children:[(0,o.jsx)(j$.L,{"aria-label":(0,A.t)("voting.modal.voting_setup_prompt_input_field_aria_label"),autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:"create_new_vote_view--promptInput--Fd2W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",disabled:g,onChange:e=>x(e.target.value),placeholder:E,spellCheck:!1,value:f}),(0,o.jsxs)("div",{className:"create_new_vote_view--voteLimitContainer--ga1AC",children:[(0,o.jsxs)("div",{className:"create_new_vote_view--voteLimitControls--7D-Fi",children:[(0,o.jsx)("div",{className:jY,children:(0,o.jsx)(eu.K,{onClick:()=>{_||j(-1)},"aria-label":(0,A.t)("voting.modal.reduce_limit_tooltip_aria_label"),"aria-disabled":_,children:(0,o.jsx)(jZ.f,{})})}),(0,o.jsx)("input",{ref:t,"aria-label":(0,A.t)("voting.modal.voting_limit_input_field_aria_label"),className:"create_new_vote_view--limitInput--1dzSR create_new_vote_view--promptInput--Fd2W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",disabled:_,inputMode:"numeric",maxLength:2,onBlur:T,onChange:C,onFocus:v,onKeyDown:y,type:"text",value:h}),(0,o.jsx)("div",{className:jY,children:(0,o.jsx)(eu.K,{onClick:()=>{_||j(1)},"aria-label":(0,A.t)("voting.modal.increase_limit_tooltip_aria_label"),"aria-disabled":_,children:(0,o.jsx)(bD.x,{})})})]}),(0,o.jsx)(bS,{flexGrow:!0,onClick:S,disabled:p,"data-tooltip-type":r?ii.Ib.TEXT:void 0,"data-tooltip":r?(0,A.t)("voting.modal.start_disabled_logged_out_tooltip"):void 0,recordingKey:"votingModalStartVotingSession",children:(0,o.jsx)("span",{children:(0,A.tx)("voting.modal.start_voting_session")})})]})]})}var jQ=i(992395);function j0(e){let{setOnPastVotesClick:t,setOnNewSessionClick:i,recordingKey:n}=e,r=(0,G.tS)(),a=void 0!==t;return(0,o.jsxs)("div",{className:eT.s.flex.flexColumn.p16.$,children:[(0,o.jsx)("div",{className:eT.s.flex.gap8.itemsCenter.mb12.$,children:(0,o.jsx)(jK,{})}),(0,o.jsxs)("div",{className:eT.s.flex.gap6.justifyCenter.$,children:[a&&(0,o.jsx)(bE,{flexGrow:a,onClick:()=>{(0,eb.sx)("view_past_voting_sessions",{source:"meetings_panel",fileKey:r}),t()},recordingKey:e2.Pt(n,"viewPastVotingSessions"),children:(0,A.tx)("meetings_panel.voting.view_past_results_prompt")}),!h.Ay.isMeetDevice&&(0,o.jsx)(bS,{flexGrow:a,onClick:()=>{(0,eb.sx)("creating_new_vote_start",{source:"meetings_panel",fileKey:r}),i()},recordingKey:e2.Pt(n,"newVote"),children:(0,o.jsx)("div",{className:eT.s.px4.$,children:(0,A.tx)("meetings_panel.voting.new_vote")})})]})]})}function j1({recordingKey:e}){let[t,i]=l.useState(!1),n=(0,jA.Ld)(),r=(0,p.Xr)(jQ.Qs),a=(0,jA.Pd)(l.useCallback(()=>{i(!0)},[])),s=(0,jA.Pd)(l.useCallback(()=>{r({type:"SET_VIEW",payload:jQ.iN.PAST_VOTES})},[r]));return t?(0,o.jsx)(jX,{}):(0,o.jsx)(j0,{setOnPastVotesClick:n?s:void 0,setOnNewSessionClick:a,recordingKey:e})}function j2(){let e=(0,d.d4)(e=>e.mirror.appModel.votingSessionInfo),t=(0,d.d4)(e=>e.mirror.appModel.votingSessionInfo),i="meetingsPanel";switch(t.votingStage){case c.W8Y.JOINED:return(0,o.jsx)(jB,{votingSessionInfo:e,recordingKey:i});case c.W8Y.NOT_JOINED:return(0,o.jsx)(jz,{recordingKey:i});case c.W8Y.NO_SESSION:case c.W8Y.ENDED:return(0,o.jsx)(j1,{recordingKey:i})}}var j3=i(913518),j5=i(918700);let j6="meetings_panel",j4=(0,dz.Ju)(function({votingSessionId:e}){let t=(0,d.wA)(),i=(0,G.tS)(),n=()=>{(0,eb.sx)("cancel_delete_voting_session",{source:j6,votingSessionId:e,fileKey:i})};return(0,o.jsx)(j5.yX,{cancelText:(0,A.t)("voting.modal.delete_voting_session_modal_cancel_button"),confirmText:(0,A.t)("voting.modal.delete_voting_session_modal_confirm_button"),confirmationTitle:(0,A.t)("voting.modal.delete_voting_session_modal_header"),content:(0,A.t)("voting.modal.delete_voting_session_modal_description"),destructive:!0,disableClickOutsideToHide:!0,hideCancel:!1,hideOnConfirm:!0,onCancel:n,onCloseButtonClick:n,onConfirm:()=>{t(jx.$l({votingSessionId:e})),t(jx.H1({votingStage:c.W8Y.NO_SESSION})),(0,eb.sx)("confirm_delete_voting_session",{source:j6,votingSessionId:e,fileKey:i})},popStack:!0,recordingKey:"deleteVotingSessionModal",size:"small"})},"DeleteVotingSessionModal",dz.ZU.YES);var j9=i(986103);function j8({recordingKey:e,onClick:t}){let i=(0,j_.jz)(),[n,r]=(0,l.useState)(null);return(0,o.jsx)(o.Fragment,{children:i&&i.length>0?(0,o.jsx)(ev.P,{className:"previous_votes_view--scrollContainer--Jb0sL",children:(0,o.jsx)("ol",{className:"previous_votes_view--resultsList--IWpfo",children:i.map((i,a,s)=>{let l=s[a+1]?.id,d=i.id!==n&&(!l||l!==n)&&!!l;return(0,o.jsx)(j7,{createdAt:i.createdAt,id:i.id,onClick:t,recordingKey:e,setAsHovered:()=>r(i.id),setAsNotHovered:()=>r(e=>e===i.id?null:e),shouldShowSeparator:d,title:(0,jA.DG)(i),userId:i.userId},i.id)})})}):(0,o.jsxs)("div",{className:"previous_votes_view--nullResultsList--xAcum",children:[(0,o.jsx)("p",{className:"previous_votes_view--nullResultsListTextHeader--vWsPe previous_votes_view--nullResultsListText--qaiMF text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,A.tx)("voting.modal.previous_votes_null_text_title")}),(0,o.jsx)("p",{className:"previous_votes_view--nullResultsListTextDescription--CNedi previous_votes_view--nullResultsListText--qaiMF text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,A.tx)("voting.modal.after_you_vote_results_will_show_up_right_here")})]})})}function j7({title:e,id:t,userId:i,createdAt:n,shouldShowSeparator:r,setAsHovered:a,setAsNotHovered:s,recordingKey:l,onClick:u}){let p=(0,d.wA)(),h=(0,G.tS)();return(0,o.jsx)("li",{children:(0,o.jsxs)(e4.E,{recordingKey:e2.Pt(l,"viewPastVotingSession"),className:e_()("previous_votes_view--previousVotesListItem--77yUn",r&&"previous_votes_view--showSeparator--nHjDd"),onClick:()=>{(0,eb.sx)("view_past_voting_session",{votingSessionId:t,source:"meetings_panel",fileKey:h}),p(jx.H1({sessionId:t,votingStage:c.W8Y.ENDED})),u()},htmlAttributes:{onMouseEnter:()=>a(),onMouseLeave:()=>s()},children:[(0,o.jsx)("div",{className:"previous_votes_view--title--ndUJI text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",children:e}),(0,o.jsxs)("div",{className:"previous_votes_view--previousVotesListItemMetadata--BDnIc",children:[(0,o.jsx)(ye,{userId:i}),(0,o.jsx)("div",{className:"previous_votes_view--timestamp--A1VKx",children:(0,o.jsx)(j9.h1,{date:n})})]})]})})}function ye({userId:e}){let{user:t,loading:i}=(0,I.wW)(e);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(jj.v,{userId:e,user:t,loading:i,size:24,loadingClassName:"previous_votes_view--loadingAvatar--JzmIH",defaultClassName:"previous_votes_view--userAvatarPadding---Zhpj"}),(0,o.jsx)(jj.m,{userId:e,user:t,loading:i,defaultClassName:"previous_votes_view--username--l6MHn text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",loadingClassName:"previous_votes_view--loadingUsername--VL2uA"})]})}var yt=i(989956),yi=i(974031),yn=i(298911),yr=i(460810),ya=i(995608);function ys(){return(0,o.jsx)("div",{className:"figjam_panel_separator--separator--D-ffn"})}var yo=i(728075);let yl=new Map([["STICKY",ya.BV],["TEXT",ya.N$],["FRAME",ya.H0],["SYMBOL",ya.yc],["ROUNDED_RECTANGLE",ya.xf],["CODE_BLOCK",ya.I5]]),yd=["ROUNDED_RECTANGLE","SYMBOL","FRAME"],yc=l.memo(({votingSessionInfo:e})=>{let t=(0,j_.jz)(),i=t?.find(t=>t.id===e.sessionId),n=(0,l.useMemo)(()=>[...e.votedNodes].sort((e,t)=>{let i=(0,jA.oC)(e),n=(0,jA.oC)(t);return i!==n?n-i:e.guid.localeCompare(t.guid)}),[e]),r=(0,l.useMemo)(()=>(0,jA.yn)(e.votedNodes),[e.votedNodes]);if(!i)return null;let a=!!n.length;return(0,o.jsxs)("div",{className:eT.s.flex.flexColumn.minH0.flexGrow1.$,children:[(0,o.jsx)("div",{className:"voting_results_detail_view--titleContainer--gt1pA",children:(0,o.jsx)(jU,{title:(0,jA.DG)(i)})}),(0,o.jsxs)("div",{className:"voting_results_detail_view--byline--Fye6w",children:[(0,o.jsx)(jP,{votingSessionInfo:e}),(0,o.jsx)("p",{className:"voting_results_detail_view--bylineTimestamp--3Ugv4 text--fontPos12--YsUAh text--_fontBase--QdLsd",children:(0,o.jsx)(j9.h1,{date:i.createdAt})})]}),a&&(0,o.jsx)(ys,{}),a&&(0,o.jsx)(ev.P,{children:(0,o.jsx)("ol",{className:"voting_results_detail_view--resultsList---owZd",children:n.map((e,t)=>{let i=1===r.size&&r.has(e.guid);return(0,o.jsx)(yu,{isMostVoted:i,nodeVoteInfo:e,nextNodeId:n[t+1]?.guid??null},e.guid)})})})]})});function yu({nodeVoteInfo:e,nextNodeId:t,isMostVoted:i}){let n=e.guid,r=(0,uy.g0)(n),a=(0,uj.Z)("figjam_voting"),s=(0,d.wA)(),c=(0,d.d4)(e=>e.voting.selectedVotePinId===n),u=(0,d.d4)(e=>!!t&&e.voting.selectedVotePinId===t),p=(0,d.d4)(e=>e.voting.hoveredInModalVotePinId===n),m=(0,d.d4)(e=>!!t&&e.voting.hoveredInModalVotePinId===t),f=l.useContext(yn.kw);(0,l.useEffect)(()=>{if(p)return()=>{s(jx.gA({votePinId:n}))}},[p,s,n]);let x=function(e){if(!e)return yo.xr;let t=e.whiteboardColor,i=(0,fg.BV)(t,"STICKY"===e.type?"sticky":"base");return i?yt.F.format(i):yo.xr}(r),_=r&&r.isAlive?"SHAPE_WITH_TEXT"===r.type?function(e){switch(e){case"SQUARE":return ya.dH;case"ELLIPSE":return ya.Yl;case"ROUNDED_RECTANGLE":return ya.EW;case"TRIANGLE_UP":return ya.D5;case"TRIANGLE_DOWN":return ya.kj;case"PARALLELOGRAM_RIGHT":return ya.h9;case"PARALLELOGRAM_LEFT":return ya._K;case"ENG_DATABASE":return ya.rQ;case"ENG_QUEUE":return ya.pt;case"ENG_FILE":return ya.ak;case"ENG_FOLDER":return ya.Mi;case"TRAPEZOID":return ya.qn;case"PREDEFINED_PROCESS":return ya.dA;case"SHIELD":return ya.lm;case"PENTAGON":return ya.Un;case"OCTAGON":return ya.JK;case"HEXAGON":return ya.CB;case"PLUS":return ya.c1;case"STAR":return ya.Gg;case"MANUAL_INPUT":return ya.Cu;case"DOCUMENT_SINGLE":return ya.R8;case"DOCUMENT_MULTIPLE":return ya.H$;case"CHEVRON":return ya.zp;case"ARROW_LEFT":case"ARROW_RIGHT":return ya.HK;case"SUMMING_JUNCTION":return ya.QZ;case"OR":return ya.Vq;case"SPEECH_BUBBLE":return ya.QD;case"INTERNAL_STORAGE":return ya.sJ;default:return(0,tg.x1)("voting","error unhandled shape type for shapeTypeToSvg",{shapeType:e}),ya._K}}(r.shapeWithTextType):yl.get(r.type)||ya.BV:ya.BV,g=!!r&&yd.includes(r.type),b=(()=>{if(!r)return{width:0,height:0};let e=r.absoluteBoundingBox,t=e.w,i=e.h,n=Math.min(t/72,i/72);return{width:t/n,height:i/n}})(),j=(0,yi.ai)({nodeId:n,width:b.width,height:b.height,shouldSkip:!g}),y=(0,l.useMemo)(()=>{if(r){if(r.textSublayer)return r.textSublayer.textContent;if(r.textContent)return r.textContent;if(r.name)return r.name}return""},[r]),v=(0,jA.oC)(e);function C(){(0,h.aJ)()&&s(jx.Vw({votePinId:n}))}function T(){(0,h.aJ)()&&s(jx.gA({votePinId:n}))}return(0,o.jsx)("li",{children:(0,o.jsxs)(e4.E,{className:e_()("voting_results_detail_view--resultsListItemButton--4llQi",{"voting_results_detail_view--resultsListItemButtonWinner--6bIhk":i,"voting_results_detail_view--resultsListItemButtonSelected--Z3vdm":c,"voting_results_detail_view--showSeparator--6aQOA":!c&&!u&&!p&&!m&&!!t}),onClick:function(){s(jx.w9({votePinId:e.guid})),r&&a((0,yr.e)(r,f,"vote"))},"aria-describedby":n,htmlAttributes:{onMouseEnter:C,onMouseLeave:T,onFocus:C,onBlur:T},children:[(0,o.jsx)("div",{className:"voting_results_detail_view--resultsListItemCountContainer--1fD-h",children:(0,o.jsx)("div",{className:"voting_results_detail_view--resultsListItemCountText--m6rWN text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,A.tx)("voting.modal.votes",{numVotes:v,numVotesElem:(0,o.jsx)("p",{className:"voting_results_detail_view--resultsListItemCount--DLrXt text--fontPos13--xW8hS text--_fontBase--QdLsd",children:v})})})}),(0,o.jsx)("p",{className:"voting_results_detail_view--resultsListItemDetails--hz7gX text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",children:y}),(0,o.jsxs)("div",{className:"voting_results_detail_view--resultsListItemThumbnail--Qjux6",children:[j&&g?(0,o.jsx)("img",{className:"voting_results_detail_view--nodePreviewImage--fugfT",src:j.src,width:j.displaySize.x,height:j.displaySize.y,alt:(0,A.t)("voting.modal.voting_results_image_preview_alt")}):(0,o.jsx)(_,{color:x}),i&&(0,o.jsx)("img",{src:ya.G7,className:"voting_results_detail_view--medal--JzOBO",alt:(0,A.t)("voting.modal.medal_img_alt")})]})]})})}var yp=i(976845),yh=i(215698),ym=i(539422);function yf(e){let{headerText:t,goBack:i,options:n,onMinimize:r,onOptionsMenuClick:a,recordingKey:s,backButtonRef:l}=e;return(0,o.jsxs)("div",{className:"meetings_panel_header--meetingsPanelPageContainer--TK5qd",children:[(0,o.jsx)(yx,{headerText:t,goBack:i,options:n,onMinimize:r,onOptionsMenuClick:a,recordingKey:s,backButtonRef:l}),(0,o.jsx)(ys,{}),e.children]})}let yx=l.memo(e=>{let{headerText:t,goBack:i,options:n,onMinimize:r,onOptionsMenuClick:a,recordingKey:s,backButtonRef:d}=e,{Dropdown:c,toggleDropdown:u,dropdownTargetRef:p,isDropdownShown:m}=(0,ym.B)("MEETINGS_PANEL_HEADER_OVERFLOW_MENU"),f=l.useCallback(e=>{a?.(),u()},[u,a]),x=l.useMemo(()=>n&&n.length>0?n.map(e=>({displayText:e.text,isChecked:!1,callback:e.callback,recordingKey:e.recordingKey})):null,[n]);return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"meetings_panel_header--meetingsPanelHeader--6cBGV",children:[(0,o.jsx)(eu.K,{"aria-label":(0,A.t)("general.back"),onClick:i,actionOnPointerDown:h.Ay.isIpad,recordingKey:e2.Pt(s,"backButton"),ref:d,children:(0,o.jsx)(ep.C,{})}),t&&(0,o.jsx)("span",{className:"meetings_panel_header--meetingsPanelHeaderText--KW2Jw text--fontPos11--2LvXf text--_fontBase--QdLsd",children:t}),(0,o.jsx)("div",{className:eT.s.mlAuto.$,ref:p,children:x&&(0,o.jsx)(yp.d,{"aria-label":(0,A.t)("meetings_panel.header.overflow_menu_aria_label"),onClick:f,htmlAttributes:{"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":(0,A.t)("meetings_panel.header.overflow_menu_aria_label")},recordingKey:e2.Pt(s,"expandMenuItems"),"aria-expanded":m,children:(0,o.jsx)(yh.A,{})})}),(0,o.jsxs)("div",{children:[x&&(0,o.jsx)(c,{items:x,showPoint:!0,minWidth:135,recordingKey:e2.Pt(s,"expandMenuItems")}),r&&(0,o.jsx)(eu.K,{onClick:r,"aria-label":(0,A.t)("common.close"),children:(0,o.jsx)(em.A,{})})]})]})})}),y_="meetings_panel";function yg(){let e=(0,d.d4)(e=>e.mirror.appModel.votingSessionInfo),t=l.useMemo(()=>e&&e.sessionId.length>0,[e]),i=(0,d.wA)(),n=(0,p.Xr)(jQ.Qs),r=(0,j3.qU)(),a=(0,d.Pj)(),s=(0,F.am)(),u="pastVotingSessions",m=l.useRef(null),f=l.useCallback(()=>{m.current?.focus()},[]);l.useLayoutEffect(()=>{f()},[f]);let x=l.useCallback(()=>{t?i(jx.H1({votingStage:c.W8Y.NO_SESSION})):n({type:"SET_VIEW",payload:jQ.iN.DEFAULT})},[t,i,n]),_=l.useCallback(()=>{r({source:j3.OO.MEETINGS_PANEL})},[r]),g=l.useCallback(()=>{s("click_voting_results_more_options",{votingSessionId:e.sessionId,source:y_})},[s,e]),b=l.useCallback(()=>{i(nZ.$O({type:j4.type,showModalsBeneath:!0,data:{votingSessionId:e.sessionId}})),s("click_delete_voting_session",{votingSessionId:e.sessionId,source:y_})},[i,e,s]),j=l.useCallback(()=>{s("click_export_voting_session_as_csv",{votingSessionId:e.sessionId,source:y_}),jx.Ev(a.getState(),e.sessionId)},[a,e,s]),y=l.useMemo(()=>{if(t){let e=[{text:(0,A.t)("voting.modal.actions.delete_voting_session"),callback:b,recordingKey:"votingModalDeleteVotingSession"}];return h.Ay.isIpadNative||e.unshift({text:(0,A.t)("voting.modal.actions.export_as_csv"),callback:j,recordingKey:"votingModalExportAsCsv"}),e}},[t,j,b]);return(0,o.jsx)(yf,{headerText:(0,A.t)("meetings_panel.voting.results"),goBack:x,onMinimize:_,onOptionsMenuClick:g,options:y,recordingKey:u,backButtonRef:m,children:t?(0,o.jsx)(yc,{votingSessionInfo:e}):(0,o.jsx)(j8,{recordingKey:u,onClick:f})})}var yb=i(194956),yj=i(778125);let yy="volume_slider--thick--OwB1Y";var yv=(e=>(e.LEFT="LEFT",e.RIGHT="RIGHT",e.CENTER="CENTER",e.INLINE="INLINE",e))(yv||{});function yC({muteButtonRef:e,volumeJustification:t,fullWidth:i,isMinimized:n}){let r=(0,d.d4)(e=>e.music.isMuted),a=(0,d.d4)(e=>r?0:e.music.volume),s=(0,d.wA)(),l=e=>{e.preventDefault(),e.stopPropagation();let t=Number(e.target.value);s(g3.pX(t))},c=0,u=0;if("INLINE"!==t){let i=e.current?.getClientRects()[0];if(!i)return(0,o.jsx)(o.Fragment,{children:" "});c=i.x,"CENTER"===t?c+=(i.width-144)/2:"RIGHT"===t&&(c=c+i.width-144),u=(i.y||0)+32+5}let p=a-(a-50)/50*3.8;return(0,o.jsxs)("div",{className:e_()("volume_slider--volumeContainer--jqCRj",{"volume_slider--volumeContainerRelative--2bSYx":"INLINE"===t,[yy]:!n,"volume_slider--fullWidth--jnzDi":i}),style:{left:`${c||0}px`,top:`${u}px`},children:[(0,o.jsx)("input",{className:e_()("volume_slider--volumeSliderInput--RHbwq",{"volume_slider--isMuted--cDjt7":r,[yy]:!n}),max:100,min:0,onChange:l,onInput:l,onMouseUp:e=>{let t=Number(e.target.value);s(g3.tk({isMuted:0===t,userInitiated:!0}))},onTouchEnd:e=>{e.preventDefault(),e.stopPropagation()},step:1,style:{background:`linear-gradient(to right,
            var(--active-slider-color) 0%,
            var(--active-slider-color) ${p}%,
            var(--inactive-slider-color) ${p}%,
            var(--inactive-slider-color) 100%
          )`},type:"range",value:a}),"INLINE"!==t&&(0,o.jsx)("div",{className:e_()({"volume_slider--additionalHoverDetection--IDArn":!n,"volume_slider--shallowAdditionalHoverDetection---8pNd":n})})]})}var yT=i(861766),yE=i(142056),yS=i(164251),yw=i(871455),yI=(e=>(e.DEFAULT="default",e.ON_FIGJAM="onFigjam",e.FIGJAM="figjam",e))(yI||{});let yL=(e,t)=>t||0===e?yw.A:e<40?yE.A:e<80?yS.A:yT.A;var yN=(e=>(e.DEFAULT="default",e.LARGE="large",e))(yN||{});function yA(e){let{isMinimized:t,withDarkHoverBg:i,muteButtonRef:n,muteOnTouch:r,iconColor:a,blockTooltip:s,size:c}=e,u=(0,d.d4)(e=>e.music.volume),p=(0,d.d4)(e=>e.music.isMuted),h=(0,d.wA)(),m=l.useCallback(()=>{h(g3.tk({isMuted:!p,userInitiated:!0}))},[h,p]),f=l.useCallback(e=>{e.preventDefault(),e.stopPropagation(),m()},[m]);return(0,o.jsx)("div",{onTouchEnd:r?f:ed.lQ,children:(0,o.jsx)(yj.K0,{onClick:m,className:e_()("volume_control_button--button--6JyR-",{"volume_control_button--minimized--esj8w":t,"volume_control_button--withDarkHoverBg--p-OS1":i,"volume_control_button--defaultSpeakerColor--ZF9o2":"default"===a,"volume_control_button--figjamSpeakerColor--0W5TO":"figjam"===a,"volume_control_button--onFigjamSpeakerColor--KEcX8":"onFigjam"===a,"volume_control_button--large--BF5Mq":"large"===c}),svg:yL(u,p),"data-tooltip-type":ii.Ib.TEXT,tooltipForScreenReadersOnly:s,"data-tooltip":p?(0,A.t)("whiteboard.timer.timer_unmute_tooltip"):(0,A.t)("whiteboard.timer.timer_mute_tooltip"),"data-tooltip-show-above":!0,ref:n})})}var yO=(e=>(e[e.DEFAULT=0]="DEFAULT",e[e.ALWAYS=1]="ALWAYS",e[e.NEVER=2]="NEVER",e))(yO||{});function yk({volumeJustification:e,sliderVisibilitySetting:t,sliderFullWidth:i,buttonGap:n,isMinimized:r,withDarkHoverBg:a,iconColor:s,blockButtonTooltip:c,muteOnTouch:u,size:p}){let h=l.useRef(-1),[m,f]=l.useState(!1),x=l.useCallback(()=>{h.current&&clearTimeout(h.current),h.current=window.setTimeout(()=>{f(!0)},100)},[f]),_=l.useCallback(()=>{h.current&&clearTimeout(h.current),f(!1)},[f]),g=l.useRef(null),b=l.useCallback(()=>{_()},[_]);(0,yb.Xq)(g,"touchend",b);let j=l.useRef(null),y=(0,d.d4)(e=>e.timer),v=(0,bU.IQ)(y.time);l.useEffect(()=>{v&&f(!1)},[v]),l.useEffect(()=>{f(!1)},[t]);let C=m;switch(t){case 1:C=!0;break;case 2:C=!1}return(0,o.jsxs)("div",{ref:g,onTouchEnd:e=>{e.preventDefault(),e.stopPropagation(),m?_():x()},onMouseEnter:x,onMouseLeave:_,className:"volume_control_button--volumeButtonAndSliderContainer--HyG-F",style:{gap:n},children:[(0,o.jsx)(yA,{muteButtonRef:j,isMinimized:r,withDarkHoverBg:a,iconColor:s,blockTooltip:c,muteOnTouch:u,size:p}),C&&(0,o.jsx)(yC,{muteButtonRef:j,volumeJustification:e,fullWidth:i,isMinimized:r})]})}function yR(){let e=(0,di.$)();return(0,o.jsx)("div",{className:"volume_view--volumeView--XbP1r",children:(0,o.jsx)(yk,{volumeJustification:yv.INLINE,sliderVisibilitySetting:e?yO.NEVER:yO.ALWAYS,sliderFullWidth:!0,buttonGap:5,iconColor:yI.DEFAULT,withDarkHoverBg:!0,muteOnTouch:e})})}var yM=i(15042);function yD(){let[e,t]=b7(),i=(0,d.d4)(e=>e.mirror.appModel.showUi);return(!function(e){let t=(0,d.wA)(),i=(0,d.d4)(e=>e.timer);l.useEffect(()=>{!1!==i.startChimePlayed||(0,bU.IQ)(i.time)||(0,bU.CM)(i.time)||(0,bU.G8)(i.time)||(e(),t(g3.k1(!0)))},[t,e,i.startChimePlayed,i.time])}(t.playStartChime),!function(){b3();let[e,t]=(0,p.fp)(bF.$),i=(0,d.d4)(e=>e.timer.volume);b4(t),b5(e),b9([bK,bZ,bz],i)}(),!function(){bi();let e=function(e){let[t]=l.useState(()=>e?.previousPlayerInstance||new g9(e)),i=(0,d.d4)(t=>"StandaloneMusic"===e.musicSource?t.music.volume:t.timer.volume),n=(0,d.d4)(t=>"StandaloneMusic"===e.musicSource?t.music.isMuted:t.timer.isMuted);return l.useEffect(()=>{t.setVolume(i/100)},[i,t]),l.useEffect(()=>{t.setIsMuted(n)},[n,t]),t}({musicSource:"StandaloneMusic",loadingPlaybackUrl:bt,previousPlayerInstance:(0,d.d4)(e=>e.music.playerInstance)||void 0}),t=(0,d.d4)(e=>e.music.music),i=t?.selectedSongID,n=g7(i||"")?.playback_url,r=(0,d.d4)(e=>e.music.volume),a=(0,d.d4)(e=>e.music.isMuted),s=(0,d.wA)();l.useEffect(()=>{s(g3.qV())},[s]),l.useEffect(()=>{s(g3.wk(e))},[s,e]),l.useEffect(()=>()=>{e.stop()},[e]),l.useEffect(()=>{s(g3.tk({isMuted:0===r,userInitiated:!1}))},[s,r]);let o=l.useCallback(()=>{s(g3.tk({isMuted:!0,userInitiated:!1})),s(x.F.enqueue({message:(0,A.t)("whiteboard.timer.unmute_music_message"),button:{text:(0,A.t)("whiteboard.timer.unmute_music_button"),action:()=>{s(g3.tk({isMuted:!1,userInitiated:!0}))}},type:"unmute-timer-music",onDismiss:()=>{}}))},[s]);l.useEffect(()=>{if(n!==e.audio.currentSrc&&e.setSource(n||""),!n){e.stop();return}if(t?.isPaused){e.pause();return}if(!t?.isPaused){if(!e.isPaused()||!n)return;e.playAtTimestamp({src:n,timestamp:(0,g3.UQ)(t),onFailure:o})}},[n,t,e,o,a])}(),(0,jA.YR)(),(0,jA.FJ)(),bX(),bq(),(0,p.md)(jQ.Qs).isOpen&&i)?(0,o.jsx)(yP,{}):null}function yP(){let e=(0,p.md)(jQ.Qs),t=(0,di.$)(),i=(0,j3.qU)(),n=(0,jA.Av)(),r=(0,ec.U1)();return(0,o.jsx)("div",{className:yM.SO,ref:r,children:e.view!==jQ.iN.PAST_VOTES||t?(0,o.jsxs)("div",{className:yM.DZ,children:[(0,o.jsx)(dn,{title:n?(0,A.t)("meetings_panel.toolbar_tooltip"):(0,A.t)("meetings_panel.toolbar_tooltip.no_voting"),onClose:()=>i({source:j3.OO.MEETINGS_PANEL})}),(0,o.jsx)(ev.P,{className:yM.Ff,children:(0,o.jsx)(yU,{})})]}):(0,o.jsx)(yg,{})})}function yU(){let e=(0,jA.Av)(),t=(0,jA.Ld)(),i=e&&h.Ay.isMeetDevice&&t,n=h.Ay.isMeetDevice?i:e;return(0,o.jsxs)("div",{className:eT.s.colorBg.$,children:[(0,o.jsx)(yR,{}),(0,o.jsx)(ys,{}),(0,o.jsx)(jf,{}),(0,o.jsx)(ys,{}),(0,o.jsx)(bM,{}),n&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ys,{}),(0,o.jsx)(j2,{})]})]})}var yF=i(385215);function yB({children:e,hasHoverableBackground:t,onboardingKey:i}){return(0,o.jsx)("div",{className:e_()("floating_panel--container--3qp3k",{"floating_panel--hoverableBackground--h8B5i":t}),"data-onboarding-key":i,children:e})}var yH=i(440875),yV=i(124657),yG=i(809171),yW=i(234821),yK=i(625959),yz=i(37051),yZ=i(826900),y$=i(80656),yY=i(200844),yq=i(29089);function yX(){let e=e2.Pt("toolbarView",yq.ec.recordingKey),t=(0,l.useRef)(null),i=(0,G.q5)(),n=(0,d.d4)(e=>(0,dp.Yh)(e.mirror.appModel,yq.ec.action)&&i),r=(0,d.d4)(e=>e.mirror.appModel.currentTool===yq.ec.tool),a=(0,yW.n6)(),s=yz.z4.getIsExtension();(0,l.useEffect)(()=>{!r&&t.current&&t.current===document.activeElement&&yZ.F2.focusCustomCanvasFocusElement()},[r,t]),(0,l.useEffect)(()=>{if(n&&r){let e=!0;return(0,y$.W)("right",()=>{e&&ty.Y5.triggerAction("set-tool-default")}),()=>{e=!1}}},[n,r]);let c=(0,l.useCallback)(e=>{if(!n)return;let i=e.nativeEvent instanceof KeyboardEvent;r?(ty.Y5.triggerAction("set-tool-default"),i&&t.current?.focus()):yK.VU.get(yq.ec.action,"toolbar")(e)},[n,r]),u=!s&&a>0;return(0,o.jsx)(yY.Z,{tooltip:{type:ii.Ib.LOOKUP,key:yq.ec.action,ariaLabel:(0,A.t)(u?"fullscreen.accessibility.view_comments_with_unreads":"fullscreen.accessibility.view_comments")},isActive:r,onClick:c,recordingKey:e,onboardingKey:yq.ec.onboardingKey,disabled:!n,dataTestId:yq.ec.action,ref:t,children:(0,o.jsx)("div",{className:e_()("figjam_comments_toolbar_item--iconContainer--4S5T1",{"figjam_comments_toolbar_item--withUnreadIndicator--JLSN4":u}),children:(0,o.jsx)("div",{className:"figjam_comments_toolbar_item--iconMask--a0fae",children:(0,o.jsx)(yG.f,{})})})})}var yJ=i(896213),yQ=i(519056),y0=i(656872),y1=i(47358),y2=i(370443);function y3(){let e=(0,p.md)(lY.zS),t=(0,p.Xr)(lY.bJ),i=(0,p.Xr)(lY.tz),n=(0,l.useCallback)(n=>{n.preventDefault(),e===lY.Wl.TOP_BAR?i():((0,y$.W)("right",i),t())},[e,i,t]),r=(0,u.k)().figjam_generate_handbrake,a=r?(0,A.t)("whiteboard.ai_modal.generate_handbrake"):(0,A.t)("whiteboard.ai_modal.make"),s=(0,d.d4)(e=>e.mirror.appModel.topLevelMode===c.lyf.LAYOUT);return(0,l.useEffect)(()=>{s||i()},[s,i]),(0,o.jsx)(yY.Z,{tooltip:{type:ii.Ib.TEXT,text:a},isActive:e===lY.Wl.TOP_BAR,onClick:n,trackingProperties:{trackingDescriptor:y2.c.FIGJAM_AI_TOOLBAR_ITEM},onboardingKey:l9.bX,innerText:"AI Toolbar Entrypoint",disabled:r,dataTestId:"figjam-ai-toolbar-item",recordingKey:"figjam-ai-toolbar-item",children:(0,o.jsx)(y1.C,{})})}var y5=i(940356);let y6=e=>e.multiplayer.allUsers.filter((e,t,i)=>t===i.findIndex(t=>t.userID===e.userID)).length,y4="seen_figjam_meetings_panel_gleam",y9={duration:1500,fill:"none"};function y8(){return(0,o.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",style:{width:"100%",height:"100%"},children:[(0,o.jsxs)("g",{filter:"url(#filter0_d_3305_12330)",children:[(0,o.jsx)("path",{d:"M20.2469 10.6915L20.2471 10.6913C21.1037 9.81654 20.693 8.21534 19.3809 8.01578C19.3809 8.01577 19.3808 8.01576 19.3807 8.01575L14.8346 7.32381L12.7941 2.99403C12.2333 1.80375 10.5666 1.79999 10.0055 2.99476C10.0054 2.99498 10.0053 2.99521 10.0052 2.99543L7.96535 7.32381L3.41928 8.01575C3.41921 8.01576 3.41914 8.01577 3.41908 8.01578C2.107 8.21534 1.69633 9.81654 2.55291 10.6913L2.55308 10.6915L5.86693 14.0741L5.08327 18.8605C5.08326 18.8606 5.08325 18.8606 5.08324 18.8607C4.88746 20.0559 6.12574 21.1809 7.34457 20.5087L11.4 18.2756L15.4554 20.5087C15.4556 20.5088 15.4558 20.5088 15.456 20.5089C16.6746 21.1805 17.9125 20.0557 17.7168 18.8607C17.7167 18.8606 17.7167 18.8606 17.7167 18.8605L16.9331 14.0741L20.2469 10.6915Z",fill:"#FFC700",stroke:"white",strokeWidth:"1.8"}),(0,o.jsx)("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",fill:"url(#paint0_linear_3305_12330)"}),(0,o.jsx)("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",fill:"url(#paint1_linear_3305_12330)"}),(0,o.jsx)("path",{d:"M18.8131 12.5161C18.4636 11.4367 16.9364 11.4367 16.5869 12.5161L15.8361 14.8349L13.7375 15.7224C12.7851 16.1252 12.7851 17.4748 13.7375 17.8776L15.8361 18.7651L16.5869 21.0839C16.9364 22.1634 18.4636 22.1633 18.8131 21.0839L19.5639 18.7651L21.6625 17.8776C22.6149 17.4748 22.6149 16.1252 21.6625 15.7224L19.5639 14.8349L18.8131 12.5161Z",stroke:"white",strokeWidth:"1.8"})]}),(0,o.jsxs)("defs",{children:[(0,o.jsxs)("filter",{id:"filter0_d_3305_12330",x:"-1.5",y:"-1",width:"27",height:"27",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,o.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,o.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,o.jsx)("feOffset",{dy:"0.5"}),(0,o.jsx)("feGaussianBlur",{stdDeviation:"0.75"}),(0,o.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),(0,o.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_3305_12330"}),(0,o.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_3305_12330",result:"shape"})]}),(0,o.jsxs)("linearGradient",{id:"paint0_linear_3305_12330",x1:"13.5",y1:"12",x2:"21.9",y2:"21.6",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"#F7C000"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#E8B604"})]}),(0,o.jsxs)("linearGradient",{id:"paint1_linear_3305_12330",x1:"21.9",y1:"21.6",x2:"13.5",y2:"12",gradientUnits:"userSpaceOnUse",children:[(0,o.jsx)("stop",{stopColor:"white",stopOpacity:"0"}),(0,o.jsx)("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),(0,o.jsx)("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),(0,o.jsx)("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),(0,o.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]})}let y7="meeting_tools_toolbar--withHover--r7Sks",ve="meeting_tools_toolbar--selected--Lt0iR",vt="meeting_tools_toolbar--hide--t1ZI-";function vi(){let e=(0,p.md)(jQ.Qs),t=(0,j3.qU)(),i=(0,j3.MR)(),n=(0,j3.II)(),[r]=b7(),{renderGleam:a}=function(e){let[t,i]=l.useState(!1),n=(0,d.d4)(y6),r=(0,y5.f)(y4),a=(0,d.wA)(),s=n>1&&!r;return l.useEffect(()=>{if(!s)return;let t=window.setTimeout(()=>{i(!0),a(V.b({[y4]:!0}))},e?.delay_ms||1e4);return()=>clearTimeout(t)},[s,e?.delay_ms,a]),{renderGleam:t}}({delay_ms:2e3}),s=l.useCallback(()=>{e.isOpen?t({source:j3.OO.MEETINGS_TOOLBAR}):i({source:j3.OO.MEETINGS_TOOLBAR})},[e,t,i]),c=function(){let e=(0,j3.II)();if(0===e.length)return"ALL";let t=1===e.length&&e.includes(jQ.sx.TIMER);return 1===e.length&&e.includes(jQ.sx.VOTING)||2===e.length&&e.includes(jQ.sx.VOTING)&&e.includes(jQ.sx.TIMER)?"VOTE":t?"NONE":"MUSIC"}(),u=function(){let e=(0,j3.II)();return 0===e.length?jo.SECONDARY:e.includes(jQ.sx.TIMER)&&e.includes(jQ.sx.VOTING)?jo.SECONDARY:jo.DEFAULT}(),m=n.includes(jQ.sx.TIMER)||0===n.length,f=n.includes(jQ.sx.MUSIC),x=function(){let e=(0,j3.II)(),t=(0,j_.C3)(),i=(0,d.d4)(e=>e.music.music),n=g7(i?.selectedSongID||"");return e.includes(jQ.sx.VOTING)&&t?(0,jA.DG)(t):e.includes(jQ.sx.MUSIC)&&1===e.length?n?bc.format(n):"":void 0}(),_=l.useRef(null),g=l.useRef(null),b=l.useRef(null),j=l.useRef(null),y=l.useRef(null);!function(e,t,i,n,r,a){let[s,o]=l.useState([]);l.useLayoutEffect(()=>{let e={backgroundColor:"var(--color-bg-figjam)",borderColor:"var(--color-bg-figjam)"},a=new KeyframeEffect(r.current,[{offset:.4,...e},{offset:.62,...e},{offset:.77,backgroundColor:"var(--color-bg-secondary)"}],y9),s=new KeyframeEffect(t.current,[{offset:0,backgroundColor:"#959595"},{offset:.5,backgroundColor:"#959595"},{offset:1,backgroundColor:"var(--color-bg-figjam)"}],y9),l=new KeyframeEffect(n.current,[{offset:0,filter:"grayscale(80%)"},{offset:.5,filter:"grayscale(80%)"},{offset:1,filter:"grayscale(0%)"}],y9);o([s,new KeyframeEffect(i.current,[{offset:.4,color:"var(--color-text-onfigjam)"},{offset:.62,color:"var(--color-text-onfigjam)"}],y9),l,a].map(e=>new Animation(e,document.timeline)))},[e,t,i,n,r]),function(e,t,i){let n=(0,cX.ZC)(e),r=(0,p.md)(jQ.Qs),a=(0,j3.II)(),s=r.isOpen||a.length>0;l.useEffect(()=>{s||(e&&!n&&t(),!e&&n&&i())},[e,t,i,n,a,s])}(a,l.useCallback(()=>{s.forEach(e=>{e.playbackRate=1,e.play()})},[s]),l.useCallback(()=>{s.forEach(e=>{e.playbackRate=-1,e.play()})},[s]))}(_,b,j,y,g,a);let v=function(e){let t=(0,p.md)(jQ.Qs),i=(0,j3.II)();return!e&&!t.isOpen&&0===i.length}(a),C=(0,di.$)(),T=(0,jA.Av)(),E=e.isOpen||n.length>0;return(0,o.jsxs)("div",{ref:_,className:e_()("meeting_tools_toolbar--toolbarItemContainer--3HgdD",{"meeting_tools_toolbar--meetDeviceToolbarItemContainer--8R79s":(0,gU.eM)(),"meeting_tools_toolbar--hasVolumeControl--jaTZr":f}),children:[(0,o.jsxs)("button",{ref:g,className:e_()("meeting_tools_toolbar--toolbarItemButton--VBNmh",{[ve]:E,[y7]:!C}),onClick:e2.rf("meetingsPanelToolbar","click",s),"data-tooltip-type":ii.Ib.TEXT,"data-tooltip":T?(0,A.t)("meetings_panel.toolbar_tooltip"):(0,A.t)("meetings_panel.toolbar_tooltip.no_voting"),"aria-label":T?(0,A.t)("meetings_panel.toolbar.aria_label"):(0,A.t)("meetings_panel.toolbar.aria_label.no_voting"),"aria-pressed":E,"data-onboarding-key":"meeting-panel-button",children:[(0,o.jsx)(vn,{icon:c,maskRef:b,starContainerRef:y,renderAsPreGleam:v}),(0,o.jsx)("div",{className:e_()("meeting_tools_toolbar--textWrapper--eikYA text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",{[ve]:E}),style:{maxWidth:(0,h.FP)()?44:122},children:x}),(0,o.jsx)(vr,{width:x&&m?8:0}),(0,o.jsx)("div",{className:e_()("meeting_tools_toolbar--minimizedTimerWrapper--adc47",{[vt]:!m}),children:n.includes(jQ.sx.TIMER)?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(jc,{isSelected:E,prominence:u,size:js.XSMALL,withoutTimeShadow:!0,withoutFlashOnPause:!0,withoutUnderline:!0,timeDivRef:j,isInUI3Toolbar:!0})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(ju,{isSelected:E,prominence:u,size:js.XSMALL,withoutTimeShadow:!0,withoutUnderline:!0,timeDivRef:j,timeInSeconds:(0,bU.RE)(r),isInUI3Toolbar:!0})})})]}),n.includes(jQ.sx.MUSIC)&&(0,o.jsx)("div",{className:e_()("meeting_tools_toolbar--volumeControlContainer--gXf-m",{[ve]:E,[vt]:!n.includes(jQ.sx.MUSIC),[y7]:!C}),children:(0,o.jsx)(yk,{volumeJustification:yv.CENTER,isMinimized:!0,iconColor:E?yI.FIGJAM:yI.DEFAULT,blockButtonTooltip:!0,sliderVisibilitySetting:e.isOpen||C?yO.NEVER:yO.DEFAULT,muteOnTouch:C,size:yN.LARGE})})]})}function vn({icon:e,maskRef:t,starContainerRef:i,renderAsPreGleam:n}){return"NONE"===e?null:(0,o.jsxs)("div",{className:e_()("meeting_tools_toolbar--iconContainer--n2hs5",{"meeting_tools_toolbar--single--h9cHX":"ALL"!==e}),children:[(0,o.jsx)("div",{className:e_()("meeting_tools_toolbar--recordIcon--D6vfx meeting_tools_toolbar--icon--EVBBt",{[vt]:"MUSIC"!==e&&"ALL"!==e}),children:(0,o.jsx)(bj,{size:bb.XSMALL,maskAlbumArtWhenPaused:!0,maskRef:t,useGrayMask:n,useLightShadow:!0})}),(0,o.jsx)("div",{className:e_()("meeting_tools_toolbar--starIcon--37MdY meeting_tools_toolbar--icon--EVBBt",{"meeting_tools_toolbar--leftAlign--G1Vob":"VOTE"===e,[vt]:"VOTE"!==e&&"ALL"!==e}),children:(0,o.jsx)("div",{ref:i,className:e_()("meeting_tools_toolbar--starContainer--4lbzy",{"meeting_tools_toolbar--grayedOut--deQf-":n}),children:(0,o.jsx)(y8,{})})})]})}function vr(e){return(0,o.jsx)("div",{style:{width:e.width||0}})}var va=(e=>(e.ALL="ALL",e.MUSIC="MUSIC",e.VOTE="VOTE",e.NONE="NONE",e))(va||{});let vs="figjam_right_panel--container--z4q5E",vo="figjam_right_panel--controls--1DAKo",vl="figjam_right_panel--leftSection--wZTVw",vd="figjam_right_panel--middleSection--xMAsd";function vc(){let e=(0,d.wA)(),t=(0,G.q5)(),i=(0,iE.Um)(),n=(0,d.d4)(e=>e.multiplayer),r=(0,yH.dR)(),a=(0,L.iZ)(),s=l.useMemo(()=>n.allUsers.find(e=>e.sessionID===n.sessionID)||null,[n.allUsers,n.sessionID]),u=(0,yF.B4)(),p=(0,b.aV)(),f=(0,d.d4)(e=>e.mirror.appModel.topLevelMode===c.lyf.HISTORY),x=!(0,m.q8)()&&(0,lq.Uy)()&&!(0,lq.Cd)(),_=h.Ay.isMeetDevice,g=(0,sI.L)(),j=(0,oO.DG)(t?.key||"").enabled,y=l.useCallback(t=>{(0,yJ.Lx)(t,s?.sessionID,e,!1,n,r,u)},[s?.sessionID,e,n,r,u]),v=(0,ec.U1)(),C=l.useRef(null);return((0,ni.C_)(C,p),p)?(0,o.jsx)("div",{className:vs,style:{visibility:h.Ay.isIpadNative?"hidden":"visible"},children:(0,o.jsx)(yB,{hasHoverableBackground:!1,children:(0,o.jsxs)("div",{className:vo,children:[(0,o.jsx)("div",{className:vl,children:(0,o.jsx)(vp,{})}),(0,o.jsxs)("div",{className:vd,children:[(0,o.jsx)(vh,{}),(0,o.jsx)(vh,{}),(0,o.jsx)(vh,{}),(0,o.jsx)(vm,{}),(0,o.jsx)(vh,{})]}),(0,o.jsx)(vf,{})]})})}):(0,o.jsx)(u7.b,{children:(0,o.jsx)(el.V,{ref:v,className:e_()(vs,eE.Dm),style:{visibility:h.Ay.isIpadNative?"hidden":"visible"},"data-cancel-insertable-resource-drag-and-drop":!0,children:(0,o.jsx)(yB,{hasHoverableBackground:!1,children:(0,o.jsxs)("div",{className:vo,ref:C,children:[(0,o.jsxs)("div",{className:vl,children:[(0,o.jsx)(yV.sK,{isUI3:!0}),n&&t&&s&&(0,o.jsx)(yJ.v7,{dropdownShown:i,multiplayer:n,currentUser:s,onUserClick:y})]}),!f&&(0,o.jsxs)("div",{className:vd,children:[x&&(0,o.jsx)(y3,{}),(0,o.jsx)(y0.y,{}),!g&&!_&&(0,o.jsx)(yX,{}),(0,o.jsx)(vi,{})]}),t&&(0,o.jsx)(yQ.w,{user:a,editingFile:t,isFileInWorkshop:j}),!a&&!_&&(0,o.jsx)(t6.tO,{})]})})})})}function vu({width:e,borderRadius:t="medium"}){return(0,o.jsx)("div",{className:"figjam_right_panel--loadingPlaceholder--Z4Q63",style:{width:e,borderRadius:"full"===t?"var(--radius-full)":"var(--radius-medium)",visibility:"hidden"},children:(0,o.jsx)(t1._b,{})})}function vp(){return(0,o.jsx)("div",{className:"figjam_right_panel--multiplayerPlaceholderContainer--ZLhPf",children:(0,o.jsx)(vu,{width:40,borderRadius:"full"})})}function vh(){return(0,o.jsx)(vu,{width:32})}function vm(){return(0,o.jsx)(vu,{width:90})}function vf(){return(0,o.jsx)(vu,{width:55})}let vx="whiteboard_ui--stackedContainer--2mtV9",v_="whiteboard_ui--rightSidebar--CJHYf",vg=l.memo(function(){let e=(0,g2.Vi)(),t=(0,d.d4)(e=>e.mirror.appModel.topLevelMode===c.lyf.HISTORY),i=(0,b.p8)("showUi");(function(){let e=(0,j.Kx)(),t=(0,d.d4)(e=>e.timer.modalState),i=(0,p.md)(jQ.Qs);l.useEffect(()=>{e?.updateTimerModalState&&e.updateTimerModalState(i.isOpen?"open":"closed")},[e,t,i.isOpen]);let n=(0,d.d4)(e=>e.timer.time);l.useEffect(()=>{e?.updateTimerTime&&n&&e.updateTimerTime(n)},[e,n])})(),(0,gP.M)(),function(){let e=(0,p.Xr)(jQ.Qs);l.useEffect(()=>()=>{e({type:"CLOSE"})},[e])}();let n=(0,j.Kx)(),r=i&&!n?.shouldOptimizeForIpadApp&&e;return(0,o.jsx)(vb,{showUi:i,inVersionHistory:t,isCommentsPanelOpen:r})});function vb({showUi:e,inVersionHistory:t,isCommentsPanelOpen:i}){let n=(0,p.md)(jQ.Qs).isOpen,r=(0,p.md)(lY.zS)===lY.Wl.TOP_BAR,a=(0,gB.S)(),s=(0,gF.Lk)(),d=(0,pn.L3)(),c=(0,l.useRef)(null),[u,h]=l.useState(null),m=function(e){let t=(0,nr.Yk)(),i=(0,ns.TH)(),n=na.C()?.bottomRightToolsNode?.getBoundingClientRect(),r=e?.getBoundingClientRect();return i&&r&&n?i.right+nl>n.left?nd({includePanelGap:!0,dltBottomOffset:t,collidesWithDLT:!0,collidesWithTools:!0}):i.right+nl>r.left?nd({includePanelGap:!0,dltBottomOffset:t,collidesWithDLT:!0,collidesWithTools:!1}):nd({includePanelGap:!0,dltBottomOffset:t,collidesWithDLT:!1,collidesWithTools:!0}):0}(u);l.useLayoutEffect(()=>{h(c.current?.lastElementChild)},[c,i,n,r,a,t,d]);let f=t?e?(0,o.jsx)(vv,{}):null:(0,o.jsx)(vy,{isCommentsPanelOpen:i});return gU.pb.isGoogleClassroomIntegration()?(0,o.jsx)("div",{className:v_,style:{bottom:m},children:(0,o.jsx)("div",{ref:c,className:e_()(vx,eE.Dm),children:i&&(0,o.jsx)(vj,{})})}):(0,o.jsx)("div",{className:v_,style:{bottom:m},children:(0,o.jsxs)("div",{ref:c,className:e_()(vx,eE.Dm),children:[e&&(0,o.jsx)(vc,{}),(0,o.jsx)(g$,{}),s&&(0,o.jsx)(gQ.s,{}),f]})})}function vj(){return(0,o.jsx)("div",{className:"whiteboard_ui--commentsContainer--HLR1i",children:(0,o.jsx)(g1,{children:(0,o.jsx)(gX.B,{hidePageName:!0,hideResolve:!1,onCloseButton:()=>c.glU.triggerActionInUserEditScope("set-tool-default",null)})})})}function vy({isCommentsPanelOpen:e}){let[t,i]=(0,p.fp)(j3.qM),n=(0,d.d4)(e=>(0,dp.Yh)(e.mirror.appModel,cv.JT.SLIDES_REWRITE_TEXT));return l.useEffect(()=>{t&&!n&&i(!1)},[t,n,i]),(0,o.jsxs)(o.Fragment,{children:[t?(0,o.jsx)(g0.vB,{}):(0,o.jsx)(yD,{}),(0,o.jsx)(cp,{}),e&&(0,o.jsx)(vj,{})]})}function vv(){let e=(0,ec.U1)();return(0,o.jsx)(g1,{ref:e,children:(0,o.jsx)(gJ.yU,{fileHasCMSData:!1})})}var vC=i(763714),vT=i(486443),vE=i(310657);let vS=h.Xb?18:9;function vw({initiatorId:e,initiatorHandle:t,votingSessionId:i}){let n=(0,d.wA)(),r=(0,nr.Ii)(),a=function(e){let t=(0,d.d4)(e=>e.multiplayer).allUsers.find(t=>t.userID===e)??null;return t?t.color:null}(e),s=(0,G.tS)(),u=(0,p.md)(vC.Fj),h=(0,lQ.nl)()?1e3:u,m=(0,l.useCallback)(e=>{n(jx.H1({votingStage:c.W8Y.JOINED})),(0,eb.sx)("join_voting_session",{source:e,votingSessionId:i,fileKey:s})},[n,s,i]),f=(0,l.useCallback)(e=>{n(jx.U6()),(0,eb.sx)("cancel_join_voting_session",{source:e,votingSessionId:i,fileKey:s})},[n,s,i]);(0,l.useEffect)(()=>{let e=setTimeout(()=>m("join_bell_auto_join"),h);return()=>clearTimeout(e)},[h,m,i]);let x=l.useCallback(()=>(f("keyboard"),!0),[f]);return(0,l2.O1)(x,l2.KD.OVERLAY),(0,o.jsx)("div",{className:"join_voting_overlay--bellPositioner--TVyYX",style:{top:vS+r},children:(0,o.jsx)("div",{className:"join_voting_overlay--bellContainer--OQxCq",children:(0,o.jsx)(vE.m,{color:a,message:{text:t?(0,A.tx)("voting.join_bell.message_with_username",{name:t}):(0,A.tx)("voting.join_bell.message_without_username"),onClick:()=>m("join_bell_click")},renderKey:i,progressBar:!0,progressBarDurationMs:h,autoHide:!1,recordingKey:"multiplayerBell",button:{text:(0,A.t)("voting.join_bell.cancel"),onClick:()=>f("join_bell_cancel_click")}})})})}function vI(){let e=(0,j_.C3)(),{user:t}=(0,I.wW)(e?.userId||null);return function(){let e=(0,j_.C3)(),t=(0,vT.e2)(),{loading:i}=(0,I.wW)(e?.userId||null);return!!t&&!i&&!!e}()&&e?(0,o.jsx)(vw,{initiatorHandle:t?t.handle:null,votingSessionId:e.id,initiatorId:e.userId}):null}var vL=i(180472);let vN=l.memo(function(){let e=(0,d.wA)(),t=(0,L.TA)(),i=(0,d.d4)(e=>e.mirror.appModel.votingSessionInfo),n=(0,d.d4)(e=>e.voting.selectedVotePinId),r=[c.W8Y.ENDED,c.W8Y.JOINED].includes(i.votingStage),{pageIdForNodeId:a}=l.useContext(yn.kw),s=(0,uy.Fk)(e=>e.getCurrentPage()?.guid),u=(0,l.useMemo)(()=>{var e;return i.votingStage===c.W8Y.JOINED?(e=i.votedNodes,t?e.filter(e=>e.userIdToNodeVotes[t]?.length).map(e=>({...e,userIdToNodeVotes:{[t]:e.userIdToNodeVotes[t]}})):[]):i.votedNodes},[i.votingStage,i.votedNodes,t]),p=(0,l.useMemo)(()=>u.filter(e=>a(e.guid)===s),[u,a,s]);return((0,l.useEffect)(()=>{n&&(r&&p.some(e=>e.guid===n)||e(jx.rT({votePinId:n})))},[p,r,n,e]),r)?(0,o.jsx)(vL.ML,{votedNodes:p,votingStage:i.votingStage,selectedNodeId:n,currentUserId:t}):null}),vA="mindmap_quick_add_buttons--mindmapButton--3C5fm";function vO({backgroundColor:e,iconColor:t,scaleX:i}){return(0,o.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",className:vA,style:{transform:`scaleX(${i})`},children:[(0,o.jsx)("rect",{x:"1",y:"1",width:"26",height:"26",rx:"13",fill:e}),(0,o.jsx)("rect",{x:"13",y:"11",width:"8",height:"6",rx:"1",fill:t}),(0,o.jsx)("rect",{x:"7",y:"13",width:"6",height:"2",fill:t}),(0,o.jsx)("rect",{x:"1",y:"1",width:"26",height:"26",rx:"13",stroke:"#0D99FF",strokeWidth:"2"})]})}function vk({backgroundColor:e,iconColor:t,scaleX:i}){return(0,o.jsxs)("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",className:vA,style:{transform:`scaleX(${i})`},children:[(0,o.jsx)("rect",{x:"1",y:"1",width:"26",height:"26",rx:"13",fill:e}),(0,o.jsx)("rect",{opacity:"0.3",x:"12.5",y:"7.5",width:"8",height:"6",rx:"1",fill:t}),(0,o.jsx)("rect",{x:"12.5",y:"15.5",width:"8",height:"6",rx:"1",fill:t}),(0,o.jsx)("rect",{opacity:"0.3",x:"6.5",y:"9.5",width:"6",height:"2",fill:t}),(0,o.jsx)("path",{d:"M12.5 18.5V18.5C10.8431 18.5 9.5 17.1569 9.5 15.5V13.5C9.5 11.8431 8.15685 10.5 6.5 10.5V10.5",stroke:t,strokeWidth:"2"}),(0,o.jsx)("rect",{x:"1",y:"1",width:"26",height:"26",rx:"13",stroke:"#0D99FF",strokeWidth:"2"})]})}let vR="#0D99FF";function vM(){let e=(0,u2.Zr)("quick-create"),t=(0,u2.Zr)("quick-create-diagram-sibling"),i=(0,u3.kl)("singleDiagramNodeDirection"),n=(0,u3.kl)("isDiagramRootNode"),r=function(e,t){let i=(0,u3.kl)("isSingleDiagramNodeSelected"),n=(0,u3.kl)("locked"),r=(0,d.d4)(e=>e.mirror.appModel.activeUserAction);return!!(i&&!n&&(e||t)&&r!==c.QOV.DRAGGING&&r!==c.QOV.RESIZING&&r!==c.QOV.ROTATING)}(e,t),a=(0,O._X)({subscribeToUpdates_expensive:r}),s=function(e){let t=(0,C.ut)(c.Ez5?.canvasViewState().selectionBoundingRect,{x:0,y:0,width:0,height:0}),i=(0,O.Yb)(e,t);return{...i,x:i.x+e.x,y:i.y+e.y}}(a),l=i===c.$6Y.BACKWARD?-1:1;return!r||a.zoomScale<.35?null:(0,o.jsxs)(o.Fragment,{children:[e&&(0,o.jsx)(vD,{selectionBounds:s,Icon:vO,onClick:U.nc.user("quick-add-mindmap",()=>c.wzW?.quickAddMindmapChild(null)),recordingKey:"mindmap-add-child-button",direction:l>0?c.$6Y.FORWARD:c.$6Y.BACKWARD,includeTooltipKeyboardShortcut:!0}),e&&n&&(0,o.jsx)(vD,{selectionBounds:s,Icon:vO,onClick:U.nc.user("quick-add-mindmap",()=>c.wzW?.quickAddMindmapChild(c.$6Y.BACKWARD)),recordingKey:"mindmap-add-backward-child-button",direction:c.$6Y.BACKWARD,includeTooltipKeyboardShortcut:!1}),t&&(0,o.jsx)(vP,{Icon:vk,onClick:U.nc.user("quick-add-mindmap",()=>c.wzW?.quickAddMindmapSibling()),positionX:nI.Al,positionY:nI.DH,recordingKey:"mindmap-add-sibling-button",scaleX:l,selectionBounds:s,tooltip:(0,A.t)("whiteboard.mindmaps.add-sibling-tooltip"),tooltipDirection:l>0?"right":"left",tooltipShortcutActionKey:"quick-create-diagram-sibling"})]})}function vD({selectionBounds:e,Icon:t,onClick:i,recordingKey:n,direction:r,includeTooltipKeyboardShortcut:a}){let s=r===c.$6Y.BACKWARD?-1:1;return(0,o.jsx)(vP,{Icon:t,onClick:i,positionX:(e,t)=>e.x+(s>0?e.width:-t.width)+8*s,positionY:nI.tJ,recordingKey:n,scaleX:s,selectionBounds:e,tooltip:(0,A.t)("whiteboard.mindmaps.add-child-tooltip"),tooltipDirection:r===c.$6Y.BACKWARD?"left":"right",tooltipShortcutActionKey:a?"quick-create":void 0})}function vP({selectionBounds:e,positionX:t,positionY:i,Icon:n,onClick:r,recordingKey:a,scaleX:s,tooltip:d,tooltipShortcutActionKey:c,tooltipDirection:u}){let p=(0,_W._r)(),[h,m]=l.useState(!1);return(0,o.jsx)(nI.lM,{targetRect:e,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),positionX:t,positionY:i,offset:8,children:(0,o.jsx)("div",{className:"mindmap_quick_add_buttons--button--iRZL8",children:(0,o.jsx)(eu.K,{"aria-label":(0,A.t)("whiteboard.mindmaps.add-child-tooltip"),onClick:e=>{e.preventDefault(),r(e)},recordingKey:a,htmlAttributes:{"data-tooltip-offset-x":"left"===u?-4:4,"data-tooltip-show-right":"right"===u||void 0,"data-tooltip-show-left":"left"===u||void 0,"data-tooltip-type":d&&p?ii.Ib.TEXT:void 0,"data-tooltip":d,"data-tooltip-shortcut-key":c,"data-fullscreen-intercept":!0},children:(0,o.jsx)(n,{backgroundColor:h?vR:"white",iconColor:h?"white":vR,scaleX:s})})})})}var vU=i(927391),vF=i(184837),vB=i(583780),vH=i(793009),vV=i(247611);function vG(){return(0,o.jsx)("svg",{className:"svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 15.293L20.6465 10.6465L21.3536 11.3536L16.7071 16.0001L21.3536 20.6465L20.6465 21.3536L16 16.7072L11.3536 21.3536L10.6465 20.6465L15.2929 16.0001L10.6465 11.3537L11.3536 10.6466L16 15.293Z",fill:"var(--color-icon)"})})}function vW(e){let{children:t}=e;return(0,o.jsx)("svg",{className:"svg",width:"32",height:"32",viewBox:"0 0 40 40",fill:"none",children:t})}function vK(e){let{options:t,selectedIndex:i,setSelectedIndex:n}=e,r=-1!==i?t[i]:void 0;return(0,o.jsx)("div",{className:"starter_kit_ui--optionList--6X7XJ","aria-label":(0,A.t)("whiteboard.starter_kit.subtitle"),role:"listbox","data-fullscreen-intercept":!0,"aria-activedescendant":r?.ariaId,tabIndex:0,children:t.map((e,t)=>(0,o.jsx)(vz,{option:e,selected:i===t,onMouseEnter:()=>n(t),onClick:()=>{vV.oW.trigger("action",c.KWd.COMMIT)}},e.key))})}function vz(e){let{option:t,selected:i,onMouseEnter:n,onClick:r}=e,a=t.localizedLabel();return(0,o.jsxs)("div",{id:t.ariaId,className:e_()("starter_kit_ui--option--A988Y text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",t.className),"aria-label":a,"aria-selected":i,onMouseEnter:n,onClick:r,role:"option","data-fullscreen-intercept":!0,tabIndex:-1,children:[t.svg,(0,o.jsx)("span",{style:{flex:1},children:a})]})}var vZ=i(449975);let v$={brainstorm:{ariaId:(0,pg.g)(),key:"brainstorm",localizedLabel:()=>(0,A.t)("whiteboard.starter_kit.options.brainstorm"),svg:(0,o.jsx)(function(){return(0,o.jsxs)(vW,{children:[(0,o.jsx)("path",{d:"m27 19.5-7.5 7.7H12V12h15v7.5Z",fill:"#FFC700"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5 19.5H27v-1h-8.5v8.7h.9v-7.7Z",fill:"#332800"})]})},{}),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.STICKY)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.STICKY)}},agenda:{ariaId:(0,pg.g)(),key:"agenda",localizedLabel:()=>(0,A.t)("whiteboard.starter_kit.options.agenda"),svg:(0,o.jsx)(function(){return(0,o.jsxs)(vW,{children:[(0,o.jsx)("rect",{x:"13",y:"13",width:"17",height:"17",rx:"3",fill:"#699BF7"}),(0,o.jsx)("rect",{x:"11",y:"11",width:"13.3333",height:"10",rx:"3",fill:"white"}),(0,o.jsx)("rect",{x:"13.45",y:"13.6722",width:"7.98889",height:"4.65556",rx:"1.55",fill:"#CFE2FF",stroke:"#333333",strokeWidth:"0.9"})]})},{}),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.SECTION)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.SECTION)}},flow:{ariaId:(0,pg.g)(),key:"flow",localizedLabel:()=>(0,A.t)("whiteboard.starter_kit.options.flow"),svg:(0,o.jsx)(function(){return(0,o.jsxs)(vW,{children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 11C14.134 11 11 14.134 11 18C11 21.5265 13.6077 24.4439 17 24.9291V17H24.9291C24.4439 13.6077 21.5265 11 18 11Z",fill:"#0FA958"}),(0,o.jsx)("rect",{x:"18",y:"18",width:"12",height:"12",fill:"#A259FF"})]})},{}),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.SHAPE_WITH_TEXT)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.SHAPE_WITH_TEXT)}},bug_bash:{ariaId:(0,pg.g)(),key:"bug_bash",localizedLabel:()=>(0,A.t)("whiteboard.starter_kit.options.bug_bash"),svg:(0,o.jsx)(function(){return(0,o.jsxs)(vW,{children:[(0,o.jsx)("path",{d:"M20.8247 12.7078L20.5065 13.026L21.1429 13.6624L21.4611 13.3442L20.8247 12.7078ZM23.487 11.3183C23.6628 11.1425 23.6628 10.8576 23.487 10.6819C23.3113 10.5061 23.0264 10.5061 22.8506 10.6819L23.487 11.3183ZM21.4611 13.3442L23.487 11.3183L22.8506 10.6819L20.8247 12.7078L21.4611 13.3442Z",fill:"#1F1F1F"}),(0,o.jsx)("path",{d:"M17.6818 14.3182L18 14.6364L18.6364 14L18.3182 13.6818L17.6818 14.3182ZM15.3182 10.6818C15.1425 10.5061 14.8575 10.5061 14.6818 10.6818C14.5061 10.8575 14.5061 11.1425 14.6818 11.3182L15.3182 10.6818ZM18.3182 13.6818L15.3182 10.6818L14.6818 11.3182L17.6818 14.3182L18.3182 13.6818Z",fill:"#1F1F1F"}),(0,o.jsx)("line",{x1:"25.8143",y1:"22.6143",x2:"28.6794",y2:"22.6143",stroke:"#1F1F1F",strokeWidth:"0.771429",strokeLinecap:"round"}),(0,o.jsx)("path",{d:"M28.6207 22.1643C28.8693 22.1643 29.0707 22.3657 29.0707 22.6143C29.0707 22.8628 28.8693 23.0643 28.6207 23.0643V22.1643ZM25.7556 23.0643H25.3056V22.1643H25.7556V23.0643ZM28.6207 23.0643H25.7556V22.1643H28.6207V23.0643Z",fill:"#1F1F1F"}),(0,o.jsx)("line",{x1:"0.45",y1:"-0.45",x2:"3.18655",y2:"-0.45",transform:"matrix(-0.866025 0.5 0.5 0.866025 28.1493 18.6626)",stroke:"#1F1F1F",strokeWidth:"0.9",strokeLinecap:"round"}),(0,o.jsx)("path",{d:"M27.826 27.0634C28.0412 27.1877 28.3164 27.1139 28.4407 26.8987C28.5649 26.6835 28.4912 26.4083 28.276 26.284L27.826 27.0634ZM25.7947 24.8514L25.405 24.6264L24.955 25.4059L25.3447 25.6309L25.7947 24.8514ZM28.276 26.284L25.7947 24.8514L25.3447 25.6309L27.826 27.0634L28.276 26.284Z",fill:"#1F1F1F"}),(0,o.jsx)("path",{d:"M10 22.1643C9.75147 22.1643 9.55 22.3657 9.55 22.6143C9.55 22.8628 9.75147 23.0643 10 23.0643V22.1643ZM12.8651 23.0643H13.3151V22.1643H12.8651V23.0643ZM10 23.0643H12.8651V22.1643H10V23.0643Z",fill:"#1F1F1F"}),(0,o.jsx)("path",{d:"M11.3111 18.1082C11.0959 17.9839 10.8207 18.0577 10.6964 18.2729C10.5721 18.4882 10.6459 18.7634 10.8611 18.8876L11.3111 18.1082ZM13.231 20.2559L13.6208 20.4809L14.0708 19.7015L13.681 19.4765L13.231 20.2559ZM10.8611 18.8876L13.231 20.2559L13.681 19.4765L11.3111 18.1082L10.8611 18.8876Z",fill:"#1F1F1F"}),(0,o.jsx)("path",{d:"M10.3724 26.2693C10.1491 26.3783 10.0564 26.6477 10.1653 26.871C10.2743 27.0944 10.5437 27.1871 10.7671 27.0781L10.3724 26.2693ZM14.1973 25.4044L14.6018 25.2071L14.2071 24.3982L13.8027 24.5956L14.1973 25.4044ZM10.7671 27.0781L14.1973 25.4044L13.8027 24.5956L10.3724 26.2693L10.7671 27.0781Z",fill:"#1F1F1F"}),(0,o.jsx)("circle",{cx:"19.4286",cy:"16.1428",r:"3.42857",fill:"#FF8577"}),(0,o.jsx)("rect",{x:"13.7857",y:"16.5",width:"11.2857",height:"13",rx:"5.64286",fill:"#FF8577",stroke:"white"})]})},{}),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.BUG_BASH)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.BUG_BASH)}},design_crit:{ariaId:(0,pg.g)(),key:"design_crit",localizedLabel:()=>(0,A.t)("whiteboard.starter_kit.options.design_crit"),svg:(0,o.jsx)(function(){return(0,o.jsxs)(vW,{children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29 24.9352L28.2929 24.2281L26.0724 22.0076C26.2633 21.4079 26.3664 20.769 26.3664 20.106C26.3664 17.1927 24.3764 14.7442 21.6816 14.0456L12.1329 11.323L11 11L11.3246 12.1324L13.9746 21.3762C14.5616 24.2247 17.0837 26.3664 20.106 26.3664C20.7916 26.3664 21.4514 26.2562 22.0687 26.0526L24.2686 28.2524L24.9757 28.9595L25.6828 28.2524L28.2929 25.6423L29 24.9352Z",fill:"#333333"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3246 12.1326L11.2557 11.8923L16.9847 17.6214C16.842 17.8708 16.7604 18.1598 16.7604 18.4678C16.7604 19.4108 17.5249 20.1752 18.4678 20.1752C19.4108 20.1752 20.1752 19.4108 20.1752 18.4678C20.1752 17.5249 19.4108 16.7604 18.4678 16.7604C18.1597 16.7604 17.8706 16.8421 17.621 16.9849L11.8902 11.254L12.1328 11.3232L21.6815 14.0458C24.3764 14.7444 26.3664 17.1929 26.3664 20.1062C26.3664 20.7692 26.2633 21.4081 26.0723 22.0078L28.2928 24.2283L29 24.9354L28.2928 25.6425L25.6827 28.2526L24.9756 28.9597L24.2685 28.2526L22.0686 26.0527C21.4513 26.2564 20.7915 26.3666 20.106 26.3666C17.0836 26.3666 14.5615 24.2249 13.9745 21.3764L11.3246 12.1326Z",fill:"#C7B9FF"})]})},{}),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.DESIGN_CRIT)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.DESIGN_CRIT)}},user_journey:{ariaId:(0,pg.g)(),key:"user_journey",localizedLabel:()=>(0,A.t)("whiteboard.starter_kit.options.user_journey"),svg:(0,o.jsx)(function(){return(0,o.jsxs)(vW,{children:[(0,o.jsx)("path",{d:"M17 12L11 15.134V28L17 25V12Z",fill:"#5551FF"}),(0,o.jsx)("path",{d:"M18 12L23 15V28L18 25V12Z",fill:"#5551FF"}),(0,o.jsx)("path",{d:"M17.5 12V25",stroke:"white"}),(0,o.jsx)("path",{d:"M17.5 12V25",stroke:"white"}),(0,o.jsx)("path",{d:"M23.5 15V28",stroke:"white"}),(0,o.jsx)("path",{d:"M30 12L24 15V28L30 25.0309V12Z",fill:"#5551FF"})]})},{}),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.USER_JOURNEY)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.USER_JOURNEY)}},standup:{ariaId:(0,pg.g)(),key:"standup",localizedLabel:()=>(0,A.t)("whiteboard.starter_kit.standup.title"),svg:(0,o.jsx)(function(){return(0,o.jsxs)(vW,{children:[(0,o.jsx)("circle",{cx:"24",cy:"17",r:"3",fill:"#0FA958"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29 25.7143C29 22.5584 26.7614 20 24 20C21.2386 20 19 22.5584 19 25.7143H29Z",fill:"#0FA958"}),(0,o.jsxs)("mask",{id:"path-3-outside-1_878_74485",maskUnits:"userSpaceOnUse",x:"10",y:"13",width:"12",height:"14",fill:"black",children:[(0,o.jsx)("rect",{fill:"white",x:"10",y:"13",width:"12",height:"14"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 20C17.6569 20 19 18.6569 19 17C19 15.3431 17.6569 14 16 14C14.3431 14 13 15.3431 13 17C13 18.6569 14.3431 20 16 20ZM16 20C13.2386 20 11 22.5584 11 25.7143H21C21 22.5584 18.7614 20 16 20Z"})]}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 20C17.6569 20 19 18.6569 19 17C19 15.3431 17.6569 14 16 14C14.3431 14 13 15.3431 13 17C13 18.6569 14.3431 20 16 20ZM16 20C13.2386 20 11 22.5584 11 25.7143H21C21 22.5584 18.7614 20 16 20Z",fill:"#0FA958"}),(0,o.jsx)("path",{d:"M11 25.7143H10V26.7143H11V25.7143ZM21 25.7143V26.7143H22V25.7143H21ZM18 17C18 18.1046 17.1046 19 16 19V21C18.2091 21 20 19.2091 20 17H18ZM16 15C17.1046 15 18 15.8954 18 17H20C20 14.7909 18.2091 13 16 13V15ZM14 17C14 15.8954 14.8954 15 16 15V13C13.7909 13 12 14.7909 12 17H14ZM16 19C14.8954 19 14 18.1046 14 17H12C12 19.2091 13.7909 21 16 21V19ZM16 19C12.565 19 10 22.1357 10 25.7143H12C12 22.9811 13.9121 21 16 21V19ZM11 26.7143H21V24.7143H11V26.7143ZM22 25.7143C22 22.1357 19.435 19 16 19V21C18.0879 21 20 22.9811 20 25.7143H22Z",fill:"white",mask:"url(#path-3-outside-1_878_74485)"})]})},{}),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.STANDUP)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.STANDUP)}},retro:{ariaId:(0,pg.g)(),key:"retro",localizedLabel:()=>(0,A.t)("whiteboard.starter_kit.options.retro"),svg:(0,o.jsx)(function(){return(0,o.jsxs)(vW,{children:[(0,o.jsx)("circle",{cx:"20.009",cy:"20.003",r:"6.125",fill:"#0FA958"}),(0,o.jsx)("path",{fill:"#332800",fillRule:"evenodd",d:"M28.6 20a8.6 8.6 0 1 1-16.62-3.11l-.82-.378A9.475 9.475 0 0 0 10.5 20a9.5 9.5 0 1 0 9.5-9.5c-2.129 0-4.094.7-5.678 1.883l.575.694A8.6 8.6 0 0 1 28.6 20Z",clipRule:"evenodd"}),(0,o.jsx)("path",{stroke:"#332800",strokeLinecap:"round",strokeWidth:".9",d:"M20.009 15.718v4.285s2.586-.009 3.281 0"}),(0,o.jsx)("path",{fill:"#332800",d:"m11.755 14.387 2.207-3.967 2.332 3.894-4.539.073Z"}),(0,o.jsx)("ellipse",{cx:"11.556",cy:"16.736",fill:"#332800",rx:".451",ry:".557",transform:"rotate(20 11.556 16.736)"})]})},{}),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.RETRO)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.RETRO)}},templates:{ariaId:(0,pg.g)(),key:"templates",localizedLabel:()=>(0,A.t)("whiteboard.starter_kit.options.templates"),className:"starter_kit_ui--optionTemplates--UEEVb",onSelect(){c.gw5.clearFigjamStarterKitPreview()},onCommit(e){e(nZ.$O({type:l8.PH.type,data:{triggeredFrom:"starterKitMore",templateInsertionLocation:rv.RD.CURRENT_FILE}}))}}},vY=[v$.brainstorm,v$.agenda,v$.flow,v$.bug_bash,v$.design_crit,v$.user_journey,v$.retro,v$.templates];function vq(e){let{children:t,show:i,hasPreview:n}=e,r=(0,vZ.O$)(i,n);return(0,o.jsx)("div",{"data-testid":i?"starter-kit-ui-show":"starter-kit-ui-hide",className:e_()("starter_kit_ui--positioner--nIKAz",{"starter_kit_ui--positionerOpaque--eN5Q4":r}),style:{display:i?"flex":"none"},children:t})}let vX=(0,pg.g)(),vJ=(0,pg.g)();function vQ({isFromNewFile:e}){let t=(0,p.md)(vF.P),i=(0,b.dH)(),n=(0,G.tS)()||void 0,r=(0,d.wA)(),[a,s]=(0,l.useState)(!1),u=(0,l.useRef)(!1),h=e?"newFile":"recurring";(0,vZ.lG)(t,a,r),(0,vZ.At)({fileKey:n,didUserCancel:a,showStarterKit:t});let[m,f]=(0,l.useState)(-1),x=!a&&t===vZ.iH.TRUE,_=vY&&-1!==m,g=_?vY[m]:void 0,j=(0,vZ.fu)(x,_);(0,l.useEffect)(()=>{j&&f(-1)},[j]),(0,l.useEffect)(()=>{c.gw5?.setFigjamStarterKitEnabled(x),x&&e&&f(0),x||f(-1)},[x,e,f]),(0,l.useEffect)(()=>()=>{c.gw5?.setFigjamStarterKitEnabled(!1)},[]),(0,l.useEffect)(()=>{i!==c.NLJ.SELECT&&i!==c.NLJ.HAND&&f(-1)},[i]);let y=(0,vB.I)(0===m);return((0,l.useEffect)(()=>{if(!x||!g)return;let e=document.getElementById(g.ariaId);e&&e.focus()},[y,x,m,g]),(0,l.useEffect)(()=>{x||c.gw5?.clearFigjamStarterKitPreview()},[x]),(0,l.useEffect)(()=>{if(x){if(!g){c.gw5?.clearFigjamStarterKitPreview();return}"templates"!==g.key&&((0,uR.Cu)({fileKey:n,source:h,placeholderKey:g.key,starterKitPosition:m},"starter_kit_previewed"),(0,vH._)("resource_previewed",{fileKey:n,resourceType:"placeholder",resourceName:g.key,placeholderSource:h,starterKitPosition:m})),g.onSelect()}},[n,h,x,g,m]),!function(e,t){let i=(0,l.useCallback)(e,t);(0,l.useEffect)(()=>(vV.oW.on("action",i),()=>{vV.oW.removeListener("action",i)}),[i])}(e=>{switch(e){case c.KWd.PREVIOUS:f(e=>(e-1+vY.length)%vY.length);break;case c.KWd.NEXT:f(e=>(e+1)%vY.length);break;case c.KWd.CLEAR:x&&(0,uR.Cu)({fileKey:n,source:h,placeholderKey:g?.key},"starter_kit_alt_user_action"),f(-1);break;case c.KWd.CANCEL:s(!0);break;case c.KWd.COMMIT:if(!g)break;"templates"!==g.key&&((0,uR.Cu)({fileKey:n,source:h,placeholderKey:g.key,starterKitPosition:m},"starter_kit_inserted"),(0,vH._)("resource_inserted",{fileKey:n,resourceType:"placeholder",placeholderSource:h,resourceName:g.key,starterKitPosition:m})),g.onCommit(r)}},[r,vY,g,f,s,x,n,h,m]),c.gw5)?(0,o.jsx)(vq,{show:x,hasPreview:_,children:(0,o.jsx)(n_.fu,{name:"starter_kit_shown",properties:{fileKey:n,source:h},enabled:x,children:x&&(0,o.jsx)("div",{className:"starter_kit_ui--container--RLzBD",style:vZ.jm,role:"dialog","aria-labelledby":vX,"aria-describedby":vJ,onMouseLeave:()=>u.current=!0,onMouseEnter:()=>{u.current&&(c.gw5?.rotateFigjamStarterKitStrings(),u.current=!1)},children:(0,o.jsxs)(u0.i,{children:[(0,o.jsx)(e4.E,{className:"starter_kit_ui--closeButton--f40J9",onClick:()=>s(!0),"aria-label":(0,A.t)("whiteboard.starter_kit.close"),children:(0,o.jsx)(vG,{})}),(0,o.jsx)("div",{className:"starter_kit_ui--title--LN48H text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",id:vX,children:(0,A.t)("whiteboard.starter_kit.title")}),(0,o.jsx)("div",{className:"starter_kit_ui--subtitle--RFGlJ text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",id:vJ,children:(0,A.t)("whiteboard.starter_kit.subtitle")}),(0,o.jsx)(vK,{options:vY,selectedIndex:m,setSelectedIndex:f})]})})})}):null}function v0(){let e=(0,vZ.Mh)(),t=(0,vZ.nw)(e),i=!(0,m.q8)()&&(0,lq.Uy)(),n=!!(0,u.k)().figjam_generate_handbrake,r=(0,p.Xr)(vF.P);return(0,l.useEffect)(()=>{r(e)},[r,e]),(0,l.useEffect)(()=>()=>r(vZ.iH.FALSE),[r]),i&&!n?null:(0,o.jsx)(vQ,{isFromNewFile:t})}var v1=i(957070);function v2(){let e=(0,d.d4)(e=>e.multiplayerEmoji),t=(0,b.p8)("showUi"),i=(0,b.p8)("topLevelMode"),n=(0,b.p8)("currentTool")===c.NLJ.COMMENTS,r=i===c.lyf.HISTORY,a=!(0,m.q8)()&&(0,lq.Uy)(),s=(0,u.k)().figjam_quick_actions_v2,h=(0,p.Xr)(lY.H4);return(0,l.useEffect)(()=>{r&&h()},[r,h]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(nG,{}),(0,o.jsx)(ee.S4,{multiplayerEmoji:e}),(0,o.jsx)(cd,{}),a&&s&&(0,o.jsx)(l$.bY,{}),a&&(0,o.jsx)(cb,{}),(0,o.jsx)(vM,{}),!n&&!r&&(0,o.jsx)(gT,{}),!n&&!r&&(0,o.jsx)(gM,{}),!(0,m.q8)()&&(0,u.k)().figjam_ai_canvas_expand&&(0,o.jsx)(u$,{}),(0,o.jsx)(w.J,{}),(0,o.jsx)(q,{}),(0,o.jsx)(np.Nz,{}),(0,o.jsx)(vI,{}),t&&(0,o.jsx)(n5,{})]})}let v3=l.memo(({shouldShowDragAndDropBorder:e})=>{let t=(0,b.p8)("isReadOnly"),i=(0,d.d4)(e=>e.progressBarState),n=(0,b.p8)("loadingEmbeds"),r=(0,C.ut)(c.Ez5?.uiState().showCanvasSearch,!1),a=(0,b.aV)(),s=(0,l.useRef)(null),p=(0,d.d4)(e=>e.openFile),m=p?p.key:"",y=(0,d.d4)(e=>e.universalInsertModal),w=(0,d.d4)(e=>(0,ny.h)(e)),I=(0,d.wA)();(0,_.Gb)(m),(0,v.W)(!0);let L=(0,j.BI)();(0,vU.B)();let N=(0,u.k)().figjam_toolbelt_in_page_view;return(0,o.jsx)(er,{children:(0,o.jsxs)(ea.sk,{versionHistoryEnabled:!1,children:[!(h.Ay.isIpad||h.Ay.isIpadNative)&&!t&&(0,o.jsx)(v0,{}),i.mode!==c.Oin.OFF&&(0,o.jsx)("div",{className:v1._q}),(0,o.jsxs)(S.pO,{initialFilterState:{currentPage:!1},children:[n.map(e=>(0,o.jsx)(Q._,{nodeId:e},`loading-embed-${e}`)),(0,o.jsx)(es.qn,{}),(0,o.jsx)(lZ.u,{}),(0,u.k)().video_in_canvas_figjam&&(0,o.jsx)(nC.H,{}),r&&(0,o.jsx)(nh.n,{}),(0,o.jsx)(J.G,{}),(0,o.jsx)(J.b,{}),(0,o.jsx)(nv.J,{}),(0,o.jsx)(vN,{}),(0,o.jsx)(es.XI,{commentsDetailContainerRef:s}),(0,o.jsx)(v2,{}),(0,o.jsx)("div",{ref:s}),!(0,g.T)()&&(0,o.jsx)(nu,{}),(0,o.jsxs)(X.G,{children:[(0,o.jsx)(vg,{}),!!L?.shouldOptimizeForIpadApp&&(0,o.jsx)(lK.K,{}),!!L?.shouldOptimizeForIpadApp&&(0,o.jsx)(lz.t,{})]}),e&&(0,o.jsx)(np.X5,{})]}),(0,o.jsx)(E.A,{editorType:T.nT.Whiteboard,openFile:p}),(0,o.jsx)(nm.l,{}),y.showing&&(0,o.jsx)(f.tH,{boundaryKey:"FigJamBrowseAllResourcesModal",onError:()=>{I(x.F.enqueue({message:"Unable to open inserts menu",type:"react-error"}))},fallback:f.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,o.jsx)(lH,{})}),!a&&w&&(0,o.jsx)(nj,{}),N&&(0,o.jsx)(et.u,{})]})})});function v5(){let e=(0,b.dH)(),[t,i]=(0,l.useState)(!1);return(0,y.IT)((0,eI.oH)({})),(0,o.jsx)(ei.c,{children:(0,o.jsx)(eo.v,{setShouldShowDragAndDropBorder:i,isDragTarget:!0,onPointerDown:(t,i)=>{(0,es.P2)(t,i,e)},children:(0,o.jsx)(v3,{shouldShowDragAndDropBorder:t})})})}},185058:(e,t,i)=>{i.d(t,{W:()=>L});var n=i(486106),r=i(7378),a=i(944059),s=i(632989),o=i(763686),l=i(189185),d=i(27355),c=i(536384),u=i.n(c),p=i(125333),h=i(714743),m=i(589278),f=i(734251),x=i(989956),_=i(451499),g=i(455680),b=i(62612),j=i(129884),y=i(47958),v=i(204478),C=i(240545),T=i(351862),E=i(757252),S=i(357202),w=i(787735);let I=new _.AW;function L({setConnectorTool:e,isSelected:t,connectorStyle:i,recordingKey:a,size:c="large",disableDragging:m=!1,testId:x}){let _=(0,r.useRef)(null),b=(0,r.useMemo)(()=>C.X5.get(i),[i]),S=(0,r.useMemo)(()=>C.F_.get(i),[i]),L=(0,r.useMemo)(()=>I.format(i),[i]),A=(0,d.md)(p.wp),O=(0,d.md)(p.SK).connectorToolLineStyle,[k,R]=(0,d.fp)(v.Hf),M=(0,r.useCallback)(()=>{(0,T.ko)({event:T.fT.SelectedShape,shape:i,searchState:k}),R({state:"complete"}),e(i)},[k,R,e,i]),D=(0,E.U_)(),P="ELBOWED"===O?o.NLJ.CONNECTOR_ELBOWED:"CURVED"===O?o.NLJ.CONNECTOR_CURVED:o.NLJ.CONNECTOR_STRAIGHT,{dragState:U,onInsertableResourcePointerDown:F}=(0,E.Kq)({insertAction:e=>{if(!_.current)return Promise.resolve();let t=(0,y.zG)(_.current.getBoundingClientRect()),i=(0,y.C2)(e.e);return l.l7.user("drop-connector-on-canvas",()=>o.glU?.dropDiagramItemOntoCanvas(P,Math.round(t.x),Math.round(t.y),Math.round(i.x),Math.round(i.y),o.V5h.TOP_LEFT,o.VTL.NO)),g.Y5.triggerActionEnum(o.rcl.SET_TOOL_DEFAULT),Promise.resolve()},recordingKey:a}),B=r.useCallback(()=>(0,T.Zt)(P,o.VTL.NO),[P]);return b?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.n.div,{onPointerDown:m?void 0:F,"data-testid":`outer-${x}`,children:(0,n.jsx)(s.E,{className:u()({[w.Fu]:!t&&"large"===c,[w.o1]:!t&&"small"===c,[w.WB]:t&&"large"===c,[w.R2]:t&&"small"===c,[w.Wf]:!!U}),recordingKey:a,"aria-current":t,"aria-label":L,htmlAttributes:{"data-tooltip-type":j.Ib.TEXT,"data-tooltip":L,"data-testid":x,onDoubleClick:B,onFocus:M,onBlur:D},children:(0,n.jsx)(h.B,{svg:b,className:"small"===c?w.vl:void 0,style:{filter:"none"}})})}),!m&&(0,n.jsx)(N,{dragState:U,color:A,Icon:S,ref:_})]}):null}let N=(0,r.forwardRef)(function({dragState:e,color:t,Icon:i},r){let s=(0,b.Pl)({subscribeToUpdates_expensive:!1});if(!e?.dragPosition||!i)return null;let o=s*y.P,l=x.F.format(t);return(0,a.createPortal)((0,n.jsx)("div",{style:{left:e.dragPosition.x,top:e.dragPosition.y,transform:`scale(${o})`},className:u()(m.s.relative.$,w.hD,S.Nb),children:(0,n.jsx)(i,{color:l,ref:r})}),document.getElementById("fullscreen-root"))})},813960:(e,t,i)=>{i.d(t,{h:()=>N});var n=i(486106),r=i(7378),a=i(944059),s=i(632989),o=i(763686),l=i(189185),d=i(27355),c=i(536384),u=i.n(c),p=i(806412),h=i(125333),m=i(714743),f=i(552746),x=i(734251),_=i(989956),g=i(455680),b=i(62612),j=i(129884),y=i(955650),v=i(47958),C=i(27927),T=i(204478),E=i(351862),S=i(757252),w=i(357202),I=i(787735);function L(e){let t=C.Jc.get(e);if(t)return(0,C.Qd)().get(t)}function N({shapeType:e,color:t,strokeStyleType:i,addToRecentsBehavior:a,toolSetSource:c,recordingKey:m,size:_="large",disableDragging:b=!1,testId:w}){let N=(0,r.useRef)(null),[k,R]=(0,d.fp)(T.Hf),M=L(e),D=r.useCallback(()=>{(0,E.ko)({event:E.fT.SelectedShape,shape:e,searchState:k}),R({state:"complete"}),(0,E.Ac)(c,M)},[k,R,M,e,c]),P=p.rf(m,"dblclick",t=>{if(!t)return;let i=C.Jc.get(e);i&&(0,E.Zt)(i,a)}),U=(0,y.Yt)(),F=U?C.lx.get(U):null,B=(0,d.md)(h.W6),H=r.useMemo(()=>e===F&&c===B,[F,B,e,c]),V=(0,S.U_)(),{dragState:G,onInsertableResourcePointerDown:W}=(0,S.Kq)({insertAction:t=>{if(!N.current)return Promise.resolve();let i=(0,v.zG)(N.current.getBoundingClientRect()),n=(0,v.C2)(t.e);return l.l7.user("drop-shape-on-canvas",()=>o.glU?.dropDiagramItemOntoCanvas(C.Jc.get(e),Math.round(i.x),Math.round(i.y),Math.round(n.x),Math.round(n.y),o.V5h.TOP_LEFT,a)),g.Y5.triggerActionEnum(o.rcl.SET_TOOL_DEFAULT),Promise.resolve()},recordingKey:m});return M?(0,n.jsxs)(f.S.div,{children:[(0,n.jsx)(x.n.div,{onPointerDown:b?void 0:W,"data-testid":`outer-${w}`,children:(0,n.jsx)(s.E,{className:u()({[I.Fu]:!H&&"large"===_,[I.o1]:!H&&"small"===_,[I.WB]:H&&"large"===_,[I.R2]:H&&"small"===_,[I.Wf]:!!G}),onClick:D,"aria-current":H,"aria-label":M.name,htmlAttributes:{"data-tooltip-type":j.Ib.TEXT,"data-tooltip":M.name,"data-testid":w,onDoubleClick:P,onFocus:D,onBlur:V},recordingKey:m,children:(0,n.jsx)(A,{shapeType:e,size:_})})}),!b&&(0,n.jsx)(O,{dragState:G,color:t,shapeType:e,strokeStyleType:i,ref:N})]}):null}function A({shapeType:e,size:t}){let i="MINDMAP_TREE_NUCLEUS"===e;return"small"===t?i?(0,n.jsx)(m.B,{svg:(0,E.CO)(e),className:I.oF}):(0,n.jsx)(m.B,{svg:(0,E.CO)(e),className:I.Y2}):(0,n.jsx)(m.B,{svg:(0,E.CO)(e),className:I.$E,style:i?{filter:"none"}:void 0})}let O=(0,r.forwardRef)(function({dragState:e,shapeType:t,color:i,strokeStyleType:r},s){let o=(0,b.Pl)({subscribeToUpdates_expensive:!1});if(!e?.dragPosition)return null;let l=L(t);if(!l)return null;let d=o*(l.canvasToSvgScale||1),c=l.canvasToSvgScale?1/l.canvasToSvgScale:1;return(0,a.createPortal)((0,n.jsx)("div",{style:{left:e.dragPosition.x,top:e.dragPosition.y},className:w.k4,children:(0,n.jsx)("div",{className:I.g1,style:{transform:`scale(${d})`},children:(0,n.jsx)(l.Icon,{color:_.F.format(i),ref:s,shapeStrokeProps:{isDragging:!0,styleType:r,svgToCanvasScale:c}})})}),document.getElementById("fullscreen-root"))})},927391:(e,t,i)=>{i.d(t,{B:()=>l,a:()=>d});var n=i(7378),r=i(601108),a=i(27355),s=i(234821);let o=(0,i(615482).Wh)(()=>(0,a.eU)(0));function l(){let e=(0,s.n6)(),[t,i]=(0,a.fp)(o);n.useEffect(()=>{e!==t&&i(e)},[e,t,i])}let d=(0,r.k)().figjam_toolbelt_in_page_view?s.n6:function(){return(0,a.md)(o)}},405130:(e,t,i)=>{i.d(t,{m:()=>o});var n=i(7378),r=i(27355),a=i(516028),s=i(287368);function o(e){let t=(0,s.N)(),i=(0,a.q5)(),[o,l]=(0,r.fp)(e);n.useEffect(()=>{i?.canEditCanvas||t!==s.Q.REQUEST_EXISTS||o||l(!0),i?.canEditCanvas&&o&&l(!1)},[t,i,o,l])}},696626:(e,t,i)=>{i.d(t,{$R:()=>o,Hu:()=>c,Iq:()=>h,Kj:()=>p,hn:()=>l});var n=i(601108),r=i(27355),a=i(178712);function s(){return[a.Yk.TEXT,a.Yk.SECTION,a.Yk.TABLE,a.Yk.STAMP,a.Yk.COMMENTS,...(0,n.k)().figjam_quick_actions_v2?[a.Yk.ACTIONS]:[]]}function o(e){return s().slice(0,e)}function l(e){return s().slice(e)}function d(){return s().length}function c(){return{stage:"FULL",thresholdWidth:m(d()),numVisibleTools:d()}}let u={stage:"CUT_OFF",thresholdWidth:0,numVisibleTools:0},p=(0,r.eU)(u);function h(e){let t=[c()],i=d();for(let n=i-1;n>=0;n-=1)t.push({stage:`MINIMIZED_${n}`,thresholdWidth:m(n),numVisibleTools:e?n-1:n});return t.push(u),t}function m(e){return 0===e?346:346+40*e}},215761:(e,t,i)=>{i.r(t),i.d(t,{WhiteboardUI3ToolbeltWithErrorBoundary:()=>iz});var n=i(486106),r=i(7378),a=i(934246),s=i(601108),o=i(27355),l=i(783094),d=i(708845),c=i(751457),u=i(832508),p=i(47967),h=i(95367),m=i(350405),f=i(48566),x=i(109947),_=i(18800),g=i(303541),b=i(831799),j=i(644079),y=i(486443),v=i(722362),C=i(99004),T=i(106997),E=i(859828),S=i(634656),w=i(822177),I=i(300024),L=i(405130),N=i(461518),A=i(391708),O=i(849005),k=i(806412),R=i(120210),M=i(757252),D=i(365876),P=i(595754),U=i(763686),F=i(189185),B=i(536384),H=i.n(B),V=i(125333),G=i(384673),W=i(989956),K=i(129884),z=i(955650),Z=i(47958),$=i(827329),Y=i(27927),q=i(63728),X=i(511649),J=i(482208),Q=i(900567);let ee=(0,o.um)({draggedTool:void 0,draggedToolCanCancel:!0,shouldFinishClick:!0},function(e,t){switch(t.type){case"start click":return{...e,shouldFinishClick:!0};case"start drag":return{...e,draggedTool:t.tool};case"end drag":return{...e,draggedTool:void 0};case"toggle drag cancellable":return{...e,draggedToolCanCancel:!e.draggedToolCanCancel};case"cancel drag":return{...e,draggedTool:void 0,shouldFinishClick:!1};case"end insert":return{...e,shouldFinishClick:!1};default:return e}});function et(e=a.lQ,t=!0){let i=(0,o.md)(ee),[n,s]=(0,r.useState)({isHovered:!1,hoverTarget:null}),l=(0,r.useRef)(0);(0,r.useEffect)(()=>{i.draggedTool||s({isHovered:!1,hoverTarget:null})},[i.draggedTool]),(0,r.useEffect)(()=>()=>clearTimeout(l.current),[]);let d=(0,r.useCallback)(e=>(s({isHovered:!0,hoverTarget:e.target}),k.aH),[]),c=(0,r.useCallback)(e=>{n.isHovered&&e.target!==n.hoverTarget&&s({isHovered:!0,hoverTarget:e.target})},[n.hoverTarget,n.isHovered]),u=(0,r.useCallback)(()=>(clearTimeout(l.current),s({isHovered:!1,hoverTarget:null}),k.aH),[]),p=(0,r.useCallback)(n=>{n.preventDefault(),i.shouldFinishClick&&e(n),t&&s({isHovered:!0,hoverTarget:n.target})},[t,i.shouldFinishClick,e]),h=(0,r.useCallback)(n=>{n.preventDefault(),i.shouldFinishClick&&e(n),t&&s({isHovered:!1,hoverTarget:null})},[t,i.shouldFinishClick,e]);return{...n,onMouseEnter:d,onMouseLeave:u,onMouseMove:c,onTouchStart:p,onTouchEnd:h}}let ei=class e{static getMotionDivId(e){return`dlt-${e}-motion-div`}static getAnimationState(t){let i=document.querySelector(`[data-testid="${e.getMotionDivId(t)}"]`);return i?.getAttribute("data-test-animate-state")||""}};ei.RECORD_DETAILED_EVENTS=!1;var en=i(731560);let er=(0,r.forwardRef)((e,t)=>{let{toolType:i,isActive:r,onClick:a,children:s,tooltipLocation:l="above",className:d,recordingKey:c,inTabOrder:u=!0,ariaLabel:p,isHovered:h,onMouseEnter:m,onMouseMove:f,onMouseLeave:x,onTouchStart:_,onTouchEnd:g,disabled:b,testId:j,onboardingKey:y,...v}=e,[C,T]=(0,o.fp)(ee),E=Q.J,S=C.draggedTool===i,w=p||v["data-tooltip"],I=e=>{e.preventDefault(),e.stopPropagation(),C.shouldFinishClick&&a(e)};return(0,n.jsxs)(X.D8,{className:H()(en.Zh,en.$y),"data-fullscreen-intercept":!0,"data-onboarding-key":y,"data-testid":j,"data-tooltip":v["data-tooltip"],"data-tooltip-bottom-flip-margin":v["data-tooltip-bottom-flip-margin"],"data-tooltip-show-above":"above"===l||void 0,"data-tooltip-show-below":"below"===l||void 0,"data-tooltip-show-left":"left"===l||void 0,"data-tooltip-submenu-open":v["data-tooltip-submenu-open"],"data-tooltip-type":S?null:v["data-tooltip-type"],onClick:b?void 0:I,onMouseEnter:m,onMouseLeave:x,onMouseMove:f,onPointerDown:b?void 0:e=>{if(e.preventDefault(),e.stopPropagation(),T({type:"start click"}),!ei.RECORD_DETAILED_EVENTS)return k.aH},onTouchEnd:g,onTouchStart:_,recordingKey:c,children:[(0,n.jsx)(E,{className:d,isHovering:h,isSelected:r,disabled:b??!1,isDragging:S,"aria-hidden":!0,children:s}),(0,n.jsx)(X.D8,{"aria-disabled":b,"aria-hidden":!u,"aria-label":w&&u?function(e){try{return(0,J.A)(e)||e}catch(t){return e}}(w):void 0,className:H()(en.yG,en.dR,{[en.vu]:r,[en.ll]:b}),"data-fullscreen-intercept":!0,forwardedRef:t,onClick:b?void 0:I,onKeyDown:e=>{!b&&e.keyCode===q.Uz.ENTER&&C.shouldFinishClick&&a(e)},role:u?"button":void 0,tabIndex:!b&&u?0:void 0})]})}),ea=(0,r.forwardRef)(({children:e,hasExtraLongHoverTime:t,disabled:i,...r},a)=>{let{isHovered:s,hoverTarget:o,onMouseEnter:l,onMouseMove:d,onMouseLeave:c,onTouchStart:u,onTouchEnd:p}=et(r.onClick,t),h="function"==typeof e?e(s,o):e;return(0,n.jsx)(er,{...r,ref:a,isHovered:s,onMouseEnter:l,onMouseLeave:c,onMouseMove:d,onTouchStart:u,onTouchEnd:p,disabled:i,children:h})});var es=i(514228),eo=i(465776),el=i(273493),ed=i(456530),ec=i(930821),eu=i(348225),ep=i(765855),eh=i(247611),em=i(62612),ef=i(765161);let ex=r.memo(function({toolType:e,color:t,isActive:i,onTap:a,onDragEnd:s,onDragStart:l,Icon:d,IconNoRef:c,toolbarIconScale:u,canvasToSvgScale:p,isDrawingSubmenuTool:h,isDragReversing:m,stickyAnimationState:f,isHovered:x,hoverOffsetAmount:_="DEFAULT",shapeStrokeStyleType:g,disabled:b}){let[j,y]=(0,o.fp)(ee),v=(0,es.wA)(),[C,T]=r.useState(!1),[E,S]=r.useState(!1),[w,L]=r.useState(0),N=r.useRef(!1),A=j.draggedTool===e,O=j.draggedToolCanCancel,R=j.shouldFinishClick;r.useEffect(()=>{let e=e=>{"Escape"===e.key&&A&&(y({type:"end drag"}),N.current=!0,T(!1),L(w+1))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[w,A,y]),r.useEffect(()=>{let e=()=>{T(!1)};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e)}},[T]),r.useEffect(()=>(A?document.body.classList.add(en.bz):document.body.classList.remove(en.bz),()=>{document.body.classList.remove(en.bz)}),[A]);let M=r.useRef(null),D=(0,em.Pl)({subscribeToUpdates_expensive:A}),P=function(e){switch(e){case"NONE":return 0;case"STICKY":return -20;case"STICKY_UI3_PILE":return -8;case"DRAWING":return -22;case"DRAWING_SUBMENU":case"DEFAULT":return -24}}(_),F=r.useRef(null),B=(0,ed.d)(.5),V=(0,ed.d)(.5),[G,K]=r.useState(),z=A?O?"whileDragShouldCancel":"whileDrag":"pencil"===e&&i?"hiddenPencil":C?"whileTap":h&&i?"selectedSubmenuTool":!b&&x?"whileHovering":"initial";if("connector"===e&&!A){let e=(0,el.oB)(W.F.parse(t));e.l>.9&&(t=W.F.formatHSLA({h:e.h,s:e.s,l:.9,a:e.a}))}return(0,n.jsx)(X.D8,{recordingKey:k.Pt(I.SH,`${e}.animatedIcon`),className:H()(en.ke,{[en.zO]:i,[en.bj]:x,[en.Bx]:A}),onPointerDown:()=>{if(!b&&(T(!0),!ei.RECORD_DETAILED_EVENTS))return k.aH},onPointerUp:()=>{if(T(!1),!ei.RECORD_DETAILED_EVENTS)return k.aH},onTouchStart:e=>{e.preventDefault()},onTouchEnd:e=>{e.preventDefault(),!E&&R&&a(),S(!1)},onContextMenu:e=>{e.preventDefault()},children:(0,n.jsx)(ec.N,{children:(0,n.jsx)(eu.P.div,{ref:F,animate:z,"data-test-animate-state":z,drag:!b&&!!s,dragConstraints:{top:0,bottom:0,right:0,left:0},dragElastic:1,onDrag:(e,t)=>{var i;G&&((i=t.point).x>=G.x&&i.x<=G.x+G.width&&i.y>=G.y||i.y>G.y+G.height)!==O&&y({type:"toggle drag cancellable"})},onDragEnd:(e,t)=>{if(S(!0),B.set(.5),V.set(.5),O){y({type:"cancel drag"}),T(!1);return}let i=M.current;if(i){if(N.current)return;let t=(0,Z.zG)(i.getBoundingClientRect()),n=(0,Z.C2)(e);s&&s(t,n),y({type:"end drag"}),T(!1),L(w+1)}else(0,eo.KF)(!1,"Delightful tool is missing the toolref!")},onDragStart:(t,i)=>{y({type:"start drag",tool:e}),N.current=!1,U.glU?.triggerActionInUserEditScope("set-tool-default",{source:I.fK}),eh.oW.trigger("action",U.KWd.CLEAR),v(ep.jD());let n=F.current;if(n){let e=n.getBoundingClientRect();B.set((i.point.x-e.x)/e.width),V.set((i.point.y-e.y)/e.height)}if(M.current){let e=(0,ef.$R)();(0,eo.KF)(!!e,"ToolIcon can't find containing toolbar!"),K(e?.getBoundingClientRect()),l&&l()}},style:{originX:B,originY:V},transformTemplate:(e,t)=>"translate3d(0px, 0px, 0) scale(1, 1)"===t?"none":t,transition:{duration:.1,ease:[.12,.23,.5,1]},variants:{initial:{scale:1,y:0},selectedSubmenuTool:{y:P},whileTap:{y:P,scale:.93},whileDragShouldCancel:{y:P,scale:.93},whileDrag:{y:P,scale:D*(p||1)},whileHovering:{y:P},hiddenPencil:{y:72}},children:d?(0,n.jsx)(d,{color:t,toolbarIconScale:u,ref:M,isBeingDraggedForPlacement:A,shouldAnimate:A,isReversing:m,stickyAnimationState:f,shapeStrokeProps:{isDragging:A,styleType:void 0!==g?g:U.xbm.NONE,svgToCanvasScale:p&&u?1/(p*u):1}}):c})},String(w))})}),e_=["SQUARE","ELLIPSE","DIAMOND","TRIANGLE_UP","TRIANGLE_DOWN","ROUNDED_RECTANGLE","ENG_DATABASE","MINDMAP_TREE_NUCLEUS"];var eg=i(307066);function eb(e){let t=Y.lx.get(e),i=t&&e_.includes(t),n=e===U.NLJ.CONNECTOR_ELBOWED,r=e===U.NLJ.CONNECTOR_CURVED&&(0,s.k)().ad_curved_connectors,a=e===U.NLJ.CONNECTOR_STRAIGHT;return i||n||r||a}function ej(){let{activeSecondaryToolbeltId:e}=(0,G.LH)();return e===eg.w.DiagrammingTools}let ey="shapeCollage";var ev=i(27776);let eC="shapes_collage--ignorePointerEvents--kxZ7g",eT=ev.YCy,eE=ev.zuZ,eS={ELBOWED:{action:U.rcl.SET_TOOL_CONNECTOR_ELBOWED,tool:U.NLJ.CONNECTOR_ELBOWED,Icon:$.EJ},CURVED:{action:U.rcl.SET_TOOL_CONNECTOR_CURVED,tool:U.NLJ.CONNECTOR_CURVED,Icon:$.Mm},STRAIGHT:{action:U.rcl.SET_TOOL_CONNECTOR_STRAIGHT,tool:U.NLJ.CONNECTOR_STRAIGHT,Icon:$.vO}};function ew({collageShapeItems:e,onClick:t,disabled:i}){let a=(0,r.useRef)(null);return(0,n.jsx)("div",{className:"shapes_collage--collageButtonContainer--5SEqf",ref:a,children:(0,n.jsx)("div",{className:H()(en.z6,"shapes_collage--collageButton---Ws2a"),children:e.map((e,r)=>{let a=e.shapeType;return"ELBOWED"===a||"CURVED"===a||"STRAIGHT"===a||"STRAIGHT_NO_ENDPOINTS"===a?(0,n.jsx)(eA,{collageItem:e,onClick:t,disabled:i},`connector-${r}`):(0,n.jsx)(eO,{shapeType:a,collageItem:e,onClick:t,disabled:i},`shape-${r}`)})})})}let eI=r.memo(function({shapeType:e,toolbarIconScale:t,onClick:i,disabled:a,onboardingKey:s}){let{draggedTool:l}=(0,o.md)(ee),{activeSecondaryToolbeltId:d}=(0,G.LH)(),c=Y.Jc.get(e),u=c===(0,z.Yt)(),p=(0,o.md)(V.ez),h=W.F.format(p),m=(0,o.md)(V.U9),f=(0,Y.Qd)().get(c),x=(0,r.useCallback)(()=>{f&&i(c)},[f,i,c]),_=`shape-${e.toLowerCase()}`,g=l===_,b=(0,r.useCallback)((e,t)=>{F.l7.user("drop-shape-on-canvas",()=>U.glU?.dropDiagramItemOntoCanvas(c,Math.round(e.x),Math.round(e.y),Math.round(t.x),Math.round(t.y),U.V5h.TOP_LEFT,U.VTL.NO))},[c]);if(!f)return null;let j=(f?.canvasToSvgScale||1)/t,y=!!l||d===eg.w.DiagrammingTools;return(0,n.jsx)(ea,{className:H()(en.z6,{[eC]:g}),"data-tooltip":g?void 0:f.action,"data-tooltip-submenu-open":y,"data-tooltip-type":K.Ib.LOOKUP,disabled:a,inTabOrder:!1,isActive:u,onClick:x,onboardingKey:s,recordingKey:k.Pt(ey,_),toolType:_,children:(0,n.jsx)(ex,{Icon:f.Icon,canvasToSvgScale:j,color:h,hoverOffsetAmount:"NONE",isActive:u,isHovered:!1,onDragEnd:b,onTap:x,shapeStrokeStyleType:m,toolType:_,toolbarIconScale:t})})});function eL({zIndex:e,width:t,height:i,children:r,position:a,hasShadow:s}){return(0,n.jsx)("div",{className:H()("shapes_collage--collageIconContainer--RdU1N",{[en.ac]:s}),style:{zIndex:e,width:t,height:i,transform:a,pointerEvents:"auto"},children:(0,n.jsx)("div",{className:"shapes_collage--collageScaleContainer--loton",children:r})})}function eN(e){return`translate(${e.x}px, ${e.y}px)`}let eA=(0,r.memo)(function({collageItem:e,onClick:t,disabled:i}){let{draggedTool:r}=(0,o.md)(ee);return(0,n.jsx)(eL,{zIndex:"connector"===r?eE:eT+1,width:e.width,height:e.height,position:eN({x:e.position.x,y:e.position.y}),hasShadow:!0,children:(0,n.jsx)(ek,{toolbarIconScale:e.scale,onClick:t,disabled:i})})}),eO=(0,r.memo)(function({shapeType:e,collageItem:t,onClick:i,disabled:r}){let{draggedTool:a}=(0,o.md)(ee),s=`shape-${e.toLowerCase()}`;return(0,n.jsx)(eL,{zIndex:a===s?eE:eT+1,width:t.width,height:t.height,position:eN({x:t.position.x,y:t.position.y}),hasShadow:!0,children:(0,n.jsx)(eI,{shapeType:e,toolbarIconScale:t.scale,onClick:i,disabled:r,onboardingKey:t.onboardingKey})})});function ek({toolbarIconScale:e,onClick:t,disabled:i}){let{draggedTool:a}=(0,o.md)(ee),{activeSecondaryToolbeltId:s}=(0,G.LH)(),l=(0,z.Uo)(),d=(0,o.md)(V.SK).connectorToolLineStyle,c=(0,o.md)(V.wp),u=W.F.format(c),p=(0,r.useCallback)(()=>{t(eS[d].tool)},[d,t]),h="connector"===a,m=(0,r.useCallback)((e,t)=>{F.l7.user("drop-connector-on-canvas",()=>U.glU?.dropDiagramItemOntoCanvas(eS[d].tool,Math.round(e.x),Math.round(e.y+7*Z.P),Math.round(t.x),Math.round(t.y),U.V5h.TOP_LEFT,U.VTL.NO))},[d]),f=eS[d].Icon,x="connector",_=!!a||s===eg.w.DiagrammingTools;return(0,n.jsx)(ea,{className:H()(en.z6,{[eC]:h}),"data-tooltip":h?void 0:"set-tool-connector-elbowed","data-tooltip-submenu-open":_,"data-tooltip-type":K.Ib.LOOKUP,disabled:i,inTabOrder:!1,isActive:l,onClick:p,onboardingKey:I.Nr,recordingKey:k.Pt(ey,x),toolType:x,children:(0,n.jsx)(ex,{Icon:f,canvasToSvgScale:Z.P,color:u,hoverOffsetAmount:"NONE",isActive:l,isHovered:!1,onDragEnd:m,onTap:p,toolType:x,toolbarIconScale:e})})}var eR=i(645772),eM=i(632989);function eD(e){let{children:t,isActive:i,onClick:a,onboardingKey:s,size:l,forceHover:d}=e,c=r.useContext(f.sg),u=e.disabled||c,{activeSecondaryToolbeltId:p}=(0,G.LH)(),{draggedTool:h}=(0,o.md)(ee),m=!!h||e.secondaryToolbeltId===p;return(0,n.jsx)(eM.E,{"aria-disabled":u,"aria-hidden":u,"aria-label":e.tooltipText,"aria-pressed":e.isActive,className:H()("whiteboard_delightful_button--whiteboardDelightfulButton--G16hR",{"whiteboard_delightful_button--whiteboardDelightfulButtonHoverBgEnabled--F3JlY":!e.hoverBgDisabled,"whiteboard_delightful_button--whiteboardDelightfulButtonActive--BvtWZ":!u&&i,"whiteboard_delightful_button--forceHover--0DaXN":!u&&!i&&d,"whiteboard_delightful_button--pointerEventsDisabled--iQ41n":u}),disabled:u,htmlAttributes:{"data-onboarding-key":s,"data-testid":e["data-testid"],"data-tooltip-type":K.Ib.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-shortcut":e.tooltipShortcut,"data-tooltip-show-above":!0,"data-tooltip-submenu-open":m,"data-tooltip-offset-y":-12,id:e.elementId},onClick:a,recordingKey:e.recordingKey,style:{width:l?.width,height:l?.height},children:t})}var eP=i(178712);function eU({disabled:e}){let{activeToolId:t,handleToolAction:i}=(0,eR.W)(),[a,s]=r.useState(!1),o=ej(),l=(0,R.LR)(),d=(0,D.C)(),c=(0,M.AE)(),u=eP.Yk.SHAPE_COLLAGE,p=r.useCallback(()=>{c?(d({setToolToDefault:!1}),i({type:eg.fo.ACTIVATE_TOOL,toolId:u.toolId})):i({type:eg.fo.TOGGLE_SUBMENU_AND_TOOL,toolIdToActivate:u.toolId,secondaryToolbeltId:eg.w.DiagrammingTools})},[i,u.toolId,c,d]),h=r.useCallback(e=>{if(l(!1),c){d({setToolToDefault:!1}),i({type:eg.fo.ACTIVATE_TOOL,toolId:e});return}t===e?i({type:eg.fo.TOGGLE_SUBMENU_AND_TOOL,toolIdToActivate:e,secondaryToolbeltId:eg.w.DiagrammingTools}):i({type:eg.fo.ACTIVATE_TOOL,toolId:e})},[l,c,t,d,i]),m=r.useMemo(()=>({position:"absolute",top:a&&!e?-24:-20,transition:"ease-in-out 0.07s all",pointerEvents:"none"}),[a,e]);return(0,n.jsxs)("div",{role:"group",style:{position:"relative"},onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[(0,n.jsx)(eD,{"data-testid":"toolbelt-shapes-button",disabled:e,forceHover:a,isActive:o,onClick:p,onboardingKey:u.onboardingKey,recordingKey:k.Pt(P.I1,u.recordingKey),secondaryToolbeltId:eg.w.DiagrammingTools,size:{width:64,height:40},tooltipText:u.getText()}),(0,n.jsx)("div",{style:m,children:(0,n.jsx)(ew,{collageShapeItems:eF,onClick:h,disabled:e})})]})}let eF=[{shapeType:"SQUARE",zIndex:2,width:24,height:24,position:{x:6,y:26},scale:22/128,onboardingKey:I.WB},{shapeType:"ELBOWED",zIndex:0,width:24,height:24,position:{x:40,y:18},scale:.55},{shapeType:"ELLIPSE",zIndex:1,width:24,height:24,position:{x:36,y:40},scale:18/112}];var eB=i(370763),eH=i(397954),eV=i(916469),eG=i(634288),eW=i(385690),eK=i(927391);function ez({toolbarState:e,disabled:t}){let i=(0,eK.a)();return(0,n.jsx)(eP.iy,{staticToolConfig:eP.Yk.COMMENTS,toolbarState:e,extendedData:{numUnreadComments:i},disabled:t})}var eZ=i(191804),e$=i(847494),eY=i(185058),eq=i(351862),eX=i(813960),eJ=i(521428);function eQ(){let e=(0,D.C)();return(0,n.jsx)(eJ.$n,{onClick:()=>e(),variant:"secondary",recordingKey:k.Pt(P.d6,"MORESHAPES"),children:(0,g.tx)("whiteboard.shapes.more_shapes")})}var e0=i(932285),e1=i(666387),e2=i(439493);function e3({children:e}){let[t,i]=r.useState(!1),{openColorPalettePicker:a,closeColorPalettePicker:s}=(0,S.$J)(i);return(0,n.jsxs)(e2.W1,{children:[(0,n.jsx)("div",{className:"shape_tool_color_picker_popover--container--X-ipf",children:e}),(0,n.jsx)(e1.s,{colorPalettePickerState:{openColorPalettePicker:a,closeColorPalettePicker:s,isColorPalettePickerOpen:t},paletteType:"base",recordingKey:k.Pt(P.d6,"PALETTE_PICKER"),isInDltSubmenu:!1})]})}function e5(){let e=(0,o.md)(V.ez),t=function(e){let t=(0,o.md)(V.SK),i=(0,o.Xr)(V.ez),{shapeWithTextType:n}=t;return r.useCallback(t=>{i(t);let r=Y.Jc.get(n);if(!r)return;let a=(0,Y.Qd)(),s=a.get(r)?.actionEnum??U.rcl.SET_TOOL_DEFAULT;U.glU?.triggerActionEnumInUserEditScope(s,{source:e})},[i,n,e])}(I.fK),[i,a]=r.useState(!1);return(0,n.jsx)(e0.ZE,{ariaLabel:(0,g.t)("whiteboard.inline_menu.color_list_box"),buttonBackground:"light",buttonCaretType:"down",buttonClassName:"shape_tool_color_selector--colorSelectorButton--cWibX",buttonSize:"xsmall",colorButtonSizeOverride:{buttonSize:{height:"24px",width:"40px"},buttonChildrenSize:{height:"24px",width:"24px"}},isColorPopoverOpen:i,onColorChange:t,optionSize:"medium",palettePickerPopoverWrapper:e3,paletteType:"base",recordingKey:k.Pt(P.d6,"shape-color"),setIsColorPopoverOpen:a,shouldRenderCirclesWithContentBoxSizing:!0,swatchStyle:{border:"1px solid var(--ramp-grey-500)"},theme:"light",value:e})}function e6(){let e=(0,o.md)(V.U9),t=(0,eq.DP)(),i=(0,eq.vz)(),a=r.useMemo(()=>(0,s.k)().ad_curved_connectors?["ELBOWED","CURVED","STRAIGHT","STRAIGHT_NO_ENDPOINTS"]:["ELBOWED","STRAIGHT","STRAIGHT_NO_ENDPOINTS"],[]);return(0,n.jsxs)(e$.a,{ariaLabel:(0,g.t)("whiteboard.delightful_toolbar.shapes_and_connectors_label"),children:[(0,n.jsx)(e5,{}),(0,n.jsx)(m.X,{extended:!0}),(0,n.jsxs)(Y.Lz,{children:[a.map(e=>(0,n.jsx)(eY.W,{isSelected:t(e),connectorStyle:e,setConnectorTool:i,size:"small",recordingKey:k.Pt(P.d6,e),disableDragging:!0},e)),e_.map(t=>(0,n.jsx)(eX.h,{shapeType:t,color:eZ.UE,strokeStyleType:e,addToRecentsBehavior:U.VTL.YES,toolSetSource:U.qq.NONE,size:"small",disableDragging:"MINDMAP_TREE_NUCLEUS"===t,recordingKey:k.Pt(P.d6,t)},t))]}),(0,n.jsx)(m.X,{extended:!0}),(0,n.jsx)(eQ,{})]})}var e4=i(640506),e9=i(227463),e8=i(999133),e7=i(125019),te=i(449184),tt=i(39751),ti=i(736624),tn=i(935965),tr=i(455680),ta=i(619652),ts=i(258517),to=i(888175),tl=i(368611),td=i(371825);function tc(){let e=(0,o.md)(V.GI);return e.paints?.[0]?.color}function tu(){let e=(0,o.md)(V.IZ);return e.paints?.[0]?.color}function tp(e){let t=(0,o.md)(V.GI),i=(0,o.md)(V.IZ);if(!e||!(0,eG.BG)(e))return null;switch(e){case U.NLJ.VECTOR_PENCIL:return t.strokeWeight===to.uM?"THICK":"THIN";case U.NLJ.HIGHLIGHTER:return i.strokeWeight===to.Iz?"THICK":"THIN";case U.NLJ.WASHI_TAPE:case U.NLJ.ERASER:case null:return null;default:(0,eo.xb)(e)}}function th(){let{washiTapePaint:e}=(0,o.md)(V.SK);return e?.image?.hash&&(0,e7.nj)(e.image.hash)}function tm(){let e=th();return r.useMemo(()=>!!e&&!td.B.map(e=>e.image).includes(e),[e])}function tf(){tr.Y5.updateAppModel({currentSelectedProperty:{type:U.rrT.STROKE_PRESET,indices:[0]}}),U.glU?.uploadPaintImage("NORMAL",1)}let tx=(0,o.eU)(null);function t_(){let e=tm(),{washiTapePaint:t}=(0,o.md)(V.SK),i=t?.image?.hash,[n,a]=(0,o.fp)(tx),s=n?.paintHex;return r.useEffect(()=>{if(!e||!i)return;let n=(0,e7.B9)(i);n!==s&&a({paintHex:n,imageSrc:function(e){let t=(e.originalImageWidth||244)/(e.originalImageHeight||244),i=ta.jS(e,new ti.Mi(244*t,244),{r:0,g:0,b:0,a:0});return i&&i.pixels&&i.pixelSize?ta.Pv(i.pixels,i.pixelSize):null}(t)})},[e,i,s,t,a]),e&&n?n.imageSrc:null}function tg(){let{currentDrawingTool:e,currentColor:t,colorSetLegend:i,canEditColor:a,canApplyCustomColor:s}=function(){let e=(0,o.md)(e8.XS),t=tc(),i=tu();switch(e){case U.NLJ.VECTOR_PENCIL:return{currentDrawingTool:e,currentColor:t??null,colorSetLegend:(0,g.t)("whiteboard.delightful_toolbar.marker.color_selector.legend"),canApplyCustomColor:!0,canEditColor:!0};case U.NLJ.HIGHLIGHTER:return{currentDrawingTool:e,currentColor:i??null,colorSetLegend:(0,g.t)("whiteboard.delightful_toolbar.highlighter.color_selector.legend"),canApplyCustomColor:!1,canEditColor:!0};case U.NLJ.WASHI_TAPE:case U.NLJ.ERASER:return{currentDrawingTool:e,currentColor:null,colorSetLegend:null,canApplyCustomColor:!1,canEditColor:!1};case null:return{currentDrawingTool:U.NLJ.VECTOR_PENCIL,currentColor:t??null,colorSetLegend:null,canApplyCustomColor:!1,canEditColor:!1};default:return(0,eo.xb)(e)}}(),l=function(){let e=(0,o.md)(e8.XS),[t,i]=(0,o.fp)(V.GI),[n,a]=(0,o.fp)(V.IZ);return r.useCallback(r=>{let s=[{type:"SOLID",color:r}];switch(e){case U.NLJ.HIGHLIGHTER:a({...n,paints:s});break;case U.NLJ.VECTOR_PENCIL:i({...t,paints:s});break;case U.NLJ.WASHI_TAPE:case U.NLJ.ERASER:case null:break;default:(0,eo.xb)(e)}ts.F.trackFromFullscreen("Drawing Tool Change Color",{source:"default",color:W.F.format(r),tool:e?U.NLJ[e]:""})},[t,i,n,a,e])}(),d=r.useCallback(e=>{e&&a&&l(e)},[a,l]);return(0,n.jsx)(e9.N,{toolId:e,legend:i??"",color:t,onColorChange:d,canApplyCustomColor:s,disabled:!a,recordingKey:P.t1,"data-testid":"drawing-tool-color-swatch-picker"})}var tb=i(431620);function tj(){let e=tp((0,o.md)(e8.XS)),t=function(){let e=(0,o.md)(e8.XS),[t,i]=(0,o.fp)(V.GI),[n,a]=(0,o.fp)(V.IZ);return r.useCallback(r=>{switch(e){case U.NLJ.HIGHLIGHTER:a({...n,strokeWeight:"THIN"===r?to.g5:to.Iz});break;case U.NLJ.VECTOR_PENCIL:i({...t,strokeWeight:"THIN"===r?to.wv:to.uM});break;case U.NLJ.ERASER:case U.NLJ.WASHI_TAPE:case null:break;default:(0,eo.xb)(e)}(0,te.sx)("Drawing Tool Change Thickness",{thickness:r,tool:e?U.NLJ[e]:""})},[e,t,n,i,a])}(),i=function(){let e=(0,o.md)(e8.XS);switch(e){case U.NLJ.VECTOR_PENCIL:case U.NLJ.HIGHLIGHTER:return!0;case U.NLJ.ERASER:case U.NLJ.WASHI_TAPE:case null:return!1;default:(0,eo.xb)(e)}}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tb.vm,{buttonType:tb.Vz.Toggle,isActive:"THIN"===e,onClick:()=>t("THIN"),tooltipText:(0,g.t)("whiteboard.delightful_toolbar.thin"),disabled:!i,recordingKey:k.Pt(P.t1,"sizeSelect.thin"),children:(0,n.jsx)(tv,{stroke:"THIN"===e?"var(--color-bg-figjam)":"var(--color-icon-secondary)"})}),(0,n.jsx)(tb.vm,{buttonType:tb.Vz.Toggle,isActive:"THICK"===e,onClick:()=>t("THICK"),tooltipText:(0,g.t)("whiteboard.delightful_toolbar.thick"),disabled:!i,recordingKey:k.Pt(P.t1,"sizeSelect.thick"),children:(0,n.jsx)(tC,{stroke:"THICK"===e?"var(--color-bg-figjam)":"var(--color-icon-secondary)"})})]})}var ty=(e=>(e.DEFAULT="var(--color-icon-secondary)",e.SELECTED="var(--color-bg-figjam)",e))(ty||{});function tv({stroke:e}){return(0,n.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,n.jsx)("path",{d:"M0 5C0 2.23858 2.23858 0 5 0H19.0001C21.7615 0 24.0001 2.23858 24.0001 5V19.0001C24.0001 21.7615 21.7615 24.0001 19.0001 24.0001H5C2.23858 24.0001 0 21.7615 0 19.0001V5Z"}),(0,n.jsx)("path",{d:"M6.5 14.5C7.54992 11.5755 10.2886 8.5 11.5 8.5C13.4006 8.5 12.268 13.4943 14.3243 13.4943C15.79 13.4943 17.5 11.5 17.5 11.5",stroke:e,strokeLinecap:"round",strokeLinejoin:"round"})]})}function tC({stroke:e}){return(0,n.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,n.jsx)("path",{d:"M6.50018 15C7.5501 12.0755 10.2888 9 11.5002 9C13.4008 9 12.2682 13.9943 14.3245 13.9943C15.7902 13.9943 17.5002 12 17.5002 12",stroke:e,strokeOpacity:"0.5",strokeWidth:"4",strokeLinecap:"round"})})}function tT(){return(0,n.jsxs)("svg",{width:"28",height:"66",viewBox:"0 0 28 66",fill:"none",style:{filter:"drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.1)) drop-shadow(0px 3px 8px rgba(0, 0, 0, 0.1)) drop-shadow(0px 0px 0.5px rgba(0, 0, 0, 0.18))"},children:[(0,n.jsxs)("g",{filter:"url(#filter0_ii_4_711)",children:[(0,n.jsx)("path",{d:"M2.5 7.00561C2.5 4.59895 2.5 3.39562 2.96741 2.47427C3.37859 1.66377 4.03491 1.00359 4.84299 0.587668C5.76159 0.114868 6.96489 0.107819 9.37151 0.0937207L18.4313 0.0406478C20.859 0.0264259 22.0729 0.0193149 23.0015 0.486985C23.8184 0.898339 24.4836 1.5583 24.9013 2.37185C25.3763 3.29677 25.3788 4.51067 25.3838 6.93845L25.5 64H2.5V7.00561Z",fill:"#FFA4A4"}),(0,n.jsx)("path",{d:"M2.5 7.00561C2.5 4.59895 2.5 3.39562 2.96741 2.47427C3.37859 1.66377 4.03491 1.00359 4.84299 0.587668C5.76159 0.114868 6.96489 0.107819 9.37151 0.0937207L18.4313 0.0406478C20.859 0.0264259 22.0729 0.0193149 23.0015 0.486985C23.8184 0.898339 24.4836 1.5583 24.9013 2.37185C25.3763 3.29677 25.3788 4.51067 25.3838 6.93845L25.5 64H2.5V7.00561Z",fill:"url(#paint0_radial_4_711)"}),(0,n.jsx)("path",{d:"M2.5 7.00561C2.5 4.59895 2.5 3.39562 2.96741 2.47427C3.37859 1.66377 4.03491 1.00359 4.84299 0.587668C5.76159 0.114868 6.96489 0.107819 9.37151 0.0937207L18.4313 0.0406478C20.859 0.0264259 22.0729 0.0193149 23.0015 0.486985C23.8184 0.898339 24.4836 1.5583 24.9013 2.37185C25.3763 3.29677 25.3788 4.51067 25.3838 6.93845L25.5 64H2.5V7.00561Z",fill:"url(#paint1_linear_4_711)",fillOpacity:"0.2"})]}),(0,n.jsx)("path",{d:"M18.4326 0.291016C19.6506 0.28388 20.5493 0.278082 21.2598 0.332031C21.8787 0.379037 22.3381 0.470115 22.7266 0.634766L22.8887 0.709961C23.5621 1.04912 24.1263 1.56814 24.5205 2.20605L24.6787 2.48633C24.895 2.90755 25.01 3.40538 25.0693 4.1123C25.1289 4.82221 25.1313 5.7207 25.1338 6.93848L25.249 63.75H2.75V7.00586C2.75 5.79842 2.75021 4.90745 2.80762 4.20312C2.85763 3.58967 2.95035 3.13438 3.11523 2.74902L3.19043 2.58691C3.5778 1.82354 4.19591 1.20136 4.95703 0.80957C5.37549 0.59419 5.87025 0.479244 6.57129 0.417969C7.27522 0.356458 8.16577 0.350822 9.37305 0.34375L18.4326 0.291016Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"}),(0,n.jsx)("g",{filter:"url(#filter1_f_4_711)",children:(0,n.jsx)("path",{d:"M3 15.32C3 12.9341 4.93413 11 7.32 11H20.68C23.0659 11 25 12.9341 25 15.32V63H3V15.32Z",fill:"black",fillOpacity:"0.15"})}),(0,n.jsx)("g",{clipPath:"url(#clip0_4_711)",children:(0,n.jsx)("g",{filter:"url(#filter2_f_4_711)",children:(0,n.jsx)("path",{d:"M3.5 4.32C3.5 1.93413 5.43413 0 7.82 0H20.18C22.5659 0 24.5 1.93413 24.5 4.32V6.68C24.5 9.06587 22.5659 11 20.18 11H7.82C5.43413 11 3.5 9.06587 3.5 6.68V4.32Z",fill:"white",fillOpacity:"0.32"})})}),(0,n.jsxs)("g",{filter:"url(#filter3_i_4_711)",children:[(0,n.jsx)("rect",{x:"2",y:"32",width:"24",height:"28",rx:"0.5",fill:"#7070E9"}),(0,n.jsx)("rect",{x:"2",y:"32",width:"24",height:"28",rx:"0.5",fill:"url(#paint2_linear_4_711)",fillOpacity:"0.6"})]}),(0,n.jsx)("rect",{x:"2.25",y:"32.25",width:"23.5",height:"27.5",rx:"0.25",stroke:"black",strokeOpacity:"0.4",strokeWidth:"0.5"}),(0,n.jsxs)("g",{filter:"url(#filter4_di_4_711)",children:[(0,n.jsx)("path",{d:"M5 34C5 32.8954 5.89543 32 7 32H25.5C25.7761 32 26 32.2239 26 32.5V59.5C26 59.7761 25.7761 60 25.5 60H7C5.89543 60 5 59.1046 5 58V34Z",fill:"#7070E9"}),(0,n.jsx)("path",{d:"M5 34C5 32.8954 5.89543 32 7 32H25.5C25.7761 32 26 32.2239 26 32.5V59.5C26 59.7761 25.7761 60 25.5 60H7C5.89543 60 5 59.1046 5 58V34Z",fill:"url(#paint3_linear_4_711)",fillOpacity:"0.6"}),(0,n.jsx)("path",{d:"M7 32.25H25.5C25.6381 32.25 25.75 32.3619 25.75 32.5V59.5C25.75 59.6381 25.6381 59.75 25.5 59.75H7C6.0335 59.75 5.25 58.9665 5.25 58V34C5.25 33.0335 6.0335 32.25 7 32.25Z",stroke:"black",strokeOpacity:"0.4",strokeWidth:"0.5"})]}),(0,n.jsx)("path",{d:"M11 59.5L11 32.5L20 32.5L20 59.5L11 59.5Z",fill:"white"}),(0,n.jsx)("path",{d:"M17 42L17 40L12 40L12 42L17 42ZM17 44L17 43L12 43L12 44L17 44ZM17 46L17 45L12 45L12 46L17 46ZM17 48L17 47L12 47L12 48L17 48ZM17 53L17 50L12 50L12 53L17 53ZM12 55L17 55L17 54L12 54L12 55Z",fill:"#101010"}),(0,n.jsxs)("mask",{id:"mask0_4_711",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"2",y:"32",width:"24",height:"32",children:[(0,n.jsx)("mask",{id:"path-12-inside-1_4_711",fill:"white",children:(0,n.jsx)("path",{d:"M26 63C26 63.5523 25.5523 64 25 64H3C2.44772 64 2 63.5523 2 63V33C2 32.4477 2.44772 32 3 32H4.57695C4.8258 32 5 32.2512 5 32.5V32.5C5 33.3284 5.67157 34 6.5 34C7.32843 34 8 33.3284 8 32.5V32.5C8 32.2512 8.1742 32 8.42305 32H19.577C19.8258 32 20 32.2512 20 32.5V32.5C20 33.3284 20.6716 34 21.5 34C22.3284 34 23 33.3284 23 32.5V32.5C23 32.2512 23.1742 32 23.423 32H25C25.5523 32 26 32.4477 26 33V63Z"})}),(0,n.jsx)("path",{d:"M26 63C26 63.5523 25.5523 64 25 64H3C2.44772 64 2 63.5523 2 63V33C2 32.4477 2.44772 32 3 32H4.57695C4.8258 32 5 32.2512 5 32.5V32.5C5 33.3284 5.67157 34 6.5 34C7.32843 34 8 33.3284 8 32.5V32.5C8 32.2512 8.1742 32 8.42305 32H19.577C19.8258 32 20 32.2512 20 32.5V32.5C20 33.3284 20.6716 34 21.5 34C22.3284 34 23 33.3284 23 32.5V32.5C23 32.2512 23.1742 32 23.423 32H25C25.5523 32 26 32.4477 26 33V63Z",fill:"#E2CFB8"}),(0,n.jsx)("path",{d:"M26 63C26 63.5523 25.5523 64 25 64H3C2.44772 64 2 63.5523 2 63V33C2 32.4477 2.44772 32 3 32H4.57695C4.8258 32 5 32.2512 5 32.5V32.5C5 33.3284 5.67157 34 6.5 34C7.32843 34 8 33.3284 8 32.5V32.5C8 32.2512 8.1742 32 8.42305 32H19.577C19.8258 32 20 32.2512 20 32.5V32.5C20 33.3284 20.6716 34 21.5 34C22.3284 34 23 33.3284 23 32.5V32.5C23 32.2512 23.1742 32 23.423 32H25C25.5523 32 26 32.4477 26 33V63Z",fill:"url(#paint4_linear_4_711)",fillOpacity:"0.6"}),(0,n.jsx)("path",{d:"M25 64V63.5H3V64V64.5H25V64ZM2 63H2.5V33H2H1.5V63H2ZM3 32V32.5H4.57695V32V31.5H3V32ZM5 32.5H4.5C4.5 33.6046 5.39543 34.5 6.5 34.5V34V33.5C5.94772 33.5 5.5 33.0523 5.5 32.5H5ZM6.5 34V34.5C7.60457 34.5 8.5 33.6046 8.5 32.5H8H7.5C7.5 33.0523 7.05228 33.5 6.5 33.5V34ZM8.42305 32V32.5H19.577V32V31.5H8.42305V32ZM20 32.5H19.5C19.5 33.6046 20.3954 34.5 21.5 34.5V34V33.5C20.9477 33.5 20.5 33.0523 20.5 32.5H20ZM21.5 34V34.5C22.6046 34.5 23.5 33.6046 23.5 32.5H23H22.5C22.5 33.0523 22.0523 33.5 21.5 33.5V34ZM23.423 32V32.5H25V32V31.5H23.423V32ZM26 33H25.5V63H26H26.5V33H26ZM19.577 32V32.5C19.5526 32.5 19.5296 32.4933 19.5123 32.4841C19.4966 32.4757 19.4905 32.4679 19.4904 32.4679C19.4903 32.4676 19.491 32.4686 19.4923 32.4709C19.4936 32.4733 19.495 32.4764 19.4963 32.4801C19.4991 32.4882 19.5 32.4955 19.5 32.5H20H20.5C20.5 32.2649 20.4196 32.0297 20.2732 31.8455C20.1235 31.6573 19.8831 31.5 19.577 31.5V32ZM4.57695 32V32.5C4.55259 32.5 4.5296 32.4933 4.51234 32.4841C4.4966 32.4757 4.49046 32.4679 4.49043 32.4679C4.49026 32.4676 4.49105 32.4686 4.49231 32.4709C4.49357 32.4733 4.49499 32.4764 4.49629 32.4801C4.49907 32.4882 4.5 32.4955 4.5 32.5H5H5.5C5.5 32.2649 5.41961 32.0297 5.27316 31.8455C5.12351 31.6573 4.88308 31.5 4.57695 31.5V32ZM8 32.5H8.5C8.5 32.4955 8.50093 32.4882 8.50371 32.4801C8.50501 32.4764 8.50643 32.4733 8.50769 32.4709C8.50895 32.4686 8.50974 32.4676 8.50957 32.4679C8.50954 32.4679 8.5034 32.4757 8.48766 32.4841C8.4704 32.4933 8.44741 32.5 8.42305 32.5V32V31.5C8.11692 31.5 7.87649 31.6573 7.72684 31.8455C7.58039 32.0297 7.5 32.2649 7.5 32.5H8ZM25 32V32.5C25.2761 32.5 25.5 32.7239 25.5 33H26H26.5C26.5 32.1716 25.8284 31.5 25 31.5V32ZM2 33H2.5C2.5 32.7239 2.72386 32.5 3 32.5V32V31.5C2.17157 31.5 1.5 32.1716 1.5 33H2ZM23 32.5H23.5C23.5 32.4955 23.5009 32.4882 23.5037 32.4801C23.505 32.4764 23.5064 32.4733 23.5077 32.4709C23.509 32.4686 23.5097 32.4676 23.5096 32.4679C23.5095 32.4679 23.5034 32.4757 23.4877 32.4841C23.4704 32.4933 23.4474 32.5 23.423 32.5V32V31.5C23.1169 31.5 22.8765 31.6573 22.7268 31.8455C22.5804 32.0297 22.5 32.2649 22.5 32.5H23ZM3 64V63.5C2.72386 63.5 2.5 63.2761 2.5 63H2H1.5C1.5 63.8284 2.17157 64.5 3 64.5V64ZM25 64V64.5C25.8284 64.5 26.5 63.8284 26.5 63H26H25.5C25.5 63.2761 25.2761 63.5 25 63.5V64Z",fill:"black",fillOpacity:"0.2",mask:"url(#path-12-inside-1_4_711)"})]}),(0,n.jsx)("g",{mask:"url(#mask0_4_711)",children:(0,n.jsx)("g",{opacity:"0.03",filter:"url(#filter5_f_4_711)",children:(0,n.jsx)("rect",{x:"14",y:"34",width:"10",height:"28",fill:"black"})})}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("filter",{id:"filter0_ii_4_711",x:"1.42",y:"0.0362854",width:"25.16",height:"63.9637",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"-1.08"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.08"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_4_711"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"1.08"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.08"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"effect1_innerShadow_4_711",result:"effect2_innerShadow_4_711"})]}),(0,n.jsxs)("filter",{id:"filter1_f_4_711",x:"0",y:"8",width:"28",height:"58",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.5",result:"effect1_foregroundBlur_4_711"})]}),(0,n.jsxs)("filter",{id:"filter2_f_4_711",x:"1.9",y:"-1.6",width:"24.2",height:"14.2",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"0.8",result:"effect1_foregroundBlur_4_711"})]}),(0,n.jsxs)("filter",{id:"filter3_i_4_711",x:"2",y:"32",width:"24",height:"29",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"1"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.3 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_4_711"})]}),(0,n.jsxs)("filter",{id:"filter4_di_4_711",x:"3",y:"30.5",width:"24",height:"31",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"-0.5"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"0.75"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_4_711"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_4_711",result:"shape"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"1"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.3 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect2_innerShadow_4_711"})]}),(0,n.jsxs)("filter",{id:"filter5_f_4_711",x:"10",y:"30",width:"18",height:"36",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur_4_711"})]}),(0,n.jsxs)("radialGradient",{id:"paint0_radial_4_711",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(22.4501 2.02322) rotate(47.518) scale(3.24219 2.54478)",children:[(0,n.jsx)("stop",{stopColor:"white",stopOpacity:"0.3"}),(0,n.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,n.jsxs)("linearGradient",{id:"paint1_linear_4_711",x1:"14",y1:"25.5",x2:"14",y2:"36",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopOpacity:"0"}),(0,n.jsx)("stop",{offset:"1"})]}),(0,n.jsxs)("linearGradient",{id:"paint2_linear_4_711",x1:"2",y1:"50",x2:"26",y2:"50",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopOpacity:"0.1"}),(0,n.jsx)("stop",{offset:"0.3",stopOpacity:"0"}),(0,n.jsx)("stop",{offset:"1",stopOpacity:"0.25"})]}),(0,n.jsxs)("linearGradient",{id:"paint3_linear_4_711",x1:"5",y1:"50",x2:"26",y2:"50",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopOpacity:"0.1"}),(0,n.jsx)("stop",{offset:"0.3",stopOpacity:"0"}),(0,n.jsx)("stop",{offset:"1",stopOpacity:"0.25"})]}),(0,n.jsxs)("linearGradient",{id:"paint4_linear_4_711",x1:"2",y1:"50",x2:"26",y2:"50",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopOpacity:"0.1"}),(0,n.jsx)("stop",{offset:"0.3",stopOpacity:"0"}),(0,n.jsx)("stop",{offset:"1",stopOpacity:"0.25"})]}),(0,n.jsx)("clipPath",{id:"clip0_4_711",children:(0,n.jsx)("path",{d:"M3 6.912C3 4.49257 3 3.28286 3.47085 2.35876C3.88502 1.5459 4.5459 0.885025 5.35876 0.470852C6.28286 0 7.49257 0 9.912 0H18.088C20.5074 0 21.7171 0 22.6412 0.470852C23.4541 0.885025 24.115 1.5459 24.5291 2.35876C25 3.28286 25 4.49257 25 6.912V11H3V6.912Z",fill:"white"})})]})]})}function tE(){return(0,n.jsxs)("svg",{width:"18",height:"34",viewBox:"0 0 18 34",fill:"none",style:{filter:"drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.1)) drop-shadow(0px 3px 8px rgba(0, 0, 0, 0.1)) drop-shadow(0px 0px 0.5px rgba(0, 0, 0, 0.18))"},children:[(0,n.jsxs)("mask",{id:"mask0_19_1803",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"1",y:"0",width:"16",height:"29",children:[(0,n.jsx)("path",{d:"M1 4.608C1 2.99505 1 2.18857 1.3139 1.57251C1.59002 1.0306 2.0306 0.590017 2.57251 0.313901C3.18857 0 3.99505 0 5.608 0H12.392C14.005 0 14.8114 0 15.4275 0.313901C15.9694 0.590017 16.41 1.0306 16.6861 1.57251C17 2.18857 17 2.99505 17 4.608V26.8502C17 27.5906 17 27.9607 16.8559 28.2435C16.7292 28.4923 16.527 28.6945 16.2782 28.8212C15.9955 28.9653 15.6253 28.9653 14.8849 28.9653H3.11507C2.37473 28.9653 2.00455 28.9653 1.72178 28.8212C1.47305 28.6945 1.27082 28.4923 1.14408 28.2435C1 27.9607 1 27.5906 1 26.8502V4.608Z",fill:"#FFA4A4"}),(0,n.jsx)("path",{d:"M1 4.608C1 2.99505 1 2.18857 1.3139 1.57251C1.59002 1.0306 2.0306 0.590017 2.57251 0.313901C3.18857 0 3.99505 0 5.608 0H12.392C14.005 0 14.8114 0 15.4275 0.313901C15.9694 0.590017 16.41 1.0306 16.6861 1.57251C17 2.18857 17 2.99505 17 4.608V26.8502C17 27.5906 17 27.9607 16.8559 28.2435C16.7292 28.4923 16.527 28.6945 16.2782 28.8212C15.9955 28.9653 15.6253 28.9653 14.8849 28.9653H3.11507C2.37473 28.9653 2.00455 28.9653 1.72178 28.8212C1.47305 28.6945 1.27082 28.4923 1.14408 28.2435C1 27.9607 1 27.5906 1 26.8502V4.608Z",fill:"url(#paint0_radial_19_1803)"})]}),(0,n.jsxs)("g",{mask:"url(#mask0_19_1803)",children:[(0,n.jsxs)("g",{filter:"url(#filter0_ii_19_1803)",children:[(0,n.jsx)("path",{d:"M1 4.608C1 2.99505 1 2.18857 1.3139 1.57251C1.59002 1.0306 2.0306 0.590017 2.57251 0.313901C3.18857 0 3.99505 0 5.608 0H12.392C14.005 0 14.8115 0 15.4275 0.313901C15.9694 0.590017 16.41 1.0306 16.6861 1.57251C17 2.18857 17 2.99505 17 4.608V26.8502C17 27.5906 17 27.9607 16.856 28.2435C16.7292 28.4923 16.527 28.6945 16.2783 28.8212C15.9955 28.9653 15.6253 28.9653 14.885 28.9653H3.11507C2.37473 28.9653 2.00455 28.9653 1.72178 28.8212C1.47305 28.6945 1.27082 28.4923 1.14408 28.2435C1 27.9607 1 27.5906 1 26.8502V4.608Z",fill:"#FFA4A4"}),(0,n.jsx)("path",{d:"M1 4.608C1 2.99505 1 2.18857 1.3139 1.57251C1.59002 1.0306 2.0306 0.590017 2.57251 0.313901C3.18857 0 3.99505 0 5.608 0H12.392C14.005 0 14.8115 0 15.4275 0.313901C15.9694 0.590017 16.41 1.0306 16.6861 1.57251C17 2.18857 17 2.99505 17 4.608V26.8502C17 27.5906 17 27.9607 16.856 28.2435C16.7292 28.4923 16.527 28.6945 16.2783 28.8212C15.9955 28.9653 15.6253 28.9653 14.885 28.9653H3.11507C2.37473 28.9653 2.00455 28.9653 1.72178 28.8212C1.47305 28.6945 1.27082 28.4923 1.14408 28.2435C1 27.9607 1 27.5906 1 26.8502V4.608Z",fill:"url(#paint1_radial_19_1803)"})]}),(0,n.jsx)("path",{d:"M5.6084 0.25H12.3916C13.2022 0.25 13.796 0.249873 14.2637 0.288086C14.6121 0.316575 14.8785 0.366256 15.1025 0.446289L15.3145 0.537109C15.7473 0.757774 16.1097 1.09299 16.3623 1.50488L16.4639 1.68555C16.5998 1.95238 16.6739 2.27177 16.7119 2.73633C16.7501 3.20403 16.75 3.7978 16.75 4.6084V26.8506C16.75 27.2247 16.7494 27.4904 16.7324 27.6982C16.7199 27.8518 16.6992 27.9614 16.668 28.0488L16.6328 28.1299C16.5557 28.2812 16.4447 28.4118 16.3086 28.5107L16.165 28.5986C16.0648 28.6497 15.9374 28.6815 15.7324 28.6982C15.5246 28.7152 15.2588 28.7148 14.8848 28.7148H3.11523C2.74117 28.7148 2.47541 28.7152 2.26758 28.6982C2.11365 28.6857 2.00361 28.6642 1.91602 28.6328L1.83496 28.5986C1.68368 28.5215 1.55399 28.4095 1.45508 28.2734L1.36719 28.1299C1.31611 28.0296 1.28433 27.9031 1.26758 27.6982C1.2506 27.4904 1.25 27.2247 1.25 26.8506V4.6084C1.25 3.7978 1.24987 3.20403 1.28809 2.73633C1.32607 2.27177 1.40115 1.95238 1.53711 1.68555C1.78918 1.19111 2.19111 0.789181 2.68555 0.537109C2.95238 0.40115 3.27177 0.326071 3.73633 0.288086C3.97022 0.268977 4.23587 0.259707 4.54395 0.254883L5.6084 0.25Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"})]}),(0,n.jsx)("g",{clipPath:"url(#clip0_19_1803)",children:(0,n.jsx)("g",{filter:"url(#filter1_f_19_1803)",children:(0,n.jsx)("path",{d:"M1.49933 3.0936C1.49933 1.50301 2.78875 0.213596 4.37933 0.213596H13.3793C14.9699 0.213596 16.2593 1.50302 16.2593 3.0936V4.16027C16.2593 5.75085 14.9699 7.04027 13.3793 7.04027H4.37933C2.78875 7.04027 1.49933 5.75084 1.49933 4.16026V3.0936Z",fill:"white",fillOpacity:"0.32"})})}),(0,n.jsx)("g",{filter:"url(#filter2_f_19_1803)",children:(0,n.jsx)("path",{d:"M1.54523 9.58514C1.54523 7.99456 2.83465 6.70514 4.42523 6.70514H13.5743C15.1649 6.70514 16.4543 7.99456 16.4543 9.58514V29.1203C16.4543 30.7109 15.1649 32.0003 13.5743 32.0003H4.42523C2.83465 32.0003 1.54523 30.7109 1.54523 29.1203V9.58514Z",fill:"black",fillOpacity:"0.12"})}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("filter",{id:"filter0_ii_19_1803",x:"0.28",y:"0",width:"17.4401",height:"28.9653",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"-0.72"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"0.72"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_19_1803"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.72"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"0.72"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"effect1_innerShadow_19_1803",result:"effect2_innerShadow_19_1803"})]}),(0,n.jsxs)("filter",{id:"filter1_f_19_1803",x:"0.432661",y:"-0.853071",width:"16.8933",height:"8.96001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"0.533334",result:"effect1_foregroundBlur_19_1803"})]}),(0,n.jsxs)("filter",{id:"filter2_f_19_1803",x:"0.105226",y:"5.26514",width:"17.7891",height:"28.1752",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"0.72",result:"effect1_foregroundBlur_19_1803"})]}),(0,n.jsxs)("radialGradient",{id:"paint0_radial_19_1803",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(15 1.32758) rotate(46.2871) scale(2.17063 1.70859)",children:[(0,n.jsx)("stop",{stopColor:"white",stopOpacity:"0.3"}),(0,n.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,n.jsxs)("radialGradient",{id:"paint1_radial_19_1803",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(15 1.32758) rotate(46.287) scale(2.17063 1.70859)",children:[(0,n.jsx)("stop",{stopColor:"white",stopOpacity:"0.3"}),(0,n.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,n.jsx)("clipPath",{id:"clip0_19_1803",children:(0,n.jsx)("path",{d:"M1 4.608C1 2.99505 1 2.18857 1.3139 1.57251C1.59002 1.0306 2.0306 0.590017 2.57251 0.313901C3.18857 0 3.99505 0 5.608 0H12.392C14.005 0 14.8114 0 15.4275 0.313901C15.9694 0.590017 16.41 1.0306 16.6861 1.57251C17 2.18857 17 2.99505 17 4.608V7.24133H1V4.608Z",fill:"white"})})]})]})}function tS(){let e=tu();return W.F.format(e)}function tw(){let e=tS();return(0,n.jsxs)("svg",{width:"28",height:"66",viewBox:"0 0 28 66",fill:"none",style:{filter:"drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.1)) drop-shadow(0px 3px 8px rgba(0, 0, 0, 0.1)) drop-shadow(0px 0px 0.5px rgba(0, 0, 0, 0.18))"},children:[(0,n.jsx)("path",{d:"M10.605 9C9.65941 9 8.89286 9.76202 8.89286 10.702C8.89286 16.2709 6.73078 20.4466 2.66805 24.2506C2.24942 24.6426 2 25.1863 2 25.7598V31.5001C2 32.3286 2.67157 33.0001 3.49999 33.0001L24.5 33.0002C25.3284 33.0002 26 32.3286 26 31.5002V25.7599C26 25.1864 25.7506 24.6427 25.3319 24.2507C21.2692 20.4467 19.1071 16.271 19.1071 10.7021C19.1071 9.76212 18.3406 9.0001 17.395 9.0001L10.605 9Z",fill:"white"}),(0,n.jsx)("path",{d:"M10.605 9C9.65941 9 8.89286 9.76202 8.89286 10.702C8.89286 16.2709 6.73078 20.4466 2.66805 24.2506C2.24942 24.6426 2 25.1863 2 25.7598V31.5001C2 32.3286 2.67157 33.0001 3.49999 33.0001L24.5 33.0002C25.3284 33.0002 26 32.3286 26 31.5002V25.7599C26 25.1864 25.7506 24.6427 25.3319 24.2507C21.2692 20.4467 19.1071 16.271 19.1071 10.7021C19.1071 9.76212 18.3406 9.0001 17.395 9.0001L10.605 9Z",fill:"url(#paint0_linear_7_787)",fillOpacity:"0.6"}),(0,n.jsx)("path",{d:"M10.6055 9.25H17.3945C18.2035 9.25 18.8574 9.90162 18.8574 10.7021C18.8574 16.1751 20.9219 20.3237 24.7822 24.0713L25.1611 24.4336C25.5321 24.781 25.75 25.2596 25.75 25.7598V31.5C25.75 32.1904 25.1904 32.75 24.5 32.75H3.5L3.37207 32.7441C2.74179 32.6801 2.25 32.1472 2.25 31.5V25.7598C2.25001 25.322 2.41672 24.9006 2.70703 24.5693L2.83887 24.4336C6.94301 20.5908 9.14254 16.3516 9.14258 10.7021C9.14258 9.95173 9.71689 9.33242 10.4551 9.25781L10.6055 9.25Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"}),(0,n.jsx)("g",{filter:"url(#filter0_i_7_787)",children:(0,n.jsx)("path",{d:"M2 34C2 33.1716 2.67157 32.5 3.5 32.5H24.5C25.3284 32.5 26 33.1716 26 34V64H2L2 34Z",fill:e,className:en.cq})}),(0,n.jsx)("g",{style:{mixBlendMode:"soft-light"},opacity:"0.15",filter:"url(#filter1_f_7_787)",children:(0,n.jsx)("path",{d:"M3 33.5H14V63H3.13236L3 33.5Z",fill:"white"})}),(0,n.jsx)("g",{style:{mixBlendMode:"darken"},opacity:"0.05",filter:"url(#filter2_f_7_787)",children:(0,n.jsx)("path",{d:"M14 33.5L25 33.5L25 63H14L14 33.5Z",fill:"black"})}),(0,n.jsx)("path",{d:"M3.5 32.75H24.5C25.1904 32.75 25.75 33.3096 25.75 34V63.75H2.25V34C2.25 33.3096 2.80964 32.75 3.5 32.75Z",stroke:"black",strokeOpacity:"0.15",strokeWidth:"0.5"}),(0,n.jsx)("g",{opacity:"0.5",filter:"url(#filter3_f_7_787)",children:(0,n.jsx)("rect",{x:"3",y:"34",width:"22",height:"1",rx:"0.5",fill:"white"})}),(0,n.jsx)("path",{d:"M10 3.58005C10 3.17969 10.2388 2.81792 10.6069 2.66054L16.6069 0.0955447C17.2667 -0.186505 18 0.29752 18 1.01505V9.5H10V3.58005Z",fill:e,className:en.cq}),(0,n.jsx)("path",{d:"M10 3.58005C10 3.17969 10.2388 2.81792 10.6069 2.66054L16.6069 0.0955447C17.2667 -0.186505 18 0.29752 18 1.01505V9.5H10V3.58005Z",fill:"url(#paint1_linear_7_787)"}),(0,n.jsx)("path",{d:"M16.7051 0.325195C17.1998 0.11371 17.7497 0.476723 17.75 1.01465V9.25H10.25V3.58008C10.25 3.31728 10.3871 3.0765 10.6064 2.94141L10.7051 2.89062L16.7051 0.325195Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"}),(0,n.jsx)("g",{opacity:"0.15",filter:"url(#filter4_f_7_787)",children:(0,n.jsx)("path",{d:"M18 11H14.5V31.5H24.5V25.5C21.5 22.5 18 20 18 11Z",fill:"black"})}),(0,n.jsx)("g",{opacity:"0.1",filter:"url(#filter5_f_7_787)",children:(0,n.jsx)("path",{d:"M3.5 26C3.5 25.4477 3.94772 25 4.5 25H23.5C24.0523 25 24.5 25.4477 24.5 26V32C24.5 32.5523 24.0523 33 23.5 33H4.5C3.94772 33 3.5 32.5523 3.5 32V26Z",fill:"url(#paint2_linear_7_787)"})}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("filter",{id:"filter0_i_7_787",x:"2",y:"32.5",width:"24",height:"36.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"5"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"6.15"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{mode:"plus-darker",in2:"shape",result:"effect1_innerShadow_7_787"})]}),(0,n.jsxs)("filter",{id:"filter1_f_7_787",x:"0",y:"30.5",width:"17",height:"35.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.5",result:"effect1_foregroundBlur_7_787"})]}),(0,n.jsxs)("filter",{id:"filter2_f_7_787",x:"11",y:"30.5",width:"17",height:"35.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.5",result:"effect1_foregroundBlur_7_787"})]}),(0,n.jsxs)("filter",{id:"filter3_f_7_787",x:"1",y:"32",width:"26",height:"5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1",result:"effect1_foregroundBlur_7_787"})]}),(0,n.jsxs)("filter",{id:"filter4_f_7_787",x:"11.5",y:"8",width:"16",height:"26.5",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.5",result:"effect1_foregroundBlur_7_787"})]}),(0,n.jsxs)("filter",{id:"filter5_f_7_787",x:"2.5",y:"24",width:"23",height:"10",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"0.5",result:"effect1_foregroundBlur_7_787"})]}),(0,n.jsxs)("linearGradient",{id:"paint0_linear_7_787",x1:"2",y1:"28.3335",x2:"26",y2:"28.3335",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopOpacity:"0.1"}),(0,n.jsx)("stop",{offset:"0.4",stopOpacity:"0"}),(0,n.jsx)("stop",{offset:"1",stopOpacity:"0.15"})]}),(0,n.jsxs)("linearGradient",{id:"paint1_linear_7_787",x1:"14",y1:"0.5",x2:"14",y2:"7",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"white",stopOpacity:"0.8"}),(0,n.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,n.jsxs)("linearGradient",{id:"paint2_linear_7_787",x1:"14",y1:"27.9272",x2:"4.93182",y2:"27.9272",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{}),(0,n.jsx)("stop",{offset:"1",stopOpacity:"0"})]})]})]})}function tI(){let e=tS();return(0,n.jsxs)("svg",{width:"19",height:"44",viewBox:"0 0 19 44",fill:"none",style:{filter:"drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.1)) drop-shadow(0px 3px 8px rgba(0, 0, 0, 0.1)) drop-shadow(0px 0px 0.5px rgba(0, 0, 0, 0.18))"},children:[(0,n.jsx)("path",{d:"M6.73673 5.99998C6.10633 5.99998 5.59529 6.508 5.59529 7.13466C5.59529 10.8473 4.1539 13.6311 1.4454 16.1671C1.16631 16.4284 1.00003 16.7909 1.00003 17.1733V21.0001C1.00003 21.5524 1.44774 22.0001 2.00003 22.0002L16.0001 22.0002C16.5524 22.0002 17.0001 21.5525 17.0001 21.0002V17.1733C17.0001 16.791 16.8338 16.4285 16.5547 16.1672C13.8462 13.6312 12.4049 10.8474 12.4049 7.13473C12.4049 6.50807 11.8938 6.00005 11.2634 6.00005L6.73673 5.99998Z",fill:"white"}),(0,n.jsx)("path",{d:"M6.73673 5.99998C6.10633 5.99998 5.59529 6.508 5.59529 7.13466C5.59529 10.8473 4.1539 13.6311 1.4454 16.1671C1.16631 16.4284 1.00003 16.7909 1.00003 17.1733V21.0001C1.00003 21.5524 1.44774 22.0001 2.00003 22.0002L16.0001 22.0002C16.5524 22.0002 17.0001 21.5525 17.0001 21.0002V17.1733C17.0001 16.791 16.8338 16.4285 16.5547 16.1672C13.8462 13.6312 12.4049 10.8474 12.4049 7.13473C12.4049 6.50807 11.8938 6.00005 11.2634 6.00005L6.73673 5.99998Z",fill:"url(#paint0_linear_18_1718)",fillOpacity:"0.6"}),(0,n.jsx)("path",{d:"M6.73636 6.24998H11.2637C11.7573 6.25014 12.1553 6.64765 12.1553 7.13475C12.1553 10.928 13.6339 13.7748 16.3838 16.3496C16.6153 16.5663 16.7499 16.8638 16.75 17.1728V21C16.75 21.4142 16.4142 21.75 16 21.75H2.00003L1.92288 21.7461C1.54492 21.7074 1.25003 21.3881 1.25003 21V17.1728C1.25014 16.9024 1.35333 16.6409 1.53421 16.4346L1.61624 16.3496C4.36617 13.7748 5.84571 10.928 5.84573 7.13475C5.84573 6.67795 6.19495 6.30025 6.64554 6.25487L6.73636 6.24998Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"}),(0,n.jsx)("g",{filter:"url(#filter0_i_18_1718)",children:(0,n.jsx)("path",{d:"M1.00003 22.6667C1.00003 22.1144 1.44775 21.6667 2.00004 21.6667H16.0001C16.5524 21.6667 17.0001 22.1144 17.0001 22.6667V42.6668H1.00003L1.00003 22.6667Z",fill:e,className:en.cq})}),(0,n.jsx)("g",{style:{mixBlendMode:"soft-light"},opacity:"0.15",filter:"url(#filter1_f_18_1718)",children:(0,n.jsx)("path",{d:"M9.66672 22.3334H17.0001V42.0002H9.75496L9.66672 22.3334Z",fill:"white"})}),(0,n.jsx)("path",{d:"M9.33701 33.3341C9.33654 34.0237 8.81223 34.5916 8.14072 34.6602L8.004 34.6671C7.31478 34.6671 6.74566 34.1433 6.67685 33.4708L6.67001 33.3341C6.67001 33.2187 6.68533 33.1068 6.71298 33.0001C6.85104 33.5355 7.31236 33.9407 7.87607 33.9942L8.004 34.0001L8.14072 33.9933C8.81233 33.9246 9.33666 33.3568 9.33701 32.6671V33.3341ZM8.004 32.0001H8.67001V32.6671H8.004C7.75781 32.6671 7.54437 32.8015 7.4288 33.0001C7.37161 32.9019 7.33707 32.7889 7.33701 32.6671C7.33701 32.3449 7.56543 32.076 7.86923 32.0138L8.004 32.0001ZM11.2931 31.0011C11.3206 31.1075 11.337 31.2191 11.337 31.3341L11.3302 31.4708C11.2661 32.0975 10.7674 32.5962 10.1407 32.6602L10.004 32.6671C9.76099 32.6671 9.5334 32.6001 9.33701 32.4864V31.8194C9.48423 31.9047 9.64877 31.9633 9.82431 31.9874L10.004 32.0001L10.1407 31.9933C10.7 31.9361 11.1557 31.5326 11.2931 31.0011ZM6.71298 31.0001C6.78105 31.2622 6.92688 31.4925 7.12411 31.6661C7.01597 31.7612 6.92364 31.8739 6.85068 31.9991C6.75822 31.8408 6.69646 31.6624 6.67685 31.4708L6.67001 31.3341C6.67001 31.2187 6.68533 31.1068 6.71298 31.0001ZM8.004 30.0001H8.67001V30.6671H8.004C7.75781 30.6671 7.54437 30.8015 7.4288 31.0001C7.37161 30.9019 7.33707 30.7889 7.33701 30.6671C7.33701 30.3449 7.56543 30.076 7.86923 30.0138L8.004 30.0001ZM10.004 30.0001C10.3719 30.0004 10.67 30.2991 10.67 30.6671C10.6699 30.7892 10.6336 30.9017 10.5763 31.0001C10.4609 30.802 10.2496 30.6673 10.004 30.6671C9.75781 30.6671 9.54437 30.8015 9.4288 31.0001C9.37161 30.9019 9.33707 30.7889 9.33701 30.6671C9.33701 30.2989 9.63581 30.0001 10.004 30.0001ZM6.71298 29.0001C6.78105 29.2622 6.92688 29.4925 7.12411 29.6661C7.01597 29.7612 6.92364 29.8739 6.85068 29.9991C6.75822 29.8408 6.69646 29.6624 6.67685 29.4708L6.67001 29.3341C6.67001 29.2188 6.68544 29.1068 6.71298 29.0001ZM11.2921 28.9981C11.309 29.0631 11.3233 29.1299 11.3302 29.1983L11.337 29.3341C11.3368 29.577 11.2695 29.8034 11.1554 29.9991C11.0825 29.8741 10.9909 29.7612 10.8829 29.6661C11.0803 29.4922 11.2241 29.2606 11.2921 28.9981ZM8.67001 28.0001V28.6671H8.004C7.75781 28.6671 7.54437 28.8015 7.4288 29.0001C7.37161 28.9019 7.33707 28.7889 7.33701 28.6671C7.33701 28.2989 7.63581 28.0001 8.004 28.0001H8.67001ZM10.004 28.0001C10.3719 28.0004 10.67 28.2991 10.67 28.6671C10.6699 28.7892 10.6336 28.9017 10.5763 29.0001C10.4609 28.802 10.2496 28.6673 10.004 28.6671H9.33701V28.0001H10.004Z",fill:"white",fillOpacity:"0.3"}),(0,n.jsxs)("mask",{id:"path-6-outside-1_18_1718",maskUnits:"userSpaceOnUse",x:"6.32999",y:"27.0001",width:"5",height:"7",fill:"black",children:[(0,n.jsx)("rect",{fill:"white",x:"6.32999",y:"27.0001",width:"5",height:"7"}),(0,n.jsx)("path",{d:"M8.66299 32.6671C8.66282 33.035 8.36491 33.3329 7.99698 33.3331C7.6289 33.3331 7.33017 33.0351 7.32999 32.6671C7.32999 32.2989 7.62879 32.0001 7.99698 32.0001H8.66299V32.6671ZM8.66299 31.3331H7.99698C7.6289 31.3331 7.33017 31.0351 7.32999 30.6671C7.32999 30.2989 7.62879 30.0001 7.99698 30.0001H8.66299V31.3331ZM9.99698 30.0001C10.365 30.0003 10.663 30.299 10.663 30.6671C10.6628 31.035 10.3649 31.3329 9.99698 31.3331C9.6289 31.3331 9.33017 31.0351 9.32999 30.6671C9.32999 30.2989 9.62879 30.0001 9.99698 30.0001ZM8.66299 29.3331H7.99698C7.62889 29.3331 7.33016 29.0351 7.32999 28.6671C7.32999 28.2989 7.62879 28.0001 7.99698 28.0001H8.66299V29.3331ZM9.99698 28.0001C10.365 28.0003 10.663 28.299 10.663 28.6671C10.6628 29.035 10.3649 29.3329 9.99698 29.3331H9.32999V28.0001H9.99698Z"})]}),(0,n.jsx)("path",{d:"M8.66299 32.6671L9.32966 32.6674V32.6671H8.66299ZM7.99698 33.3331L7.99698 33.9998L7.9973 33.9998L7.99698 33.3331ZM7.32999 32.6671L6.66332 32.6671L6.66332 32.6674L7.32999 32.6671ZM8.66299 32.0001H9.32966V31.3334H8.66299V32.0001ZM8.66299 31.3331V31.9998H9.32966V31.3331H8.66299ZM7.32999 30.6671L6.66332 30.6671L6.66332 30.6674L7.32999 30.6671ZM8.66299 30.0001H9.32966V29.3334H8.66299V30.0001ZM9.99698 30.0001L9.99729 29.3334H9.99698V30.0001ZM10.663 30.6671L11.3297 30.6674V30.6671H10.663ZM9.99698 31.3331L9.99698 31.9998L9.99729 31.9998L9.99698 31.3331ZM9.32999 30.6671L8.66332 30.6671L8.66332 30.6674L9.32999 30.6671ZM8.66299 29.3331V29.9998H9.32966V29.3331H8.66299ZM7.32999 28.6671L6.66332 28.6671L6.66332 28.6674L7.32999 28.6671ZM8.66299 28.0001H9.32966V27.3334H8.66299V28.0001ZM9.99698 28.0001L9.99729 27.3334H9.99698V28.0001ZM10.663 28.6671L11.3297 28.6674V28.6671H10.663ZM9.99698 29.3331L9.99698 29.9998L9.99729 29.9998L9.99698 29.3331ZM9.32999 29.3331H8.66332V29.9998H9.32999V29.3331ZM9.32999 28.0001V27.3334H8.66332V28.0001H9.32999ZM8.66299 32.6671L7.99632 32.6668L7.99666 32.6664L7.99698 33.3331L7.9973 33.9998C8.73318 33.9994 9.32931 33.4033 9.32966 32.6674L8.66299 32.6671ZM7.99698 33.3331V32.6664L7.99666 32.6668L7.32999 32.6671L6.66332 32.6674C6.66367 33.4043 7.26166 33.9998 7.99698 33.9998V33.3331ZM7.32999 32.6671H7.99666L7.99698 32.6668V32.0001V31.3334C7.2606 31.3334 6.66332 31.9307 6.66332 32.6671H7.32999ZM7.99698 32.0001V32.6668H8.66299V32.0001V31.3334H7.99698V32.0001ZM8.66299 32.0001H7.99632V32.6671H8.66299H9.32966V32.0001H8.66299ZM8.66299 31.3331V30.6664H7.99698V31.3331V31.9998H8.66299V31.3331ZM7.99698 31.3331V30.6664L7.99666 30.6668L7.32999 30.6671L6.66332 30.6674C6.66368 31.4043 7.26165 31.9998 7.99698 31.9998V31.3331ZM7.32999 30.6671H7.99666L7.99698 30.6668V30.0001V29.3334C7.2606 29.3334 6.66332 29.9307 6.66332 30.6671H7.32999ZM7.99698 30.0001V30.6668H8.66299V30.0001V29.3334H7.99698V30.0001ZM8.66299 30.0001H7.99632V31.3331H8.66299H9.32966V30.0001H8.66299ZM9.99698 30.0001L9.99667 30.6668L9.99632 30.6671H10.663H11.3297C11.3297 29.9318 10.7342 29.3338 9.99729 29.3334L9.99698 30.0001ZM10.663 30.6671L9.99632 30.6668L9.99667 30.6664L9.99698 31.3331L9.99729 31.9998C10.7332 31.9994 11.3293 31.4033 11.3297 30.6674L10.663 30.6671ZM9.99698 31.3331V30.6664L9.99666 30.6668L9.32999 30.6671L8.66332 30.6674C8.66368 31.4043 9.26165 31.9998 9.99698 31.9998V31.3331ZM9.32999 30.6671H9.99666L9.99698 30.6668V30.0001V29.3334C9.2606 29.3334 8.66332 29.9307 8.66332 30.6671H9.32999ZM8.66299 29.3331V28.6664H7.99698V29.3331V29.9998H8.66299V29.3331ZM7.99698 29.3331V28.6664L7.99666 28.6668L7.32999 28.6671L6.66332 28.6674C6.66367 29.4043 7.26166 29.9998 7.99698 29.9998V29.3331ZM7.32999 28.6671H7.99666L7.99698 28.6668V28.0001V27.3334C7.2606 27.3334 6.66332 27.9307 6.66332 28.6671H7.32999ZM7.99698 28.0001V28.6668H8.66299V28.0001V27.3334H7.99698V28.0001ZM8.66299 28.0001H7.99632V29.3331H8.66299H9.32966V28.0001H8.66299ZM9.99698 28.0001L9.99667 28.6668L9.99632 28.6671H10.663H11.3297C11.3297 27.9318 10.7342 27.3338 9.99729 27.3334L9.99698 28.0001ZM10.663 28.6671L9.99632 28.6667L9.99667 28.6664L9.99698 29.3331L9.99729 29.9998C10.7332 29.9994 11.3293 29.4032 11.3297 28.6674L10.663 28.6671ZM9.99698 29.3331V28.6664H9.32999V29.3331V29.9998H9.99698V29.3331ZM9.32999 29.3331H9.99666V28.0001H9.32999H8.66332V29.3331H9.32999ZM9.32999 28.0001V28.6668H9.99698V28.0001V27.3334H9.32999V28.0001Z",fill:"url(#paint1_linear_18_1718)",fillOpacity:"0.5",mask:"url(#path-6-outside-1_18_1718)"}),(0,n.jsx)("g",{style:{mixBlendMode:"plus-lighter"},opacity:"0.05",filter:"url(#filter2_f_18_1718)",children:(0,n.jsx)("path",{d:"M9.00001 22.3334L16.3334 22.3334L16.3334 42.0002H9L9.00001 22.3334Z",fill:"black"})}),(0,n.jsx)("path",{d:"M2.00003 21.8337H16C16.4603 21.8337 16.833 22.2065 16.833 22.6667V42.4997H1.16702V22.6667C1.16703 22.2065 1.53979 21.8337 2.00003 21.8337Z",stroke:"black",strokeOpacity:"0.15",strokeWidth:"0.333335"}),(0,n.jsx)("g",{opacity:"0.5",filter:"url(#filter3_f_18_1718)",children:(0,n.jsx)("rect",{x:"1.66672",y:"22.6667",width:"14.6667",height:"0.66667",rx:"0.333335",fill:"white"})}),(0,n.jsx)("path",{d:"M6.33337 2.56004C6.33337 2.29314 6.49256 2.05196 6.73798 1.94704L10.738 0.237032C11.1779 0.0489973 11.6667 0.371683 11.6667 0.850036V6.5067H6.33337V2.56004Z",fill:e,className:en.cq}),(0,n.jsx)("path",{d:"M6.33337 2.56004C6.33337 2.29314 6.49256 2.05196 6.73798 1.94704L10.738 0.237032C11.1779 0.0489973 11.6667 0.371683 11.6667 0.850036V6.5067H6.33337V2.56004Z",fill:"url(#paint2_linear_18_1718)"}),(0,n.jsx)("path",{d:"M10.8363 0.466953C11.1111 0.349472 11.4162 0.550945 11.4164 0.849766V6.25699H6.58337V2.55973L6.58826 2.4982C6.60946 2.35679 6.70216 2.23426 6.8363 2.17691L10.8363 0.466953Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"}),(0,n.jsx)("g",{opacity:"0.1",filter:"url(#filter4_f_18_1718)",children:(0,n.jsx)("path",{d:"M11.6633 7.33332H9.32999V21.0001H15.9967V17C13.9967 15 11.6633 13.3334 11.6633 7.33332Z",fill:"black"})}),(0,n.jsx)("g",{opacity:"0.05",filter:"url(#filter5_f_18_1718)",children:(0,n.jsx)("path",{d:"M2.00003 17.3334C2.00003 16.9652 2.29851 16.6667 2.6667 16.6667H15.3334C15.7016 16.6667 16.0001 16.9652 16.0001 17.3334V21.3334C16.0001 21.7016 15.7016 22.0001 15.3334 22.0001H2.6667C2.29851 22.0001 2.00003 21.7016 2.00003 21.3334V17.3334Z",fill:"url(#paint3_linear_18_1718)"})}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("filter",{id:"filter0_i_18_1718",x:"1.00003",y:"21.6667",width:"16.0001",height:"24.3335",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"3.33335"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"4.10002"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{mode:"plus-darker",in2:"shape",result:"effect1_innerShadow_18_1718"})]}),(0,n.jsxs)("filter",{id:"filter1_f_18_1718",x:"7.66671",y:"20.3334",width:"11.3334",height:"23.6668",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.00001",result:"effect1_foregroundBlur_18_1718"})]}),(0,n.jsxs)("filter",{id:"filter2_f_18_1718",x:"6.99999",y:"20.3334",width:"11.3334",height:"23.6668",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.00001",result:"effect1_foregroundBlur_18_1718"})]}),(0,n.jsxs)("filter",{id:"filter3_f_18_1718",x:"0.333377",y:"21.3334",width:"17.3334",height:"3.33335",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"0.66667",result:"effect1_foregroundBlur_18_1718"})]}),(0,n.jsxs)("filter",{id:"filter4_f_18_1718",x:"7.32998",y:"5.33331",width:"10.6667",height:"17.6668",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.00001",result:"effect1_foregroundBlur_18_1718"})]}),(0,n.jsxs)("filter",{id:"filter5_f_18_1718",x:"1.33336",y:"16",width:"15.3334",height:"6.6667",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"0.333335",result:"effect1_foregroundBlur_18_1718"})]}),(0,n.jsxs)("linearGradient",{id:"paint0_linear_18_1718",x1:"1.00003",y1:"18.8891",x2:"17.0001",y2:"18.8891",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopOpacity:"0.1"}),(0,n.jsx)("stop",{offset:"0.4",stopOpacity:"0"}),(0,n.jsx)("stop",{offset:"1",stopOpacity:"0.15"})]}),(0,n.jsxs)("linearGradient",{id:"paint1_linear_18_1718",x1:"10.663",y1:"30.6666",x2:"7.32999",y2:"30.6666",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopOpacity:"0.75"}),(0,n.jsx)("stop",{offset:"1",stopOpacity:"0.5"})]}),(0,n.jsxs)("linearGradient",{id:"paint2_linear_18_1718",x1:"9.00005",y1:"0.50667",x2:"9.00005",y2:"4.84003",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"white",stopOpacity:"0.8"}),(0,n.jsx)("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]}),(0,n.jsxs)("linearGradient",{id:"paint3_linear_18_1718",x1:"9.00007",y1:"18.6182",x2:"2.95458",y2:"18.6182",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{}),(0,n.jsx)("stop",{offset:"1",stopOpacity:"0"})]})]})]})}function tL(){let e=tc();return W.F.format(e)}function tN(){let e=tL();return(0,n.jsxs)("svg",{width:"32",height:"71",viewBox:"0 0 32 71",fill:"none",children:[(0,n.jsxs)("g",{filter:"url(#filter0_dd_2_289)",children:[(0,n.jsx)("path",{d:"M9.99331 12.2472C10.2996 11.4932 11.0323 11 11.8462 11H20.1538C20.9677 11 21.7004 11.4932 22.0067 12.2472L26.8235 24.1039C27.6005 26.0166 28 28.0615 28 30.1259V65H4L4 30.1259C4 28.0615 4.39952 26.0166 5.17653 24.1039L9.99331 12.2472Z",fill:"white"}),(0,n.jsx)("path",{d:"M9.99331 12.2472C10.2996 11.4932 11.0323 11 11.8462 11H20.1538C20.9677 11 21.7004 11.4932 22.0067 12.2472L26.8235 24.1039C27.6005 26.0166 28 28.0615 28 30.1259V65H4L4 30.1259C4 28.0615 4.39952 26.0166 5.17653 24.1039L9.99331 12.2472Z",fill:"url(#paint0_linear_2_289)",fillOpacity:"0.6"}),(0,n.jsx)("path",{d:"M11.8467 11.25H20.1533C20.8655 11.25 21.5074 11.682 21.7754 12.3418L26.5918 24.1982C27.3566 26.0809 27.75 28.0938 27.75 30.126V64.75H4.25V30.126C4.25 28.0938 4.64338 26.0809 5.4082 24.1982L10.2246 12.3418C10.4926 11.682 11.1345 11.25 11.8467 11.25Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"}),(0,n.jsx)("g",{opacity:"0.4",filter:"url(#filter1_f_2_289)",children:(0,n.jsx)("path",{d:"M26 28.134V63.634H16.5V12.634L20 12.5L26 28.134Z",fill:"url(#paint1_linear_2_289)"})}),(0,n.jsx)("g",{filter:"url(#filter2_i_2_289)",children:(0,n.jsx)("path",{d:"M15.0745 2.76245C15.4134 1.93396 16.5866 1.93396 16.9255 2.76245L20.5 11.5H11.5L15.0745 2.76245Z",fill:e,className:en.cq})}),(0,n.jsx)("path",{d:"M15.3057 2.85742C15.5599 2.23605 16.4401 2.23606 16.6943 2.85742L20.1279 11.25H11.8721L15.3057 2.85742Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"}),(0,n.jsx)("path",{d:"M4.5 33H27.5",stroke:"black",strokeOpacity:"0.15"}),(0,n.jsx)("path",{opacity:"0.5",d:"M4.5 34H27.5",stroke:"white"})]}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("filter",{id:"filter0_dd_2_289",x:"0",y:"-1",width:"32",height:"72",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"1"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_2_289"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"2"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"effect1_dropShadow_2_289",result:"effect2_dropShadow_2_289"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_2_289",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter1_f_2_289",x:"13.5",y:"9.5",width:"15.5",height:"57.134",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.5",result:"effect1_foregroundBlur_2_289"})]}),(0,n.jsxs)("filter",{id:"filter2_i_2_289",x:"9.34",y:"2.14108",width:"11.16",height:"10.4389",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"-2.16",dy:"1.08"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.62"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_2_289"})]}),(0,n.jsxs)("linearGradient",{id:"paint0_linear_2_289",x1:"4",y1:"54.5",x2:"28",y2:"54.5",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopOpacity:"0.1"}),(0,n.jsx)("stop",{offset:"0.4",stopOpacity:"0"}),(0,n.jsx)("stop",{offset:"1",stopOpacity:"0.15"})]}),(0,n.jsxs)("linearGradient",{id:"paint1_linear_2_289",x1:"16.5",y1:"-0.499999",x2:"23.7558",y2:"51.4928",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopOpacity:"0.2"}),(0,n.jsx)("stop",{offset:"1",stopOpacity:"0.4"})]})]})]})}function tA(){let e=tL();return(0,n.jsxs)("svg",{width:"16",height:"34",viewBox:"0 0 16 34",fill:"none",style:{filter:"drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.1)) drop-shadow(0px 3px 8px rgba(0, 0, 0, 0.1)) drop-shadow(0px 0px 0.5px rgba(0, 0, 0, 0.18))"},children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_18_1382)",children:[(0,n.jsx)("path",{d:"M3.99556 7.49816C4.19978 6.99546 4.68826 6.66666 5.23085 6.66666H10.7692C11.3118 6.66666 11.8003 6.99546 12.0045 7.49816L15.2157 15.4026C15.7337 16.6777 16.0001 18.041 16.0001 19.4174V42.6668H0L0 19.4174C0 18.041 0.26635 16.6777 0.784361 15.4026L3.99556 7.49816Z",fill:"white"}),(0,n.jsx)("path",{d:"M3.99556 7.49816C4.19978 6.99546 4.68826 6.66666 5.23085 6.66666H10.7692C11.3118 6.66666 11.8003 6.99546 12.0045 7.49816L15.2157 15.4026C15.7337 16.6777 16.0001 18.041 16.0001 19.4174V42.6668H0L0 19.4174C0 18.041 0.26635 16.6777 0.784361 15.4026L3.99556 7.49816Z",fill:"url(#paint0_linear_18_1382)",fillOpacity:"0.6"}),(0,n.jsx)("path",{d:"M5.23047 6.91666H10.7695C11.1552 6.91676 11.5071 7.12129 11.7002 7.44595L11.7725 7.59244L14.9844 15.4967C15.4902 16.7419 15.75 18.0736 15.75 19.4176V42.4167H0.25V19.4176C0.25 18.0736 0.509788 16.7419 1.01562 15.4967L4.22754 7.59244C4.39342 7.18411 4.78976 6.91681 5.23047 6.91666Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"}),(0,n.jsx)("g",{opacity:"0.2",filter:"url(#filter0_f_18_1382)",children:(0,n.jsx)("path",{d:"M14.6634 18.0894V41.7561H8.32998V7.75597L10.6633 7.66666L14.6634 18.0894Z",fill:"url(#paint1_linear_18_1382)"})}),(0,n.jsx)("g",{filter:"url(#filter1_i_18_1382)",children:(0,n.jsx)("path",{d:"M7.38304 1.17493C7.60899 0.622596 8.39116 0.622596 8.61711 1.17492L11.0001 6.99999H5.00006L7.38304 1.17493Z",fill:e,className:en.cq})}),(0,n.jsx)("path",{d:"M7.61432 1.26916C7.75567 0.924389 8.24445 0.924397 8.3858 1.26916L10.628 6.74963H5.37213L7.61432 1.26916Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"}),(0,n.jsx)("path",{d:"M0.329987 21.3334H15.6634",stroke:"black",strokeOpacity:"0.15",strokeWidth:"0.66667"}),(0,n.jsx)("path",{opacity:"0.5",d:"M0.329987 22.0001H15.6634",stroke:"white",strokeWidth:"0.66667"}),(0,n.jsxs)("g",{filter:"url(#filter2_d_18_1382)",children:[(0,n.jsxs)("mask",{id:"path-8-outside-1_18_1382",maskUnits:"userSpaceOnUse",x:"5.32999",y:"27.0001",width:"5",height:"7",fill:e,className:en.cq,children:[(0,n.jsx)("rect",{fill:"white",x:"5.32999",y:"27.0001",width:"5",height:"7"}),(0,n.jsx)("path",{d:"M7.66299 32.6671C7.66282 33.035 7.36491 33.3329 6.99698 33.3331C6.6289 33.3331 6.33017 33.0351 6.32999 32.6671C6.32999 32.2989 6.62879 32.0001 6.99698 32.0001H7.66299V32.6671ZM7.66299 31.3331H6.99698C6.6289 31.3331 6.33017 31.0351 6.32999 30.6671C6.32999 30.2989 6.62879 30.0001 6.99698 30.0001H7.66299V31.3331ZM8.99698 30.0001C9.36503 30.0003 9.66299 30.299 9.66299 30.6671C9.66281 31.035 9.36491 31.3329 8.99698 31.3331C8.6289 31.3331 8.33017 31.0351 8.32999 30.6671C8.32999 30.2989 8.62879 30.0001 8.99698 30.0001ZM7.66299 29.3331H6.99698C6.62889 29.3331 6.33016 29.0351 6.32999 28.6671C6.32999 28.2989 6.62879 28.0001 6.99698 28.0001H7.66299V29.3331ZM8.99698 28.0001C9.36503 28.0003 9.66299 28.299 9.66299 28.6671C9.66281 29.035 9.36491 29.3329 8.99698 29.3331H8.32999V28.0001H8.99698Z"})]}),(0,n.jsx)("path",{d:"M7.66299 32.6671L8.32966 32.6674V32.6671H7.66299ZM6.99698 33.3331L6.99698 33.9998L6.9973 33.9998L6.99698 33.3331ZM6.32999 32.6671L5.66332 32.6671L5.66332 32.6674L6.32999 32.6671ZM7.66299 32.0001H8.32966V31.3334H7.66299V32.0001ZM7.66299 31.3331V31.9998H8.32966V31.3331H7.66299ZM6.32999 30.6671L5.66332 30.6671L5.66332 30.6674L6.32999 30.6671ZM7.66299 30.0001H8.32966V29.3334H7.66299V30.0001ZM8.99698 30.0001L8.99729 29.3334H8.99698V30.0001ZM9.66299 30.6671L10.3297 30.6674V30.6671H9.66299ZM8.99698 31.3331L8.99698 31.9998L8.99729 31.9998L8.99698 31.3331ZM8.32999 30.6671L7.66332 30.6671L7.66332 30.6674L8.32999 30.6671ZM7.66299 29.3331V29.9998H8.32966V29.3331H7.66299ZM6.32999 28.6671L5.66332 28.6671L5.66332 28.6674L6.32999 28.6671ZM7.66299 28.0001H8.32966V27.3334H7.66299V28.0001ZM8.99698 28.0001L8.99729 27.3334H8.99698V28.0001ZM9.66299 28.6671L10.3297 28.6674V28.6671H9.66299ZM8.99698 29.3331L8.99698 29.9998L8.99729 29.9998L8.99698 29.3331ZM8.32999 29.3331H7.66332V29.9998H8.32999V29.3331ZM8.32999 28.0001V27.3334H7.66332V28.0001H8.32999ZM7.66299 32.6671L6.99632 32.6668L6.99666 32.6664L6.99698 33.3331L6.9973 33.9998C7.73318 33.9994 8.32931 33.4033 8.32966 32.6674L7.66299 32.6671ZM6.99698 33.3331V32.6664L6.99666 32.6668L6.32999 32.6671L5.66332 32.6674C5.66367 33.4043 6.26166 33.9998 6.99698 33.9998V33.3331ZM6.32999 32.6671H6.99666L6.99698 32.6668V32.0001V31.3334C6.2606 31.3334 5.66332 31.9307 5.66332 32.6671H6.32999ZM6.99698 32.0001V32.6668H7.66299V32.0001V31.3334H6.99698V32.0001ZM7.66299 32.0001H6.99632V32.6671H7.66299H8.32966V32.0001H7.66299ZM7.66299 31.3331V30.6664H6.99698V31.3331V31.9998H7.66299V31.3331ZM6.99698 31.3331V30.6664L6.99666 30.6668L6.32999 30.6671L5.66332 30.6674C5.66368 31.4043 6.26165 31.9998 6.99698 31.9998V31.3331ZM6.32999 30.6671H6.99666L6.99698 30.6668V30.0001V29.3334C6.2606 29.3334 5.66332 29.9307 5.66332 30.6671H6.32999ZM6.99698 30.0001V30.6668H7.66299V30.0001V29.3334H6.99698V30.0001ZM7.66299 30.0001H6.99632V31.3331H7.66299H8.32966V30.0001H7.66299ZM8.99698 30.0001L8.99667 30.6668L8.99632 30.6671H9.66299H10.3297C10.3297 29.9318 9.73425 29.3338 8.99729 29.3334L8.99698 30.0001ZM9.66299 30.6671L8.99632 30.6668L8.99667 30.6664L8.99698 31.3331L8.99729 31.9998C9.7332 31.9994 10.3293 31.4033 10.3297 30.6674L9.66299 30.6671ZM8.99698 31.3331V30.6664L8.99666 30.6668L8.32999 30.6671L7.66332 30.6674C7.66368 31.4043 8.26165 31.9998 8.99698 31.9998V31.3331ZM8.32999 30.6671H8.99666L8.99698 30.6668V30.0001V29.3334C8.2606 29.3334 7.66332 29.9307 7.66332 30.6671H8.32999ZM7.66299 29.3331V28.6664H6.99698V29.3331V29.9998H7.66299V29.3331ZM6.99698 29.3331V28.6664L6.99666 28.6668L6.32999 28.6671L5.66332 28.6674C5.66367 29.4043 6.26166 29.9998 6.99698 29.9998V29.3331ZM6.32999 28.6671H6.99666L6.99698 28.6668V28.0001V27.3334C6.2606 27.3334 5.66332 27.9307 5.66332 28.6671H6.32999ZM6.99698 28.0001V28.6668H7.66299V28.0001V27.3334H6.99698V28.0001ZM7.66299 28.0001H6.99632V29.3331H7.66299H8.32966V28.0001H7.66299ZM8.99698 28.0001L8.99667 28.6668L8.99632 28.6671H9.66299H10.3297C10.3297 27.9318 9.73425 27.3338 8.99729 27.3334L8.99698 28.0001ZM9.66299 28.6671L8.99632 28.6667L8.99667 28.6664L8.99698 29.3331L8.99729 29.9998C9.7332 29.9994 10.3293 29.4032 10.3297 28.6674L9.66299 28.6671ZM8.99698 29.3331V28.6664H8.32999V29.3331V29.9998H8.99698V29.3331ZM8.32999 29.3331H8.99666V28.0001H8.32999H7.66332V29.3331H8.32999ZM8.32999 28.0001V28.6668H8.99698V28.0001V27.3334H8.32999V28.0001Z",fill:"url(#paint2_linear_18_1382)",fillOpacity:"0.5",mask:"url(#path-8-outside-1_18_1382)"})]})]}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("filter",{id:"filter0_f_18_1382",x:"6.32998",y:"5.66665",width:"10.3334",height:"38.0895",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.00001",result:"effect1_foregroundBlur_18_1382"})]}),(0,n.jsxs)("filter",{id:"filter1_i_18_1382",x:"3.56005",y:"0.760681",width:"7.44004",height:"6.95931",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"-1.44001",dy:"0.720004"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1.08001"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_18_1382"})]}),(0,n.jsxs)("filter",{id:"filter2_d_18_1382",x:"5.66333",y:"27.3334",width:"4.66632",height:"7.33302",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"0.66667"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_18_1382"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_18_1382",result:"shape"})]}),(0,n.jsxs)("linearGradient",{id:"paint0_linear_18_1382",x1:"0",y1:"35.6668",x2:"16.0001",y2:"35.6668",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopOpacity:"0.1"}),(0,n.jsx)("stop",{offset:"0.4",stopOpacity:"0"}),(0,n.jsx)("stop",{offset:"1",stopOpacity:"0.15"})]}),(0,n.jsxs)("linearGradient",{id:"paint1_linear_18_1382",x1:"8.32999",y1:"-1.00005",x2:"13.1672",y2:"33.662",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopOpacity:"0.2"}),(0,n.jsx)("stop",{offset:"1",stopOpacity:"0.4"})]}),(0,n.jsxs)("linearGradient",{id:"paint2_linear_18_1382",x1:"9.66299",y1:"30.6666",x2:"6.32999",y2:"30.6666",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopOpacity:"0.75"}),(0,n.jsx)("stop",{offset:"1",stopOpacity:"0.5"})]}),(0,n.jsx)("clipPath",{id:"clip0_18_1382",children:(0,n.jsx)("rect",{width:"16",height:"34",fill:"white"})})]})]})}i(556482);var tO=i(169182),tk=(e=>(e[e.TOOLBELT_LARGE=0]="TOOLBELT_LARGE",e[e.SECONDARY_TOOLBELT_SMALL=1]="SECONDARY_TOOLBELT_SMALL",e))(tk||{});let tR={0:{maskUrl:(0,tO.ck)("b64b978fd482ae9b8eaa89c5aa3663ae811ddb52"),overlayUrl:(0,tO.ck)("a48e5d740881ff10017d9c39b38ab7f8698ee343")},1:{maskUrl:(0,tO.ck)("12ac52bdd978b3f8d65fb27c15a6533750cb2ed5"),overlayUrl:(0,tO.ck)("eb520d0fdf8c56b8db70b8ce7dd6542a5be60c39")}};function tM({size:e=0}){let{patternSrc:t,isCustom:i}=function(){let e=th();return{patternSrc:e&&(0,tO.ck)(e),isCustom:e&&!td.B.map(e=>e.image).includes(e)}}(),r=t_();return(0,n.jsxs)("div",{className:H()({"icons--toolbeltWashiTapeWrapperLarge--SH0ae icons--toolbeltWashiTapeWrapper--Nxa0N":0===e,"icons--toolbeltWashiTapeWrapperSmall--5evSY icons--toolbeltWashiTapeWrapper--Nxa0N":1===e}),style:{filter:"drop-shadow(0px 1px 3px rgba(0, 0, 0, 0.1)) drop-shadow(0px 3px 8px rgba(0, 0, 0, 0.1)) drop-shadow(0px 0px 0.5px rgba(0, 0, 0, 0.18))"},children:[(0,n.jsx)(tD,{patternSrc:r??t,size:e}),0===e&&(0,n.jsx)("div",{style:{position:"absolute",bottom:"-6px",left:"-6px"},children:(0,n.jsx)(tP,{})})]})}function tD({patternSrc:e,size:t}){return(0,n.jsx)("div",{className:"icons--toolbeltWashitapePerforatedImgStrip--k0oHM",style:{maskImage:`url(${tR[t].maskUrl})`,backgroundImage:`url(${e})`},children:(0,n.jsx)("img",{src:tR[t].overlayUrl,alt:"",className:"x10l6tqk x13vifvy xu96u03 xh8yej3 x5yr21d"})})}function tP(){return(0,n.jsxs)("svg",{width:"32",height:"74",viewBox:"0 0 32 74",fill:"none",children:[(0,n.jsxs)("g",{filter:"url(#filter0_dd_16_1178)",children:[(0,n.jsx)("foreignObject",{x:"0",y:"-2",width:"32",height:"76",children:(0,n.jsx)("div",{style:{backdropFilter:"blur(1px)",clipPath:"url(#bgblur_1_16_1178_clip_path)",height:"100%",width:"100%"}})}),(0,n.jsxs)("g",{"data-figma-bg-blur-radius":"2",children:[(0,n.jsx)("path",{d:"M28 65.999C27.9998 67.1034 27.1044 68 26 68H6C4.89543 68 4 67.1046 4 66V37H28V65.999Z",fill:"url(#paint0_linear_16_1178)",fillOpacity:"0.1"}),(0,n.jsx)("path",{d:"M28 65.999C27.9998 67.1034 27.1044 68 26 68H6C4.89543 68 4 67.1046 4 66V37H28V65.999Z",fill:"white",fillOpacity:"0.75"})]}),(0,n.jsx)("g",{filter:"url(#filter1_f_16_1178)",children:(0,n.jsx)("path",{d:"M27.5 37C27.5 38.1046 26.6046 39 25.5 39H6.5C5.39543 39 4.5 38.1046 4.5 37H4V35C4 33.8954 4.89543 33 6 33V37H26V33C27.1046 33 28 33.8954 28 35V37H27.5Z",fill:"white"})}),(0,n.jsx)("foreignObject",{x:"2",y:"31",width:"28",height:"39",children:(0,n.jsx)("div",{style:{backdropFilter:"blur(1px)",clipPath:"url(#bgblur_1_16_1178_clip_path)",height:"100%",width:"100%"}})}),(0,n.jsx)("path",{"data-figma-bg-blur-radius":"2",d:"M27.4922 34.8467C27.4154 34.0903 26.7767 33.5 26 33.5V37.5H6V33.5C5.17157 33.5 4.5 34.1716 4.5 35V67.5H27.5V35L27.4922 34.8467ZM28 68H4V35C4 33.8954 4.89543 33 6 33H6.5V37H25.5V33H26C27.1046 33 28 33.8954 28 35V68Z",fill:"black",fillOpacity:"0.3"})]}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("filter",{id:"filter0_dd_16_1178",x:"0",y:"-2",width:"32",height:"76",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"1"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"1"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_16_1178"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dy:"2"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"effect1_dropShadow_16_1178",result:"effect2_dropShadow_16_1178"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow_16_1178",result:"shape"})]}),(0,n.jsx)("clipPath",{id:"bgblur_0_16_1178_clip_path",transform:"translate(0 2)",children:(0,n.jsx)("path",{d:"M28 65.999C27.9998 67.1034 27.1044 68 26 68H6C4.89543 68 4 67.1046 4 66V37H28V65.999Z"})}),(0,n.jsxs)("filter",{id:"filter1_f_16_1178",x:"3.5",y:"32.5",width:"25",height:"7",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,n.jsx)("feGaussianBlur",{stdDeviation:"0.25",result:"effect1_foregroundBlur_16_1178"})]}),(0,n.jsx)("clipPath",{id:"bgblur_1_16_1178_clip_path",transform:"translate(-2 -31)",children:(0,n.jsx)("path",{d:"M27.4922 34.8467C27.4154 34.0903 26.7767 33.5 26 33.5V37.5H6V33.5C5.17157 33.5 4.5 34.1716 4.5 35V67.5H27.5V35L27.4922 34.8467ZM28 68H4V35C4 33.8954 4.89543 33 6 33H6.5V37H25.5V33H26C27.1046 33 28 33.8954 28 35V68Z"})}),(0,n.jsxs)("linearGradient",{id:"paint0_linear_16_1178",x1:"4",y1:"55.9676",x2:"28",y2:"55.9676",gradientUnits:"userSpaceOnUse",children:[(0,n.jsx)("stop",{stopColor:"#AAAAAA",stopOpacity:"0.5"}),(0,n.jsx)("stop",{offset:"0.394231",stopColor:"#AAAAAA",stopOpacity:"0"}),(0,n.jsx)("stop",{offset:"0.831731",stopColor:"#999999"})]})]})]})}var tU=i(149844);let tF=r.forwardRef(({value:e,sizePx:t},i)=>(0,n.jsx)("div",{ref:i,className:"image_circle--imageCircleWrapper--uWMXu",children:(0,n.jsx)("div",{className:"image_circle--imageCircle--VZPxP",style:{backgroundImage:`url(${e})`,backgroundSize:"auto 100%",width:t??void 0,height:t??void 0}})}));function tB(){let e=th(),t=(0,eG.JE)(),i=tm();return(0,n.jsxs)(n.Fragment,{children:[td.B.map(t=>{let i=(0,tl.M8)(t);return(0,n.jsx)(tb.vm,{buttonType:tb.Vz.Toggle,isActive:e===t.image,onClick:()=>{(0,tl.Iw)(i)},tooltipText:(0,td.M)(t),recordingKey:k.Pt(P.t1,`washiTapePatternSelect.${t.name}`),children:(0,n.jsx)(tF,{value:i})},t.name)}),t&&(0,n.jsx)(tb.vm,{buttonType:tb.Vz.Toggle,isActive:i,onClick:tf,"aria-label":(0,g.t)("whiteboard.washi_tapes.custom_aria_label"),tooltipText:(0,g.t)("whiteboard.washi_tapes.custom_aria_label"),children:i?(0,n.jsx)(tH,{}):(0,n.jsx)(tU.e,{})})]})}function tH(){let e=t_();return e?(0,n.jsx)(tF,{value:e}):null}let tV="whiteboard_toolbelt--disabled--fxdYS",tG={[U.NLJ.VECTOR_PENCIL]:{toolId:U.NLJ.VECTOR_PENCIL,getText:()=>(0,g.t)("fullscreen_actions.set-tool-marker"),recordingKey:eg.hj.PENCIL},[U.NLJ.HIGHLIGHTER]:{toolId:U.NLJ.HIGHLIGHTER,getText:()=>(0,g.t)("fullscreen_actions.set-tool-highlighter"),recordingKey:eg.hj.HIGHLIGHER},[U.NLJ.WASHI_TAPE]:{toolId:U.NLJ.WASHI_TAPE,getText:()=>(0,g.t)("fullscreen_actions.set-tool-washi-tape"),recordingKey:eg.hj.WASHI_TAPE},[U.NLJ.ERASER]:{toolId:U.NLJ.ERASER,getText:()=>(0,g.t)("fullscreen_actions.set-tool-eraser"),recordingKey:eg.hj.ERASER}};function tW({disabled:e}){let t=function(){let e=(0,o.md)(eH.B),t=(0,o.md)(e8.BB)&&e===U.cxo.PENCIL_TOOL;return!!(0,o.md)(e8.XS)||t}(),i=function(){let e=(0,o.md)(e8.XS)??void 0,t=(0,tt.PD)(e);return e||t||I.gf}(),a=(0,eR.v0)(),s=tG[i],{handleToolAction:l}=(0,eR.W)();!function(){let e=(0,o.md)(tn.o),t=th();r.useEffect(()=>{(0,tl.Qc)(td.B)},[]),r.useEffect(()=>{let i=td.B[0];e||t||!i||(0,tl.Iw)((0,tl.M8)(i))},[t,e])}();let d=tp(i),c=r.useCallback(()=>{l({type:eg.fo.TOGGLE_SUBMENU_AND_TOOL,secondaryToolbeltId:eg.w.DrawingTools,toolIdToActivate:i})},[i,l]);return(0,n.jsx)(eD,{onClick:c,isActive:t,secondaryToolbeltId:eg.w.DrawingTools,tooltipText:s.getText(),tooltipShortcut:a(i),recordingKey:k.Pt(P.I1,s.recordingKey),"data-testid":"toolbelt-drawing-button",disabled:e,hoverBgDisabled:!0,children:(0,n.jsx)("div",{className:H()("whiteboard_drawing--drawingToolPositionWrapper--AIl6j",{"whiteboard_drawing--drawingToolActive--q82CU":t,"whiteboard_drawing--drawingToolDisabled--dxAOq":e,[tV]:e}),children:null!==d?(0,n.jsx)(e4.R,{isThick:"THICK"===d,children:(0,n.jsx)(tK,{lastActiveDrawingTool:i})}):(0,n.jsx)(tK,{lastActiveDrawingTool:i})})})}function tK({lastActiveDrawingTool:e}){switch(e){case U.NLJ.VECTOR_PENCIL:return(0,n.jsx)(tN,{});case U.NLJ.HIGHLIGHTER:return(0,n.jsx)(tw,{});case U.NLJ.ERASER:return(0,n.jsx)(tT,{});case U.NLJ.WASHI_TAPE:return(0,n.jsx)(tM,{size:tk.TOOLBELT_LARGE});default:(0,eo.xb)(e)}}let tz=[U.NLJ.VECTOR_PENCIL,U.NLJ.HIGHLIGHTER,U.NLJ.WASHI_TAPE,U.NLJ.ERASER];function tZ(){let{activeToolId:e,handleToolAction:t}=(0,eR.W)();return(0,n.jsxs)(e$.a,{ariaLabel:(0,g.t)("whiteboard.delightful_toolbar.drawing_tools_label"),children:[tz.map(i=>(0,n.jsx)(tY,{toolId:i,isActive:e===i,activateTool:()=>{t({type:eg.fo.ACTIVATE_TOOL,toolId:i})},customPaddingTop:i===U.NLJ.WASHI_TAPE?3:void 0},i)),(0,n.jsx)(m.X,{extended:!0}),(0,n.jsx)(tj,{}),(0,n.jsx)(m.X,{extended:!0}),(0,n.jsx)(t$,{activeTool:e})]})}function t$({activeTool:e}){switch(e){case U.NLJ.VECTOR_PENCIL:case U.NLJ.HIGHLIGHTER:case U.NLJ.ERASER:return(0,n.jsx)(tg,{});case U.NLJ.WASHI_TAPE:return(0,n.jsx)(tB,{});default:return(0,n.jsx)(tg,{})}}function tY({toolId:e,isActive:t,activateTool:i,customPaddingTop:r}){let a=(0,eR.v0)(),s=tG[e],o=tp(e);return(0,n.jsx)(tb.vm,{buttonType:tb.Vz.Toggle,onClick:()=>{i(s.toolId)},isActive:t,tooltipText:s.getText(),tooltipShortcut:a(s.toolId),recordingKey:k.Pt(P.t1,s.recordingKey),children:(0,n.jsx)("div",{className:"drawing_secondary_toolbelt--subMenuDrawingToolIconWrapper--rV31e",style:void 0!==r?{paddingTop:r}:void 0,children:null!==o?(0,n.jsx)(e4.R,{isThick:"THICK"===o,children:(0,n.jsx)(tq,{toolId:e})}):(0,n.jsx)(tq,{toolId:e})})})}function tq({toolId:e}){switch(e){case U.NLJ.VECTOR_PENCIL:return(0,n.jsx)(tA,{});case U.NLJ.HIGHLIGHTER:return(0,n.jsx)(tI,{});case U.NLJ.WASHI_TAPE:return(0,n.jsx)(tM,{size:tk.SECONDARY_TOOLBELT_SMALL});case U.NLJ.ERASER:return(0,n.jsx)(tE,{});default:(0,eo.xb)(e)}}var tX=i(348211);function tJ(){let{activeSecondaryToolbeltId:e}=(0,G.LH)();return(0,n.jsxs)(n.Fragment,{children:[e===eg.w.DrawingTools&&(0,n.jsx)(tZ,{}),e===eg.w.StickyTools&&(0,n.jsx)(tX.d,{}),e===eg.w.DiagrammingTools&&(0,n.jsx)(e6,{})]})}var tQ=i(628824),t0=i(778611),t1=i(188959),t2=i(289511);function t3({disabled:e}){let t=(0,eR.v0)(),i=(0,es.d4)(e=>e.universalInsertModal.showing),r=(0,t2.r)(i);return(0,n.jsx)(t1.Q,{disabled:e,children:(0,n.jsx)("div",{"data-element-target":I.b,className:H()("whiteboard_inserts_modal_button--insertsWrapper--GxIPb",{"whiteboard_inserts_modal_button--insertsWrapperRotated--ejljC":i}),children:(0,n.jsx)(t0.y,{onClick:r,isActive:i,tooltipText:(0,g.t)("fullscreen_actions.browse-all-resources-dlt"),tooltipShortcut:t(eg.zK.INSERTS_MENU),onboardingKey:I.yl,recordingKey:k.Pt(P.I1,eg.hj.INSERTS),disabled:e})})})}function t5(e){return(0,n.jsx)("div",{className:"hide_bottom_overflow--overflowMask--wPOP2",children:(0,n.jsx)("div",{className:"hide_bottom_overflow--overflowMaskInner--U2pM4",children:e.children})})}var t6=i(67768),t4=i(873852),t9=i(696626),t8=i(308685),t7=i(124493),ie=i(442259),it=i(960980),ii=i(453756);function ir({shouldOpenWheelOnHover:e,isHovered:t}){let i=e&&t;(0,r.useEffect)(()=>{if(!i)return;let e=setTimeout(()=>(0,ef.X)({source:"peeking_vote_wheel_hover",openedViaHover:!0,offsetFromToolbelt:40}),100);return()=>clearTimeout(e)},[i])}let ia="stamps--remainingVotesIndicatorTextSpan--w-jJN ellipsis--ellipsis--Tjyfa",is={padBottom:30,height:512},io=100*is.padBottom/is.height,il=`calc(${io}% + -40px)`,id=`translateY(${il})`;function ic({onClickToOpenWheel:e,isStampToolActive:t,hasRemainingVotes:i}){let[a,s]=(0,r.useState)(!1),o=r.useRef(null),l=(0,ef.iT)(),d=(0,ef.p3)({isHidden:l,wheelRef:o}),c=(0,ef.pZ)()&&i;ir({shouldOpenWheelOnHover:c,isHovered:a});let u=(0,ii.L)()?(0,tO.ck)("b430a2e7534f9452cfc5067678872f109b7cade4"):(0,tO.ck)("c497ee1c6afcaf44b866a46227b40c8ad62dd143");(0,r.useEffect)(()=>{let e=o.current;if(!e)return;let t={transform:`${id} scale(1.05)`},i={transform:`${id} scale(1)`},n=new Animation(new KeyframeEffect(e,[{transform:"translateY(100%) scale(0.1)"},t],{duration:450,easing:"ease-out"})),r=new Animation(new KeyframeEffect(e,[t,i],{duration:200,easing:"ease-in-out"})),a=new Animation(new KeyframeEffect(e,[i,i],{duration:400})),s=new Animation(new KeyframeEffect(e,[i,{}],{duration:300,easing:"cubic-bezier(0.37, 0, 0.48, 1.33)"}));return n.play(),n.finished.then(()=>r.play()).catch(()=>{}),r.finished.then(()=>a.play()).catch(()=>{}),a.finished.then(()=>s.play()).catch(()=>{}),()=>{n.cancel(),a.cancel(),s.cancel()}},[o]);let p=!(t||i);return(0,n.jsx)("div",{className:"stamps--peekingVotingWheelContainer--hP2CU",children:(0,n.jsx)(eM.E,{ref:o,className:H()("stamps--peekingVotingWheel--JsL1l",{"stamps--peekingVotingWheelInactive---J5D8":p,"stamps--peekingVotingWheelHidden--UPEU5":l,"stamps--peekingVotingWheelShowHide--trcMp":d,"stamps--peekingVotingWheelDoneVoting--sJEXl":!i}),"aria-label":(0,g.t)("voting.voting_wheel"),htmlAttributes:{onMouseEnter:()=>(0,ef.pZ)()&&s(!0),onMouseLeave:()=>(0,ef.pZ)()&&s(!1)},onClick:()=>!c&&e(),style:{backgroundImage:`url(${u})`,backgroundColor:"transparent"},children:(0,n.jsx)(n.Fragment,{})})})}var iu=i(125190),ip=i(778880);function ih({onClickToOpenWheel:e,leaveVotingSessionAndCloseWheel:t,numVotesRemaining:i,hasRemainingVotes:a}){let[s,o]=(0,r.useState)(!1),l=a&&!ip.Ay.isIpad;return ir({shouldOpenWheelOnHover:l,isHovered:s}),(0,n.jsx)("div",{className:"stamps--remainingVotesIndicatorContainer--0hRva",children:(0,n.jsx)(eM.E,{className:H()("stamps--remainingVotesIndicator--8Rl3H text--fontPos12--YsUAh text--_fontBase--QdLsd",a?"stamps--remainingVotesIndicatorInProgress--6-a5V":"stamps--remainingVotesIndicatorDone--Qas38"),htmlAttributes:{onMouseEnter:()=>(0,ef.pZ)()&&o(!0),onMouseLeave:()=>(0,ef.pZ)()&&o(!1)},"aria-label":(0,g.t)("voting.remaining_votes"),onClick:()=>{l||(a?e():t())},children:a?(0,n.jsx)("span",{className:ia,children:(0,g.tx)("voting.delightful_toolbar.votes_remaining",{numVotes:i})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(iu.g,{className:"stamps--checkIcon--XCqm2"}),(0,n.jsx)("span",{className:ia,children:(0,g.tx)("voting.delightful_toolbar.no_votes_remaining")})]})})})}var im=i(28761);function ix({disabled:e}){let t=(0,eR.W)(),{activeToolId:i}=t,a=(0,im.lO)(i),s=i===U.NLJ.STAMP,l=(0,ef.iT)(),d=function(e){let t=(0,y.XM)(),i=(0,o.md)(w.nf),n=ej(),r=(0,eG.L)(e);return t&&!(i||n||r)}(i),{numVotesRemaining:c,hasRemainingVotes:u,leaveVotingSessionAndCloseWheel:p}=function(){let e=(0,es.wA)(),t=(0,y.XM)(),i=(0,it.hr)();return{numVotesRemaining:i,hasRemainingVotes:i>0,leaveVotingSessionAndCloseWheel:(0,r.useCallback)(()=>{t&&e(t7.H1({votingStage:U.W8Y.NOT_JOINED})),e(t8.Ho())},[e,t])}}(),{handleStampToolClick:h}=function(e){let t=(0,R.LR)();return{handleStampToolClick:(0,r.useCallback)(()=>{t(!1),e?ie.CB.closeWheel():(0,ef.X)({source:I.fK,offsetFromToolbelt:40})},[e,t])}}(l),m=s||l;return(0,n.jsxs)("div",{"data-element-target":I.NZ,className:en.UJ,children:[(0,n.jsx)(eP.iy,{staticToolConfig:eP.Yk.STAMP,toolbarState:t,forceToRenderActive:a,disabled:e}),d&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ih,{leaveVotingSessionAndCloseWheel:p,onClickToOpenWheel:h,numVotesRemaining:c,hasRemainingVotes:u}),(0,n.jsx)(ic,{onClickToOpenWheel:h,isStampToolActive:m,hasRemainingVotes:u})]})]})}var i_=i(459490),ig=i(827540);function ib({toolbarState:e,disabled:t}){let i=!(0,i_.q8)(),r=(0,ig.I)();return(0,n.jsx)(eP.iy,{staticToolConfig:eP.Yk.ACTIONS,toolbarState:e,extendedData:{hasAIPermission:i},forceToRenderActive:r,disabled:t})}function ij({toolbarState:e,isToolbeltDisabled:t,isCommentsDisabled:i}){let a=(0,y.XM)(),{numVisibleTools:l}=(0,o.md)(t9.Kj),d=(0,t9.$R)(l),c=(0,o.Xr)(t6.n6);r.useEffect(()=>{c(void 0!==d.find(e=>e.toolId===t4.y))},[c,d]),a&&void 0===d.find(({toolId:e})=>e!==U.NLJ.STAMP)&&d.push(eP.Yk.STAMP);let u=[];for(let r of d)switch(r.toolId){case U.NLJ.STAMP:u.push((0,n.jsx)(ix,{disabled:t},r.toolId));break;case U.NLJ.COMMENTS:u.push((0,n.jsx)(ez,{toolbarState:e,disabled:i},r.toolId));break;case t4.y:(0,s.k)().figjam_quick_actions_v2&&u.push((0,n.jsx)(ib,{toolbarState:e,disabled:t},r.toolId));break;default:u.push((0,n.jsx)(eP.iy,{staticToolConfig:r,toolbarState:e,disabled:t},r.toolId))}return u.length>0?(0,n.jsx)(n.Fragment,{children:u}):null}var iy=i(153399),iv=i(801324),iC=i(545760);function iT({toolbarIconScale:e,disabled:t}){let i=(0,o.md)(e8.nU),[s,l]=(0,r.useState)(!1),[d,c]=(0,r.useState)(!1),[u,p]=(0,r.useState)(iC.k.DEFAULT),h=240/(iv.rX*e),m=function(){let e=(0,o.md)(V.qL),t=(0,iy.zS)(e,"sticky"),i=W.F.format(e);return t?(0,iy.MV)(t,i):"rgba(230, 230, 230, 1)"}(),f=(0,o.md)(ee),x=function(){let{activeSecondaryToolbeltId:e}=(0,G.LH)();return null!==e}(),{isHovered:_,onMouseEnter:g,onMouseMove:b,onMouseLeave:j,onTouchStart:y,onTouchEnd:v}=et(a.lQ,x),C=(0,r.useCallback)((e,t)=>{F.l7.user("drop-sticky-on-canvas",()=>U.glU?.dropDiagramItemOntoCanvas(U.NLJ.STICKY,Math.round(e.x-55),Math.round(e.y-55),Math.round(t.x),Math.round(t.y),U.V5h.TOP_LEFT,U.VTL.NO)),l(!1),c(!1),p(iC.k.DEFAULT)},[]),T=(0,r.useCallback)(()=>{l(!0),u===iC.k.DEFAULT&&p(iC.k.INITIAL_DRAG_ON_DLT)},[u,p,l]);return(0,r.useEffect)(()=>{if("sticky"===f.draggedTool){let e=!f.draggedToolCanCancel;u===iC.k.INITIAL_DRAG_ON_DLT?e&&p(iC.k.DRAG_ON_CANVAS):u===iC.k.DRAG_ON_CANVAS?e||p(iC.k.DRAG_RETURN_TO_DLT):u===iC.k.DRAG_RETURN_TO_DLT&&e&&p(iC.k.DRAG_ON_CANVAS)}else f.draggedTool||p(iC.k.DEFAULT)},[f,s,p,u]),(0,n.jsx)("div",{onMouseEnter:g,onMouseMove:b,onMouseLeave:j,onTouchStart:y,onTouchEnd:v,children:(0,n.jsxs)("div",{className:H()(en.z6,en.ac),children:[(0,n.jsx)(ex,{Icon:iv.UJ,canvasToSvgScale:h,color:m,disabled:t,hoverOffsetAmount:"STICKY_UI3_PILE",isActive:i,isDragReversing:d,isHovered:_,onDragEnd:C,onDragStart:T,onTap:a.lQ,stickyAnimationState:u,toolType:"sticky",toolbarIconScale:e}),(0,n.jsx)(iv.UJ,{toolOrder:2,color:m,toolbarIconScale:e,shouldAnimate:s,isReversing:d,stickyAnimationState:u}),(0,n.jsx)(iv.UJ,{toolOrder:3,color:m,toolbarIconScale:e,shouldAnimate:s,isReversing:d,stickyAnimationState:u}),(0,n.jsx)(iv.UJ,{toolOrder:4,color:m,toolbarIconScale:e,shouldAnimate:s,isReversing:d,stickyAnimationState:u})]})})}function iE({disabled:e}){let{activeToolId:t,handleToolAction:i}=(0,eR.W)(),a=r.useCallback(()=>{i({type:eg.fo.TOGGLE_SUBMENU_AND_TOOL,toolIdToActivate:U.NLJ.STICKY,secondaryToolbeltId:eg.w.StickyTools})},[i]),s=eP.Yk.STICKY,o=(0,eR.v0)();return(0,n.jsx)(eD,{"data-testid":"toolbelt-sticky-button",disabled:e,hoverBgDisabled:!0,isActive:t===U.NLJ.STICKY,onClick:a,onboardingKey:s.onboardingKey,recordingKey:k.Pt(P.I1,s.recordingKey),secondaryToolbeltId:eg.w.StickyTools,tooltipShortcut:o(s.toolId),tooltipText:s.getText(),children:(0,n.jsx)("div",{className:"sticky--stickyButtonInner--JfK46",children:(0,n.jsx)("div",{className:H()("sticky--stickyPileWrapper---hHW-",{[tV]:e}),children:(0,n.jsx)(iT,{toolbarIconScale:.5,disabled:e})})})})}var iS=i(343967),iw=i(8833),iI=i(546509),iL=i(751648),iN=i(109200),iA=i(355754);let iO=r.createContext(!0);function ik(e){let{hidden:t,children:i}=e;return(0,n.jsx)("div",{className:H()("whiteboard_tablet_extra_container--tabletExtraContainer--YWq1l",!t&&"whiteboard_tablet_extra_container--tabletExtraContainerShow--sujQ3"),"data-testid":e["data-testid"],children:(0,n.jsx)(iO.Provider,{value:!t,children:i})})}function iR(e){let{children:t,onClick:i,isActive:a,disabled:s}=e,o=r.useContext(iO);return(0,n.jsx)(eM.E,{"aria-disabled":s,"aria-hidden":s,"aria-label":(0,J.A)(e["data-tooltip"]),"aria-pressed":e.isActive,className:H()("whiteboard_tablet_extra_container--tabletExtraButton--1s8tz",{"whiteboard_tablet_extra_container--tabletExtraButtonActive--s4YXM":a,"whiteboard_tablet_extra_container--tabletExtraButtonDisabled--WqIv-":s}),disabled:s,htmlAttributes:{tabIndex:o?0:-1,"data-testid":e["data-testid"],"data-tooltip":s?void 0:e["data-tooltip"],"data-tooltip-type":K.Ib.LOOKUP,"data-tooltip-show-right":!0},onClick:i,recordingKey:e.recordingKey,children:t})}function iM(){let e=(0,iA.xI)(),t=!function(){let e=(0,o.md)(e8.XS);switch(e){case U.NLJ.VECTOR_PENCIL:case U.NLJ.HIGHLIGHTER:return!0;case U.NLJ.ERASER:case U.NLJ.WASHI_TAPE:case null:return!1;default:(0,eo.xb)(e)}}();return(0,n.jsx)(ik,{hidden:t,"data-testid":"toolbelt-tablet-extra-straight-line",children:(0,n.jsx)(iR,{isActive:e,disabled:t,onClick:()=>{U.glU?.triggerActionInUserEditScope("toggle-straight-pencil",{source:I.fK})},"data-tooltip":"straight-line",children:(0,n.jsx)(iN.L,{})})})}var iD=i(730894),iP=i(66404),iU=i(357047);function iF(){return(0,n.jsxs)(ik,{"data-testid":"toolbelt-tablet-extra-undo-redo",children:[(0,n.jsx)(iB,{}),(0,n.jsx)(iH,{})]})}function iB(){let e=(0,es.d4)(e=>(0,iU.Yh)(e.mirror.appModel,"undo"));return(0,n.jsx)(iR,{isActive:!1,disabled:!e,onClick:()=>{tr.Y5.triggerActionInUserEditScope("undo",{source:I.fK})},"data-tooltip":"undo",children:(0,n.jsx)(iD.E,{})})}function iH(){let e=(0,es.d4)(e=>(0,iU.Yh)(e.mirror.appModel,"redo"));return(0,n.jsx)(iR,{isActive:!1,disabled:!e,onClick:()=>{tr.Y5.triggerActionInUserEditScope("redo",{source:I.fK})},"data-tooltip":"redo",children:(0,n.jsx)(iP.s,{})})}let iV=(0,l.jz)(ev.if6);function iG(){let e=r.useRef(null),t=function(e){let t=(0,j.Yk)(),i=(0,iL.TH)(),n=e.current?.getBoundingClientRect();return i&&n&&n.right+iV>i.left?t:0}(e),i=(0,iS.U1)(e),a=(0,v.aV)(),s=(0,iI.BI)(),o=s?.shouldHideDLTUndoRedo&&!ip.Ay.isMeetDevice;return a?null:(0,n.jsx)(T.x,{children:(0,n.jsx)(C.m,{role:"region",children:(0,n.jsxs)("div",{ref:i,className:H()("whiteboard_toolbelt--tabletExtras--ps-qy",iw.Dm),style:{marginBottom:t},children:[(0,n.jsx)(iM,{}),!o&&(0,n.jsx)(iF,{})]})})})}let iW=40+iV+1;function iK(){return ip.Ay.isMeetDevice?!!(0,s.k)().figjam_ui3_toolbelt_fullscreen_integrations:!!ip.Ay.isIpad&&!!(0,s.k)().figjam_ui3_toolbelt_mobile_device}function iz(){return(0,n.jsx)(c.tH,{boundaryKey:"WhiteboardToolbelt",fallback:c.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,n.jsxs)(b.fu,{name:I.RZ,children:[iK()&&(0,n.jsx)(iG,{}),(0,n.jsx)(iZ,{children:(0,n.jsx)(iY,{children:(0,n.jsx)(iq,{})})})]})})}function iZ({children:e}){let t=function(){let e=r.useRef(null),t=(0,d.wY)(e),i=2*Math.max(iK()?iW:0,i$),n=t?.width??(0,t9.Hu)().thresholdWidth+i,a=(0,o.Xr)(t9.Kj),s=(0,y.XM)();return r.useEffect(()=>{a((0,t9.Iq)(s).find(e=>n>=e.thresholdWidth+i)??(0,t9.Hu)())},[n,s,a,i]),e}();!function(e,t){let i=(0,E.C)(),n=i?.setWhiteboardToolbeltContainerNode||a.lQ,s=i?.setWhiteboardToolbeltNode||a.lQ;r.useEffect(()=>{e&&n(e.current),t&&s(t.current)},[e,n,t,s])}(t,(0,o.md)(x.f));let i=(0,j.xn)(),s=(0,o.md)(_.P4),l=r.useMemo(()=>({marginBottom:i+s}),[i,s]);return(0,n.jsx)("div",{id:I.HY,ref:t,"data-onboarding-key":I.HY,"data-element-target":I.HY,className:"whiteboard_toolbelt--root---s6Vo",style:l,children:e})}let i$=105+2*(0,l.jz)(ev.if6)+1;function iY({children:e}){return(0,v.aV)()?null:(0,n.jsx)(T.x,{children:(0,n.jsx)(C.m,{role:"region","aria-label":(0,g.t)("fullscreen_actions.toolbar_label"),children:e})})}function iq(){let e=(0,eR.W)(),{editModeType:t}=e,i=(0,p.z)(t),a=(0,o.md)(w.hV),{activeBannerType:l}=(0,eR.Dm)();return(0,S.qv)(),!function(){let{activeToolId:e}=(0,eR.W)(),{setActiveSecondaryToolbeltId:t}=(0,G.LH)(),i=(0,ef.Xc)(),n=(0,M.AE)();r.useEffect(()=>{if(i){t(null);return}e!==U.NLJ.DROPPER_COLOR&&t(t=>e===P.$o&&t===eg.w.DiagrammingTools?eg.w.DiagrammingTools:(0,eG.L)(e)?eg.w.DrawingTools:e===U.NLJ.STICKY?eg.w.StickyTools:eb(e)&&!n?eg.w.DiagrammingTools:null)},[e,t,i,n])}(),!function(){let{activeToolId:e}=(0,eR.W)(),{activeSecondaryToolbeltId:t,setActiveSecondaryToolbeltId:i}=(0,G.LH)(),n=(0,o.md)(x.f);r.useEffect(()=>{let t=t=>{!(0,eG.L)(e)&&!eb(e)&&e!==U.NLJ.DROPPER_COLOR&&n?.current&&t.target instanceof Element&&!n.current.contains(t.target)&&i(null)};return document.addEventListener("pointerdown",t),()=>{document.removeEventListener("pointerdown",t)}},[e,t,i,n])}(),!function(e){let{setActiveSecondaryToolbeltId:t}=(0,G.LH)();r.useEffect(()=>{let i=i=>{"Escape"===i.key&&e!==U.m1T.TEXT&&t(null)};return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)}},[t,e])}(t),!function(){let e=(0,o.md)(eB.tM),[t,i]=(0,o.fp)(eH.B);(0,r.useEffect)(()=>{e!==U.NLJ.DROPPER_COLOR&&(e===U.NLJ.VECTOR_PENCIL?i(U.cxo.PENCIL_TOOL):(0,Y.qW)(e)?i(U.cxo.SHAPE_TOOL):(t===U.cxo.PENCIL_TOOL||t===U.cxo.SHAPE_TOOL)&&i(U.cxo.SELECTION))},[e,t,i])}(),(0,L.m)(w.hV),!function(){let{activeSecondaryToolbeltId:e}=(0,G.LH)(),t=(0,eW.g)(eV.Y.FigjamDLTSubmenuOpen);r.useEffect(()=>{e&&t()},[e,t])}(),(0,n.jsxs)(h.XS,{"data-testid":I.SH,children:[(0,n.jsx)(h.Iy,{children:(0,n.jsx)(t5,{children:(0,n.jsxs)(f.kF,{children:[!(0,s.k)().figjam_ui3_toolbelt_move_tool_group||i?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eP.iy,{staticToolConfig:eP.Yk.SELECT,toolbarState:e}),(0,n.jsx)(eP.iy,{staticToolConfig:eP.Yk.HAND,toolbarState:e})]}):(0,n.jsx)(eP.Z9,{staticToolGroupConfig:eP.AO.MOVE,toolbarState:e}),a?(0,n.jsx)(iJ,{}):(0,n.jsx)(iX,{})]})})}),(0,n.jsx)(tJ,{}),(0,n.jsx)(tQ._,{activeBannerType:l})]})}function iX(){let{isToolbeltDisabled:e,isCommentsDisabled:t}=iQ(),i=(0,eR.W)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.X,{extended:!0}),(0,n.jsx)(tW,{disabled:e}),(0,n.jsx)(iE,{disabled:e}),(0,n.jsx)(eU,{disabled:e}),(0,n.jsx)(m.X,{extended:!0}),(0,n.jsx)(ij,{toolbarState:i,isToolbeltDisabled:e,isCommentsDisabled:t}),(0,n.jsx)(t3,{disabled:e})]})}function iJ(){let e=(0,eR.W)(),{isCommentsDisabled:t}=iQ();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ez,{toolbarState:e,disabled:t},eP.Yk.COMMENTS.toolId),(0,n.jsx)(u.F,{})]})}function iQ(){let e=(0,N.w)(),t=(0,A.g)(),i=(0,O.z)();return{isToolbeltDisabled:t||e||i,isCommentsDisabled:!(e||i)&&t}}},178712:(e,t,i)=>{i.d(t,{AO:()=>O,Yk:()=>N,Z9:()=>k,iy:()=>A});var n=i(486106),r=i(7677),a=i(175043),s=i(532797),o=i(936515),l=i(327027),d=i(483257),c=i(549862),u=i(171285),p=i(668312),h=i(809171),m=i(178683),f=i(700609),x=i(291719),_=i(763686),g=i(806412),b=i(176280),j=i(131348),y=i(303541),v=i(67768),C=i(57e3),T=i(983733),E=i(873852),S=i(300024),w=i(595754),I=i(645772),L=i(307066);let N={SELECT:{toolId:_.NLJ.SELECT,getText:()=>(0,y.t)("fullscreen_actions.set-tool-default-desc-figjam"),icon:(0,n.jsx)(r.H,{}),smallIcon:(0,n.jsx)(a.y,{}),recordingKey:L.hj.SELECT},HAND:{toolId:_.NLJ.HAND,getText:()=>(0,y.t)("fullscreen_actions.set-tool-hand"),icon:(0,n.jsx)(s.t,{}),smallIcon:(0,n.jsx)(o.O,{}),recordingKey:L.hj.HAND,onboardingKey:C.N},STICKY:{toolId:_.NLJ.STICKY,getText:()=>(0,y.t)("fullscreen_actions.set-tool-sticky"),recordingKey:L.hj.STICKY,onboardingKey:S.s2},SHAPE_COLLAGE:{toolId:_.NLJ.SHAPE_WHITEBOARD_SQUARE,getText:()=>(0,y.t)("whiteboard.delightful_toolbar.shapes_and_connectors_label"),recordingKey:L.hj.SHAPES,onboardingKey:S.BC},TEXT:{toolId:_.NLJ.TYPE,getText:()=>(0,y.t)("fullscreen_actions.set-tool-type"),icon:(0,n.jsx)(l.B,{}),recordingKey:L.hj.TEXT},SECTION:{toolId:_.NLJ.SECTION,getText:()=>(0,y.t)("fullscreen_actions.set-tool-section"),icon:(0,n.jsx)(d.P,{}),recordingKey:L.hj.SECTION,onboardingKey:T.pN},TABLE:{toolId:_.NLJ.TABLE,getText:()=>(0,y.t)("fullscreen_actions.set-tool-table"),icon:(0,n.jsx)(c.s,{}),recordingKey:L.hj.TABLE},STAMP:{toolId:_.NLJ.STAMP,getText:()=>(0,y.t)("fullscreen_actions.set-tool-stamp"),icon:(0,n.jsx)(u.b,{}),recordingKey:L.hj.STAMP,onboardingKey:S.E$},COMMENTS:{toolId:_.NLJ.COMMENTS,getText:e=>e?.numUnreadComments!=null&&e.numUnreadComments>0?(0,y.t)("fullscreen.accessibility.view_comments_with_unreads"):(0,y.t)("fullscreen.accessibility.view_comments"),getIcon:e=>e?.numUnreadComments!=null&&e?.numUnreadComments>0?(0,n.jsx)(p.X,{}):(0,n.jsx)(h.f,{}),recordingKey:L.hj.COMMENT},ACTIONS:{toolId:E.y,getText:()=>(0,y.t)("qa.extensions.tooltip_actions"),getIcon:e=>e?.hasAIPermission?(0,n.jsx)(m.P,{}):(0,n.jsx)(f.t,{}),recordingKey:L.hj.ACTIONS,onboardingKey:v.D1}};function A({staticToolConfig:e,toolbarState:t,forceToRenderActive:i,extendedData:r,disabled:a}){let{toolId:s,icon:o,getIcon:l,recordingKey:d,onboardingKey:c,getText:u}=e,{handleToolAction:p,activeToolId:h}=t,m=l?.(r)??o,f=(0,I.v0)();return(0,n.jsx)(b.N,{toolId:s,icon:m??(0,n.jsx)(x.V,{}),tooltipText:u(r),tooltipShortcut:f(s),onboardingKey:c,recordingKey:g.Pt(w.I1,d),disabled:a,onActivateTool:e=>{e===E.y?p({type:L.fo.TOGGLE_ACTIONS}):e===_.NLJ.COMMENTS?p({type:L.fo.TOGGLE_COMMENTS}):p({type:L.fo.ACTIVATE_TOOL,toolId:e})},activeToolId:i?s:h})}let O={MOVE:{toolGroupId:L.MI.MoveTools,tools:[N.SELECT,N.HAND],recordingKey:"toolGroupMove",getTooltipText:()=>(0,y.t)("fullscreen.flyout.move_tools")}};function k({staticToolGroupConfig:e,toolbarState:t}){let{toolGroupId:i,tools:r,getTooltipText:a,recordingKey:s,onboardingKey:o}=e,{handleToolAction:l,activeToolId:d}=t,c=(0,I.v0)(),u=r.map(e=>{let{toolId:t,icon:i,smallIcon:r,onboardingKey:a,recordingKey:s,getText:o,getIcon:l}=e;return{toolId:t,icon:l?.()??i??(0,n.jsx)(x.V,{}),smallIcon:r,text:o(),shortcutText:c(t),onboardingKey:a,recordingKey:s??""}});return(0,n.jsx)(j.I,{activeToolId:d,items:u,onActivateTool:e=>{l({type:L.fo.ACTIVATE_TOOL,toolId:e})},onboardingKey:o,toolGroupId:i,recordingKey:g.Pt(w.I1,s),tooltipText:a()})}},628878:(e,t,i)=>{i.d(t,{m:()=>o});var n=i(463802),r=i(425002),a=i(408361),s=i(7378);function o(){let[e]=(0,n.DF)();return(0,s.useEffect)(()=>e.registerCommand(a.OX,t=>{let i=(0,a.vJ)();if(!(0,a.I2)(i))return!1;t.preventDefault();let n=!function(e){let t=e.getNodes();if((0,r.zD)(t,e=>(0,a.y6)(e)&&e.canIndent()?e:null).length>0)return!0;let i=e.anchor,n=e.focus,s=n.isBefore(i)?n:i,o=s.getNode(),l=(0,r.mB)(o);if(l.canIndent()){let e=l.getKey(),t=(0,a.uT)();if(t.anchor.set(e,0,"element"),t.focus.set(e,0,"element"),(t=(0,a.C)(t)).anchor.is(s))return!0}return!1}(i)?a.YW:t.shiftKey?a.si:a.Pi;return e.dispatchCommand(n,void 0)},a.jZ)),null}},368426:(e,t,i)=>{i.d(t,{d:()=>r});var n=i(486106);let r=(0,i(7378).memo)(function(e){return(0,n.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 12a.5.5 0 0 1-.5-.5V4.707L4.354 7.854a.5.5 0 1 1-.708-.707l4-4a.5.5 0 0 1 .708 0l4 4a.5.5 0 0 1-.708.707L8.5 4.707V11.5a.5.5 0 0 1-.5.5",clipRule:"evenodd"})})})},307867:(e,t,i)=>{i.d(t,{T:()=>r});var n=i(486106);let r=(0,i(7378).memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",d:"M12.554 5.514C18.184 5.8 21 10.426 21 12l-.009.161C20.811 13.924 17.813 18.5 12 18.5l-.554-.014c-5.45-.278-8.262-4.619-8.437-6.325L3 12c0-1.625 3-6.5 9-6.5zM12 6.5c-2.708 0-4.72 1.094-6.062 2.366a8 8 0 0 0-1.499 1.912C4.098 11.403 4 11.838 4 12s.098.597.44 1.222a8 8 0 0 0 1.497 1.912C7.28 16.406 9.293 17.5 12 17.5s4.72-1.094 6.063-2.366a8 8 0 0 0 1.498-1.912c.341-.625.439-1.06.439-1.222s-.098-.597-.44-1.222a8 8 0 0 0-1.497-1.912C16.72 7.594 14.708 6.5 12 6.5M12 9a3 3 0 1 1 0 6 3 3 0 0 1 0-6m0 1a2 2 0 1 0 0 4 2 2 0 0 0 0-4"})})})},736516:(e,t,i)=>{i.d(t,{y:()=>r});var n=i(486106);let r=(0,i(7378).memo)(function(e){return(0,n.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,n.jsx)("path",{fill:"var(--color-icon-tertiary)",d:"M8 6.5A1.5 1.5 0 0 1 9.5 5h5A1.5 1.5 0 0 1 16 6.5v11.597c0 .89-1.074 1.336-1.705.71L12 16.525l-2.295 2.28c-.631.627-1.705.18-1.705-.71z"}),(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m12 15.116.705.7L15 18.096V6.5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0-.5.5v11.597l2.295-2.28zm0 1.41 2.295 2.28c.631.627 1.705.18 1.705-.71V6.5A1.5 1.5 0 0 0 14.5 5h-5A1.5 1.5 0 0 0 8 6.5v11.597c0 .89 1.074 1.336 1.705.71z",clipRule:"evenodd"})]})})},749199:(e,t,i)=>{i.d(t,{k:()=>r});var n=i(486106);let r=(0,i(7378).memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m12.705 15.816-.705-.7-.705.7L9 18.096V6.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 .5.5v11.597zm1.59 2.99L12 16.526l-2.295 2.28c-.631.627-1.705.18-1.705-.71V6.5A1.5 1.5 0 0 1 9.5 5h5A1.5 1.5 0 0 1 16 6.5v11.597c0 .89-1.074 1.336-1.705.71",clipRule:"evenodd"})})})},820986:(e,t,i)=>{i.d(t,{d:()=>r});var n=i(486106);let r=(0,i(7378).memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5m-9-1A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 16.5 6z",clipRule:"evenodd"})})})}}]);

//# debugId=682338dd-878d-543f-b2a2-5a323c5f0032

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/8ebe9d3d684a9efead61be8172cc5d19629a5a48/2b17fec9-355cd82e139949a8.min.js.map