"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="7d9d532d-5198-54d7-8126-eca3c2030dd0")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[7498],{43961:(e,t,i)=>{i.d(t,{DD:()=>l,HV:()=>h,I7:()=>o,KB:()=>s,O:()=>d,Q$:()=>r,QF:()=>p,Vh:()=>f,b:()=>m,bN:()=>c,g4:()=>u,gn:()=>n,jI:()=>a});let n="component_browser_window--titleContainer--NLx3R",r="component_browser_window--titleBarRight--UKlFA",a="component_browser_window--gitHubSettingsButton--Kydpi",s="component_browser_window--footerPossibleMatches---kxuT",o="component_browser_window--footerSetupGithub--K3ora",l="component_browser_window--title--UxCyv",d="component_browser_window--componentsListContainer--bhjOJ",c="component_browser_window--componentsListContainerEmpty--tRvNZ",u="component_browser_window--loadingContainer--P52rw",p="component_browser_window--breadcrumb--pNDmI",m="component_browser_window--breadcrumbText--v3nme",h="component_browser_window--last--7xYos",f="component_browser_window--breadcrumbSeparator--l24-h"},320848:(e,t,i)=>{i.d(t,{$s:()=>l,IP:()=>a,Lx:()=>c,R9:()=>o,RL:()=>s,UD:()=>d,ZS:()=>r,hQ:()=>n,xn:()=>u});let n="figjam_onboarding_make_something--contentContainer--gVph-",r="figjam_onboarding_make_something--imageContainer--RoSk9",a="figjam_onboarding_make_something--bodyContainer--GVc2Q text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",s="figjam_onboarding_make_something--tooltipBodyXSmall--sONX7",o="figjam_onboarding_make_something--tooltipBodySmall--7yA9-",l="figjam_onboarding_make_something--tooltipBodyLarge--jkc-5",d="figjam_onboarding_make_something--buttonContainer--78iSl",c="figjam_onboarding_make_something--skipButtonPosition--Rzzb8",u="figjam_onboarding_make_something--standaloneModal--Ksh8z"},733790:(e,t,i)=>{i.d(t,{AX:()=>j,D6:()=>M,Dw:()=>S,Fn:()=>d,G$:()=>a,Gu:()=>I,HR:()=>y,Jo:()=>C,N6:()=>U,Nf:()=>R,PP:()=>o,QF:()=>N,Rt:()=>n,S:()=>W,Sq:()=>c,T:()=>O,V3:()=>f,VQ:()=>A,Vz:()=>B,Wv:()=>l,Xt:()=>x,Z9:()=>u,_E:()=>G,_M:()=>v,_P:()=>b,bB:()=>h,c1:()=>D,du:()=>T,dz:()=>q,eO:()=>K,ei:()=>p,fp:()=>F,fz:()=>L,hY:()=>w,hs:()=>V,kQ:()=>H,of:()=>P,qp:()=>E,r9:()=>_,rB:()=>z,rX:()=>k,sb:()=>m,tI:()=>r,v9:()=>s,wH:()=>g});let n="canvas_search--searchInput--aCP6B canvas_search--input--aPqLZ",r="canvas_search--searchInputSingleLine--DUHFr",a="canvas_search--searchSidebarContainer--1tcxd",s="canvas_search--icon32--bmz-L",o="canvas_search--searchBarContainer--rxvLi",l="canvas_search--searchBarRow--9aFwa",d="canvas_search--leftRailSearchBarRow--hC5z6",c="canvas_search--leftRailReplaceRow--hjGAr",u="canvas_search--searchIconAndInput--3tdWb",p="canvas_search--searchIconPlaceholderFill--MohCt",m="canvas_search--resultsContainer--b0olz",h="canvas_search--resultsList--Hciv7",f="canvas_search--layerIcon--RpNZF",g="canvas_search--selected--Ng41y",_="canvas_search--disabled--dMwG7",x="canvas_search--indirectlySelected--2E-TI",y="canvas_search--symbol--614fP",b="canvas_search--layerIconContainer--IuQxq",C="canvas_search--resultInfoHeader--GM1gm",v="canvas_search--resultInfo--PKQiZ",E="canvas_search--resultsText--ubMAu",T="canvas_search--resultsFooterText--rPxEh",w="canvas_search--dotDivider--zvIFp",j="canvas_search--resultRow--xX8wI",S="canvas_search--isHoverSelecting--LlQSE",k="canvas_search--singletonHoverSelected--pCLSM",I="canvas_search--resultSubheading--XCt-Z",N="canvas_search--offlineIconContainer--qVbhY",A="canvas_search--offlineIcon--F0sbc",O="canvas_search--hoverSelectedTop--mA-fk canvas_search--_hoverSelectedBase--JOTSs",L="canvas_search--hoverSelectedMiddle--OBw7k canvas_search--_hoverSelectedBase--JOTSs",R="canvas_search--hoverSelectedBottom--zH7Va canvas_search--_hoverSelectedBase--JOTSs",M="canvas_search--resultText--RXqeC",D="canvas_search--multiline--1gb-l",P="canvas_search--strikethrough--0xsma",F="canvas_search--otherResults--G94fM",B="canvas_search--searchScopeButton--Grrvz",U="canvas_search--replaceInput--TmEDS canvas_search--searchBarRow--9aFwa canvas_search--input--aPqLZ",G="canvas_search--replaceButtons--1sbwP",H="canvas_search--collapsableHeaderToggle--kHXh8",z="canvas_search--collapsableHeaderName---qij5",V="canvas_search--collapsableHeaderCount---NL3l",K="canvas_search--expandIcon--6eieV",W="canvas_search--loadingSpinner--Y5hDC",q="canvas_search--loadingSpinnerDelay--Rk3MX"},763216:(e,t,i)=>{i.d(t,{H9:()=>r,JE:()=>d,VS:()=>o,WP:()=>c,_0:()=>u,ed:()=>a,oZ:()=>l,t1:()=>s,wV:()=>n});let n="canvas_search_settings--optionRow--KS01b",r="canvas_search_settings--optionIcon---0QYX",a="canvas_search_settings--optionLabel--Ygpmi",s="canvas_search_settings--optionCount--BzzTP",o="canvas_search_settings--filterPills--tbdih",l="canvas_search_settings--filterPillsLeftRail--xtS-2",d="canvas_search_settings--filterPillsShort--GX-Rn",c="canvas_search_settings--filterPillFpl--qqnVV canvas_search_settings--filterPill--hjIaF",u="canvas_search_settings--pillRemoveFpl--Q6M31"},804114:(e,t,i)=>{i.d(t,{$U:()=>v,Fo:()=>C,K3:()=>d,PE:()=>f,Q:()=>h,Rj:()=>a,T_:()=>n,U2:()=>g,VW:()=>l,WV:()=>m,Zk:()=>u,ed:()=>c,g1:()=>y,hs:()=>x,jk:()=>r,oX:()=>s,r2:()=>b,rF:()=>E,so:()=>p,uR:()=>_,z$:()=>o});let n="on_canvas_name_editor--containerOnLight--6zUKs",r="on_canvas_name_editor--measurer--KTnSp",a="on_canvas_name_editor--frameNameInput--VpLPf sf_pro--uiFontWithSFProFallback--m-p9V",s="on_canvas_name_editor--canvasGridRowNameInput--NtMKm on_canvas_name_editor--frameNameInput--VpLPf sf_pro--uiFontWithSFProFallback--m-p9V",o="on_canvas_name_editor--varWidthSizeInput--34tdd sf_pro--uiFontWithSFProFallback--m-p9V",l="on_canvas_name_editor--flowStartingPointNameContainer--JdVwd",d="on_canvas_name_editor--flowStartingPointNameInput--lLEZF",c="on_canvas_name_editor--sectionNameContainer--D8aez",u="on_canvas_name_editor--sectionNameInput--MgIUi",p="on_canvas_name_editor--sectionMeasurer--kfBij",m="on_canvas_name_editor--varWidthSizeContainer--GP30J",h="on_canvas_name_editor--measurementFreeTextInput--gJle8 sf_pro--uiFontWithSFProFallback--m-p9V",f="on_canvas_name_editor--gridTrackSizeInput--TX2Zz sf_pro--uiFontWithSFProFallback--m-p9V",g="on_canvas_name_editor--gridTrackSizeComboboxInput--BR3nH sf_pro--uiFontWithSFProFallback--m-p9V",_="on_canvas_name_editor--gridTrackSizeComboboxTrigger--x3YF2",x="on_canvas_name_editor--gridTrackSizeComboboxContainer--XhG0G",y="on_canvas_name_editor--gridTrackSizeComboboxPopupList--VszDC",b="on_canvas_name_editor--gridTrackSizeComboboxOption--txB7m",C="on_canvas_name_editor--gridTrackSizeComboboxOptionInner--hHnK8",v="on_canvas_name_editor--gridTrackSizeComboboxOptionInnerActive--iBPBQ",E="on_canvas_name_editor--gridTrackSizeComboboxOptionCheck--HHUoo"},212974:(e,t,i)=>{i.d(t,{$A:()=>n,kL:()=>r,to:()=>a});let n="40px",r="header_container--container--aPIhG",a="header_container--withShadow---XYxm"},214758:(e,t,i)=>{i.d(t,{As:()=>p,Dq:()=>c,KE:()=>x,Nr:()=>j,Nz:()=>g,Pl:()=>h,R:()=>_,Sp:()=>n,VC:()=>b,VQ:()=>S,YW:()=>y,aY:()=>a,ge:()=>E,hi:()=>C,iB:()=>u,jE:()=>w,jG:()=>v,l$:()=>r,mB:()=>T,n6:()=>s,oG:()=>l,q8:()=>k,sR:()=>f,sl:()=>m,vu:()=>o,wH:()=>d});let n="legacy_pages_panel--pageChangesCount--ZvU4X",r="legacy_pages_panel--pagesList--20gAo",a="legacy_pages_panel--pendingPagesList--Kqq9Y legacy_pages_panel--pagesList--20gAo",s="legacy_pages_panel--pageIcon--2SeMV",o="legacy_pages_panel--active--4gxmS",l="legacy_pages_panel--pageRow--RXLs9 legacy_pages_panel--pageRowBase--2BLqh",d="legacy_pages_panel--selected--ZWcge",c="legacy_pages_panel--hoverByMouse--QLchE",u="legacy_pages_panel--hoverState--Jq0dh",p="legacy_pages_panel--pageRowButton--ZYdDc",m="legacy_pages_panel--pageRowActive--wbZe-",h="legacy_pages_panel--activePageBrand--X-F3Y",f="legacy_pages_panel--pageRowActiveUI2--Lwdqd",g="legacy_pages_panel--renameableNode--JPw8y",_="legacy_pages_panel--renameableNodeWithMoreActions--DgAAZ legacy_pages_panel--renameableNode--JPw8y",x="legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",y="legacy_pages_panel--disabledNodeText--2HBBi legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",b="legacy_pages_panel--renameableNodeTextEnd--iOsDL legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",C="legacy_pages_panel--renameableNodeTextEndDisabled--fFOaW legacy_pages_panel--renameableNodeTextEnd--iOsDL legacy_pages_panel--renameableNodeText--eA3aT ellipsis--ellipsis--Tjyfa",v="legacy_pages_panel--scrollContainer--YR8Lw",E="legacy_pages_panel--leftPanelWidth--fUkeU",T="legacy_pages_panel--pageRowDividerContainer--eWfpW legacy_pages_panel--pageRowBase--2BLqh",w="legacy_pages_panel--pageRowDivider--0c9dh",j="legacy_pages_panel--offlineContainer--zrR3y",S="legacy_pages_panel--offlineIcon--sLbbs",k="legacy_pages_panel--pageRowRight--N3-uE"},50742:(e,t,i)=>{i.d(t,{IK:()=>s,Vi:()=>l,cJ:()=>n,iZ:()=>o,pf:()=>a,yF:()=>r});let n="pages_list--pagesRowWrapper--Plig-",r="pages_list--divider--idUOu",a="pages_list--withInsertBefore---ui-o",s="pages_list--withInsertAfter--7QoMA",o="pages_list--withInsertBeforeTop--IQT63",l="pages_list--withInsertAfterBottom--yG3xD"},94839:(e,t,i)=>{i.d(t,{Co:()=>o,II:()=>r,Rm:()=>n,W:()=>s,dK:()=>a});let n="ui3_header_row--toggleButton--hYOqV",r="ui3_header_row--pageExpandToggle--jZKwE",a="ui3_header_row--isHidden--IIOWY",s="ui3_header_row--pageTitle--N3-To ellipsis--ellipsis--Tjyfa",o="ui3_header_row--searchButtonContainer--U--jv"},574786:(e,t,i)=>{i.d(t,{BK:()=>T,C7:()=>s,EI:()=>a,Ge:()=>p,K$:()=>d,Km:()=>v,MT:()=>A,QD:()=>j,Tw:()=>y,Vr:()=>E,XE:()=>u,_L:()=>o,aK:()=>S,ai:()=>k,hg:()=>b,me:()=>g,mg:()=>C,qN:()=>w,qb:()=>c,r9:()=>r,rR:()=>n,rT:()=>I,wH:()=>h,ws:()=>l,yo:()=>f,yx:()=>m,zK:()=>N,zW:()=>_,zk:()=>x});let n="multiplayer_view--onboardingTarget--Ja9Ak",r="multiplayer_view--disabled--K9QcN",a="multiplayer_view--usersContainer--bzaNI",s="multiplayer_view--userIconView--XlLWC",o="multiplayer_view--userIconViewHorizontal--CRVT- multiplayer_view--userIconView--XlLWC",l="multiplayer_view--userIconAvatar--qt4Vz",d="multiplayer_view--userIconAvatarLoading--s5PPI",c="multiplayer_view--normal--xHQOT",u="multiplayer_view--avatarWithCollaborationToolsContainer--7lq5U",p="multiplayer_view--fullHeightSidebarAvatarWithToolsOverrides--Z5S16",m="multiplayer_view--fullHeightSidebarAvatarWithToolsOverridesWithOverflow--hExNS multiplayer_view--fullHeightSidebarAvatarWithToolsOverrides--Z5S16",h="multiplayer_view--selected--PrEy3",f="multiplayer_view--hovered--X1V8M",g="multiplayer_view--separator--d7XC2",_="multiplayer_view--separatorContainer--3NXhc",x="multiplayer_view--multiplayerUserCount--VN79F",y="multiplayer_view--fileSeenStateSubtitle_DEPRECATED--P1vBP",b="multiplayer_view--fileSeenStateSubtitle--xTYdr",C="multiplayer_view--avatarWithGroupActionsTightened_DEPRECATED--mkCa0",v="multiplayer_view--avatarWithGroupActionsTightened---blv6",E="multiplayer_view--groupActions--C2jLX",T="multiplayer_view--presenterButtonAction--7CCnt",w="multiplayer_view--pointingDropdown--4CD2d",j="multiplayer_view--pointingDropdownAdditionalPaddingUI2--zc-aF",S="multiplayer_view--listBoxNew--z88cs",k="multiplayer_view--chevron--Vn-C1",I="multiplayer_view--ui3SearchContainerNew_DEPRECATED--z31e-",N="multiplayer_view--ui3SearchContainerNew--brZ7S",A="multiplayer_view--searchContainer--q6zE8"},874933:(e,t,i)=>{i.d(t,{Cb:()=>r,M4:()=>s,Q$:()=>a,Q0:()=>d,_d:()=>u,iZ:()=>l,k9:()=>o,mT:()=>c,qW:()=>n});let n="inline_preview_device_frames--previewDeviceContainer--fNvYG",r="inline_preview_device_frames--fillGapsBetweenDeviceAndIframe--DuNNK",a="inline_preview_device_frames--hideCornersForOverlyRoundedDevice--Rn1BM",s="inline_preview_device_frames--previewDeviceImage--pSzed",o="inline_preview_device_frames--previewDeviceHeader--KHpCv",l="inline_preview_device_frames--deviceFrameHitTargetSvg--w7930",d="inline_preview_device_frames--rotatedHorizontal--5yjwl",c="inline_preview_device_frames--positionRotatedHorizontalDeviceFrame--mPJzu",u="inline_preview_device_frames--positionRotatedHorizontalDeviceFrameHitTarget--zmylC"},855699:(e,t,i)=>{i.d(t,{CN:()=>l,FO:()=>d,KW:()=>n,VR:()=>a,Wc:()=>r,Xt:()=>u,aq:()=>o,cD:()=>c,dS:()=>s});let n="inline_preview_modal--prototypeModalTitle--Y5Zqk",r="inline_preview_modal--iframeContainer--ylTh5",a="inline_preview_modal--previewIframe--RpUIN",s="inline_preview_modal--disablePointerEvents--sc1Yf",o="inline_preview_modal--previewModal--FO-5S",l="inline_preview_modal--previewModalSlides--0PFWB",d="inline_preview_modal--previewModalHeader--parjV",c="inline_preview_modal--previewFocused--DQTOg",u="inline_preview_modal--previewNotFocused--cr3Ii"},232922:(e,t,i)=>{i.d(t,{AL:()=>S,BI:()=>_,Cu:()=>b,DL:()=>p,FH:()=>j,Fp:()=>a,G7:()=>r,Hl:()=>o,L8:()=>I,LH:()=>E,Lk:()=>A,MO:()=>g,Nn:()=>k,Sh:()=>s,TV:()=>m,UD:()=>y,VQ:()=>v,Vs:()=>f,Xg:()=>L,YM:()=>w,e6:()=>h,ev:()=>T,fJ:()=>R,hv:()=>C,j7:()=>l,ko:()=>c,nP:()=>d,nr:()=>n,tE:()=>O,vO:()=>u,yH:()=>x,zO:()=>N});let n="voice_users--participantRowHideMenuButton--i7IiO",r="voice_users--secondaryMenuIconButtonContainer--aAh8o",a="voice_users--voiceParticipantAvatar--7mhMG",s="voice_users--importantFlex--x3rdy",o="voice_users--overflowRow--dyDR2",l="voice_users--nameAndSuffixContainer--GGoKj",d="voice_users--flexContainer--bWLmT",c="voice_users--flexLeftContainer--EVDRS",u="voice_users--flexRightContainer--Su6EL",p="voice_users--voiceParticipantName--MPxav text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",m="voice_users--voiceParticipantNameGreyedOut--4zNHd text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",h="voice_users--participantStatus--cnVtZ",f="voice_users--participantRowNewPadding--b0v2c",g="voice_users--participantRow--D4Yar",_="voice_users--hoverable--tq5aE",x="voice_users--containsCursor--Wx6C4",y="voice_users--showSecondaryDropdownOnHover--AWGE6",b="voice_users--currentUserHeaderRow--Jiv6z",C="voice_users--secondaryActionsMenuButton--2emFq",v="voice_users--secondaryActionsMenuButtonActive--QoLJK",E="voice_users--multiplayerUserView--7nAcD",T="voice_users--voiceUsersWrapper--83FhS",w="voice_users--voiceUsersOverflowScrollingContainer--KXSUW",j="voice_users--userSuffixNew--husrg text--fontPos11--2LvXf text--_fontBase--QdLsd",S="voice_users--voiceUserHeadphonesIcon--wLuPW",k="voice_users--mutedContainer--JL7uZ",I="voice_users--cardButton--xv6Tg",N="voice_users--userSuffixNewShowOnHover--awrl4",A="voice_users--cardRootWithHover--EMdKA text--fontPos11--2LvXf text--_fontBase--QdLsd",O="voice_users--cardRootActive--Jw4N- text--fontPos11--2LvXf text--_fontBase--QdLsd",L="voice_users--secondaryActionsMenuButtonNew--M2k36",R="voice_users--showSecondaryMenuButton--W3cqq"},132424:(e,t,i)=>{i.d(t,{QH:()=>l,R3:()=>s,Te:()=>n,WF:()=>d,Wh:()=>o,XF:()=>m,iG:()=>r,iw:()=>p,sl:()=>c,tL:()=>u,zc:()=>a});let n="voice_toolbar--audioButtonInDropdown--lmLzR",r="voice_toolbar--centeredContainer--h6AK-",a="voice_toolbar--iconContainer--LjNP5 voice_toolbar--centeredContainer--h6AK-",s="voice_toolbar--avatarWrapper--t-5vS",o="voice_toolbar--volumeIcon--U-TCI",l="voice_toolbar--audioIconNotJoined---DG1Y",d="voice_toolbar--audioIconUnavailableSpan--H1YdE",c="voice_toolbar--audioIconDisabled--gCpOC",u="voice_toolbar--audioIconMenu--trTHP",p="voice_toolbar--audioIcon--XaW03 voice_toolbar--centeredContainer--h6AK-",m="voice_toolbar--avatarObserveClickTarget--QALFw"},269644:(e,t,i)=>{i.d(t,{BT:()=>f,CN:()=>c,CY:()=>_,Ct:()=>E,It:()=>o,TJ:()=>m,TN:()=>g,YC:()=>s,Yq:()=>u,_v:()=>a,bb:()=>r,ct:()=>x,gJ:()=>b,jJ:()=>T,qD:()=>v,sf:()=>C,tS:()=>l,vx:()=>n,xE:()=>d,yG:()=>p,z9:()=>h,zR:()=>y});let n="video_controls--loadingFallback--h7m81",r="video_controls--videoLoadingState--4Zns5",a="video_controls--videoControls--Quuxg",s="video_controls--videoControlsHidden--zDCq5",o="video_controls--videoTimeScrubberContainer--eK5J0",l="video_controls--videoTimeScrubber--cTYLR",d="video_controls--videoTimeScrubberBackground--zxzn9",c="video_controls--videoTimeScrubberProgress--HVurL",u="video_controls--videoTimeScrubberNub--wHLOA",p="video_controls--videoRightControls--2bknv",m="video_controls--videoControlButton--JjLnM",h="video_controls--lastVideoControl--n-LwE",f="video_controls--selectedVolumeControlButton--qBhkt",g="video_controls--videoTime--6YDW4",_="video_controls--videoButton--Toro-",x="video_controls--videoButtonHidden--Y-m7r",y="video_controls--videoButtonIcon--jRNW7",b="video_controls--videoButtonMaximizedScale--rBDvP",C="video_controls--volumeBox--zjSGe",v="video_controls--volumeContainer--HySTO",E="video_controls--volumeSliderInput--N2gRT",T="video_controls--croppedClipPath--t83uT"},148230:(e,t,i)=>{i.d(t,{Fj:()=>d,GM:()=>u,HE:()=>s,ON:()=>r,Tn:()=>c,Vg:()=>l,eg:()=>m,ij:()=>n,m_:()=>p,me:()=>a,qr:()=>o});let n="slides_template_ui--pickerContainer--a3RMS",r="slides_template_ui--searchBar--jlYPZ",a="slides_template_ui--separator--ptcuN",s="slides_template_ui--headerSeparator--Q3-mT",o="slides_template_ui--footer--4g8kc",l="slides_template_ui--grid--FCSGf",d="slides_template_ui--fileTile--6wu1g",c="slides_template_ui--titleTextContainer--cH2zw",u="slides_template_ui--templateTitleText--lcuqy text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",p="slides_template_ui--publisherTitleText--9DQpU text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",m="slides_template_ui--tabButton--R1hl1"},787735:(e,t,i)=>{i.d(t,{$E:()=>g,$I:()=>c,Fu:()=>l,H0:()=>A,HW:()=>h,ON:()=>a,R2:()=>C,SN:()=>M,Tk:()=>O,VL:()=>p,WB:()=>b,WH:()=>u,Wf:()=>s,Y2:()=>_,Z$:()=>D,cx:()=>r,e0:()=>R,et:()=>S,fL:()=>L,g1:()=>o,hD:()=>E,jG:()=>I,kL:()=>n,lO:()=>w,m4:()=>T,nN:()=>m,n_:()=>N,o1:()=>d,oF:()=>y,rs:()=>k,uU:()=>v,vl:()=>x,vq:()=>j,xB:()=>f});let n="shapes_sidebar--container--xAuta",r="shapes_sidebar--shadowContainer--WvEo9",a="shapes_sidebar--searchBar--MubYN",s="shapes_sidebar--sidebarTileGrayScale--xWZIx",o="shapes_sidebar--swtTileSvgContainer--poVFu",l="shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",d="shapes_sidebar--shapesSidebarTileSmall--fkS0G shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",c="shapes_sidebar--lockedShapesSidebarTile--Qlofk shapes_sidebar--shapesSidebarTileBase--OjIj-",u="shapes_sidebar--shapesSidebarLibraryCard--o7xRQ",p="shapes_sidebar--shapesSidebarLibraryCardIcon--4Ezxx",m="shapes_sidebar--shapesSidebarLibraryCardChevron--NzXfj",h="shapes_sidebar--shapesSidebarLibraryCardContent--vekjC",f="shapes_sidebar--shapesSidebarLibraryCardDetail--C1fkj",g="shapes_sidebar--sidebarSwtSvg--LuGXO",_="shapes_sidebar--sidebarSwtSvgSmall--x3KA0",x="shapes_sidebar--connectorSvgSmall--G0OLS",y="shapes_sidebar--mindmapSvgSmall--yXIGT",b="shapes_sidebar--selectedShapesSidebarTile--O3B8N shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",C="shapes_sidebar--selectedShapesSidebarTileSmall--dbzsB shapes_sidebar--selectedShapesSidebarTile--O3B8N shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",v="shapes_sidebar--sectionButton--Dip98",E="shapes_sidebar--connectorSpawnAnimation--RWzF1",T="shapes_sidebar--inlineUpsellContainer--oQyNT",w="shapes_sidebar--sidebarThumbnailSvg--15Iw-",j="shapes_sidebar--shapesSidebarLibraryItemTile--rL5X6 shapes_sidebar--shapesLibraryItemTile--AKDo-",S="shapes_sidebar--shapesInstanceSwapperTile--smcPa shapes_sidebar--shapesLibraryItemTile--AKDo-",k="shapes_sidebar--mainContainer--UBayg",I="shapes_sidebar--scrollContainer--3o1hT",N="shapes_sidebar--virtualLibraryCardSectionHeaderRow--MPOsC shapes_sidebar--virtualTileRowBase--3qhlc",A="shapes_sidebar--fourWideVirtualTileRow--e51ZL shapes_sidebar--virtualTileRowBase--3qhlc",O="shapes_sidebar--fiveWideVirtualTileRow--Qnei- shapes_sidebar--virtualTileRowBase--3qhlc",L="shapes_sidebar--virtualUpsellBannerRow--sHlj6 shapes_sidebar--virtualTileRowBase--3qhlc",R="shapes_sidebar--virtualUpsellBannerDividerRow--hbdgY shapes_sidebar--virtualUpsellBannerRow--sHlj6 shapes_sidebar--virtualTileRowBase--3qhlc",M="shapes_sidebar--topSplitPanel--h8FCi",D="shapes_sidebar--splitPanelsContainer--EgyRq"},25542:(e,t,i)=>{i.d(t,{H:()=>n});let n="0.5s"},60600:(e,t,i)=>{i.d(t,{AP:()=>R,DG:()=>D,Hm:()=>P,O7:()=>L,QI:()=>M});var n=i(486106),r=i(7378),a=i(514228),s=i(438674),o=i(53857),l=i(27355);i(556482);var d=i(207101),c=i(165069),u=i(169182),p=i(675859),m=i(303541),h=i(755939),f=i(334505),g=i(929976),_=i(985254),x=i(370443),y=i(640017),b=i(453826),C=i(621515),v=i(101956),E=i(268271),T=i(129046),w=i(995208),j=i(425180),S=i(482718),k=i(11928),I=i(858282),N=i(6204),A=i(21029),O=i(182479);function L(){let e=(0,O.XF)(),{show:t,isShowing:i,complete:d}=(0,C.e)({overlay:N.SAR,priority:E.N.DEFAULT_MODAL}),c=(0,l.Xr)(h.Tw),f=(0,a.wA)(),b=(0,A.EI)(),T=(0,l.md)(v.LZ),j=()=>{f?.(g.sf({view:"recentsAndSharing"}))};(0,r.useEffect)(()=>{e||(t(),c(!1))},[e,c,t]);let S="dark"===(0,y.DP)();return T||!b?null:(0,n.jsx)(w._l,{description:(0,n.jsx)("span",{style:{whiteSpace:"pre-line"},children:(0,n.jsx)("span",{children:(0,m.tx)("cooper.onboarding.from_concept_to_creation_design",{learnMoreLink:(0,n.jsx)(s.N,{newTab:!0,href:"https://help.figma.com/hc/articles/31271566667543",children:(0,m.tx)("cooper.onboarding.learn_more")})})})}),disclaimerFooter:(0,n.jsx)("span",{children:(0,m.tx)("cooper.onboarding.this_beta_is_a_free",{betaTermsLink:(0,n.jsx)(s.N,{newTab:!0,href:"https://www.figma.com/product-specific-terms/",children:(0,m.tx)("cooper.onboarding.figma_beta_terms")})})}),isShowing:i,media:(0,n.jsx)(p.oW,{src:(0,u.ck)(S?"e612d68148023be0522bcd3b3251aaa6bb7c716d":"31fcc873278da276aab06196bdcb7e377d28ab6e"),alt:(0,m.t)("cooper.onboarding.welcome.image_alt"),width:332}),onClose:j,preventUserClose:!0,primaryCta:{type:"button",label:(0,m.tx)("cooper.onboarding.welcome.primary_cta"),onClick:()=>{f?.(_.b({[O.WW]:!0})),d(),c(!0)},ctaTrackingDescriptor:x.c.TRY_IT_OUT},secondaryCta:{type:"button",label:(0,m.tx)("cooper.onboarding.welcome.secondary_cta"),onClick:j,ctaTrackingDescriptor:x.c.CLOSE},title:(0,n.jsxs)("div",{className:"x78zum5 x6s0dn4 x1pulhmw",children:[(0,m.tx)("cooper.onboarding.meet_figma_buzz"),(0,n.jsx)("div",{className:"x78zum5 x2lah0s",children:(0,n.jsx)(o.E,{variant:"brandOutline",size:"lg",children:(0,m.tx)("general.beta")})})]}),trackingContextName:"Slides Onboarding > Welcome"})}function R({hasMappings:e}){let{show:t,isShowing:i,complete:a}=(0,C.e)({overlay:N.jk,priority:E.N.DEFAULT_MODAL}),s=(0,f.yB)(),o=s.length?s[0]:null;return(0,d.h)(()=>{t()}),(0,r.useEffect)(()=>{e&&a()},[e,a]),i&&!o&&a(),(0,n.jsx)(j.rq,{arrowPosition:I.F_.RIGHT_BODY,description:(0,m.tx)("cooper.onboarding.simply_select_text_or_an",{connectDataBold:(0,n.jsx)("p",{className:"x1xlr1w8",children:(0,m.t)("cooper.onboarding.connect_data_bold")}),spaceChar:(0,n.jsx)(n.Fragment,{children:"\xa0"})}),isCanvasNode:!0,isShowing:i,media:(0,n.jsx)(T.y,{src:(0,u.ck)("3d9047607fffbfc98f0176cecba9d57fad7cac48"),alt:(0,m.t)("cooper.onboarding.bulk_create.image_alt"),aspectRatio:240/135}),onClose:a,onTargetLost:a,primaryCta:{label:(0,m.tx)("general.got_it"),onClick:a,type:"button",ctaTrackingDescriptor:x.c.GOT_IT},shouldDisableAnimation:!0,targetKey:o??"",title:(0,m.tx)("cooper.onboarding.select_a_text_or_image"),trackingContextName:"Slides Onboarding > Bulk Create Callout"})}function M(){let{show:e,isShowing:t,complete:i,uniqueId:r}=(0,C.e)({overlay:N.ODB,priority:E.N.DEFAULT_MODAL}),a=(0,f.yB)(),s=a.length?a[0]:null;return t&&!s&&i(),(0,b.E)(r,O.qA,()=>{e()}),(0,n.jsx)(j.rq,{arrowPosition:I.F_.RIGHT_BODY,description:(0,m.tx)("cooper.onboarding.internal_templates_let_you_update",{lineBreak:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{}),(0,n.jsx)("br",{})]})}),isCanvasNode:!0,isShowing:t,onClose:i,onTargetLost:i,pointToLeftEdge:!0,pointToTopEdge:!0,primaryCta:{label:(0,m.tx)("general.got_it"),onClick:i,type:"button",ctaTrackingDescriptor:x.c.GOT_IT},shouldDisableAnimation:!0,targetKey:s??"",title:(0,m.tx)("cooper.onboarding.edit_content_unlock_if_needed"),trackingContextName:"Slides Onboarding > Inserted Locked Template"})}function D(){let{show:e,isShowing:t,complete:i,uniqueId:r}=(0,C.e)({overlay:N.QKV,priority:E.N.DEFAULT_MODAL});return(0,b.E)(r,O.Mt,()=>{e()}),(0,n.jsx)(j.rq,{arrowPadding:8,description:(0,m.tx)("cooper.onboarding.templates_help_your_team_stay"),isShowing:t,media:(0,n.jsx)(T.y,{src:(0,u.ck)("7c5445059896c65ae2098087f34d2f35cc5a8b20"),alt:(0,m.t)("cooper.onboarding.overlay_image_alt"),aspectRatio:240/135}),onClose:i,onTargetLost:i,primaryCta:{label:(0,m.tx)("general.got_it"),onClick:i,type:"button",ctaTrackingDescriptor:x.c.GOT_IT},targetKey:O.D9,title:(0,m.tx)("cooper.onboarding.publish_templates_to_your_team"),trackingContextName:"Slides Onboarding > Publishing Overview"})}function P(){let e=(0,A.EI)(),{show:t,isShowing:i,complete:r}=(0,C.e)({overlay:N.njP,priority:E.N.OVERRIDING_MODAL}),s=(0,a.d4)(e=>{let t=e.selectedView;return"sendToBuzzFileKey"in t&&!!t.sendToBuzzFileKey});return(0,c.R)(()=>t(),[s,e],()=>s&&e),(0,n.jsx)(S.X,{description:(0,m.tx)("cooper.templates.import_from_design.overlay.subtitle"),isShowing:i,media:(0,n.jsx)(p.oW,{className:"xafpxmx x1fb2l0r x2lah0s xgwsg93",src:(0,u.ck)("f154d729096e62f801de754ea07c93c45ffc2565")}),onClose:r,position:k.Q.BOTTOM_RIGHT,primaryCta:{label:(0,m.tx)("general.got_it"),onClick:r,type:"button",ctaTrackingDescriptor:x.c.GOT_IT,trackingProperties:{trackingDescriptor:x.c.GOT_IT}},testId:"buzz-import-from-design-education",title:(0,m.tx)("cooper.templates.import_from_design.overlay.title"),trackingContextName:"Buzz Import From Design Education",width:240})}},60125:(e,t,i)=>{i.d(t,{h:()=>m});var n=i(763686),r=i(27355),a=i(745972),s=i(658134),o=i(109947),l=i(327588),d=i(639711),c=i(740163),u=i(84367),p=i(859828);function m(){let{windowInnerWidth:e}=(0,a.l)(),t=p.C()?.bottomRightToolsNode,i=(0,r.md)(o.S),m=(0,c.dP)(),h=(0,u.ut)(n.Ez5?.interopToolMode(),n.nQ7.SELF),f=(0,l.jw)(),[g]=(0,r.fp)(d.Lk),_=g===d.x.ASSETS&&f&&h===n.nQ7.SELF,x=h===n.nQ7.DESIGN,y=(0,c.qw)(),b=_?s._:m+s._,C=(0,u.ut)(n.Ez5?.uiState().showPropertiesPanel,!1),v=x&&C?y:0;if(t){let n=t.getBoundingClientRect(),r=e-b-v,a=i?.current?.getBoundingClientRect().width||207,s=b+(r-a)/2+a+12-n.left;s>0&&(v+=2*s)}return{leftOffset:b,rightOffset:v}}},92845:(e,t,i)=>{i.d(t,{rN:()=>U,q_:()=>K,VY:()=>G,$k:()=>H,R8:()=>z});var n=i(7378),r=i(514228),a=i(763686),s=i(700578),o=i(27355),l=i(508367),d=i(407919),c=i(620380),u=i(165069),p=i(934246),m=i(714362),h=i(303541),f=i(302958),g=i(576487),_=i(34648),x=i(755939),y=i(738636),b=i(223206),C=i(239603),v=i(925970);let E=C.z.object({key:C.z.string()}).extend({data:b._$}),T=(0,o.E2)("return-to-file-data",null,E.nullable()),w=(0,o.tx)(null),j=(0,o.eU)(e=>{let t=e(w),i=e(T);return i&&i.key===t?i.data:null},(e,t,i)=>{let n=(0,v.MZ)();return t(T,{data:i,key:n}),n});var S=i(622574),k=i(521149),I=i(314264),N=i(766303),A=i(697795),O=i(516028),L=i(612685),R=i(191312),M=i(598018),D=i(915202),P=i(825647),F=i(53049),B=i(21029);function U(e,t,i){let n=o.zl.get(M.Me),r=d.D.getState(),a=(0,N.Kl)(r);e(y.zE({state:a,from:i,editorType:R._Y.COOPER,team:n??void 0,openNewFileIn:D.ai.NEW_TAB,newFileDataLocalStorageKey:t}))}function G({openFile:e,fileVersion:t}){if(null===e||null===t){let i="No openFile or file version";throw(0,m.x1)("storeFigmaContentForCooperCreation",i,{fileKey:e?.key,fileVersion:t},{reportAsSentryError:!0}),Error(i)}let i=(0,s.UN)().getDirectlySelectedNodes().length>0?a.Mpt?.getSelectedNodesToSend()??[]:a.Mpt?.getTopLevelFramesToSend()??[];if(0===i.length){let e="Empty target node ids";throw(0,m.x1)("storeFigmaContentForCooperCreation",e,{},{reportAsSentryError:!0}),Error(e)}return o.zl.set(j,{fileKey:e.key,fileVersion:t,sourceNodeIds:i})}function H(){let e=(0,r.wA)(),t=(0,_.l)(),i=V();(0,u.R)(()=>{i&&o.zl.set(w,i)},[i],()=>!!i),(0,n.useEffect)(()=>(t&&e(f.F.dequeue({matchType:"send-to-buzz-from-design-success-maybe-publish"})),()=>{e(f.F.dequeue({matchType:"send-to-buzz-from-design-success-maybe-publish"}))}),[e,t]);let s=(0,o.Xr)(x.Tw),l=(0,o.md)(j),d=(0,o.md)(b.Uf),m=l??d,y=(0,O.tS)(),C=(0,B.EI)(),v=!!m,E=v&&!!y&&C,T=(0,o.Xr)(b.$K),N=(0,o.Xr)(w),A=(0,S.J3)(),L=(0,k.j)()&&(0,S.JU)(A),{openCooperPublishFlow:R}=(0,P.t)();(0,u.R)(()=>{s(!1),e(f.F.enqueue({message:(0,h.t)("buzz.send_from_design.copying"),type:"send-to-buzz-from-design-loading",icon:g.zX.SPINNER,timeoutOverride:3e5}))},[e],()=>v);let M=(0,c.H)(n.useCallback(t=>{L?e(f.F.enqueue({message:(0,h.t)("buzz.send_from_design.imported_x_assets_and_maybe_publish",{numAssets:t}),timeoutOverride:1/0,type:"send-to-buzz-from-design-success-maybe-publish",button:{text:(0,h.t)("community.publishing.publish"),action:()=>{R("send-to-buzz-from-design-success-bell"),(0,I.Cu)({trackingContext:"SendToBuzzFromDesignSuccessBell",text:(0,h.t)("community.publishing.publish")})}},onDismiss:p.lQ})):e(f.F.enqueue({message:(0,h.t)("buzz.send_from_design.imported_x_assets",{numAssets:t}),type:"send-to-buzz-from-design-success",timeoutOverride:3e3}))},[e,L,R]));(0,u.R)(()=>{(async()=>{a.glU?.applyNodesFromBuffer(await F.R({fileKey:m.fileKey,selectedGuids:m.sourceNodeIds}),m.fileKey,m.sourceNodeIds,!1);let t=m.sourceNodeIds.length;T(o.Ut),N(o.Ut),await W(),a.Ez5?.cooperFocusView().exitFocusedNodeView(),await W(),a.Ez5?.cooperFocusView().zoomToGridAndRecenter(.55),e(f.F.dequeue({matchType:"send-to-buzz-from-design-loading"})),M.current(t)})()},[e,m?.fileKey,m?.sourceNodeIds,M],()=>E)}function z(){let e=V(),t=(0,o.md)(b.Uf),i=(0,o.md)(j);return!!t||!!i||!!e}function V(){return(0,r.d4)(e=>{let t=e.selectedView;return"sendToBuzzLocalStorageKey"in t?t.sendToBuzzLocalStorageKey:void 0})}function K(e){try{let t=G({openFile:e.openFile,fileVersion:e.fileVersion}),i=(0,L.jN)({file:{key:e.previousBuzzFileKey,editorType:R._Y.COOPER},allowDefaulting:!0}),n=(0,l.NQ)(i,"send-to-buzz-local-storage-key",t);return(0,A.nz)(n,e.previousBuzzFileKey,e.selectedView,e.dispatch),!0}catch(e){return!1}}async function W(){await new Promise(e=>requestAnimationFrame(()=>{e(!0)}))}},747144:(e,t,i)=>{i.d(t,{WS:()=>c,ZX:()=>u,ut:()=>p});var n=i(880308),r=i(618433),a=i(649254),s=i(145028),o=i(539754),l=i(937198),d=i(516028);async function c(){let e=await navigator.clipboard.readText(),t=null;try{t=JSON.parse(e)}catch(e){return null}if(!t||!t.fileKey||!t.name||!t.fieldSchemas||!t.items)return null;for(let e of t.fieldSchemas)if(!e.name||!e.fieldType||!e.position)return null;for(let e of t.items)for(let t of e.fields)if(!t.fieldSchemaId)return null;return t}function u(){let e=(0,d.tS)();return async t=>{if(!e)return null;let i=await (0,s.X)({collectionStableId:t});if(null==i)return(0,l.sD)("items is collection",{collectionId:t}),null;let n=i.name,r=i.description,a=i.fieldSchemas.map(e=>({name:e.name,fieldType:e.fieldType,position:e.position,required:e.required,fieldSchemaId:e.id})),d=await (0,o.J)({collectionStableId:t});return null==d?((0,l.sD)("items is null",{collectionId:t}),null):JSON.stringify({name:n,description:r,fileKey:e,fieldSchemas:a,items:d.map(e=>{let t=[];for(let i of e.fields??[])t.push({fieldSchemaId:i.fieldSchemaId,value:i.value});return{position:e.position,fields:t}})})}}function p(){let e=(0,d.tS)();return async t=>{if(!e)return;let i=t.fieldSchemas.map(e=>({id:(0,n.g)(),name:e.name,fieldType:e.fieldType,required:!!e.required,position:e.position,properties:{},action:"create",version:"1"})),o=await (0,r.Qw)({id:null,name:t.name,description:t.description,fileKey:e,fields:i});if(null==o)return;let d=o.id,c=await (0,s.X)({collectionStableId:d});if(null==c){(0,l.sD)("newCollection is null",{newCollectionId:d});return}let u=c.fieldSchemas,p={};for(let e of u){let i=t.fieldSchemas.find(t=>t.name===e.name)?.fieldSchemaId;i&&(p[i]=e.id)}for(let e of t.items)(0,a.Tj)(c,void 0,t=>{for(let i of e.fields){let{value:e}=i;if(null==e){(0,l.sD)("Field value is null during import",{fieldSchemaId:i.fieldSchemaId});continue}let n=p[i.fieldSchemaId];if(null==n){(0,l.sD)("Field schema ID mapping not found during import",{fieldSchemaId:i.fieldSchemaId});continue}let r=c.fieldSchemas.find(e=>e.id===n);if(null==r){(0,l.sD)("Field schema not found during import",{newFieldSchemaId:n});continue}let s={databaseId:t};(0,a._Z)({fieldId:null,fieldSchema:r,item:s,value:e})}},e.position)}}},368291:(e,t,i)=>{i.d(t,{T:()=>n,s:()=>r});let n=896,r=600},925362:(e,t,i)=>{i.d(t,{o:()=>S});var n=i(486106),r=i(7378),a=i(514228),s=i(763686),o=i(407919),l=i(680873),d=i(86829),c=i(303541),u=i(473493),p=i(314264),m=i(186343),h=i(858738),f=i(516028),g=i(559338),_=i(32128),x=i(398228),y=i(103334),b=i(298357),C=i(515820),v=i(153133),E=i(162990),T=i(379850),w=i(88239),j=i(841699);function S(){let e=(0,w.l7)(),t=(0,l.F)(e),i=(0,_.n0)(),S=(0,v.K)(),k=(0,f.tS)(),{height:I,setHeight:N,isOpen:A,setIsOpen:O,devHandoffShowAllPages:L,setDevHandoffShowAllPages:R}=(0,E.d)({defaultIsOpen:i.length>1}),M=(0,l.F)(A);(0,r.useLayoutEffect)(()=>{e&&O(!0)},[e,O]);let D=(0,a.Pj)(),P=r.useCallback(()=>{if(t.current)return;let e=!M.current;(0,p.ds)("pages_panel_open_toggle",k,D.getState(),{isPagesOpen:e},{forwardToDatadog:!0}),O(e)},[k,M,O,t,D]),{pagesToDisplay:F,showAllButton:B}=function({pagesList:e,showAll:t,setShowAll:i}){let r=(0,u._I)(),a=(0,m.dh)();if(!r)return{pagesToDisplay:e};let o=!1,l=e.filter(e=>{let t=s.glU.nodeStatusesOnPage(e.nodeId).length>0;return t&&(o=!0),t||e.nodeId===a});return o&&l.length!==e.length?t?{pagesToDisplay:e,showAllButton:(0,n.jsx)(d.d,{label:(0,c.t)("dev_handoff.pages.hide_other"),onClick:()=>i(!1)})}:{pagesToDisplay:l,showAllButton:(0,n.jsx)(d.d,{label:(0,c.t)("dev_handoff.pages.show_all"),onClick:()=>i(!0)})}:{pagesToDisplay:e}}({pagesList:i,showAll:L,setShowAll:R}),U=!(0,h.T)(),G=x.uF+72+32,H=(0,_._4)(),z=(0,a.wA)(),V=(0,r.useCallback)(()=>{(0,T._$)(z,o.D.getState().selectedView,"overview_search_clicked"),H()},[z,H]);return(0,n.jsxs)(y.A,{isFullHeight:!1,children:[(0,n.jsx)(j.$,{devFocusedOnboarding:!0}),k&&(0,n.jsx)(g.QU,{fileKey:k}),(0,n.jsx)(C.R,{extraControls:(0,n.jsx)("div",{className:"dev_handoff_page_selector--showMoreContainer--d2XTe",children:B}),filterState:L?b.m.ALL:b.m.FILTERED,height:I,isOpen:A,isReadOnly:!0,onCanvasSearch:V,onHeightChange:N,onPageContextMenu:S,onToggle:P,pages:F,panelHeadersHeight:G,shouldHighlightActivePage:!e,showHeader:U})]})}},461336:(e,t,i)=>{i.d(t,{Xn:()=>C,dU:()=>E,xY:()=>v});var n=i(7378),r=i(514228),a=i(27355),s=i(9054),o=i(449184),l=i(542194),d=i(901889),c=i(221240),u=i(311375),p=i(441456),m=i(156213),h=i(216495),f=i(722362),g=i(516028),_=i(372672),x=i(167249),y=i(241341),b=i(330495);function C(e){let t=(0,u.uQ)(),{backingSymbolGUID:i}=(0,b.$)([e??""]),a=n.useMemo(()=>null===i||(0,h.gl)(i)?null:i,[i]),s=(0,r.wA)();return n.useCallback(()=>{e&&a&&(l.sn.reset("dev_handoff.view_history",e),l.sn.start("dev_handoff.view_history",{key:e}),(0,o.sx)("Diff Modal Compare Changes Clicked",{nodeId:e,mainComponentNodeId:a,origin:"cc_overrides"}),s(m.to({type:y.ku,data:{changeNodeId:e,basisNodeId:a,initialSelectedNodeId:t&&t!==e?t:void 0,isComparingOverrides:!0}})))},[s,t,e,a])}function v(e){let t=(0,c.wS)(),i=(0,u.uQ)(),a=(0,r.wA)(),s=(0,d.U)();return n.useCallback(()=>{i&&"loaded"===t.status&&(s("Diff Modal Compare Changes Clicked",{nodeId:i,origin:"cc_detached_component"}),l.sn.reset("dev_handoff.view_history",i),l.sn.start("dev_handoff.view_history",{key:i}),a(m.to({type:y.jo,data:{nodeId:i,detachedInfoStatus:t,origin:e}})))},[i,t,s,a,e])}function E(e,t){let i=_.iZ()?.id,d=(0,u.uQ)(),c=(0,x.Fk)((e,t)=>e?.get(t??"")?.name.trim(),d),h=(0,g.tS)(),b=(0,r.wA)(),C=(0,a.md)(p.d),v=(0,f.eY)();return n.useCallback(()=>{if(l.sn.reset("dev_handoff.view_history",e||void 0),l.sn.start("dev_handoff.view_history",{key:e||void 0}),(0,o.sx)("Diff Modal Compare Changes Clicked",{userId:i,fileKey:h,frameId:e,entrypoint:"lego_layer",analyticsEventOrigin:t}),e){let t=(0,s.BJ)(v,e,!0);if(t){let i=t.lastEditedAt;C[e]=new Date(i),a.zl.set(p.d,{...C})}}b(m.to({type:y.EH,data:{nodeId:e,layerName:c}}))},[t,b,h,e,c,v,C,i])}},441456:(e,t,i)=>{i.d(t,{d:()=>n});let n=(0,i(27355).eU)({})},341198:(e,t,i)=>{i.d(t,{f:()=>E});var n=i(486106),r=i(7378),a=i(632989),s=i(714743),o=i(303541),l=i(516028),d=i(612685),c=i(415217),u=i(514228),p=i(501876),m=i(681431),h=i(925362),f=i(129884),g=i(181448);let _="vscode_extension_page_picker--pagePickerButtonContent--JXaX-";var x=i(391812),y=i(769773);function b(){return(0,n.jsx)("div",{className:"vscode_extension_page_picker--floatingContainer--HgY6-",children:(0,n.jsx)(h.o,{})})}function C({additionalPages:e,onClickAdditionalPage:t,selectedAdditionalPageId:i,isOnReadyForDevPage:a}){let[l,d]=r.useState(!1),c=r.useRef(null),h=(0,u.d4)(e=>e.mirror.appModel.pagesList),C=(0,u.d4)(e=>e.mirror.appModel.currentPage),v=h.find(e=>e.nodeId===C);return((0,m.L)(c,()=>{l&&d(!1)}),h)?(0,n.jsxs)("div",{className:"vscode_extension_page_picker--pagePicker--AFcyx",ref:c,children:[(0,n.jsxs)("button",{className:"vscode_extension_page_picker--pagePickerButton--xunuS",onClick:()=>d(!l),"data-tooltip":(0,o.t)("dev_handoff.pages_list"),"data-tooltip-type":f.Ib.TEXT,children:[a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.O,{className:"vscode_extension_page_picker--readyIcon--MjlB1"}),(0,n.jsx)("span",{className:_,children:(0,o.t)("dev_handoff.workflows.overview.title")})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.v,{pageGuid:C,margin:"marginRight",fallback:(0,n.jsx)(s.B,{svg:x.A,className:"vscode_extension_page_picker--pagePickerIcon--miPBV"})}),(0,n.jsx)("span",{className:_,children:v?.name||""})]}),(0,n.jsx)(s.B,{svg:y.A,className:"vscode_extension_page_picker--pagePickerButtonChevron--MpjMi"})]}),l&&(0,n.jsx)(b,{})]}):null}var v=i(322086);function E({children:e,isOnReadyForDevPage:t}){let i=(0,l.tS)(),u=r.useCallback(()=>{let e=(0,d.jN)({file:{key:i},isDevHandoff:!0});(0,c.Qn)(e)},[i]);return(0,n.jsxs)("div",{className:"vscode_extension_header--vscodeExtensionHeader--1-R98",children:[(0,n.jsx)(C,{isOnReadyForDevPage:t}),(0,n.jsxs)("div",{className:"vscode_extension_header--children--sHtI3",children:[(0,n.jsx)(a.E,{onClick:u,"aria-label":(0,o.t)("dev_handoff.overview_mode.open_in_figma"),className:"vscode_extension_header--focusVisible--NjfH0",children:(0,n.jsxs)("div",{className:"vscode_extension_header--openFigmaText--e2tMf",children:[(0,o.t)("dev_handoff.overview_mode.open_in_figma"),(0,n.jsx)(s.B,{svg:v.A,className:"vscode_extension_header--openFigmaSVG--02Jd3"})]})}),e]})]})}},692889:(e,t,i)=>{i.d(t,{p:()=>_});var n=i(486106),r=i(7378),a=i(443068),s=i(521428),o=i(757007),l=i(569454),d=i(601108),c=i(303541),u=i(473493),p=i(882262),m=i(37051),h=i(372672),f=i(167249),g=i(129884);function _({nodeId:e,sourceForLogging:t,onboardingKey:i,isMinimal:_}){let x=(0,h.TA)(),y=(0,p.D)(),b=(0,u._I)(),C=(0,u.xo)(),{hasReadyStatus:v,hasCompletedStatus:E,hasStatus:T,canHaveStatus:w,nestedLayerPreventsStatus:j,lastStatusChangeUserId:S}=(0,f.Fk)((e,t)=>{let i=e?.get(t??""),n=i?.canHaveStatus,r=i?.canHaveStatusBasedOnType;return{hasReadyStatus:i?.hasReadyStatus,hasCompletedStatus:i?.hasCompletedStatus,hasStatus:i?.hasStatus,canHaveStatus:n,nestedLayerPreventsStatus:!n&&r,lastStatusChangeUserId:i?.getStatusInfo()?.userId}},e),k=y&&b&&!C&&(!(0,d.k)().dt_interactive_inspection_m2||w),I=r.useRef(T),[N,A]=r.useState(!1);r.useEffect(()=>{(0,d.k)().dt_interactive_inspection_m2&&(T&&A(!1),I.current&&!T&&S!==x&&A(!0))},[T,S,x]);let O=r.useCallback(()=>{k&&e&&m.z4.setNodesCompleted([e],`${t}-complete-button`)},[k,e,t]),L=r.useCallback(()=>{k&&e&&m.z4.setNodesReady(!0,[e],`${t}-complete-button`,null)},[k,e,t]),R=(0,d.k)().dt_interactive_inspection_m2&&!E&&!v&&!N,M=r.useMemo(()=>v?O:E||R?L:void 0,[E,v,O,L,R]),D=r.useMemo(()=>E?(0,c.tx)("dev_handoff.status.completed"):R?(0,c.tx)("dev_handoff.status.mark_as_ready_for_first_time"):(0,c.tx)("dev_handoff.status.mark_completed"),[E,R]),P=r.useMemo(()=>E?(0,n.jsx)(o.g,{"data-testid":"filled-icon"}):(0,n.jsx)(l.W,{"data-testid":"empty-icon"}),[E]),F=r.useMemo(()=>v?(0,c.t)("dev_handoff.status.mark_as_completed"):E?(0,c.t)("dev_handoff.status.mark_as_ready"):R?(0,c.t)("dev_handoff.status.mark_as_ready_for_first_time"):(0,c.t)("dev_handoff.workflows.focus_view.complete_button.status_removed"),[E,v,R]),B=r.useMemo(()=>j?(0,c.t)("dev_handoff.overview_mode.tooltip.design_structure_prevents_status"):v?(0,c.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_completed"):E?(0,c.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_incomplete"):R?(0,c.t)("dev_handoff.overview_mode.tooltip.upgrade_mark_ready"):(0,c.t)("dev_handoff.workflows.focus_view.complete_button.status_removed"),[E,v,R,j]);if(!e)return null;if(_)return v||E?(0,n.jsx)(a.K,{onClick:M,disabled:!k,"aria-label":F,htmlAttributes:{"data-tooltip-type":g.Ib.TEXT,"data-tooltip":k?F:B,"data-testid":"change-status-icon-button"},children:P}):null;let U=(0,d.k)().dt_interactive_inspection_m2?N:!v&&!E,G=!k||U;return(0,n.jsx)(s.$n,{variant:"secondary",onClick:M,disabled:G,"aria-label":F,htmlAttributes:{"data-tooltip-type":g.Ib.TEXT,"data-tooltip":G?B:void 0,"data-tooltip-text-left":!0,"data-onboarding-key":i,"data-testid":"change-status-button"},iconPrefix:P,children:D})}},841699:(e,t,i)=>{i.d(t,{s:()=>M,$:()=>D});var n=i(486106),r=i(7378),a=i(514228),s=i(501876),o=i(27355),l=i(536384),d=i.n(l),c=i(511649),u=i(919079),p=i(589278),m=i(303541),h=i(473493),f=i(715641),g=i(207101),_=i(88239),x=i(370443),y=i(621515),b=i(268271),C=i(433401),v=i(425180),E=i(858282),T=i(6204);function w({devFocusedOnboarding:e}){let t=(0,_.l7)(),i=(0,a.wA)(),r=(0,o.md)(f.d),s=(0,o.md)(f.cR),l=o.md(f.hv)?.data,{show:d,isShowing:c,complete:u}=(0,y.e)({overlay:T.xjb,priority:b.N.DEFAULT_MODAL});(0,g.h)(()=>{t&&!l&&(0,C.nT)(i),!t&&!l&&(r||s)&&d()});let p={label:(0,m.tx)("dev_handoff.workflows.overview.onboarding.primary_cta"),type:"button",onClick:u,ctaTrackingDescriptor:x.c.GOT_IT},h={label:(0,m.tx)("dev_handoff.workflows.overview.onboarding.secondary_cta"),type:"link",href:"https://help.figma.com/hc/articles/23918228264855",ctaTrackingDescriptor:x.c.LEARN_MORE};return(0,n.jsx)(v.rq,{arrowPosition:E.F_.LEFT_TITLE,description:r?(0,m.tx)("dev_handoff.workflows.overview.onboarding.first_rfd.description"):e?(0,m.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.dev_mode.description"):(0,m.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.design.description"),disableHighlight:!0,isShowing:c,onClose:u,primaryCta:p,secondaryCta:h,targetKey:C.o5,title:r?(0,m.tx)("dev_handoff.workflows.overview.onboarding.first_rfd.title"):(0,m.tx)("dev_handoff.workflows.overview.onboarding.has_rfd.title"),trackingContextName:"Dev Mode Overview Onboarding"})}var j=i(929976),S=i(8833),k=i(976749),I=i(848232),N=i(193867),A=i(129884),O=i(353099),L=i(598921);let R="overview_entry--isSelected--E6mSl";function M({count:e,isInTab:t,isActive:i}){return(0,n.jsx)(u.Ex,{className:d()("overview_entry--countBadge---5UQw",t&&"overview_entry--isInTab--J7wAV",i&&p.s.colorText.$),text:`${e}`,size:u.vj.SMALL,color:u.zE.DEFAULT,subtle:!0})}function D({devFocusedOnboarding:e}){let t=(0,_.X0)(),i=!(0,h.U4)(),l=(0,a.wA)(),u=(0,_.U0)(),p=(0,a.d4)(e=>i?void 0:(0,N.Np)(e,u)),g=(0,_.l7)(),x=(0,_.ZI)(),y=o.md(f.hv)?.data,[b,v]=(0,o.fp)(f.cR),E=(0,h.xo)(),T=(0,o.md)(f.d),D=(0,k.ow)(),P=(0,I.n)(),F=(0,_.Xd)(),B=(0,r.useCallback)(e=>{if(e.stopPropagation(),e.preventDefault(),i)return;let{clientX:t,clientY:n}=e;l((0,j.j7)({type:S.bx,data:{clientX:t,clientY:n}}))},[i,l]);return!t||D?null:0===x?null:(g||y||b||T||v(!0),(0,n.jsxs)(L.y,{autoHeight:!0,withBorder:!0,children:[(0,n.jsx)(c.lt,{className:d()("overview_entry--entryRow--l-Ofr",g&&R,i&&"overview_entry--isDisabled--OAHeM"),onClick:function(e){e.preventDefault(),F()},onContextMenu:B,href:p,"data-tooltip-type":A.Ib.TEXT,"data-tooltip":i?(0,m.t)("dev_handoff.paywall.org_not_member_hint"):void 0,"data-tooltip-text-left":!0,recordingKey:"dev_handoff.workflows.overview_entry",children:(0,n.jsxs)("div",{className:d()("overview_entry--entryRowInner--fPECV",g&&R),children:[(0,n.jsxs)("div",{className:"overview_entry--leftSide--0zNy- text--fontPos11--2LvXf text--_fontBase--QdLsd",children:[(0,n.jsx)(s.O,{className:"overview_entry--readyIcon--QwDeG"}),(0,m.tx)("dev_handoff.workflows.overview.title")]}),(0,n.jsx)("div",{"data-onboarding-key":C.o5,children:(0,n.jsx)(M,{count:x})})]})}),!E&&!P&&(0,n.jsx)(O.p,{children:(0,n.jsx)(w,{devFocusedOnboarding:e})})]}))}},608002:(e,t,i)=>{i.d(t,{QV:()=>l,YA:()=>o,n9:()=>s});var n=i(27355),r=i(239603);let a=(0,n.E2)("workflows_recently_viewed",{},r.z.record(r.z.string(),r.z.record(r.z.string(),r.z.number())));function s(e){let[t]=(0,n.fp)(a);return e?t[e]:null}function o(e,t){return(t.lastViewedTimestamp??0)-(e.lastViewedTimestamp??0)}function l(){let[e,t]=(0,n.fp)(a);return(i,n)=>{let r=Date.now();t({...e,[i]:{...e[i],[n]:r}})}}},489933:(e,t,i)=>{i.d(t,{p:()=>f,t:()=>h});var n=i(514228),r=i(103090),a=i(156213),s=i(985254),o=i(844435),l=i(300692),d=i(45218),c=i(319631),u=i(525678),p=i(905430),m=i(276489);function h(e,t,i){let{appModel:h,selectedView:f}=(0,r.R)(e=>({appModel:e.mirror.appModel,selectedView:e.selectedView})),g=(0,n.wA)(),_=(0,o.cW)()[e],x=(0,l.uF)(_),y=(0,o.Be)(),b=y.plugins[e]||y.orgPlugins[e]||x,C=Object.values((0,o.$1)()).find(t=>t.plugin_id===e),v=C?.manifest.menu&&C.manifest.menu.length>0&&!(0,l.LW)(C)?(0,p.z)(C.manifest.menu,C):[],E=b.manifest.menu&&b.manifest.menu.length>0&&!(0,l.LW)(b)?(0,p.z)(b.manifest.menu,b):[],T=(0,u.jv)(E.map(e=>(0,m.q)(e,e=>()=>t(e))),{appModel:h,selectedView:f}),w=(0,u.jv)(v.map(e=>(0,m.q)(e,e=>()=>i(e))),{appModel:h,selectedView:f});if(!C)return T;if(!_||_&&!_.current_plugin_version_id)return w;let j=[];return C.error?j.push({displayText:"\u26A0 In-development version",callback:()=>{g((0,a.to)({type:c.r,data:{dispatch:g,error:C.error,resourceType:d.bD.PLUGIN},showModalsBeneath:!0}))}}):j.push({displayText:"In-development version",...w.length>0?{children:w}:{callback:()=>{"figma"===(0,l.T)()&&(g(s.b({seen_published_plugin_onboarding_modal:!0})),g(s.b({seen_development_plugin_onboarding_modal:!0}))),i()}}}),j.push({displayText:"Published version",...T.length>0?{children:T}:{callback:()=>{"figma"===(0,l.T)()&&(g(s.b({seen_published_plugin_onboarding_modal:!0})),g(s.b({seen_development_plugin_onboarding_modal:!0}))),t()}}}),j}function f(e,t){let i=(0,n.d4)(e=>e.mirror.appModel),r=(0,n.d4)(e=>e.selectedView),a=(0,o.cW)()[e],s=(0,l.uF)(a),d=s.manifest.menu&&s.manifest.menu.length>0?(0,p.z)(s.manifest.menu,s):[];return(0,u.jv)(d.map(e=>(0,m.q)(e,e=>()=>t(e))),{appModel:i,selectedView:r})}},571209:(e,t,i)=>{i.d(t,{FQ:()=>E,LO:()=>v,Oo:()=>C});var n,r=i(7378),a=i(514228),s=i(343967),o=i(249071),l=i(27355),d=i(19536),c=i(783094),u=i(763714),p=i(492908);function m(e,t,i,n){let r=[h(e,t,i),h(e,t,n),h(i,n,e),h(i,n,t)];return r[0]!==r[1]&&r[2]!==r[3]||r.every(e=>"COLLINEAR"===e)&&f(e.x,t.x,i.x,n.x)&&f(e.y,t.y,i.y,n.y)}function h(e,t,i){let n=(t.y-e.y)*(i.x-t.x)-(i.y-t.y)*(t.x-e.x);return 0===n?"COLLINEAR":n>0?"CLOCKWISE":"COUNTERCLOCKWISE"}function f(e,t,i,n){let r=Math.min(e,t),a=Math.max(e,t),s=Math.min(i,n);return r<=Math.max(i,n)&&a>=s}!function(e){e.CLOCKWISE="CLOCKWISE",e.COUNTERCLOCKWISE="COUNTERCLOCKWISE",e.COLLINEAR="COLLINEAR"}(n||(n={}));var g=i(512402),_=(e=>(e.TOP="TOP",e.RIGHT="RIGHT",e.BOTTOM="BOTTOM",e.LEFT="LEFT",e.UNKNOWN="UNKNONWN",e))(_||{}),x=(e=>(e.TOP_LEFT="TOP_LEFT",e.TOP="TOP",e.TOP_RIGHT="TOP_RIGHT",e.RIGHT="RIGHT",e.BOTTOM_RIGHT="BOTTOM_RIGHT",e.BOTTOM="BOTTOM",e.BOTTOM_LEFT="BOTTOM_LEFT",e.LEFT="LEFT",e.OVERLAP="OVERLAP",e))(x||{}),y=i(740163);i(84367);var b=i(786175);function C(){return(0,l.md)(u.uc)}function v(){let e=(0,a.d4)(({mirror:{appModel:e}})=>e.showUi),t=0;return(0,y.lK)()&&e&&(t+=(0,c.jz)(b.ui3RulerMargin)),(0,r.useMemo)(()=>({left:t,right:0}),[t,0])}function E(e,t=20){let i=function(e,t){let[i,n]=(0,r.useState)([]),a=(0,s.PU)(),l=(0,d.wm)(()=>t?a.filter(e=>e!==t&&!e.contains(t)&&!t.contains(e)):a,[a,t]),c=(0,r.useCallback)(t=>{n(t.map(t=>{let{x:i,y:n,width:r,height:a}=t.getBoundingClientRect();return 0===r||0===a?o.r.fromOriginAndSize(i,n,r,a):T(i,n,r,a,e)}))},[n,e]);(0,r.useLayoutEffect)(()=>{c(l)},[c,l]),(0,r.useLayoutEffect)(()=>{let e=()=>{c(l)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[c,l]);let u=(0,r.useCallback)(t=>{let i=t.map(t=>{let i=l.findIndex(e=>e===t.target);if(-1!==i){let{x:n,y:r,width:a,height:s}=t.target.getBoundingClientRect();return[i,0===a||0===s?o.r.fromOriginAndSize(n,r,a,s):T(n,r,a,s,e)]}}).filter(e=>!!e);n(e=>{let t=[...e];return i.forEach(([e,i])=>{t[e]=i}),t})},[l,e]);return(0,r.useLayoutEffect)(()=>{let e=new ResizeObserver(u);return l.forEach(t=>{e.observe(t)}),()=>e.disconnect()},[l,u]),(0,r.useLayoutEffect)(()=>{if(!("IntersectionObserver"in window))return()=>{};let e=new IntersectionObserver(e=>{u(e)},{root:null,rootMargin:"0px",threshold:1});return l.forEach(t=>{e.observe(t)}),()=>e.disconnect()},[l,u]),(0,r.useMemo)(()=>i.filter(e=>!e.isEmpty()),[i])}(t,e.current??void 0);return(0,r.useCallback)((e,n,r)=>(function(e,t,i,n){let r=function(e,t){if(t.containsIncludingBoundary(e))return e;let i=e.width()<=t.width()?(0,p.qE)(e.left(),t.left(),t.right()-e.width()):e.left(),n=e.height()<=t.height()?(0,p.qE)(e.top(),t.top(),t.bottom()-e.height()):e.top();return new o.r(new g.M(i,n),e.size)}(e,t),a=(()=>{if(n)return n;let i=o.r.fromCenterSize(t.center(),e.size);return[i.left(),i.top()]})();return[...i,...i].reduce((e,t)=>e.hasIntersectionWith(t)?function({target:e,obstacle:t,targetPreviousXY:i}){let[n,r]=i,a=new o.r(new g.M(n,r),e.size);switch(function(e,t,i){switch(function(e,t){let i=e.right()<=t.left(),n=e.left()>=t.right(),r=e.bottom()<=t.top(),a=e.top()>=t.bottom();if(i&&r)return"TOP_LEFT";if(n&&r)return"TOP_RIGHT";if(n&&a)return"BOTTOM_RIGHT";if(i&&a)return"BOTTOM_LEFT";if(r)return"TOP";if(n)return"RIGHT";if(a)return"BOTTOM";else if(i)return"LEFT";else return"OVERLAP"}(t,i)){case"TOP":return"TOP";case"RIGHT":return"RIGHT";case"BOTTOM":return"BOTTOM";case"LEFT":return"LEFT";case"TOP_LEFT":return m(t.bottomRight(),e.bottomRight(),i.topLeft(),i.topRight())?"TOP":"LEFT";case"TOP_RIGHT":return m(t.bottomLeft(),e.bottomLeft(),i.topLeft(),i.topRight())?"TOP":"RIGHT";case"BOTTOM_RIGHT":return m(t.topLeft(),e.topLeft(),i.bottomLeft(),i.bottomRight())?"BOTTOM":"RIGHT";case"BOTTOM_LEFT":return m(t.topRight(),e.topRight(),i.bottomLeft(),i.bottomRight())?"BOTTOM":"LEFT";default:return"UNKNONWN"}}(e,a,t)){case"TOP":return new o.r(new g.M(e.left(),t.top()-e.height()),e.size);case"BOTTOM":return new o.r(new g.M(e.left(),t.bottom()),e.size);case"LEFT":return new o.r(new g.M(t.left()-e.width(),e.top()),e.size);case"RIGHT":return new o.r(new g.M(t.right(),e.top()),e.size);default:return e}}({target:e,obstacle:t,targetPreviousXY:a}):e,r)})(e,n.expand(-t),i,r),[i,t])}function T(e,t,i,n,r){return o.r.fromOriginAndSize(e-r,t-r,i+2*r,n+2*r)}},847929:(e,t,i)=>{i.d(t,{d:()=>c});var n=i(783094),r=i(828186),a=i(60125),s=i(74165),o=i(740163),l=i(32128),d=i(27776);function c(){let e=(0,o.qw)(),{isPropertiesPanelCollapsed:t}=(0,s.iT)(),i=(0,l.Ye)(),c=(0,o.dP)(),u=(0,o.Bv)(),p=(i?0:c)+((0,o.lK)()?(0,n.jz)(d.T_r):0)+u,m=(0,r.to)(),{leftOffset:h,rightOffset:f}=(0,a.h)();return m?[h,f]:[p,t?0:e]}},146161:(e,t,i)=>{i.d(t,{h:()=>p});var n=i(7378),r=i(514228),a=i(399472),s=i(543529),o=i(844435),l=i(845253),d=i(191312),c=i(465071),u=i(300692);function p(e){let t=(0,l.dq)(),i=(0,c.X$)("useOrgPrivateExtensions").unwrapOr(null),p=i?.key.type===d.OL.ORG,m=(0,o.cW)(),h=(0,o.ZT)(),f="plugin"===e?m:h,g=(0,r.wA)(),_=(0,s.Cb)(),x=(0,u.K$)(),y="plugin"===e?a.Xt:a.gI;return n.useEffect(()=>{p&&!_&&g(y())},[g,p,_,y]),(0,n.useMemo)(()=>{if(!p||_)return[];let e=(0,u.Qt)((0,u.i8)(Object.values(f)),t||"");return x&&(e=(0,u._w)(e,x)),Object.values(e).map(e=>(0,u.uF)(e))},[x,_,p,f,t])}},698287:(e,t,i)=>{i.d(t,{a:()=>a});var n=i(514228),r=i(590592);function a(){let e=(0,n.d4)(e=>e.mirror?.appModel.showUi),t=(0,r.q)();return e&&t}},885134:(e,t,i)=>{i.d(t,{f:()=>H});var n=i(257655),r=i(763686),a=i(189185),s=i(387100),o=i(700578),l=i(601108),d=i(191804),c=i(964367),u=i(714362),p=i(483857),m=i(788069),h=i(629114),f=i(566517),g=i(234038),_=i(636108),x=i(18582),y=i(234690),b=i(426868),C=i(449184),v=i(193952),E=i(857146),T=i(612859),w=i(141954),j=i(261789);function S(e,t,i){let n=r.XJn.getCustomizableVariableName(i.guid,e);if(!n)return;let a=(0,j.tm)(n);if(a)return t[a]}let k={bottomLeftRadius:"rectangleBottomLeftCornerRadius",bottomRightRadius:"rectangleBottomRightCornerRadius",topLeftRadius:"rectangleTopLeftCornerRadius",topRightRadius:"rectangleTopRightCornerRadius"};function I(e,t){a.l7.ai("first-draft-override-radius",()=>{e.setBoundVariable(t,null)})}let N={itemSpacing:"stackSpacing",paddingTop:"stackTopPadding",paddingBottom:"stackBottomPadding",paddingLeft:"stackLeftPadding",paddingRight:"stackRightPadding"};function A(e,t){a.l7.ai("first-draft-override-spacing",()=>{e.setBoundVariable(t,null)})}function O(e){a.l7.ai("first-draft-set-font-name",()=>{e.setRangeBoundVariable(0,e.characters.length,"fontFamily",null),e.setRangeBoundVariable(0,e.characters.length,"fontStyle",null),e.setRangeBoundVariable(0,e.characters.length,"fontWeight",null)})}async function L(e,t,i){let n=r.XJn.inheritedTextStyleGuid(e.guid);if(null===n){O(e);return}let s=(0,o.UN)().get(n);if(!s||!i||!i.variableMaps?.fontVariableMap){O(e);return}if(!("fontFamily"in s.boundVariablesForStyle))return;let l=s.boundVariablesForStyle.fontFamily,d=function(e,t,i){let n=r.XJn.getCustomizableVariableName(t.guid,e);if(!n)return null;let a=(0,j.tm)(n);return a?i[a]??null:null}(l.id,e,i.variableMaps.fontVariableMap);if(!d){O(e);return}try{await (0,b.uW)(d.fontName),a.l7.ai("first-draft-set-font-name",()=>{e.fontName=d.fontName,d.letterSpacing&&(e.letterSpacing=d.letterSpacing)}),t[l.id]=d.fontName.family}catch(i){O(e);let t=void 0===i?"undefined":i instanceof Error?i.message:JSON.stringify(i);C.az.trackDefinedEvent("ai_generation.first_draft_font_error",{error:t,family:d.fontName.family,style:d.fontName.style,location:"override-variables"})}}async function R(e){await Promise.all(e.node.childrenNodes.map(t=>M({...e,node:t}))),(0,T.V5)(e.node)}async function M(e){var t;let{node:i,variableOverrideMap:n,theme:s,colorOptions:o}=e;!function(e,t){if("HORIZONTAL"===e.stackMode||"VERTICAL"===e.stackMode)for(let[i,n]of Object.entries(N)){let r=e.boundVariables&&e.boundVariables[i];if(!r)continue;if(!t||!t.variableMaps){A(e,i);continue}let s=S(r.id,t.variableMaps.numberVariableMap,e)??void 0;if(void 0===s){A(e,i);continue}a.l7.ai("first-draft-override-spacing",()=>{let t=e[n],i=(0,E.o$)(t);e[n]=(0,E.nV)({value:t,rangeSize:i},s,1)})}}(i,s),function(e,t,i){if(e.boundVariables)for(let[n,r]of Object.entries(k)){let s=e.boundVariables&&e.boundVariables[n];if(!s)continue;if(!i||!i.variableMaps){I(e,n);continue}let o=S(s.id,i.variableMaps.numberVariableMap,e)??void 0;if(void 0===o){I(e,n);continue}a.l7.ai("first-draft-override-radius",()=>{let i=(0,E.UO)(e,e[r],o,1);e[r]=i,t[s.id]=i})}}(i,n,s),"TEXT"===i.type&&await L(i,n,s);let l=i.fills.some(e=>"IMAGE"===e.type),d=!l&&o.modeChanged;if(t={node:i,getNewColor:(e,t)=>{let n=t.varId&&s?function(e,t,i){if(!t.variableMaps)return;let n=r.XJn.getCustomizableVariableName(i.guid,e);if(!n)return;let a=(0,j.tm)(n);if(a)return t.variableMaps.colorVariableMap[a]}(t.varId,s,i):void 0;return(0,y.Jv)(e,{...t,brandColor:n})},variableOverrideMap:n,options:{...o,modeChanged:d,role:(0,x.Dk)(i)}},a.l7.ai("first-draft-override-paints",()=>{(0,y.oR)(t)}),i.childCount){let e=(0,y.gU)(i.fills,l?void 0:o.parentFillColor);await R({node:i,variableOverrideMap:n,theme:s,colorOptions:{...o,modeChanged:d,parentFillColor:e}})}}async function D(e,t,i){await M({node:e,variableOverrideMap:t,theme:i,colorOptions:{mode:i&&i.darkMode?x.lH.DARK:x.lH.LIGHT,modeChanged:!!i?.darkMode}})}async function P(e){for(let t of(0,v._F)(e,["INSTANCE","FRAME"],{sharedPluginData:{namespace:"jsx",keys:["theme"]}})){(0,f.xF)(t.guid);let e=t.getSharedPluginData("jsx","theme");if(e)try{let i=JSON.parse(e),n=(0,w.Vx)(i);await D(t,{},n)}catch(t){(0,u.x1)("First Draft theming","Failed to parse theme",{themeStr:e,e:t})}}}var F=i(541950);async function B(e,t,i){let r=(0,h.D)({enableNativeJsx:!0});r.skipInvisibleInstanceChildren=!0;let a=(0,o.UN)(),s=null;if((0,l.k)().first_draft_share_jsx){let r=await (0,n._1)(e,i,{showUnhandled:!!(0,l.k)().first_draft_debug,headless:!1});if(!(s=r.node))throw Error("Could not find new node");t&&(t.trackComponentLookupSuccess(r.stats?.componentLookupSuccesses??0),t.trackComponentLookupFailure(r.stats?.componentLookupFailures??0))}else{let t=await r.createNodeFromJSXAsync(e);s=a.get(t.id)}return s.localOpacity=0,s}async function U(e,t,i){let n=(0,F.uP)(e,{ignoreOpacity:!0}),r=(0,F.rO)(e,n);a.l7.ai("first-draft-override-paints",()=>{let i=t.darkMode?x.lH.DARK:x.lH.LIGHT;i!==(0,_.P)(e)&&(0,_.t)(e,i);let n=(0,d.tK)(t.brandColor);if(n){let t=(0,y.gU)(e.fills);t&&e.childrenNodes.forEach(e=>{(0,g.l9)(e,n,i,{},"",t)})}}),a.l7.ai("first-draft-remove-fill",()=>{e.fills=[]}),await (0,F.jR)(e,(0,F.k5)({fontFamilies:r.fontFamilies},{fontFamilies:t.fontFamilies}),i)}async function G(e,t,i){let n={};for(let r of e){if(a.l7.ai("first-draft-set-plugin-data",()=>{if(i.frameName&&r.name!==i.frameName&&(r.name=i.frameName),t&&r.setSharedPluginData(p.SV,"jsx",t),i.theme&&r.setSharedPluginData(p.SV,"theme",JSON.stringify(i.theme)),i.sharedPluginData)for(let[e,t]of Object.entries(i.sharedPluginData))r.setSharedPluginData(p.SV,e,t)}),i.addWireframeBorder&&a.l7.ai("first-draft-set-wireframe-border",()=>{(0,f._Y)(r)}),(0,f.jZ)(r,i.dsKitKey,i.clientLifecycleId),i.directGeneration&&(0,l.k)().first_draft_direct_gen_layout_heuristics?(0,f.WY)(r):i.autoFillParent&&r&&(0,f.tG)(r),await D(r,n,i.theme),i.themeProperties){if(!i.deviceType)throw Error("deviceType must be provided if themeProperties is provided");await U(r,i.themeProperties,i.deviceType)}i.isEval&&await P(r),(0,f.Zu)(r)}return{themeOverrideMap:n}}async function H({jsxStr:e,jsxElement:t,prevExpandedJsx:i,customJsxElementRegistry:d,options:p},g){let _=(0,o.UN)(),x=(0,h.D)({enableNativeJsx:!0});if(x.skipInvisibleInstanceChildren=!0,!p.prevNodeId){let i=await B(t,g,d.getShareJsxComponentInfoByJSXName());if(!i)throw Error("Could not find new node");a.l7.ai("first-draft-insert-jsx",()=>{if(p.parentNodeId){let e=_.get(p.parentNodeId);if(!e)throw(0,u.x1)("first-draft","Could not find parent node with parentNodeId",{parentNodeId:p.parentNodeId}),Error("Could not find parent node with parentNodeId");let t=[i];for(let i of(t.reverse(),t))p.insertAtIndex?p.insertAtIndex===e.childCount?e.appendChild(i):e.insertChild(i,p.insertAtIndex):e.appendChild(i)}}),i.materializeDescendants();let n=await G([i],e,p);return await (0,f.U_)(i,p),i.removeLocalOpacity(),{insertNodeIds:[i.guid],customizationResult:n}}let y=_.get(p.prevNodeId);if(!y)throw(0,u.x1)("first-draft","Could not find node with prevNodeId",{prevNodeId:p.prevNodeId}),Error("Could not find node with prevNodeId");let b=(0,n.JF)(i),C=null;if((0,l.k)().first_draft_share_jsx){let e=await (0,c.m)({node:y,jsxElement:t,oldJSXElement:b,options:{...n.RP,transformUnhandledNodes:!!(0,l.k)().first_draft_debug,componentInfoByJSXName:d.getShareJsxComponentInfoByJSXName()}});C=e.node,g&&(g.trackComponentLookupSuccess(e.stats?.componentLookupSuccesses??0),g.trackComponentLookupFailure(e.stats?.componentLookupFailures??0))}else{let e=await x.reconcileNodeFromJSXAsync({id:y.guid},b,t);C=_.get(e.id)}if(!C)throw Error("Could not find updated node");C.materializeDescendants();let v=await G([C],e,p);return p.shouldAnimateLoading&&p.doneTextLayerIds&&function(e,t,i){let n=[];for(let e of((0,s.hV)(t,e=>{"TEXT"===e.type&&n.push(e)}),n))i.has(e.guid)||((0,f.us)(e)?(r.zuo.cancelAllAnimationsForNode(e.guid),i.add(e.guid)):r.zuo.isAnimating(e.guid)||e.setOpacityWithAnimation(1,m._E.forOpacityOscillation(45,.25,.8,60),"first-draft-text-layer-opacity"))}(0,C,p.doneTextLayerIds),C.guid!==p.prevNodeId&&await (0,f.U_)(C,p),{insertNodeIds:[C.guid],customizationResult:v}}},234038:(e,t,i)=>{i.d(t,{N_:()=>c,l9:()=>u,tb:()=>d});var n=i(492908),r=i(273493),a=i(191804),s=i(18582),o=i(234690);function l(e){let t=new Set,i=new Set;return e.forEach(e=>{7===e.length?t.add(e):i.add(e)}),[Array.from(t),Array.from(i)]}function d(e,t){let{bg:i,content:d}=t,c=(0,a.HD)(e)?s.lH.DARK:s.lH.LIGHT,u=(0,a.F_)(e),p=(0,r.oB)(e),m=i.filter(e=>e!==u),[h,f]=l(m),g=function(e){let t={};return e.forEach(e=>{t[e]=(t[e]||0)+1}),t}(m),_=h.sort((e,t)=>g[t]-g[e]),x=_.find(e=>{let t=(0,a.tK)(e);if(!t)return!1;let i=(0,r.oB)(t);return(0,o.x)(i.l,c)&&!(0,n.xN)(i.l,p.l,.12)});if(x)return x;let[y,b]=l(d),C=y.find(e=>{let t=(0,a.tK)(e);return t&&(0,s.Yx)((0,r.oB)(t).l,s.lg.CONTENT)});if(C)return C;if((0,o.x)(p.l,c)&&!(0,o.c4)(p.l))return u;let v=f.sort((e,t)=>g[t]-g[e]).find(e=>{let t=(0,a.tK)(e);if(!t)return!1;let i=(0,r.oB)(t);return(0,o.x)(i.l,c)});return v?v:b.find(e=>{let t=(0,a.tK)(e);return t&&(0,s.Yx)((0,r.oB)(t).l,s.lg.CONTENT)})||(_.length?_[0]:y.length?y[0]:u)}function c(e){let t={};if(!e)return t;let i=[e];for(;i.length>0;){let e=i.pop();if(e){if(e.fills.length>0){let i=(0,o.gU)(e.fills);if(i){let n=(0,r.oB)(i);t[e.guid]={s:n.s,l:n.l}}}else if(e.strokePaints.data.length>0){let i=(0,o.gU)(e.strokePaints.data);if(i){let n=(0,r.oB)(i);t[e.guid]={s:n.s,l:n.l}}}"childrenNodes"in e&&i.push(...e.childrenNodes)}}return t}function u(e,t,i,n,r,a){e&&function e(t,i,n,r){if(t.name.toLowerCase().includes("swatch"))return;let a=n[t.guid];if((0,o.oR)({node:t,getNewColor:i,options:{...r,modeChanged:!1,role:(0,s.Dk)(t),originalSL:a}}),t.childCount){let a=t.fills.some(e=>"IMAGE"===e.type),s=(0,o.gU)(t.fills,a?void 0:r.parentFillColor);t.childrenNodes.forEach(t=>{e(t,i,n,{...r,parentFillColor:s})})}}(e,(e,i)=>(0,o.Jv)(e,{...i,brandColor:t}),n,{mode:i,currentBrandHex:r,parentFillColor:a})}},636108:(e,t,i)=>{i.d(t,{P:()=>s,t:()=>o});var n=i(191804),r=i(18582),a=i(234690);function s(e){let t=(0,a.X6)(e);if(t)return(0,n.HD)(t)?r.lH.DARK:r.lH.LIGHT}function o(e,t,i){e&&function e(t,i,n){let s=t.fills.some(e=>"IMAGE"===e.type),o=!s&&n.modeChanged;if((0,a.oR)({node:t,getNewColor:i,options:{...n,modeChanged:o,role:(0,r.Dk)(t)}}),t.childrenNodes){let r=(0,a.gU)(t.fills,s?void 0:n.parentFillColor);t.childrenNodes.forEach(t=>{e(t,i,{...n,modeChanged:o,parentFillColor:r})})}}(e,(e,t)=>(0,a.Jv)(e,{...t,brandColor:void 0}),{mode:t,modeChanged:!0,currentBrandHex:i})}},141954:(e,t,i)=>{i.d(t,{t_:()=>m,Vx:()=>p});var n=i(165054),r=i(191804),a=i(11),s=i(846140),o=i(702372),l=i(18582),d=i(234690);let c={[s.GS.DEFAULT]:[{"font/title/bold":{fontName:{family:"Plus Jakarta Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Plus Jakarta Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Plus Jakarta Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Plus Jakarta Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Plus Jakarta Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Plus Jakarta Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Plus Jakarta Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/title/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/body/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Inter",style:"Semi Bold"},letterSpacing:{units:"PERCENT",value:-2.5}},"font/title/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2.5}},"font/body/bold":{fontName:{family:"Inter",style:"Semi Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Inter",style:"Medium"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Inter",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Inter",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Public Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Public Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}}],[s.GS.SERIF]:[{"font/title/bold":{fontName:{family:"Domine",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Domine",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Outfit",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}},"font/label/medium":{fontName:{family:"Outfit",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Outfit",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}},{"font/title/bold":{fontName:{family:"Roboto Serif",style:"Bold"},letterSpacing:{units:"PERCENT",value:-2}},"font/title/regular":{fontName:{family:"Roboto Serif",style:"Regular"},letterSpacing:{units:"PERCENT",value:-2}},"font/body/bold":{fontName:{family:"Public Sans",style:"Bold"},letterSpacing:{units:"PERCENT",value:-.5}},"font/body/medium":{fontName:{family:"Public Sans",style:"SemiBold"},letterSpacing:{units:"PERCENT",value:0}},"font/body/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:-.5}},"font/label/medium":{fontName:{family:"Public Sans",style:"Medium"},letterSpacing:{units:"PERCENT",value:0}},"font/label/regular":{fontName:{family:"Public Sans",style:"Regular"},letterSpacing:{units:"PERCENT",value:0}}}]};function u(e){return e[Math.floor(Math.random()*e.length)]}function p(e){let t={numberVariableMap:{},colorVariableMap:{}},i="true"===e[s.u7.DARK_MODE];for(let[n,a]of Object.entries(e||{}))switch(n.split("/")[0]){case s.u7.COLOR:let e=(0,r.tK)(a);if(!e)continue;t.colorVariableMap[n]=(0,d.qO)(e,i?l.lH.DARK:l.lH.LIGHT);break;case s.u7.CORNER_RADIUS:case s.u7.SPACING:let p=parseFloat(a);!isNaN(p)&&p>=o.Xy&&p<=o.Ne&&(t.numberVariableMap[n]=p);break;case s.u7.FONT:switch(a){case s.GS.SERIF:case s.GS.DEFAULT:t.fontVariableMap=u(c[a]);break;default:t.fontVariableMap=u(c[s.GS.DEFAULT])}}return{darkMode:i,variableMaps:t}}function m(e,t){try{return p(e)}catch(i){return i instanceof Error&&(0,a.$D)(n.e.AI_GENERATION,Error(`[First Draft theme] Error parsing theme from output: ${i.message}`),{extra:{...t,theme:JSON.stringify(e),error:i}}),{}}}},215872:(e,t,i)=>{i.d(t,{fv:()=>h,pK:()=>_});var n=i(664063),r=i(648693),a=i(165054),s=i(763686),o=i(700578),l=i(407919),d=i(11),c=i(910117),u=i(193867),p=i(347702),m=i(483857);function h(e){let t=new Set([]),i=[...e];for(;i.length;){let e=i.pop();if(e){for(let a of(e.type.startsWith(n.COMPONENT_PREFIX)&&t.add(e.type),e.children))(0,r.id)(a)&&i.push(a);for(let t of Object.values(e.props))if("string"!=typeof t){if((0,r.id)(t))i.push(t);else if(Array.isArray(t))for(let e of t)(0,r.id)(e)&&i.push(e)}}}return t}async function f(e,t,i){if(t?.type==="LOCAL")throw Error("Can only insert library components");if(!i)return(0,d.$D)(a.e.AI_GENERATION,Error("[First Draft] Attempted to insert component without kitContents")),{status:"error"};let r=function(e,t){let i=t.toLowerCase();if(e.components[i]){let t=e.components[i];return{assetType:"component",key:t.key,version:t.version}}if(e.state_groups[i]){let t=e.state_groups[i];return{assetType:"state_group",key:t.key,version:t.version}}return null}(i,e);if(!r)return{status:"error"};let{assetType:u,key:p,version:m}=r;if("component"===u){let t=s.XJn.getComponentByKeyAndVersion(p,m);if(t)return{status:"success",key:p,version:m,jsxName:(0,n.getComponentJSXName)(e),guid:t}}if("state_group"===u){let t=s.XJn.getStateGroupByKeyAndVersion(p,m);if(t)return{status:"success",key:p,version:m,jsxName:(0,n.getComponentJSXName)(e),guid:t}}try{let e=l.D?.getState().fileVersion||0,t=await (0,c.GD)(`/api/file_proxy/${u}/${p}/version/${m}/canvas`,{fv:e.toString()},{responseType:"arraybuffer"}),i=new Uint8Array(t.response),r=s.NfO.deserializeProductComponentFromBuffer(p,i),a=(0,o.UN)().get(r);if(!a)throw Error("Deserialized component not found in scene graph");return{status:"success",key:p,version:m,jsxName:(0,n.getComponentJSXName)(a.name),guid:r}}catch(e){if(e instanceof c.Dr&&e.status>=400)return{status:"error"};throw e}}let g=(0,p.n)(async function(e,t){let i=(0,u.U2)(l.D?.getState().selectedView),n=await c.Ay.post(`/api/first_draft/kit_contents/${e.key}`,{jsx_names:t,file_key:i});return n?.data?.meta??null});async function _({dsKitKey:e,jsxJSON:t,componentNameToInsertResult:i}){if("LOCAL"===e.type)return;let n=h(t),r=new Set;for(let e of n)e in i||r.add(e);if(0===r.size)return;let a=await g(e,Array.from(r)),s=a?.components??{},o=(0,m.Q$)(s),l=a?.state_groups??{},d={components:o,state_groups:(0,m.Q$)(l)};await Promise.all(Array.from(r).map(async t=>{let n=await f(t,e,d);return"success"===n.status&&(i[n.jsxName]=n),n}))}},671180:(e,t,i)=>{i.d(t,{C2:()=>C,Vh:()=>E});var n=i(486106),r=i(7378),a=i(257655),s=i(691470),o=i(165054),l=i(763686),d=i(700578),c=i(601108),u=i(90566),p=i(485103),m=i(602906),h=i(11),f=i(714362),g=i(885134),_=i(566517),x=i(215872),y=i(483857),b=i(838407);function C(e){return new a.yT({dsKitKey:e.dsKitKey,publishedComponentToInsertResult:e.componentNameToInsertResult??{},componentInfoByName:e.componentNameToInfo??{},options:{enableTsArrays:!!(0,c.k)().first_draft_ts_arrays,shareJSX:!!(0,c.k)().first_draft_share_jsx,useAllComponents:!!(0,c.k)().first_draft_publish_all_components,onError:(e,t)=>{(0,h.$D)(o.e.AI_GENERATION,e,t)}}})}async function v(e,t,i={}){let n;let r=(0,a.eb)(e.jsxStr),s=r&&""!==r?r:e.jsxStr;if((i.prevJsxStr??"")===s)return{};if(!i.prevNodeId&&i.prevJsxJSON&&i.prevJsxJSON.length>0)throw Error("prevJsxJSON should be null");let l=await (0,a.Kf)(s);if(!l)return{};await i.onBeforeInsertJSX?.(l);let d={prevNodeId:i.prevNodeId,isIncomplete:!function(e){let t=e.match(/<([^\/\s>]+)[^>]*>/),i=e.match(/<\/([^>]+)>/g)?.pop();return!!t&&!!i&&t[1]===i.replace("</","").replace(">","")}(s),autoFillParent:!0,insertBehavior:"viewport-ease",shouldGenerateImages:!0,...e.options},u=C(d);t.resetComponentStats();let p=await (0,a.BW)(l,u,t,{directGen:!!d.directGeneration,showUnhandled:!!(0,c.k)().first_draft_debug,useShareJSX:!!(0,c.k)().first_draft_share_jsx});if(0===p.length)return{};try{n=(0,a.JF)(p)}catch(t){let e={elements:p.length};return(0,h.$D)(o.e.AI_GENERATION,t,e),{}}let{insertNodeIds:m,customizationResult:f}=await (0,g.f)({jsxStr:s,jsxElement:n,prevExpandedJsx:i.prevExpandedJsx??[],customJsxElementRegistry:u,options:d},t);return{insertNodeIds:m,customizationResult:f,jsxStr:s,jsxJSON:l,expandedJsx:p}}function E({onAfterInsertPartialJsx:e,onReset:t,onImageProgress:i,shouldContinueStream:g,clientLifecycleId:C,insertType:E}){let T=(0,r.useRef)({}),w=(0,r.useRef)(null),j=(0,r.useRef)({}),S=(0,r.useRef)({}),k=(0,r.useRef)({}),I=(0,r.useRef)(new a.sw(E||"generate",p.rI)),N=(0,r.useRef)(null);(0,r.useEffect)(()=>{N.current=m.J6.startUserFlow({name:"first_draft_generate",team:o.e.AI_GENERATION})},[]);let A=(0,r.useCallback)(async t=>{try{let i=N.current?.startDuration("first_draft_insert_jsx");T.current.isRunning=!0,T.current.donePromise=(async()=>{try{let e={jsxStrLength:t.jsxStr?.length,options:{parentNodeId:t.options.parentNodeId,isIncomplete:t.options.isIncomplete,prevNodeId:t.options.prevNodeId},clientLifecycleId:C},r={...e,jsxStr:t.jsxStr};(0,f.ED)("first-draft","Inserting Streamed JSX Updates",e,{createSentryBreadcrumb:!0,logToConsole:h.NU.NEVER}),(0,f.ED)("first-draft","Inserting Streamed JSX Updates",r,{createSentryBreadcrumb:!1}),T.current.doneTextLayerIds=T.current.doneTextLayerIds||new Set,T.current.componentNameToInfo={...T.current.componentNameToInfo,...t.options.componentNameToInfo},T.current.componentNameToInsertResult=T.current.componentNameToInsertResult||{};let{insertNodeIds:a,customizationResult:s,jsxJSON:o,jsxStr:l,expandedJsx:d}=await v({...t,options:{...t.options,componentNameToInsertResult:T.current.componentNameToInsertResult,componentNameToInfo:T.current.componentNameToInfo,shouldAnimateLoading:(0,c.k)().first_draft_animations,doneTextLayerIds:T.current.doneTextLayerIds,clientLifecycleId:C}},I.current,{prevNodeId:w.current,prevJsxStr:T.current.jsxStr,prevJsxJSON:T.current.jsxJSON,prevExpandedJsx:T.current.expandedJsx,onBeforeInsertJSX:async e=>{await (0,x.pK)({jsxJSON:e,dsKitKey:t.options.dsKitKey,componentNameToInsertResult:T.current.componentNameToInsertResult??{}})}});if(i?.addContext({hasJson:void 0!==o,insertNodeIdsLength:a?.length}),i?.stop(),!a){if(void 0===o)return;throw Error("Failed to insert any nodes")}if(a.length>1)throw Error("Expected at most one node to be inserted");(0,_.OJ)(a[0]),w.current!==a[0]&&(w.current&&(0,b.ks)(w.current),(0,b.Vm)(a[0],(0,n.jsx)(n.Fragment,{}),{overflowHidden:!0})),w.current=a[0],j.current={...j.current,...s?.themeOverrideMap??{}},T.current.jsxStr=l,T.current.jsxJSON=o,T.current.expandedJsx=d,T.current.queuedEffects=T.current.queuedEffects||{}}catch(e){(0,h.$D)(o.e.AI_GENERATION,e instanceof Error?e:Error(e)),w.current&&!(0,d.UN)().get(w.current)&&(w.current=null,T.current.jsxStr=void 0,T.current.jsxJSON=void 0,T.current.expandedJsx=void 0)}try{if(w.current){if(t.options?.shouldGenerateImages){if(t.options.imageArgs)(0,_.Ms)({containingNodeId:w.current,queuedEffects:T.current.queuedEffects,shouldContinueStream:g,imagesTrace:k.current,jsxJSON:T.current.jsxJSON,initialUserPrompt:t.options.imageArgs?.initialUserPrompt||"",clientLifecycleId:C,instrumentationRef:I});else throw Error("Tried to generate images without image args")}(0,_.D9)(w.current,T.current.queuedEffects,t.options),(0,c.k)().first_draft_direct_gen||(0,_.fE)({containingNodeId:w.current}),e?.(w.current)}}catch(e){(0,h.$D)(o.e.AI_GENERATION,e instanceof Error?e:Error(e))}})(),await T.current.donePromise,T.current.insertAgainWhenDone&&((0,f.ED)("first-draft","Re-Inserting JSX Updates (Immediate)",{jsxStrLength:T.current.lastArgs?.jsxStr?.length,options:{parentNodeId:T.current.lastArgs?.options.parentNodeId,isIncomplete:T.current.lastArgs?.options.isIncomplete,prevNodeId:T.current.lastArgs?.options.prevNodeId}}),T.current.insertAgainWhenDone=!1,await A(T.current.lastArgs))}finally{T.current.isRunning=!1}},[e,g,C]),O=(0,u.A)(A,500,{leading:!0,maxWait:1e3}),L=(0,r.useCallback)(async()=>{await N.current?.measureDurationAsync("flushPending",async()=>{for(O.isPending()&&await O.flush();T.current.isRunning;)T.current.donePromise&&await T.current.donePromise,await y.Mb(10);let e=T.current.queuedEffects??{};(await Promise.allSettled(Array.from(Object.values(e)))).forEach(e=>{"rejected"!==e.status||e.reason instanceof s.G1&&500>s.Iu(e.reason)||h.$D(o.e.AI_GENERATION,e.reason)})})},[O]),R=(0,r.useCallback)(async()=>{try{await L()}finally{if(t?.(),w.current&&((0,b.ks)(w.current),(0,_.RY)(w.current)),T.current.lastArgs){let e=Object.keys(j.current).length>0;await (0,_.oT)(T.current.lastArgs.options?.dsKitKey,w.current,l.oVz.CURRENT,{detachVariables:e})}w.current=null,T.current={},S.current={},k.current={}}},[L,t]),M=(0,r.useCallback)(e=>(T.current.lastArgs=e,T.current.isRunning)?(T.current.insertAgainWhenDone=!0,Promise.resolve()):O?.(e)||Promise.resolve(),[O]);return(0,r.useEffect)(()=>{let e=I.current;if(!i)return;let t=()=>i(e.instrumentationData.imageSuccesses,e.instrumentationData.numImages);return e.imageProgressEmitter.on("statusChanged",t),()=>{e.imageProgressEmitter.removeListener("statusChanged",t)}},[I,i]),{insertJSX:M,resetAsync:R,flushPending:L,nodeIdRef:w,imagesTraceRef:k,themeOverrideMapRef:j,userFlowRef:N,instrumentationRef:I}}},423538:(e,t,i)=>{i.d(t,{Dp:()=>w,WX:()=>j,TM:()=>S});var n=i(7378),r=i(257655),a=i(95419),s=i(165054),o=i(763686),l=i(189185),d=i(700578),c=i(11),u=i(714362),p=i(412398),m=i(141954),h=i(521763),f=i(455680),g=i(741237),_=i(516028),x=i(106763),y=i(58505),b=i(561485),C=i(671180),v=i(483857);async function E(e={}){let{sleepTime:t=100}=e;await new Promise(e=>setTimeout(e,t))}async function*T(e,t={}){let{chunksPerYield:i=20,useWords:n=!0}=t;if(n){let n=e.split(" "),r=[];for(let e=0;e<n.length;e+=i)r.push(...n.slice(e,e+i)),await E(t),yield r.join(" ")}else{let n=e.split(""),r=[];for(let e=0;e<n.length;e+=i)r.push(...n.slice(e,e+i)),await E(t),yield r.join("")}}function w(){return{loadingComponentType:"ComponentLoading",shouldGenerateImages:!0}}function j(e){return e?.metadata.direct_generation||e?.dsKitKey?.type==="USER_LIBRARY"||e?.dsKitKey?.type==="LOCAL"}function S({mockStreamOptions:e,onInsertJSXDone:t,onAfterInsertPartialJsx:i,shouldContinueStream:S,clientLifecycleId:I,insertType:N}){let A=(0,_.tS)(),O=(0,b.cJ)(),L=(0,n.useRef)(null),R=(0,n.useRef)(void 0),M=(0,n.useRef)(void 0),D=(0,n.useRef)(null),P=(0,n.useRef)(null),[F,B]=(0,n.useState)({loaded:0,total:0}),{insertJSX:U,resetAsync:G,flushPending:H,nodeIdRef:z,imagesTraceRef:V,instrumentationRef:K,userFlowRef:W,themeOverrideMapRef:q}=(0,C.Vh)({onAfterInsertPartialJsx:e=>{if(O&&e){let t=(0,d.UN)().get(e);t?.isBreakpointFrame&&(t?.parentNode?.childrenNodes??[]).length>1&&(l.l7.ai("first-draft-sites-page-remove",()=>{t.parentNode?.childrenNodes.filter(e=>e.guid!==t.guid).forEach(e=>e.removeSelfAndChildren())}),setTimeout(()=>{o.glU.triggerAction("goto-layer",{args:{nodeId:e}})},200))}i?.(e)},onReset:()=>{R.current=void 0,B({loaded:0,total:0})},onImageProgress:(e,t)=>{B({loaded:e,total:t})},shouldContinueStream:S,clientLifecycleId:I,insertType:N}),{isRunning:Y,runPrompt:X,runPromptMocked:J}=function({onPromptOutput:e,onBeforeRunPrompt:t,onRunPromptSuccess:i,onRunPromptError:r,shouldContinueStream:a,mockStreamOptions:s,clientLifecycleId:o}){let[l,d]=(0,n.useState)(!1),c=(0,n.useRef)({}),u=(0,n.useCallback)(async(n,s)=>{if(!l)try{c.current={},d(!0),t?.(s),await n(t=>{e?.(t,s),c.current=t},a),await i?.(c.current,s)}catch(e){throw await r?.(e,c.current,s),e}finally{d(!1)}},[l,t,e,r,i,a]);return{isRunning:l,runPrompt:(0,n.useCallback)(async(e,t)=>await u(async(t,i)=>{await (0,v._J)(e,t,i,o)},t),[o,u]),runPromptMocked:(0,n.useCallback)(async(e,t)=>await u(async t=>{if(await E(s),!e.dsKit)throw Error("dsKit is required in mockedResponse");let i=e.dsKit,n=e.theme??{},r=e.jsx??"";for await(let e of(t({theme:n}),await E(s),T(r,s)))t({dsKit:i,theme:n,jsx:e});t({dsKit:i,theme:n,jsx:r})},t),[u,s])}}({mockStreamOptions:e,shouldContinueStream:S,clientLifecycleId:I,onBeforeRunPrompt:e=>{if(e.analyticsOptions){let{dsKitType:t,isLocal:i,kitKey:n}=k(null,e.insertJSXOptions);K.current.start(),W.current?.addContext({file_key:A,generateId:I,clientLifecycleId:I,dsKitType:t,isLocal:i,kitKey:n,kitIdentifier:P.current?.metadata.identifier??null}),W.current?.trackEvent("First Draft: Layout Generation Started",{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})}},onRunPromptSuccess:async(e,i)=>{if(K.current.trackLastStreamByteReceived(),await H(),e.trace){let t={...L.current,...e.trace,children:[...L.current?.children??[],...e.trace.children,...Object.values(V.current)]};L.current=t}if(S()){let i=(0,r.eb)(e.jsx??"");if(!e.dsKit&&!z.current)throw Error("No dsKit in prompt output");if(i&&!z.current)throw Error("JSX was present in the prompt output but no node was inserted");try{await t?.(z.current,q.current,D.current,M.current??[])}catch(e){(0,c.$D)(s.e.AI_GENERATION,e,{extra:{nodeId:z.current,themeOverrideMap:q.current,dsKitKey:D.current,presets:M.current}})}}if(i.analyticsOptions){let{dsKitType:t,isLocal:n,kitKey:r}=k(e,i.insertJSXOptions);W.current?.addContext({promptOutput:JSON.stringify({dsKit:e.dsKit,theme:e.theme,presets:e.presets}),timeElapsedMs:Date.now()-i.analyticsOptions.startTime,dsKitType:t,isLocal:n,kitKey:r,file_key:A,generateId:I,clientLifecycleId:I,kitIdentifier:P.current?.metadata.identifier??null}),S()?z.current?(K.current.trackFinished("success"),W.current?.addContext({nodeId:z.current,status:"completed",instrumentationData:JSON.stringify(K.current.instrumentationData)})):(K.current.trackFinished("failure"),W.current?.addContext({status:"failed",reason:"empty generation",instrumentationData:JSON.stringify(K.current.instrumentationData)})):(K.current.trackFinished("stopped"),W.current?.addContext({nodeId:z.current,status:"failed",reason:"stopped",instrumentationData:JSON.stringify(K.current.instrumentationData)})),W.current?.end(),W.current?.trackEvent("First Draft: Layout Generation Ended",{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})}},onRunPromptError:(e,t,i)=>{K.current.trackFinished("failure"),t.trace&&(L.current={...L.current,...t.trace});let{dsKitType:n,isLocal:r,kitKey:a}=k(t,i.insertJSXOptions),o={promptOutput:JSON.stringify({dsKit:t.dsKit??{},jsx:t.jsx??"",theme:t.theme??{}}),error:e.toString(),timeElapsedMs:Date.now()-(i.analyticsOptions?.startTime??0),dsKitType:n,isLocal:r,kitKey:a,file_key:A,clientLifecycleId:I,kitIdentifier:P.current?.metadata.identifier??null},l=(0,c.$D)(s.e.AI_GENERATION,e,{extra:o});W.current?.addContext({...o,status:"failed",reason:"error",nodeId:z.current,sentryEventId:l}),W.current?.trackEvent("First Draft: Layout Generation Ended",{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},onPromptOutput:(e,t)=>{if(K.current.trackFirstByteReceived(),e.dsKit){if(e.dsKit.isLocal){let e=t.insertJSXOptions.dsKitKey;D.current={type:"LOCAL",pageId:e.pageId}}else e.dsKit.isDirectGenLibrary?D.current={type:"USER_LIBRARY",key:e.dsKit.kitKey}:D.current={type:"1P_LIBRARY",key:e.dsKit.kitKey};if(!R.current&&e.theme&&(R.current=(0,m.t_)(e.theme,{generateId:I})),!M.current&&e.presets&&(M.current=e.presets),e.jsx)return U({jsxStr:e.jsx,options:{...t.insertJSXOptions,theme:R.current,dsKitKey:D.current}})}}}),Z=(0,h.B)(),Q=(0,n.useCallback)(async e=>{"LOCAL"===e.dsKitKey.type&&A&&await (0,p.p4)(A,e,Z)},[A,Z]),$=(0,n.useCallback)(async(e,t,i)=>{let n;let r=e.prompt;if(Y)return{nodeId:null,success:!0};await G();let{designSystem:p}=t;P.current=p;try{p&&await Q(p)}catch(e){return(0,c.$D)(s.e.AI_GENERATION,e),{nodeId:null,success:!1,error:e}}let m=function(e,t){if(!t)return{userPrompt:e};if("LOCAL"!==t.dsKitKey.type)return{userPrompt:e,kitKey:t.dsKitKey.key,isLocal:!1,isDirectGenerationCompatible:t.metadata?.direct_generation};let i=o.XJn.getKitKey(t.dsKitKey.pageId);if(!i)throw Error("Failed to get a kitKey for local kit");return{userPrompt:e,kitKey:i,isLocal:!0,isDirectGenerationCompatible:t.metadata?.direct_generation}}(r,p),h=null;if(t.selectedNodeIds&&t.selectedNodeThumbnailsCache&&t.selectedNodeIds.length>0){let i=t.selectedNodeIds.map(e=>(0,d.UN)().get(e)).filter(a.Vq);i.length!==t.selectedNodeIds.length&&(0,u.xi)("first-draft","Some selected nodes were not found",{selectedNodeIds:t.selectedNodeIds,selectedNodes:i}),h=(0,y.ce)(i),m.extraMessagesFigmateOnly=await (0,y.yh)(i,t.selectedNodeThumbnailsCache,e.attachmentMetadata)}let _={};if(O){let e=(0,d.UN)().getCurrentPage();if(e){let t=1===e.childCount&&e.childrenNodes[0].isResponsiveSet&&1===e.childrenNodes[0].childCount&&e.childrenNodes[0].childrenNodes[0].isBreakpointFrame&&0===e.childrenNodes[0].childrenNodes[0].childCount,i=null;t?(g.wr(),(0,x.S)("panel"),g.Dh([e.childrenGuids[0]])):l.l7.ai("first-draft-sites-page-create",()=>{o.glU.createResponsiveSet(null)}),i=(0,d.UN)().get(o.glU.getFirstSelectedNodeIdForCurrentPage()),_.parentNodeId=i?.guid,_.createNewSitesWebpage=!0,_.frameName="Primary"}}try{K.current.start(),await X(m,{insertJSXOptions:{frameName:r,imageArgs:{initialUserPrompt:r},...w(),...i,...h?{componentNameToInfo:{...h,...i.componentNameToInfo}}:{},..._,sharedPluginData:{userPrompt:r,...i.sharedPluginData},dsKitKey:p?.dsKitKey,directGeneration:j(p)},analyticsOptions:{startTime:K.current.startTime,clientLifecycleId:I}})}catch(e){n=e}let b=z.current;if(await G(),b&&!(0,d.UN)().get(b))throw Error("Failed to insert node");return f.Y5.commit(),{nodeId:b,success:!n,error:n}},[Y,G,X,z,I,Q,O,K]);return{submitPromptMocked:(0,n.useCallback)(async(e,t)=>{if(Y)return{nodeId:null,success:!0};await G(),await J(e,{insertJSXOptions:{...w(),...t,imageArgs:{initialUserPrompt:"website"}},analyticsOptions:null});let i=z.current;return await G(),{nodeId:i,success:!0}},[Y,G,J,z]),submitPrompt:$,isRunning:Y,executionTrace:L.current,imageProgress:F}}function k(e,t){let i=t.dsKitKey,n=i?.type??"AUTO",r=i?.type==="LOCAL"||e?.dsKit?.isLocal,a=i?"key"in i?i.key:i.pageId:e?.dsKit?.kitKey??null;return{dsKitOption:i,dsKitType:n,isLocal:r,kitKey:a}}},845608:(e,t,i)=>{i.d(t,{iK:()=>y,wP:()=>b});var n=i(7378),r=i(829242),a=i(189185),s=i(700578),o=i(267721),l=i.n(o),d=i(432652),c=i(296461),u=i(392104),p=i(949105),m=i(483857),h=i(193952),f=i(455680);function g(e){return!!("SYMBOL"===e.type||e.isStateGroup||(0,p.Gs)(e))}async function _({components:e,clientLifecycleId:t}){let i=await Promise.all(e.map(async e=>{let t=await (0,m.gC)(e);return{imageB64:t.base64,jsx:t.jsx,isStateGroup:e.isStateGroup}}));return(await d.Ay.design.firstDraftSuggestProps({requests:i},(0,h.sF)({clientLifecycleId:t}))).responses.map((t,i)=>{let n=e[i];return t&&n?{component:n,componentName:t.componentName,componentDescription:t.componentDescription,nodeIdsToPropertyNames:t.nodeIdsToPropertyNames.reduce((e,t)=>(e[t.id]=t.propertyName,e),{})}:null})}function x(e){let t=e.component;if(g(t)){if(t.name=e.componentName,(0,p.Gs)(t)){let i={componentPropertyDefinitions:[],componentPropertyReferences:{}};for(let[t,n]of Object.entries(e.nodeIdsToPropertyNames)){let e=(0,s.UN)().guidFromDeveloperFriendlyId(t),r=(0,s.UN)().get(e);r&&"TEXT"===r.type&&(i.componentPropertyDefinitions.push({name:n,type:"TEXT"}),i.componentPropertyReferences[t]={characters:n})}(0,p.p0)(t,i),(0,p.aj)(t,e.componentDescription)}else for(let i of(t.description||(t.description=e.componentDescription),Object.keys(e.nodeIdsToPropertyNames))){let n=(0,s.UN)().get(i);if(!n||"TEXT"!==n.type||n.isInstanceSublayer)continue;let r=t.componentPropertyDefinitions(),a=n.componentPropertyReferences();if(a?.characters)continue;let o=e.nodeIdsToPropertyNames[i],l=function(e,t){for(let i in e)if("VARIANT"!==e[i].type){let e=i.split("#");if(e.slice(0,e.length-1).join("#")===t)return i}else if(i===t)return i;return null}(r,o);l&&r[l]?.type==="TEXT"||(l=t.addComponentPropertyDefinition(o,"TEXT",n.characters,void 0)),n.setComponentPropertyReferences({...n.componentPropertyReferences(),characters:l})}}}function y(){let[e,t]=n.useState({loaded:0,total:0}),i=n.useContext(u.x),o=i?.getSuggestedProps;return{submit:n.useCallback(async(e,i,n)=>{let d=s.UN().getCurrentPage()?.childrenNodes.find(e=>"SECTION"===e.type&&e.name===c.vh),u=s.UN().getCurrentPage()?.childrenNodes.find(e=>"SECTION"===e.type&&"Atoms"===e.name);if(0===(n=n??[...d?.childrenNodes??[],...u?.childrenNodes??[]]).length)return;let p=n.filter(g);for(let n of(t({loaded:1,total:p.length}),l()(p,30))){let s=await (0,r.Z)(o?o(n):_({components:n,clientLifecycleId:e}),i);if(i.aborted)return;a.l7.user("apply-suggested-props",()=>{for(let e of s)e&&x(e)}),t(e=>({loaded:Math.min(e.loaded+n.length,e.total),total:e.total}))}f.Y5.commit()},[o]),progress:e}}function b(){return{submit:n.useCallback(_,[]),apply:n.useCallback(e=>{x(e),f.Y5.commit()},[])}}},392104:(e,t,i)=>{i.d(t,{x:()=>n});let n=i(7378).createContext(void 0)},483857:(e,t,i)=>{i.d(t,{Mb:()=>c,Q$:()=>p,SV:()=>d,_J:()=>u,gC:()=>m});var n=i(561685),r=i(432652),a=i(50224),s=i(193952),o=i(707567),l=i(347702);let d="plugin_playground";async function c(e){await new Promise(t=>{setTimeout(()=>{t()},e)})}let u=(0,l.n)(async function(e,t,i=()=>!0,n){let a=(await r.Ay.design.firstDraftGenerateV2Stream(e,(0,s.sF)({clientLifecycleId:n}))).getReader(),o={};try{for(;;){let e=a.read(),{done:n,value:r}=await e;if(n||(r.theme&&(o.theme=r.theme??{}),r.dsKit&&(o.dsKit=r.dsKit),r.jsx&&(o.jsx+=r.jsx),r.trace&&(o.trace=r.trace),r.presets&&(o.presets=r.presets),!i()))break;t(o)}}finally{a.releaseLock()}});function p(e){return Object.keys(e).reduce((t,i)=>(t[i.toLowerCase()]=e[i],t),{})}async function m(e){let t=await e.loadImagesAndExport([{imageType:"PNG",constraint:{type:"CONTENT_WIDTH",value:Math.min(e.size.x,function(e,t=1024){return e.size.y>e.size.x?Math.floor(t*e.size.x/e.size.y):t}(e))},contentsOnly:!0,useAbsoluteBounds:!1,colorProfile:"DOCUMENT"}]),i=`data:image/png;base64,${(0,n.lF)(t)}`,r=(0,a.YJ)({nodeIds:[e.guid],options:{skipNodeIds:!1,includeName:!0,detachInstances:!0,componentUsageOrDefinition:"DEFINITION",autoLayoutTagName:"div",frameTagName:"div"}});if(!r.jsxStr)throw Error(`Could not get node JSX for node ID: ${e.guid}`);return{base64:i,jsx:r.jsxStr}}(0,l.n)(async function(e){return(await o.Gh.postFirstDraftMatchPresetModes({kit_key:e.kitKey,is_local:e.isLocal,user_prompt:e.userPrompt})).data.meta})},912149:(e,t,i)=>{i.d(t,{w:()=>a});var n=i(538504),r=i(372672);function a({rolesToDefaultToOther:e}={}){let t=r.iZ()?.profile.job_title,i=(0,n.HB)(t);return e&&e.includes(i)?"other":i}},228122:(e,t,i)=>{i.d(t,{M:()=>c});var n=i(486106),r=i(944059),a=i(536384),s=i.n(a),o=i(675859),l=i(36414),d=i(357202);function c(e){if(!e.dragState?.dragPosition||!e.dragState?.dragOffset)return null;let t=e.dragState.dragPosition.subtract(e.dragState.dragOffset),i=(0,l.AE)(e.dragState.draggingResource);return(0,r.createPortal)(void 0!==e.icon?(0,n.jsx)("div",{className:s()(d.Az,{[d.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:t.x,top:t.y,width:e.dragState.draggingThumbSize?.x,height:e.dragState.draggingThumbSize?.y},children:e.icon}):(0,n.jsx)(o.oW,{src:i,alt:"",className:s()(d._D,{[d.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:t.x,top:t.y,width:e.dragState.draggingThumbSize?.x,height:e.dragState.draggingThumbSize?.y},draggable:!1}),document.getElementById("fullscreen-root"))}},139332:(e,t,i)=>{i.d(t,{V7:()=>o,kg:()=>s});var n=i(465776);let r=["Table","CodeBlock","MindMap","Text","Section"],a=["Timer","Image","Link"];function s(e){return"string"==typeof e&&r.includes(e)}function o(e){return s(e)||"string"==typeof e&&a.includes(e)?e:"object"==typeof e&&e.id&&e.name&&e.img?"FaceStamp":void(0,n.xb)(e)}},36414:(e,t,i)=>{i.d(t,{AE:()=>h,E:()=>f,Ik:()=>g});var n=i(465776),r=i(169182),a=i(954027),s=i(806412),o=i(303541),l=i(976749),d=i(42189),c=i(192343),u=i(851577),p=i(645480),m=i(139332);function h(e){switch(e){case"Table":return(0,r.ck)("ac41ded88c50f0359c02ec3927394b7b33e210b6");case"CodeBlock":return(0,r.ck)("8a035152916712353b045f442c2c6c5879ef3e17");case"MindMap":return(0,r.ck)("1dd4c6f9e1fbf269895ee58e7be79d9f9ee79b9e");default:return""}}function f(e){switch(e){case"Table":return(0,o.t)("whiteboard.inserts.table_title");case"CodeBlock":return(0,o.t)("whiteboard.inserts.code_block_title");case"MindMap":return(0,o.t)("whiteboard.inserts.mind_map_title");case"Text":return(0,o.t)("whiteboard.inserts.text_title");case"Section":return(0,o.t)("whiteboard.inserts.section_title");default:(0,n.xb)(e)}}function g(e){let t="whiteboard"===(0,l.lg)(),i=(0,c.F5)(),n=(0,m.V7)(e.resource),r=async r=>(e.insertAction(r),t&&(0,c.oM)({type:d.p.MORE,id:n,source:e.triggeredFrom,options:{...i,query:e.searchQuery}}),await Promise.resolve());return(0,u.t)({resource:e.resource,draggingThumbMaxDimensions:e.draggingThumbMaxDimensions,onDragStart:e.onDragStart,isDraggingDisabled:e.isDraggingDisabled,recomputeCancelRectsOnPointerUp:e.recomputeCancelRectsOnPointerUp,clickToInsert_DEPRECATED:e.clickToInsert_DEPRECATED,afterSuccessfulInsert:e.afterSuccessfulInsert},{insertAction:r,dragPreviewPointerPosition:p.N.CENTERED,getDragPreviewSrc:e.icon?()=>"data:image/svg+xml;utf8,"+(0,a.F)(e.icon):()=>h(e.resource),recordingKey:s.Pt(e.triggeredFrom,"whiteboardResource",n)})}},705473:(e,t,i)=>{i.d(t,{x:()=>r});var n=i(7378);function r(e,t="0px"){let i="IntersectionObserver"in window,[a,s]=(0,n.useState)(!i);return(0,n.useEffect)(()=>{if(!i||!e.current)return;let n=e.current,r=new IntersectionObserver(([e])=>{s(e.isIntersecting)},{rootMargin:t});return r.observe(n),()=>{r.unobserve(n)}},[e,t,i]),a}},255781:(e,t,i)=>{i.d(t,{V6:()=>k,Bc:()=>S});var n=i(486106),r=i(435788),a=i(700578),s=i(27355),o=i(407919),l=i(714362),d=i(303541),c=i(302958),u=i(738636),p=i(922405),m=i(223206),h=i(314264),f=i(766303),g=i(191312),_=i(915202),x=i(632248),y=i(763686),b=i(594947);let C={FULLSCREEN_UNAVAILABLE:"fullscreen-unavailable",SINGLE_FRAME_REQUIRED:"single-frame-required",MISSING_REQUIRED_DATA:"missing-required-data",SOMETHING_WENT_WRONG:"something-went-wrong",EXCEEDS_MAKE_PASTE_THRESHOLD:"exceeds-make-paste-threshold"};function v({entryPoint:e,userId:t,fileKey:i,fileVersion:n,pageGuid:r,selectedNodeId:a}){return{entryPoint:e,userId:t,fileKey:i||void 0,fileVersion:n,pageGuid:r,selectedNodeId:a}}function E(e,t,i){let{fileKey:n,fileVersion:r,pageGuid:a,selectedNodeId:s,entryPoint:o,userId:u}=i;t===C.SOMETHING_WENT_WRONG&&(0,l.x1)("sendToMakeFromDesign","Unable to fetch required data to create a new Make file",{fileKey:n,fileVersion:r,pageGuid:a,selectedNodeId:s},{reportAsSentryError:!0}),T({fileKey:n,pageGuid:a,selectedNodeId:s,entryPoint:o,userId:u,status:"error",error:t,exceedsMakePasteThreshold:!1}),e(c.F.enqueue({message:t===C.EXCEEDS_MAKE_PASTE_THRESHOLD?(0,d.t)("figmake.send_to_make_from_design.error.exceeds-make-paste-threshold"):(0,d.t)("figmake.send_to_make_from_design.error.something-went-wrong"),type:"send-to-make-from-design-error",error:!0}))}function T({userId:e,entryPoint:t,status:i,pageGuid:n,selectedNodeId:r,error:a,fileKey:s,exceedsMakePasteThreshold:o}){(0,h.Cu)({trackingContext:`${t} > SendToMakeFromDesign`,text:"Send to Figma Make",pageId:n,nodeId:r,userId:e,fileKey:s,status:i,error:a,exceedsMakePasteThreshold:o})}let w=!1,j=(e,t)=>({flags:["edit","design"],callback:(i,n,r)=>{if(w)return;w=!0;let l=o.D.getState(),d=(0,a.UN)(),c=l.openFile?.key,p=l.user?.id,h=l.fileVersion,x=d.getCurrentPage()?.guid,j={entryPoint:e,userId:p,fileKey:c,fileVersion:h,pageGuid:x},S=d.getDirectlySelectedNodes();if(1!==S.length){E(r,C.SINGLE_FRAME_REQUIRED,v(j)),w=!1;return}let k=S?.[0]?.guid;if(!c||null===h||!x||!k){E(r,C.MISSING_REQUIRED_DATA,v({...j,selectedNodeId:k})),w=!1;return}try{let i=function({fileKey:e,fileVersion:t,pageGuid:i,selectedNodeId:n}){if(!e||!t||!i||!n)throw Error(C.SOMETHING_WENT_WRONG);let r=function(){let e=(0,b.gP)("make_large_paste_threshold").get("sizeBytes",25e4);return y.glU?.isActiveCanvasSelectionWithinThreshold(e)??null}();if(null===r)throw Error(C.FULLSCREEN_UNAVAILABLE);return{fileKey:e,fileVersion:t,pageGuid:i,selectedNodeId:n,exceedsMakePasteThreshold:!r}}({fileKey:c,fileVersion:h,pageGuid:x,selectedNodeId:k});!function({validatedParams:e,newFileFrom:t,dispatch:i}){let n=s.zl.set(m.DM,{fileKey:e.fileKey,fileVersion:e.fileVersion,pageGuid:e.pageGuid,selectedNodeId:e.selectedNodeId,exceedsMakePasteThreshold:e.exceedsMakePasteThreshold}),r=o.D.getState(),a=(0,f.Kl)(r);i((0,u.zE)({state:a,from:t,editorType:g._Y.FIGMAKE,team:void 0,openNewFileIn:_.ai.NEW_TAB,newFileDataLocalStorageKey:n}))}({validatedParams:i,newFileFrom:t,dispatch:r}),T({entryPoint:e,pageGuid:x,selectedNodeId:k,userId:p,fileKey:c,status:"success",exceedsMakePasteThreshold:i.exceedsMakePasteThreshold})}catch(e){E(r,e instanceof Error?e.message:C.SOMETHING_WENT_WRONG,v({...j,selectedNodeId:k}))}finally{w=!1}}}),S={action:x.i0,tags:[p.$.AI],iconType:(0,n.jsx)(r.t,{}),searchSynonyms:["send to make","export to make","create make file","figma make","figmake"],...j("AI Quick Actions V2",_.f6.SEND_TO_MAKE_FROM_DESIGN_QA_V2_MENU)},k={name:"send-to-make-from-design",...j("SelectionContextMenu",_.f6.SEND_TO_MAKE_FROM_DESIGN_CONTEXT_MENU)}},635666:(e,t,i)=>{i.d(t,{OS:()=>u,_2:()=>d,w$:()=>c});var n=i(486106),r=i(449184),a=i(257703),s=i(303541),o=i(516028),l=i(120294);let d="audio-paywall-key",c=(()=>{let e=!0,t=!1;return i=>{t||setTimeout(()=>{i>0&&e?(e=!1,(0,r.sx)("Context Viewed",{name:"join-call-with-others"})):e||0!==i||(t=!0,(0,r.sx)("Context Viewed",{name:"should-close-open-audio-nux"}))},200)}})();function u(){let e;let t=(0,o.q5)(),{userIdsInCall:i}=(0,l.W5)(t?.key||null),r=(0,l.bF)(i,t?.key||null).map(e=>e.name);e=r.length>3?[...r.slice(0,2),(0,s.t)("collaboration.voice.n_others",{numUsers:r.length-2})]:r;let d=(0,n.jsx)(a.T,{children:e});return(0,s.tx)("collaboration.voice.are_talking_in_this_file",{numVoiceUsers:e.length,voiceUserNames:d,joinText:(0,n.jsx)("b",{children:(0,s.tx)("collaboration.voice.join_lower")})})}},924869:(e,t,i)=>{i.d(t,{A:()=>le});var n=i(486106),r=i(7378),a=i(601108),s=i(778880),o=i(257275),l=i(459490),d=i(60600),c=i(473493),u=i(88239),p=i(514228),m=i(985254),h=i(831799),f=i(621515),g=i(268271),_=i(696396),x=i(152487),y=i(6204),b=i(443068),C=i(438674),v=i(521428),E=i(251970);let T=(0,r.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.015 3.441 5.7 4.701l-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0L7.3 6.3l1.26-.315c.505-.126.505-.844 0-.97L7.3 4.7l-.315-1.26c-.126-.505-.844-.505-.97 0m0 12L5.7 16.7l-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0L7.3 18.3l1.26-.315c.505-.126.505-.844 0-.97L7.3 16.7l-.315-1.26c-.126-.505-.844-.505-.97 0M5.7 10.7l.315-1.26c.126-.505.844-.505.97 0L7.3 10.7l1.26.315c.505.126.505.844 0 .97L7.3 12.3l-.315 1.26c-.126.505-.844.505-.97 0L5.7 12.3l-1.26-.315c-.505-.126-.505-.844 0-.97zM10.5 5a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 6a.5.5 0 1 0 0 1h9a.5.5 0 0 0 0-1zm0 6a.5.5 0 1 0 0 1h9a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var w=i(763686),j=i(249071),S=i(27355),k=i(29104),I=i(589278),N=i(303541),A=i(984674),O=i(571209),L=i(741237),R=i(62612),M=i(129884),D=i(759243),P=i(402783),F=i(295369),B=i(584673),U=i(659371),G=i(700578),H=i(761984);let z=(e,t)=>e.filter(e=>t.get(e));var V=(e=>(e.DismissImmediately="dismiss-immediately",e.NoAutoDismiss="no-auto-dismiss",e.StartAutoDismissTimer="start-auto-dismiss-timer",e.noop="no-op",e))(V||{}),K=i(101849);function W(e){return r.useMemo(()=>{if(!e)return!0;let{data:t}=(0,K.b7)((0,G.UN)());return JSON.stringify(t.map(e=>({t:e.t,id:e.id,type:e.type,stamps:e.stamps}))).length>12e3},[e])}var q=i(90566);function Y(e=2e3){let t=(0,p.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),[i,n]=r.useState({hasDebounceSettled:!1,numNodesSelected:void 0}),a=(0,q.A)(e=>{n({hasDebounceSettled:!0,numNodesSelected:e})},e);r.useEffect(()=>{n({hasDebounceSettled:!1,numNodesSelected:t}),a(t??0)},[a,t]);let s=i.numNodesSelected!==t;return i.hasDebounceSettled&&!s}var X=i(847014);function J({onClose:e,onSummarize:t,onAutoDismiss:i}){let a;let s=Y(500),o=W(s),{lastSummarizableSelection:l}=function({onAutoDismiss:e,selectionIsStable:t}){let i=(0,H.cF)(),[n,a]=(0,r.useState)(0),s=(0,p.d4)(e=>e.mirror.sceneGraphSelection),o=r.useMemo(()=>Object.entries(s).filter(([e,t])=>t).map(([e,t])=>e),[s]),[l,d]=(0,r.useState)([]),c=(0,G.UN)(),u=0===o.length&&l.length>0&&!z(l,c).length;return(0,r.useEffect)(()=>{switch(function({currentAutoDismissTimeoutId:e,stickySummarizationEnabledForSelection:t,lastSummarizableSelectionHasBeenDeleted:i,selectionSize:n,canRecomputeAutoDismissAction:r}){if(0===n&&i)return"dismiss-immediately";if(r){if(t)return"no-auto-dismiss";if(!e)return"start-auto-dismiss-timer"}return"no-op"}({currentAutoDismissTimeoutId:n,stickySummarizationEnabledForSelection:i,lastSummarizableSelectionHasBeenDeleted:u,selectionSize:o.length,canRecomputeAutoDismissAction:t})){case V.DismissImmediately:window.clearTimeout(n),a(0),e();break;case V.NoAutoDismiss:d(o),window.clearTimeout(n),a(0);break;case V.StartAutoDismissTimer:a(window.setTimeout(()=>{e()},1e4))}},[o.length,o,i,u,n,t,e]),{lastSummarizableSelection:l}}({onAutoDismiss:i,selectionIsStable:s});(0,r.useEffect)(()=>{S.zl.set(X.EH,e=>e+1),S.zl.set(X.ji,()=>new Date().toISOString())},[]);let{summarizeCanvasSelection:d}=(0,P.ss)(w.cfv.ABOVE,!1,"DISCOVERY_NUDGE"),c=(0,U.Cb)(),u=(0,S.Xr)(F.v),m=s&&o;m&&(a=(0,N.t)("whiteboard.ai_summary.nudge.too_many_tokens"));let h=(0,r.useRef)(null),f=(0,R.ni)(),g=(0,O.FQ)(h,8);return(0,r.useLayoutEffect)(()=>{let e=h.current;if(!e)return;let t=f.y-8,i=j.r.fromOriginAndSize(f.x,t,f.width,f.height),n=e.getBoundingClientRect(),r=g(j.r.fromOriginAndSize(i.right()-n.width-12,i.top()+20,n.width,n.height),i);if(n.x<0||n.y<0){let t=new Animation(new KeyframeEffect(e,[{transform:`translateX(${r.left()}px) translateY(-250px)`},{transform:`translateX(${r.left()}px) translateY(${r.top()}px)`}],{duration:600}));t.onfinish=()=>{e.style.transform=`translateX(${r.left()}px) translateY(${r.top()}px)`},t.play()}else e.style.transform=`translateX(${r.left()}px) translateY(${r.top()}px)`},[h,-250,f,g]),(0,n.jsxs)("div",{ref:h,className:"ai_summary_nudge--container--Xt3Ld",children:[(0,n.jsxs)("div",{className:"ai_summary_nudge--topContent--EYXY0",children:[(0,n.jsxs)("div",{className:"ai_summary_nudge--topBar--3FRaK",children:[(0,n.jsx)("span",{className:I.s.textHeadingMedium.$,children:(0,N.tx)("whiteboard.ai_summary.nudge.title")}),(0,n.jsx)("div",{className:"ai_summary_nudge--closeButton--2Lr8q",children:(0,n.jsx)(b.K,{onClick:e,"aria-label":(0,N.t)("general.close"),htmlAttributes:{"data-testid":"close-button"},children:(0,n.jsx)(E.A,{})})})]}),(0,n.jsx)("div",{className:I.s.textBodyLarge.colorTextSecondary.$,children:(0,N.tx)("whiteboard.ai_summary.nudge.subtitle")}),(0,n.jsxs)("div",{className:"ai_summary_nudge--numberContainer--JqUxZ",children:[(0,n.jsx)(Q,{num:1}),(0,n.jsx)(Q,{num:2})]}),(0,n.jsx)(Z,{disabled:m,disabledTooltip:a,"data-testid":"summarize-button",onClick:()=>{L.wr(),L.Dh(l),d(),t(),c&&u(!0)},trackingProperties:{text:"summarize"}})]}),(0,n.jsx)("div",{className:"ai_summary_nudge--middlePerforation--z5eDN"}),(0,n.jsx)("div",{className:"ai_summary_nudge--bottomContent--EiPHE",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:I.s.textBodyMedium.colorTextSecondary.mr2.$,children:(0,N.tx)("whiteboard.ai_summary.nudge.disclaimer")}),(0,n.jsx)(C.N,{href:B.nG,newTab:!0,trusted:!0,children:(0,N.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta")})]})}),(0,n.jsx)("div",{className:"ai_summary_nudge--bottomPerforation---VeRC"})]})}let Z=(0,h.tf)(function({onClick:e,disabled:t,disabledTooltip:i}){let r=(0,k.a)()?(0,N.t)("whiteboard.inline_menu.ai_quick_actions_beta_badge_text"):"";return(0,n.jsx)(h.fu,{name:"AI Summary Nudge CTA",properties:{disabled:t},children:(0,n.jsx)(v.Pw,{onClick:e,variant:"primary",htmlAttributes:{"data-testid":"summarize-button","data-tooltip":t?i:"","data-tooltip-type":M.Ib.TEXT},disabled:t,children:(0,n.jsxs)("div",{className:"ai_summary_nudge--buttonContents--oUSGP",children:[(0,n.jsx)("span",{className:"ai_summary_nudge--buttonIcon--X-QPt",children:(0,n.jsx)(T,{})}),(0,N.tx)("whiteboard.ai_summary.nudge.cta"),(0,n.jsx)("div",{className:"ai_summary_nudge--badgeWrapper--QRaRq",children:(0,n.jsx)(D.v,{location:t?"SUMMARIZE_NUDGE_DISABLED":"SUMMARIZE_NUDGE",overrideText:r})})]})})})});function Q({num:e}){let t=184/e;return(0,n.jsxs)("div",{className:"ai_summary_nudge--numberGraphic--CnM2r","aria-hidden":"true",children:[(0,n.jsx)(A.E,{fontSize:14,color:"secondary",children:e}),(0,n.jsx)("div",{className:"ai_summary_nudge--textPlaceholder--tx2Yp",style:{width:`${t}px`}})]})}function $(){let e=(0,p.d4)(e=>e.mirror.selectionProperties.whiteboardSelectionCanShowAiSummaryNudge),t=Y(),i=W(t);return t&&e&&!i}var ee=i(723791),et=i(967857);function ei(){let e=(0,p.wA)(),{isShowing:t,complete:i}=function(){let e=function(){let e=function(){let e=(0,S.md)(et.Bl),t=(0,S.md)(X.xo),i=(0,S.md)(X.MC),n=(0,S.md)(X.ji),a=(0,S.md)(X.EH);return r.useMemo(()=>{if("loaded"!==t.status||"loaded"!==i.status||"loaded"!==e.status||e.data)return(0,ee.gB)({isEligibleToShowUser:!1});let r=new Date(n).getTime()>Date.now()-864e5;return a>=3||t.data||i.data||r?(0,ee.gB)({isEligibleToShowUser:!1}):(0,ee.gB)({isEligibleToShowUser:!0})},[e,t,i,a,n])}(),t=$();return(0,ee.gB)({shouldShowNudge:!!(e.data.isEligibleToShowUser&&t)})}(),{show:t,isShowing:i,complete:n}=(0,f.e)({overlay:y.RSb,priority:g.N.SECONDARY_MODAL},[e]),a=$(),s=(0,p.d4)(e=>e.mirror.selectionProperties.numSelectedByType);return r.useEffect(()=>{t({canShow:e=>e.shouldShowNudge})},[t,e,s,a]),{isShowing:i,complete:n}}();return(0,n.jsx)(x.M,{isShowing:t,children:t&&(0,n.jsx)(h.fu,{name:_.e0.AI_SUMMARY_TOPBAR_NUDGE,children:(0,n.jsx)(J,{onClose:()=>{e(m.b({[X.l0]:!0})),i()},onSummarize:()=>{e(m.b({[X.zp]:!0})),e(m.b({[X.l0]:!0})),i()},onAutoDismiss:()=>{i()}})})})}var en=i(469876),er=i(37051),ea=i(516028),es=i(51637),eo=i(848232),el=i(53721),ed=i(920142),ec=i(864723),eu=i(940356);let ep=(0,S.eU)(!1);var em=i(302958),eh=i(576487),ef=i(314264),eg=i(444297),e_=i(191390);let ex="slides_visual_bell_entrypoint_dismissed_user_flag";function ey(){return!function(){let e=(0,p.wA)(),t=(0,eg.d)(),i=(0,eu.f)(ex),n=(0,e_.$)(),a=(0,e_.N)(),[s,o]=r.useState(!1),[l,d]=r.useState(!1),c=r.useCallback(()=>{e(em.F.enqueue({messageComponentKey:eh.Rw.SLIDE_CONVERSION_VISUAL_BELL,type:eh.Rw.SLIDE_CONVERSION_VISUAL_BELL,timeoutOverride:1e4,onDismiss:()=>{o(!0),e(m.b({[ex]:!0})),(0,ef.Cu)({trackingContext:"Slides conversion visual bell entrypoint",name:"slides_conversion_visual_bell_entrypoint_dismissed"}),e(em.F.enqueue({message:(0,N.t)("slides.visual_bell.we_wont_ask_you_again")}))}}))},[e]);r.useEffect(()=>{a.size||e(em.F.dequeue({matchType:eh.Rw.SLIDE_CONVERSION_VISUAL_BELL}))},[e,a]),r.useEffect(()=>{i?.createdAt||s||!t||l||!(n>=3)||(c(),d(!0))},[c,i,s,l,n,t])}(),null}var eb=i(525001),eC=i(169182),ev=i(566045),eE=i(156213),eT=i(272488),ew=i(370443),ej=i(453826),eS=i(579169),ek=i(545877),eI=i(165519),eN=i(472146),eA=i(625596),eO=i(129046),eL=i(482718),eR=i(11928);let eM=(0,ek.r1)(eA.IR);function eD(){let e=(0,eb.md)(eS.mp),t=(0,eb.md)(eS.t),i=(0,eb.md)(eM),r=(0,eb.md)(ea.yV),a=(0,p.wA)(),{uniqueId:s,isShowing:o,show:l,complete:d}=(0,f.e)({overlay:y.B14,priority:g.N.SECONDARY_MODAL},[e,t,i]),c=(0,eT.hn)();return(0,ej.E)(s,"properties-panel-select-tab",e=>{e.properties?.tab==="prototype"&&l({canShow:(e,t,i)=>(function(e){let t=Date.now();return e.getTime()<=t-2592e6})(e)&&t&&c()&&!i})}),(0,n.jsx)(eL.X,{description:(0,N.tx)("upsell.advanced_prototyping.description"),isShowing:o,media:(0,n.jsx)(eO.w,{src:(0,eC.ck)("30507591ad5cd385aaf75d4a16ef140b74ec821b"),aspectRatio:1.75}),onClose:d,position:eR.Q.BOTTOM_RIGHT,primaryCta:{label:(0,N.tx)("upsell.advanced_prototyping.see_plans"),type:"button",onClick:()=>{a(eE.to({type:ev.V,data:{upsellSource:eI.b.ADVANCED_PROTOTYPING_UPSELL,teamId:r?.team?.id,openCheckoutInNewTab:!0,featureList:(0,eN.xp)(eN.Q1.filter(e=>e!==eN.Xj.AUDIO_CONVERSATIONS),eN.Xj.ADVANCED_PROTOTYPING)}})),d()},ctaTrackingDescriptor:ew.c.SEE_PLANS},secondaryCta:{label:(0,N.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/14506587589399-Use-variables-in-prototypes",ctaTrackingDescriptor:ew.c.LEARN_MORE},title:(0,N.tx)("upsell.advanced_prototyping.title"),trackingContextName:"Advanced Prototype Upsell Popup",userFlagOnShow:eA.IR})}var eP=i(635666),eF=i(425180);let eB="seen_audio_nux",eU=(0,ek.r1)(eB);function eG(){let e=(0,S.md)(eU),t=(0,f.e)({overlay:y.y4J,priority:g.N.SECONDARY_MODAL},[e]);return(0,ej.E)(t.uniqueId,"Context Viewed",e=>{let i=e.properties?.name;"join-call-with-others"===i?t.show({canShow:e=>!e}):"should-close-open-audio-nux"===i&&t.isShowing&&t.complete()}),(0,ej.E)(t.uniqueId,"Lost DOM Target",()=>{t.isShowing&&t.complete()}),(0,n.jsx)(eF.rq,{isShowing:t.isShowing,userFlagOnShow:eB,emphasized:!0,title:(0,N.tx)("collaboration.voice.join_the_conversation"),description:(0,n.jsx)("div",{style:{display:"inline"},children:(0,n.jsx)(eP.OS,{})}),targetKey:"audio-nux-key",onClose:t.complete,trackingContextName:"audio_nux_pointer"})}var eH=i(722362),ez=i(956262),eV=i(829197),eK=i(366117),eW=i(455766),eq=i(284399),eY=i(452252),eX=i(121043),eJ=i(192664),eZ=i(598952),eQ=i(450829),e$=i(828908),e0=i(445054),e1=i(844435),e2=i(622881),e3=(e=>(e[e.DONT_SHOW=0]="DONT_SHOW",e[e.DEFAULT_TO_SRGB=1]="DEFAULT_TO_SRGB",e[e.DEFAULT_TO_DISPLAY_P3=2]="DEFAULT_TO_DISPLAY_P3",e))(e3||{});let e5={"Export PNG with Color Profile":"867977941678289774"};function e4(){let{plugins:e}=(0,e1.wH)(),t=Object.fromEntries(Object.entries(e5).filter(([t,i])=>Object.values(e).some(e=>e.manifest.id===i)));return Object.keys(t).length>0?t:null}function e6(){let e=(0,e2.Av)();return(0,e2.tK)(e)}let e7=(0,S.eU)(null),e8="color_management_default_to_p3_modal--onboardingFooter--VSeAU",e9="color_management_default_to_p3_modal--content--FzYUr",te="seen_color_management_default_to_p3_modal",tt=eZ.tO,ti=eY.O0,tn="color_management_default_to_p3_modal";function tr(){let e=(0,f.e)({overlay:y.t_E,priority:g.N.SURVEY}),{currentStep:t,next:i,back:a}=(0,ez.A)({numSteps:2,onComplete:e.complete}),s=(0,eu.f)(te),[o]=(0,e$.jJ)(),l=e6(),d=e4(),[c,u]=(0,S.fp)(e7),p=(0,eV.jK)(),[m,h]=(0,r.useState)(!1),[_]=(0,S.fp)(eJ.n$),x=(0,eV.C$)();return r.useEffect(()=>{s||null!=c||p.colorProfilePreference!==eK.M.DEFAULT||(u(eK.M.DISPLAY_P3),x(eK.M.DISPLAY_P3,{canSeeP3:l,desktopSetting:o,p3Plugins:d}),e.show())},[l,c,o,s,e,d,u,x,p.colorProfilePreference]),(0,ej.E)(e.uniqueId,eX.kF,()=>{e.isShowing&&0===t&&e.complete()}),(0,ej.E)(e.uniqueId,eY.nu,()=>{e.isShowing&&1===t&&e.complete()}),(0,ej.E)(e.uniqueId,eX.kL,()=>{m||e.isShowing||0!==t||_||(i(),e.show())}),(0,ej.E)(e.uniqueId,eJ.E1,()=>{m||e.isShowing||0!==t||(i(),e.show())}),(0,n.jsxs)(eW.U,{currentStep:t,isShowing:e.isShowing,children:[(0,n.jsx)(eq.h,{ctaText:(0,N.tx)("general.next"),element:ta,isShowing:e.isShowing,modalType:eQ.q3.ANNOUNCEMENT_POINTER,onClickPrimaryCta:i,onClose:e.complete,onManualDismiss:()=>{e.complete(),h(!0)},onboardingKey:tt,stepCounter:(0,n.jsx)("span",{className:e8,children:(0,N.tx)("fullscreen.color_management.curator.step_1of2")}),title:(0,n.jsx)(n.Fragment,{children:(0,N.tx)("fullscreen.color_management.curator.default_to_p3.user_color_profile.title")}),trackingContextName:tn,userFlagOnShow:te,width:300}),(0,n.jsx)(eq.h,{ctaText:(0,N.tx)("general.got_it"),element:ts,isShowing:e.isShowing,modalType:eQ.q3.ANNOUNCEMENT_POINTER,onClickPrimaryCta:()=>{e.complete(),h(!0)},onClose:e.complete,onManualDismiss:()=>{e.complete(),h(!0)},onboardingKey:ti,preventDismissOnClickSecondaryCta:!0,secondaryCtaText:(0,n.jsx)("div",{onClick:a,children:(0,N.tx)("general.previous")}),stepCounter:(0,n.jsx)("span",{className:e8,children:(0,N.tx)("fullscreen.color_management.curator.step_2of2")}),title:(0,n.jsx)(n.Fragment,{children:(0,N.tx)("fullscreen.color_management.curator.change_document_color_profile.title")}),trackingContextName:tn,userFlagOnShow:te,width:300})]})}function ta(){return(0,n.jsxs)("p",{className:e9,children:[(0,N.tx)("fullscreen.color_management.curator.default_to_p3.user_color_profile.content",{colorProfileSetting:(0,n.jsx)("strong",{children:(0,N.tx)("fullscreen.color_management.curator.color_profile_setting")})})," ",(0,n.jsx)(C.N,{newTab:!0,href:e0.s,children:(0,N.tx)("rcs.rcs_shared.learn_more")})]})}function ts(){return(0,n.jsxs)("p",{className:e9,children:[(0,N.tx)("fullscreen.color_management.curator.change_document_color_profile.content",{fileColorProfile:(0,n.jsx)("strong",{children:(0,N.tx)("fullscreen.color_management.curator.file_color_profile")})})," ",(0,n.jsx)(C.N,{newTab:!0,href:e0.s,children:(0,N.tx)("rcs.rcs_shared.learn_more")})]})}function to(){let[e]=(0,e$.jJ)(),t=e6(),i=e4(),[n,a]=(0,S.fp)(e7),s=(0,eV.jK)(),o=(0,eV.C$)();return r.useEffect(()=>{null==n&&s.colorProfilePreference===eK.M.DEFAULT&&(a(eK.M.SRGB),o(eK.M.SRGB,{canSeeP3:t,desktopSetting:e,p3Plugins:i}))},[t,n,e,i,a,o,s.colorProfilePreference]),null}function tl(){let e=function(){let e=(0,eV.jK)().colorProfilePreference!==eK.M.DEFAULT,t=function(){let[e]=(0,e$.jJ)(),t=e6(),i=e4();return t&&i&&["unmanaged","default",null].includes(e)?eK.M.DISPLAY_P3:eK.M.SRGB}(),[i]=(0,S.fp)(e7);return e&&null===i?0:t===eK.M.SRGB?1:t===eK.M.DISPLAY_P3?2:0}();if(!function(e){let t=(0,eH.aV)(),[i,n]=function(e){let[t,i]=r.useState(!1),[n,a]=r.useState(!1);return r.useEffect(()=>{let e;return n&&(e=setTimeout(()=>{i(!t),a(!1)},2e3)),()=>clearTimeout(e)},[n,t,2e3]),[t,r.useCallback(()=>a(!0),[])]}(2e3);return r.useEffect(()=>{t||n()},[t,n]),i}(0))return null;switch(e){case e3.DONT_SHOW:return null;case e3.DEFAULT_TO_SRGB:return(0,n.jsx)(to,{});case e3.DEFAULT_TO_DISPLAY_P3:return(0,n.jsx)(tr,{})}}var td=i(622574),tc=i(186343),tu=i(167249),tp=i(559280),tm=i(957169);function th(){let e=(0,f.e)({overlay:y.qnr,priority:g.N.DEFAULT_MODAL}),t=(0,p.wA)(),i=(0,p.Pj)(),a=(0,tu.Fk)((e,t)=>(0,tc.zC)(e,t),i.getState().mirror.appModel.currentPage),s=(0,td.JU)((0,td.J3)()),o=!!ea.q5()?.template,l=(0,eH.aV)(),d=!!(0,eu.f)("seen_custom_template_publish_nudge"),c=eu.f("figjam_editor_onboarded")?.updatedAt?.getTime(),u=!!c&&c<Date.now()-12096e5,h=!l&&!d&&s&&!a&&!o&&u;return((0,r.useEffect)(()=>{h&&setTimeout(()=>{e.show(),t(m.b({seen_custom_template_publish_nudge:!0}))},1e3)},[t,e,h]),e.isShowing)?(0,n.jsx)(tp.i,{step:{modalType:eQ.q3.DRAGGABLE,element:tm.ZH,trackingContextName:"custom_template_publish_nudge",onboardingKey:eZ.v4,title:(0,n.jsx)("div",{className:I.s.font13.fontMedium.pl8.pt16.pb16.$,children:(0,N.tx)("whiteboard.inserts.custom_templates_header")}),width:300,disableFooter:!0,hideStepCounter:!0,disableHighlight:!0},onClickPrimaryCta:e.complete,onClose:e.complete,dismissModal:e.complete,dispatch:t}):null}var tf=i(449184),tg=i(876459),t_=i(612521),tx=i(207101);let ty=(0,ek.r1)("seen_desktop_download_modal_prompt"),tb=(0,ek.r1)("seen_desktop_download_modal_prompt_v2"),tC=(0,eS.tH)("used_desktop_app");function tv(){let e=(0,S.md)(ty),t=(0,S.md)(tb),i=(0,S.md)(eS.mp),r=(0,S.md)(tC),o=(0,a.k)().desktop_show_download_prompt,{isShowing:l,show:d,complete:c}=(0,f.e)({overlay:y.kmj,priority:g.N.DEFAULT_MODAL},[t,e,i]);if((0,tx.h)(()=>{tg.eD||r||!o||d({canShow:(e,t,i)=>(function(e){let t=Date.now();return e.getTime()<=t-12096e5})(i)&&!t})}),!l)return null;let u=()=>{c()};return(0,n.jsx)(eL.X,{description:(0,N.tx)("desktop_download_modal_prompt.level_up_your_workflow_with_tabs"),isShowing:l,media:(0,n.jsx)(eO.y,{aspectRatio:1.75,alt:"A graphic showing the desktop app with tabs",src:(0,eC.ck)("cedfb41ea4da3cb80d5d062e5b648aa1d6a5cf1b")}),onClose:u,position:eR.Q.BOTTOM_RIGHT,primaryCta:{label:(0,N.tx)("desktop_download_modal_prompt.get_the_desktop_app"),type:"button",onClick:()=>{(0,tf.sx)("desktop_modal_download_prompt_cta_clicked_v2"),u(),t_.Ay.redirect(`/download/desktop/${s.Ay.mac?"mac":"win"}`,"_blank")},ctaTrackingDescriptor:ew.c.DESKTOP_APP_DOWNLOAD},secondaryCta:{label:(0,N.tx)("desktop_download_modal_prompt.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/5601429983767-Guide-to-the-Figma-desktop-app",ctaTrackingDescriptor:ew.c.LEARN_MORE},title:(0,N.tx)("desktop_download_modal_prompt.download_the_figma_desktop_app"),trackingContextName:"Desktop Download Modal Prompt",userFlagOnShow:"seen_desktop_download_modal_prompt_v2"})}var tE=i(311375),tT=i(976749),tw=i(858282);function tj(){let{show:e,isShowing:t,complete:i,uniqueId:a}=(0,f.e)({overlay:y.Fwr,priority:g.N.DEFAULT_MODAL}),s=!!(0,u.hA)(),o=(0,tT.m0)(),l=(0,tE.uQ)();return(r.useEffect(()=>{t&&!l&&i()},[t,l,i]),(0,ej.E)(a,"focus_view_entry_point_onboarding_event",()=>{e()}),o&&!s&&l)?(0,n.jsx)(eF.rq,{arrowPosition:tw.F_.LEFT_TITLE,description:(0,N.tx)("dev_handoff.focus_view_entry_point_onboarding.description"),isCanvasNode:!0,isShowing:t,media:(0,n.jsx)(eO.y,{src:(0,eC.ck)("f5d721aeb450c7b47d78312d00881a9ed3044463"),alt:(0,N.t)("dev_handoff.focus_view_entry_point_onboarding.image"),aspectRatio:16/9}),onClose:i,onTargetLost:i,pointToTopEdge:!0,primaryCta:{label:(0,N.tx)("general.got_it"),onClick:i,type:"button",ctaTrackingDescriptor:ew.c.GOT_IT},targetKey:l,title:(0,N.tx)("dev_handoff.focus_view_entry_point_onboarding.title"),trackingContextName:"Focus view entry point onboarding overlay"}):null}var tS=i(487166),tk=i(615231),tI=i(67768),tN=i(772021),tA=i(116101),tO=i(101956),tL=i(120210),tR=i(912149),tM=i(372672),tD=i(192333),tP=i(59886),tF=i(330088);function tB(e){let{viewedSidebar:t,setViewedSidebar:i}=e,a=(0,p.wA)(),s=(0,tR.w)({rolesToDefaultToOther:["education"]}),o=(0,tP.j)(s);return r.useMemo(()=>{t||(i(!0),a(tA.En({initialX:0,initialY:0,pinned:tD.t.PINNED_AND_DOCKED_LEFT,initialSelectedCategory:o})))},[a,o,t,i]),(0,n.jsx)(n.Fragment,{})}function tU(){let e=(0,tM.TA)(),t=(0,ea.q5)(),i=(0,p.d4)(e=>e.mirror.appModel.currentPage),a=(0,tu.Fk)((e,t)=>(0,tc.zC)(e,t),i),s=(0,p.d4)(e=>!(0,tF.zP)(e.mirror.appModel.currentTool)),o=(0,tF.Uj)(t,e||""),l=(0,ek.Fu)("interacted_figjam_whats_new_v2_cta"),d=(0,S.md)(l),c=(0,S.md)(tO.wg),[u,m]=r.useState(!1),h=(0,f.e)({overlay:y.hsL,priority:g.N.HIGH_PRIORITY_MODAL},[d]);(0,tx.h)(()=>{h.show({canShow:e=>(0,tF.SS)(e)&&c&&(0,tF.ZQ)(t)&&a&&!s&&o})});let _=(0,tL.LR)(),x=()=>{_(),h.complete()};return(0,n.jsx)(eq.h,{isShowing:h.isShowing,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"FigJam Templates",element:()=>(0,n.jsx)(tB,{viewedSidebar:u,setViewedSidebar:m}),testId:"figjam_templates_whats_new_overlay",onClickPrimaryCta:h.complete,onClose:x,onManualDismiss:x})}var tG=i(354567),tH=i(609392),tz=i(520829),tV=i(585996),tK=i(211326),tW=i(617427),tq=i(668270),tY=i(908415);let tX="figjam_try_confirm_save_steps--descriptionBold--ou7xj";function tJ({dismissModal:e}){let t=(0,p.wA)(),i=(0,ea.tS)(),a=(0,p.d4)(e=>e.user?.email_validated_at),s=(0,p.d4)(e=>i?e.loadingState[tq.Q.loadingKeyForPayload({file_key:i})]:null),o=(0,p.d4)(e=>i?e.loadingState[tY.D.loadingKeyForPayload({fileKey:i})]:null),l=(0,tG.s)(),d=s===tz.r.LOADING||"loading"===l.status||o===tz.r.LOADING,c=s===tz.r.SUCCESS||o===tz.r.SUCCESS;if((0,r.useEffect)(()=>{c&&e()},[c,e]),!i||!a)return null;let u=(0,ed.A)(a).isAfter((0,ed.A)().subtract(5,"minutes"));return(0,n.jsx)("div",{className:"figjam_try_confirm_save_steps--modalContent--DezcS",children:(0,n.jsxs)("div",{className:"figjam_try_confirm_save_steps--textContent--9da6-",children:[(0,n.jsx)("h1",{className:"figjam_try_confirm_save_steps--headline--RRPzl text--fontPos20--Bcz97 text--_fontBase--QdLsd",children:(0,N.tx)("figjam_try.save_modal.headline")}),(0,n.jsx)(tV.k,{multiple:1}),(0,n.jsx)("p",{className:"figjam_try_confirm_save_steps--description--bpGw9 text--fontPos13--xW8hS text--_fontBase--QdLsd",children:u?(0,N.tx)("figjam_try.save_modal.new_team"):(0,N.tx)("figjam_try.save_modal.save_one_team",{share:(0,n.jsx)("p",{className:tX,children:(0,N.tx)("figjam_try.save_modal.share")}),file_duplicate:(0,n.jsx)("p",{className:tX,children:(0,N.tx)("figjam_try.save_modal.file_duplicates")})})}),(0,n.jsx)(tV.k,{multiple:3}),(0,n.jsx)(tW.lR,{onClick:()=>{"loaded"===l.status&&(0,ee.oA)(l.data?.deviceTryFile)?t(tY.D({fileKey:i})):t(tq.Q({file_key:i}))},disabled:d,trackingProperties:{buttonContext:"Let\u2019s jam"},children:(0,n.jsx)(tK.x,{isLoading:d,children:()=>(0,N.tx)("figjam_try.save_modal.cta")})})]})})}function tZ(){let e=(0,f.e)({overlay:y.JGK,priority:g.N.HIGH_PRIORITY_MODAL}),t=(0,S.md)(ea.yV),i=t?.isTryFile,a=(0,tG.s)(),[s,o]=r.useState(!1);return(0,r.useEffect)(()=>{e.isShowing&&!i&&e.complete()},[i,e]),(0,r.useEffect)(()=>{let t=(0,tH.QL)(eZ.ao.key)===eZ.ao.value,n="loaded"===a.status&&!!(0,ee.oA)(a.data?.deviceTryFile);t&&n&&!s?(e.show(),o(!0)):t&&i&&!n&&e.show()},[e,i,a,s]),(0,n.jsx)(eq.h,{isShowing:e.isShowing,trackingContextName:"Figjam Try Confirm Save Modal",modalType:eQ.q3.WELCOME,element:({dismissModal:e})=>(0,n.jsx)(tJ,{dismissModal:e}),onClickPrimaryCta:e.complete,onClose:e.complete,onManualDismiss:e.complete})}var tQ=i(437088),t$=i(38914),t0=i(272243),t1=i(482239);let t2="figjam_try_confirm_save--textContainer--9YaF4";function t3(){let[e,t]=r.useState(!1),{show:i,isShowing:a,complete:s}=(0,f.e)({overlay:y.XAb,priority:g.N.HIGH_PRIORITY_MODAL}),o=(0,S.md)(ea.yV),l=o?.isTryFile,d=(0,tG.s)(),c=(0,tH.QL)(eZ.ao.key)===eZ.ao.value,u=(0,S.md)(t1.N);return(0,r.useEffect)(()=>{!e&&c&&!l&&"loaded"===d.status&&ee.oA(d.data?.deviceTryFile)?.claimedAt&&ee.oA(d.data?.deviceTryFile)?.claimedByUserId!==u.data&&i()},[e,l,c,d,i,u]),(0,n.jsx)(x.M,{isShowing:a,children:(0,n.jsx)(t5,{onClose:()=>{s(),t(!0)},open:a})})}function t5(e){let t=tQ.hS({...e,preventUserClose:!0});return(0,n.jsx)(h.fu,{name:"figjam_try_device_already_claimed_overlay",children:(0,n.jsx)(t$.bL,{manager:t,width:420,height:"fixed",children:(0,n.jsx)(t0.vo,{children:(0,n.jsxs)(t0.nB,{padding:32,children:[(0,n.jsx)("div",{className:t2,children:(0,n.jsx)("h1",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedHeader--vNLRA text--fontPos20--Bcz97 text--_fontBase--QdLsd",children:(0,N.tx)("figjam_try.already_claimed_modal.header")})}),(0,n.jsx)(tV.k,{multiple:1}),(0,n.jsx)("div",{className:t2,children:(0,n.jsx)("div",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedDescription--WXdx- text--fontPos13--xW8hS text--_fontBase--QdLsd",children:(0,N.tx)("figjam_try.already_claimed_modal.description",{file_duplicate:(0,n.jsx)("p",{className:"figjam_try_confirm_save--googleTryDeviceAlreadyClaimedDescriptionBold--CZgl4",children:(0,N.tx)("figjam_try.already_claimed_modal.file_duplicate")})})})}),(0,n.jsx)(tV.k,{multiple:3}),(0,n.jsx)(tW.lR,{onClick:e.onClose,children:(0,N.tx)("figjam_try.already_claimed_modal.continue")})]})})})})}var t4=i(200830),t6=i(242339),t7=i(927871),t8=i(46310);let t9=(0,ek.r1)(t4.USER_FLAG_V2),ie=(0,eS.tH)("last_figjam_at"),it=(0,ek.r1)("dont_show_figjam_updates_in_figma_design");function ii(){let e=(0,S.md)(it),t=(0,S.md)(tO.wg),i=(0,S.md)(eS.mp),r=(0,S.md)(ie),a=(0,S.md)(t9),s=(0,S.md)(eS.Ot),o=(0,t6.jO)(),l=(0,f.e)({overlay:y.Ttn,priority:g.N.DEFAULT_MODAL},[e,i,a,s]);return(0,tx.h)(()=>{l.show({canShow:(e,i,n,a)=>{if(e||a)return!1;let s=(0,t8.f)({userCreatedAt:i,lastUsedFigjamDate:r,hasSeenOverlayV2:n});return(!t||o)&&s}})}),(0,n.jsx)(t7.xZ,{context:"editor",isShowing:l.isShowing,onClose:l.complete})}var ir=i(232298),ia=i(545022),is=i(594947),io=i(91703);function il(){let e=(0,p.wA)(),t=(0,p.d4)(e=>e.currentTeamId),i=(0,p.Pj)(),a=(0,S.md)(eS.t),s=(0,S.md)(tO.NZ),o=(0,t6.jO)(),l=(0,S.md)(tO.wg),{getConfig:d}=(0,is.I7)("exp_library_upsells_v2"),{isShowing:c,show:u,complete:m,uniqueId:h}=(0,f.e)({overlay:y.BrS,priority:g.N.DEFAULT_MODAL,experiment:{check:()=>d().get("show_library_upsell",!1),predicate:e=>e,postCheck:e=>!0}},[a]);(0,r.useEffect)(()=>{if(!c)return;let t=i.getState().leftPanel.activeTab;return e(io.FP({tab:w.xae.ASSETS})),()=>{e(io.FP({tab:t}))}},[e,i,c]);let _=(0,r.useCallback)(e=>{e.properties?.action==="copy_paste_from_different_file"&&l&&u({canShow:e=>e&&s&&o})},[l,u,s,o]),x=(0,r.useCallback)(()=>{c&&m()},[c,m]);return(0,ej.E)(h,"component_instance_inserted",_),(0,n.jsx)(eF.rq,{arrowPosition:tw.F_.LEFT_TITLE,description:(0,N.tx)("rcs.upsell_libraries.quickly_access_components"),emphasized:!0,isShowing:c,onClose:x,onTargetLost:x,primaryCta:{label:(0,N.tx)("rcs.upsell_libraries.see_plans"),type:"button",onClick:()=>{e(eE.to({type:ev.V,data:{teamId:t??void 0,upsellSource:eI.b.UPSELL_LIBRARIES_REUSE_COMPONENTS_OVERLAY,openCheckoutInNewTab:!0}})),x()},ctaTrackingDescriptor:ew.c.GOT_IT},secondaryCta:{label:(0,N.tx)("rcs.upsell_libraries.not_now"),type:"button",onClick:x,ctaTrackingDescriptor:ew.c.GOT_IT},targetKey:g.D,title:(0,N.tx)("rcs.upsell_libraries.reuse_components_across_all_files"),trackingContextName:"Upsell Libraries Reuse Components Overlay"})}var id=i(420927),ic=i(941192),iu=i(409121);let ip="seen_link_shortcut_overlay",im=(0,ek.r1)(ip);function ih(){let e=(0,p.wA)(),t=(0,eb.md)(im),{show:i,isShowing:a,complete:s,uniqueId:o}=(0,f.e)({overlay:y.v75,priority:g.N.DEFAULT_MODAL},[t]),l=iu.y.isApple(),d=r.useMemo(()=>(0,n.jsx)(id.S,{shortcut:l?"\u2318K":"Ctrl+K"}),[l]),c=r.useMemo(()=>(0,n.jsx)(id.S,{shortcut:l?"\u21E7\u2318U":"Shift+Ctrl+U"}),[l]);return(0,ej.E)(o,["show_link_shortcuts_overlay"],()=>{i({canShow:t=>(e(m.b({seen_link_shortcut_overlay:!0})),!t)})}),(0,n.jsx)(eL.X,{description:(0,n.jsxs)("div",{children:[(0,N.tx)("fullscreen.link_shortcuts_onboarding.description"),(0,n.jsxs)("ul",{className:I.s.py8.$,style:ic.sx.add({listStyle:"disc inside"}).$,children:[(0,n.jsx)("li",{children:(0,N.tx)("fullscreen.link_shortcuts_onboarding.show_actions_updated",{actionsKeyCommand:(0,n.jsx)("strong",{children:d})})}),(0,n.jsx)("li",{children:(0,N.tx)("fullscreen.link_shortcuts_onboarding.show_links_updated",{link:(0,n.jsx)("strong",{children:(0,N.tx)("fullscreen.link_shortcuts_onboarding.create_link")}),linkKeyCommand:c})})]})]}),isShowing:a,onClose:s,position:eR.Q.BOTTOM_RIGHT,primaryCta:{label:(0,N.tx)("fullscreen.link_shortcuts_onboarding.got_it"),type:"button",onClick:s,ctaTrackingDescriptor:ew.c.GOT_IT},testId:"linkShortcutOverlay",title:(0,N.tx)("fullscreen.link_shortcuts_onboarding.title"),trackingContextName:"Link Shortcuts Preference Onboarding Modal",userFlagOnShow:ip,width:350})}var ig=i(536384),i_=i.n(ig),ix=i(17223),iy=i(591738),ib=i(856036);let iC="dismissed_local_component_asset_panel_pointer",iv=(0,ek.r1)(iC);function iE(){let e=(0,p.wA)(),t=(0,tM.TA)(),i=(0,S.md)(tO.wg),a=(0,S.md)(iv),s=(0,S.md)(tO.NZ),o=(0,S.md)(tO.pQ),l=(0,S.md)(eS.t),d=(0,t6.jO)(),c=ea.q5()?.teamId==null,{isShowing:u,show:h,complete:_,uniqueId:x}=(0,f.e)({overlay:y.Smd,priority:g.N.SECONDARY_MODAL,experiment:{check:()=>(0,iy.Hz)(t??void 0),predicate:e=>e,postCheck:e=>!e}},[a,l,o]),b=(0,r.useCallback)(()=>{i&&h({canShow:(e,t,i)=>d&&t&&(i||s)})},[d,i,s,h]),C=(0,r.useCallback)(()=>{u&&(_(),e(m.b({[iC]:!0})))},[e,_,u]);return(0,ej.E)(x,"action_create_symbol",b),(0,ej.E)(x,"component_instance_inserted",C),(0,n.jsx)(eF.rq,{isShowing:u,targetKey:eZ.Qr,description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:I.s.pt6.mr36.$,children:c?(0,N.tx)("design_systems.assets_panel.drag_drop_component_draft"):(0,N.tx)("design_systems.assets_panel.drag_drop_component")}),(0,n.jsx)(ix.Jn,{onClick:C,innerText:(0,N.t)("general.close"),"aria-label":(0,N.t)("general.close"),className:i_()(ib.Rf,I.s.absolute.top0.right0.mr8.mt10.$)})]}),primaryCta:{label:(0,N.tx)("design_systems.assets_panel.got_it"),type:"button",onClick:C,ctaTrackingDescriptor:ew.c.GOT_IT},onClose:C,trackingContextName:"Local Component Asset Panel Pointer",arrowPosition:tw.F_.LEFT_TITLE,emphasized:!0,hideCloseButton:!0})}var iT=i(910117),iw=i(279527);let ij=(0,ek.r1)("seen_mobile_comment_download_modal_prompt");function iS(){let e=(0,p.wA)(),t=(0,S.md)(ij),i=(0,p.d4)(e=>e.userAnalyticsData?.is_active_mobile_user),s=(0,p.d4)(e=>e.user?.created_at),o=(0,ed.A)(s).add(14,"day").isSameOrAfter((0,ed.A)()),{isShowing:l,show:d,complete:c,uniqueId:u}=(0,f.e)({overlay:y.H2x,priority:g.N.DEFAULT_MODAL},[t]);if((0,ej.E)(u,iw.w,(0,r.useCallback)(()=>{d({canShow:e=>!!(0,a.k)().mobile_download_modal_prompts&&!e&&!o&&!i})},[d,i,o])),!l)return null;let m=()=>{iT.Ay.post("/api/send_mobile_download_email",{type:"comment"}),(0,tf.sx)("post_comment_mobile_app_download_prompt_email_me_cta_clicked"),c(),e(em.F.enqueue({message:(0,N.t)("rcs.mobile_comment_reply_upsell.email_sent")}))};return(0,n.jsx)(eL.X,{description:(0,N.tx)("mobile_download_prompts.scan_the_qr_code"),isShowing:l,media:(0,n.jsx)(eO.y,{aspectRatio:1.75,alt:"A graphic show mobile comments with a qr code",src:(0,eC.ck)("6c270bb31fb5af03393425b7f0a6462ec59d04ab")}),onClose:()=>{c()},position:eR.Q.BOTTOM_RIGHT,primaryCta:{label:(0,N.tx)("mobile_download_prompts.email_me"),type:"button",onClick:()=>m(),ctaTrackingDescriptor:ew.c.MOBILE_APP_DOWNLOAD_COMMENT_PROMPT_CLICKED},secondaryCta:{label:(0,N.tx)("mobile_download_prompts.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/1500007537281-Guide-to-the-Figma-mobile-app",ctaTrackingDescriptor:ew.c.LEARN_MORE},title:(0,N.tx)("mobile_download_prompts.never_miss_a_comment"),trackingContextName:"Mobile Comment Download Modal Prompt",userFlagOnShow:"seen_mobile_comment_download_modal_prompt"})}var ik=i(108485),iI=i(751989),iN=i(726467),iA=i(369349),iO=i(50098),iL=i(529989),iR=i(934246),iM=i(502364);function iD(e){return(0,n.jsx)("div",{className:"connector_modal_wrapper--connectorModalWrapper--uCUjA",children:e.children})}var iP=i(419216),iF=i(435916),iB=i(455680),iU=i(241650),iG=i(591377);let iH="onboard_figjam_viewer--contentContainer--t9zim",iz="onboard_figjam_viewer--imageContainer--rvqD8",iV="onboard_figjam_viewer--image--ZdwAA",iK="onboard_figjam_viewer--mainContent--8TgvP text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",iW="onboard_figjam_viewer--normal--HjE2J",iq="onboard_figjam_viewer--bold--kC3mV";class iY extends r.PureComponent{render(){let e=(0,n.jsxs)(n.Fragment,{children:[this.props.buttonText,!this.props.buttonText&&this.props.steps&&this.props.steps.current===this.props.steps.total&&(0,N.tx)("rcs.rcs_shared.done"),!this.props.buttonText&&this.props.steps&&this.props.steps.current<this.props.steps.total&&(0,N.tx)("rcs.figjam_onboarding.next")]});return(0,n.jsxs)("div",{className:iH,children:[(0,n.jsxs)("div",{style:ic.sx.add({width:`${this.props.imgContainerWidth}px`}).$,className:iz,children:[(0,n.jsx)("span",{className:"onboard_figjam_viewer--imgHelper--SJXYZ","aria-hidden":"true"}),(0,n.jsx)("img",{className:iV,src:this.props.imgSrc,alt:""})]}),(0,n.jsxs)("div",{className:i_()({[iK]:!0,[iW]:!this.props.isBold,[iq]:!!this.props.isBold}),children:[this.props.titleText&&(0,n.jsx)("div",{className:"onboard_figjam_viewer--title--k1Gpk",children:this.props.titleText}),(0,n.jsx)("div",{className:"onboard_figjam_viewer--text--xkcTB",children:this.props.bodyText}),(0,n.jsxs)("div",{className:"onboard_figjam_viewer--bottomContentRow--PgTeU",children:[(0,n.jsx)("div",{className:i_()({"onboard_figjam_viewer--secondaryText--THVcI":!0,[iW]:!this.props.isBold,[iq]:!!this.props.isBold}),children:this.props.steps?(0,N.tx)("rcs.rcs_shared.step_counter",{currentStepNum:this.props.steps.current,totalNumSteps:this.props.steps.total}):(0,n.jsx)(n.Fragment,{})}),this.props.isBold?(0,n.jsx)(iG.J,{onClick:this.props.onNext,autoFocus:!0,children:e}):(0,n.jsx)(tW.$z,{onClick:this.props.onNext,children:e})]})]}),(0,n.jsx)("div",{className:"onboard_figjam_viewer--closeButton--hm43f",children:(0,n.jsx)(b.K,{onClick:this.props.onDismiss,"aria-label":(0,N.t)("modal.close"),children:(0,n.jsx)(E.A,{className:this.props.isBold?iq:void 0})})})]})}}iY.displayName="FigJamOnboardingModal";var iX=i(57e3);let iJ=(0,eC.ck)("07ff49c75c8933ea70ff2e4776503291c31a35ef");function iZ(e){let t=(0,iU.O)();(0,r.useEffect)(()=>(iB.Y5.triggerAction("set-tool-hand",null),()=>iB.Y5.triggerAction("set-tool-default",null)),[]),(0,r.useEffect)(()=>(t({eventName:"hand_tooltip_shown"}),()=>t({eventName:"pan_zoom_completed"})),[t]);let i=(0,iy.Un)();return(0,n.jsx)(iD,{children:(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:iX.N,topPadding:-6,hasShadow:e.hasShadow,children:(0,n.jsx)(iY,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("rcs.figjam_onboarding.use_the_hand_tool_and_drag_to_move_around_hold_space_to_activate_it_anytime",{spaceKey:(0,n.jsx)("b",{children:(0,N.tx)("rcs.figjam_onboarding.space")})})}),onNext:e.onClickPrimaryCta,steps:{current:2,total:i?2:3},onDismiss:()=>{e.dismissModal(),t({eventName:"hand_tooltip_dismissed"})},imgSrc:iJ})})})}var iQ=i(596134);let i$=(0,eC.ck)("4e36d3bbbf8633fef1b86238f66bb1bf54f54d2a");function i0(e){let t=s.Ay.mac?(0,N.t)("rcs.figjam_onboarding.cmd"):(0,N.t)("rcs.figjam_onboarding.ctrl"),i=(0,iQ.v)()?-10:-3,a=(0,iy.Un)(),o=(0,iU.O)();return(0,r.useEffect)(()=>{o({eventName:"zoom_tooltip_shown"})},[o]),(0,n.jsx)(iD,{children:(0,n.jsx)(iP.Dv,{targetType:"dom",topPadding:i,targetKey:iX.q,hasShadow:e.hasShadow,children:(0,n.jsx)(iY,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("rcs.figjam_onboarding.pinch_to_zoom_on_a_trackpad_hold_command_while_scrolling_or_use",{commandKey:(0,n.jsx)("b",{children:t}),plusOrMinusKeys:(0,n.jsx)("b",{children:(0,N.tx)("rcs.figjam_onboarding.plus_or_minus")})})}),onNext:e.onClickPrimaryCta,steps:{current:1,total:a?2:3},onDismiss:()=>{e.dismissModal(),o({eventName:"zoom_tooltip_dismissed"})},imgSrc:i$})})})}function i1(e){return(0,n.jsx)(eq.h,{testId:e.testId?e.testId:"ZoomConnectorOverlay",modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Zoom",element:i0,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function i2(e){let t=(0,iy.Un)();return(0,n.jsx)(eq.h,{testId:e.testId?e.testId:"HandToolConnectorOverlay",modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Hand Tool",userFlagOnShow:t?"figjam_editor_onboarded":void 0,element:iZ,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}let i3=(0,eC.ck)("8f3066fc3906f11f2601a390725f2b7af58e01a1"),i5=[i1,i2,function(e){return(0,n.jsx)(eq.h,{testId:e.testId?e.testId:"ShareConnectorOverlay",modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Share",userFlagOnShow:"figjam_editor_onboarded",element:e=>(0,n.jsx)(iD,{children:(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:eZ.v4,topPadding:-6,children:(0,n.jsx)(iY,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("rcs.figjam_onboarding.invite_others_or_share_this_file_with_a_link_to_jam_with_your_team")}),onNext:e.onClickPrimaryCta,steps:{current:3,total:3},onDismiss:e.dismissModal,imgSrc:i3})})}),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}];var i4=i(2023),i6=i(828890),i7=i(877449),i8=i(989992),i9=i(288654),ne=i(191312),nt=i(43951);function ni({skipAccountCreationDateCheck:e=!1}){let t=(0,eH.aV)(),i=(0,tT.lg)(),n=(0,ea.q5)(),a=(0,S.md)(eS.mp),s=(0,i9.Rs)(nt.KMT,{currentOrgId:n?.parentOrgId||null});return r.useMemo(()=>i8.Qw.all([a,s]).transform(n=>{let[r,a]=n,s=function(e){let t=Date.now();return e.getTime()<=t-12096e5}(r),o=!!a.org?.k12GoogleOrg||(0,i7.aA)(a.currentUser.profile?.jobTitle||"");return!t&&i===ne._Y.WHITEBOARD&&(e||s)&&o}),[a,s,i,t,e])}let nn=(0,eC.ck)("db6976747d085e1350d443cd04b08e7ba979b86b");function nr({isShowing:e,onPrimaryCtaClick:t,onClose:i}){return(0,n.jsx)(x.M,{isShowing:e,children:(0,n.jsx)(h.fu,{name:"Share to Google Classroom New User Onboarding",children:(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:"share",isBold:!0,topPadding:-6,autoWidth:!0,children:(0,n.jsx)(iY,{isBold:!0,titleText:(0,N.tx)("whiteboard.google_classroom.onboarding.new_user.header"),bodyText:(0,N.tx)("whiteboard.google_classroom.onboarding.new_user.body"),buttonText:(0,N.tx)("whiteboard.google_classroom.onboarding.show_me"),onNext:t,onDismiss:i,imgSrc:nn,imgContainerWidth:105})})})})}function na({isShowing:e,onClose:t}){return(0,n.jsx)(eF.rq,{arrowPosition:tw.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,n.jsx)("div",{children:(0,N.tx)("whiteboard.google_classroom.pointer.body")}),disableHighlight:!0,emphasized:!0,isShowing:e,onClose:t,onTargetLost:t,targetKey:i7.pb,trackingContextName:"Share to Google Classroom Share Option Pointer",zIndex:eR.R.MODAL})}let ns="seen_figjam_share_to_google_classroom_existing_user_onboarding",no=(0,ek.r1)(ns),nl="seen_figjam_share_to_google_classroom_new_user_onboarding",nd=(0,ek.r1)(nl),nc=(0,ek.r1)("has_shared_to_google_classroom"),nu=(0,ek.r1)("figjam_editor_onboarded"),np="start_share_to_classroom_new_user_onboarding";function nm(){let e=(0,p.wA)(),t=ni({skipAccountCreationDateCheck:!0}),i=(0,S.md)(no),a=(0,S.md)(nd),s=(0,S.md)(nc),o=(0,S.md)(i7.Ij),{show:l,isShowing:d,complete:c,uniqueId:u}=(0,f.e)({overlay:y.DKg,priority:g.N.OVERRIDING_MODAL},[a,i,s,t]);(0,ej.E)(u,np,()=>{l({onShow:()=>{e(m.b({[nl]:!0}))},canShow:(e,t,i,n)=>!e&&!t&&!i&&n})}),r.useEffect(()=>{i.data&&c()},[i,c]);let{currentStep:h,next:_}=(0,ez.A)({numSteps:2,onComplete:c}),x=function({isShowing:e,next:t,complete:i}){let r=(0,p.wA)(),a=(0,ea.q5)();return[(0,n.jsx)(nr,{isShowing:e,onPrimaryCtaClick:()=>{if(!a){i();return}r((0,eE.to)({type:i6.g_,data:{fileKey:a.key,source:i4.nk.shareToGoogleClassroomOnboarding}})),t()},onClose:i},"share-to-google-classroom-new-user-callout"),(0,n.jsx)(na,{isShowing:e,onClose:i},"share-to-google-classroom-share-option-pointer")]}({isShowing:d,next:_,complete:c});return r.useEffect(()=>{o&&d&&0===h&&_()},[h,d,o,_]),(0,n.jsx)(eW.U,{currentStep:h,isShowing:d,children:x})}function nh(e){let t=(0,p.wA)();return()=>{t(m.b({figjam_editor_onboarded:!0})),e()}}function nf({overlayUniqueId:e,afterReset:t}){let i=(0,p.wA)();(0,ej.E)(e,"Reset Onboarding",()=>{i(m.b({figjam_editor_onboarded:!1,figjam_browse_templates_modal_onboarded:!1,figjam_browse_templates_modal_onboarding_item_selected:!1})),t&&t()})}function ng({steps:e,onComplete:t,isShowing:i,overlayUniqueId:a}){let{currentStep:s,next:o,reset:l}=(0,ez.A)({numSteps:e.length,onComplete:t});return nf({overlayUniqueId:a,afterReset:l}),(0,n.jsx)(eW.U,{currentStep:s,isShowing:i,children:r.useMemo(()=>e.map(e=>r.createElement(e,{onClickPrimaryCta:o,onClose:iR.lQ,onManualDismiss:t,isShowing:i})),[o,t,i,e])})}var n_=i(728657),nx=i(99004),ny=i(799737),nb=i(718764),nC=i(632989),nv=i(220026),nE=i(39751),nT=i(714743),nw=i(275462),nj=i(972736),nS=i(738636),nk=i(106207),nI=i(115586),nN=i(524020),nA=i(198840),nO=i(79930),nL=i(45218),nR=i(915202),nM=i(983167),nD=i(701580),nP=i(656872),nF=i(446435),nB=i(748636),nU=i(347702),nG=i(992395),nH=i(915765),nz=i(859828);function nV({onClickPrimaryCta:e,useCase:t}){let i=(0,ea.q5)(),n=(0,p.wA)(),a=(0,iU.O)();return{onNext:(0,r.useCallback)(()=>{i&&(n((0,eE.to)({type:i6.g_,data:{fileKey:i.key,source:i4.nk.expFigJamOnboardingShareVariant}})),(0,iM.YQ)({id:"open share modal"}),a({eventName:"share_board_clicked",useCase:t})),e()},[i,n,e,a,t])}}let nK="make_something_assets--svg--hgXqn",nW="make_something_assets--svgHovered--3XZdi",nq="make_something_assets--transformable--Ku46s",nY="make_something_assets--transformLeftBrainstorm--To6dH",nX="make_something_assets--transformRightBrainstorm--DH4Yj",nJ="make_something_assets--transformLeftUpdates--HVSJ5",nZ="make_something_assets--transformRightUpdates--jOJJ-",nQ="make_something_assets--transformLeftPlanning--6tBWf",n$="make_something_assets--transformRightPlanning--H2U0C",n0="make_something_assets--transformRightDiagramming--2ff-F";function n1(e){return(0,n.jsxs)("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",className:i_()(nK,{[nW]:e.hovered}),children:[(0,n.jsx)("rect",{x:"27.1868",y:"27.8497",width:"141.626",height:"142.374",fill:"#E5F4FF",stroke:"black",strokeWidth:"0.373684"}),(0,n.jsx)("rect",{x:"27.1868",y:"3.18684",width:"141.626",height:"19.8053",fill:"#0D99FF",stroke:"black",strokeWidth:"0.373684"}),(0,n.jsxs)("g",{filter:"url(#filter0_d_351_43460)",children:[(0,n.jsx)("rect",{x:"37.4653",y:"38.1284",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),(0,n.jsx)("rect",{x:"37.6522",y:"38.3153",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,n.jsxs)("g",{filter:"url(#filter1_d_351_43460)",children:[(0,n.jsx)("rect",{x:"124.157",y:"81",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),(0,n.jsx)("rect",{x:"124.344",y:"81.1868",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,n.jsxs)("g",{filter:"url(#filter2_d_351_43460)",children:[(0,n.jsx)("rect",{x:"81",y:"38",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),(0,n.jsx)("rect",{x:"81.1868",y:"38.1868",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,n.jsxs)("g",{filter:"url(#filter3_d_351_43460)",children:[(0,n.jsx)("rect",{x:"80.8096",y:"123.326",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),(0,n.jsx)("rect",{x:"80.9964",y:"123.513",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,n.jsx)("rect",{x:"84.9214",y:"128.181",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"40.8262",y:"42.2361",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"129.021",y:"85.1079",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"129.021",y:"100.057",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"40.8262",y:"49.7126",width:"18.3105",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"129.021",y:"92.584",width:"20.9263",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("path",{d:"M87.4033 45.8193C88.2079 46.4289 88.9008 47.0959 89.6122 47.8073",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),(0,n.jsx)("path",{d:"M97.5591 43.8335V48.0303",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),(0,n.jsx)("path",{d:"M103.975 49.5765C106.065 48.776 108.231 47.9817 110.38 47.3677",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),(0,n.jsx)("path",{d:"M103.748 57.5273H109.491",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),(0,n.jsx)("path",{d:"M98.8926 62.6094V67.4688",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),(0,n.jsx)("path",{d:"M90.1268 58.5264C89.2081 59.2528 88.1169 59.8811 87.2876 60.7104",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round"}),(0,n.jsxs)("g",{filter:"url(#filter4_d_351_43460)",children:[(0,n.jsx)("rect",{x:"81",y:"80.7251",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),(0,n.jsx)("rect",{x:"81.1868",y:"80.9119",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,n.jsx)("path",{d:"M108.795 102.748L108.954 102.837L109.047 102.681L109.454 101.997C109.755 101.492 110.248 101.121 110.825 100.966C111.402 100.812 112.014 100.886 112.527 101.173C113.039 101.459 113.41 101.933 113.559 102.489C113.708 103.046 113.625 103.642 113.324 104.146L113.324 104.146L112.957 104.763L112.957 104.763L110.552 108.797L105.825 106.155C105.313 105.869 104.942 105.395 104.793 104.839C104.644 104.282 104.728 103.687 105.028 103.183C105.329 102.678 105.821 102.308 106.398 102.153C106.975 101.998 107.587 102.073 108.1 102.36L108.795 102.748Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.373684"}),(0,n.jsx)("path",{d:"M116.865 94.0866L116.958 94.2427L117.116 94.154L117.811 93.7653C118.324 93.4788 118.936 93.4037 119.513 93.5582C120.09 93.7127 120.583 94.0836 120.884 94.5878C121.185 95.0918 121.269 95.6876 121.12 96.2442C120.971 96.8009 120.6 97.2749 120.088 97.5613L120.088 97.5614L119.461 97.9124L119.461 97.9125L115.362 100.203L112.589 95.5518C112.288 95.0478 112.204 94.4522 112.353 93.8958C112.502 93.3393 112.873 92.8655 113.385 92.5793C113.897 92.293 114.51 92.2181 115.087 92.3727C115.664 92.5273 116.156 92.8982 116.457 93.4024L116.865 94.0866Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.373684"}),(0,n.jsxs)("g",{filter:"url(#filter5_d_351_43460)",className:i_()(nq,nX),children:[(0,n.jsx)("rect",{x:"124",y:"37.761",width:"34.3789",height:"34.3789",fill:"#FFD45B"}),(0,n.jsx)("rect",{x:"124.187",y:"37.9478",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,n.jsx)("path",{d:"M131.262 57.6483C132.364 58.2951 133.535 59.063 134.814 59.2976C138.578 59.9876 139.728 56.6784 139.99 53.525C140.181 51.2338 140.49 47.2706 137.707 46.3822C135.469 45.668 135.63 48.5222 135.525 50.0614C135.198 54.8126 139.249 59.0839 144.177 57.7244C145.893 57.251 147.804 55.2775 148.694 53.7787C149.217 52.8971 149.432 51.8588 149.988 51.0257",stroke:"black",strokeWidth:"1.49474",strokeLinecap:"round",className:i_()(nq,nX)}),(0,n.jsx)("circle",{cx:"150.532",cy:"37.7597",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684",className:i_()(nq,nX)}),(0,n.jsxs)("g",{filter:"url(#filter6_d_351_43460)",className:i_()(nq,nY),children:[(0,n.jsx)("rect",{x:"37",y:"81.208",width:"34.3789",height:"34.3789",fill:"#80CAFF"}),(0,n.jsx)("rect",{x:"37.1868",y:"81.3948",width:"34.0053",height:"34.0053",stroke:"black",strokeWidth:"0.373684"})]}),(0,n.jsx)("rect",{className:i_()(nq,nY),x:"41.8633",y:"87.5618",width:"24.2895",height:"4.48421",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("circle",{className:i_()(nq,nY),cx:"70.6325",cy:"98.0258",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684"}),(0,n.jsx)("circle",{className:i_()(nq,nY),cx:"61.2902",cy:"106.617",r:"3.92368",fill:"#A259FF",stroke:"black",strokeWidth:"0.373684"}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("filter",{id:"filter0_d_351_43460",x:"37.4653",y:"38.1284",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter1_d_351_43460",x:"124.157",y:"81",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter2_d_351_43460",x:"81",y:"38",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter3_d_351_43460",x:"80.8096",y:"123.326",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter4_d_351_43460",x:"81",y:"80.7251",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter5_d_351_43460",x:"124",y:"37.761",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter6_d_351_43460",x:"37",y:"81.208",width:"35.1263",height:"35.1263",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.747368",dy:"0.747368"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_43460"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_43460",result:"shape"})]})]})]})}function n2(e){return(0,n.jsxs)("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",className:i_()(nK,{[nW]:e.hovered}),children:[(0,n.jsx)("rect",{width:"196",height:"121.761",fill:"white"}),(0,n.jsx)("rect",{x:"27.183",y:"49.6627",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),(0,n.jsx)("rect",{x:"31.7598",y:"59.3601",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("circle",{cx:"58.6556",cy:"61.7423",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),(0,n.jsx)("rect",{x:"76.5885",y:"49.6627",width:"42.82",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),(0,n.jsx)("rect",{x:"80.7957",y:"59.3601",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("circle",{cx:"109.161",cy:"61.7423",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),(0,n.jsx)("rect",{x:"76.5888",y:"3.18299",width:"42.82",height:"23.7889",rx:"2.01291",fill:"#FFCD29",stroke:"black",strokeWidth:"0.365983"}),(0,n.jsx)("rect",{x:"80.7959",y:"12.8804",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("circle",{cx:"110.261",cy:"15.2623",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),(0,n.jsx)("rect",{x:"125.631",y:"130.178",width:"43.0186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),(0,n.jsx)("rect",{x:"27.183",y:"89.9188",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),(0,n.jsx)("rect",{x:"33.5896",y:"99.6157",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("circle",{cx:"60.4899",cy:"101.998",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),(0,n.jsxs)("g",{clipPath:"url(#clip0_351_43276)",children:[(0,n.jsx)("path",{d:"M61.0894 105.123C60.3396 105.1 59.722 104.946 59.1311 104.674C58.9431 104.588 58.7461 104.522 58.5542 104.448C58.3001 104.35 58.0777 104.2 57.9633 103.952C57.7015 103.384 57.427 102.818 57.2237 102.227C57.0344 101.676 57.1513 101.125 57.4918 100.655C57.7562 100.29 57.9163 99.8986 58.0319 99.4665C58.1742 98.9366 58.5669 98.643 59.1006 98.5287C59.3459 98.4766 59.5785 98.4931 59.8123 98.5833C60.0296 98.6672 60.2545 98.6812 60.482 98.6189C60.9039 98.5032 61.2889 98.6227 61.6663 98.8044C61.843 98.8883 62.0234 98.9772 62.2128 99.0192C62.8367 99.1564 63.157 99.5669 63.2421 100.164C63.284 100.46 63.2599 100.769 63.2383 101.07C63.2192 101.333 63.2472 101.582 63.331 101.83C63.5483 102.473 63.5153 103.102 63.2179 103.716C63.0362 104.092 62.7389 104.346 62.378 104.541C62.1251 104.677 61.8735 104.816 61.6282 104.966C61.43 105.087 61.2177 105.129 61.0894 105.123ZM61.083 104.886C61.2787 104.889 61.4274 104.827 61.6269 104.673C61.7616 104.57 61.9218 104.499 62.0704 104.415C62.2458 104.317 62.4517 104.251 62.594 104.118C63.1989 103.548 63.3361 102.819 63.1328 102.055C63.0019 101.562 62.9625 101.089 63.0197 100.591C63.0934 99.9405 62.7376 99.4512 62.1136 99.2784C61.8976 99.2187 61.6905 99.117 61.4872 99.0192C61.2266 98.8946 60.9585 98.7866 60.6713 98.8553C60.2977 98.9442 59.9419 98.9163 59.5835 98.7955C59.4666 98.7561 59.3345 98.7206 59.215 98.7345C58.7347 98.7904 58.3979 99.0738 58.2772 99.5237C58.1463 100.013 57.9264 100.439 57.6545 100.859C57.3724 101.296 57.2974 101.795 57.4982 102.297C57.6964 102.793 57.9125 103.284 58.126 103.774C58.2314 104.018 58.417 104.181 58.6673 104.274C58.9037 104.362 59.1426 104.444 59.3726 104.547C59.8796 104.772 60.4172 104.848 61.083 104.886Z",fill:"black"}),(0,n.jsx)("path",{d:"M60.5404 103.175C60.0016 103.198 59.5072 103.112 59.1222 102.711C59.0561 102.642 58.9938 102.566 58.9544 102.481C58.9354 102.441 58.9189 102.367 58.9926 102.326C59.0383 102.3 59.0968 102.327 59.1336 102.355C59.2264 102.424 59.3039 102.514 59.3979 102.583C59.8402 102.909 60.3294 103.011 60.8593 102.856C61.1275 102.778 61.3143 102.581 61.4795 102.365C61.5405 102.286 61.6078 102.167 61.7184 102.25C61.8289 102.333 61.7298 102.435 61.6726 102.511C61.3842 102.895 61.036 103.177 60.5404 103.175Z",fill:"black"}),(0,n.jsx)("path",{d:"M62.2294 101.088C62.2281 101.243 62.1099 101.367 61.9701 101.365C61.8253 101.362 61.7045 101.234 61.7083 101.088C61.7122 100.928 61.824 100.801 61.96 100.803C62.1124 100.805 62.2319 100.93 62.2294 101.088Z",fill:"black"}),(0,n.jsx)("path",{d:"M58.9061 101.294C58.9048 101.449 58.7867 101.573 58.6469 101.571C58.502 101.568 58.3813 101.44 58.3851 101.294C58.3889 101.134 58.5007 101.007 58.6367 101.009C58.7879 101.01 58.9074 101.136 58.9061 101.294Z",fill:"black"})]}),(0,n.jsx)("path",{d:"M96.5399 30.8149C96.5399 30.6128 96.7037 30.449 96.9058 30.449C97.108 30.449 97.2718 30.6128 97.2718 30.8149H96.5399ZM147.121 45.7131C146.978 45.856 146.747 45.856 146.604 45.7131L144.275 43.384C144.132 43.241 144.132 43.0093 144.275 42.8664C144.418 42.7234 144.649 42.7234 144.792 42.8664L146.863 44.9367L148.933 42.8664C149.076 42.7234 149.308 42.7234 149.45 42.8664C149.593 43.0093 149.593 43.241 149.45 43.384L147.121 45.7131ZM97.2718 30.8149V33.1938H96.5399V30.8149H97.2718ZM101.298 37.2196H142.471V37.9516H101.298V37.2196ZM147.229 41.9774V45.4543H146.497V41.9774H147.229ZM142.471 37.2196C145.098 37.2196 147.229 39.3498 147.229 41.9774H146.497C146.497 39.754 144.694 37.9516 142.471 37.9516V37.2196ZM97.2718 33.1938C97.2718 35.4172 99.0742 37.2196 101.298 37.2196V37.9516C98.67 37.9516 96.5399 35.8215 96.5399 33.1938H97.2718Z",fill:"black"}),(0,n.jsx)("path",{d:"M97.2684 30.8149C97.2684 30.6128 97.1045 30.449 96.9024 30.449C96.7002 30.449 96.5364 30.6128 96.5364 30.8149H97.2684ZM46.5039 45.7131C46.6468 45.856 46.8786 45.856 47.0215 45.7131L49.3506 43.384C49.4935 43.241 49.4935 43.0093 49.3506 42.8664C49.2077 42.7234 48.9759 42.7234 48.833 42.8664L46.7627 44.9367L44.6924 42.8664C44.5495 42.7234 44.3177 42.7234 44.1748 42.8664C44.0319 43.0093 44.0319 43.241 44.1748 43.384L46.5039 45.7131ZM96.5364 30.8149V33.1938H97.2684V30.8149H96.5364ZM92.5106 37.2196H51.1545V37.9516H92.5106V37.2196ZM46.3967 41.9774V45.4543H47.1287V41.9774H46.3967ZM51.1545 37.2196C48.5268 37.2196 46.3967 39.3498 46.3967 41.9774H47.1287C47.1287 39.754 48.9311 37.9516 51.1545 37.9516V37.2196ZM96.5364 33.1938C96.5364 35.4172 94.734 37.2196 92.5106 37.2196V37.9516C95.1382 37.9516 97.2684 35.8215 97.2684 33.1938H96.5364Z",fill:"black"}),(0,n.jsx)("path",{d:"M97.2686 30.6304C97.2686 30.4282 97.1047 30.2644 96.9026 30.2644C96.7005 30.2644 96.5366 30.4282 96.5366 30.6304H97.2686ZM96.6438 46.0775C96.7867 46.2204 97.0185 46.2204 97.1614 46.0775L99.4905 43.7484C99.6334 43.6054 99.6334 43.3737 99.4905 43.2308C99.3476 43.0879 99.1158 43.0879 98.9729 43.2308L96.9026 45.3011L94.8323 43.2308C94.6894 43.0879 94.4576 43.0879 94.3147 43.2308C94.1718 43.3737 94.1718 43.6054 94.3147 43.7484L96.6438 46.0775ZM96.5366 30.6304V45.8187H97.2686V30.6304H96.5366Z",fill:"black"}),(0,n.jsxs)("g",{clipPath:"url(#clip1_351_43276)",children:[(0,n.jsx)("path",{d:"M58.8788 58.1369C59.7645 58.1496 60.4813 58.5105 61.1522 59.0925C62.5348 60.2921 62.6352 63.1971 60.4584 64.5085C58.9563 65.4133 56.9612 64.9838 55.998 63.3356C54.9331 61.5146 55.7781 59.0887 57.7364 58.3465C58.1036 58.2068 58.4836 58.133 58.8788 58.1369ZM61.8321 61.2731C61.8524 60.625 61.5258 59.874 60.9565 59.2831C60.2271 58.527 59.2867 58.2677 58.2511 58.5079C56.3449 58.9476 55.3105 61.1016 56.1263 62.9023C56.7032 64.1756 58.0592 64.8885 59.3554 64.6C60.8155 64.2747 61.8384 62.9874 61.8321 61.2731Z",fill:"black"}),(0,n.jsx)("path",{d:"M61.0418 62.2874C60.6491 63.2747 59.9489 63.8517 58.8903 63.8644C57.983 63.8746 57.3159 63.426 56.9105 62.5885C56.8851 62.6 56.8546 62.6152 56.8253 62.6254C56.7834 62.6406 56.7593 62.6508 56.7211 62.6025C56.7033 62.5796 56.6754 62.539 56.7275 62.497C56.8558 62.3916 56.9943 62.3001 57.1341 62.2124C57.1557 62.1984 57.2066 62.1971 57.2358 62.2416C57.2676 62.2912 57.2472 62.3229 57.2282 62.3484C57.1926 62.3954 57.1418 62.431 57.0909 62.4754C57.5764 63.2188 58.2232 63.6661 59.1483 63.5734C59.9641 63.492 60.5716 62.8872 60.794 62.1743C60.8041 62.1425 60.7685 62.1196 60.7342 62.0777C60.6771 62.0103 60.6377 61.9989 60.7025 61.8909C60.7495 61.8235 60.8219 61.8629 60.8639 61.8845C60.9973 61.9544 61.1294 62.0319 61.2464 62.126C61.2921 62.1628 61.376 62.2175 61.3213 62.3153C61.2705 62.4144 61.2006 62.3496 61.118 62.3255C61.0951 62.3153 61.0723 62.3013 61.0418 62.2874Z",fill:"black"}),(0,n.jsx)("path",{d:"M57.3933 60.2757C57.4657 60.1588 57.5445 60.066 57.6881 60.0953C57.8254 60.1232 57.8813 60.2427 57.8825 60.3532C57.8864 60.5718 57.8825 60.7967 57.8343 61.009C57.7847 61.2275 57.683 61.4359 57.5928 61.6431C57.5293 61.7892 57.4289 61.8184 57.3196 61.7117C56.9689 61.3661 56.7566 60.9518 56.7795 60.446C56.7859 60.3024 56.8634 60.1842 57.007 60.1359C57.162 60.0838 57.2815 60.155 57.3933 60.2757ZM57.6754 60.2999C57.6754 60.2999 57.6475 60.2592 57.6004 60.2732C57.5649 60.2706 57.5255 60.4219 57.5026 60.5019C57.481 60.5769 57.4848 60.6315 57.4314 60.6404C57.3463 60.6481 57.3526 60.5756 57.3171 60.54C57.3005 60.5223 57.2205 60.2961 57.1061 60.338C57.0324 60.3647 57.0286 60.4727 57.0324 60.5375C57.0502 60.8666 57.2001 61.1487 57.378 61.4512C57.5407 61.0611 57.7834 60.5375 57.6754 60.2999Z",fill:"black"}),(0,n.jsx)("path",{d:"M60.2957 60.1701C60.3885 60.118 60.4761 60.0736 60.5626 60.0914C60.6909 60.118 60.7163 60.2527 60.7278 60.3697C60.7646 60.742 60.6032 61.0571 60.4291 61.3672C60.3897 61.4371 60.3338 61.4981 60.297 61.5705C60.1915 61.7764 60.0098 61.7383 59.9094 61.5616C59.6997 61.1893 59.5802 60.7801 59.6184 60.3442C59.6323 60.1778 59.6946 60.0189 59.8789 59.9757C60.0644 59.93 60.2258 60.0469 60.2957 60.1701ZM60.067 61.3837C60.086 61.474 60.1051 61.4041 60.1229 61.3863C60.2499 61.1957 60.3783 61.005 60.4533 60.7954C60.5117 60.6314 60.6655 60.2159 60.5041 60.2578C60.4647 60.2604 60.424 60.3811 60.3897 60.4421C60.3618 60.4904 60.3046 60.5679 60.2804 60.5717C60.1877 60.5742 60.1991 60.4904 60.1813 60.4421C60.1394 60.3328 60.1432 60.1612 59.9869 60.1816C59.8319 60.2019 59.8497 60.3735 59.87 60.4853C59.9234 60.7865 59.9996 61.0851 60.067 61.3837Z",fill:"black"})]}),(0,n.jsxs)("g",{clipPath:"url(#clip2_351_43276)",children:[(0,n.jsx)("path",{d:"M106.15 61.4002C106.19 60.3696 106.623 59.3517 107.641 58.6439C107.894 58.4685 108.194 58.3541 108.485 58.2436C110.078 57.6387 112.02 58.7328 112.438 60.7102C112.736 62.1156 112.387 63.3546 111.281 64.3014C109.773 65.5912 107.534 65.1172 106.591 63.3432C106.3 62.7917 106.153 62.2046 106.15 61.4002ZM109.218 64.6076C109.862 64.6089 110.388 64.4424 110.809 64.1489C112.465 62.9912 112.596 60.3836 111.064 59.062C110.367 58.4596 109.556 58.302 108.681 58.4965C108.409 58.5575 108.146 58.715 107.913 58.879C106.537 59.8511 106.176 61.8602 107.116 63.3127C107.638 64.1209 108.377 64.5784 109.218 64.6076Z",fill:"black"}),(0,n.jsx)("path",{d:"M108.781 63.6393C108.761 63.6736 108.735 63.708 108.716 63.7384C108.668 63.816 108.644 63.8439 108.552 63.8122C108.484 63.7728 108.498 63.6863 108.515 63.6393C108.564 63.5072 108.627 63.3801 108.701 63.2594C108.73 63.2111 108.787 63.1247 108.847 63.1526C108.893 63.1806 108.927 63.1971 108.888 63.3305C108.88 63.3559 108.871 63.3864 108.858 63.4271C109.174 63.586 109.496 63.6037 109.829 63.5237C110.313 63.4068 110.757 63.0421 111.012 62.5935C111.119 62.4054 111.164 62.225 111.222 61.9975C111.235 61.9505 111.269 61.8717 111.247 61.8577C111.218 61.8399 111.183 61.817 111.141 61.7992C111.059 61.7662 111.067 61.7052 111.084 61.6658C111.111 61.5972 111.165 61.5896 111.198 61.5985C111.387 61.6468 111.574 61.7078 111.758 61.7713C111.784 61.7802 111.818 61.8081 111.805 61.8691C111.791 61.9327 111.749 61.9441 111.713 61.9505C111.655 61.9606 111.593 61.9454 111.517 61.939C111.493 62.042 111.471 62.15 111.441 62.2542C111.208 63.0649 110.709 63.6139 109.876 63.8274C109.542 63.9125 109.203 63.8477 108.781 63.6393Z",fill:"black"}),(0,n.jsx)("path",{d:"M110.475 60.4918C110.475 60.3914 110.46 60.2859 110.481 60.1906C110.495 60.1296 110.527 60.0368 110.611 60.0381C110.692 60.0394 110.753 60.0991 110.772 60.1525C110.894 60.4994 110.944 60.859 110.894 61.2237C110.89 61.3216 110.795 61.38 110.752 61.38C110.674 61.38 110.597 61.3279 110.575 61.2377C110.517 60.9937 110.464 60.493 110.475 60.4918Z",fill:"black"}),(0,n.jsx)("path",{d:"M107.785 60.4853C107.791 60.4243 107.829 60.3175 107.921 60.2997C108.017 60.2743 108.052 60.39 108.063 60.4408C108.118 60.6848 108.104 60.639 108.132 60.9809C108.134 61.005 108.143 61.4129 108.133 61.5235C108.123 61.6404 108.059 61.6989 108.002 61.7014C107.894 61.7078 107.86 61.6353 107.836 61.5502C107.761 61.2909 107.725 61.0279 107.785 60.4853Z",fill:"black"})]}),(0,n.jsxs)("g",{clipPath:"url(#clip3_351_43276)",children:[(0,n.jsx)("path",{d:"M111.595 18.3869C110.845 18.364 110.227 18.2102 109.637 17.9383C109.448 17.8519 109.251 17.7858 109.06 17.7121C108.805 17.6142 108.583 17.4643 108.469 17.2165C108.207 16.6485 107.932 16.0817 107.729 15.4908C107.54 14.9405 107.657 14.389 107.997 13.9188C108.262 13.5541 108.422 13.1627 108.537 12.7307C108.68 12.2007 109.072 11.9072 109.606 11.7928C109.851 11.7407 110.084 11.7572 110.318 11.8475C110.535 11.9313 110.76 11.9453 110.987 11.883C111.409 11.7674 111.794 11.8869 112.172 12.0686C112.348 12.1525 112.529 12.2414 112.718 12.2833C113.342 12.4206 113.662 12.831 113.747 13.4283C113.789 13.7244 113.765 14.0332 113.744 14.3344C113.725 14.5974 113.753 14.8465 113.836 15.0943C114.054 15.7373 114.021 16.3663 113.723 16.9801C113.542 17.3563 113.244 17.6104 112.883 17.8049C112.63 17.9408 112.379 18.0806 112.134 18.2306C111.935 18.3513 111.723 18.3932 111.595 18.3869ZM111.588 18.1505C111.784 18.1531 111.933 18.0908 112.132 17.937C112.267 17.8341 112.427 17.7629 112.576 17.6791C112.751 17.5812 112.957 17.5151 113.099 17.3817C113.704 16.8124 113.842 16.083 113.638 15.3192C113.507 14.8262 113.468 14.3534 113.525 13.8553C113.599 13.2047 113.243 12.7154 112.619 12.5426C112.403 12.4829 112.196 12.3812 111.993 12.2833C111.732 12.1588 111.464 12.0508 111.177 12.1194C110.803 12.2084 110.447 12.1804 110.089 12.0597C109.972 12.0203 109.84 11.9847 109.72 11.9987C109.24 12.0546 108.903 12.338 108.783 12.7878C108.652 13.2771 108.432 13.7028 108.16 14.1234C107.878 14.5606 107.803 15.0587 108.004 15.5607C108.202 16.0575 108.418 16.5481 108.631 17.0386C108.737 17.2826 108.922 17.4452 109.173 17.538C109.409 17.6257 109.648 17.7083 109.878 17.8112C110.385 18.0361 110.923 18.1124 111.588 18.1505Z",fill:"black"}),(0,n.jsx)("path",{d:"M111.046 16.4389C110.507 16.4618 110.013 16.3766 109.628 15.975C109.561 15.9064 109.499 15.8302 109.46 15.745C109.441 15.7056 109.424 15.6307 109.498 15.59C109.544 15.5646 109.602 15.5913 109.639 15.6192C109.732 15.6878 109.809 15.7781 109.903 15.8467C110.346 16.1733 110.835 16.2749 111.365 16.1199C111.633 16.0424 111.82 15.8454 111.985 15.6294C112.046 15.5506 112.113 15.4312 112.224 15.5138C112.334 15.5976 112.235 15.6993 112.178 15.7755C111.89 16.1593 111.541 16.4414 111.046 16.4389Z",fill:"black"}),(0,n.jsx)("path",{d:"M112.735 14.3521C112.733 14.5071 112.615 14.6316 112.475 14.6291C112.331 14.6266 112.21 14.4982 112.214 14.3521C112.218 14.192 112.329 14.0649 112.465 14.0674C112.618 14.0687 112.737 14.1945 112.735 14.3521Z",fill:"black"}),(0,n.jsx)("path",{d:"M109.411 14.5579C109.41 14.7129 109.292 14.8375 109.152 14.8349C109.007 14.8324 108.887 14.704 108.89 14.5579C108.894 14.3978 109.006 14.2707 109.142 14.2732C109.293 14.2745 109.413 14.4003 109.411 14.5579Z",fill:"black"})]}),(0,n.jsx)("path",{d:"M48.5913 77.6602C48.5913 77.458 48.4275 77.2942 48.2253 77.2942C48.0232 77.2942 47.8594 77.458 47.8594 77.6602H48.5913ZM47.9666 85.6046C48.1095 85.7475 48.3412 85.7475 48.4841 85.6046L50.8132 83.2755C50.9562 83.1326 50.9562 82.9008 50.8132 82.7579C50.6703 82.615 50.4386 82.615 50.2957 82.7579L48.2253 84.8282L46.155 82.7579C46.0121 82.615 45.7804 82.615 45.6375 82.7579C45.4945 82.9008 45.4945 83.1326 45.6375 83.2755L47.9666 85.6046ZM47.8594 77.6602V85.3458H48.5913V77.6602H47.8594Z",fill:"black"}),(0,n.jsx)("rect",{x:"125.264",y:"50.1747",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983",className:i_()(nq,n0)}),(0,n.jsx)("rect",{x:"131.664",y:"59.8726",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2",className:i_()(nq,n0)}),(0,n.jsx)("circle",{cx:"158.567",cy:"62.2545",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983",className:i_()(nq,n0)}),(0,n.jsxs)("g",{clipPath:"url(#clip4_351_43276)",className:i_()(nq,n0),children:[(0,n.jsx)("path",{d:"M156.152 60.7639C156.525 60.325 156.935 59.9056 157.388 59.5486C157.703 59.3 157.811 59.2875 157.985 59.2403C158.032 59.2278 158.074 59.1986 158.114 59.1695C159.805 57.9764 161.959 58.8222 162.375 60.9278C162.652 62.325 161.939 63.7125 160.714 64.2792C160.695 64.2889 160.666 64.2917 160.656 64.307C160.413 64.6875 159.918 64.8347 159.617 64.9097C159.556 64.932 159.509 64.9958 159.453 65.0375C159.41 65.0695 159.367 65.1042 159.318 65.1264C157.725 65.8653 156.013 64.8764 155.638 63.2403C155.585 63.0097 155.353 61.6181 156.152 60.7639ZM159.47 64.1903C160.038 64.1875 160.409 64.0945 160.741 63.9125C162.338 63.0361 162.577 60.6556 161.171 59.4931C160.366 58.8278 159.335 58.7153 158.43 59.3528C157.353 60.1097 156.963 61.6611 157.566 62.8333C157.999 63.6764 158.686 64.1417 159.47 64.1903ZM160.013 64.55C160.082 64.525 160.092 64.507 160.081 64.4986C160.081 64.4986 160.052 64.4986 160.003 64.5C158.753 64.5945 157.813 64.0972 157.256 62.9764C156.711 61.882 156.843 60.807 157.486 59.7778C157.435 59.8028 157.393 59.8333 157.356 59.8681C156.489 60.6528 156.234 61.982 156.734 63.1181C157.195 64.1667 158.163 64.7889 159.252 64.7111C159.507 64.6931 159.759 64.6056 160.013 64.55ZM156.342 60.9472C156.343 60.907 156.306 60.957 156.3 60.9639C156.281 60.9903 156.261 61.0181 156.245 61.0458C156.016 61.432 155.873 61.85 155.853 62.2986C155.807 63.3208 156.166 64.1681 157.031 64.7458C157.606 65.1306 158.245 65.2097 158.913 65.0014C157.936 64.9028 157.175 64.45 156.661 63.6139C156.148 62.7806 156.066 61.8861 156.342 60.9472Z",fill:"black"}),(0,n.jsx)("path",{d:"M160.525 61.8376C160.717 61.8445 160.78 61.9445 160.717 62.1251C160.561 62.5695 160.124 62.7862 159.678 62.6307C159.414 62.5376 159.207 62.3682 159.064 62.1265C158.955 61.9404 159.003 61.8334 159.218 61.8195C159.443 61.8043 160.316 61.8293 160.525 61.8376ZM160.482 62.0543C160.099 62.0543 159.725 62.0543 159.348 62.0543C159.731 62.5001 160.298 62.5084 160.482 62.0543Z",fill:"black"}),(0,n.jsx)("path",{d:"M158.963 61.0499C158.964 61.2666 158.756 61.4638 158.528 61.4624C158.33 61.461 158.191 61.2819 158.189 61.0916C158.186 60.9013 158.381 60.7138 158.595 60.7082C158.8 60.7013 158.963 60.8513 158.963 61.0499ZM158.546 60.9124C158.443 60.9291 158.411 61.0263 158.42 61.0999C158.431 61.2069 158.511 61.2332 158.561 61.2346C158.609 61.236 158.702 61.1888 158.721 61.0971C158.746 61.0041 158.693 60.8777 158.546 60.9124Z",fill:"black"}),(0,n.jsx)("path",{d:"M161.617 61.1082C161.614 61.318 161.466 61.4721 161.267 61.4707C161.053 61.4694 160.899 61.2957 160.906 61.0638C160.912 60.8624 161.062 60.7069 161.248 60.711C161.441 60.7166 161.62 60.9082 161.617 61.1082ZM161.425 61.1027C161.425 60.9957 161.368 60.9235 161.28 60.9235C161.225 60.9235 161.134 60.9652 161.134 61.0791C161.134 61.2777 161.28 61.2666 161.28 61.2666C161.357 61.2638 161.425 61.2319 161.425 61.1027Z",fill:"black"})]}),(0,n.jsx)("rect",{x:"125.259",y:"90.4347",width:"43.186",height:"23.7889",rx:"2.01291",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.365983"}),(0,n.jsx)("rect",{x:"131.662",y:"100.132",width:"17.9332",height:"4.3918",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("circle",{cx:"158.562",cy:"102.514",r:"5.48975",fill:"white",stroke:"black",strokeWidth:"0.365983"}),(0,n.jsxs)("g",{clipPath:"url(#clip5_351_43276)",children:[(0,n.jsx)("path",{d:"M155.773 101.196C156.115 100.794 156.49 100.41 156.904 100.084C157.192 99.8563 157.291 99.8449 157.45 99.8017C157.493 99.7903 157.532 99.7636 157.568 99.7369C159.115 98.6453 161.086 99.4192 161.467 101.346C161.72 102.624 161.068 103.894 159.947 104.412C159.93 104.421 159.903 104.424 159.894 104.437C159.672 104.786 159.219 104.92 158.943 104.989C158.887 105.009 158.844 105.068 158.793 105.106C158.754 105.135 158.715 105.167 158.67 105.187C157.213 105.863 155.646 104.958 155.303 103.462C155.254 103.251 155.042 101.977 155.773 101.196ZM158.809 104.331C159.328 104.328 159.668 104.243 159.971 104.077C161.433 103.275 161.651 101.097 160.365 100.033C159.628 99.4243 158.685 99.3213 157.857 99.9046C156.872 100.597 156.515 102.017 157.066 103.089C157.463 103.861 158.092 104.286 158.809 104.331ZM159.306 104.66C159.369 104.637 159.378 104.62 159.368 104.613C159.368 104.613 159.341 104.613 159.297 104.614C158.153 104.701 157.293 104.246 156.783 103.22C156.285 102.219 156.406 101.235 156.994 100.293C156.947 100.316 156.909 100.344 156.875 100.376C156.082 101.094 155.848 102.31 156.305 103.35C156.727 104.309 157.613 104.878 158.609 104.807C158.843 104.791 159.073 104.711 159.306 104.66ZM155.947 101.363C155.948 101.327 155.914 101.372 155.909 101.379C155.891 101.403 155.873 101.428 155.858 101.454C155.648 101.807 155.517 102.189 155.5 102.6C155.458 103.535 155.786 104.31 156.577 104.839C157.103 105.191 157.688 105.263 158.299 105.073C157.406 104.983 156.709 104.568 156.239 103.803C155.769 103.041 155.694 102.223 155.947 101.363Z",fill:"black"}),(0,n.jsx)("path",{d:"M159.774 102.178C159.95 102.185 160.007 102.276 159.95 102.441C159.808 102.848 159.407 103.046 158.999 102.904C158.758 102.819 158.568 102.664 158.438 102.442C158.337 102.272 158.382 102.174 158.579 102.162C158.785 102.148 159.583 102.171 159.774 102.178ZM159.735 102.376C159.384 102.376 159.042 102.376 158.697 102.376C159.048 102.784 159.566 102.792 159.735 102.376Z",fill:"black"}),(0,n.jsx)("path",{d:"M158.345 101.458C158.346 101.656 158.155 101.836 157.947 101.835C157.765 101.834 157.638 101.67 157.637 101.496C157.634 101.322 157.812 101.15 158.008 101.145C158.196 101.139 158.345 101.276 158.345 101.458ZM157.964 101.332C157.87 101.347 157.84 101.436 157.848 101.503C157.858 101.601 157.932 101.625 157.978 101.627C158.021 101.628 158.106 101.585 158.124 101.501C158.147 101.416 158.098 101.3 157.964 101.332Z",fill:"black"}),(0,n.jsx)("path",{d:"M160.773 101.511C160.771 101.703 160.635 101.844 160.453 101.843C160.257 101.841 160.116 101.683 160.123 101.47C160.128 101.286 160.265 101.144 160.435 101.148C160.612 101.153 160.776 101.328 160.773 101.511ZM160.598 101.506C160.598 101.408 160.546 101.342 160.465 101.342C160.415 101.342 160.331 101.38 160.331 101.484C160.331 101.666 160.465 101.656 160.465 101.656C160.536 101.653 160.598 101.624 160.598 101.506Z",fill:"black"})]}),(0,n.jsx)("path",{className:i_()(nq,n0),d:"M147.77 78.1765C147.77 77.9744 147.606 77.8105 147.404 77.8105C147.202 77.8105 147.038 77.9744 147.038 78.1765H147.77ZM147.145 86.1209C147.288 86.2639 147.52 86.2639 147.663 86.1209L149.992 83.7918C150.135 83.6489 150.135 83.4172 149.992 83.2743C149.849 83.1313 149.617 83.1313 149.474 83.2743L147.404 85.3446L145.333 83.2743C145.191 83.1313 144.959 83.1313 144.816 83.2743C144.673 83.4172 144.673 83.6489 144.816 83.7918L147.145 86.1209ZM147.038 78.1765V85.8622H147.77V78.1765H147.038Z",fill:"black"}),(0,n.jsx)("path",{d:"M147.77 118.432C147.77 118.23 147.606 118.066 147.404 118.066C147.202 118.066 147.038 118.23 147.038 118.432H147.77ZM147.145 126.376C147.288 126.519 147.52 126.519 147.663 126.376L149.992 124.047C150.135 123.904 150.135 123.673 149.992 123.53C149.849 123.387 149.617 123.387 149.474 123.53L147.404 125.6L145.333 123.53C145.191 123.387 144.959 123.387 144.816 123.53C144.673 123.673 144.673 123.904 144.816 124.047L147.145 126.376ZM147.038 118.432V126.118H147.77V118.432H147.038Z",fill:"black"}),(0,n.jsxs)("defs",{children:[(0,n.jsx)("clipPath",{id:"clip0_351_43276",children:(0,n.jsx)("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(56.6428 98.1511)"})}),(0,n.jsx)("clipPath",{id:"clip1_351_43276",children:(0,n.jsx)("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(55.1821 57.8955)"})}),(0,n.jsx)("clipPath",{id:"clip2_351_43276",children:(0,n.jsx)("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(105.685 57.8955)"})}),(0,n.jsx)("clipPath",{id:"clip3_351_43276",children:(0,n.jsx)("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(107.148 11.4153)"})}),(0,n.jsx)("clipPath",{id:"clip4_351_43276",children:(0,n.jsx)("rect",{width:"8",height:"8",fill:"white",transform:"translate(155 58)"})}),(0,n.jsx)("clipPath",{id:"clip5_351_43276",children:(0,n.jsx)("rect",{width:"7.31966",height:"7.31966",fill:"white",transform:"translate(154.719 98.6667)"})})]})]})}function n3(e){return(0,n.jsxs)("svg",{width:"136",viewBox:"0 0 196 122",fill:"none",className:i_()(nK,{[nW]:e.hovered}),children:[(0,n.jsx)("rect",{x:"27.1929",y:"3.19293",width:"69.0706",height:"15.0489",fill:"black",stroke:"black",strokeWidth:"0.38587"}),(0,n.jsx)("rect",{x:"99.7337",y:"3.19293",width:"69.0706",height:"15.0489",fill:"black",stroke:"black",strokeWidth:"0.38587"}),(0,n.jsx)("rect",{x:"99.7337",y:"23.2581",width:"69.0706",height:"15.0489",rx:"2.12228",fill:"#BDE3FF",stroke:"black",strokeWidth:"0.38587"}),(0,n.jsx)("rect",{x:"27.1929",y:"43.3228",width:"99.1685",height:"15.0489",rx:"2.12228",fill:"#E4CCFF",stroke:"black",strokeWidth:"0.38587"}),(0,n.jsx)("rect",{x:"27.1929",y:"103.518",width:"99.1685",height:"15.0489",rx:"2.12228",fill:"#FFE8A3",stroke:"black",strokeWidth:"0.38587"}),(0,n.jsx)("rect",{x:"76.5833",y:"63.3882",width:"92.2228",height:"15.0489",rx:"2.12228",fill:"#BDE3FF",stroke:"black",strokeWidth:"0.38587"}),(0,n.jsx)("rect",{x:"83.3374",y:"68.5977",width:"25.8533",height:"4.63043",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"32.7886",y:"108.728",width:"32.0272",height:"4.63043",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"33.561",y:"48.5325",width:"31.2554",height:"4.63043",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"104.947",y:"28.4675",width:"21.6087",height:"4.63043",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("path",{d:"M161.035 74.752C160.165 74.7255 159.449 74.5471 158.764 74.2317C158.546 74.1315 158.317 74.0549 158.095 73.9694C157.8 73.8559 157.542 73.682 157.409 73.3946C157.106 72.7358 156.787 72.0785 156.552 71.3932C156.332 70.755 156.468 70.1154 156.863 69.5701C157.169 69.1471 157.355 68.6932 157.489 68.1921C157.654 67.5775 158.109 67.237 158.728 67.1044C159.013 67.044 159.283 67.0631 159.554 67.1678C159.806 67.2651 160.067 67.2813 160.33 67.209C160.82 67.0749 161.266 67.2135 161.704 67.4242C161.909 67.5215 162.118 67.6247 162.338 67.6733C163.061 67.8325 163.433 68.3085 163.532 69.0012C163.58 69.3446 163.552 69.7027 163.527 70.052C163.505 70.3571 163.537 70.646 163.635 70.9334C163.887 71.6791 163.848 72.4086 163.504 73.1205C163.293 73.5567 162.948 73.8515 162.529 74.077C162.236 74.2347 161.944 74.3968 161.66 74.5707C161.43 74.7107 161.184 74.7594 161.035 74.752ZM161.028 74.4779C161.255 74.4808 161.427 74.4086 161.658 74.2303C161.815 74.1109 162 74.0284 162.173 73.9311C162.376 73.8176 162.615 73.741 162.78 73.5862C163.481 72.9259 163.641 72.08 163.405 71.1942C163.253 70.6224 163.207 70.0741 163.274 69.4964C163.359 68.7418 162.946 68.1744 162.223 67.974C161.972 67.9047 161.732 67.7868 161.496 67.6733C161.194 67.5289 160.883 67.4036 160.55 67.4832C160.117 67.5863 159.704 67.5539 159.288 67.4139C159.153 67.3682 159 67.327 158.861 67.3432C158.304 67.408 157.913 67.7367 157.773 68.2584C157.622 68.8258 157.367 69.3195 157.051 69.8074C156.724 70.3144 156.637 70.8921 156.87 71.4742C157.1 72.0505 157.35 72.6194 157.598 73.1883C157.72 73.4713 157.936 73.6599 158.226 73.7675C158.5 73.8692 158.777 73.965 159.044 74.0844C159.632 74.3452 160.255 74.4337 161.028 74.4779Z",fill:"black"}),(0,n.jsx)("path",{d:"M160.398 72.4923C159.773 72.5188 159.2 72.4201 158.753 71.9543C158.677 71.8747 158.605 71.7863 158.559 71.6876C158.537 71.6419 158.518 71.5549 158.603 71.5078C158.656 71.4783 158.724 71.5092 158.767 71.5417C158.874 71.6212 158.964 71.7259 159.073 71.8055C159.586 72.1842 160.154 72.3021 160.768 72.1223C161.079 72.0324 161.296 71.804 161.487 71.5535C161.558 71.4621 161.636 71.3235 161.764 71.4193C161.893 71.5166 161.778 71.6345 161.711 71.7229C161.377 72.168 160.973 72.4952 160.398 72.4923Z",fill:"black"}),(0,n.jsx)("path",{d:"M162.357 70.0724C162.355 70.2522 162.218 70.3966 162.056 70.3937C161.888 70.3907 161.748 70.2419 161.753 70.0724C161.757 69.8867 161.887 69.7393 162.044 69.7422C162.221 69.7437 162.36 69.8896 162.357 70.0724Z",fill:"black"}),(0,n.jsx)("path",{d:"M158.503 70.3111C158.501 70.4909 158.364 70.6354 158.202 70.6324C158.034 70.6295 157.894 70.4806 157.899 70.3111C157.903 70.1254 158.033 69.9781 158.19 69.981C158.366 69.9825 158.504 70.1284 158.503 70.3111Z",fill:"black"}),(0,n.jsxs)("g",{clipPath:"url(#clip0_351_42930)",children:[(0,n.jsx)("path",{d:"M160.653 34.6219C159.783 34.5953 159.067 34.417 158.381 34.1016C158.163 34.0014 157.935 33.9248 157.712 33.8393C157.418 33.7258 157.16 33.5519 157.027 33.2645C156.723 32.6057 156.405 31.9484 156.169 31.2631C155.95 30.6249 156.085 29.9853 156.48 29.44C156.787 29.017 156.973 28.563 157.107 28.0619C157.272 27.4474 157.727 27.1069 158.346 26.9743C158.631 26.9139 158.9 26.933 159.171 27.0377C159.423 27.1349 159.684 27.1511 159.948 27.0789C160.437 26.9448 160.884 27.0833 161.322 27.2941C161.527 27.3914 161.736 27.4945 161.955 27.5432C162.679 27.7023 163.051 28.1784 163.149 28.8711C163.198 29.2145 163.17 29.5726 163.145 29.9219C163.123 30.227 163.155 30.5158 163.252 30.8032C163.504 31.549 163.466 32.2785 163.121 32.9904C162.91 33.4266 162.566 33.7214 162.147 33.9469C161.854 34.1046 161.562 34.2667 161.278 34.4406C161.048 34.5806 160.801 34.6292 160.653 34.6219ZM160.645 34.3477C160.872 34.3507 161.045 34.2785 161.276 34.1001C161.432 33.9808 161.618 33.8982 161.79 33.801C161.994 33.6875 162.233 33.6108 162.398 33.4561C163.099 32.7958 163.258 31.9499 163.023 31.0641C162.871 30.4923 162.825 29.944 162.891 29.3663C162.977 28.6117 162.564 28.0443 161.841 27.8438C161.59 27.7746 161.35 27.6567 161.114 27.5432C160.812 27.3987 160.501 27.2735 160.168 27.353C159.734 27.4562 159.322 27.4238 158.906 27.2838C158.771 27.2381 158.617 27.1968 158.479 27.213C157.922 27.2779 157.531 27.6065 157.391 28.1283C157.239 28.6957 156.984 29.1894 156.669 29.6772C156.342 30.1842 156.255 30.762 156.488 31.3441C156.718 31.9204 156.968 32.4893 157.216 33.0582C157.338 33.3411 157.553 33.5298 157.844 33.6374C158.118 33.7391 158.395 33.8349 158.662 33.9542C159.25 34.2151 159.873 34.3035 160.645 34.3477Z",fill:"black"}),(0,n.jsx)("path",{d:"M160.016 32.3624C159.391 32.3889 158.818 32.2902 158.371 31.8244C158.294 31.7449 158.222 31.6564 158.177 31.5577C158.154 31.512 158.135 31.425 158.221 31.3779C158.274 31.3484 158.342 31.3794 158.384 31.4118C158.492 31.4914 158.582 31.596 158.691 31.6756C159.204 32.0544 159.771 32.1723 160.386 31.9925C160.697 31.9026 160.913 31.6741 161.105 31.4236C161.176 31.3322 161.254 31.1937 161.382 31.2895C161.51 31.3867 161.395 31.5046 161.329 31.5931C160.994 32.0381 160.591 32.3653 160.016 32.3624Z",fill:"black"}),(0,n.jsx)("path",{d:"M161.974 29.9422C161.973 30.122 161.836 30.2665 161.674 30.2635C161.506 30.2606 161.366 30.1117 161.37 29.9422C161.375 29.7565 161.504 29.6092 161.662 29.6121C161.839 29.6136 161.977 29.7595 161.974 29.9422Z",fill:"black"}),(0,n.jsx)("path",{d:"M158.12 30.181C158.119 30.3608 157.982 30.5052 157.82 30.5023C157.652 30.4993 157.512 30.3505 157.516 30.181C157.521 29.9953 157.65 29.8479 157.808 29.8509C157.983 29.8523 158.122 29.9983 158.12 30.181Z",fill:"black"})]}),(0,n.jsxs)("g",{clipPath:"url(#clip1_351_42930)",children:[(0,n.jsx)("path",{d:"M114.675 114.329C114.278 114.328 114.256 114.309 114.215 113.917C114.185 113.631 114.162 113.343 114.154 113.056C114.112 111.501 114.087 109.946 114.039 108.393C114.025 107.893 114.025 107.893 114.462 107.849C114.934 107.802 115.45 107.815 115.924 107.803C117.613 107.764 119.304 107.73 120.993 107.694C121.058 107.693 121.127 107.697 121.183 107.703C121.305 107.716 121.319 107.809 121.321 107.868C121.332 108.088 121.311 108.309 121.311 108.53C121.308 110.144 121.308 111.758 121.307 113.371C121.307 113.565 121.302 113.759 121.301 113.952C121.298 114.281 121.192 114.39 120.854 114.388C120.221 114.387 119.587 114.381 118.953 114.378C118.542 114.377 115.69 114.332 114.675 114.329ZM120.946 108.032L114.356 108.123C114.336 108.123 114.319 108.141 114.321 108.16C114.384 110.116 114.446 112.049 114.51 114.007C114.51 114.026 114.526 114.042 114.545 114.042H120.952C120.977 114.042 120.996 114.021 120.996 113.998V108.082C120.996 108.054 120.974 108.032 120.946 108.032Z",fill:"black"}),(0,n.jsx)("path",{d:"M117.683 112.39C117.071 112.373 116.501 112.219 116.016 111.83C115.935 111.765 115.826 111.613 115.852 111.563C115.929 111.42 116.057 111.56 116.151 111.608C117.205 112.155 118.252 112.161 119.295 111.585C119.361 111.548 119.432 111.519 119.504 111.499C119.535 111.492 119.577 111.488 119.607 111.536C119.628 111.567 119.616 111.617 119.599 111.645C119.568 111.692 119.522 111.734 119.476 111.769C118.953 112.188 118.358 112.403 117.683 112.39Z",fill:"black"}),(0,n.jsx)("path",{d:"M117.349 109.66C117.133 110.082 116.915 110.502 116.696 110.922C116.68 110.953 116.576 111.096 116.462 111.038C116.421 111.018 116.384 110.978 116.384 110.884C116.384 110.836 116.405 110.78 116.427 110.735C116.627 110.338 116.829 109.942 117.034 109.548C117.063 109.492 117.102 109.433 117.152 109.398C117.193 109.369 117.267 109.354 117.311 109.37C117.469 109.426 117.373 109.615 117.349 109.66Z",fill:"black"}),(0,n.jsx)("path",{d:"M119.47 109.498C119.606 109.477 119.652 109.594 119.618 109.695C119.59 109.784 119.551 109.871 119.507 109.952C119.342 110.248 119.174 110.543 119.003 110.835C118.953 110.922 118.885 111.016 118.766 110.959C118.632 110.894 118.682 110.776 118.73 110.686C118.915 110.341 119.103 109.998 119.299 109.659C119.339 109.589 119.401 109.498 119.47 109.498Z",fill:"black"})]}),(0,n.jsx)("path",{d:"M66.4764 69.1441C66.5074 69.1087 66.5118 69.0557 66.4853 69.0159C66.2111 68.6622 65.9414 68.3306 65.6894 67.9857C65.4064 67.5966 65.4816 67.2959 65.9459 67.2031C67.2679 66.9334 68.5899 66.646 69.9296 66.4912C70.8138 66.394 70.9819 66.4205 70.8802 67.464C70.7608 68.6975 70.6105 69.6924 70.4336 70.9171C70.1727 72.7033 70.1064 72.92 69.7704 72.7431C69.6908 72.6989 69.4653 72.5795 69.3017 72.4381C69.1072 72.27 68.8728 72.1064 68.7623 71.9871C68.0902 72.973 67.5597 73.5478 66.7771 74.2729C65.4241 75.8028 62.873 76.0327 60.9187 74.3393C60.2953 73.7999 59.694 73.2383 59.0838 72.6857C58.1067 71.8014 56.9704 71.6289 55.7987 72.1418C54.9675 72.5044 54.2026 73.0261 53.4332 73.5125C52.0626 74.3791 50.6168 74.8787 48.9809 74.5161C48.6271 74.4365 48.2823 74.2818 47.9507 74.1226C47.4466 73.8794 47.2123 73.4727 47.2079 72.8935C47.2034 71.6289 47.1239 70.36 47.146 69.0955C47.1636 68.1449 47.3847 67.9945 48.3265 68.1625C50.1967 68.4897 51.9565 68.136 53.6631 67.3623C54.8039 66.845 55.9844 66.478 57.2445 66.3365C59.0175 66.2039 61.1486 66.8715 62.5856 68.4499C63.178 69.0999 63.9651 69.5553 64.8361 69.6879C65.4595 69.7719 65.8972 69.7321 66.4764 69.1441ZM66.4013 67.8265C66.64 68.1714 66.9009 68.4853 67.0777 68.839C67.1706 69.0291 67.3209 69.206 67.1131 69.5155C66.5737 70.3114 65.3888 70.8552 64.4381 70.5545C63.912 70.3909 63.4035 70.1124 62.9525 69.794C62.1876 69.2635 61.5112 68.6003 60.7286 68.1095C60.1626 67.7513 59.5038 67.4816 58.8495 67.3446C57.4832 67.0572 56.148 67.3578 54.879 67.8751C52.6993 68.7683 50.5283 69.6437 47.986 68.9142C47.986 70.1124 47.9949 71.2399 47.9816 72.3629C47.9728 73.3666 47.8357 73.2472 48.8349 73.5611C48.9853 73.6097 49.14 73.6495 49.2948 73.6716C50.6831 73.8794 51.8813 73.4019 53.022 72.6635C53.756 72.186 54.4899 71.682 55.2814 71.315C56.9969 70.5192 58.5134 70.8685 59.8443 72.2037C60.4146 72.7741 61.0292 73.3091 61.6836 73.7822C62.8022 74.5913 64.0225 75.1617 65.5037 74.3304C66.7284 73.5169 67.6304 72.6812 68.2317 71.3504C68.4837 70.7933 68.5368 70.8198 68.9613 71.2708C69.0983 71.4167 69.0983 71.4167 69.3592 71.6643C69.5537 71.9031 69.5626 71.6687 69.5758 71.483C69.7925 70.0151 69.9517 68.6489 70.1772 67.1235C68.8773 67.3623 67.6702 67.5878 66.4013 67.8265Z",fill:"black"}),(0,n.jsx)("rect",{x:"27.1929",y:"23.2581",width:"69.0706",height:"15.0489",rx:"2.12228",fill:"#E4CCFF",stroke:"black",strokeWidth:"0.38587",className:i_()(nq,nQ)}),(0,n.jsx)("rect",{x:"33.561",y:"29.2361",width:"21.6087",height:"4.63043",fill:"black",fillOpacity:"0.2",className:i_()(nq,nQ)}),(0,n.jsxs)("g",{clipPath:"url(#clip2_351_42930)",className:i_()(nq,nQ),children:[(0,n.jsx)("path",{d:"M83.8767 30.6015C83.9224 29.4063 84.425 28.2258 85.6055 27.4048C85.8988 27.2015 86.2466 27.0688 86.5841 26.9406C88.4322 26.2391 90.6842 27.508 91.1691 29.8013C91.514 31.4313 91.1102 32.8682 89.8265 33.9662C88.0785 35.4621 85.4817 34.9124 84.3881 32.855C84.0506 32.2153 83.8797 31.5344 83.8767 30.6015ZM87.4345 34.3214C88.1817 34.3229 88.7919 34.1298 89.2797 33.7894C91.2001 32.4467 91.3519 29.4225 89.5759 27.8897C88.7668 27.1911 87.8265 27.0084 86.8111 27.2339C86.4957 27.3046 86.1906 27.4874 85.9209 27.6775C84.3247 28.805 83.9062 31.135 84.9968 32.8196C85.6025 33.7569 86.4588 34.2875 87.4345 34.3214Z",fill:"black"}),(0,n.jsx)("path",{d:"M86.9275 33.1983C86.9039 33.2381 86.8744 33.2779 86.8523 33.3133C86.7963 33.4032 86.7683 33.4356 86.6622 33.3987C86.5826 33.3531 86.5988 33.2528 86.6194 33.1983C86.6754 33.045 86.7491 32.8976 86.8346 32.7576C86.8685 32.7016 86.9348 32.6014 87.0041 32.6338C87.0572 32.6663 87.097 32.6854 87.0513 32.8402C87.0424 32.8696 87.0321 32.905 87.0174 32.9522C87.3829 33.1364 87.7572 33.157 88.1434 33.0642C88.7049 32.9286 89.2192 32.5056 89.5155 31.9854C89.6393 31.7672 89.6909 31.558 89.7586 31.2941C89.7734 31.2396 89.8132 31.1482 89.7881 31.132C89.7542 31.1114 89.713 31.0849 89.6643 31.0642C89.57 31.0259 89.5788 30.9552 89.598 30.9095C89.6304 30.8299 89.6923 30.8211 89.7306 30.8314C89.9502 30.8874 90.1669 30.9581 90.3806 31.0318C90.4101 31.0421 90.4499 31.0745 90.4351 31.1453C90.4189 31.219 90.3703 31.2322 90.3275 31.2396C90.2612 31.2514 90.189 31.2337 90.1006 31.2263C90.0726 31.3457 90.0475 31.471 90.0121 31.5919C89.7424 32.5321 89.1632 33.1688 88.1979 33.4164C87.8103 33.5152 87.4168 33.44 86.9275 33.1983Z",fill:"black"}),(0,n.jsx)("path",{d:"M88.892 29.5476C88.892 29.4312 88.8744 29.3089 88.8994 29.1984C88.9156 29.1276 88.9525 29.02 89.0497 29.0215C89.1441 29.023 89.2148 29.0922 89.2369 29.1541C89.3784 29.5565 89.4359 29.9736 89.3784 30.3966C89.374 30.51 89.2634 30.5778 89.2133 30.5778C89.1234 30.5778 89.0335 30.5174 89.0085 30.4128C88.9407 30.1298 88.8788 29.5491 88.892 29.5476Z",fill:"black"}),(0,n.jsx)("path",{d:"M85.772 29.5404C85.7793 29.4697 85.8235 29.3459 85.9296 29.3252C86.0417 29.2957 86.0815 29.4299 86.0947 29.4888C86.1581 29.7718 86.1419 29.7187 86.1743 30.1152C86.1772 30.1432 86.1876 30.6163 86.1758 30.7445C86.164 30.8801 86.0903 30.9479 86.024 30.9508C85.8987 30.9582 85.8589 30.8742 85.8309 30.7754C85.7439 30.4748 85.7027 30.1697 85.772 29.5404Z",fill:"black"})]}),(0,n.jsx)("rect",{x:"106.08",y:"83.0787",width:"62.5109",height:"15.0489",rx:"2.12228",fill:"#AFF4C6",stroke:"black",strokeWidth:"0.38587",className:i_()(nq,n$)}),(0,n.jsx)("rect",{x:"112.062",y:"88.2883",width:"22.7663",height:"4.63043",fill:"black",fillOpacity:"0.2",className:i_()(nq,n$)}),(0,n.jsxs)("defs",{children:[(0,n.jsx)("clipPath",{id:"clip0_351_42930",children:(0,n.jsx)("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(155.496 26.5366)"})}),(0,n.jsx)("clipPath",{id:"clip1_351_42930",children:(0,n.jsx)("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(113.435 106.797)"})}),(0,n.jsx)("clipPath",{id:"clip2_351_42930",children:(0,n.jsx)("rect",{width:"8.48913",height:"8.48913",fill:"white",transform:"translate(83.3374 26.5366)"})})]})]})}function n5(e){return(0,n.jsxs)("svg",{width:"136",viewBox:"0 0 196 136",fill:"none",className:i_()(nK,{[nW]:e.hovered}),children:[(0,n.jsx)("rect",{x:"27.172",y:"7.98674",width:"141.765",height:"41.2909",fill:"#E4CCFF"}),(0,n.jsxs)("g",{filter:"url(#filter0_d_351_120552)",children:[(0,n.jsx)("rect",{x:"63.4768",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,n.jsx)("rect",{x:"63.6489",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,n.jsx)("rect",{x:"67.6057",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"67.6057",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsxs)("g",{filter:"url(#filter1_d_351_120552)",children:[(0,n.jsx)("rect",{x:"98.2268",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,n.jsx)("rect",{x:"98.3989",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,n.jsx)("rect",{x:"102.355",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"102.355",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsxs)("g",{filter:"url(#filter2_d_351_120552)",children:[(0,n.jsx)("rect",{x:"132.977",y:"13.321",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,n.jsx)("rect",{x:"133.149",y:"13.4931",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,n.jsx)("rect",{x:"137.109",y:"17.4517",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"137.109",y:"23.3",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"27.172",y:"7.98674",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),(0,n.jsx)("rect",{x:"27.172",y:"55.1305",width:"141.765",height:"41.2909",fill:"#BDE3FF"}),(0,n.jsxs)("g",{filter:"url(#filter3_d_351_120552)",children:[(0,n.jsx)("rect",{x:"32.5081",y:"60.4646",width:"26.8391",height:"30.6241",fill:"white"}),(0,n.jsx)("rect",{x:"32.6801",y:"60.6366",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,n.jsx)("rect",{x:"35.4333",y:"63.0461",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091"}),(0,n.jsxs)("g",{filter:"url(#filter4_d_351_120552)",children:[(0,n.jsx)("rect",{x:"63.4768",y:"60.4646",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,n.jsx)("rect",{x:"63.6489",y:"60.6366",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,n.jsx)("rect",{x:"67.6057",y:"64.5955",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"67.6057",y:"70.4438",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsxs)("g",{filter:"url(#filter5_d_351_120552)",children:[(0,n.jsx)("rect",{x:"98.2268",y:"60.4646",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,n.jsx)("rect",{x:"98.3989",y:"60.6366",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,n.jsx)("rect",{x:"102.355",y:"64.5955",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"102.355",y:"70.4438",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsxs)("g",{clipPath:"url(#clip0_351_120552)",children:[(0,n.jsx)("path",{d:"M52.4628 72.139C52.4653 75.5713 50.0667 78.5645 46.8075 79.1817C46.4186 79.2545 45.9344 79.3649 45.4652 79.3423C43.9397 79.2746 42.7856 78.9007 41.6465 77.9398C40.0834 76.6175 39.3433 74.8813 39.3884 72.8616C39.4461 70.2497 40.5727 68.1497 42.8057 66.7597C44.8831 65.4651 47.0785 65.3396 49.2663 66.5113C51.2635 67.5801 52.4603 69.7429 52.4628 72.139ZM51.8631 72.2494C51.8631 72.1992 51.8606 72.149 51.8556 72.0988C51.8105 71.7074 51.7804 71.3135 51.7101 70.9297C51.1732 67.9741 48.4785 65.9945 45.558 66.3959C41.215 66.993 38.6809 72.1214 40.816 75.9527C41.9451 77.9774 44.5018 79.0864 46.4563 78.705C49.5423 78.1029 51.7879 75.3906 51.8631 72.2494Z",fill:"black"}),(0,n.jsx)("path",{d:"M42.6576 74.7006C44.424 75.9777 47.5 76.2537 49.0179 74.3719C49.038 74.3468 49.0581 74.3268 49.0506 74.3217C48.9778 74.1812 48.7495 74.0081 48.9276 73.8551C49.1108 73.697 49.2563 73.8952 49.3767 74.0156C49.5524 74.1913 49.7305 74.3694 49.876 74.5701C49.9362 74.6554 50.0767 74.7934 49.9362 74.9139C49.8158 75.0318 49.7054 74.9716 49.5624 74.8637C49.5047 74.821 49.442 74.7658 49.4018 74.7332C49.2061 74.9139 49.033 75.0895 48.8448 75.2501C47.7384 76.196 46.4387 76.4067 45.0512 76.1884C44.0827 76.0354 43.1895 75.6741 42.4092 75.0594C42.3867 75.0418 42.3089 74.959 42.2738 74.9565C42.2035 74.9515 42.1859 74.9992 42.0931 75.0318C42.0279 75.0544 41.9902 75.1221 41.8598 74.9841C41.7519 74.8737 41.8272 74.7583 41.8773 74.7182C42.1408 74.5074 42.4193 74.3142 42.7053 74.1336C42.758 74.101 42.8784 74.0734 42.9386 74.1787C43.0039 74.2916 42.9437 74.3518 42.9035 74.4146C42.8433 74.5074 42.7505 74.5827 42.6551 74.6755C42.6526 74.6855 42.6526 74.6956 42.6576 74.7006Z",fill:"black"}),(0,n.jsx)("path",{d:"M49.5523 72.5779C49.5824 72.5804 49.6151 72.5729 49.6427 72.5603C49.8384 72.4575 49.8308 72.1639 49.8308 71.9858C49.8283 71.6094 49.7832 71.2958 49.7807 70.9345C49.7807 70.7865 49.7731 70.6284 49.8133 70.4904C49.8384 70.4051 49.9488 70.2972 50.0265 70.2922C50.1043 70.2872 50.2247 70.3223 50.2624 70.4603C50.4054 71.0549 50.4104 71.8403 50.3025 72.3496C50.2122 72.7786 49.8308 72.9894 49.5047 72.9919C49.1509 72.9944 48.762 72.7385 48.6566 72.3044C48.5437 71.8377 48.5362 71.3435 48.486 70.8617C48.4835 70.8341 48.4835 70.7438 48.486 70.7162C48.5061 70.5481 48.5663 70.4528 48.7821 70.4653C48.9401 70.4703 48.9853 70.6962 49.0154 70.8266C49.0681 71.0574 49.0505 71.3033 49.0907 71.5392C49.1534 71.898 49.191 72.5528 49.5523 72.5779Z",fill:"black"}),(0,n.jsx)("path",{d:"M42.7832 70.9848C42.7983 70.8819 42.7807 70.7339 42.989 70.7013C43.1721 70.6737 43.2549 70.8593 43.2625 70.9471C43.3051 71.4414 43.3528 71.9407 43.3126 72.4325C43.275 72.8891 42.866 73.273 42.4972 73.3181C42.0732 73.3708 41.604 73.1124 41.4635 72.6257C41.333 72.1765 41.2778 71.6396 41.2804 71.2206C41.2804 71.1504 41.3029 71.0174 41.4309 70.9973C41.594 70.9622 41.6316 71.1077 41.6542 71.1855C41.7495 71.4991 41.7972 71.8253 41.8951 72.1389C41.9528 72.3246 42.0456 72.5128 42.1685 72.6583C42.3693 72.8941 42.6327 72.849 42.713 72.5529C42.7908 72.2619 42.7506 71.198 42.7832 70.9848Z",fill:"black"})]}),(0,n.jsx)("path",{d:"M97.2147 88.2858L97.2147 88.2858L95.4155 90.1223L95.8404 92.7175C95.8404 92.7175 95.8404 92.7175 95.8404 92.7175C95.9069 93.1235 95.4922 93.4743 95.107 93.2618L92.891 92.0416L90.675 93.2618L90.6749 93.2619L97.2147 88.2858ZM97.2147 88.2858C97.5016 87.9928 97.3551 87.4674 96.9341 87.4033L97.2147 88.2858ZM90.3664 90.1223L89.9415 92.7175L92.4384 84.6696L92.4383 84.6698C92.4383 84.6698 92.4383 84.6698 92.4382 84.6699L91.3279 87.0259L88.8479 87.4033C88.8479 87.4033 88.8479 87.4033 88.8479 87.4033C88.4269 87.4674 88.2803 87.9928 88.5673 88.2858L88.5673 88.2858L90.3664 90.1223Z",fill:"#FFC700",stroke:"black",strokeWidth:"0.344091"}),(0,n.jsx)("rect",{x:"27.172",y:"55.1305",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),(0,n.jsx)("rect",{x:"27.172",y:"103.172",width:"141.765",height:"41.2909",fill:"#93E396"}),(0,n.jsxs)("g",{filter:"url(#filter6_d_351_120552)",children:[(0,n.jsx)("rect",{x:"32.5081",y:"108.506",width:"26.8391",height:"30.6241",fill:"white"}),(0,n.jsx)("rect",{x:"32.6801",y:"108.678",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,n.jsx)("rect",{x:"35.4333",y:"111.088",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091"}),(0,n.jsxs)("g",{clipPath:"url(#clip1_351_120552)",children:[(0,n.jsx)("path",{d:"M45.5755 113.495C47.3906 113.521 48.8594 114.261 50.2344 115.453C53.0677 117.912 53.2735 123.865 48.8125 126.552C45.7344 128.406 41.6458 127.526 39.6719 124.149C37.4896 120.417 39.2214 115.445 43.2344 113.925C43.987 113.638 44.7656 113.487 45.5755 113.495ZM51.6276 119.922C51.6693 118.594 51 117.055 49.8333 115.844C48.3386 114.294 46.4115 113.763 44.2891 114.255C40.3828 115.156 38.263 119.57 39.9349 123.261C41.1172 125.87 43.8958 127.331 46.5521 126.74C49.5443 126.073 51.6406 123.435 51.6276 119.922Z",fill:"black"}),(0,n.jsx)("path",{d:"M50.0078 122C49.2031 124.023 47.7682 125.206 45.5989 125.232C43.7396 125.253 42.3724 124.333 41.5417 122.617C41.4896 122.641 41.4271 122.672 41.3672 122.693C41.2812 122.724 41.2318 122.745 41.1536 122.646C41.1172 122.599 41.0599 122.516 41.1667 122.43C41.4297 122.213 41.7135 122.026 42 121.846C42.0443 121.818 42.1484 121.815 42.2083 121.906C42.2734 122.008 42.2318 122.073 42.1927 122.125C42.1198 122.221 42.0156 122.294 41.9114 122.385C42.9062 123.909 44.2318 124.825 46.1276 124.635C47.7995 124.469 49.0443 123.229 49.5 121.768C49.5208 121.703 49.4479 121.656 49.3776 121.57C49.2604 121.432 49.1797 121.409 49.3125 121.187C49.4088 121.049 49.5573 121.13 49.6432 121.174C49.9167 121.318 50.1875 121.476 50.4271 121.669C50.5208 121.745 50.6927 121.857 50.5807 122.057C50.4766 122.26 50.3333 122.128 50.1641 122.078C50.1172 122.057 50.0703 122.029 50.0078 122Z",fill:"black"}),(0,n.jsx)("path",{d:"M42.5313 117.878C42.6797 117.638 42.8412 117.448 43.1354 117.508C43.4167 117.565 43.5313 117.81 43.5339 118.036C43.5417 118.484 43.5339 118.945 43.4349 119.38C43.3334 119.828 43.125 120.255 42.9401 120.68C42.8099 120.979 42.6042 121.039 42.3802 120.82C41.6615 120.112 41.2266 119.263 41.2735 118.226C41.2865 117.932 41.4453 117.69 41.7396 117.591C42.0573 117.484 42.3021 117.63 42.5313 117.878ZM43.1094 117.927C43.1094 117.927 43.0521 117.844 42.9558 117.872C42.8828 117.867 42.8021 118.177 42.7552 118.341C42.711 118.495 42.7188 118.607 42.6094 118.625C42.4349 118.641 42.4479 118.492 42.375 118.419C42.3412 118.383 42.1771 117.919 41.9427 118.005C41.7917 118.06 41.7839 118.281 41.7917 118.414C41.8282 119.088 42.1354 119.667 42.5 120.286C42.8334 119.487 43.3308 118.414 43.1094 117.927Z",fill:"black"}),(0,n.jsx)("path",{d:"M48.4791 117.661C48.6692 117.555 48.8489 117.463 49.026 117.5C49.289 117.555 49.3411 117.831 49.3645 118.07C49.44 118.833 49.1093 119.479 48.7525 120.115C48.6718 120.258 48.5572 120.383 48.4817 120.531C48.2656 120.953 47.8932 120.875 47.6874 120.513C47.2578 119.75 47.013 118.911 47.0911 118.018C47.1197 117.677 47.2473 117.352 47.6249 117.263C48.0052 117.169 48.3359 117.409 48.4791 117.661ZM48.0104 120.148C48.0494 120.333 48.0885 120.19 48.1249 120.154C48.3854 119.763 48.6484 119.372 48.802 118.943C48.9218 118.607 49.2369 117.755 48.9062 117.841C48.8255 117.846 48.7421 118.094 48.6718 118.219C48.6145 118.318 48.4973 118.476 48.4479 118.484C48.2578 118.49 48.2812 118.318 48.2447 118.219C48.1588 117.995 48.1666 117.643 47.8463 117.685C47.5286 117.726 47.565 118.078 47.6067 118.307C47.7161 118.924 47.8723 119.536 48.0104 120.148Z",fill:"black"})]}),(0,n.jsxs)("g",{filter:"url(#filter7_d_351_120552)",children:[(0,n.jsx)("rect",{x:"63.4768",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,n.jsx)("rect",{x:"63.6489",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,n.jsx)("rect",{x:"67.6057",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"67.6057",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsxs)("g",{filter:"url(#filter8_d_351_120552)",children:[(0,n.jsx)("rect",{x:"98.2268",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,n.jsx)("rect",{x:"98.3989",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,n.jsx)("rect",{x:"102.355",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"102.355",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsxs)("g",{filter:"url(#filter9_d_351_120552)",children:[(0,n.jsx)("rect",{x:"134",y:"108.506",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,n.jsx)("rect",{x:"134.172",y:"108.678",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,n.jsx)("rect",{x:"138.129",y:"112.637",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"138.129",y:"118.485",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2"}),(0,n.jsx)("rect",{x:"27.172",y:"103.172",width:"141.765",height:"41.2909",stroke:"black",strokeWidth:"0.344091"}),(0,n.jsx)("path",{d:"M163.058 5.32444L163.144 5.46819L163.29 5.38648L163.93 5.02854C164.401 4.76472 164.965 4.6956 165.497 4.83787C166.028 4.98013 166.482 5.32166 166.759 5.78594C167.036 6.25002 167.113 6.7986 166.976 7.31116C166.839 7.82371 166.498 8.26021 166.026 8.52392L166.026 8.52399L165.449 8.84723L165.449 8.84732L161.674 10.9565L159.121 6.67356C158.844 6.20954 158.767 5.66108 158.904 5.1487C159.041 4.63631 159.382 4.20002 159.854 3.93649C160.326 3.67286 160.889 3.60389 161.421 3.74625C161.952 3.8886 162.406 4.23014 162.682 4.69436L163.058 5.32444Z",fill:"#F24E1E",stroke:"black",strokeWidth:"0.344091"}),(0,n.jsxs)("g",{clipPath:"url(#clip2_351_120552)",children:[(0,n.jsx)("path",{d:"M50.4871 107.641C48.8069 109.488 47.7973 109.61 46.2305 108.164C44.1148 111.157 42.1849 111.774 39.8514 110.153C39.3857 111.079 38.7655 112.239 37.5921 112.305C36.4645 112.372 35.5675 111.561 35.5655 111.477C35.4727 112.106 34.6737 113.559 33.4639 113.686C32.2099 113.819 31.2714 113.252 30.5935 112.255C29.723 110.962 29.5512 109.451 29.3703 107.956C29.191 106.467 29.0468 104.962 28.982 103.463C28.9502 102.678 29.0635 101.875 29.1937 101.087C29.2925 100.431 29.6597 99.9338 30.3896 99.8121C31.1194 99.6905 31.6381 100.065 31.9285 100.641C32.3488 101.47 32.6502 102.369 32.9353 103.077C33.2923 102.692 33.636 101.824 34.3226 101.609C35.0214 101.392 35.4604 101.455 36.3429 102.413C36.466 102.004 36.5602 101.635 36.6897 101.277C36.8358 100.882 36.9849 100.473 37.1984 100.113C37.8619 99.0194 38.6917 99.0087 39.483 100.068C41.3417 97.8755 42.7542 97.6508 45.017 99.1989C45.1976 98.6844 45.3353 98.1548 45.5664 97.6599C45.9532 96.8325 46.466 96.1419 47.5332 96.2202C48.4276 96.284 49.1693 96.9204 49.4516 97.9734C49.6358 98.6678 49.71 99.3903 49.8425 100.137C50.3717 99.6633 50.906 99.2599 51.6015 99.843C51.9154 98.8326 52.1853 97.879 52.518 96.9418C52.6775 96.4977 52.9121 96.067 53.1866 95.691C53.8238 94.8256 54.8328 94.8797 55.2722 95.86C55.5988 96.6025 55.8035 97.4282 55.8874 98.2393C56.1186 100.567 56.1084 102.892 55.4407 105.164C55.1061 106.296 54.4433 107.24 53.5059 107.974C52.1712 109.011 51.4815 108.934 50.4871 107.641ZM39.1546 101.785C39.0891 101.528 38.9628 100.247 38.431 100.253C38.0747 100.207 37.9209 100.878 37.8281 101.226C37.5065 102.512 37.3242 103.834 36.9597 105.104C36.8457 105.497 36.6329 105.708 36.3764 105.748C36.1323 105.836 36.0697 105.286 36.0118 105.034C35.8691 104.375 35.8318 103.695 35.6418 103.054C35.5686 102.793 35.455 102.425 34.9767 102.437C34.7887 102.44 34.5019 102.539 34.3083 102.901C34.0965 103.293 33.9031 103.707 33.7862 104.14C33.5734 104.91 33.4662 105.712 33.2259 106.475C33.1403 106.751 33.0228 107.08 32.747 107.222C32.492 107.268 32.2728 107.149 32.1872 106.305C32.1341 105.818 32.0887 105.335 32.0157 104.847C31.8459 103.7 31.6608 102.544 31.3612 101.424C31.2831 101.119 31.078 100.495 30.4631 100.684C29.8482 100.874 29.9096 101.47 29.9595 101.945C29.9644 101.989 29.9784 102.044 29.9848 102.095C30.134 103.39 30.2893 104.683 30.4324 105.98C30.6126 107.625 30.698 109.282 30.9957 110.903C31.2384 112.233 32.1254 112.904 33.1276 112.829C34.0977 112.757 34.5588 112.118 34.7112 110.629C34.7807 109.935 34.8013 109.227 34.9106 108.536C34.9416 108.326 35.0266 107.947 35.3415 107.957C35.6613 108.012 35.7028 108.352 35.753 108.574C35.8707 109.136 35.8113 109.743 36.0098 110.264C36.1478 110.626 36.541 110.993 36.9117 111.146C37.3912 111.342 37.9451 111.194 38.2282 110.698C38.5189 110.182 38.8062 109.627 38.9192 109.052C39.3781 106.599 39.4945 104.13 39.1546 101.785ZM50.8522 100.321C50.6149 100.258 50.3557 100.923 50.2715 101.178C50.0578 101.792 49.9284 102.43 49.7147 103.044C49.647 103.237 49.5064 103.527 49.2543 103.533C48.9942 103.482 48.9645 103.366 48.8893 103.021C48.8485 102.837 48.8275 102.628 48.8218 102.427C48.7926 101.55 48.8153 100.673 48.7357 99.8021C48.6756 99.1606 48.5757 98.4902 48.3279 97.9031C48.1793 97.5509 47.7245 97.1208 47.3882 97.1028C47.0656 97.0877 46.6017 97.4861 46.4018 97.8234C46.0823 98.38 45.9086 99.0228 45.7102 99.6459C45.6547 99.8358 45.6715 100.105 45.7672 100.275C46.8416 102.238 46.9952 104.339 46.6722 106.483C46.563 107.2 46.9941 107.487 47.413 107.803C47.8581 108.144 48.4053 108.147 48.8005 107.76C49.2155 107.348 49.5459 106.834 49.8595 106.331C50.0246 106.061 50.0502 105.703 50.206 105.423C50.2847 105.273 50.5023 105.107 50.6476 105.115C50.7592 105.119 50.9256 105.362 50.9616 105.529C51.0227 105.793 50.986 106.082 51.0211 106.346C51.1198 107.062 51.2231 107.517 51.6431 107.735C51.8624 107.881 52.5903 107.395 52.9417 107.091C54.0901 106.088 54.7064 104.76 54.7639 103.255C54.8461 101.237 54.8412 99.2094 54.7797 97.1893C54.7667 96.7568 54.7833 95.881 54.1461 95.9074C53.7619 95.8041 53.4068 96.5518 53.3005 96.9498C52.8868 98.4345 52.594 99.9599 52.2232 101.46C52.1499 101.758 52.0432 102.358 51.7501 102.433C51.4493 102.477 51.3007 102.405 51.1703 101.488C51.1212 101.169 51.1439 100.292 50.8522 100.321ZM45.4285 102.079C45.2305 101.635 45.0085 100.996 44.6721 100.419C43.5398 98.484 41.2245 98.5104 40.1057 100.468C39.9544 100.741 39.8878 101.142 39.9537 101.45C40.4517 103.651 40.4271 105.869 40.2406 108.089C40.1474 109.225 40.646 109.852 41.8126 109.938C43.2636 110.041 44.5426 109.168 45.2218 107.602C45.9719 105.856 45.931 103.407 45.4285 102.079Z",fill:"black"}),(0,n.jsx)("path",{d:"M59.6396 92.9477C59.6565 93.5223 59.7124 95.0885 59.7076 96.163C59.6942 97.6363 59.661 99.1083 59.5957 100.582C59.5728 101.154 59.472 101.726 59.3543 102.283C59.2411 102.806 58.8621 103.105 58.3303 103.111C57.7603 103.12 57.3065 102.872 57.0987 102.313C57.001 102.059 56.917 101.781 56.9124 101.509C56.9306 98.9612 57.0382 96.5596 57.0869 94.004C57.0898 93.6845 57.1071 93.2183 57.1818 92.9C57.328 92.2512 57.6344 91.8216 58.4066 91.8907C59.0794 91.9528 59.6227 92.3732 59.6396 92.9477ZM58.2221 102.332C58.2955 102.339 58.3705 102.352 58.4373 102.283C58.5789 102.175 58.5611 102.004 58.5634 101.861C58.6363 98.9672 58.7107 96.0798 58.7514 93.1879C58.7564 92.9785 58.7327 92.5553 58.3965 92.5632C57.9562 92.5458 58.0021 93.3861 57.9966 93.7713C57.9589 96.3956 57.9427 99.0275 57.9433 101.649C57.9446 101.882 57.9833 102.263 58.2221 102.332Z",fill:"black"}),(0,n.jsx)("path",{d:"M59.9054 105.251C60.1529 106.345 59.539 107.276 58.6658 107.474C57.8782 107.649 57.0496 107.055 56.8431 106.171C56.6145 105.176 57.0259 104.394 57.9922 104.179C58.8348 103.99 59.7065 104.372 59.9054 105.251ZM57.6513 105.847C57.8325 106.555 58.3501 106.468 58.4661 106.438C58.8092 106.305 59.0463 106.062 58.7828 105.388C58.71 105.205 58.5347 105.003 58.249 105.031C57.696 105.081 57.5609 105.519 57.6513 105.847Z",fill:"black"}),(0,n.jsx)("path",{d:"M42.9659 102.547C42.9771 102.921 43.0739 105.537 43.0732 107.085C43.0759 107.299 42.9866 107.738 42.5969 107.74C42.2333 107.768 42.0919 107.343 42.0754 107.126C41.9862 105.607 41.9396 104.078 41.9404 102.555C41.9392 102.322 42.0882 101.913 42.4165 101.848C42.8885 101.812 42.9547 102.172 42.9659 102.547Z",fill:"black"})]}),(0,n.jsxs)("g",{filter:"url(#filter10_d_351_120552)",className:i_()(nq,nZ),children:[(0,n.jsx)("rect",{x:"132.649",y:"60.1077",width:"30.6241",height:"30.6241",fill:"#FFD45B"}),(0,n.jsx)("rect",{x:"132.821",y:"60.2797",width:"30.28",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,n.jsx)("rect",{x:"136.782",y:"64.2385",width:"22.0218",height:"4.12909",fill:"black",fillOpacity:"0.2",className:i_()(nq,nZ)}),(0,n.jsx)("rect",{x:"136.782",y:"70.0869",width:"19.2691",height:"4.12909",fill:"black",fillOpacity:"0.2",className:i_()(nq,nZ)}),(0,n.jsxs)("g",{filter:"url(#filter11_d_351_120552)",className:i_()(nq,nJ),children:[(0,n.jsx)("rect",{x:"32.7107",y:"12.5178",width:"26.8391",height:"30.6241",fill:"white"}),(0,n.jsx)("rect",{x:"32.8827",y:"12.6899",width:"26.495",height:"30.28",stroke:"black",strokeWidth:"0.344091"})]}),(0,n.jsx)("rect",{x:"35.6359",y:"15.0993",width:"20.9895",height:"18.5809",fill:"#F5F5F5",stroke:"black",strokeWidth:"0.344091",className:i_()(nq,nJ)}),(0,n.jsx)("path",{className:i_()(nq,nJ),d:"M40.2485 22.3512C41.0198 21.4451 41.8657 20.5791 42.8005 19.8422C43.4514 19.3289 43.6751 19.3031 44.0335 19.2056C44.131 19.1798 44.217 19.1196 44.3002 19.0594C47.7898 16.5963 52.2372 18.3425 53.0974 22.6896C53.668 25.5742 52.1971 28.4387 49.668 29.6086C49.6278 29.6287 49.5676 29.6345 49.5476 29.666C49.0458 30.4517 48.025 30.7556 47.4027 30.9105C47.2766 30.9563 47.1791 31.0882 47.0644 31.1743C46.9755 31.2402 46.8866 31.3119 46.7862 31.3578C43.4973 32.8832 39.9618 30.8416 39.1876 27.4638C39.0786 26.9878 38.5997 24.1147 40.2485 22.3512ZM47.0988 29.4251C48.2716 29.4194 49.0372 29.2273 49.7225 28.8516C53.02 27.0423 53.5132 22.1275 50.6114 19.7275C48.9483 18.354 46.8206 18.1217 44.9511 19.4379C42.7288 21.0006 41.9231 24.2036 43.1675 26.6237C44.0622 28.3642 45.4816 29.3248 47.0988 29.4251ZM48.2199 30.1678C48.3633 30.1162 48.3834 30.0789 48.3604 30.0617C48.3604 30.0617 48.3002 30.0617 48.1999 30.0646C45.6192 30.2596 43.6779 29.233 42.5281 26.919C41.4041 24.6595 41.6765 22.4401 43.0041 20.3153C42.898 20.3669 42.812 20.43 42.7346 20.5017C40.9453 22.1218 40.4177 24.8659 41.45 27.2115C42.4019 29.3764 44.4005 30.661 46.6486 30.5004C47.1762 30.4631 47.6952 30.2825 48.2199 30.1678ZM40.6413 22.7297C40.6442 22.6465 40.5668 22.7498 40.5553 22.7641C40.5152 22.8186 40.475 22.8759 40.4406 22.9333C39.9675 23.7304 39.6722 24.5935 39.632 25.5197C39.5374 27.6301 40.2772 29.3793 42.0636 30.5721C43.2507 31.3664 44.5697 31.5298 45.9489 31.0997C43.9331 30.8961 42.3618 29.9613 41.3009 28.2352C40.2399 26.5147 40.0707 24.6681 40.6413 22.7297Z",fill:"black"}),(0,n.jsx)("path",{className:i_()(nq,nJ),d:"M49.2781 24.5675C49.6738 24.5819 49.8028 24.7883 49.6738 25.1611C49.3526 26.0787 48.4494 26.526 47.529 26.2048C46.9841 26.0127 46.5569 25.6629 46.2616 25.164C46.035 24.7797 46.1354 24.5589 46.5798 24.5303C47.0444 24.4987 48.8451 24.5503 49.2781 24.5675ZM49.1892 25.0149C48.3978 25.0149 47.6265 25.0149 46.8465 25.0149C47.6379 25.9353 48.8078 25.9525 49.1892 25.0149Z",fill:"black"}),(0,n.jsx)("path",{className:i_()(nq,nJ),d:"M46.0523 22.9417C46.0552 23.389 45.625 23.7962 45.1548 23.7933C44.7447 23.7905 44.458 23.4206 44.4551 23.0277C44.4494 22.6349 44.8508 22.2478 45.2924 22.2363C45.7168 22.222 46.0523 22.5317 46.0523 22.9417ZM45.1921 22.6578C44.9799 22.6922 44.9139 22.893 44.9311 23.0449C44.9541 23.2657 45.1204 23.3202 45.2236 23.3231C45.3211 23.3259 45.5132 23.2284 45.5534 23.0392C45.605 22.8471 45.496 22.5861 45.1921 22.6578Z",fill:"black"}),(0,n.jsx)("path",{className:i_()(nq,nJ),d:"M51.5318 23.0622C51.5261 23.4952 51.2193 23.8135 50.8092 23.8106C50.3676 23.8077 50.0494 23.4493 50.0637 22.9704C50.0752 22.5547 50.3848 22.2335 50.7691 22.2421C51.1677 22.2536 51.5376 22.6493 51.5318 23.0622ZM51.1361 23.0507C51.1361 22.8299 51.0185 22.6808 50.835 22.6808C50.7232 22.6808 50.534 22.7669 50.534 23.002C50.534 23.412 50.835 23.3891 50.835 23.3891C50.9956 23.3833 51.1361 23.3174 51.1361 23.0507Z",fill:"black"}),(0,n.jsxs)("defs",{children:[(0,n.jsxs)("filter",{id:"filter0_d_351_120552",x:"63.4768",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter1_d_351_120552",x:"98.2268",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter2_d_351_120552",x:"132.977",y:"13.321",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter3_d_351_120552",x:"32.5081",y:"60.4646",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter4_d_351_120552",x:"63.4768",y:"60.4646",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter5_d_351_120552",x:"98.2268",y:"60.4646",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter6_d_351_120552",x:"32.5081",y:"108.506",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter7_d_351_120552",x:"63.4768",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter8_d_351_120552",x:"98.2268",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter9_d_351_120552",x:"134",y:"108.506",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter10_d_351_120552",x:"132.649",y:"60.1077",width:"31.3122",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,n.jsxs)("filter",{id:"filter11_d_351_120552",x:"32.7107",y:"12.5178",width:"27.5273",height:"31.3122",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,n.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,n.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,n.jsx)("feOffset",{dx:"0.688182",dy:"0.688182"}),(0,n.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,n.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,n.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_351_120552"}),(0,n.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_351_120552",result:"shape"})]}),(0,n.jsx)("clipPath",{id:"clip0_351_120552",children:(0,n.jsx)("rect",{width:"14.4518",height:"14.4518",fill:"white",transform:"translate(38.6985 65.2793)"})}),(0,n.jsx)("clipPath",{id:"clip1_351_120552",children:(0,n.jsx)("rect",{width:"15",height:"15",fill:"white",transform:"translate(38 113)"})}),(0,n.jsx)("clipPath",{id:"clip2_351_120552",children:(0,n.jsx)("rect",{width:"36.296",height:"36.296",fill:"white",transform:"translate(23 89.9951) rotate(-14.3491)"})})]})]})}var n4=i(816671),n6=i(320848);let n7="browse_templates_make_something_onboarding--faded--UuXrP";var n8=i(758664),n9=i(430011),re=i(519128),rt=i(221042);let ri="loadingMakeSomethingTemplate",rn=e=>{let t=(0,S.Xr)(n_.w),{name:i}=(0,h.j6)(),a=(0,p.wA)(),[s,o]=(0,r.useState)(n4.fD.NONE),l=(0,r.useCallback)(e=>{a(nj.Ji({isActive:e}))},[a]);(0,r.useEffect)(()=>(l(!0),()=>{l(!1)}),[l]);let d=(0,nI.g)();(0,r.useEffect)(()=>(d&&w.gw5?.setFigjamStarterKitEnabled(!0),()=>{w.gw5?.setFigjamStarterKitEnabled(!1)}),[d]);let c=(0,S.Xr)(nG.Qs);(0,r.useEffect)(()=>{c({type:"CLOSE"})},[c]);let u=(0,iU.O)(),f=(0,r.useRef)(Date.now()),g=e.onHideModal,_=(0,r.useCallback)(()=>{g(),(0,iM.YQ)({id:n4.Lz}),a(m.b({figjam_browse_templates_modal_onboarding_item_selected:!0})),a(eE.Ce()),t(n_.tX.COMPLETED)},[g,a,t]),x=t=>{(!e.shouldAcceptClickUseCaseTile||e.shouldAcceptClickUseCaseTile())&&((0,ef.Cu)({trackingContext:i,text:`${t} tile clicked`},"CTA Clicked"),e.onClickUseCaseTile(t))};function y(t,n){(0,ef.Cu)({trackingContext:i,text:`${t} tile hovered`},"CTA Hovered"),o(t),e.onUseCasePreview?.(t,n)}let b=[{headerText:(0,N.t)("figjam_onboarding_make_something.templates_modal.button_title.brainstorm"),headerIcon:n8.A,previewSvg:e=>(0,n.jsx)(n1,{hovered:e}),useCase:n4.fD.BRAINSTORM,previewType:w.KpW.MAKE_SOMETHING_BRAINSTORM},{headerText:(0,N.t)("figjam_onboarding_make_something.templates_modal.button_title.team_updates"),headerIcon:rt.A,previewSvg:e=>(0,n.jsx)(n5,{hovered:e}),useCase:n4.fD.UPDATES,previewType:w.KpW.MAKE_SOMETHING_TEAM_UPDATES},{headerText:(0,N.t)("figjam_onboarding_make_something.templates_modal.button_title.planning_ahead"),headerIcon:n9.A,previewSvg:e=>(0,n.jsx)(n3,{hovered:e}),useCase:n4.fD.PLAN,previewType:w.KpW.MAKE_SOMETHING_PLANNING},{headerText:(0,N.t)("figjam_onboarding_make_something.templates_modal.button_title.team_chart"),headerIcon:re.A,previewSvg:e=>(0,n.jsx)(n2,{hovered:e}),useCase:n4.fD.TEAM,previewType:w.KpW.MAKE_SOMETHING_TEAM_CHART}];function C(e,t){let i=b.findIndex(t=>t.useCase===e)+t;return i>b.length-1?i=0:i<0&&(i=b.length-1),i}return{hoveredUseCase:s,setHoveredUseCase:o,onClickCloseButton:()=>{e.onHideModal(),(0,iM.YQ)({id:n4.Lz}),t(n_.tX.COMPLETED);let i=Math.round((Date.now()-f.current)/1e3);u({eventName:"msv2_dismissed",style:e.style,secondsAfterShown:i})},onClickMoreTemplatesButton:()=>{a(eE.$O({type:nD.PH.type,data:{templateInsertionLocation:e.templateInsertionLocation,triggeredFrom:"makeSomething",onTemplateInsertedCurrentFile:_,onTemplateInsertedNewFile:_}})),u({eventName:"more_templates_clicked",style:e.style})},onClickUseCaseTile:x,onUseCasePreview:y,useCaseTiles:b,onListBoxKeydown:function(e){let t;if("Enter"===e.key){s!==n4.fD.NONE&&b.find(({useCase:e})=>e===s)&&x(s);return}if("Home"===e.key)t=0;else if("End"===e.key)t=b.length-1;else if(["ArrowUp","ArrowLeft"].includes(e.key))t=C(s,-1);else{if(!["ArrowDown","ArrowRight"].includes(e.key))return;t=C(s,1)}let i=b[t];i&&(o(i.useCase),y(i.useCase,i.previewType))}}},rr={[n4.fD.BRAINSTORM]:n4.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED,[n4.fD.PLAN]:n4.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED,[n4.fD.UPDATES]:n4.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED,[n4.fD.TEAM]:n4.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED},ra=(0,nU.n)(({onSuccess:e}={})=>{let t=(0,S.Xr)(n_.w),i=(0,p.wA)(),n=(0,eH.aV)(),a=(0,nI.g)(),s=(0,p.d4)(e=>e.mirror.appModel.multiplayerSessionState===w.kul.JOINED),{hubFiles:o,templates:l,categoryIds:d,isLoading:c}=(0,nF.bg)({templatesShelfType:nL.cS.FIGJAM_SIMPLE_TEMPLATES_PICKER,source:"make-something-v2",isCmtyShelvesV2Enabled:(0,nw.Sm)()}),{insertTemplate:u}=(0,nk.Fz)(),h=(0,r.useMemo)(()=>{let e={};return Object.keys(o).filter(e=>d.some(t=>l[t]?.includes(e))).reduce((e,t)=>{let i=o[t];return i&&(e[(0,nA.a6)(i).name.toUpperCase()]=i),e},e),e},[o,l,d]),f=a&&!c&&!n&&s;return{insert:(0,r.useCallback)(n=>{if(!f)return;if(n===n4.fD.NONE){e?.();return}let r=h[n],a=rr[n];r&&u({template:{template:r,type:nO.n.HubFile},onSuccess:()=>{e?.(),i(em.F.dequeue({matchType:ri})),(0,iM.YQ)({id:a}),i(m.b({figjam_browse_templates_modal_onboarding_item_selected:!0})),t(n_.tX.USE_CASE_STEPS),n===n4.fD.PLAN?w.glU.setCanvasZoomScale(.8):n===n4.fD.TEAM&&w.glU.setCanvasZoomScale(1.2)},triggeredFrom:"browse-templates-make-something",selectTemplateAfterInsertion:!1}),i(em.F.enqueue({message:(0,N.t)("figjam_onboarding_make_something.visual_bell.loading_template"),icon:eh.zX.SPINNER,type:ri}))},[i,e,u,t,h,f]),canInsert:f}});function rs(e){let t=(0,p.d4)(e=>{let t=e?.mirror?.appModel?.currentPage,i=e?.mirror?.sceneGraph,n=i?.get(t);return!n||!n.childCount||n.childrenAreAllGhosts}),i=(0,iy.Un)(),a=(0,iU.O)(),s=!i||t,o=s?"banner":"popup",l=()=>{e.hideModal?.()},d=e=>{a({eventName:"use_case_hovered",useCase:e,style:o})},c=e=>{a({eventName:"use_case_clicked",useCase:e,style:o})};function u(e,t){if("Escape"===e.key){t(),e.preventDefault(),e.stopPropagation();return}}return function(e){let t=(0,iU.O)(),i=(0,nE.ZC)(e);(0,r.useEffect)(()=>{if(!i){t({eventName:"msv2_shown",style:e});return}if(i!==e){t({eventName:"msv2_style_changed",style:e,prevStyle:i});return}},[i,e,t])}(o),s?(0,n.jsx)(ro,{onHideModal:l,trackUseCaseHover:d,trackUseCaseClick:c,onEscapeDown:u}):(0,n.jsx)(rl,{onHideModal:l,trackUseCaseHover:d,trackUseCaseClick:c,onEscapeDown:u})}function ro(e){let{onHideModal:t,trackUseCaseHover:i,trackUseCaseClick:a}=e,[s,o]=(0,r.useState)(!1),l=(0,r.useRef)(!1),{insert:d,canInsert:c}=ra({onSuccess:()=>{l.current=!1}}),{hoveredUseCase:u,setHoveredUseCase:p,onClickCloseButton:m,onClickMoreTemplatesButton:h,onClickUseCaseTile:f,onUseCasePreview:g,useCaseTiles:_,onListBoxKeydown:x}=rn({templateInsertionLocation:nA.RD.CURRENT_FILE,onHideModal:t,onClickUseCaseTile(e){l.current=!0,d(e),t(),a(e)},onUseCasePreview(e,t){w.gw5.clearFigjamStarterKitPreview(),w.gw5.rotateFigjamStarterKitStrings(),w.gw5.showFigjamStarterKitPreview(t),i(e)},shouldAcceptClickUseCaseTile:()=>!l.current,style:"banner"});function y(){o(!1),w.gw5.clearFigjamStarterKitPreview(),p(n4.fD.NONE)}return c?(0,n.jsx)("div",{className:I.s.flex.justifyCenter.$,children:(0,n.jsx)(ny.b,{className:"browse_templates_make_something_onboarding--modalContainer--tYRC4",htmlAttributes:{onKeyDown(t){e.onEscapeDown(t,m)}},children:(0,n.jsxs)(nb.i,{children:[(0,n.jsx)("div",{className:i_()("browse_templates_make_something_onboarding--closeHeader--tGUaS",{[n7]:s}),children:(0,n.jsx)(tW.Me,{onClick:m,"aria-label":(0,N.t)("general.close"),trackingEventName:"modal closed",htmlAttributes:{"data-testid":"MakeSomethingCloseButton"},children:(0,n.jsx)(E.A,{})})}),(0,n.jsxs)("div",{className:"browse_templates_make_something_onboarding--makeSomethingContainer--rxr6G",children:[(0,n.jsxs)("div",{className:i_()("browse_templates_make_something_onboarding--titleContainer--41-OQ",{[n7]:s}),children:[(0,n.jsx)("div",{className:"browse_templates_make_something_onboarding--title--OqmHP text--fontPos20Whyte--o3mBO text--_fontBaseWhyte--efAjI",children:(0,N.tx)("figjam_onboarding_make_something.templates_modal.main_title")}),(0,n.jsx)("div",{className:"browse_templates_make_something_onboarding--subtitle--T-kBc text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI",children:(0,N.tx)("figjam_onboarding_make_something.templates_modal.main_subtitle")}),(0,n.jsx)("div",{className:"browse_templates_make_something_onboarding--templateButtonContainer--ey3hb",children:(0,n.jsx)("div",{className:"browse_templates_make_something_onboarding--templateButtonShadow--PGxmP",children:(0,n.jsx)(tW.c,{variant:"secondary",onClick:h,iconPrefix:(0,n.jsx)(nv.Q,{}),trackingEventName:"more templates click",htmlAttributes:{onFocus:y},autoFocus:!1,children:(0,N.tx)("figjam_onboarding_make_something.templates_modal.button_title.templates_button")})})})]}),(0,n.jsx)("div",{"aria-activedescendant":u,"aria-label":(0,N.t)("figjam_onboarding_make_something.use_case_listbox.aria_label"),"aria-orientation":"horizontal",className:"browse_templates_make_something_onboarding--listItems--57vh3",onKeyDown:x,onMouseEnter:()=>o(!0),onMouseLeave:y,role:"listbox",tabIndex:0,children:_.map(({headerIcon:e,headerText:t,useCase:i,previewSvg:r,previewType:a})=>(0,n.jsxs)(nC.E,{className:i_()("browse_templates_make_something_onboarding--useCaseContainer--nnBm-",{[n7]:![n4.fD.NONE,i].includes(u)}),onClick:()=>f(i),htmlAttributes:{onFocus:()=>g(i,a),onMouseEnter:()=>g(i,a),tabIndex:-1},children:[(0,n.jsxs)("div",{className:"browse_templates_make_something_onboarding--useCaseHeader--0ad0i text--fontPos11Whyte--wZDnv text--_fontBaseWhyte--efAjI",children:[(0,n.jsx)(nT.B,{svg:e,height:"28px",width:"28px",autosize:!0,className:"browse_templates_make_something_onboarding--useCaseIcon--0Dqvb",useOriginalSrcFills_DEPRECATED:!0}),t]}),(0,n.jsxs)("div",{className:"browse_templates_make_something_onboarding--previewContainer--lohmG",children:[(0,n.jsx)("div",{className:"browse_templates_make_something_onboarding--gradientOverlay--PmGRF"}),(0,n.jsx)("div",{children:r(u===i)})]})]},i))})]})]})})}):null}function rl(e){let{onHideModal:t,trackUseCaseHover:i,trackUseCaseClick:a}=e,{shiftPopupUp:s,popupRef:o}=function(){let e=nz.C()?.whiteboardToolbeltContainerNode,t=(0,r.useRef)(null),[i,n]=(0,r.useState)(!1);return(0,r.useLayoutEffect)(()=>{let i=(0,nH.s)(()=>{let i=t.current?.getBoundingClientRect(),r=e?.getBoundingClientRect();i&&r&&n(r.left-i.right<24)},100);return i(),window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)},[e]),{popupRef:t,shiftPopupUp:i}}(),l=(0,p.wA)(),d=(0,nN.B)(),{hoveredUseCase:c,setHoveredUseCase:u,onClickCloseButton:m,onClickMoreTemplatesButton:h,onClickUseCaseTile:f,onUseCasePreview:g,useCaseTiles:_,onListBoxKeydown:x}=rn({templateInsertionLocation:nA.RD.NEW_FILE,onHideModal:t,onClickUseCaseTile(e){l(nS.zE({state:d,from:nR.f6.FIGJAM_MAKE_SOMETHING_POPUP,editorType:ne._Y.WHITEBOARD,team:void 0,openNewFileIn:nR.ai.NEW_TAB,figjamMakeSomethingUseCase:e})),a(e)},onUseCasePreview(e){i(e)},style:"popup"});return(0,n.jsx)("div",{className:i_()("browse_templates_make_something_onboarding--popupBackground--qUE9z",{"browse_templates_make_something_onboarding--popupBackgroundAboveDlt--3VTFo":s}),children:(0,n.jsx)(ny.b,{className:"browse_templates_make_something_onboarding--popupModal--y2117",ref:o,htmlAttributes:{onKeyDown(t){e.onEscapeDown(t,m)}},children:(0,n.jsxs)(nb.i,{children:[(0,n.jsxs)("div",{className:"browse_templates_make_something_onboarding--popupHeader--gqTTZ",children:[(0,n.jsx)("h2",{className:"browse_templates_make_something_onboarding--popupTitle--qSiMo text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI",children:(0,N.tx)("figjam_onboarding_make_something.popup.title")}),(0,n.jsx)(tW.Me,{onClick:m,"aria-label":(0,N.t)("general.close"),trackingEventName:"modal closed",htmlAttributes:{"data-testid":"MakeSomethingCloseButton"},children:(0,n.jsx)(E.A,{})})]}),(0,n.jsxs)("div",{className:I.s.pt8.pr12.pb12.pl12.$,children:[(0,n.jsx)("div",{"aria-activedescendant":c,"aria-label":(0,N.t)("figjam_onboarding_make_something.use_case_listbox.aria_label"),"aria-orientation":"vertical",onKeyDown:x,role:"listbox",tabIndex:0,className:"browse_templates_make_something_onboarding--popupUseCasesContainer--U5E6f",children:_.map(({headerIcon:e,headerText:t,useCase:i})=>(0,n.jsxs)("button",{"aria-label":t,"aria-selected":c===i,className:i_()("browse_templates_make_something_onboarding--popupButton--r5tGZ text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI",{"browse_templates_make_something_onboarding--popupButtonActive--EbHMe":c===i}),id:`make-something-onboarding-${i}`,onBlur:()=>u(n4.fD.NONE),onClick:()=>f(i),onFocus:()=>g(i),onMouseEnter:()=>g(i),onMouseLeave:()=>u(n4.fD.NONE),role:"option",tabIndex:-1,children:[(0,n.jsx)(nT.B,{className:i_()({"browse_templates_make_something_onboarding--brainstormIcon--O0mh5":i===n4.fD.BRAINSTORM}),svg:e,height:i===n4.fD.BRAINSTORM?"16px":"20px",width:i===n4.fD.BRAINSTORM?"16px":"20px",autosize:!0,useOriginalSrcFills_DEPRECATED:!0}),t]},i))}),(0,n.jsx)(tW.lR,{trackingEventName:"more templates click",onClick:h,variant:"ghost",htmlAttributes:{onFocus:()=>u(n4.fD.NONE),onMouseEnter:()=>u(n4.fD.NONE)},children:(0,N.tx)("figjam_onboarding_make_something.templates_modal.button_title.templates_button")})]})]})})})}function rd(){let{insert:e,canInsert:t}=ra(),[i,n]=(0,S.fp)(n_.l5),a=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{t&&i!==n4.fD.NONE&&!a.current&&(e(i),a.current=!0)},[i,e,t]),(0,r.useEffect)(()=>()=>n(n4.fD.NONE),[n]),null}n4.Og,eQ.q3.SELF_CONTAINED,e=>(0,n.jsx)(rs,{hideModal:e.dismissModal});let rc=`${n4.Og} Templates Toolbar Connector Tooltip`,ru=`${n4.Og} Templates Toolbar Onboarding Finished Connector Tooltip`;function rp(e){return(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:nP.G,topPadding:-6,autoWidth:!0,isBold:!0,arrowPosition:nB.F_.BOTTOM,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{className:n6.RL,children:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_connector.body_text",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_connector.body_text_bold")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_connector.done_button"),onButtonClick:e.onClickPrimaryCta})})}function rm(e){return(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:nP.G,topPadding:-6,autoWidth:!0,isBold:!0,arrowPosition:nB.F_.BOTTOM,children:(0,n.jsx)(nM.mI,{titleText:(0,n.jsx)("span",{className:"browse_templates_make_something_onboarding--tooltipTitle--EmYZQ",children:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.title_want_to_try_something_else")}),bodyText:(0,n.jsx)("span",{className:n6.$s,children:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.body_text",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_onboarding_finished_connector.body_text_bold")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.templates_toolbar_connector.done_button"),onButtonClick:e.onClickPrimaryCta})})}function rh(e){let t=(0,S.Xr)(n_.w);return(0,tx.h)(()=>{t(n_.tX.MODAL_SHOWING)}),(0,n.jsx)(eq.h,{testId:e.testId?e.testId:"MakeSomethingOnboardingOverlay",modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"Make Something Modal Onboarding",element:r.useCallback(e=>(0,n.jsx)(nx.m,{role:"region","aria-label":(0,N.t)("figjam_onboarding_make_something.accessible_area.aria_label"),children:(0,n.jsx)(rs,{hideModal:e.dismissModal})}),[]),isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}eQ.q3.SELF_CONTAINED,eQ.q3.SELF_CONTAINED;let rf="figjam_unified_onboarding_product",rg="figjam_unified_onboarding_pz";function r_(e){(0,iM.YQ)({id:e===iy.jg.PRODUCT_THEN_PZ?rf:rg})}let rx=[i1,i2];function ry(){let e=(0,S.md)(iy.Am),{show:t,uniqueId:i,isShowing:a,complete:s}=(0,f.e)({overlay:y.wRI,priority:g.N.OVERRIDING_MODAL}),o=nh((0,r.useCallback)(()=>{s(),e===iy.jg.PZ_THEN_PRODUCT&&(0,iM.YQ)({id:rf}),e===iy.jg.PRODUCT_THEN_PZ&&(0,iM.YQ)({id:np})},[s,e]));return(0,ej.E)(i,rg,()=>{t()}),(0,n.jsx)(ng,{steps:rx,onComplete:o,isShowing:a,overlayUniqueId:i})}function rb(){let e=(0,S.md)(iy.Am),t=(0,S.md)(n_.w),{show:i,uniqueId:a,isShowing:s,complete:o}=(0,f.e)({overlay:y.Kze,priority:g.N.OVERRIDING_MODAL}),l=nh(o);return(0,ej.E)(a,rf,()=>{i()}),(0,r.useEffect)(()=>{t===n_.tX.COMPLETED&&e===iy.jg.PRODUCT_THEN_PZ&&(0,iM.YQ)({id:rg}),t===n_.tX.COMPLETED&&e===iy.jg.PZ_THEN_PRODUCT&&(0,iM.YQ)({id:np})},[t,e]),(0,n.jsx)(rh,{onClickPrimaryCta:l,onClose:iR.lQ,onManualDismiss:l,isShowing:s})}var rC=i(657224),rv=i(107215),rE=i(11),rT=i(176973),rw=i(245577),rj=i(797994),rS=i(845253),rk=i(713695),rI=i(598018),rN=i(595131),rA=i(443820),rO=i(976345);let rL=(0,eC.ck)("964c3ddf18b0f2712b664efde991dfc4f2c58eb8"),rR=(0,nU.D)((e,t)=>{t(rO.V3({url:e}))});function rM(e){let t=(0,p.wA)();return(0,n.jsx)("div",{className:"onboard_figjam_viewer--openTutorialModalContainer--O1ld1",children:(0,n.jsx)("div",{className:"onboard_figjam_viewer--openTutorialModalShadow--HF-Gb onboard_figjam_viewer--openTutorialModalBase--vDoVP",children:(0,n.jsx)("div",{className:"onboard_figjam_viewer--openTutorialModal--3j-H4 onboard_figjam_viewer--openTutorialModalBase--vDoVP",children:(0,n.jsxs)("div",{className:iH,children:[(0,n.jsx)("div",{className:iz,children:(0,n.jsx)("img",{className:iV,src:rL,alt:""})}),(0,n.jsxs)("div",{className:i_()(iK,iW),children:[(0,n.jsx)("div",{className:"onboard_figjam_viewer--openTutorialModalText--9oABQ onboard_figjam_viewer--text--xkcTB",children:(0,N.tx)("rcs.figjam_onboarding.for_more_tips_and_tricks_here_s_a_2_minute_hands_on_tutorial")}),(0,n.jsxs)("div",{className:"onboard_figjam_viewer--openTutorialBottomContentRow--rVWqG onboard_figjam_viewer--bottomContentRow--PgTeU",children:[(0,n.jsx)(v.$n,{variant:"ghost",onClick:e.dismissModal,children:(0,N.tx)("rcs.figjam_onboarding.maybe_later")}),(0,n.jsx)("div",{className:"onboard_figjam_viewer--openTutorialButton--4AqFo",children:(0,n.jsx)(tW.$z,{onClick:()=>{if("loaded"!==e.figJamTemplateFileResult.status||null==e.figJamTemplateFileResult.data||e.figJamTemplateFileResult.data.length<1)return;let i=e.figJamTemplateFileResult.data?.[0]??null;i&&rR(i.url,t),e.dismissModal()},disabled:"loading"===e.figJamTemplateFileResult.status,variant:"primary",children:"loading"===e.figJamTemplateFileResult.status||null==e.figJamTemplateFileResult.data?(0,n.jsx)(rA.k,{htmlAttributes:{"data-testid":"loading-spinner"}}):(0,N.tx)("rcs.figjam_onboarding.open_tutorial")})})]})]})]})})})})}async function rD(e){let t=(await e).data;if(!t)return!1;let i=(0,rj.kd)(t),n=(0,rj.mW)(i,"figjam_editor_onboarded");return!n&&!n&&!(()=>{let e=(0,rC.DN)();try{return!!e.get(rv.Xk)}catch(e){}return!1})()}function rP({openFile:e}){return!!(e&&e.trackTags?.isTemplate&&e.editorType===ne._Y.WHITEBOARD)}function rF(e,t){(0,rE.kF)("type",e),(0,rE.kF)("source",t),(0,rE.us)("FigJam onboarding - Failed to load starter files; we did not render open tutorial overlay")}function rB(e){let t=(0,rS.dq)(),i=rI.ol()?.id,[a]=(0,rk.IT)(rT.XZ({currentOrgId:t||void 0,currentTeamId:i,fileTags:["figjam_template"],shouldRecreate:!0}),{enabled:e.isShowing});return r.useEffect(()=>{"errors"===a.status&&rF("failure","curator")},[a.status]),r.useEffect(()=>{let e=setTimeout(()=>{"loading"===a.status&&rF("timeout","curator")},5e3);return()=>clearTimeout(e)},[a.status]),(0,n.jsx)(eq.h,{testId:e.testId?e.testId:"OpenFigJamTutorialOverlay",modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"FigJam Editor Onboarding - Open Tutorial",userFlagOnShow:"figjam_editor_onboarded",element:e=>(0,n.jsx)(rM,{...e,figJamTemplateFileResult:a}),isShowing:e.isShowing&&"loaded"===a.status,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function rU(){let e=(0,p.wA)(),t=(0,ea.MY)(),{show:i,uniqueId:a,complete:s,isShowing:o}=(0,f.e)({overlay:y.MJs,priority:g.N.OVERRIDING_MODAL},[t]),l=function(e,t){let i=(0,r.useRef)(),n=(0,r.useRef)(),a=(0,r.useRef)();return((0,r.useEffect)(()=>()=>{i.current?.()},[]),n.current)?n.current:null==i.current||null==a.current?(n.current=new Promise(r=>{i.current?.(),i.current=(0,rw.WB)().subscribe(e,t,e=>{("loaded"===e.status||e.errors)&&(a.current=e,r(a.current),n.current=void 0)})}),n.current):Promise.resolve(a.current)}(nt.Tej,{}),d=(0,S.md)(ea.yV),c=(0,rN.Td)(),u=!rP({openFile:d}),h=(0,r.useRef)(!1);(0,r.useEffect)(()=>{rD(l).then(e=>{e&&!h.current&&i({canShow:e=>{let t=e?.editorType===ne._Y.WHITEBOARD&&!e?.canEdit;return t&&(h.current=!0),t}})})},[i,l]);let{currentStep:_,next:x,reset:b}=(0,ez.A)({numSteps:u?4:3,onComplete:s});(0,ej.E)(a,"Reset Onboarding",()=>{e(m.b({figjam_editor_onboarded:!1})),c&&(b(),i())});let C=nh(s),v=r.useMemo(()=>{let e=i5.map(e=>(0,n.jsx)(e,{isShowing:o,onClickPrimaryCta:x,onClose:iR.lQ,onManualDismiss:C},e.name));return u&&e.push((0,n.jsx)(rB,{isShowing:o,onClickPrimaryCta:x,onClose:iR.lQ,onManualDismiss:C,testId:"open_figjam_tutorial_overlay"},"OpenFigJamTutorialOverlay")),e},[x,C,o,u]);return(0,n.jsx)(eW.U,{currentStep:_,isShowing:o,children:v})}var rG=i(318123),rH=i(850166);let rz=(0,nU.D)(()=>{let e=(0,rC.DN)();try{return!!e.get(rv.Xk)}catch(e){}return!1});function rV({isTemplateFile:e,isTryFile:t,canvasEmpty:i,onboardedToFigJam:n,cameFromWhatsNew:r}){if(n||rz())return[];let a=(0,iF.O)()?[]:i5;if(e)return a;let s=[...a,rB];return r||t||!i?s:[rh]}function rK({openFile:e}){let t=(0,S.md)(n_.l5),i=(0,S.md)(tO.zo),r=(0,S.md)(iy.Am);return t!==n4.fD.NONE?null:("loaded"!==i.status||i.data)&&!r?(0,n.jsx)(rY,{openFile:e}):(0,n.jsx)(rq,{openFile:e})}let rW=(e,t)=>{let i=(0,ea.MY)(),n=(0,S.Xr)(iy.Am),a=(0,S.Xr)(n_.w),s=(0,S.md)(tO.zo),o=(0,eH.aV)(),l=(0,S.md)(rG.dO).status===rH.c.LOADING;nf({overlayUniqueId:e,afterReset:()=>{n(null),a(n_.tX.NOT_STARTED)}});let d=(0,r.useRef)(!1);(0,r.useEffect)(()=>{!d.current&&"loaded"===s.status&&!o&&!l&&i.data?.canEdit&&i.data?.editorType==="whiteboard"&&(d.current=!0,t())},[t,s.status,o,l,i])};function rq({openFile:e}){let t=(0,p.d4)(e=>e.mirror.appModel.currentPage),i=(0,tu.Fk)((e,t)=>(0,tc.zC)(e,t),t),a=(0,S.md)(tO.zo),s=(0,ek.Fu)("interacted_figjam_whats_new_v2_cta"),o=(0,S.md)(s),l=(0,S.Xr)(iy.Am),{getConfig:d}=(0,is.XV)("exposed_exp_figjam_unified_onboarding","figjam_unified_onboarding"),c=(0,r.useCallback)(()=>{let e=d().get("sequence",iy.jg.DEFAULT);return l(e),e},[d,l]),[u,m]=(0,r.useState)(!1),[h,_]=(0,r.useState)([]),{show:x,uniqueId:b,isShowing:C,complete:v,experimentResult:E}=(0,f.e)({overlay:y.zoI,priority:g.N.OVERRIDING_MODAL,experiment:{check:c,predicate:e=>e!==iy.jg.DEFAULT,postCheck:e=>(e||rz()||m(!0),!1)}},[a,o]),T=(0,r.useRef)(i);(0,r.useEffect)(()=>{T.current=i},[i]);let{show:w,isShowing:j,complete:k}=(0,f.e)({overlay:y.lLk,priority:g.N.OVERRIDING_MODAL,experiment:{check:c,predicate:e=>e===iy.jg.DEFAULT,postCheck:(t,i)=>{let n=rV({isTemplateFile:rP({openFile:e}),isTryFile:e.isTryFile,canvasEmpty:T.current,onboardedToFigJam:t,cameFromWhatsNew:(0,tF.SS)(i)}),r=n.length>0;return r&&_(n),r}}},[a,o]),I=E||iy.jg.DEFAULT,N=I===iy.jg.DEFAULT?j:C,A=I===iy.jg.DEFAULT?k:v,O=(0,r.useMemo)(()=>I===iy.jg.DEFAULT?h:[],[I,h]);rW(b,(0,r.useCallback)(()=>{x(),w()},[x,w]));let L=nh(A),R=(0,r.useCallback)(()=>{I===iy.jg.DEFAULT?L():u&&(A(),r_(I))},[L,A,u,I]);return((0,r.useEffect)(()=>{0===O.length&&u&&I!==iy.jg.DEFAULT&&r_(I)},[u,O,I]),E&&N&&0!==O.length)?(0,n.jsx)(ng,{steps:O,onComplete:R,isShowing:N,overlayUniqueId:b}):null}function rY({openFile:e}){let t=(0,p.d4)(e=>e.mirror.appModel.currentPage),i=(0,tu.Fk)((e,t)=>(0,tc.zC)(e,t),t),a=(0,S.md)(tO.zo),s=(0,ek.Fu)("interacted_figjam_whats_new_v2_cta"),o=(0,S.md)(s),{show:l,uniqueId:d,isShowing:c,complete:u}=(0,f.e)({overlay:y.lLk,priority:g.N.OVERRIDING_MODAL},[a,o]),[m,h]=(0,r.useState)([]);rW(d,(0,r.useCallback)(()=>{l({canShow:(t,n)=>{let r=rV({isTemplateFile:rP({openFile:e}),isTryFile:e.isTryFile,canvasEmpty:i,onboardedToFigJam:t,cameFromWhatsNew:(0,tF.SS)(n)}),a=r.length>0;return a&&h(r),a}})},[l,h,i,e]));let _=nh(u);return c&&0!==m.length?(0,n.jsx)(ng,{steps:m,onComplete:_,isShowing:c,overlayUniqueId:d}):null}function rX({openFile:e}){return(0,n.jsx)(rK,{openFile:e})}let rJ=(0,S.eU)(async()=>{if(document.fonts&&FontFace){let e=new FontFace("Whyte",`url(${(0,eC.CZ)("webfont/1/Whyte-Regular.woff")})`);document.fonts.add(e)}await document.fonts.ready}),rZ=(0,S.Rq)(rJ);function rQ(e){return(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:rc,userFlagOnShow:"figjam_browse_templates_modal_onboarded",element:rp,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function r$(e){return(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:ru,userFlagOnShow:"figjam_browse_templates_modal_onboarded",element:rm,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function r0(){let e=(0,ek.r1)("figjam_browse_templates_modal_onboarded"),t=(0,S.md)(e),i=(0,S.md)(rZ),[a,s]=(0,r.useState)(!1),o=(0,iy.Un)(),{show:l,isShowing:d,uniqueId:c,complete:u}=(0,f.e)({overlay:y.kp0,priority:g.N.OVERRIDING_MODAL},[t,i]);return(0,ej.E)(c,n4.Lz,()=>{s(!0),l({canShow:e=>!e&&!o})}),(0,ej.E)(c,eZ.P7,()=>{l({canShow:e=>!e&&!o})}),a?(0,n.jsx)(rQ,{isShowing:d,onClickPrimaryCta:u,onClose:u,onManualDismiss:u}):(0,n.jsx)(r$,{isShowing:d,onClickPrimaryCta:u,onClose:u,onManualDismiss:u})}var r1=i(389091),r2=i(152368),r3=i(913518),r5=i(300024),r4=i(453756);let r6={};function r7(e){return r6[e]??""}function r8(e){return(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.BRAINSTORM,children:(0,n.jsx)(nM.wV,{bodyText:(0,n.jsx)("span",{className:n6.R9,children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.fig_jam_s_great_for_brainstorming",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.fig_jam_s_great_for_brainstorming_prefix")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:n8.A})})}function r9(e){let{onClickPrimaryCta:t,dismissModal:i}=e;r.useEffect(()=>{function e(e){var i;t(),i=e.nodeId,r6.createdSticky=i}return iB.Y5.fromFullscreen.on("createdSticky",e),()=>{iB.Y5.fromFullscreen.removeListener("createdSticky",e)}},[t]);let a=(0,r4.L)();return(0,n.jsx)(nM.vX,{onSkipClick:i,useCase:n4.fD.BRAINSTORM,children:(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:r5.s2,topPadding:a?-4:-22,autoWidth:!0,isBold:!0,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.sticky_notes_let_you_share_ideas_go_ahead_drag_one_into_the_blue_box_above",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.sticky_notes_let_you_share_ideas_go_ahead_drag_one_into_the_blue_box_above_bold_text")})})})})})})}function ae(e){let[t]=r.useState(()=>r7("createdSticky")),{handleTargetLost:i}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.BRAINSTORM,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.LEFT_TITLE,onTargetLost:i,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.just_like_that_keep_it_to_one_idea_per_sticky_next_let_s_check_out_stamps",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.just_like_that_keep_it_to_one_idea_per_sticky_next_let_s_check_out_stamps_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function at(e){let{onClickPrimaryCta:t,dismissModal:i}=e,{handleTargetLost:a}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});r.useEffect(()=>{function e(e){var i;t(),i=e.nodeId,r6.createdStamp=i}return iB.Y5.fromFullscreen.on("createdStamp",e),()=>{iB.Y5.fromFullscreen.removeListener("createdStamp",e)}},[t]);let s=(0,r4.L)();return(0,n.jsx)(nM.vX,{onSkipClick:i,useCase:n4.fD.BRAINSTORM,children:(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:r5.E$,topPadding:s?-6:-27,isBold:!0,autoWidth:!0,onTargetLost:a,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.stamps_are_here_or_press_e_they_re_good_for_voting_go_ahead_stamp_something",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.stamps_are_here_or_press_e_they_re_good_for_voting_go_ahead_stamp_something_bold_text")})})})})})})}function ai(e){let[t]=r.useState(()=>r7("createdStamp")),{handleTargetLost:i}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.BRAINSTORM,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.TOP,onTargetLost:i,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.lovely_just_one_more_thing",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.lovely_just_one_more_thing_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function an(e){let t=(0,p.wA)(),i=(0,r3.MR)(),a=(0,r3.qU)(),[s,o]=r.useState("invalid"),{handleTargetLost:l}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return r.useEffect(()=>(i({source:r3.OO.MAKE_SOMETHING_V2_ONBOARDING}),t(r1.lu({state:"open",userInitiated:!1})),o(r2.Hm),()=>{a({source:r3.OO.MAKE_SOMETHING_V2_ONBOARDING}),t(r1.lu({state:"closed",userInitiated:!1}))}),[a,t,i]),(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.BRAINSTORM,children:(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:s,topPadding:-4,isBold:!0,autoWidth:!0,onTargetLost:l,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.use_the_timer_to_keep_things_moving",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.brainstorm.use_the_timer_to_keep_things_moving_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function ar(e){let{onNext:t}=nV({...e,useCase:n4.fD.BRAINSTORM});return(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:eZ.v4,topPadding:-4,isBold:!0,hasShadow:!0,children:(0,n.jsx)(iY,{titleText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.when_you_re_ready"),bodyText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.start_a_brainstorm_by_inviting_a_few_people_here_that_s_it"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:nM.mN,isBold:!0})})}function aa(e){return(0,nM.rL)({useCase:n4.fD.BRAINSTORM,stepName:"Intro",stepNum:1}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Brainstorm - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:r8,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function as(e){return(0,nM.rL)({useCase:n4.fD.BRAINSTORM,stepName:"Sticky Prompt",stepNum:2}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Brainstorm - Sticky Prompt`,userFlagOnShow:"figjam_editor_onboarded",element:r9,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ao(e){return(0,nM.rL)({useCase:n4.fD.BRAINSTORM,stepName:"Sticky Reaction",stepNum:3}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Brainstorm - Sticky Reaction`,userFlagOnShow:"figjam_editor_onboarded",element:ae,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function al(e){return(0,nM.rL)({useCase:n4.fD.BRAINSTORM,stepName:"Stamp Prompt",stepNum:4}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Brainstorm - Stamp Prompt`,userFlagOnShow:"figjam_editor_onboarded",element:at,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ad(e){return(0,nM.rL)({useCase:n4.fD.BRAINSTORM,stepName:"Stamp Reaction",stepNum:5}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Brainstorm - Stamp Reaction`,userFlagOnShow:"figjam_editor_onboarded",element:ai,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ac(e){return(0,nM.rL)({useCase:n4.fD.BRAINSTORM,stepName:"Timer",stepNum:6}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Brainstorm - Timer`,userFlagOnShow:"figjam_editor_onboarded",element:an,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function au(e){let t=(0,iU.O)();return(0,nM.rL)({useCase:n4.fD.BRAINSTORM,stepName:"Share",stepNum:7}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Brainstorm - Share`,userFlagOnShow:"figjam_editor_onboarded",element:ar,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:n4.fD.BRAINSTORM}),e.onClose()},onManualDismiss:e.onManualDismiss})}function ap(e){return r.useEffect(()=>{!function(){let e=(0,G.UN)().getCurrentPage();if(e&&e.childCount>=1){var t,i,n;let r=e.childrenNodes[0];if(r?.type==="SECTION"&&r.childCount>=1){let e=r.childrenNodes[0];e?.type==="SHAPE_WITH_TEXT"&&(t=e.guid,r6.planningAheadInitialNode=t)}if(r?.type==="SECTION"&&r.childCount>=9){let e=r.childrenNodes[8];e?.type==="TEXT"&&(i=e.guid,r6.planningAheadPerson=i)}if(r?.type==="SECTION"&&r.childCount>=4){let e=r.childrenNodes[3];e?.type==="SHAPE_WITH_TEXT"&&(n=e.guid,r6.planningAheadProject=n)}}}()},[]),(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.PLAN,children:(0,n.jsx)(nM.wV,{bodyText:(0,n.jsx)("span",{className:n6.R9,children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.fig_jam_s_great_for_planning_ahead_here_s_how_it_s_done",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.fig_jam_s_great_for_planning_ahead_here_s_how_it_s_done_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:n9.A})})}function am(e){let[t]=r.useState(()=>r7("planningAheadInitialNode")),{handleTargetLost:i}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.PLAN,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:t,topPadding:-7,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:i,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.start_with_a_simple_timeline_with_a_row_for_each_member_of_your_team")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function ah(e){let{onClickPrimaryCta:t,dismissModal:i}=e,[a]=r.useState(()=>r7("planningAheadPerson")),{handleTargetLost:s}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return r.useEffect(()=>{function e(){t()}return iB.Y5.fromFullscreen.on("finishedEditingText",e),()=>{iB.Y5.fromFullscreen.removeListener("finishedEditingText",e)}},[t]),(0,n.jsx)(nM.vX,{onSkipClick:i,useCase:n4.fD.PLAN,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:a,topPadding:2,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.LEFT_TITLE,onTargetLost:s,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.type_your_name_here_right_at_the_top",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.type_your_name_here_right_at_the_top_bold_text")})})})})})})}function af(e){let{onClickPrimaryCta:t,dismissModal:i}=e,[a]=r.useState(()=>r7("planningAheadProject")),{handleTargetLost:s}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return r.useEffect(()=>{function e(){t()}return iB.Y5.fromFullscreen.on("finishedEditingShapeWithText",e),()=>{iB.Y5.fromFullscreen.removeListener("finishedEditingShapeWithText",e)}},[t]),(0,n.jsx)(nM.vX,{onSkipClick:i,useCase:n4.fD.PLAN,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:a,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:s,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.what_are_you_working_on_this_month_rename_this_block_to_your_current_project",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.what_are_you_working_on_this_month_rename_this_block_to_your_current_project_bold_text")})})})})})})}function ag(e){let[t]=r.useState(()=>r7("planningAheadProject")),{handleTargetLost:i}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.PLAN,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.LEFT_TITLE,onTargetLost:i,children:(0,n.jsx)(nM.mI,{bodyText:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.you_can_resize_blocks_by_dragging_their_ends"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function a_(e){let{handleTargetLost:t}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta}),i=(0,r4.L)();return(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.PLAN,children:(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:i?r5.WB:r5.BC,topPadding:i?2:-23,isBold:!0,autoWidth:!0,onTargetLost:t,children:(0,n.jsx)(nM.mI,{bodyText:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.and_grab_more_shapes_as_needed_from_your_toolbar"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function ax(e){let{onNext:t}=nV({...e,useCase:n4.fD.PLAN});return(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:eZ.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0,children:(0,n.jsx)(iY,{titleText:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.try_it_with_your_team"),bodyText:(0,N.tx)("figjam_onboarding_make_something.planning_ahead.share_this_board_and_your_whole_team_can_contribute"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:nM.mN,isBold:!0})})}function ay(e){return(0,nM.rL)({useCase:n4.fD.PLAN,stepName:"Intro",stepNum:1}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Planning Ahead - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:ap,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function ab(e){return(0,nM.rL)({useCase:n4.fD.PLAN,stepName:"Section",stepNum:2}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Planning Ahead - Section`,userFlagOnShow:"figjam_editor_onboarded",element:am,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aC(e){return(0,nM.rL)({useCase:n4.fD.PLAN,stepName:"Person",stepNum:3}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Planning Ahead - Person`,userFlagOnShow:"figjam_editor_onboarded",element:ah,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function av(e){return(0,nM.rL)({useCase:n4.fD.PLAN,stepName:"Project Name",stepNum:4}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Planning Ahead - Project Name`,userFlagOnShow:"figjam_editor_onboarded",element:af,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aE(e){return(0,nM.rL)({useCase:n4.fD.PLAN,stepName:"Project Block",stepNum:5}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Planning Ahead - Project Block`,userFlagOnShow:"figjam_editor_onboarded",element:ag,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aT(e){return(0,nM.rL)({useCase:n4.fD.PLAN,stepName:"Shape",stepNum:6}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Planning Ahead - Shape`,userFlagOnShow:"figjam_editor_onboarded",element:a_,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aw(e){let t=(0,iU.O)();return(0,nM.rL)({useCase:n4.fD.PLAN,stepName:"Share",stepNum:7}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Planning Ahead - Share`,userFlagOnShow:"figjam_editor_onboarded",element:ax,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:n4.fD.PLAN}),e.onClose()},onManualDismiss:e.onManualDismiss})}function aj(e){return r.useEffect(()=>{!function(){var e,t,i;let n=(0,G.UN)().getCurrentPage();if(n){if(n.childCount>=1){let t=n.childrenNodes[0];t?.type==="SHAPE_WITH_TEXT"&&(e=t.guid,r6.teamChartName=e)}if(n.childCount>=2){let e=n.childrenNodes[1];e?.type==="ROUNDED_RECTANGLE"&&(t=e.guid,r6.teamChartImage=t)}if(n.childCount>=5){let e=n.childrenNodes[4];e?.type==="SHAPE_WITH_TEXT"&&(i=e.guid,r6.teamChartQuickCreate=i)}}}()},[]),(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.TEAM,children:(0,n.jsx)(nM.wV,{bodyText:(0,n.jsx)("span",{className:n6.R9,children:(0,N.tx)("figjam_onboarding_make_something.team_chart.in_fig_jam_you_can_diagram_all_sorts_of_things_here_s_an_example",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.in_fig_jam_you_can_diagram_all_sorts_of_things_here_s_an_example_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:re.A})})}function aS(e){let{onClickPrimaryCta:t,dismissModal:i}=e,[a]=r.useState(()=>r7("teamChartName")),{handleTargetLost:s}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return r.useEffect(()=>{function e(){t()}return iB.Y5.fromFullscreen.on("finishedEditingShapeWithText",e),()=>{iB.Y5.fromFullscreen.removeListener("finishedEditingShapeWithText",e)}},[t]),(0,n.jsx)(nM.vX,{onSkipClick:i,useCase:n4.fD.TEAM,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:a,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:s,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.double_click_this_text_to_type_in_the_manager_s_name_go_ahead_try_it",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.double_click_this_text_to_type_in_the_manager_s_name_go_ahead_try_it_bold_text")})})})})})})}function ak(e){let[t]=r.useState(()=>r7("teamChartImage")),{handleTargetLost:i}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.TEAM,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:t,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.LEFT_TITLE,onTargetLost:i,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.you_can_add_images_by_simply_dragging_them_into_fig_jam")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function aI(e){let{onClickPrimaryCta:t,dismissModal:i}=e,[a]=r.useState(()=>r7("teamChartQuickCreate")),{handleTargetLost:s}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return r.useEffect(()=>{function e(){t()}return iB.Y5.fromFullscreen.on("quickCreate",e),()=>{iB.Y5.fromFullscreen.removeListener("quickCreate",e)}},[t]),(0,n.jsx)(nM.vX,{onSkipClick:i,useCase:n4.fD.TEAM,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:a,topPadding:-4,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.RIGHT_TITLE,onTargetLost:s,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.adding_to_a_diagram_is_simple_hover_over_a_shape_and_click_this_button_try_it",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.adding_to_a_diagram_is_simple_hover_over_a_shape_and_click_this_button_try_it_bold_text")})})})})})})}function aN(e){let{handleTargetLost:t}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta}),i=(0,r4.L)();return(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.TEAM,children:(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:i?r5.WB:r5.BC,topPadding:i?2:-23,isBold:!0,autoWidth:!0,onTargetLost:t,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.you_can_also_grab_more_shapes_from_here")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function aA(e){let{handleTargetLost:t}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta}),i=(0,r4.L)();return(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.TEAM,children:(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:r5.Nr,topPadding:i?-1:void 0,isBold:!0,autoWidth:!0,onTargetLost:t,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.and_use_the_connector_tool_to_connect_any_two_things_together")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function aO(e){let{onNext:t}=nV({...e,useCase:n4.fD.TEAM});return(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:eZ.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0,children:(0,n.jsx)(iY,{titleText:(0,N.tx)("figjam_onboarding_make_something.team_chart.diagram_together"),bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_chart.share_this_board_and_your_whole_team_can_pitch_in")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:nM.mN,isBold:!0})})}function aL(e){return(0,nM.rL)({useCase:n4.fD.TEAM,stepName:"Intro",stepNum:1}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Chart - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:aj,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aR(e){return(0,nM.rL)({useCase:n4.fD.TEAM,stepName:"Name",stepNum:2}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Chart - Name`,userFlagOnShow:"figjam_editor_onboarded",element:aS,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aM(e){return(0,nM.rL)({useCase:n4.fD.TEAM,stepName:"Image",stepNum:3}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Chart - Image`,userFlagOnShow:"figjam_editor_onboarded",element:ak,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aD(e){return(0,nM.rL)({useCase:n4.fD.TEAM,stepName:"Quick Create",stepNum:4}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Chart - Quick Create`,userFlagOnShow:"figjam_editor_onboarded",element:aI,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aP(e){return(0,nM.rL)({useCase:n4.fD.TEAM,stepName:"Shape",stepNum:5}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Chart - Shape`,userFlagOnShow:"figjam_editor_onboarded",element:aN,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aF(e){return(0,nM.rL)({useCase:n4.fD.TEAM,stepName:"Connector",stepNum:6}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Chart - Connector`,userFlagOnShow:"figjam_editor_onboarded",element:aA,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aB(e){let t=(0,iU.O)();return(0,nM.rL)({useCase:n4.fD.TEAM,stepName:"Share",stepNum:7}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Chart - Share`,userFlagOnShow:"figjam_editor_onboarded",element:aO,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:n4.fD.TEAM}),e.onClose()},onManualDismiss:e.onManualDismiss})}function aU(e){return r.useEffect(()=>{!function(){var e,t,i,n,r;let a=(0,G.UN)().getCurrentPage();if(a){if(a.childCount>=1){let t=a.childrenNodes[0];t?.type==="SECTION"&&(e=t.guid,r6.teamUpdatesSection=e)}if(a.childCount>=6){let e=a.childrenNodes[5];e?.type==="WIDGET"&&(t=e.guid,r6.teamUpdatesPhotoBooth=t)}if(a.childCount>=4){let e=a.childrenNodes[3];e?.type==="TEXT"&&(i=e.guid,r6.teamUpdatesUpdates=i)}if(a.childCount>=5){let e=a.childrenNodes[4];e?.type==="TEXT"&&(n=e.guid,r6.teamUpdatesImportantDates=n)}if(a.childCount>=1){let e=a.childrenNodes[0];if(e?.type==="SECTION"&&e.childCount>=2){let t=e.childrenNodes[1];t?.type==="STICKY"&&(r=t.guid,r6.teamUpdatesSticky=r)}}}}()},[]),(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.UPDATES,children:(0,n.jsx)(nM.wV,{bodyText:(0,n.jsx)("span",{className:n6.R9,children:(0,N.tx)("figjam_onboarding_make_something.team_updates.fig_jam_s_great_for_team_syncs_here_s_how_it_works",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.fig_jam_s_great_for_team_syncs_here_s_how_it_works_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.go_on"),onButtonClick:e.onClickPrimaryCta,svg:rt.A})})}function aG(e){let[t]=r.useState(()=>r7("teamUpdatesSection")),{handleTargetLost:i}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.UPDATES,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:t,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:i,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.each_person_gets_a_row_of_their_own_for_sharing_updates_and_priorities")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function aH(e){let[t]=r.useState(()=>r7("teamUpdatesPhotoBooth")),{handleTargetLost:i}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.UPDATES,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:t,topPadding:-6,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:i,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.take_a_selfie_then_drag_it_into_whichever_row_you_d_like_try_and_click_the_red_dot",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.take_a_selfie_then_drag_it_into_whichever_row_you_d_like_try_and_click_the_red_dot_bold_text")})})}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function az(e){let[t]=r.useState(()=>r7("teamUpdatesUpdates")),{handleTargetLost:i}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.UPDATES,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:t,topPadding:-5,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:i,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.your_whole_team_can_share_updates_here")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function aV(e){let[t]=r.useState(()=>r7("teamUpdatesImportantDates")),{handleTargetLost:i}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return(0,n.jsx)(nM.vX,{onSkipClick:e.dismissModal,useCase:n4.fD.UPDATES,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:t,topPadding:-5,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.BOTTOM,onTargetLost:i,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.and_can_add_important_dates_to_the_calendar_over_here")}),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.next"),onButtonClick:e.onClickPrimaryCta})})})}function aK(e){let{onClickPrimaryCta:t,dismissModal:i}=e,[a]=r.useState(()=>r7("teamUpdatesSticky")),{handleTargetLost:s}=(0,iP.Du)({shouldSkipConnectorModalAtom:n_.aG,skipConnectorModal:e.onClickPrimaryCta});return r.useEffect(()=>{function e(){t()}return iB.Y5.fromFullscreen.on("finishedEditingSticky",e),()=>{iB.Y5.fromFullscreen.removeListener("finishedEditingSticky",e)}},[t]),(0,n.jsx)(nM.vX,{onSkipClick:i,useCase:n4.fD.UPDATES,children:(0,n.jsx)(iP.Dv,{targetType:"canvas",targetKey:a,topPadding:-16,isBold:!0,autoWidth:!0,arrowPosition:nB.F_.TOP,onTargetLost:s,children:(0,n.jsx)(nM.mI,{bodyText:(0,n.jsx)("span",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.give_it_a_go_try_typing_your_priorities_in_this_sticky_note",{boldText:(0,n.jsx)("b",{children:(0,N.tx)("figjam_onboarding_make_something.team_updates.give_it_a_go_try_typing_your_priorities_in_this_sticky_note_bold_text")})})})})})})}function aW(e){let{onNext:t}=nV({...e,useCase:n4.fD.UPDATES});return(0,n.jsx)(iP.Dv,{targetType:"dom",targetKey:eZ.v4,topPadding:-4,isBold:!0,autoWidth:!0,hasShadow:!0,children:(0,n.jsx)(iY,{titleText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.when_you_re_ready"),bodyText:(0,N.tx)("figjam_onboarding_make_something.team_updates.invite_your_teammates_and_run_a_quick_team_check_in"),buttonText:(0,N.tx)("figjam_onboarding_make_something.brainstorm.share_board"),onNext:t,onDismiss:e.dismissModal,imgSrc:nM.mN,isBold:!0})})}function aq(e){return(0,nM.rL)({useCase:n4.fD.UPDATES,stepName:"Intro",stepNum:1}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Updates - Intro`,userFlagOnShow:"figjam_editor_onboarded",element:aU,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aY(e){return(0,nM.rL)({useCase:n4.fD.UPDATES,stepName:"Section",stepNum:2}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Updates - Section`,userFlagOnShow:"figjam_editor_onboarded",element:aG,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aX(e){return(0,nM.rL)({useCase:n4.fD.UPDATES,stepName:"Photo Booth",stepNum:3}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Updates - Photo Booth`,userFlagOnShow:"figjam_editor_onboarded",element:aH,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aJ(e){return(0,nM.rL)({useCase:n4.fD.UPDATES,stepName:"Updates",stepNum:4}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Updates - Updates`,userFlagOnShow:"figjam_editor_onboarded",element:az,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aZ(e){return(0,nM.rL)({useCase:n4.fD.UPDATES,stepName:"Important Dates",stepNum:5}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Updates - Important Dates`,userFlagOnShow:"figjam_editor_onboarded",element:aV,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function aQ(e){return(0,nM.rL)({useCase:n4.fD.UPDATES,stepName:"Sticky",stepNum:6}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Updates - Sticky`,userFlagOnShow:"figjam_editor_onboarded",element:aK,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:e.onClose,onManualDismiss:e.onManualDismiss})}function a$(e){let t=(0,iU.O)();return(0,nM.rL)({useCase:n4.fD.UPDATES,stepName:"Share",stepNum:7}),(0,n.jsx)(eq.h,{testId:e.testId,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:`${nM.CM} - Team Updates - Share`,userFlagOnShow:"figjam_editor_onboarded",element:aW,isShowing:e.isShowing,onClickPrimaryCta:e.onClickPrimaryCta,onClose:()=>{t({eventName:"msv2_completed",useCase:n4.fD.UPDATES}),e.onClose()},onManualDismiss:e.onManualDismiss})}function a0(e){switch(e){case n4.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED:return[aa,as,ao,al,ad,ac,au,a1];case n4.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED:return[aq,aY,aX,aJ,aZ,aQ,a$,a1];case n4.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED:return[ay,ab,aC,av,aE,aT,aw,a1];case n4.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED:return[aL,aR,aM,aD,aP,aF,aB,a1];default:return[]}}function a1({onClickPrimaryCta:e}){let t=(0,p.d4)(e=>e.modalShown),i=(0,r.useRef)(t);return(0,r.useEffect)(()=>{!t&&i.current&&(e(),(0,iM.YQ)({id:eZ.P7}))},[e,t]),(0,n.jsx)(n.Fragment,{})}function a2(){let[e,t]=r.useState([]),i=(0,S.Xr)(n_.w),{complete:a,uniqueId:s,show:o,isShowing:l}=(0,f.e)({overlay:y.Njd,priority:g.N.OVERRIDING_MODAL}),d=r.useCallback(()=>{a(),i(n_.tX.COMPLETED)},[a,i]);return((0,ej.E)(s,n4.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED,()=>{t(a0(n4.qy.BRAINSTORM_TEMPLATE_BUTTON_INTERACTED)),i(n_.tX.USE_CASE_STEPS),o()}),(0,ej.E)(s,n4.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED,()=>{t(a0(n4.qy.TEAM_UPDATES_TEMPLATE_BUTTON_INTERACTED)),i(n_.tX.USE_CASE_STEPS),o()}),(0,ej.E)(s,n4.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED,()=>{t(a0(n4.qy.PLANNING_AHEAD_TEMPLATE_BUTTON_INTERACTED)),i(n_.tX.USE_CASE_STEPS),o()}),(0,ej.E)(s,n4.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED,()=>{t(a0(n4.qy.TEAM_CHART_TEMPLATE_BUTTON_INTERACTED)),i(n_.tX.USE_CASE_STEPS),o()}),nf({overlayUniqueId:s,afterReset:a}),0===e.length)?null:(0,n.jsx)(ng,{steps:e,onComplete:d,isShowing:l,overlayUniqueId:s})}var a3=i(89917),a5=i(416935),a4=i(323326),a6=i(830372),a7=i(109538),a8=i(380801),a9=i(482142),se=i(102752),st=i(918700);function si(){return(0,n.jsxs)("svg",{width:"146",height:"191",viewBox:"0 0 146 191",fill:"none",children:[(0,n.jsx)("path",{d:"M35 153H3C1.34315 153 0 154.343 0 156V188C0 189.657 1.34315 191 3 191H35C36.6569 191 38 189.657 38 188V156C38 154.343 36.6569 153 35 153Z",fill:"#007BE5"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.875 166.25C22.4943 166.25 21.375 167.369 21.375 168.75C21.375 170.131 22.4943 171.25 23.875 171.25C25.2557 171.25 26.375 170.131 26.375 168.75C26.375 167.369 25.2557 166.25 23.875 166.25ZM19.875 168.75C19.875 166.541 21.6659 164.75 23.875 164.75C26.0841 164.75 27.875 166.541 27.875 168.75C27.875 170.3 26.9937 171.644 25.7049 172.308C28.337 173.03 30.3125 175.271 30.3125 178.012V179.312V180.062H29.5625H20.5625H19.8125H18.1875H8.4375H7.6875V179.312V178.012C7.6875 175.271 9.663 173.03 12.2951 172.308C11.0063 171.644 10.125 170.3 10.125 168.75C10.125 166.541 11.9159 164.75 14.125 164.75C16.3341 164.75 18.125 166.541 18.125 168.75C18.125 170.3 17.2437 171.644 15.9549 172.308C17.1449 172.634 18.2008 173.271 19.0005 174.125C19.7985 173.271 20.8514 172.633 22.0433 172.307C20.7555 171.642 19.875 170.299 19.875 168.75ZM9.1875 178.012C9.1875 175.617 11.3334 173.562 14.125 173.562C16.9166 173.562 19.0625 175.617 19.0625 178.012V178.562H18.1875H9.1875V178.012ZM20.5625 178.562H28.8125V178.012C28.8125 175.617 26.6666 173.562 23.875 173.562C22.2296 173.562 20.7911 174.286 19.8997 175.374C20.323 176.164 20.5625 177.058 20.5625 178.012V178.562ZM11.625 168.75C11.625 167.369 12.7443 166.25 14.125 166.25C15.5057 166.25 16.625 167.369 16.625 168.75C16.625 170.131 15.5057 171.25 14.125 171.25C12.7443 171.25 11.625 170.131 11.625 168.75Z",fill:"white"}),(0,n.jsx)("path",{d:"M89 153H57C55.3431 153 54 154.343 54 156V188C54 189.657 55.3431 191 57 191H89C90.6569 191 92 189.657 92 188V156C92 154.343 90.6569 153 89 153Z",fill:"#9747FF"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M77.875 166.25C76.4943 166.25 75.375 167.369 75.375 168.75C75.375 170.131 76.4943 171.25 77.875 171.25C79.2557 171.25 80.375 170.131 80.375 168.75C80.375 167.369 79.2557 166.25 77.875 166.25ZM73.875 168.75C73.875 166.541 75.6659 164.75 77.875 164.75C80.0841 164.75 81.875 166.541 81.875 168.75C81.875 170.3 80.9937 171.644 79.7049 172.308C82.337 173.03 84.3125 175.271 84.3125 178.012V179.312V180.062H83.5625H74.5625H73.8125H72.1875H62.4375H61.6875V179.312V178.012C61.6875 175.271 63.663 173.03 66.2951 172.308C65.0063 171.644 64.125 170.3 64.125 168.75C64.125 166.541 65.9159 164.75 68.125 164.75C70.3341 164.75 72.125 166.541 72.125 168.75C72.125 170.3 71.2437 171.644 69.9549 172.308C71.1449 172.634 72.2008 173.271 73.0005 174.125C73.7985 173.271 74.8514 172.633 76.0433 172.307C74.7555 171.642 73.875 170.299 73.875 168.75ZM63.1875 178.012C63.1875 175.617 65.3334 173.562 68.125 173.562C70.9166 173.562 73.0625 175.617 73.0625 178.012V178.562H72.1875H63.1875V178.012ZM74.5625 178.562H82.8125V178.012C82.8125 175.617 80.6666 173.562 77.875 173.562C76.2296 173.562 74.7911 174.286 73.8997 175.374C74.323 176.164 74.5625 177.058 74.5625 178.012V178.562ZM65.625 168.75C65.625 167.369 66.7443 166.25 68.125 166.25C69.5057 166.25 70.625 167.369 70.625 168.75C70.625 170.131 69.5057 171.25 68.125 171.25C66.7443 171.25 65.625 170.131 65.625 168.75Z",fill:"white"}),(0,n.jsx)("path",{d:"M143 153H111C109.343 153 108 154.343 108 156V188C108 189.657 109.343 191 111 191H143C144.657 191 146 189.657 146 188V156C146 154.343 144.657 153 143 153Z",fill:"#FFCD29"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M131.875 166.25C130.494 166.25 129.375 167.369 129.375 168.75C129.375 170.131 130.494 171.25 131.875 171.25C133.256 171.25 134.375 170.131 134.375 168.75C134.375 167.369 133.256 166.25 131.875 166.25ZM127.875 168.75C127.875 166.541 129.666 164.75 131.875 164.75C134.084 164.75 135.875 166.541 135.875 168.75C135.875 170.3 134.994 171.644 133.705 172.308C136.337 173.03 138.312 175.271 138.312 178.012V179.312V180.062H137.562H128.562H127.812H126.188H116.438H115.688V179.312V178.012C115.688 175.271 117.663 173.03 120.295 172.308C119.006 171.644 118.125 170.3 118.125 168.75C118.125 166.541 119.916 164.75 122.125 164.75C124.334 164.75 126.125 166.541 126.125 168.75C126.125 170.3 125.244 171.644 123.955 172.308C125.145 172.634 126.201 173.271 127 174.125C127.799 173.271 128.851 172.633 130.043 172.307C128.755 171.642 127.875 170.299 127.875 168.75ZM117.188 178.012C117.188 175.617 119.333 173.562 122.125 173.562C124.917 173.562 127.062 175.617 127.062 178.012V178.562H126.188H117.188V178.012ZM128.562 178.562H136.812V178.012C136.812 175.617 134.667 173.562 131.875 173.562C130.23 173.562 128.791 174.286 127.9 175.374C128.323 176.164 128.562 177.058 128.562 178.012V178.562ZM119.625 168.75C119.625 167.369 120.744 166.25 122.125 166.25C123.506 166.25 124.625 167.369 124.625 168.75C124.625 170.131 123.506 171.25 122.125 171.25C120.744 171.25 119.625 170.131 119.625 168.75Z",fill:"white"}),(0,n.jsx)("path",{d:"M112.581 1L125 13.7668V113H20V1H112.581Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5 0.5H112.792L125.5 13.5637V113.5H19.5V0.5ZM20.5 1.5V112.5H124.5V14.2668H112.081V1.5H20.5ZM113.081 2.23108L123.816 13.2668H113.081V2.23108Z",fill:"black",fillOpacity:"0.8"}),(0,n.jsx)("path",{d:"M38 71C41.866 71 45 67.866 45 64C45 60.134 41.866 57 38 57C34.134 57 31 60.134 31 64C31 67.866 34.134 71 38 71Z",fill:"#56CCF2",fillOpacity:"0.8"}),(0,n.jsx)("path",{d:"M60 71C63.866 71 67 67.866 67 64C67 60.134 63.866 57 60 57C56.134 57 53 60.134 53 64C53 67.866 56.134 71 60 71Z",fill:"#EB5757"}),(0,n.jsx)("path",{d:"M82 71C85.866 71 89 67.866 89 64C89 60.134 85.866 57 82 57C78.134 57 75 60.134 75 64C75 67.866 78.134 71 82 71Z",fill:"#F2994A"}),(0,n.jsx)("path",{d:"M104 71C107.866 71 111 67.866 111 64C111 60.134 107.866 57 104 57C100.134 57 97 60.134 97 64C97 67.866 100.134 71 104 71Z",fill:"#F2C94C"}),(0,n.jsx)("path",{d:"M38 49C41.866 49 45 45.866 45 42C45 38.134 41.866 35 38 35C34.134 35 31 38.134 31 42C31 45.866 34.134 49 38 49Z",fill:"#333333"}),(0,n.jsx)("path",{d:"M60 49C63.866 49 67 45.866 67 42C67 38.134 63.866 35 60 35C56.134 35 53 38.134 53 42C53 45.866 56.134 49 60 49Z",fill:"#4F4F4F"}),(0,n.jsx)("path",{d:"M82 49C85.866 49 89 45.866 89 42C89 38.134 85.866 35 82 35C78.134 35 75 38.134 75 42C75 45.866 78.134 49 82 49Z",fill:"#828282"}),(0,n.jsx)("path",{d:"M104 49C107.866 49 111 45.866 111 42C111 38.134 107.866 35 104 35C100.134 35 97 38.134 97 42C97 45.866 100.134 49 104 49Z",fill:"#E0E0E0"}),(0,n.jsx)("path",{d:"M36.66 20L36.1 18.36H33.26L32.68 20H31.05L33.72 13H35.69L38.34 20H36.66ZM33.7 17.1H35.67L35.15 15.58C34.99 15.11 34.97 14.59 34.96 13.85H34.42C34.41 14.59 34.4 15.11 34.23 15.59L33.7 17.1ZM39.9023 21.95C38.9523 21.95 38.6523 21.49 38.6523 21.01C38.6523 20.61 38.9823 20.32 39.3423 20.21V19.75C39.0223 19.66 38.7723 19.44 38.7723 19.08C38.7723 18.54 39.1623 18.28 39.5923 18.14V17.69C39.2423 17.44 39.0223 17.16 39.0223 16.65C39.0223 15.6 39.9323 14.85 41.1023 14.85C41.9223 14.85 42.6723 15.17 42.9323 15.9H43.3623C43.4423 15.17 43.6723 15 44.1523 15H44.4123V16.08H43.8623C43.5523 16.08 43.4723 16.15 43.4123 16.66L43.4023 16.75C43.2823 17.83 42.4123 18.49 41.2423 18.49C40.8723 18.49 40.5023 18.45 40.2023 18.32C39.9223 18.4 39.8223 18.51 39.8223 18.67C39.8223 18.89 40.0323 18.89 40.3223 18.89H42.4723C43.5423 18.89 44.2123 19.59 44.2123 20.4C44.2123 21.41 43.4523 21.95 42.4723 21.95H39.9023ZM41.2323 17.56C41.7623 17.56 42.1123 17.22 42.1123 16.71C42.1123 16.19 41.7623 15.81 41.2323 15.81C40.7023 15.81 40.3523 16.19 40.3523 16.71C40.3523 17.22 40.7023 17.56 41.2323 17.56ZM40.2423 20.92H42.1923C42.6623 20.92 42.8123 20.73 42.8123 20.45C42.8123 20.22 42.6623 20 42.1923 20H40.0023C39.8823 20.07 39.7423 20.25 39.7423 20.45C39.7423 20.77 39.9723 20.92 40.2423 20.92Z",fill:"black",fillOpacity:"0.8"}),(0,n.jsx)("path",{d:"M54.62 20L53.97 18.15H50.89L50.23 20H49.15L51.78 13H53.16L55.74 20H54.62ZM51.22 17.23H53.64L52.97 15.33C52.77 14.75 52.66 14.35 52.65 13.7H52.23C52.21 14.35 52.11 14.76 51.9 15.33L51.22 17.23ZM57.4441 21.95C56.5441 21.95 56.2441 21.45 56.2441 21.05C56.2441 20.6 56.5041 20.27 56.9341 20.08V19.72C56.6641 19.63 56.4441 19.41 56.4441 19.11C56.4441 18.73 56.7041 18.43 57.1841 18.23V17.87C56.8741 17.62 56.6441 17.28 56.6441 16.64C56.6441 15.7 57.4141 14.9 58.5441 14.9C59.5941 14.9 60.0441 15.46 60.2141 15.87H60.5641C60.6041 15.4 60.8441 15.04 61.3241 15.04H61.6641V15.82H61.2541C60.8341 15.82 60.6741 15.92 60.6341 16.49L60.6141 16.73C60.5241 17.85 59.7541 18.57 58.6441 18.57C58.3041 18.57 57.9841 18.53 57.7041 18.38C57.4341 18.49 57.2641 18.67 57.2641 18.85C57.2641 19.02 57.3641 19.17 57.7041 19.17H59.8541C60.8241 19.17 61.4541 19.73 61.4541 20.56C61.4541 21.49 60.7341 21.95 59.8741 21.95H57.4441ZM58.6441 17.83C59.2941 17.83 59.7141 17.4 59.7141 16.74C59.7141 16.09 59.2941 15.64 58.6441 15.64C57.9941 15.64 57.5741 16.09 57.5741 16.74C57.5741 17.4 57.9941 17.83 58.6441 17.83ZM57.8241 21.15H59.7541C60.1541 21.15 60.5041 21.04 60.5041 20.57C60.5041 20.1 60.1541 20 59.7541 20H57.4341C57.2741 20.1 57.0741 20.32 57.0741 20.63C57.0741 21.03 57.3441 21.15 57.8241 21.15Z",fill:"black",fillOpacity:"0.8"}),(0,n.jsx)("path",{d:"M67.4862 20H66.2205L68.5249 13.4545H69.9886L72.2962 20H71.0305L69.2823 14.7969H69.2312L67.4862 20ZM67.5277 17.4336H70.9794V18.386H67.5277V17.4336ZM75.1377 21.9432C74.7222 21.9432 74.3653 21.8867 74.067 21.7738C73.7687 21.663 73.529 21.5138 73.3479 21.3263C73.1668 21.1388 73.0411 20.9311 72.9708 20.7031L74.0127 20.4506C74.0596 20.5465 74.1277 20.6413 74.2172 20.7351C74.3067 20.831 74.4271 20.9098 74.5784 20.9716C74.7318 21.0355 74.9246 21.0675 75.1569 21.0675C75.485 21.0675 75.7566 20.9876 75.9718 20.8278C76.187 20.6701 76.2946 20.4102 76.2946 20.0479V19.1179H76.2371C76.1775 19.2372 76.0901 19.3597 75.975 19.4854C75.8621 19.6112 75.7119 19.7166 75.5244 19.8018C75.339 19.8871 75.1057 19.9297 74.8245 19.9297C74.4473 19.9297 74.1054 19.8413 73.7986 19.6644C73.4939 19.4854 73.251 19.2191 73.0699 18.8654C72.8909 18.5096 72.8014 18.0643 72.8014 17.5295C72.8014 16.9904 72.8909 16.5355 73.0699 16.1648C73.251 15.7919 73.4949 15.5096 73.8017 15.3178C74.1086 15.1239 74.4505 15.027 74.8277 15.027C75.1153 15.027 75.3518 15.076 75.5372 15.174C75.7247 15.2699 75.8738 15.386 75.9846 15.5224C76.0954 15.6566 76.1796 15.7834 76.2371 15.9027H76.301V15.0909H77.442V20.0799C77.442 20.4996 77.3419 20.8469 77.1416 21.1218C76.9413 21.3967 76.6675 21.6023 76.3202 21.7386C75.9729 21.875 75.5787 21.9432 75.1377 21.9432ZM75.1473 19.022C75.3923 19.022 75.6011 18.9624 75.7737 18.843C75.9463 18.7237 76.0773 18.5522 76.1668 18.3285C76.2563 18.1048 76.301 17.8363 76.301 17.5231C76.301 17.2141 76.2563 16.9435 76.1668 16.7113C76.0794 16.479 75.9495 16.299 75.7769 16.1712C75.6064 16.0412 75.3966 15.9762 75.1473 15.9762C74.8895 15.9762 74.6743 16.0433 74.5017 16.1776C74.3291 16.3118 74.1991 16.4961 74.1118 16.7305C74.0244 16.9627 73.9807 17.2269 73.9807 17.5231C73.9807 17.8235 74.0244 18.0866 74.1118 18.3125C74.2013 18.5362 74.3323 18.7109 74.5049 18.8366C74.6796 18.9602 74.8937 19.022 75.1473 19.022Z",fill:"black",fillOpacity:"0.8"}),(0,n.jsx)("path",{d:"M84.0611 20H83.2301L85.6335 13.4545H86.4517L88.8551 20H88.0241L86.0682 14.4901H86.017L84.0611 20ZM84.3679 17.4432H87.7173V18.1463H84.3679V17.4432ZM91.7989 21.9432C91.4346 21.9432 91.1213 21.8963 90.8593 21.8026C90.5972 21.7109 90.3788 21.5895 90.2041 21.4382C90.0315 21.2891 89.8941 21.1293 89.7918 20.9588L90.3927 20.5369C90.4608 20.6264 90.5471 20.7287 90.6515 20.8438C90.7559 20.9609 90.8987 21.0621 91.0798 21.1474C91.263 21.2347 91.5027 21.2784 91.7989 21.2784C92.1952 21.2784 92.5223 21.1825 92.7801 20.9908C93.0379 20.799 93.1668 20.4986 93.1668 20.0895V19.0923H93.1029C93.0475 19.1818 92.9687 19.2926 92.8664 19.4247C92.7662 19.5547 92.6213 19.6708 92.4317 19.7731C92.2442 19.8732 91.9907 19.9233 91.6711 19.9233C91.2748 19.9233 90.9189 19.8295 90.6036 19.642C90.2904 19.4545 90.0422 19.1818 89.8589 18.8239C89.6778 18.4659 89.5873 18.0312 89.5873 17.5199C89.5873 17.017 89.6757 16.5792 89.8525 16.2063C90.0294 15.8313 90.2755 15.5415 90.5908 15.337C90.9062 15.1303 91.2705 15.027 91.6838 15.027C92.0035 15.027 92.257 15.0803 92.4445 15.1868C92.6341 15.2912 92.779 15.4105 92.8792 15.5447C92.9814 15.6768 93.0603 15.7855 93.1157 15.8707H93.1924V15.0909H93.9211V20.1406C93.9211 20.5625 93.8252 20.9055 93.6334 21.1697C93.4438 21.4361 93.1881 21.631 92.8664 21.7546C92.5468 21.8803 92.191 21.9432 91.7989 21.9432ZM91.7733 19.2457C92.0759 19.2457 92.3316 19.1765 92.5404 19.038C92.7492 18.8995 92.9079 18.7003 93.0166 18.4403C93.1253 18.1804 93.1796 17.8693 93.1796 17.5071C93.1796 17.1534 93.1263 16.8413 93.0198 16.5707C92.9133 16.3001 92.7556 16.0881 92.5468 15.9347C92.338 15.7812 92.0802 15.7045 91.7733 15.7045C91.4537 15.7045 91.1874 15.7855 90.9743 15.9474C90.7634 16.1094 90.6047 16.3267 90.4981 16.5994C90.3937 16.8722 90.3415 17.1747 90.3415 17.5071C90.3415 17.848 90.3948 18.1495 90.5013 18.4116C90.61 18.6715 90.7698 18.8761 90.9807 19.0252C91.1938 19.1722 91.458 19.2457 91.7733 19.2457Z",fill:"black",fillOpacity:"0.8"}),(0,n.jsx)("path",{d:"M75.8419 93V88.6364H77.4399C77.7496 88.6364 78.006 88.6875 78.2091 88.7898C78.4122 88.8906 78.5642 89.0277 78.6651 89.201C78.7659 89.3729 78.8163 89.5668 78.8163 89.7827C78.8163 89.9645 78.783 90.1179 78.7162 90.2429C78.6494 90.3665 78.5599 90.4659 78.4477 90.5412C78.3369 90.6151 78.2148 90.669 78.0813 90.7031V90.7457C78.2261 90.7528 78.3675 90.7997 78.5053 90.8864C78.6445 90.9716 78.7595 91.093 78.8504 91.2507C78.9413 91.4084 78.9868 91.6001 78.9868 91.826C78.9868 92.049 78.9342 92.2493 78.8291 92.4268C78.7254 92.603 78.5649 92.7429 78.3476 92.8466C78.1303 92.9489 77.8526 93 77.5145 93H75.8419ZM76.5003 92.4354H77.4506C77.7659 92.4354 77.9918 92.3743 78.1281 92.2521C78.2645 92.13 78.3327 91.9773 78.3327 91.794C78.3327 91.6562 78.2979 91.5298 78.2283 91.4148C78.1587 91.2997 78.0592 91.2081 77.93 91.1399C77.8021 91.0717 77.6501 91.0376 77.474 91.0376H76.5003V92.4354ZM76.5003 90.5241H77.3824C77.5301 90.5241 77.6629 90.4957 77.7808 90.4389C77.9001 90.3821 77.9946 90.3026 78.0642 90.2003C78.1352 90.0966 78.1707 89.9744 78.1707 89.8338C78.1707 89.6534 78.1075 89.5021 77.9811 89.38C77.8547 89.2578 77.6608 89.1967 77.3994 89.1967H76.5003V90.5241ZM81.8197 91.6428V89.7273H82.4589V93H81.8325V92.4332H81.7984C81.7231 92.608 81.6024 92.7536 81.4362 92.87C81.2714 92.9851 81.0662 93.0426 80.8204 93.0426C80.6102 93.0426 80.4241 92.9964 80.2622 92.9041C80.1017 92.8104 79.9752 92.6719 79.8829 92.4886C79.792 92.3054 79.7465 92.0788 79.7465 91.8089V89.7273H80.3836V91.7322C80.3836 91.9553 80.4454 92.1328 80.569 92.2649C80.6926 92.397 80.8531 92.4631 81.0505 92.4631C81.1698 92.4631 81.2885 92.4332 81.4063 92.3736C81.5257 92.3139 81.6244 92.2237 81.7025 92.103C81.7821 91.9822 81.8211 91.8288 81.8197 91.6428ZM84.8726 89.7273V90.2386H83.085V89.7273H84.8726ZM83.5644 88.9432H84.2014V92.0391C84.2014 92.1626 84.2199 92.2557 84.2568 92.3182C84.2938 92.3793 84.3414 92.4212 84.3996 92.4439C84.4593 92.4652 84.5239 92.4759 84.5935 92.4759C84.6446 92.4759 84.6894 92.4723 84.7277 92.4652C84.7661 92.4581 84.7959 92.4524 84.8172 92.4482L84.9323 92.9744C84.8953 92.9886 84.8428 93.0028 84.7746 93.017C84.7064 93.0327 84.6212 93.0412 84.5189 93.0426C84.3513 93.0455 84.195 93.0156 84.0502 92.9531C83.9053 92.8906 83.7881 92.794 83.6986 92.6634C83.6091 92.5327 83.5644 92.3686 83.5644 92.1712V88.9432ZM87.135 89.7273V90.2386H85.3474V89.7273H87.135ZM85.8268 88.9432H86.4639V92.0391C86.4639 92.1626 86.4823 92.2557 86.5193 92.3182C86.5562 92.3793 86.6038 92.4212 86.662 92.4439C86.7217 92.4652 86.7863 92.4759 86.8559 92.4759C86.907 92.4759 86.9518 92.4723 86.9901 92.4652C87.0285 92.4581 87.0583 92.4524 87.0796 92.4482L87.1947 92.9744C87.1578 92.9886 87.1052 93.0028 87.037 93.017C86.9688 93.0327 86.8836 93.0412 86.7813 93.0426C86.6137 93.0455 86.4575 93.0156 86.3126 92.9531C86.1677 92.8906 86.0505 92.794 85.961 92.6634C85.8715 92.5327 85.8268 92.3686 85.8268 92.1712V88.9432ZM89.2131 93.0661C88.9063 93.0661 88.6386 92.9957 88.4099 92.8551C88.1812 92.7145 88.0036 92.5178 87.8772 92.2649C87.7508 92.0121 87.6876 91.7166 87.6876 91.3786C87.6876 91.0391 87.7508 90.7422 87.8772 90.4879C88.0036 90.2337 88.1812 90.0362 88.4099 89.8956C88.6386 89.755 88.9063 89.6847 89.2131 89.6847C89.52 89.6847 89.7877 89.755 90.0164 89.8956C90.2451 90.0362 90.4227 90.2337 90.5491 90.4879C90.6755 90.7422 90.7387 91.0391 90.7387 91.3786C90.7387 91.7166 90.6755 92.0121 90.5491 92.2649C90.4227 92.5178 90.2451 92.7145 90.0164 92.8551C89.7877 92.9957 89.52 93.0661 89.2131 93.0661ZM89.2153 92.5312C89.4141 92.5312 89.5789 92.4787 89.7096 92.3736C89.8403 92.2685 89.9369 92.1286 89.9994 91.9538C90.0633 91.7791 90.0952 91.5866 90.0952 91.3764C90.0952 91.1676 90.0633 90.9759 89.9994 90.8011C89.9369 90.625 89.8403 90.4837 89.7096 90.3771C89.5789 90.2706 89.4141 90.2173 89.2153 90.2173C89.015 90.2173 88.8488 90.2706 88.7167 90.3771C88.586 90.4837 88.4887 90.625 88.4248 90.8011C88.3623 90.9759 88.331 91.1676 88.331 91.3764C88.331 91.5866 88.3623 91.7791 88.4248 91.9538C88.4887 92.1286 88.586 92.2685 88.7167 92.3736C88.8488 92.4787 89.015 92.5312 89.2153 92.5312ZM92.1169 91.0568V93H91.4798V89.7273H92.0913V90.2599H92.1318C92.2071 90.0866 92.325 89.9474 92.4855 89.8423C92.6474 89.7372 92.8513 89.6847 93.097 89.6847C93.32 89.6847 93.5153 89.7315 93.683 89.8253C93.8506 89.9176 93.9805 90.0554 94.0729 90.2386C94.1652 90.4219 94.2114 90.6484 94.2114 90.9183V93H93.5743V90.995C93.5743 90.7578 93.5125 90.5724 93.3889 90.4389C93.2653 90.304 93.0956 90.2365 92.8797 90.2365C92.732 90.2365 92.6006 90.2685 92.4855 90.3324C92.3719 90.3963 92.2817 90.4901 92.2149 90.6136C92.1496 90.7358 92.1169 90.8835 92.1169 91.0568Z",fill:"black",fillOpacity:"0.8"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 83C71.8954 83 71 83.8954 71 85V97C71 98.1046 71.8954 99 73 99H97C98.1046 99 99 98.1046 99 97V85C99 83.8954 98.1046 83 97 83H73ZM70 85C70 83.3431 71.3431 82 73 82H97C98.6569 82 100 83.3431 100 85V97C100 98.6569 98.6569 100 97 100H73C71.3431 100 70 98.6569 70 97V85Z",fill:"black",fillOpacity:"0.8"}),(0,n.jsx)("path",{d:"M58 82H34C32.3431 82 31 83.3431 31 85V97C31 98.6569 32.3431 100 34 100H58C59.6569 100 61 98.6569 61 97V85C61 83.3431 59.6569 82 58 82Z",fill:"#56CCF2",fillOpacity:"0.8"}),(0,n.jsx)("path",{d:"M36.7669 93V88.6364H38.3649C38.6746 88.6364 38.931 88.6875 39.1341 88.7898C39.3372 88.8906 39.4892 89.0277 39.5901 89.201C39.6909 89.3729 39.7413 89.5668 39.7413 89.7827C39.7413 89.9645 39.708 90.1179 39.6412 90.2429C39.5744 90.3665 39.4849 90.4659 39.3727 90.5412C39.2619 90.6151 39.1398 90.669 39.0063 90.7031V90.7457C39.1511 90.7528 39.2925 90.7997 39.4303 90.8864C39.5695 90.9716 39.6845 91.093 39.7754 91.2507C39.8663 91.4084 39.9118 91.6001 39.9118 91.826C39.9118 92.049 39.8592 92.2493 39.7541 92.4268C39.6504 92.603 39.4899 92.7429 39.2726 92.8466C39.0553 92.9489 38.7776 93 38.4395 93H36.7669ZM37.4253 92.4354H38.3756C38.6909 92.4354 38.9168 92.3743 39.0531 92.2521C39.1895 92.13 39.2577 91.9773 39.2577 91.794C39.2577 91.6562 39.2229 91.5298 39.1533 91.4148C39.0837 91.2997 38.9842 91.2081 38.855 91.1399C38.7271 91.0717 38.5751 91.0376 38.399 91.0376H37.4253V92.4354ZM37.4253 90.5241H38.3074C38.4551 90.5241 38.5879 90.4957 38.7058 90.4389C38.8251 90.3821 38.9196 90.3026 38.9892 90.2003C39.0602 90.0966 39.0957 89.9744 39.0957 89.8338C39.0957 89.6534 39.0325 89.5021 38.9061 89.38C38.7797 89.2578 38.5858 89.1967 38.3244 89.1967H37.4253V90.5241ZM42.7747 91.6428V89.7273H43.4139V93H42.7875V92.4332H42.7534C42.6781 92.608 42.5574 92.7536 42.3912 92.87C42.2264 92.9851 42.0212 93.0426 41.7754 93.0426C41.5652 93.0426 41.3791 92.9964 41.2172 92.9041C41.0567 92.8104 40.9302 92.6719 40.8379 92.4886C40.747 92.3054 40.7015 92.0788 40.7015 91.8089V89.7273H41.3386V91.7322C41.3386 91.9553 41.4004 92.1328 41.524 92.2649C41.6476 92.397 41.8081 92.4631 42.0055 92.4631C42.1248 92.4631 42.2435 92.4332 42.3613 92.3736C42.4807 92.3139 42.5794 92.2237 42.6575 92.103C42.7371 91.9822 42.7761 91.8288 42.7747 91.6428ZM45.8576 89.7273V90.2386H44.07V89.7273H45.8576ZM44.5494 88.9432H45.1864V92.0391C45.1864 92.1626 45.2049 92.2557 45.2418 92.3182C45.2788 92.3793 45.3264 92.4212 45.3846 92.4439C45.4443 92.4652 45.5089 92.4759 45.5785 92.4759C45.6296 92.4759 45.6744 92.4723 45.7127 92.4652C45.7511 92.4581 45.7809 92.4524 45.8022 92.4482L45.9173 92.9744C45.8803 92.9886 45.8278 93.0028 45.7596 93.017C45.6914 93.0327 45.6062 93.0412 45.5039 93.0426C45.3363 93.0455 45.18 93.0156 45.0352 92.9531C44.8903 92.8906 44.7731 92.794 44.6836 92.6634C44.5941 92.5327 44.5494 92.3686 44.5494 92.1712V88.9432ZM48.15 89.7273V90.2386H46.3624V89.7273H48.15ZM46.8418 88.9432H47.4789V92.0391C47.4789 92.1626 47.4973 92.2557 47.5343 92.3182C47.5712 92.3793 47.6188 92.4212 47.677 92.4439C47.7367 92.4652 47.8013 92.4759 47.8709 92.4759C47.922 92.4759 47.9668 92.4723 48.0051 92.4652C48.0435 92.4581 48.0733 92.4524 48.0946 92.4482L48.2097 92.9744C48.1728 92.9886 48.1202 93.0028 48.052 93.017C47.9838 93.0327 47.8986 93.0412 47.7963 93.0426C47.6287 93.0455 47.4725 93.0156 47.3276 92.9531C47.1827 92.8906 47.0655 92.794 46.976 92.6634C46.8865 92.5327 46.8418 92.3686 46.8418 92.1712V88.9432ZM50.2581 93.0661C49.9513 93.0661 49.6836 92.9957 49.4549 92.8551C49.2262 92.7145 49.0486 92.5178 48.9222 92.2649C48.7958 92.0121 48.7326 91.7166 48.7326 91.3786C48.7326 91.0391 48.7958 90.7422 48.9222 90.4879C49.0486 90.2337 49.2262 90.0362 49.4549 89.8956C49.6836 89.755 49.9513 89.6847 50.2581 89.6847C50.565 89.6847 50.8327 89.755 51.0614 89.8956C51.2901 90.0362 51.4677 90.2337 51.5941 90.4879C51.7205 90.7422 51.7837 91.0391 51.7837 91.3786C51.7837 91.7166 51.7205 92.0121 51.5941 92.2649C51.4677 92.5178 51.2901 92.7145 51.0614 92.8551C50.8327 92.9957 50.565 93.0661 50.2581 93.0661ZM50.2603 92.5312C50.4591 92.5312 50.6239 92.4787 50.7546 92.3736C50.8853 92.2685 50.9819 92.1286 51.0444 91.9538C51.1083 91.7791 51.1402 91.5866 51.1402 91.3764C51.1402 91.1676 51.1083 90.9759 51.0444 90.8011C50.9819 90.625 50.8853 90.4837 50.7546 90.3771C50.6239 90.2706 50.4591 90.2173 50.2603 90.2173C50.06 90.2173 49.8938 90.2706 49.7617 90.3771C49.631 90.4837 49.5337 90.625 49.4698 90.8011C49.4073 90.9759 49.376 91.1676 49.376 91.3764C49.376 91.5866 49.4073 91.7791 49.4698 91.9538C49.5337 92.1286 49.631 92.2685 49.7617 92.3736C49.8938 92.4787 50.06 92.5312 50.2603 92.5312ZM53.1919 91.0568V93H52.5548V89.7273H53.1663V90.2599H53.2068C53.2821 90.0866 53.4 89.9474 53.5605 89.8423C53.7224 89.7372 53.9263 89.6847 54.172 89.6847C54.395 89.6847 54.5903 89.7315 54.758 89.8253C54.9256 89.9176 55.0555 90.0554 55.1479 90.2386C55.2402 90.4219 55.2864 90.6484 55.2864 90.9183V93H54.6493V90.995C54.6493 90.7578 54.5875 90.5724 54.4639 90.4389C54.3403 90.304 54.1706 90.2365 53.9547 90.2365C53.807 90.2365 53.6756 90.2685 53.5605 90.3324C53.4469 90.3963 53.3567 90.4901 53.2899 90.6136C53.2246 90.7358 53.1919 90.8835 53.1919 91.0568Z",fill:"white"}),(0,n.jsx)("mask",{id:"mask0_1_30",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"20",y:"121",width:"107",height:"22",children:(0,n.jsx)("path",{d:"M126.001 121H20.5566V143H126.001V121Z",fill:"white"})}),(0,n.jsxs)("g",{mask:"url(#mask0_1_30)",className:"oss_sales_upsell_modal--graphicLine--6Z-mU",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M73 143V121H74V143H73Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M40.5566 121.477L20.5566 143L19.8759 142.267L39.8759 120.745L40.5566 121.477Z"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M126 142.523L106 121L106.681 120.267L126.681 141.79L126 142.523Z"})]})]})}let sn=[{key:1,elem:(0,N.tx)("oss_sales_upsell_overlay.feature1")},{key:2,elem:(0,N.tx)("oss_sales_upsell_overlay.feature2")},{key:3,elem:(0,N.tx)("oss_sales_upsell_overlay.feature3")}],sr=(0,se.Ju)(function({onDismiss:e}){let t=(0,S.md)(ea.yV),i=(0,p.wA)();return(0,n.jsxs)(st.yX,{autoFocusCta:!1,cancelText:(0,N.tx)("oss_sales_upsell_overlay.secondary_cta"),className:"oss_sales_upsell_modal--modal--fdI6U",confirmText:(0,N.tx)("oss_sales_upsell_overlay.primary_cta"),confirmationTitle:(0,N.tx)("oss_sales_upsell_overlay.title"),hideOnCancel:!1,hideOnConfirm:!1,isLoading:!t?.teamId,onCancel:()=>{i((0,eE.to)({type:a7.lk,data:{source:a8.B.LIBRARY_DUPLICATE_OSS_SALES_UPSELL,overridePlaceholderText:(0,N.t)("oss_sales_upsell_overlay.contact_sales_form.text_placeholder")}}))},onCloseButtonClick:e,onConfirm:()=>{t?.teamId&&i(a9.Bq({openInNewTab:!0,upsellSource:eI.b.OSS_SALES_UPSELL_MODAL}))},overrideOnHide:e,titleClass:"oss_sales_upsell_modal--title--wpaS5",children:[(0,n.jsx)("div",{className:I.s.lh24.font13.pt24.pr0.pb32.pl0.$,children:(0,n.jsxs)(a6.Y,{spacing:"40px",children:[(0,n.jsxs)(a6.Y,{direction:"vertical",spacing:"12px",children:[(0,n.jsx)("p",{children:(0,N.tx)("oss_sales_upsell_overlay.body1")}),(0,n.jsxs)(a6.Y,{direction:"vertical",spacing:8,children:[(0,n.jsx)("p",{className:I.s.fontSemiBold.$,children:(0,N.tx)("oss_sales_upsell_overlay.body2")}),(0,n.jsx)(a6.Y,{direction:"vertical",spacing:8,children:sn.map(e=>(0,n.jsxs)(a6.Y,{spacing:8,horizontalAlignItems:"start",children:[(0,n.jsx)("p",{children:"\u2713"}),(0,n.jsx)("p",{children:e.elem})]},e.key))})]}),(0,n.jsx)("p",{className:I.s.pt4.$,children:(0,N.tx)("oss_sales_upsell_overlay.body3")})]}),(0,n.jsx)("div",{className:I.s.mr16.$,children:(0,n.jsx)(si,{})})]})}),(0,n.jsx)("div",{className:I.s.bt1.colorBorder.bSolid.$})]})},"OssSalesUpsellModal");function sa(){let e=(0,S.md)(ea.As),t=(0,S.md)(ea.ze);return e&&t?(0,n.jsx)(ss,{teamId:e,fileKey:t}):null}function ss({teamId:e,fileKey:t}){let i=(0,p.wA)(),a=(0,S.md)(eS.M$),s=(0,i9.Rs)(nt.TNJ,{id:e}),o=(0,f.e)({overlay:y.jRE,priority:g.N.DEFAULT_MODAL},[a,s]),l=eC.tl().user_data,d=l?.email,c=(0,a5.HS)(d);return(0,tx.h)(()=>{o.show({canShow:(e,i)=>!!(c&&(0,a4.nN)(t)&&!e&&i.team?.hasPermission)})}),(0,r.useEffect)(()=>{o.isShowing&&(0,a4.wj)()},[c,o.isShowing]),(0,n.jsx)(eq.h,{isShowing:o.isShowing,modalType:eQ.q3.FEATURE_UPDATE,element:function(e){return(0,tx.h)(()=>{i((0,eE.to)({type:sr,data:{onDismiss:e.dismissModal}}))}),(0,n.jsx)("div",{})},trackingContextName:"oss_sales_upsell_overlay",onClickPrimaryCta:iR.lQ,onClose:o.complete,onManualDismiss:o.complete,testId:"oss_sales_upsell_overlay_test_id"})}var so=i(397269),sl=i(318790),sd=i(714362),sc=i(924253),su=i(907304),sp=i(106955),sm=i(983733),sh=i(809086);let sf="seen_figjam_section_preset_picker_callout",sg=(0,ek.Fu)(sf),s_=e=>(0,p.d4)(t=>{if(!e)return!1;let i=Object.keys(t.mirror.sceneGraphSelection);return 1===i.length&&i[0]===e});function sx({sectionNodeId:e,isShowing:t,complete:i}){let r=(0,R._X)({subscribeToUpdates_expensive:!0}),a=(0,G.UN)().get(e);if(!a)return null;let s=a.sectionPresetPickerCalloutPosition;if(isNaN(s.x)||isNaN(s.y))return null;let o=(0,R.Z0)(r,s,!0),l=parseFloat(sh._1),d={top:o.y+r.y+l+2,left:o.x+r.x-150,pointerOffset:150-l,pointerPosition:tw.F_.TOP};return(0,n.jsx)(eF.rq,{clickOutsideToHide:!0,description:(0,N.tx)("whiteboard.section_presets_onboarding.picker_callout.description"),fixedPosition:!0,isShowing:t,location:d,onClose:i,primaryCta:{label:(0,N.tx)("rcs.got_it"),type:"button",onClick:i,ctaTrackingDescriptor:ew.c.GOT_IT},title:(0,N.tx)("whiteboard.section_presets_onboarding.picker_callout.title"),trackingContextName:"section_preset_picker_callout",userFlagOnShow:sf,width:300})}function sy(){let e=(0,sc.q)(),t=(0,S.md)(sp.w),i=(0,S.md)(sm.m5),a=(0,S.md)(sg),s=(0,r.useRef)({numShown:0,hasLoggedToSentry:!1}),[o,l]=(0,r.useState)(null),d=s_(o),{show:c,isShowing:u,complete:p}=(0,f.e)({overlay:y.Byv,priority:g.N.DEFAULT_MODAL},[i,a]);return((0,r.useEffect)(()=>{t&&o&&d&&e&&c({canShow:(e,t)=>!!e&&!t})},[c,e,t,o,d]),(0,r.useEffect)(()=>{if("loaded"===a.status&&!a.data&&"loaded"===i.status&&i.data)return(0,su.H)(function(e){l(e)})},[a,i]),(0,r.useEffect)(()=>{u&&s.current.numShown++,s.current.numShown>1&&!s.current.hasLoggedToSentry&&(s.current.hasLoggedToSentry=!0,(0,sd.x1)("SectionPresetPickerCallout","Callout shown more than once, this should not happen. Please investigate.",void 0,{reportAsSentryError:!0}))},[u]),u&&o)?(0,n.jsx)(sx,{sectionNodeId:o,isShowing:u,complete:p}):null}let sb=(0,eC.ck)("90c10991400b728428a200de3b347bba3f6d1d1e");function sC({isShowing:e,onPrimaryCtaClick:t,onClose:i}){return(0,n.jsx)(eF.rq,{testId:"share-to-google-classroom-onboarding",isShowing:e,trackingContextName:"Share to Google Classroom Onboarding",targetKey:"share",title:(0,N.tx)("whiteboard.google_classroom.onboarding.header"),description:(0,N.tx)("whiteboard.google_classroom.onboarding.body"),media:(0,n.jsx)(eO.y,{src:sb,alt:(0,N.t)("whiteboard.google_classroom.onboarding.image_alt"),aspectRatio:300/169}),primaryCta:{label:(0,N.tx)("whiteboard.google_classroom.onboarding.show_me"),type:"button",onClick:t,ctaTrackingDescriptor:ew.c.SHOW_ME},onClose:i})}function sv(){let e=(0,p.wA)(),t=ni({}),i=(0,S.md)(no),a=(0,S.md)(nd),s=(0,S.md)(nc),o=(0,S.md)(nu),l=(0,S.md)(i7.Ij),{show:d,isShowing:c,complete:u}=(0,f.e)({overlay:y.Y2_,priority:g.N.DEFAULT_MODAL},[a,i,s,o,t]);r.useEffect(()=>{d({onShow:()=>{e(m.b({[ns]:!0}))},canShow:(e,t,i,n,r)=>!e&&!t&&!i&&n&&r})},[t,e,d]),r.useEffect(()=>{a.data&&u()},[a,u]);let{currentStep:h,next:_}=(0,ez.A)({numSteps:2,onComplete:u}),x=function({isShowing:e,next:t,complete:i}){let r=(0,p.wA)(),a=(0,ea.q5)();return[(0,n.jsx)(sC,{onPrimaryCtaClick:()=>{if(!a){i();return}r((0,eE.to)({type:i6.g_,data:{fileKey:a.key,source:i4.nk.shareToGoogleClassroomOnboarding}})),t()},onClose:i,isShowing:e},"share-to-google-classroom-existing-user-callout"),(0,n.jsx)(na,{isShowing:e,onClose:i},"share-to-google-classroom-share-option-pointer")]}({isShowing:c,next:_,complete:u});return r.useEffect(()=>{l&&c&&0===h&&_()},[h,c,l,_]),(0,n.jsx)(eW.U,{currentStep:h,isShowing:c,children:x})}var sE=i(383776),sT=i(710136),sw=i(251115),sj=i(604494),sS=i(433401),sk=i(318590),sI=i(144974);let sN="has_onboarded_ai",sA=(0,S.eU)(!1);var sO=i(995208),sL=i(322845);let sR=g.N.HIGH_PRIORITY_MODAL+3;function sM(e,t){(0,tx.h)(()=>{e(m.b({[t]:!0}))})}let sD=(0,n.jsx)(sO.Jm,{src:(0,eC.ck)("b89b812ff4935b239f91bd78df370ad6dd947e0b"),aspectRatio:240/135,width:240});function sP({onClose:e,isShowing:t,onTargetLost:i}){let r=(0,p.wA)();return sM(r,sS.jx),sM(r,sN),(0,n.jsx)(eF.rq,{arrowPosition:tw.F_.BOTTOM,description:(0,N.tx)("ui3_and_ai_tour.ai_callout.description"),highlightBlue:!0,isShowing:t,media:sD,onClose:e,onTargetLost:i,primaryCta:{type:"button",label:(0,N.tx)("ui3_and_ai_tour.ai_callout.show_me"),onClick:()=>{(0,sL.$I)({trackingData:{source:"onboarding_ai_callout_component"}}),e()},ctaTrackingDescriptor:ew.c.SHOW_ME},secondaryCta:{type:"link",label:(0,N.tx)("ui3_and_ai_tour.ai_callout.playground_link"),href:"https://www.figma.com/community/file/1375505114072192161",ctaTrackingDescriptor:ew.c.AI_PLAYGROUND},targetKey:sS.Ij,testId:sS.T4,title:(0,N.tx)("ui3_and_ai_tour.ai_callout.title"),trackingContextName:"UI3/AI Onboarding > AI"})}var sF=i(846841);function sB({onClose:e,isShowing:t,onTargetLost:i}){return sM((0,p.wA)(),sS.af),(0,n.jsx)(eF.rq,{arrowPosition:tw.F_.BOTTOM,description:(0,a.k)().hub_file_fragments?(0,N.tx)("ui3_and_ai_callouts.community_fragment_search.description"):(0,N.tx)("ui3_and_ai_callouts.fragment_search.description"),highlightBlue:!0,isShowing:t,onClose:()=>e(),onTargetLost:i,primaryCta:{type:"button",label:(0,N.tx)("ui3_and_ai_callouts.fragment_search.cta"),onClick:()=>{(0,sF.Bd)(),e()},ctaTrackingDescriptor:ew.c.TRY_IT_OUT},targetKey:sS.Ij,testId:"fragmentSearchCallout",title:(0,N.tx)("ui3_and_ai_callouts.fragment_search.title"),trackingContextName:"Fragment Search Callout"})}function sU(){let e=function(){let e=(0,eu.f)(sS.$9),t=(0,eu.f)(sS.af),i=(0,eH.p8)("showUi"),n=(0,r.useMemo)(()=>e,[i]),a=(0,r.useMemo)(()=>t,[i]),s=(0,tT.m0)(),o=(0,tT.Em)(),l=(0,sw.PE)(),d=function(){let e=(0,sk.LC)();return(0,sI.C7)()&&e}(),c=[];return!s&&o&&l&&!n&&c.push(sP),0===c.length&&!s&&o&&d&&!a&&c.push(sB),c}(),t=(0,ek.r1)(sN),i=(0,S.md)(t),s=(0,ek.r1)("did_sign_up_as_ui3_user"),o=(0,S.md)(s),l=(0,ek.r1)(sS.$9),d=(0,S.md)(l),c=(0,ek.r1)(sS.af),p=(0,S.md)(c),m=(0,tT.Em)(),h=(0,u.l7)(),g=(0,u.hA)(),_=(0,sE.e)(),x=(0,u.ZO)(),b=!!(0,a.k)().ui3_and_ai_welcome_modal,C=(0,eH.aV)(),v=(0,S.md)(sj.Bu),E=(0,S.md)(eS.Fy),{uniqueId:T,show:w,isShowing:j,complete:k}=(0,f.e)({overlay:y.KTt,priority:sR},[i,d,o,p]),[I,A]=(0,S.fp)(sA),O=(0,r.useCallback)(()=>{e.length>0&&A(!0),k()},[A,k,e.length]),{currentStep:L,next:R}=(0,ez.A)({numSteps:0===e.length?1:e.length,onComplete:()=>O});(0,ej.E)(T,[(0,sT.wX)("dev"),(0,sT.wX)("design")],()=>{M()});let M=(0,r.useCallback)(()=>{b&&m&&!C&&0!==e.length&&E?.data&&!I&&w()},[b,m,C,e.length,E,w,I]);(0,r.useEffect)(()=>{C||v||M()},[C,M,v]);let D=(0,r.useCallback)(()=>{O()},[O]);(0,r.useEffect)(()=>{j&&v&&D()},[j,v,D]);let P=r.useMemo(()=>{let t={type:"button",label:(0,N.tx)("general.next"),onClick:R,ctaTrackingDescriptor:ew.c.NEXT},i={type:"button",label:(0,N.tx)("general.done"),onClick:O,ctaTrackingDescriptor:ew.c.DONE};return e.map((n,a)=>r.createElement(n,{primaryCta:a===e.length-1?i:t,onClose:O,stepNum:a+1,totalNumSteps:e.length,isShowing:j,onTargetLost:a===e.length-1?O:R}))},[R,O,e,j]);return((0,r.useEffect)(()=>{(!P||0===e.length||h||g||_||x)&&O()},[P,e.length,h,g,_,x,O]),j)?(0,n.jsx)(eW.U,{currentStep:L,isShowing:j,children:P}):null}var sG=i(926950);let sH="UI3 Reactivation Overlay";function sz(){let e=(0,eH.aV)(),t=(0,S.md)(sG.jH),{isShowing:i,complete:a}=(0,f.e)({overlay:y.HU3,priority:g.N.SECONDARY_MODAL}),{currentStep:s,next:o}=(0,ez.A)({numSteps:2,onComplete:a});return r.useEffect(()=>{i&&0===s&&!e&&o()},[i,s,e,o]),r.useEffect(()=>{i&&t&&a()},[i,t,a]),(0,n.jsxs)(eW.U,{currentStep:s,isShowing:i,children:[(0,n.jsx)(eF.rq,{arrowPosition:tw.F_.RIGHT_BODY,description:(0,N.tx)("ui3_reactivation_overlay.ui2_description"),disableHighlight:!0,isShowing:i,media:(0,n.jsx)(eO.w,{src:(0,eC.ck)("c24e9a3e1bb4e0babe4ebc86f9d58b79e44a1992"),aspectRatio:16/9}),onClose:e=>{"close_button_clicked"!==e&&(0,ef.Cu)({eventName:"Overlay Closed",trackingContext:`Onboarding Sequence > ${sH} Step 1`,overlayStep:1,closeReason:e}),a()},primaryCta:{type:"button",label:(0,N.tx)("ui3_reactivation_overlay.ui2_primary_cta"),onClick:o,ctaTrackingDescriptor:ew.c.SWITCH_TO_UI3},secondaryCta:{type:"link",label:(0,N.tx)("ui3_reactivation_overlay.secondary_cta"),href:"https://www.figma.com/blog/making-the-move-to-ui3-a-guide-to-figmas-next-chapter/",ctaTrackingDescriptor:ew.c.LEARN_MORE},targetKey:eZ.J_,title:(0,N.tx)("ui3_reactivation_overlay.ui2_title"),trackingContextName:`${sH} Step 1`}),(0,n.jsx)(eF.rq,{arrowPosition:tw.F_.RIGHT_BODY,description:(0,N.tx)("ui3_reactivation_overlay.ui3_description"),disableHighlight:!0,isShowing:i,media:(0,n.jsx)(eO.y,{src:(0,eC.ck)("94d7810cc12859da29e6f4e32a5ffe858ce5445e"),alt:(0,N.t)("ui3_reactivation_overlay.ui3_media_alt"),aspectRatio:16/9}),onClose:e=>{"close_button_clicked"!==e&&(0,ef.Cu)({eventName:"Overlay Closed",trackingContext:`Onboarding Sequence > ${sH} Step 2`,overlayStep:2,closeReason:e}),a()},primaryCta:{type:"button",label:(0,N.tx)("ui3_reactivation_overlay.ui3_primary_cta"),onClick:o,ctaTrackingDescriptor:ew.c.GOT_IT},secondaryCta:{type:"link",label:(0,N.tx)("ui3_reactivation_overlay.secondary_cta"),href:"https://www.figma.com/blog/making-the-move-to-ui3-a-guide-to-figmas-next-chapter/",ctaTrackingDescriptor:ew.c.LEARN_MORE},targetKey:eZ.J_,title:(0,N.tx)("ui3_reactivation_overlay.ui3_title"),trackingContextName:`${sH} Step 2`})]})}var sV=i(641749),sK=i(612001),sW=i(637027),sq=i(849451),sY=i(336229);function sX({trackingContextName:e,getTitle:t,getBody:i,width:r=268}){return{modalType:eQ.q3.POINTER,trackingContextName:e,width:r,onboardingKey:r5.yl,shouldCenterArrow:nB.EL.FALLBACK,element:()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(sq.x,{target:r5.yl}),(0,n.jsx)("div",{className:sY.Hj,children:t()}),i()]}),userFlag:"seen_figjam_widget_nudge_flag"}}function sJ(e){let[t,i]=r.useState(!0),a=(0,p.wA)(),s=(0,S.md)(ea.yV);r.useEffect(()=>{setTimeout(()=>i(!1),1e3)});let o=()=>{a(m.b({explicitly_dismissed_create_component_pointer:!0})),e.dismissModal()};return t?null:(0,n.jsxs)(h.fu,{name:"library upsell create component pointer",properties:{fileKey:s?.key,teamId:s?.teamId},children:[(0,n.jsx)(sq.x,{target:"create-symbol"}),(0,n.jsxs)(iP.NJ,{dismissModal:o,width:244,targetKey:"create-symbol",shouldNotWrapInParagraphTag:!0,shouldCenterArrow:nB.EL.FALLBACK,children:[(0,n.jsx)("p",{children:(0,N.tx)("rcs.upsell_libraries.click_here_to_turn_into_component")}),(0,n.jsx)(sW.Kz,{multiple:2}),(0,n.jsx)("div",{className:sh.kP,children:(0,n.jsx)(tW.$z,{onClick:o,variant:"primary",children:(0,N.tx)("rcs.upsell_libraries.visual_bell.got_it")})})]})]})}eQ.q3.SELF_CONTAINED,sX({trackingContextName:"FigJam Widget Nudge Generic",getTitle:()=>(0,N.t)("rcs.figjam_widget_nudge.generic_title"),getBody:()=>(0,N.t)("rcs.figjam_widget_nudge.generic_body")}),sX({trackingContextName:"FigJam Widget Nudge Project Management",getTitle:()=>(0,N.t)("rcs.figjam_widget_nudge.pm_title"),getBody:()=>(0,N.t)("rcs.figjam_widget_nudge.pm_body"),width:240}),sX({trackingContextName:"FigJam Widget Nudge Alignment",getTitle:()=>(0,N.t)("rcs.figjam_widget_nudge.align_title"),getBody:()=>(0,N.t)("rcs.figjam_widget_nudge.align_body")}),sX({trackingContextName:"FigJam Widget Nudge Fun",getTitle:()=>(0,N.t)("rcs.figjam_widget_nudge.fun_title"),getBody:()=>(0,N.t)("rcs.figjam_widget_nudge.fun_body")});var sZ=i(337355),sQ=i(988099),s$=i(738753),s0=(e=>(e.AwaitIsShowing="AwaitIsShowing",e.AwaitPastedElementsSelected="AwaitPastedElementsSelected",e.AwaitOtherElementsSelected="AwaitOtherElementsSelected",e.Completed="Completed",e))(s0||{}),s1=(e=>(e.OnShow="OnShowUpsellLibariesConsecutivePaste",e.SelectionChanged="Selection Changed",e))(s1||{});s$.R;let s2=(0,sZ.Op)({initial:"AwaitIsShowing",states:[{id:"AwaitIsShowing",transitions:[(0,sZ.nr)("OnShowUpsellLibariesConsecutivePaste","AwaitPastedElementsSelected")]},{id:"AwaitPastedElementsSelected",transitions:[(0,sZ.nr)("Selection Changed","AwaitOtherElementsSelected",{condition:({event:e})=>!!e.properties.didSelectedNodeIdsChange})]},{id:"AwaitOtherElementsSelected",transitions:[(0,sZ.nr)("Selection Changed","Completed",{condition:({event:e})=>!!e.properties.didSelectedNodeIdsChange})]},{id:"Completed",terminal:!0}]}),s3=(0,sQ.rn)("paste_deselected_machine",s2),s5=(0,ek.r1)("explicitly_dismissed_create_component_pointer"),s4=(0,eS.tH)("first_component_created_date");function s6(){let e=(0,p.wA)(),t=(0,S.md)(eS.t),i=(0,S.md)(tO.NZ),r=(0,S.md)(tO.pQ),a=(0,t6.jO)(),s=(0,S.md)(s4),o=(0,S.md)(s5),l=(0,sV.zl)(s3),d=(0,f.e)({overlay:y.g4U,priority:g.N.SECONDARY_MODAL},[t,r,o]);return(0,ej.E)(d.uniqueId,sK.zb,()=>{null===s&&d.show({canShow:(e,t,n)=>e&&(t||i)&&a&&!n,onShow:()=>{(0,iM.YQ)({id:s1.OnShow})}})}),(0,ej.E)(d.uniqueId,"action_create_symbol",()=>{d.isShowing&&(e(m.b({explicitly_dismissed_create_component_pointer:!0})),d.complete())}),(0,sV.ST)(l,({to:e})=>{e===s0.Completed&&(d.complete(),l.reset())}),(0,n.jsx)(s7,{isShowing:d.isShowing,onAbort:d.complete,children:(0,n.jsx)(eq.h,{isShowing:d.isShowing,modalType:eQ.q3.SELF_CONTAINED,trackingContextName:"Consecutive Paste Create Component Pointer",element:sJ,onClickPrimaryCta:d.complete,onClose:d.complete,onManualDismiss:d.complete,testId:"upsell_libraries_consecutive_paste_overlay"})})}function s7(e){let[t,i]=r.useState(!1),n=eC.Ay().user_data?.id,{isShowing:a,onAbort:s}=e;return r.useEffect(()=>{!t&&a&&((0,iy.Hz)(n)?i(!0):s())},[i,t,a,s,n]),t?e.children:null}var s8=i(49598),s9=i(78808),oe=i(893645),ot=i(42189);let oi="seen_workflow_interop_diagram_onboarding",on=(0,ek.r1)(oi),or="FigJam Diagram Onboarding (Workflow Interop Experiment)",oa={connectors:`${or} - Connectors`,shapes:`${or} - Shapes`,templates:`${or} - Templates`},os=(0,eC.ck)("2655e9f0e4247dff3d5a46cf59f788473bffe0c6"),oo=(0,eC.ck)("0c9201d8164c2390cdcf3fb8d316b6bacdddb438"),ol=(0,eC.ck)("b8b42ba263794abd20364c3da0f3f4993fd4ed86");function od(){!function(){let e=(0,eH.p8)("pagesList");(0,r.useMemo)(()=>{let t=(0,tH.QL)("preservePageIndex");if(t&&e.length>0){(0,tH.EM)("preservePageIndex");let i=parseInt(t);if(isNaN(i)||i<0||i>=e.length)return;e.forEach((e,t)=>{t!==i&&iB.Y5.triggerAction("page-delete",{args:{nodeId:e.nodeId,skipVisualBell:!0}})})}},[e])}(),function(){let{insertTemplate:e}=(0,nk.Fz)(),t=(0,p.wA)();(0,tx.h)(()=>{let i=(0,tH.QL)("templateId");null!=i&&((0,tH.EM)("templateId"),t(s8.ts({hubFileId:i,callback:t=>{e({template:{template:t,type:nO.n.HubFile},userTriggered:!1,templateInsertionDirection:w.hKj.ABOVE,triggeredFrom:"workflow-interop"})}})))})}();let e=(0,S.md)(on),t=(0,f.e)({overlay:y.uPw,priority:g.N.OVERRIDING_MODAL},[e]),i=function(e){let t=(0,p.wA)();return r.useMemo(()=>[{title:(0,N.tx)("rcs.figjam_diagram_onboarding.connectors_title"),trackingContextName:oa.connectors,arrowPosition:tw.F_.BOTTOM,media:(0,n.jsx)(eO.y,{src:os,aspectRatio:900/508,alt:(0,N.t)("rcs.figjam_diagram_onboarding.connectors_title")}),description:(0,N.tx)("rcs.figjam_diagram_onboarding.connectors"),targetKey:r5.BC,onClose:iR.lQ},{title:(0,N.tx)("rcs.figjam_diagram_onboarding.shapes_title"),trackingContextName:oa.shapes,arrowPosition:tw.F_.BOTTOM,media:(0,n.jsx)(eO.y,{aspectRatio:900/507,src:oo,alt:(0,N.t)("rcs.figjam_diagram_onboarding.shapes_title")}),description:(0,N.tx)("rcs.figjam_diagram_onboarding.shapes"),targetKey:r5.BC,onClose:iR.lQ},{title:(0,N.tx)("rcs.figjam_diagram_onboarding.templates_title"),trackingContextName:oa.templates,arrowPosition:tw.F_.BOTTOM,media:(0,n.jsx)(eO.y,{aspectRatio:900/505,src:ol,alt:(0,N.t)("rcs.figjam_diagram_onboarding.templates_title")}),description:(0,N.tx)("rcs.figjam_diagram_onboarding.templates"),targetKey:r5.yl,secondaryCta:{type:"button",label:(0,N.tx)("rcs.figjam_diagram_onboarding.see_templates"),onClick:()=>{t(tA.En({initialX:0,initialY:0,initialTab:ot.p.TEMPLATES})),e.complete()}},onClose:iR.lQ}],[t,e])}(t);return(0,tx.h)(()=>{(0,tH.QL)(s9.tX.key)===s9.tX.value&&t.show({canShow:e=>!e})}),(0,n.jsx)(oe.WZ,{testId:"workflow-interop-machine-overlay",userFlagOnShow:oi,isShowing:t.isShowing,onComplete:t.complete,steps:i})}var oc=i(532170);let ou="seen_figjam_workshop_onboarding",op=(0,ek.r1)(ou);function om(e){let t=(0,S.md)(tO.J1),i=(0,S.md)(op),r=(0,S.md)(tO.zo),a=(0,S.md)(tO.PD),s=(0,f.e)({overlay:y.Fq3,priority:g.N.SECONDARY_MODAL},[t,i,r,a]);return(0,tx.h)(()=>{s.show({canShow:(e,t,i,n)=>e&&!t&&i&&!n})}),(0,n.jsx)(eq.h,{currentStepIndex:0,disableFooter:!0,element:oh,isShowing:s.isShowing,modalType:eQ.q3.DRAGGABLE,onClickPrimaryCta:s.complete,onClose:s.complete,onManualDismiss:s.complete,onboardingKey:eZ.v4,title:()=>(0,N.t)("rcs.figjam_workshop.invite_the_world_to_your_workshop"),totalNumSteps:1,trackingContextName:"Fig Jam Workshop Onboarding",userFlagOnShow:ou,width:301})}function oh(e){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(oc.Gv,{width:301,src:(0,eC.ck)("a97e76df2b43ae8b408127c1c63ea0b8485ba8ac")}),(0,n.jsx)(oc.ak,{children:(0,N.tx)("rcs.figjam_workshop.open_sessions_let_you_jam_with_anyone_even_people_who_don_t_have_a_figma_account")})]})}var of=i(467440),og=i(631279),o_=i(825971),ox=i(481637);function oy(e,t,i,n){let a=(0,p.wA)(),s=(0,eu.f)(i),o=r.useRef(!!s);(0,ej.E)(e,t,r.useCallback(()=>{!(n?.current||o?.current)&&(s||(o.current=!0,a(m.b({[i]:!0}))))},[n,a,s,i]))}var ob=i(762558),oC=i(61403),ov=i(139984),oE=i(881782),oT=i(889115),ow=i(452531),oj=i(151869);function oS(){let{uniqueId:e,show:t,isShowing:i,complete:a}=(0,f.e)({overlay:y.a9B,priority:g.N.OVERRIDING_MODAL}),s=(0,p.wA)(),o=(0,eu.f)("cursor_bot_v2__no_basics_file__played_frame_formatting"),l=(0,eu.f)("design_panel_step_shown"),d=(0,eu.f)("cursor_bot_v2__basics_file__started_flow"),c=(0,t6.Ai)(["exp_cursor_bot_onboarding"]),u=(0,oE.b)();(0,ej.E)(e,"create_frame",r.useCallback(()=>{!o||l||d||c||i||t()},[l,d,i,o,t,c]));let h=(0,S.md)(of.a8),_=!!(0,eu.f)((0,og.Of)(oC.wn.FORMAT_FRAME,!1).tutorialPlayedUserFlag),x=r.useMemo(()=>(0,oT.p)(_,!1),[_]);if(!i)return null;if(h===oC.h0.PLAYING)return(0,n.jsx)(ov.a,{cursorBotStateManager:u,currentTutorial:x});let b=()=>{s(m.b({design_panel_step_shown:!0})),a()};return(0,n.jsx)(x.TooltipElement,{onClickNext:b,onClickShowMe:()=>{u.runTutorial(x)},onClickClose:b,skip:b,isFollowUp:!0})}function ok(){let{uniqueId:e,show:t,isShowing:i,complete:a}=(0,f.e)({overlay:y.ENg,priority:g.N.OVERRIDING_MODAL}),s=(0,p.wA)(),o=(0,eu.f)("cursor_bot_v2__no_basics_file__played_text_formatting"),l=(0,eu.f)("format_text_step_shown"),d=(0,eu.f)("cursor_bot_v2__basics_file__started_flow"),c=(0,oE.b)(),u=(0,t6.Ai)(["exp_cursor_bot_onboarding"]),[h,_]=r.useState(!1),x=(0,oj.Vr)(),b=(0,p.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);(0,ej.E)(e,"create_text",()=>{_(!0)}),r.useEffect(()=>{!o||l||d||u||i||!h||x?.type!=="TEXT"||b!==w.m1T.DESIGN_LAYOUT||i||t()},[x,h,i,t,b,o,l,d,u]);let C=!!(0,eu.f)((0,og.Of)(oC.wn.FORMAT_TEXT,!1).tutorialPlayedUserFlag),v=r.useMemo(()=>(0,ow.Z)(C,!1),[C]),E=(0,S.md)(of.a8);if(!i)return null;if(E===oC.h0.PLAYING)return(0,n.jsx)(ov.a,{cursorBotStateManager:c,currentTutorial:v});let T=()=>{s(m.b({format_text_step_shown:!0})),a()};return(0,n.jsx)(v.TooltipElement,{onClickNext:T,onClickShowMe:()=>{c.runTutorial(v)},onClickClose:T,skip:T,isFollowUp:!0})}var oI=i(605682),oN=i(846647);function oA(){let e=(0,f.e)({overlay:y.CVA,priority:g.N.OVERRIDING_MODAL}),t=(0,eu.f)("no_figma_basics_tooltips_design_panel_step"),i=(0,eu.f)("design_panel_step_shown"),a=(0,eu.f)("started_figma_basics_onboarding"),s=(0,p.wA)(),o=t&&!i&&!a;if((0,ej.E)(e.uniqueId,"create_frame",r.useCallback(()=>{o&&!e.isShowing&&e.show()},[e,o])),!e.isShowing)return null;let l=()=>{e.complete(),s(m.b({design_panel_step_shown:!0}))};return(0,n.jsx)(eF.rq,{arrowPosition:tw.F_.RIGHT_BODY,description:(0,N.tx)("tooltips_plus_onboarding.design_panel.description"),disableHighlight:!0,emphasized:!0,isShowing:e.isShowing,onClose:l,onTargetLost:l,targetKey:oI.W,title:(0,N.tx)("tooltips_plus_onboarding.change_properties_in_the_design_panel"),trackingContextName:"Tooltips+ > Reactive Follow Ups > Frame Formatting"})}function oO(){let e=(0,f.e)({overlay:y.IQ,priority:g.N.OVERRIDING_MODAL}),t=(0,eu.f)("no_figma_basics_tooltips_format_text_step"),i=(0,eu.f)("format_text_step_shown"),a=(0,eu.f)("started_figma_basics_onboarding"),s=(0,p.wA)(),o=!i&&t&&!a;if((0,ej.E)(e.uniqueId,"create_text",r.useCallback(()=>{o&&!e.isShowing&&e.show()},[e,o])),!e.isShowing)return null;let l=()=>{e.complete(),s(m.b({format_text_step_shown:!0}))};return(0,n.jsx)(eF.rq,{arrowPosition:tw.F_.RIGHT_BODY,description:(0,N.tx)("tooltips_plus_onboarding.text_formatting.description"),disableHighlight:!0,emphasized:!0,isShowing:e.isShowing,onClose:l,onTargetLost:l,targetKey:oN.B,title:(0,N.tx)("tooltips_plus_onboarding.text_formatting.title"),trackingContextName:"Tooltips+ > Reactive Follow Ups > Text Formatting"})}var oL=i(717951),oR=i(128080),oM=i.n(oR),oD=i(380543),oP=i(270322),oF=i(197286),oB=i(136701),oU=i(759412);function oG(e){let t;let{file:i,org:a,overlay:s}=e,o=(0,oD.B)(i,a.id),l=(0,r.useRef)(void 0),d=s.complete;if((0,r.useEffect)(()=>{o&&l.current&&!oM()(o.filePermissionsData,l.current?.filePermissionsData)&&d(),l.current=o},[o,d]),!o)return null;let c=o.isBranch,u=o.branchMatchesRepo,p=o.linkExpiresAt,m=(0,i4.Ch)(o.filePermissionsData,e.org),h=(0,oU.M3)((0,ed.A)(p)),f=!u&&c?(0,N.tx)("link_expired_overlay.different_branch_permissions_header"):(0,N.tx)("link_expired_overlay.header");return t=u?(0,N.tx)("link_expired_overlay.same_branch_permissions_body",{formattedTimestamp:h,audience:m}):c?(0,N.tx)("link_expired_overlay.different_branch_permissions_body",{formattedTimestamp:h,audience:m}):(0,N.tx)("link_expired_overlay.body",{formattedTimestamp:h,audience:m}),(0,n.jsx)(eF.rq,{isShowing:s.isShowing,trackingContextName:"Link Expired Overlay",title:f,description:t,targetKey:eZ.v4,onClose:s.complete})}let oH=(0,oP.bt)(e=>e.modalShown);function oz(e){let t=(0,r.useRef)(null),i=(0,f.e)({overlay:y.K_h,priority:g.N.SECONDARY_MODAL}),a=(0,rS.sZ)(),s=(0,S.md)(ea.yV),o=S.md(oH)?.type===oB.j;return((0,ej.E)(i.uniqueId,[oF.q2],()=>{a&&s&&!i.isShowing&&!o&&i.show()}),(0,r.useEffect)(()=>(i.isShowing?t.current=setTimeout(()=>{t.current=null,i.complete()},45e3):t.current&&clearTimeout(t.current),()=>{t.current&&clearTimeout(t.current)}),[i]),a&&s)?(0,n.jsx)(oG,{overlay:i,org:a,file:s}):null}var oV=i(95197),oK=i(770005),oW=i(552876),oq=i(21029),oY=i(16707),oX=i(835688);function oJ(){let e=(0,p.wA)(),t=(0,sw.PE)(),i=(0,ek.r1)(oX.Kt),n=(0,S.md)(i),a=(0,ek.r1)(oX.wl),s=(0,S.md)(a),o=(0,oq.sO)(),l=(0,eH.aV)(),{show:d,isShowing:c,complete:u}=(0,f.e)({overlay:y.Fff,priority:sR},[n,s]),h=(0,r.useCallback)(()=>{o&&t&&(l||d({canShow:(e,t)=>e&&!t}))},[t,l,o,d]);return(0,r.useEffect)(()=>h(),[h]),(0,oY.i)({onClickPrimaryCta:u,onClickSecondaryCta:()=>{e(m.b({agreed_to_slides_ai_terms:!1}))},isShowing:c,isOnboarding:!1,totalSteps:1})}var oZ=i(929976),oQ=i(644079),o$=i(446378),o0=i(524655);function o1({openFile:e}){let t=(0,td.Gi)(),i=(0,td.J3)(),r=(0,td.JU)(i);return e&&e.teamId&&t?.type==="team"&&r?(0,n.jsx)(o2,{teamId:e.teamId}):null}function o2({teamId:e}){let t=(0,p.wA)(),i=(0,ek.r1)(oX.Kt),a=(0,S.md)(i),s=(0,ek.r1)(oX.uM),o=(0,S.md)(s),l=(0,oQ.hX)(`[data-onboarding-key="${eY.O0}"]`),d=(0,ea.q5)(),c=(0,S.md)(eS.Fy),u=(0,eH.aV)(),m=(0,S.md)((0,o$.U)({teamId:e,editorType:ne._Y.SLIDES})),{numSkippedSlides:h,numTotalSlides:_}=(0,o0.Nr)(),x=_-h,{show:b,isShowing:C,complete:v}=(0,f.e)({overlay:y.uTW,priority:g.N.SECONDARY_MODAL},[a,o,c,m]),E=(0,r.useCallback)(()=>{!u&&l&&d&&b({canShow:(e,t,i,n)=>x>1&&e&&!t&&0===n&&i})},[u,l,d,b,x]);return(0,r.useEffect)(()=>E(),[E]),(0,r.useEffect)(()=>{C&&t(oZ.j7({type:eY.eg,data:{targetRect:l,activePathOnMount:[(0,N.t)("tile.dropdown.publish_as_template")]}}))},[t,l,C]),(0,n.jsx)(eF.rq,{arrowPadding:4,arrowPosition:tw.F_.LEFT_TITLE,clickOutsideToHide:!0,description:(0,N.tx)("slides.templates.pro_templates_announcement.description"),disableHighlight:!0,isShowing:C,onClose:v,onTargetLost:v,primaryCta:{label:(0,N.tx)("slides.templates.pro_templates_announcement.button.done"),type:"button",onClick:v,ctaTrackingDescriptor:ew.c.DONE},targetKey:oX.w1,title:(0,N.tx)("slides.templates.pro_templates_announcement.header"),trackingContextName:"Slides Pro Templates Announcement",userFlagOnShow:"seen_slides_pro_templates_announcement",zIndex:eR.R.MODAL})}var o3=i(904355),o5=i(757723),o4=i(91620),o6=i(645772);function o7(){let e=(0,S.md)(eS.Fy),{show:t,isShowing:i,complete:s}=(0,f.e)({overlay:y.sJD,priority:g.N.DEFAULT_MODAL},[e]),o=(0,r4.L)(),l=!!(0,a.k)().figjam_ui3_toolbelt_onboarding,d=(0,o4._)(),{isToolbeltDisabled:c}=(0,o6.Dm)();return(0,r.useEffect)(()=>{t({canShow:e=>e&&o&&l&&d&&!c})},[t,o,l,d,c]),(0,n.jsx)(eF.rq,{arrowPadding:8,arrowPosition:tw.F_.BOTTOM,description:(0,N.tx)("whiteboard.toolbelt.onboarding_feature_callout.description"),disableHighlight:!0,isShowing:i,media:(0,n.jsx)(eO.y,{src:(0,eC.ck)("6462781efe9eeb4aa90be0eed2316ae8fedb7980"),alt:(0,N.t)("whiteboard.toolbelt.onboarding_feature_callout.imageAltText"),aspectRatio:16/9}),onClose:s,primaryCta:{type:"button",label:(0,N.tx)("rcs.got_it"),onClick:s,ctaTrackingDescriptor:ew.c.GOT_IT},shouldCenterArrow:tw.EL.BEST_EFFORT,shouldDisableAnimation:!0,targetKey:r5.yl,title:(0,N.tx)("whiteboard.toolbelt.onboarding_feature_callout.title"),trackingContextName:"FigJam UI3 Toolbelt Onboarding",userFlagOnShow:"seen_figjam_ui3_toolbelt_onboarding"})}var o8=i(353099);function o9(e){return{isDesignEditor:e===el.nT.Design,isFigjamEditor:e===el.nT.Whiteboard,isSlidesEditor:e===el.nT.Slides,isDevModeEditor:e===el.nT.DevHandoff,isCooperEditor:e===el.nT.Cooper,isSitesEditor:e===el.nT.Sites,isFigmakeEditor:e===el.nT.Figmake,isIllustrationEditor:e===el.nT.Illustration}}let le=r.memo(function({editorType:e,openFile:t}){let{isDesignEditor:i,isDevModeEditor:a}=o9(e),o=r.useRef(!i);r.useEffect(()=>{o.current=!i},[i]),function(e){let t=(0,S.md)(of.a8),i=(0,p.d4)(e=>e.user?.created_at),n=!!i&&(0,ed.A)("2023-05-01").isBefore(i);r.useEffect(()=>{if(!n){e.current=!0;return}e.current=e.current||(0,og.XC)(t)},[e,t,n]),(0,ob.yE)("x",e),(0,ob.yE)("y",e),(0,ob.yE)("width",e),(0,ob.yE)("height",e),(0,ob.yE)("angle",e),(0,ob.yE)("cornerRadius",e),(0,ob.yE)("strokePaints",e),(0,ob.yE)("fillPaints",e),(0,ob.yE)("effects",e),(0,ob.yE)("fontSize",e),(0,ob.yE)("fontFamily",e),(0,ob.yE)("fontStyle",e),(0,ox.g)("has_zoomed_in_design_file",e),(0,o_.U)("has_panned_in_design_file",e);let a=(0,f.e)({overlay:y._5$,priority:0});oy(a.uniqueId,"action_set_tool_frame","has_selected_frame_tool",e),oy(a.uniqueId,"create_frame","has_created_frame",e),oy(a.uniqueId,"create_text","has_created_text",e),e.current}(o),function(e){let t=(0,p.wA)(),i=(0,S.md)(ec.mp),n=null!=i&&(0,ed.A)("2023-10-31").isBefore(i),a=!!(0,eu.f)("has_opened_design_editor"),[s,o]=(0,S.fp)(ep);(0,r.useEffect)(()=>{n&&!a&&e&&(o(!0),t(m.b({has_opened_design_editor:!0})))},[t,a,e,o,n]),(0,r.useEffect)(()=>{s&&!e&&o(!1)},[s,e,o])}(i);let l=(0,ea.MY)(),d=(0,eo.n)(),c=(0,es.I)();return er.z4.getIsExtension()||"loaded"!==l.status||en.pb.isGoogleClassroomIntegration()||d||a&&c?null:(0,n.jsxs)(r.Suspense,{fallback:null,children:[(0,n.jsx)(lt,{openFile:t,editorType:e}),!s.Ay.isIpadNative&&(0,n.jsx)(li,{openFile:t,editorType:e})]})});function lt({editorType:e}){let{isFigjamEditor:t}=o9(e);return(0,n.jsx)(n.Fragment,{children:t&&(0,n.jsxs)(o8.p,{children:[(0,n.jsx)(tZ,{}),(0,n.jsx)(t3,{})]})})}function li({editorType:e,openFile:t}){let{isFigjamEditor:i,isDesignEditor:r,isSlidesEditor:p,isDevModeEditor:m}=o9(e),h=(0,o5.tG)(),f=(0,l.q8)(),g=(0,c.xo)(),_=(0,oW.Oc)(),x=(0,u.hA)(),y=function(e){switch(e){case el.nT.Design:return oV.C5.Design;case el.nT.Whiteboard:return oV.C5.FigJam;case el.nT.Slides:return oV.C5.Slides;case el.nT.DevHandoff:return oV.C5.DevMode;case el.nT.Cooper:return oV.C5.Cooper;case el.nT.Sites:return oV.C5.Sites;case el.nT.Figmake:return oV.C5.FigMake;case el.nT.Illustration:return oV.C5.Illustration;default:return oV.C5.Unknown}}(e);return g?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o8.p,{children:(0,n.jsx)(iL.NuxOnboardingOverlay,{entryPoint:y})})}):(0,n.jsxs)(n.Fragment,{children:[r&&!(0,o.nl)()&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(tl,{})}),i&&!r&&(0,n.jsx)(oL.Q,{children:(0,n.jsx)(o8.p,{children:(0,n.jsx)(th,{})})}),r&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(iE,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(ik.A,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(iI.F,{})}),!_&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(iN.w,{})}),!s.Xb&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o8.p,{children:(0,n.jsx)(ir.P,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(tS.A,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(tk.Ay,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(sl.A,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(ia.A,{})}),(0,n.jsx)(o8.p,{children:r&&(0,n.jsx)(oK.$,{})})]}),t?.canEditCanvas&&i&&!r&&(0,n.jsxs)(o8.p,{children:[(0,n.jsx)(rX,{openFile:t}),(0,n.jsx)(a2,{}),(0,n.jsx)(rd,{}),(0,n.jsx)(r0,{}),(0,n.jsx)(ry,{}),(0,n.jsx)(rb,{})]}),!r&&!p&&!_&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(iL.NuxOnboardingOverlay,{entryPoint:y})}),i&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o8.p,{children:(0,n.jsx)(rU,{})})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(a3.KX,{})}),i&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(om,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(so.Wk,{})}),i&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(od,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(oz,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(eG,{})}),i&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(o8.p,{children:(0,n.jsx)(tU,{})})}),r&&t?.canEdit&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(s6,{})}),r&&t?.canEdit&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(il,{})}),r&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(ii,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(tv,{})}),!s.Xb&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(iS,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(iA.b,{})}),r&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(sa,{})}),r&&(0,n.jsxs)(o8.p,{children:[(0,n.jsx)(oA,{}),(0,n.jsx)(oO,{})]}),r&&(0,n.jsxs)(o8.p,{featureFlag:"cursor_bot",children:[(0,n.jsx)(oS,{}),(0,n.jsx)(ok,{})]}),i&&!f&&!(0,a.k)().figjam_synthesize_handbrake&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(ei,{})}),i&&!f&&!(0,a.k)().figjam_synthesize_handbrake&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(F.Cw,{})}),h&&(0,n.jsx)(o8.p,{children:i&&!(0,a.k)().figjam_quick_actions_v2&&(0,n.jsx)(tN.vi,{})}),r&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(eD,{})}),i&&(0,n.jsxs)(o8.p,{children:[(0,n.jsx)(sm.rj,{}),(0,n.jsx)(sy,{})]}),i&&(0,a.k)().figjam_ui3_toolbelt_onboarding&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(o7,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(ih,{})}),i&&(0,n.jsxs)(o8.p,{children:[(0,n.jsx)(sv,{}),(0,n.jsx)(nm,{})]}),t&&(0,n.jsx)(o8.p,{featureFlag:"ui3_and_ai_welcome_modal",children:(0,n.jsx)(sU,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(d.QI,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(oJ,{})}),t?.canEditCanvas&&p&&(0,n.jsx)(o8.p,{children:(0,n.jsx)(o1,{openFile:t})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(ey,{})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(iO.C,{source:"editor"})}),(0,n.jsx)(o8.p,{children:(0,n.jsx)(sz,{})}),(0,n.jsx)(o8.p,{featureFlag:"figjam_ai_actions_callout",children:(0,n.jsx)(tI.sR,{})}),t?.canEditCanvas&&m?(0,n.jsxs)(o8.p,{featureFlag:"cheddar",children:[(0,n.jsx)(o3.oI,{}),(0,n.jsx)(o3.Te,{}),(0,n.jsx)(o3.Ug,{})]}):null,m&&!x&&(0,n.jsx)(o8.p,{featureFlag:"dt_interactive_inspection_m2",children:(0,n.jsx)(tj,{})})]})}},67768:(e,t,i)=>{i.d(t,{D1:()=>b,FX:()=>y,n6:()=>x,sR:()=>C});var n=i(486106),r=i(7378),a=i(601108),s=i(27355),o=i(459490),l=i(303541),d=i(976749),c=i(621515),u=i(101956),p=i(268271),m=i(425180),h=i(251115),f=i(858282),g=i(6204),_=i(91620);let x=(0,s.eU)(!1),y=(0,s.eU)(!1),b="figjam_ai_actions_callout";function C(){let e=(0,s.md)((0,s.Rq)(u.Sb)),t=(0,_._)(),i=(0,s.md)(x),C=(0,s.md)(y),v=(0,h.PE)(),E=!(0,o.q8)(),T=(0,d.ow)(),w=v||(0,a.k)().figjam_ai_menu_items_all_access&&T&&E,{show:j,isShowing:S,complete:k}=(0,c.e)({overlay:g.sP8,priority:p.N.SECONDARY_MODAL},[e]);return(0,r.useEffect)(()=>{i&&t&&(0,a.k)().figjam_ai_actions_callout&&w&&j({canShow:e=>!e})},[w,i,t,j]),(0,r.useEffect)(()=>{S&&(!i||C)&&k()},[k,i,S,C]),(0,n.jsx)(m.rq,{arrowPosition:f.F_.BOTTOM,description:(0,l.tx)("figjam_ai.ai_actions_callout.description"),emphasized:!0,isShowing:S,onClose:k,shouldCenterArrow:f.EL.BEST_EFFORT,shouldDisableAnimation:!0,targetKey:b,testId:"figjam-ai-actions-overlay",title:(0,l.tx)("figjam_ai.ai_actions_callout.title"),trackingContextName:"FigJam Ai Actions callout"})}},772021:(e,t,i)=>{i.d(t,{AI:()=>C,bX:()=>b,i1:()=>I,vi:()=>k});var n=i(486106),r=i(7378),a=i(27355),s=i(207101),o=i(169182),l=i(303541),d=i(370443),c=i(621515),u=i(101956),p=i(545877),m=i(268271),h=i(696396),f=i(129046),g=i(425180),_=i(858282),x=i(6204),y=i(318123);let b="ai_generate_onboarding_key",C="ai_new_file_modal_v2_onboarding_key",v="has_seen_figjam_ai_modal_overlay",E="has_seen_figjam_ai_toolbar_tooltip",T=(0,p.r1)(y.W1),w=(0,p.r1)(v),j=(0,p.r1)(E),S=(0,p.r1)("figjam_editor_onboarded");function k(){let e=(0,a.md)(j),t=(0,a.md)(y.qe),i=(0,a.md)(y.rM),s=(0,c.e)({overlay:x.QLv,priority:m.N.HIGH_PRIORITY_MODAL},[e]);return(0,r.useEffect)(()=>{let e=setTimeout(()=>{s.show({canShow:e=>!e&&i&&t})},1e3);return()=>clearTimeout(e)},[t,i,s]),(0,n.jsx)(g.rq,{isShowing:s.isShowing,userFlagOnShow:E,targetKey:b,onClose:s.complete,trackingContextName:h.e0.AI_TOPBAR_TOOLTIP,title:(0,l.tx)("whiteboard.ai_onboarding.ai_templates_toolbar.title"),description:(0,l.tx)("whiteboard.ai_onboarding.ai_templates_toolbar.description"),emphasized:!0})}function I({targetKey:e}){let t=(0,a.md)((0,a.Rq)(u.Sb)),i=(0,a.md)(T),r=(0,a.md)(w),p=(0,a.md)(S),b=(0,a.Xr)(y.RC),C=(0,c.e)({overlay:x.xiH,priority:m.N.HIGH_PRIORITY_MODAL},[i,r,t,p]);(0,s.h)(()=>{C.show({canShow:(e,t,i,n)=>!e&&!t&&!i&&n})});let E=()=>{C.complete(),b(!0)};return(0,s.h)(()=>()=>{E()}),(0,n.jsx)(g.rq,{arrowPosition:_.F_.LEFT_TITLE,description:(0,l.tx)("whiteboard.ai_onboarding.new_file_modal.footer"),isShowing:C.isShowing,media:(0,n.jsx)(f.y,{src:(0,o.ck)("b306123ab827a626d46db70bcc5a74e9e76feacf"),alt:"",aspectRatio:301/154}),onClose:E,onTargetLost:E,primaryCta:{label:(0,l.tx)("rcs.got_it"),type:"button",onClick:E,ctaTrackingDescriptor:d.c.GOT_IT},targetKey:e,title:(0,l.tx)("whiteboard.ai_onboarding.new_file_modal.title"),trackingContextName:h.e0.AI_MODAL_ONBOARDING_TOOLTIP,userFlagOnShow:v})}},529989:(e,t,i)=>{i.d(t,{NuxOnboardingOverlay:()=>y});var n=i(486106),r=i(7378),a=i(514228),s=i(27355),o=i(207101),l=i(985254),d=i(768691),c=i(621515),u=i(33126),p=i(579169),m=i(940356),h=i(268271),f=i(931419),g=i(14910),_=i(98947),x=i(6204);function y(e){let t=(0,s.md)(u.eS),i=(0,a.wA)(),y=!!(0,m.f)("not_gen_0"),b=(0,s.md)(p.NT),C=(0,s.md)(p.g5),v=(0,s.md)(_.pC),{show:E,complete:T,isShowing:w}=(0,c.e)({overlay:x.j0N,priority:h.N.HIGH_PRIORITY_MODAL},[b,C,t]),j=r.useCallback(()=>{E({canShow:(e,t,i)=>!v&&function({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:i}){return i?!(e&&["student","educator"].includes(e)):!(0,g.d)({jobTitle:e,emailValidatedAt:t})}({jobTitle:e,emailValidatedAt:t,isK12SSOOrg:i})})},[E,v]);if((0,o.h)(()=>{j()}),(0,d.Q)(w),!w)return null;let{trackingContextName:S,testId:k}=t.data?{trackingContextName:"K12 Org Job Title Modal",testId:"NuxOnboardingOverlay-K12"}:y?{trackingContextName:"Gen1 Welcome Modal",testId:"NuxOnboardingOverlay-Gen1"}:{trackingContextName:"Gen 0 NUX",testId:"NuxOnboardingOverlay-Gen0"};return(0,n.jsx)(f.b,{isGen1:y,trackingContextName:S,entryPoint:e.entryPoint,isShowing:w,dataTestId:k,onOverlayClose:()=>{i(l.b({welcome_onboarded:!0})),T()}})}},591377:(e,t,i)=>{i.d(t,{J:()=>l});var n=i(486106),r=i(536384),a=i.n(r),s=i(617427),o=i(190597);function l({onClick:e,autoFocus:t,children:i,trackingEventName:r,trackingProperties:l,large:d}){return(0,n.jsx)(s.e6,{className:a()({[o.HM]:!0,"connector_modal_cta_button--button--mhvSu text--fontPos12Whyte---tkNx text--_fontBaseWhyte--efAjI":!0,"connector_modal_cta_button--buttonLarge--4RXeh text--fontPos14Whyte--pEiDq text--_fontBaseWhyte--efAjI":d}),onClick:e,htmlAttributes:{autoFocus:t},trackingEventName:r,trackingProperties:l,children:i})}},241650:(e,t,i)=>{i.d(t,{O:()=>a});var n=i(7378),r=i(901889);function a(){let e=(0,r.U)();return(0,n.useCallback)(t=>{e("figjam_onboarding_event",t,{batchRequest:!1})},[e])}},983167:(e,t,i)=>{i.d(t,{CM:()=>f,mI:()=>g,mN:()=>_,rL:()=>b,vX:()=>x,wV:()=>y});var n=i(486106),r=i(7378),a=i(169182),s=i(714743),o=i(502364),l=i(303541),d=i(861252),c=i(591377),u=i(241650),p=i(598952),m=i(320848),h=i(564866);let f="FigJam Editor Onboarding";function g(e){return(0,n.jsxs)("div",{className:m.hQ,children:[e.svg&&(0,n.jsx)("div",{className:m.ZS,children:(0,n.jsx)(s.B,{svg:e.svg,useOriginalSrcFills_DEPRECATED:!0})}),(0,n.jsxs)("div",{className:m.IP,children:[e.titleText?e.titleText:"",e.bodyText]}),e.buttonText&&e.onButtonClick&&(0,n.jsx)("div",{className:m.UD,children:(0,n.jsx)(c.J,{onClick:e.onButtonClick,autoFocus:!0,children:e.buttonText})})]})}let _=(0,a.ck)("8f3066fc3906f11f2601a390725f2b7af58e01a1");function x(e){let t=(0,u.O)(),i=(0,d.D)();return(0,n.jsxs)(n.Fragment,{children:[e.children,(0,n.jsx)("div",{className:m.Lx,style:{marginBottom:i+32},children:(0,n.jsxs)(c.J,{onClick:()=>{e.onSkipClick(),(0,o.YQ)({id:p.P7}),t({eventName:"msv2_skipped",useCase:e.useCase})},trackingProperties:{text:"Skip intro"},children:[(0,l.tx)("figjam_onboarding_make_something.all.skip_intro"),(0,n.jsx)(s.B,{svg:h.A})]})})]})}function y(e){return(0,n.jsx)("div",{className:m.xn,children:(0,n.jsx)(g,{bodyText:e.bodyText,buttonText:e.buttonText,onButtonClick:e.onButtonClick,svg:e.svg})})}function b(e){let{useCase:t,stepName:i,stepNum:n}=e,a=(0,u.O)();(0,r.useEffect)(()=>{a({eventName:"msv2_step_shown",useCase:t,stepName:i,stepNum:n})},[i,n,a,t])}},983733:(e,t,i)=>{i.d(t,{m5:()=>L,pN:()=>A,rj:()=>R});var n=i(486106),r=i(7378),a=i(514228),s=i(763686),o=i(27355),l=i(169182),d=i(303541),c=i(370443),u=i(621515),p=i(101956),m=i(579169),h=i(545877),f=i(924253),g=i(186343),_=i(167249),x=i(268271),y=i(129046),b=i(425180),C=i(595131),v=i(858282),E=i(6204),T=i(318123),w=i(850166),j=i(106955),S=i(91620),k=i(184837),I=i(449975),N=i(25542);let A="section_presets_announcement_key",O="seen_figjam_section_presets_announcement",L=(0,h.Fu)(O);function R(){let e=(0,o.md)(k.P)===I.iH.TRUE,t=(0,a.d4)(e=>e.mirror.appModel.currentPage),i=(0,_.Fk)((t,i)=>(0,g.zC)(t,i)||e&&(0,g.re)(t,i),t),h=(0,f.q)(),R=(0,o.md)((0,o.Rq)(p.Sb)),M=(0,o.md)(L),D=(0,o.md)(j.w),P=(0,S._)(),F=(0,C.Td)(),B=function(){let[e,t]=(0,r.useState)(!1),i=(0,a.d4)(e=>e.isMakeSomethingV2Active),n=(0,o.md)(T.rM);return(0,r.useEffect)(()=>{(i||n)&&t(!0)},[n,i]),e}(),U=(0,o.md)(T.dO),G=(0,o.md)(m.mp),H=U.status!==w.c.NONE,[z,V]=(0,r.useState)(!1),{show:K,isShowing:W,complete:q}=(0,u.e)({overlay:E.pjo,priority:x.N.SECONDARY_MODAL},[M,R,G]),Y=1e3*parseFloat(N.H)+1e3;return(0,r.useEffect)(()=>{let e=setTimeout(()=>{V(!0)},Y);return()=>{clearTimeout(e)}},[Y]),(0,r.useEffect)(()=>{D&&!B&&!H&&i&&h&&P&&z&&!F&&K({canShow:(e,t,i)=>{let n=function(e){let t=Date.now();return e.getTime()<=t-12096e5}(i);return!e&&!t&&n}})},[K,i,h,D,P,z,H,B,F]),(0,n.jsx)(b.rq,{arrowPosition:v.F_.BOTTOM,description:(0,d.tx)("whiteboard.section_presets_onboarding.feature_announcement.description"),isShowing:W,media:(0,n.jsx)(y.w,{src:(0,l.ck)("0ccb9b0b677f719939bd9bacd937201dfea4e8c9"),aspectRatio:4/3}),onClose:q,primaryCta:{label:(0,d.tx)("rcs.got_it"),type:"button",onClick:q,ctaTrackingDescriptor:c.c.GOT_IT},secondaryCta:{label:(0,d.tx)("whiteboard.section_presets_onboarding.feature_announcement.secondary"),type:"button",onClick:()=>{e&&s.gw5.setFigjamStarterKitEnabled(!1),s.T4N.createSectionForOnboarding(),q()},ctaTrackingDescriptor:c.c.SECTION_PRESET_PICKER_SHOW_ME},targetKey:A,title:(0,d.tx)("whiteboard.section_presets_onboarding.feature_announcement.title"),trackingContextName:"section_preset_picker_dlt_announcement",userFlagOnShow:O})}},208213:(e,t,i)=>{i.d(t,{P:()=>l,X:()=>o});var n=i(486106),r=i(7378),a=i(516028),s=i(557024);let o=(0,r.createContext)(null);function l({children:e}){let t=(0,a.q5)(),i=t?.fileRepoId,l=(0,s.Yj)(i??null),d=(0,r.useMemo)(()=>l&&"loaded"===l.status?l.data.activeBranches.length:null,[l]);return(0,n.jsx)(o.Provider,{value:d,children:e})}},499229:(e,t,i)=>{i.d(t,{A5:()=>B,CT:()=>U,EA:()=>P,H1:()=>J,II:()=>W,L4:()=>G,SK:()=>K,SQ:()=>H,VK:()=>Z,WB:()=>V,aH:()=>X,bL:()=>Y,ih:()=>F});var n=i(486106),r=i(7378),a=i(514228),s=i(763686),o=i(871411),l=i(700578),d=i(27355),c=i(90566),u=i(542194),p=i(516794),m=i(901889),h=i(63728),f=i(407352),g=i(930338),_=i(125333),x=i(303541),y=i(712525),b=i(976749),C=i(860474),v=i(896988),E=i(807667),T=i(104740),w=i(741237),j=i(701001),S=i(722362),k=i(623300),I=i(191312),N=i(451700),A=i(421886),O=i(34798),L=i(561485),R=i(115923),M=i(748457),D=i(463678);let P=r.createContext(!1);function F({onChange:e,query:t,focusedByButtons:i,innerRef:r,onKeyDown:a,onKeyUp:s,onPasteCapture:o,onFocus:l,editorType:d}){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(M.H,{ariaDescription:(0,x.t)("canvas_search.results_will_update_as_you_type"),dataTestId:"canvas-search-input",innerRef:r,onChange:e,onFocus:e=>{l&&l(e),!i.current&&e.target&&e.target.select(),i.current=!1},onKeyDown:e=>{e.keyCode===h.Uz.F?(0,h.Te)(e)?(e.currentTarget.select(),e.preventDefault()):(0,v.jr)(e,v.W0.NO,v.VA.NO)&&e.stopPropagation():a(e)},onKeyUp:s,onPasteCapture:o,placeholder:(0,x.t)("canvas_search.search_placeholder"),recordingKey:`${d}.canvas_search.search`,value:t})})}function B(e,t,i){let n=(0,r.useCallback)(({direction:n,shouldSelectInput:r})=>{if(e&&!e.current?.matches(":focus")){let t=new IntersectionObserver(n=>{let[a]=n;r?e.current?.select():(i.current=!0,e.current?.focus()),a.isIntersecting&&t.disconnect()});return e.current&&t.observe(e.current),()=>t.disconnect()}n&&t(n,"keyboard")},[i,e,t]);(0,p.p)(C.r.FocusEvent,n)}function U(){let e=(0,r.useRef)(!1),[t,i]=(0,r.useState)(!0),{query:n}=(0,a.d4)(e=>e.canvasSearch),{total:s}=(0,d.md)(_.Fk);return{focusedByButtons:e,hidden:t,setHidden:i,inputRef:r.useRef(null),navDisabled:!n||s<=1,showUi:(0,S.p8)("showUi")}}function G(){let e=(0,T.Z)("canvas_search_navigate"),t=(0,a.d4)(e=>e.canvasSearch.scope);return(0,r.useCallback)((i,n)=>{e(s.YEY.setActiveResultAndGetViewportSettings(i,n),{additionalTrackEventParams:{searchScope:s.Lov[t]}})},[e,t])}function H(){let e=(0,T.Z)("canvas_search_navigate"),{query:t,scope:i,filters:n,mode:l}=(0,a.d4)(e=>e.canvasSearch),p=(0,a.wA)(),h=(0,r.useRef)(!1),_=(0,S.p8)("currentPage"),x=(0,j.L3)(),b=(0,S.p8)("pagesList"),[C,v]=(0,r.useState)(!1),[I,N]=(0,r.useState)(s.Ez5.uiState().isRecovery.getCopy()),[A,O]=(0,r.useState)(!1),M=z(),D=(0,m.am)(),P=(0,f.yZ)(),F=(0,r.useMemo)(()=>P&&(0,k.lH)(b),[P,b])||P&&s.h3O?.isValidatingIncremental(),B=(0,r.useMemo)(()=>!P&&(0,k.lH)(b),[P,b]);(0,r.useLayoutEffect)(()=>{i!==s.Lov.ALL_PAGES||A||!F&&I?s.YEY.setSearchScope(i):(O(!0),scheduler.postTask(async()=>{F&&await (0,E.q)(s._em.FIND_AND_REPLACE),s.YEY.setSearchScope(i),N(!0)},{priority:"user-blocking"}))},[I,b,i,A,F]);let U=(0,r.useCallback)(async(t,n=!0)=>{u.sn.start("canvas_search_time_to_results"),O(!0);let{nav:r,resultsByPage:a}=await M(t,n);Object.keys(a).filter(e=>e!==_&&e!==o.Xy).length?v(!0):v(!1),O(!1),n&&e(r,{additionalTrackEventParams:{searchScope:s.Lov[i]}});let l=u.sn.tryStop("canvas_search_time_to_results");l&&D("canvas_search_time_to_results",{timeElapsedMs:l,searchScope:s.Lov[i],resultCount:Object.values(a).reduce((e,t)=>e+=t.length,0)})},[_,e,i,M,D]),G=(0,c.A)(U,300),H=(0,r.useCallback)((e,t=!0)=>{p(y.NY(e)),O(!!e&&!(0,g.jN)(e)),G(e,t)},[p,G]);(0,r.useEffect)(()=>{x&&t&&(i!==s.Lov.ALL_PAGES||!F&&I)&&U(t,!1)},[n,l,i,x,b,I,F]);let V=(0,r.useCallback)((t,i)=>{(0,w.Uc)(""),s.YEY.setHoveredResult(o.AD,-1);let n=!h.current;h.current=!1,e(s.YEY.setNextSearchResultAndGetViewportSettings(t,n),{additionalTrackEventParams:{source:i}})},[e]),K=(0,d.Xr)(R.Nl),W=(0,L.cJ)();return{query:t,showSearch:x,resultsOnOtherPages:C,search:H,next:V,exit:(0,r.useCallback)(()=>{W?K(void 0):s.YEY?.exitSearchMode(s.dNx.NONE)},[W,K]),setNavigateNearestOnce:function(){h.current=!0},mode:l,isLoading:A,allInstancesExpanded:I,missingResultsOnSomePages:B}}function z(){let{scope:e,filters:t,mode:i}=(0,a.d4)(e=>e.canvasSearch),n=(0,S.p8)("currentPage"),l=(0,m.am)(),d=(0,b.lg)(),c=(0,a.d4)(e=>e.mirror.appModel.pagesList),u=(0,O.iW)();return(0,r.useCallback)(async(r,a=!0,p)=>{let m=p??n;if(!r||(0,g.jN)(r)){let{nav:e}=s.YEY.setSearchResultsAndGetViewportSettings([],m,"",{categories:[],mode:i});return{nav:e,resultsByPage:{}}}let h=!!t[A.kM.MatchCase],f=!!t[A.kM.WholeWords],{resultsByPage:_,metrics:x}=await N.H1.search(r,{searchLayerNames:[I._Y.DESIGN,I._Y.SLIDES,I._Y.SITES].includes(d),searchAnnotationTextContent:u,matchCase:h,wholeWords:f}),y=(0,D.kH)(t),b=e===s.Lov.ACTIVE_PAGE?_[m]?[{pageId:m,results:_[m]}]:[]:Object.keys(_).map(e=>({pageId:e,results:_[e]}));if(e===s.Lov.ACTIVE_PAGE&&_[o.Xy]){let e=_[o.Xy];e.length&&b.push({pageId:o.Xy,results:e})}if(1===r.length){let e=0,t=[],i=b.findIndex(e=>e.pageId===o.Xy);for(let n of(i>-1&&t.push(b[i]),c)){let i=b.findIndex(e=>e.pageId===n.nodeId);if(-1===i)continue;let r=b[i];if(r.results.length>1e3-e){t.push({results:r.results.slice(0,1e3-e),pageId:r.pageId});break}e+=r.results.length,t.push(r)}b=t}let{nav:C,...v}=s.YEY.setSearchResultsAndGetViewportSettings(b,m,r,{categories:y,mode:i}),E=y.map(e=>A.kM[e]);return l("canvas_search_results",{...x,...v,nodeTypes:E,searchScope:s.Lov[e],matchCase:h,wholeWords:f}),{nav:C,resultsByPage:_}},[n,d,t,i,c,e,u,l])}function V(){let e=(0,j.L3)(),t=s.YEY.hasDirtyPrimaryInstances(),i=(0,d.md)(_.Fk),n=(0,r.useRef)([]),a=t&&n.current.length,o=(0,r.useMemo)(()=>{if(!e||!i.total||a)return[];let t=s.YEY.getSearchResults(),r=[];return t.forEach(e=>{let t=e.results.map(e=>{let t=(0,l.UN)().get(e.guid);return t?{...e,textContent:t.textContent,name:t.name}:e});r.push({results:t,pageId:e.pageId})}),n.current=r,r},[i,e,a]);return a?n.current:o}function K(e){return!e.clientX&&!e.clientY||1===e.buttons}function W(){let{query:e,scope:t}=(0,a.d4)(e=>e.canvasSearch),i=z();return(0,r.useCallback)(n=>{let r=s.YEY.getActiveResult(),a=r.type===s.Z6A.CANVAS,o=n||a&&r.guid;return!!o&&((0,l.UN)().setCurrentPageAsync(o).then(()=>{t===s.Lov.ACTIVE_PAGE?i(e,!1,o):s.YEY.setActiveResultAndGetViewportSettings(o,0)}),!0)},[e,t,i])}let q=(0,d.eU)(null);function Y(){return(0,d.fp)(q)}function X(){let e=(0,d.Xr)(q);return(0,r.useCallback)(t=>{K(t)||e(null)},[e])}function J(){let e=(0,d.Xr)(q);return(0,r.useCallback)(t=>{K(t)&&e(t.currentTarget)},[e])}function Z(){let[e,t]=Y();return(0,r.useCallback)(i=>{i&&e&&i?.id===e?.id&&(t(null),i?.focus())},[e,t])}},218531:(e,t,i)=>{i.d(t,{_:()=>c});var n=i(486106),r=i(7378),a=i(443068),s=i(994594),o=i(303541),l=i(129884),d=i(499229);function c({onClick:e}){let t=(0,d.H1)(),i=(0,d.VK)(),c=r.useCallback(i=>{t(i),e(i)},[e,t]);return(0,n.jsx)(a.K,{ref:i,onClick:c,recordingKey:"canvas_search.search_icon_button","aria-label":(0,o.t)("fullscreen_actions.find"),htmlAttributes:{id:"canvas-search-icon-button","data-onboarding-key":"canvas-search","data-tooltip":"canvas-search","data-tooltip-type":l.Ib.LOOKUP},children:(0,n.jsx)(s.h,{})})}},748457:(e,t,i)=>{i.d(t,{H:()=>p});var n=i(486106),r=i(7378),a=i(934246),s=i(536384),o=i.n(s),l=i(63728),d=i(778880),c=i(318279),u=i(733790);function p({ariaDescription:e,innerRef:t,value:i,placeholder:s,onChange:p,onFocus:m,onKeyDown:h,onKeyUp:f,shiftEnterInsertsNewline:g,dataTestId:_,recordingKey:x,onPasteCapture:y}){let b=(0,r.useCallback)(e=>{t&&(t.current=e?.textarea??null)},[t]),C=i.includes("\n");return(0,n.jsx)(c.v,{ref:b,ariaDescription:e,className:o()(u.Rt,{[u.tI]:!C}),dataTestId:_,disableBorderStyles:!0,focusOnMount:!0,onChange:e=>p(e.currentTarget.value),onEscape:a.lQ,onFocus:m,onKeyDown:e=>{switch(e.keyCode){case l.Uz.ENTER:if(e.preventDefault(),g&&(e.shiftKey||d.Ay.mac&&e.ctrlKey)){let{selectionStart:t,selectionEnd:i}=e.currentTarget;e.currentTarget.setRangeText("\n",t,i,"end"),e.currentTarget.scrollLeft=0,e.stopPropagation(),p(e.currentTarget.value);return}break;case l.Uz.UP_ARROW:case l.Uz.DOWN_ARROW:if(C)return}h(e)},onKeyUp:f,onPasteCapture:y,placeholder:s,recordingKey:x,spellCheck:!1,value:i})}},20763:(e,t,i)=>{i.d(t,{a:()=>k});var n=i(486106),r=i(7378),a=i(514228),s=i(521428),o=i(89370),l=i(763686),d=i(189185),c=i(27355),u=i(536384),p=i.n(u),m=i(542194),h=i(901889),f=i(63728),g=i(806412),_=i(125333),x=i(556971),y=i(303541),b=i(302958),C=i(976749),v=i(896988),E=i(104740),T=i(412189),w=i(129884),j=i(748457),S=i(733790);function k({query:e,value:t,onChange:i,onFocus:u,recordingKey:k,hasMultipleSelections:I}){let N=(0,a.wA)(),A=(0,T.aq)(),O=(0,E.Z)("canvas_search_navigate"),L=(0,a.d4)(e=>e.canvasSearch.scope),{total:R}=(0,c.md)(_.Fk),M="whiteboard"===(0,C.lg)(),[D,P]=(0,r.useState)(!1),F=(0,x.b)(),B=e.toLocaleLowerCase()!==t.toLocaleLowerCase(),U=(0,h.am)(),G=!e||!R,H=d.nc.user("canvas-search-replace",i=>{if(I){let{numReplaced:n,timeMs:r}=l.YEY.replaceInMultipleResults(t,{preserveCase:B},l.rpt.ONLY_ACTIVE);U("canvas_search_multi_replace",{source:i,timeMs:r,numReplaced:n,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),P(!0);return}let n=l.YEY.replaceInActiveResult(t,{preserveCase:B});P(!0),U("canvas_search_replace",{source:i,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),O(n,{delay:300,additionalTrackEventParams:{searchScope:l.Lov[L]}})}),z=d.nc.user("canvas-search-replace-all",()=>{m.sn.start("canvas_search_replace_all");let{numReplaced:i,timeMs:n}=l.YEY.replaceInMultipleResults(t,{preserveCase:B},l.rpt.ALL);i>0&&(P(!0),N(b.F.enqueue({type:"canvas-search-replace-all",message:(0,y.t)(M?"canvas_search.replace_all_message_figjam":L===l.Lov.ACTIVE_PAGE?"canvas_search.replace_all_message":"canvas_search.replace_all_message_all_pages",{count:i})}))),U("canvas_search_replace_all",{source:"button",timeMs:n,numReplaced:i,replacementIncludesOriginal:t.toLocaleLowerCase().includes(e.toLocaleLowerCase())}),m.sn.tryStop("canvas_search_replace_all")}),V=(0,n.jsxs)(n.Fragment,{children:[!M&&(0,n.jsx)("div",{className:p()(S.v9,{[S.ei]:""===t}),children:(0,n.jsx)(o.o,{})}),(0,n.jsx)(j.H,{value:t,placeholder:(0,y.t)("canvas_search.replace_placeholder"),recordingKey:g.Pt(k,"replace_input"),onChange:i,onFocus:e=>{u?.(e,!A())},onKeyDown:e=>{e.keyCode===f.Uz.ENTER?(H("enter"),e.stopPropagation()):D&&(0,f.Fo)(e)&&(0,v.jr)(e,v.W0.YES)&&e.stopPropagation()},shiftEnterInsertsNewline:!0})]});return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:p()(S.N6,F&&S.Sq),children:M?V:(0,n.jsx)("div",{className:S.Z9,children:V})}),(0,n.jsxs)("div",{className:S._E,children:[(0,n.jsx)(s.$n,{variant:"secondary",disabled:G,htmlAttributes:{"data-tooltip":(0,y.t)("canvas_search.replace_one"),"data-tooltip-type":w.Ib.TEXT},onClick:()=>H("button"),recordingKey:g.Pt(k,"replace_one"),children:(0,y.tx)("canvas_search.replace_one")}),(0,n.jsx)(s.$n,{disabled:G,variant:"secondary",onClick:z,recordingKey:g.Pt(k,"replace_all"),children:(0,y.tx)("canvas_search.replace_all")})]})]})}},542126:(e,t,i)=>{i.d(t,{I_:()=>L,Od:()=>R});var n=i(486106),r=i(7378),a=i(944059),s=i(514228),o=i(821217),l=i(976845),d=i(860955),c=i(963340),u=i(891805),p=i(763686),m=i(601108),h=i(27355),f=i(778880),g=i(806412),_=i(125333),x=i(236327),y=i(714743),b=i(303541),C=i(828186),v=i(712525),E=i(976749),T=i(848862),w=i(722362),j=i(421886),S=i(129884),k=i(504727),I=i(561485),N=i(463678),A=i(763216),O=i(7980),L=(e=>(e.LEFT="left",e.RIGHT="right",e.CENTER="center",e))(L||{});function R({lean:e,minWidth:t,shouldShowSearchCategories:i,recordingKey:r}){if(!(0,m.k)().eu_fpl_migration_search_settings_menu)return(0,n.jsx)(M,{lean:e,minWidth:t,recordingKey:r});{let a=(e=>{switch(e){case"left":return"bottom-end";case"right":default:return"bottom-start";case"center":return"bottom"}})(e);return(0,n.jsx)(F,{minWidth:t,placement:a,shouldShowSearchCategories:i,recordingKey:r})}}function M({lean:e,minWidth:t,recordingKey:i}){let d=(0,s.wA)(),c=(0,T.BK)("CANVAS_SEARCH_FILTER_DROPDOWN"),m=r.useRef(null),y=(0,w.p8)("isReadOnly"),N=(0,h.md)(_.yo),A=(0,s.d4)(e=>e.canvasSearch.filters),L=(0,s.d4)(e=>e.canvasSearch.mode),R="whiteboard"===(0,E.lg)(),M=(0,I.cJ)(),F=(0,C.to)(),B=r.useMemo(()=>{let e=y?[]:[(0,n.jsx)(x.y0,{primaryText:(0,b.t)("canvas_search.search"),checked:L===p.EW4.FIND,onClick:()=>{d(v.sV(p.EW4.FIND)),c.hide()},recordingKey:g.Pt(i,"settings.find")},"find"),(0,n.jsx)(x.y0,{primaryText:(0,b.t)("canvas_search.replace"),checked:L===p.EW4.REPLACE,onClick:()=>{d(v.sV(p.EW4.REPLACE)),c.hide()},recordingKey:g.Pt(i,"settings","replace")},"replace"),(0,n.jsx)(x.wv,{},"sep1")],t=(t,r=!1)=>{let a=!!A[t];e.push((0,n.jsx)(D,{option:t,checked:a,counts:N,onClick:e=>{r||e.ctrlKey||f.Ay.mac&&e.metaKey?(d(v.DI(t)),r&&c.hide()):(d(v.zx(t)),c.hide())},recordingKey:i},t))};if(L===p.EW4.FIND&&!R&&!F){let r=!j.b4.some(e=>!!A[e]),a=Object.values(N).reduce((e,t)=>e+t,0);e.push((0,n.jsx)(P,{checked:r,icon:O.A,label:(0,b.t)("canvas_search.filter.all"),count:a,onClick:()=>{d(v.dY()),c.hide()},recordingKey:g.Pt(i,"settings","All")})),j.b4.forEach(e=>t(e)),e.push((0,n.jsx)(x.wv,{},"sep2"))}return j._V.forEach(e=>t(e,!0)),e},[d,c,A,R,F,y,L,N,i]);(0,r.useEffect)(()=>{y&&L===p.EW4.REPLACE&&d(v.sV(p.EW4.FIND))},[d,y,L]);let U=m.current&&(0,n.jsx)(k.Jz,{autofocusPrevElementOnEsc:!0,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnTab:!1,hideDropdown:c.hide,lean:e,minWidth:t,options:B,propagateCloseClick:!0,recordingKey:g.Pt(i,"settings"),showPoint:!0,targetRect:m.current.getBoundingClientRect()});return(0,n.jsxs)(o.o,{eventListeners:["onClick","onMouseUp"],children:[(0,n.jsx)("div",{ref:m,children:(0,n.jsx)(l.d,{"aria-expanded":c.showing,onClick:()=>c.toggle(),actionOnPointerDown:!0,"aria-label":(0,b.t)("canvas_search.settings"),recordingKey:g.Pt(i,"settings"),htmlAttributes:{"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,b.t)("canvas_search.settings")},children:(0,n.jsx)(u.A,{})})}),c.showing&&(M||F?a.createPortal(U,document.body):U)]})}function D(e){let t=e.counts[e.option],i=(0,N.sW)(e.option),r=(0,N.p9)(e.option);return(0,n.jsx)(P,{checked:e.checked,icon:i,label:r,count:t,onClick:e.onClick,buttonRef:e.buttonRef,recordingKey:g.Pt(e,"settings",j.kM[e.option])})}function P({checked:e,icon:t,label:i,count:r,onClick:a,buttonRef:s,recordingKey:o}){return(0,n.jsx)(x.MM,{checked:e,onClick:a,recordingKey:o,buttonRef:s,children:(0,n.jsxs)("div",{className:A.wV,children:[t&&(0,n.jsx)(y.B,{className:A.H9,svg:t}),(0,n.jsx)("span",{className:A.ed,children:i}),!!r&&(0,n.jsx)("span",{className:A.t1,children:r})]})})}function F({minWidth:e,placement:t,shouldShowSearchCategories:i,recordingKey:a}){let m=(0,s.wA)(),f=(0,w.p8)("isReadOnly"),x=(0,h.md)(_.yo),y=(0,s.d4)(e=>e.canvasSearch.filters),C=(0,s.d4)(e=>e.canvasSearch.mode),{manager:E,getTriggerProps:T}=d.b({initialPosition:t}),k=e=>{m(v.sV(e)),E.setOpen(!1)},I=(e,t)=>{e?.ctrlKey||e?.metaKey?m(v.DI(t)):m(v.zx(t))},A=e=>{m(v.DI(e))},L=C===p.EW4.FIND&&i;return(0,r.useEffect)(()=>{f&&C===p.EW4.REPLACE&&m(v.sV(p.EW4.FIND))},[m,f,C]),(0,n.jsx)(o.o,{eventListeners:["onClick","onMouseUp"],children:(0,n.jsxs)(d.bL,{manager:E,children:[(0,n.jsx)(l.d,{"aria-label":(0,b.t)("canvas_search.settings"),recordingKey:g.Pt(a,"settings"),htmlAttributes:{"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,b.t)("canvas_search.settings")},...T(),children:(0,n.jsx)(u.A,{})}),(0,n.jsxs)(d.mc,{children:[!f&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.z6,{value:C.toString(),onChange:e=>k(parseInt(e)),title:null,recordingKey:g.Pt(a,"mode_change"),children:[(0,n.jsx)(c.CU,{value:p.EW4.FIND.toString(),children:(0,n.jsx)("span",{style:{display:"flex",alignItems:"center",width:"100%",...e?{minWidth:`${e}px`}:{}},children:(0,b.t)("canvas_search.search")})},"find"),(0,n.jsx)(c.CU,{value:p.EW4.REPLACE.toString(),children:(0,n.jsx)("span",{style:{display:"flex",alignItems:"center",width:"100%",...e?{minWidth:`${e}px`}:{}},children:(0,b.t)("canvas_search.replace")})},"replace")]})}),L&&(0,n.jsxs)(d.YJ,{children:[(0,n.jsx)(B,{recordingKey:g.Pt(a,"settings","All"),checked:!j.b4.some(e=>!!y[e]),onChange:()=>{m(v.dY())},icon:O.A,label:(0,b.t)("canvas_search.filter.all"),count:Object.values(x).reduce((e,t)=>e+t,0),minWidth:e}),j.b4.map(t=>(0,n.jsx)(B,{recordingKey:g.Pt(a,"settings",j.kM[t]),checked:!!y[t],onChange:e=>I(e,t),icon:(0,N.sW)(t),label:(0,N.p9)(t),count:x[t],minWidth:e},t))]}),(0,n.jsx)(d.YJ,{children:j._V.map(e=>(0,n.jsx)(B,{recordingKey:g.Pt(a,"settings",j.kM[e]),checked:!!y[e],onChange:()=>A(e),icon:(0,N.sW)(e),label:(0,N.p9)(e)},e))})]})]})})}function B({checked:e,onChange:t,icon:i,label:r,count:a,recordingKey:s,minWidth:o}){return(0,n.jsx)(c.H_,{recordingKey:s,checked:e,onChange:(e,i)=>{t(i?.event)},children:(0,n.jsxs)("span",{style:{display:"flex",alignItems:"center",width:"100%",...o?{minWidth:`${o}px`}:{}},children:[i&&(0,n.jsx)(d.Q$,{children:(0,n.jsx)(y.B,{className:A.H9,svg:i})}),r,!!a&&(0,n.jsx)(d.Ov,{children:(0,n.jsx)(d.ME,{"data-testid":g.Pt(s,"count"),children:a})})]})})}},626378:(e,t,i)=>{i.d(t,{Yz:()=>E,Z7:()=>C});var n=i(486106),r=i(7378),a=i(763686),s=i(871411),o=i(700578),l=i(27355),d=i(783094),c=i(486658),u=i(303541);i(234821);var p=i(74165),m=i(698287),h=i(740163),f=i(84367),g=i(518538),_=i(123443),x=i(524655),y=i(294349),b=i(27776);let C=(0,l.eU)(new Map),v=(0,d.jz)(b.LdP);function E({children:e}){let t=(0,f.ut)(a.Ez5?.singleSlideView().isInFocusedNodeView,!1),i=(0,f.ut)(a.Ez5?.canvasGrid().canvasGridArray,[]),l=(0,x.rY)(i),d=r.useMemo(()=>l.reduce((e,t,i)=>(e.set(t,i),e),new Map),[l]),b=(0,m.a)(),{isPropertiesPanelCollapsed:C}=(0,p.iT)(),E=(0,h.qw)();E=C?0:E;let T=r.useCallback(e=>{let t=e.comments[0]?.client_meta?.node_id;if(!t)return s.AD;let i=(0,o.UN)().get(t);return i?i.containingSlideId:s.AD},[]),w=(0,y.R)(),j=r.useMemo(()=>{let e=[_.mW.RESOLVED,_.mW.YOURS];return t&&e.push(_.mW.CURRENT_SLIDE),e},[t]),S=r.useMemo(()=>[_.qN.CREATION_DATE,_.qN.UNREAD,_.qN.SLIDE],[]),k=(0,c.po)(),I=r.useCallback(e=>{let t=T(e),i=d.get(t);return void 0!==i&&t!==s.AD?(0,u.t)("comments.slide_number",{orderNum:i+1}):e.pageName},[T,d]),N=r.useMemo(()=>!!t,[t]),A=r.useCallback(e=>{if(!t)return()=>{};let i=T(e);return i!==s.AD?()=>{k(i)}:()=>{a.Ez5?.singleSlideView().exitFocusedNodeViewAndLeavePanelsOpen()}},[T,k,t]),O=r.useMemo(()=>({slide:(e,t)=>{let i=1/0,n=T(e),r=T(t),a=d.get(n)??i,s=d.get(r)??i;if(a!==s)return a-s;{let i=e.comments[0]?.created_at,n=t.comments[0]?.created_at;return i&&n?Date.parse(n)-Date.parse(i):0}}}),[T,d]),L=(0,f.ut)(a.Ez5?.editorPreferences().speakerNotesHeight,0),R=r.useMemo(()=>{let e=0,i=0;return b&&(e+=v,i+=E),t&&(e+=L+(a.CNR?.speakerNotesDragHandleHeight()??0)+(a.CNR?.speakerNotesDragHandlePadding()??0)*3),{maxHeightDelta:-e,minBottomMarginDelta:e,minLeftMarginDelta:0,minRightMarginDelta:i}},[t,E,b,L]),M=r.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,disableZoomViewportOnCommentSelection:N,orphanedBy:"deleted_anchors",filterBy:"deleted_anchors",sidebarFilters:j,sidebarSorts:S,sidebarModesDisabled:!0,dockPositionAdjustment:w,commentDisabledPositionBellMessage:(0,u.t)("comments.comments_can_only_be_placed_on_slides"),getParentName:I,getOnCommentSelect:A,sortComparatorOverrides:O,draggableModalBoundsAdjustment:R}),[N,j,S,w,I,A,O,R]);return(0,n.jsx)(g.a.Provider,{value:M,children:e})}},624465:(e,t,i)=>{i.d(t,{W:()=>O,l:()=>A});var n=i(486106),r=i(7378),a=i(514228),s=i(656233),o=i(601108),l=i(27355),d=i(714362),c=i(303541),u=i(156213),p=i(124493),m=i(8833),h=i(224),f=i(186343),g=i(722362),_=i(516028),x=i(191312),y=i(345997),b=i(165519),C=i(652992),v=i(630077),E=i(320600),T=i(646972),w=i(32128),j=i(521144),S=i(965813),k=i(739964),I=i(999099),N=i(29287);let A=(0,l.eU)(!1);function O({clientX:e,clientY:t,pageIds:i,selectedView:O,shouldShowDuplicateOption:L}){let R=(0,a.wA)(),M=(0,a.d4)(e=>e.mirror.appModel),D=(0,_.q5)(),P=(0,g.p8)("pagesList"),F=(0,f.HZ)(),B=h.F.useShouldHideStarterCtaForOpenFile(),U=(0,w.cT)(),G=(0,T.hZ)(),H=1===i.length&&void 0!==i[0]?function({pageId:e,openFile:t,pagesList:i,team:n,shouldShowDuplicateOption:r,shouldPaywallForDraftsPageLimitV1:a,dispatch:s,hideUpsellPlanCta:l,isFileReadOnly:m,isK12OrgStudent:f}){var g;let _=i.length,E=i.filter(e=>!e.isDivider).length,T=i.find(t=>t.nodeId===e),w=!!T&&T.isDivider,A=i=>(0,N.HZ)()&&T&&t&&t.editorType===x._Y.WHITEBOARD?[{separator:!0},{name:"create-slides-outline-from-figjam",callback:()=>(0,N.$t)({pageGuids:[e],dispatch:i,source:I.E.FJ_PAGE_MENU})}]:[];if(m||f)return[{action:"page-copy-link",args:{nodeId:e}},...A(s)];let O=()=>(0,o.k)().move_page_to_new_file&&T&&t?((0,d.ED)("getPageMoveMenuItem","Parameters",{pageId:e,folderId:"1",fileKey:t.key}),{name:"page-move-to-new-file",callback:()=>{!function(e,t,i,n,r={},a=!0){if(!e)return;let s={...r,type:S.A.FILE,fileKey:e.key,file:e,afterFileMove:void 0,isMovePageToNewFile:a,page_id:i};t(u.to({type:(0,j.J)(),data:s}))}({key:t.key,name:t.name,folder_id:t.folderId,team_id:t.teamId,editor_type:t.editorType},s,e)}}):null,L=r?(g=w?(0,c.t)("fullscreen_actions.divider-duplicate"):(0,c.t)("fullscreen_actions.page-duplicate"),t&&((0,y.J9)({openFile:t,pageCount:_})||a({openFile:t,pageCount:_}))?{name:"page-duplicate",callback:()=>{s((0,u.to)({type:k.DV,data:{team:n,resource:C.vL.PAGE,action:v.ZN.DUPLICATE_PAGE,editorType:t.editorType,currentPlan:h.F.Plan.STARTER,upsellPlan:h.F.Plan.PRO,hideUpsellPlanCta:l,upsellSource:b.b.CREATE_NEW_PAGE}}))},displayText:g}:{action:"page-duplicate",args:{nodeId:e},loadingIndicatorString:"Duplicating",displayText:g}):null;return w?[L,O(),{action:"page-delete",args:{nodeIds:[e]},loadingIndicatorString:"Deleting",displayText:(0,c.t)("fullscreen_actions.divider-delete")}]:[{action:"page-copy-link",args:{nodeId:e}},{separator:!0},{action:"page-rename",args:{nodeId:e},displayText:(0,c.t)("fullscreen_actions.pages-rename",{pageCount:1})},L,O(),{separator:!0},{action:"page-delete",callback:()=>s(p.PK({})),args:{nodeIds:[e]},loadingIndicatorString:"Deleting",disabled:1===E,displayText:(0,c.t)("fullscreen_actions.pages-delete",{pageCount:1})},...A(s)]}({pageId:i[0],team:D?D.team:null,shouldShowDuplicateOption:L,openFile:D,pagesList:P,shouldPaywallForDraftsPageLimitV1:F,dispatch:R,hideUpsellPlanCta:B,isFileReadOnly:U,isK12OrgStudent:G}):function({pageIds:e,pagesList:t,dispatch:i,isFileReadOnly:n,isK12OrgStudent:r}){if(n||r)return[];let a=new Set(t.filter(e=>!e.isDivider).map(e=>e.nodeId)),s=e.filter(e=>a.has(e)),o=s.length;return 0===o?[]:[{action:"batch-page-rename",args:{nodeIds:s},displayText:(0,c.t)("fullscreen_actions.pages-rename",{pageCount:o})},{separator:!0},{action:"page-delete",callback:()=>i(p.PK({})),args:{nodeIds:s},loadingIndicatorString:"Deleting",displayText:(0,c.t)("fullscreen_actions.pages-delete",{pageCount:o}),disabled:a.size<=o},...(t=>{if(!(0,N.HZ)())return[];let i=l.zl.get(_.yV);return i&&i.editorType===x._Y.WHITEBOARD?[{separator:!0},{name:"create-slides-outline-from-figjam",callback:()=>(0,N.$t)({pageGuids:Array.from(e),dispatch:t,source:I.E.FJ_PAGE_MENU})}]:[]})(i)]}({pageIds:i,pagesList:P,dispatch:R,isFileReadOnly:U,isK12OrgStudent:G});return(0,r.useEffect)(()=>(l.zl.set(A,!0),()=>{l.zl.set(A,!1)}),[]),(0,n.jsx)("div",{className:`${m.Dm}`,children:(0,n.jsx)(E.Q,{appModel:M,menuItems:(0,s.WI)(H),dispatch:R,selectedView:O,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!1,isLimitedDevMode:!1,recordingKey:"pageMenu"})})}},92649:(e,t,i)=>{i.d(t,{G:()=>nH});var n=i(486106),r=i(7378),a=i(514228),s=i(382883),o=i(165054),l=i(763686),d=i(601108),c=i(876459),u=i(39751),p=i(751457),m=i(303541),h=i(443820),f=i(163832),g=i(27355),_=i(745972),x=i(518364),y=i(303587),b=i(601682),C=i(88239),v=i(929976),E=i(831799),T=i(516028),w=i(386952),j=i(707808),S=i(638951),k=i(272243),I=i(911410),N=i(691059),A=i(43961);let O=(0,r.lazy)(()=>Promise.all([i.e(6658),i.e(1261),i.e(2687)]).then(i.bind(i,342687)));function L(){return(0,n.jsx)(k.vo,{children:(0,n.jsx)("div",{className:A.g4,children:(0,n.jsx)(h.k,{})})})}function R({isOpen:e,onClose:t,defaultPosition:i,windowDefaultWidth:a,windowDefaultHeight:s,manager:o,entrypoint:l,children:d,scope:c}){return e?(0,n.jsx)(I._L,{constraints:{minWidth:a,minHeight:s},manager:o,defaultWidth:a,defaultHeight:s,onClose:t,defaultPosition:i,draggable:"header",children:(0,n.jsx)(N.nK,{children:(0,n.jsx)(r.Suspense,{fallback:(0,n.jsx)(L,{}),children:d||(0,n.jsx)(O,{scope:c,entrypoint:l})})})}):null}var M=i(368291);function D(){let e=(0,T.q5)(),t=(0,b.D)(e,!0),i=(0,T._G)(),r=(0,w._6)();return t&&i?(0,n.jsx)(E.fu,{name:"Component Browser",children:(0,n.jsx)("div",{className:"component_browser_container--background--soWIQ",children:i&&(0,n.jsx)(x.uv,{libraryKey:i,componentKey:r?.componentKey,fallback:(0,n.jsx)("div",{className:"component_browser_container--loadingContainer--j9mkU",children:(0,n.jsx)(h.k,{})}),errorFallback:(0,n.jsx)("div",{children:(0,m.t)("dev_handoff.component_browser_onboarding.error_loading_component_browser")}),location:"file",defaultFilter:"all",entrypoint:r?.componentBrowserEntrypoint??"filename_menu"})})}):null}function P(){let[e,t]=(0,g.fp)(y.x),i=f.ox(),{windowInnerWidth:s,windowInnerHeight:o}=(0,_.l)(),l=r.useMemo(()=>e.defaultPosition?e.defaultPosition:{x:Math.max(0,(s-M.T)/2),y:Math.max(0,(o-M.s)/2)},[s,o,e.defaultPosition]),d=(0,T.q5)(),c=(0,b.D)(d,!1),u=(0,T._G)(),p=(0,C.RT)(),m=(0,a.wA)(),h=(0,w._6)(),x="fullscreen"===h.view&&h.githubRepositorySelectorMode===j.e6.DIRECTORY_SELECTOR,k=()=>{"fullscreen"===h.view&&(m((0,v.sf)({...h,showComponentBrowserGitHubSettings:!1})),t(e=>({...e,isOpen:!0})))};return c&&u?(0,n.jsxs)(E.fu,{name:"Component Browser",children:[(0,n.jsx)(R,{isOpen:e.isOpen,onClose:()=>t(e=>({...e,isOpen:!1})),defaultPosition:l,windowDefaultWidth:M.T,windowDefaultHeight:M.s,manager:i,entrypoint:"filename_menu",scope:e.scope||"file"}),p&&(0,n.jsx)(S.A,{libraryKey:u,onClose:k,onBack:k,isDirectorySelection:x})]}):null}var F=i(901889),B=i(302958),U=i(433403);let G="mcp-unmapped-components";function H({}){let e=(0,a.wA)(),t=(0,F.hC)(),i=(0,r.useRef)(!1),[s]=(0,g.fp)(U.D),[o,l]=(0,g.fp)(U.d),[,c]=(0,g.fp)(y.x),u=(0,r.useCallback)(e=>{l(!1),i.current=!1,t("component_browser.mcp_unmapped_components_banner_cta_clicked",{bannerId:e,cta:"close_banner",unmappedComponentsCount:s.length})},[l,t,s.length]),p=(0,r.useCallback)(e=>{t("component_browser.mcp_unmapped_components_banner_cta_clicked",{bannerId:e,cta:"start_mapping",unmappedComponentsCount:s.length}),l(!1),c({isOpen:!0,defaultPosition:void 0,scope:"page"}),i.current=!1},[l,c,t,s.length]);return(0,r.useEffect)(()=>{if(!(0,d.k)().dt_mcp_unmapped_components_banner)return;if(!o||0===s.length){e(B.F.dequeue({matchType:G})),i.current=!1;return}if(i.current)return;let n=crypto.randomUUID();e(B.F.enqueue({type:G,message:(0,m.t)("dev_handoff.mcp.unmapped_components_banner.description",{count:s.length}),button:{primary:{text:(0,m.t)("dev_handoff.mcp.unmapped_components_banner.map_now"),action:()=>p(n)},secondary:{text:(0,m.t)("dev_handoff.mcp.unmapped_components_banner.ignore"),action:()=>u(n)}},timeoutOverride:2e4,onDequeue:()=>{i.current=!1}})),t("component_browser.mcp_unmapped_components_banner_shown",{unmappedComponentsCount:s.length,bannerId:n}),i.current=!0},[o,s,e,u,p,t]),(0,n.jsx)(n.Fragment,{})}var z=i(473493),V=i(882262),K=i(858738),W=i(65327),q=i(383776),Y=i(656233),X=i(934246),J=i(443068),Z=i(251970),Q=i(813803),$=i(536384),ee=i.n($),et=i(783094),ei=i(806412),en=i(708651),er=i(750789),ea=i(589278),es=i(560959),eo=i(465776),el=i(632989),ed=i(11),ec=i(31103),eu=i(740163),ep=i(852050),em=i(84367),eh=i(803932),ef=i(151869),eg=i(826998),e_=i(777660),ex=i(155647),ey=i(394327),eb=i(331989),eC=i(871724);let ev=r.forwardRef(function({valueToCopy:e,isCopyable:t,children:i,valueTypeForTracking:a,variableTypeForTracking:s,recordingKey:o},l){let{isSelected:d}=(0,eC.e)(),c=(0,ef.Cj)(e),u=(0,ec.ON)(),p=r.useCallback(e=>{e.stopPropagation(),c&&c(),u("cell_copied",{type:a,variableType:s})},[c,u,a,s]);return(0,n.jsx)(el.E,{ref:l,className:ee()("variable_cell_content--copyButton--KwbAc ellipsis--ellipsis--Tjyfa",d&&"variable_cell_content--isOnSelected--UH9z4"),onClick:t?p:void 0,recordingKey:o,children:i})});function eE({variable:e,variableSetId:t,modeId:i,isCopyable:a,variableTypeForTracking:s}){let d=(0,ep._t)(t),c=r.useMemo(()=>i&&d?{[d]:i}:void 0,[i,d]),u=(0,ep.bL)(e.node_id,i,t),p=(0,ep.BQ)(e.node_id,c),m=u??p,h=!m||!p||"MIXED"===p||"MIXED"===m;if(r.useEffect(()=>{if(h){let e=m&&p?"Variables table cell has mixed value":"Variables table cell has no value";(0,ed.$D)(o.e.DEVELOPER_TOOLS,Error(e))}},[h,m,p]),h)return null;switch(m.type){case l.Z_n.STRING:case l.Z_n.FLOAT:return(0,n.jsx)(eT,{value:m.value,isCopyable:a,recordingKey:`dev_handoff.variables_table.cell.copy-${e.name}-${i}`});case l.Z_n.BOOLEAN:return(0,n.jsx)(eT,{value:(0,ey.Oi)(m),isCopyable:a,variableTypeForTracking:s});case l.Z_n.COLOR:return(0,n.jsx)(ew,{value:m,isCopyable:a});case l.Z_n.ALIAS:return(0,n.jsx)(ej,{value:m,resolvedValue:p,isCopyable:a,variableTypeForTracking:s});case l.Z_n.SYMBOL_ID:case l.Z_n.NODE_FIELD_ALIAS:case l.Z_n.EXPRESSION:case l.Z_n.FONT_STYLE:case l.Z_n.TEXT_DATA:case l.Z_n.MAP:case l.Z_n.MANAGED_STRING_ALIAS:case l.Z_n.CMS_ALIAS:case l.Z_n.JS_RUNTIME_ALIAS:case l.Z_n.IMAGE:case l.Z_n.LINK:case l.Z_n.SLOT_CONTENT_ID:case l.Z_n.DATE:return null;default:(0,eo.xb)(m)}}function eT({value:e,isCopyable:t,variableTypeForTracking:i,recordingKey:r}){let a="number"==typeof e?(0,eg.nd)(e,""):e;return(0,n.jsx)(ev,{valueToCopy:a,isCopyable:t,valueTypeForTracking:"value",variableTypeForTracking:i,recordingKey:r,children:(0,n.jsx)("div",{className:ea.s.textBodyMedium.truncate.$,children:a})})}function ew({value:e,isCopyable:t,recordingKey:i}){let r=(0,eu.Ku)(),a=(0,ex.Ig)(),s=(0,e_.q)(e.value,r,a,{alphaInPercent:!0}).value,o=(0,n.jsx)(eh.rh,{color:e.value,value:s,disableHover:!t,pillClassName:"variable_cell_content--rawColorPillContainer--uuD03"});return(0,n.jsx)("div",{className:ea.s.flex.alignCenter.gap8.h16.minW0.itemsCenter.$,children:(0,n.jsx)(ev,{valueToCopy:s,isCopyable:t,valueTypeForTracking:"value",variableTypeForTracking:"COLOR",recordingKey:i,children:o})})}function ej({value:e,resolvedValue:t,isCopyable:i,variableTypeForTracking:a}){let s=(0,ep.u)(e.value),o=(0,ef.Cj)(s?.name),d=(0,ec.ON)(),c=r.useCallback(e=>{e.stopPropagation(),o&&o(),d("cell_copied",{type:"alias",variableType:a})},[o,d,a]);return t.resolvedType===l.rXF.COLOR?(0,n.jsx)(eh.np,{color:t.value,variable:s,label:s?.name??(0,m.t)("variables.missing_name"),onClick:s&&i?c:void 0,selected:i}):(0,n.jsx)("div",{className:ee()("variable_cell_content--aliasWrapper--mHIWi",e.resolvedType===l.rXF.COLOR&&"variable_cell_content--shiftLeft--x6CPr"),children:(0,n.jsx)(eb.wG,{thumbnailValue:t,text:s?.name??(0,m.t)("variables.missing_name"),variableValue:e.value,onClick:s&&i?c:void 0,disableHover:!i,ui3Height:!0})})}function eS({name:e,variableId:t,isCopyable:i,isSelected:a=!1,variableTypeForTracking:s}){let o=(0,em.J2)((0,eu.UK)().showGuids)&&t?`${e} (${t})`:e,l=(0,eg.sD)(o);return r.useEffect(()=>{a&&l.current?.scrollIntoView({block:"nearest",behavior:"instant"})},[a,l]),(0,n.jsx)(ev,{ref:l,valueToCopy:e,isCopyable:i,variableTypeForTracking:s,recordingKey:`dev_handoff.variables_table.cell.copy-${e}`,children:o})}var ek=i(289605),eI=i(617506),eN=i(532878),eA=i(492908),eO=i(97346),eL=i(27776);let eR=(0,g.eU)({nameColumnWidth:void 0,valueColumnWidths:{}});function eM({modeID:e}){let[t,i]=(0,g.fp)(eR),a=r.useRef(null),s=r.useRef(0),[o,l]=(0,eO.i)({onBeforeDrag(){let i=e?t.valueColumnWidths[e]:t.nameColumnWidth,n=e?eL.Gyo:eL.Wsk;s.current=i??(0,et.jz)(n)},onDrag(t){let n=(0,eA.qE)(s.current+t.delta.x,50,500);i(t=>e?{...t,valueColumnWidths:{...t.valueColumnWidths,[e]:n}}:{...t,nameColumnWidth:n})}}),d=r.useCallback(()=>{i(t=>{if(e){let{[e]:i,...n}=t.valueColumnWidths;return{...t,valueColumnWidths:n}}return{...t,nameColumnWidth:void 0}})},[e,i]);return(0,n.jsx)("div",{ref:a,"data-dragging":o||void 0,onDoubleClick:d,...l({className:"variables_table_resizing--resizingHandle--il1Ui"})})}var eD=i(848862),eP=i(440875),eF=i(372672),eB=i(53721),eU=i(129884),eG=i(896213),eH=i(519056),ez=i(415810),eV=i(782020),eK=i(238665);let eW="variables_table--background--bcZc8",eq="variables_table--row--dhAQa",eY="variables_table--cell--3uNjl",eX="variables_table--rightBorder--WzCBo",eJ="variables_table--cellContents--sgYHU ellipsis--ellipsis--Tjyfa",eZ="variables_table--ellipsis--PKOvw ellipsis--ellipsis--Tjyfa",eQ=(0,et.jz)(eL.a_Q),e$=(0,et.jz)(eL.bTb);function e0({name:e}){let t=e.split("/"),i=t.slice(0,-1),r=t[t.length-1];return(0,n.jsxs)("div",{className:"variables_table--groupLabel--Mu-zB",children:[i.map((e,t)=>(0,n.jsx)(er.G,{className:"variables_table--groupLabelParent--yYqmc",text:e},`${e}-${t}`)),(0,n.jsx)(er.G,{className:"variables_table--groupLabelLast--zaKX-",text:r})]})}function e1(){let e=(0,eu.dP)(),t=(0,r.useRef)(null),[i,a]=r.useState(!1),{currentVariableSet:s,variablesTableColumns:l,variablesTableData:d,selectedVariable:c,selectedRowIndex:u,setSelectedVariable:f}=function(){let e=performance.now(),t=(0,ec.oy)(),i=(0,eI.A8)(),n=(0,eI.i_)(),a=(0,ep.yp)(),[s,o]=(0,eI.R6)(a),l=function(e,t){let i=(0,eI.vo)(e);return r.useMemo(()=>{if(!e)return[];let n=i.filter(e=>!t||t===eI.eb||e.name===t||e.name.startsWith(`${t}/`));return(0,Y.Bq)(n.map((t,i)=>{let n=[],r=t.variables.map(i=>{let n=e.modes.map(e=>({variable:i,modeId:e.id})),r=i.name.split("/"),a=i.name.includes("/")?r[r.length-1]:i.name,s=i?.resolvedType!==void 0?(0,ey.Hr)(i.resolvedType):void 0;return{id:i.node_id,type:i.resolvedType,name:a,group:t.name,variableId:i.node_id,content:n,variableTypeForTracking:s}});return""!==t.name&&t.variables.length>0&&n.push({id:`group${i}`,isDividerRow:!0,content:t.name}),n.push(...r),n}))},[t,e,i])}(s,(0,g.md)(eI.bE)),d=r.useMemo(()=>l.findIndex(e=>e.variableId===i),[l,i]),c=r.useCallback(e=>{s&&n(e,s.node_id)},[n,s]),u=r.useMemo(()=>{let e=s?s.modes.map(e=>{let t=1===s.modes.length&&e.name===eV.nm?(0,m.t)("variables.create_modal.value_label"):e.name;return{id:e.id,label:t}}):[];return{currentVariableSet:s,setCurrentVariableSet:o,variablesTableColumns:[{id:"name",label:(0,m.t)("dev_handoff.variables.table_column_name")},...e],variablesTableData:l,selectedRowIndex:d,selectedVariable:i,setSelectedVariable:c}},[s,l,d,i,c,o]);return t("table",performance.now()-e,{type:"data"}),u}(),_=r.useCallback(()=>{f(null)},[f]),x=(0,Q.Te)({count:d.length,getScrollElement:()=>t.current,estimateSize:e=>d[e]&&e5(d[e])?e$:eQ,overscan:20,measureElement:e=>e.getBoundingClientRect().height+1});r.useEffect(()=>{!i&&u&&-1!==u&&(x.scrollToIndex(u,{align:"center"}),a(!0))},[i,u,x]);let y=function(){let e=(0,g.md)(eR);return e.nameColumnWidth?`${e.nameColumnWidth}px`:eL.Wsk}(),b=function(e){let t=(0,g.md)(eR),i=e?.length===1;if(!e)return"";if(i){let i=e[0],n=t.valueColumnWidths[i?.id||""]??eL.Gyo;return`minmax(${n}, auto)`}return e.map((i,n)=>{let r=t.valueColumnWidths[i.id],a=r?`${r}px`:eL.Gyo;return n===e.length-1?`${a} minmax(${eL.Gyo}, auto)`:a}).join(" ")}(s?.modes),C=(0,ep.u)(c||void 0),v=(0,g.md)(eN.$),E=r.useMemo(()=>({numColumns:l?.length,numRows:d?.length,variableType:C?.resolvedType!==void 0?(0,ey.Hr)(C.resolvedType):void 0,entrypoint:v}),[C?.resolvedType,l?.length,d?.length,v]);if(!(0,eI.zL)())return(0,n.jsx)("div",{className:eW,children:(0,n.jsx)("div",{className:"variables_table--loadingWrapper--WdL0z",style:{left:e},children:(0,n.jsx)(h.k,{size:"lg"})})});let T=!!s,w=0===d.length,j=s?.modes.length===1,S=`${y} ${b}`;return(0,n.jsx)(p.tH,{boundaryKey:"varTable",fallback:p.H4.DEFAULT_FULL_PAGE,team:o.e.DEVELOPER_TOOLS,sentryTags:{area:o.e.DEVELOPER_TOOLS},hasCustomWASMBuild:!1,children:(0,n.jsx)(ec.gs,{name:"full_table",trackingProps:E,children:(0,n.jsx)("div",{className:eW,children:(0,n.jsxs)("div",{className:"variables_table--fullTableView--CVdEq",style:{left:e},children:[(0,n.jsx)(e3,{title:s?.name}),(0,n.jsx)("div",{className:"variables_table--tableWrapper---mT7S",children:T?w?(0,n.jsx)(eK.fQ,{title:(0,m.t)("variables.authoring_modal.no_variables_in_collection"),text:(0,m.t)("dev_handoff.variables.table_collection_empty")}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"variables_table--scrollContainer--rlU7K",ref:t,children:(0,n.jsxs)(en.Zu,{gridColumnSizes:S,style:{height:x.getTotalSize()+(0,et.jz)(eL.wxr)},className:ee()("variables_table--stickyTopOverride--A1TnP","variables_table--stickyLeftOverride--mSdpV"),stickyTop:!0,stickyLeft:!0,"aria-label":(0,m.t)("dev_handoff.variables.table_aria-label"),"aria-describedby":"dev_mode_variables_table_title","aria-rowcount":d.length,children:[(0,n.jsxs)(en.$y,{className:eq,children:[l.map((e,t)=>{let i=0===t,r=t===l.length-1;return(0,n.jsxs)(en.Jy,{className:ee()(eY,{[eX]:t<l.length-1||!j,"variables_table--nameHeaderCell--TM9iU":i}),children:[(0,n.jsx)("div",{className:ee()(eZ,"variables_table--headerText--uHXN6"),children:e.label}),(!j||!r)&&(0,n.jsx)(eM,{modeID:i?void 0:e.id})]},e.id)}),(0,n.jsx)(en.Jy,{})]}),(0,n.jsx)("tr",{style:{height:x.getVirtualItems()[0]?.start??0,marginTop:-1}}),x.getVirtualItems().map(e=>{let t=d[e.index],i=e5(t),r=!i&&t.variableId===c;return(0,n.jsx)(eC.y,{isSelected:r,children:(0,n.jsx)(e2,{isDivider:i,variableId:t.variableId??"",selectedVariableId:c,setSelectedVariable:f,variableTypeForTracking:t.variableTypeForTracking,children:i?(0,n.jsx)(en.Jy,{className:ee()(eY,"variables_table--groupDividerCell--DWXGW"),children:(0,n.jsx)("div",{className:ee()("variables_table--itemPlainText--5KrPr","variables_table--groupDivider--4bKFP",eZ),"data-testid":`dev_handoff.variables_table.header.${t.content}`,children:(0,n.jsx)(e0,{name:t.content})})}):(0,n.jsxs)(n.Fragment,{children:[!!t.name&&void 0!==t.type&&(0,n.jsxs)(en.Jy,{className:ee()(eY,"variables_table--nameCell--tM7zv",eX),children:[(0,n.jsx)(ez.i,{type:t.type}),(0,n.jsx)("div",{className:eJ,children:(0,n.jsx)(eS,{name:t.name,variableId:t.variableId,isCopyable:r,isSelected:r,variableTypeForTracking:t.variableTypeForTracking})}),(0,n.jsx)(eM,{})]}),Array.isArray(t.content)&&t.content.map((e,i)=>{let a=i===t.content.length-1;return(0,n.jsxs)(en.Jy,{className:ee()(eY,!j&&eX),children:[(0,n.jsx)("div",{className:eJ,children:(0,n.jsx)(eE,{variable:e.variable,variableSetId:s?.node_id,modeId:e.modeId,isCopyable:r,variableTypeForTracking:t.variableTypeForTracking})}),(!j||!a)&&(0,n.jsx)(eM,{modeID:e.modeId})]},`${e.variable.node_id}-${e.modeId}`)})]})})},t.id)})]})}),c&&(0,n.jsxs)("div",{className:"variables_table--detailsSidePanel--U-Z97",children:[(0,n.jsxs)("div",{className:"variables_table--detailsSidePanelHeader--pF3Tn",children:[(0,m.tx)("dev_handoff.variables.details_title"),(0,n.jsx)(J.K,{"aria-label":(0,m.t)("general.close"),htmlAttributes:{"data-tooltip-type":eU.Ib.TEXT,"data-tooltip":(0,m.t)("general.close")},onClick:_,children:(0,n.jsx)(Z.A,{})})]}),(0,n.jsx)(ek.a,{variableId:c,variableSetId:s?.node_id??void 0,onClose:_,surface:"full_table_sidebar",entryPoint:es.E6.FullTable})]})]}):(0,n.jsx)(eK.fQ,{title:(0,m.t)("variables.authoring_modal.no_variables_in_file"),text:(0,m.t)("dev_handoff.variables.table_empty")})})]})})})})}function e2({isDivider:e,variableId:t,setSelectedVariable:i,selectedVariableId:a,variableTypeForTracking:s,children:o}){let l=(0,ec.ON)(),d=r.useCallback(e=>{e.stopPropagation(),a||l("variable_clicked",{variableType:s}),i(a===t?null:t)},[a,i,l,t,s]),c=ei.rf(`dev_handoff.variables_table.row-${t}`,"click",d),u=!e&&t===a;return(0,n.jsx)(en.$y,{className:ee()(eq,{"variables_table--divider--TKqZt":e,"variables_table--selected--rNRXH":u}),onMouseDown:c,children:o})}function e3({title:e}){let t=(0,eP.Ww)(),i=(0,eD.Um)(),s=(0,a.d4)(e=>e.multiplayer),o=(0,T.q5)(),l=(0,eF.iZ)(),d=(0,w._6)(),c=(0,a.wA)(),u=(0,a.d4)(e=>"devModeVariablesTableBackFocusId"in e.selectedView?e.selectedView.devModeVariablesTableBackFocusId:void 0),p=(0,g.Xr)(eN.$),h=r.useCallback(()=>{p(null),c(v.sf({...d,view:"fullscreen",editorType:eB.nT.DevHandoff,showDevModeVariablesTable:!1,devModeFocusId:u}))},[c,d,p,u]);return(0,n.jsxs)("div",{className:"variables_table--header--412jw",children:[(0,n.jsxs)("div",{className:ea.s.flex.itemsCenter.$,children:[(0,n.jsx)(J.K,{"aria-label":(0,m.t)("general.close"),htmlAttributes:{"data-tooltip-type":eU.Ib.TEXT,"data-tooltip":(0,m.t)("general.close")},onClick:h,recordingKey:"dev_handoff.variables_table.close",children:(0,n.jsx)(Z.A,{})}),(0,n.jsx)("div",{className:"variables_table--title--16SxT","data-testid":"dev_handoff.variables_table.title",id:"dev_mode_variables_table_title",children:e})]}),(0,n.jsxs)("div",{className:ea.s.flex.itemsCenter.gap4.$,children:[t&&(0,n.jsx)(eG.v7,{dropdownShown:i,multiplayer:s,currentUser:t,onUserClick:X.lQ,disableFollowing:!0}),o&&(0,n.jsx)(eH.w,{user:l,editingFile:o,isFileInWorkshop:!1,appendedClassname:"variables_table--shareButton--UM0c4"})]})]})}function e5(e){return!0===e.isDividerRow&&"string"==typeof e.content}var e4=i(150656),e6=i(438674),e7=i(860955),e8=i(496441),e9=i(493196),te=i(270045),tt=i(520159),ti=i(501876),tn=i(408320),tr=i(994594),ta=i(704296),ts=i(74460),to=i(820062),tl=i(125993),td=i(301080),tc=i(614223),tu=i(239603),tp=i(9054),tm=i(449184),th=i(207101),tf=i(511649),tg=i(385215),t_=i(986103),tx=i(408237),ty=i(347284),tb=i(714743),tC=i(341198),tv=i(715641),tE=i(692889),tT=i(379850),tw=i(608002),tj=i(974031),tS=i(741237),tk=i(722362),tI=i(656450),tN=i(705473),tA=i(615482),tO=i(167249),tL=i(193867),tR=i(414444),tM=i(32128),tD=i(506456),tP=i(224366),tF=i(59509),tB=i(363675),tU=i(572042),tG=i(985254),tH=i(940356),tz=i(425092);function tV(){let e=(0,a.wA)();return(0,tH.f)("dismissed_dev_mode_overview_banner")||(0,K.T)()?null:(0,n.jsx)(E.fu,{name:"Dev Mode Overview Banner",properties:{severity:tz.c.EVENT},children:(0,n.jsxs)(tF.Yy,{variant:"success",onDismiss:()=>{e(tG.b({dismissed_dev_mode_overview_banner:!0}))},children:[(0,n.jsx)(tB.Q,{title:(0,m.t)("dev_handoff.workflows.overview.banner.title"),children:(0,m.tx)("dev_handoff.workflows.overview.banner.subtitle")}),(0,n.jsx)(tU.N,{href:"https://help.figma.com/hc/articles/23918228264855",newTab:!0,children:(0,m.tx)("dev_handoff.workflows.overview.banner.learn_more")})]})})}var tK=i(521428);let tW=(0,r.memo)(function(e){return(0,n.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",d:"M9.644 2.522a.5.5 0 0 1 .335.622l-3 10a.5.5 0 0 1-.957-.287l3-10a.5.5 0 0 1 .622-.335M4.147 5.147a.5.5 0 0 1 .707.707L2.708 8l2.146 2.147a.5.5 0 0 1-.707.707l-2.5-2.5a.5.5 0 0 1 0-.707zm7 0a.5.5 0 0 1 .707 0l2.5 2.5a.5.5 0 0 1 0 .707l-2.5 2.5a.5.5 0 0 1-.707-.707L13.293 8l-2.146-2.146a.5.5 0 0 1 0-.707"})})});var tq=i(479687),tY=i(553831),tX=i(162641),tJ=i(590952),tZ=i(191312),tQ=i(43951),t$=i(241341),t0=i(867292),t1=i(53571);let t2="overview--background--LdDDC",t3="overview--overviewBase--8lImP",t5="overview--withInsetEditorEnabled--ktYXp",t4="overview--focusViewLink--PFEvh",t6="overview--overviewRecentActivityRow--uTKSo",t7="overview--overviewRecentActivity--JwGnv",t8="overview--editInfo--PHbLh",t9="overview--timestamp--EH-pe",ie="overview--avatarIcon--c711v",it="overview--editedIcon--MhN1N";function ii({showDescription:e,previewUrl:t,onClick:i}){return(0,n.jsxs)(e8._,{className:ee()(t7,t4),href:t,onClick:i,children:[(0,n.jsxs)("div",{className:t8,children:[(0,n.jsx)(tX.Qp,{className:"overview--avatarLoading--jMjJk",animationType:tX.JR.NO_SHIMMER}),(0,n.jsx)(tX.Qp,{className:"overview--editInfoRecentActivityLoading--w-QoB overview--editInfoRecentActivity---jsVr",animationType:tX.JR.NO_SHIMMER})]}),e&&(0,n.jsx)(tX.Qp,{className:"overview--editDescriptionLoading--hrI6B",animationType:tX.JR.NO_SHIMMER})]})}function ir({user:e,icon:t,editedString:i}){return(0,n.jsxs)("div",{className:t8,children:[(0,n.jsxs)("div",{className:"overview--avatarContainer--OD44p",children:[(0,n.jsx)(tJ.H8,{user:e,size:24}),t]}),(0,n.jsx)("div",{className:"overview--editInfoRecentActivity---jsVr",children:(0,n.jsx)("span",{className:"overview--editInfoUser--P4GkS",children:i})})]})}function ia(e,t,i){if(!e||i)return null;switch(e.status){case l.zIx.BUILD:return(0,n.jsx)(tW,{className:ee()(t?it:"overview--readyIcon--A94uc",ie)});case l.zIx.COMPLETED:return(0,n.jsx)(tq.l,{className:ee()(t?it:"overview--completedIcon--9Nbjl",ie)})}return null}function is({nodeId:e,user:t,previewUrl:i,isFallbackForLegacyStatus:r,onClick:a}){let s=(0,tO.Fk)(t=>t.get(e)?.getStatusInfo(),e),o=(0,tp.ei)(e),l=(0,t_.Ak)(o?.lastEditedAt),d=(0,T.q5)(),c=(0,z._I)();if(!t)return(0,n.jsx)(ii,{previewUrl:i,onClick:a});let u=s&&d&&(0,t1.y)(s,d);return(0,n.jsxs)("div",{className:t6,children:[(0,n.jsx)(e8._,{className:ee()(t7,t4),href:i,onClick:a,children:(0,n.jsx)(ir,{user:t,icon:ia(s,!0,r),editedString:(0,m.tx)("dev_handoff.workflows.edit_info.edited",{user:t.handle,dateFromNow:(0,n.jsx)("span",{className:t9,children:l})})})}),u&&c&&(0,n.jsx)(il,{nodeId:e,isEdited:!0})]})}function io({nodeId:e,user:t,description:i,previewUrl:r,isFallbackForLegacyStatus:a,onClick:s}){let o=(0,tO.Fk)(t=>t.get(e)?.getStatusInfo(),e),d=o?.lastUpdateUnixTimestamp?1e3*o.lastUpdateUnixTimestamp:null,c=(0,t_.Ak)(d),u=(0,T.q5)();if(!d)return(0,n.jsx)(is,{nodeId:e,user:t,previewUrl:r,isFallbackForLegacyStatus:a,onClick:s});if(!o||!t)return(0,n.jsx)(ii,{showDescription:!!i,previewUrl:r,onClick:s});let p=t0.TR(o.status,o.prevStatus)?.toLowerCase();if(!p)return(0,n.jsx)(is,{nodeId:e,user:t,previewUrl:r,isFallbackForLegacyStatus:a,onClick:s});let h=o.status===l.zIx.BUILD&&(o.status===o.prevStatus||!!o.description),f=u&&(0,t1.y)(o,u),g=h?(0,m.tx)("dev_handoff.workflows.edit_info.updated_design",{user:t.handle,dateFromNow:(0,n.jsx)("span",{className:t9,children:c})}):(0,m.tx)("dev_handoff.workflows.edit_info.marked",{user:t.handle,status:p,dateFromNow:(0,n.jsx)("span",{className:t9,children:c})});return(0,n.jsxs)("div",{className:t6,children:[(0,n.jsxs)(e8._,{className:ee()(t7,t4),href:r,onClick:s,children:[(0,n.jsx)(ir,{user:t,icon:ia(o,!1,a),editedString:g}),!!i&&(0,n.jsx)("div",{className:"overview--editDescription--rb1Qn",children:i})]}),h&&f&&(0,n.jsx)(il,{nodeId:e,isEdited:!1})]})}function il({nodeId:e,isEdited:t}){let i=(0,a.wA)(),r=T.q5()?.key,s=(0,F.U)(),l=async()=>{let n,a=null;if(r&&(s("Dev Mode Activity Compare Changes",{source:"compare_previous_overview"}),"loaded"===(a=await (0,tY.Ek)(tQ.WND,{fileKey:r,nodeId:e})).file.status&&a.file.data)){let r=a.file.data.devModeActivity.filter(e=>e.activityType===tZ.o6.STATUS_CHANGE).sort((e,t)=>t.timestamp.getTime()-e.timestamp.getTime());if(n=t||1===r.length?r[0]:r[1],n?.version?.id){(0,t$.L$)(n.version?.id,i,!0,e);return}}i(B.F.enqueue({message:(0,m.t)("dev_handoff.compare_changes.button.failed"),error:!0})),(0,ed.$D)(o.e.DEVELOPER_TOOLS,Error("Open compare changes button failed"),{extra:{fileKey:r,activityInfoStatus:a?.file.status,activityInfoStatusError:a?.file.status==="error"?a?.file.error:void 0,activitiesLength:a?.file.status==="loaded"&&a.file.data?.devModeActivity.length,prevActivityId:n?.id,prevActivityVersionId:n?.version?.id}})};return(0,n.jsx)(tK.$n,{variant:"secondary",onClick:l,children:(0,m.tx)("inspect_panel.history.compare_changes")})}var id=i(841699),ic=i(90566),iu=i(616261);let ip=(0,tA.Wh)(()=>(0,g.eU)(""),{preserveValue:!1});var im=i(609396);let ih="performance.dev_mode.workflows.overview.time_to_first_thumbnail",ig=new im.jk(ih,{}),i_=(0,tA.rt)(void 0),ix=(0,tA.rt)(!1);var iy=i(879363),ib=i(674356),iC=i(236983),iv=i(759863);let iE=2*(0,et.jz)(eL.Evg),iT=iE/eL.RtY,iw=iE/8,ij=iT/8;function iS(e){let t=r.useMemo(()=>e.tabs.reduce((e,t)=>(e[t.key]=!0,e),{[iy.oz.ALL]:!1,[iy.oz.RECENTLY_VIEWED]:!1,[iy.oz.BUILD]:!1,[iy.oz.COMPLETED]:!1}),[e.tabs]),[i,a,s]=e4.t.useManagedTabs(t,e.selected,e.onTabSelected);return(0,n.jsx)(e4.t.TabStrip,{manager:s,children:e.tabs.map(t=>{let r=t.key===e.selected;return(0,n.jsxs)(e4.t.Tab,{...i[t.key],children:[t.label,void 0!==t.count&&(0,n.jsx)(id.s,{count:t.count,isInTab:!0,isActive:r})]},t.key)})})}let ik=(0,tA.Wh)(()=>(0,g.eU)(!1),{preserveValue:!1});function iI(){let e=(0,T.q5)(),t=(0,a.wA)(),i=(0,eF.iZ)(),s=(0,eD.Um)(),o=(0,a.d4)(e=>e.multiplayer),l=r.useMemo(()=>o.allUsers.find(e=>e.sessionID===o.sessionID)||null,[o.allUsers,o.sessionID]),d=(0,eP.dR)(),c=(0,tg.B4)(),u=r.useCallback(e=>{(0,eG.Lx)(e,l?.sessionID,t,!1,o,d,c)},[l?.sessionID,t,o,d,c]);return(0,n.jsxs)("div",{className:"overview--toolbarRightItems--tjF72",children:[o&&e&&l&&(0,n.jsx)(eG.v7,{dropdownShown:s,multiplayer:o,currentUser:l,onUserClick:u}),e&&(0,n.jsx)(eH.w,{user:i,editingFile:e,isFileInWorkshop:!1,appendedClassname:"overview--shareButton--5BlrF"})]})}let iN=(0,g.E2)("workflows_summary_tab",iy.oz.ALL,tu.z.nativeEnum(iy.oz)),iA=(0,tA.Wh)(()=>(0,g.eU)({}),{preserveValue:!0}),iO=(0,g.E2)("workflows_overview_sorted_by",iy._6.RECENT,tu.z.nativeEnum(iy._6));function iL(){let e=(0,a.d4)(e=>e.selectedView.overviewBackButtonTargetNodeId),t=(0,a.d4)(e=>e.mirror.appModel.pagesList[0]),i=function(){let e=(0,a.d4)(e=>e.mirror.appModel.pagesList),t=(0,em.J2)(l.Ez5.currentSceneState().numReadyNodesByPage),i=(0,em.J2)(l.Ez5.currentSceneState().numCompletedNodesByPage);return r.useMemo(()=>e.filter(e=>{let n=e.nodeId,r=t.has(n)?t.get(n)>0:l.glU.nodeStatusesOnPage(n).includes(l.zIx.BUILD),a=i.has(n)?i.get(n)>0:l.glU.nodeStatusesOnPage(n).includes(l.zIx.COMPLETED);return r||a}),[e,t,i])}()[0],s=e||i?.nodeId||t?.nodeId,o=(0,tP.ZJ)(),d=(0,tP.TP)(void 0,s),c=(0,a.d4)(e=>(0,tL.Np)(e,d)),u=(0,tM.n0)(),p=(0,tD.VS)({pagesList:u,isComparingChanges:!1});return s?(0,n.jsx)(tf.lt,{className:"overview--backLink--vAo8c",onClick:function(e){e.preventDefault(),s?p(s).then(()=>{o("overview_back_clicked")}):o("overview_back_clicked")},href:c,"data-testid":"dev_handoff.workflows.overview.back_button",recordingKey:"dev_handoff.workflows.overview.back_button","aria-label":(0,m.t)("dev_handoff.workflows.overview.back_to_page_tooltip"),"data-tooltip":(0,m.t)("dev_handoff.workflows.overview.back_to_page_tooltip"),"data-tooltip-type":eU.Ib.TEXT,children:(0,n.jsx)(tt.C,{})}):null}function iR(){let e=(0,z._I)(),t=T.q5()?.key,i=(0,eu.dP)();(0,K.T)()&&(0,d.k)().dt_vscode_ready_for_dev&&(i=0);let s=(0,F.U)(),o=function(){let[e,t]=(0,g.fp)(i_);return r.useCallback(i=>{e||(t({source:i}),ig.start())},[e,t])}(),c=(0,w._6)(),u=(0,a.wA)();(0,tR.O)();let p=(0,em.J2)(l.Ez5.currentSceneState().nodesWithStatusForFile),f=(0,r.useRef)(null),[_,x]=(0,g.fp)(tv.gk),[y,b]=(0,g.fp)(iO),v=r.useCallback(e=>{s("Dev Mode Overview Sort Changed",{sort:e}),b(e)},[b,s]),E=e?y:iy._6.PAGE,[j,S]=(0,g.fp)(iN),k=(0,tw.n9)(t),{setSearchString:I,searchString:N,searchFilter:A,searchActive:O}=function(){let[e,t]=(0,g.fp)(ip),i=(0,F.U)(),n=(0,r.useMemo)(()=>(function(e){let t=e?new iu.Ax(e.toLowerCase()):null;return{filter:e=>{let i=t?t.matchAgainst(e):null;return!i||!!i.find(e=>e.score>0)}}})(e),[e]),a=(0,r.useCallback)(e=>n.filter([e.nodeName,e.pageName,e.description]),[n]),s=(0,ic.A)(()=>{i("Dev Mode Overview Search",{})},1e3);return{setSearchString:(0,r.useCallback)(e=>{t(e),s()},[t,s]),searchString:e,searchFilter:a,searchActive:e.length>0}}(),L=r.useMemo(()=>p.filter(e=>e.status===l.zIx.BUILD&&A(e)),[p,A]),R=r.useMemo(()=>p.filter(e=>e.status===l.zIx.COMPLETED&&A(e)),[p,A]),M=r.useMemo(()=>{switch(j){case iy.oz.ALL:return p.filter(A);case iy.oz.RECENTLY_VIEWED:if(!k)return[];return Object.entries(k).reduce((e,[t,i])=>{let n=p.find(e=>e.nodeId===t&&A(e));return n&&e.push({...n,lastViewedTimestamp:i}),e},[]);case iy.oz.BUILD:return L;case iy.oz.COMPLETED:return R}},[p,j,k,A,L,R]),D=r.useMemo(()=>[{key:iy.oz.ALL,label:(0,m.t)("dev_handoff.workflows.overview.tab_all")},...(0,d.k)().dt_workflows_recently_viewed?[{key:iy.oz.RECENTLY_VIEWED,label:(0,m.t)("dev_handoff.workflows.overview.tab_recent")}]:[],{key:iy.oz.BUILD,count:L.length,label:(0,m.t)("dev_handoff.workflows.overview.tab_ready")},{key:iy.oz.COMPLETED,count:R.length,label:(0,m.t)("dev_handoff.workflows.overview.tab_completed")}],[L.length,R.length]),P=r.useMemo(()=>{if(0===M.length)return[];if(j===iy.oz.RECENTLY_VIEWED)return[{key:"recent",sortedNodesWithStatusForFile:M.slice().sort(tw.YA)}];switch(E){case iy._6.PAGE:let e={};return M.slice().sort((e,t)=>e.visualOrder-t.visualOrder).forEach(t=>{e[t.pageId]||(e[t.pageId]={key:t.pageId,pageId:t.pageId,pageName:t.pageName,sortedNodesWithStatusForFile:[]}),e[t.pageId].sortedNodesWithStatusForFile.push(t)}),Object.values(e);case iy._6.RECENT:return[{key:"recent",sortedNodesWithStatusForFile:M.slice().sort((e,t)=>t.updatedAt-e.updatedAt)}];case iy._6.ALPHABETICAL:return[{key:"alphabetical",sortedNodesWithStatusForFile:M.slice().sort((e,t)=>e.nodeName.localeCompare(t.nodeName))}]}},[j,M,E]),[B,U]=(0,g.fp)(iA);r.useEffect(()=>{U(e=>{let t={...e};return P.forEach(({pageId:e})=>{e&&void 0===t[e]&&(t[e]=!0)}),t})},[U,P]);let G=r.useCallback(e=>{U(t=>{let i={...t};return i[e]=!i[e],i})},[U]),{numSections:H,numFrames:V,numPages:W}=r.useMemo(()=>({numSections:p.filter(e=>e.isSection).length,numFrames:p.filter(e=>!e.isSection).length,numPages:new Set(p.map(e=>e.pageId)).size}),[p]),q=(0,C.US)();!function({nodesWithStatusForFile:e,enabled:t}){let[i,n]=(0,g.fp)(ik),a=r.useRef(),s=(0,tk.eY)();r.useEffect(()=>{if(!t)return;let r=0,o=0,l=performance.now();if(void 0===a.current&&(a.current=new Set),e.forEach(e=>{if(!a.current.has(e.nodeId)){r++;let t=performance.now();s.get(e.nodeId)?.materializeDescendants();let i=performance.now()-t;i>o&&(o=i),a.current.add(e.nodeId)}}),!i){let e=performance.now()-l;(0,tm.sx)("performance.dev_mode.workflows.overview.materialize_nodes",{nodeCount:r,worstNodeMs:o,elapsedMs:e},{forwardToDatadog:!0}),n(!0)}},[e,a,s,i,n,t])}({enabled:q,nodesWithStatusForFile:p});let[Y,X]=r.useState(!1),J=r.useCallback(()=>{X(!0),x(f.current?.scrollTop)},[x]),[Z]=(0,g.fp)(iy._o);(0,th.h)(()=>{let t=Z||"init";s("Dev Mode Overview Shown",{type:e?"full":"lite",source:t},{forwardToDatadog:!0}),o(t),tS.wr()});let Q=[...new Set(M.map(e=>e.userId).filter(e=>e))],$=(0,tI.zy)(Q);(0,iy.c7)(M,j,E),(0,iy.zz)(Q,$,M);let et=r.useCallback(e=>{s("Dev Mode Overview Tab Clicked",{tab:e}),S(e)},[S,s]);if(r.useEffect(()=>{"fullscreen"===c.view&&c.commentThreadId&&(0,tT._$)(u,c,"overview_open_notification")},[u,c]),!q||Y)return(0,n.jsx)("div",{className:t2,children:(0,n.jsx)("div",{className:ee()(t3,"overview--overviewSpinner--zv-dq",t5),style:{left:i},children:(0,n.jsx)(h.k,{size:"lg"})})});let ei="";H>0&&(ei+=(0,m.t)("dev_handoff.workflows.overview.sections_count",{count:H})),V>0&&(H>0&&(ei+=", "),ei+=(0,m.t)("dev_handoff.workflows.overview.frames_count",{count:V})),H+V>0&&(ei+=" "+(0,m.t)("dev_handoff.workflows.overview.pages_count",{count:W}));let en=0===P.length,er={left:i};return(0,K.T)()&&(0,d.k)().dt_vscode_ready_for_dev&&(er.margin="0px"),(0,n.jsx)("div",{className:t2,children:(0,n.jsxs)("div",{className:ee()(t3,t5),style:er,children:[(0,d.k)().dt_vscode_ready_for_dev&&(0,K.T)()?(0,n.jsx)(tC.f,{isOnReadyForDevPage:!0,children:e&&(0,n.jsx)(iD,{value:N,onChange:I})}):(0,n.jsxs)("div",{className:"overview--overviewHeader--BBr9p",children:[(0,n.jsx)(iL,{}),(0,n.jsxs)("div",{className:"overview--overviewTitle--gEd5D text--fontPos13--xW8hS text--_fontBase--QdLsd",children:[(0,n.jsx)("div",{className:"overview--overviewTitleIcon--NvF-4",children:(0,n.jsx)(ti.O,{})}),(0,n.jsx)("h1",{children:(0,m.tx)("dev_handoff.workflows.overview.title")})]}),(0,n.jsx)("div",{className:"overview--overviewTitleInfo--3e2oX text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,n.jsx)("span",{children:ei})}),(0,n.jsx)(iV,{}),(0,n.jsx)("div",{className:"overview--overviewHeaderSpacer--oRKTg"}),e&&(0,n.jsx)(iD,{value:N,onChange:I}),(0,n.jsx)(iI,{})]}),(0,n.jsx)("div",{className:"overview--bannerWrapper--D8N5z",children:(0,n.jsx)(tV,{})}),(0,n.jsxs)("div",{className:"overview--scrollAndEmptyMessage--3hOyM",children:[en&&(0,n.jsx)("span",{className:"overview--emptyMessage--lyEC8",children:O?(0,m.tx)("dev_handoff.workflows.overview.empty_message_search"):(0,n.jsx)("div",{className:ea.s.preWrap.$,children:(0,m.tx)("dev_handoff.workflows.overview.no_designs",{status:function(e){switch(e){case iy.oz.BUILD:return(0,m.tx)("dev_handoff.workflows.overview.no_designs_ready");case iy.oz.COMPLETED:return(0,m.tx)("dev_handoff.workflows.overview.no_designs_completed");default:return(0,m.tx)("dev_handoff.workflows.overview.no_designs_ready")}}(j),link:(0,n.jsx)("span",{className:"overview--learnMoreLink--Yrujk",children:(0,n.jsx)(e6.N,{href:"https://help.figma.com/hc/articles/23918228264855",trusted:!0,newTab:!0,children:(0,m.tx)("dev_handoff.workflows.overview.learn_more")})})})})}),(0,n.jsx)(ty.P,{className:"overview--overviewNodesScrollContainer--uc1ey",scrollContainerRef:f,initialScrollTop:_,children:(0,n.jsxs)("div",{className:"overview--overviewNodesScrollContainerContents--fTO-e",children:[e&&(0,n.jsxs)("div",{className:"overview--overviewTabsContainer--sjuS-",children:[(0,n.jsx)(iS,{tabs:D,selected:j,onTabSelected:et}),j!==iy.oz.RECENTLY_VIEWED&&(0,n.jsx)(iz,{sortedBy:E,setSortedBy:v})]}),!en&&(0,n.jsx)("div",{className:"overview--overviewNodesContainer--P3anz",children:(0,n.jsx)("div",{className:"overview--overviewSections--2H4Qw",children:P.map(({key:e,pageId:t,pageName:i,sortedNodesWithStatusForFile:r})=>{let a=!t||B[e];return(0,n.jsx)(iP,{isExpanded:a,pageId:t,pageName:i,overviewNodes:r,users:$,onExpandCollapseClicked:t?()=>G(t):void 0,onPreviewClick:J},e)})})})]})})]})]})})}function iM({pageName:e,isExpanded:t,onExpandCollapseClicked:i}){return(0,n.jsx)(el.E,{className:"overview--pageHeader--dubsT",onClick:i,"aria-label":t?(0,m.t)("dev_handoff.workflows.overview.collapse_page",{pageName:e}):(0,m.t)("dev_handoff.workflows.overview.expand_page",{pageName:e}),children:(0,n.jsxs)("div",{className:"overview--pageHeaderContent--Bq-Ol text--fontPos13--xW8hS text--_fontBase--QdLsd",children:[(0,n.jsx)(tb.B,{svg:t?iC.A:iv.A,className:"overview--caretIcon--gssmY"}),(0,n.jsx)(tn.A,{className:"overview--pageIcon--w9-M7"}),(0,n.jsx)("span",{children:e})]})})}function iD({value:e,onChange:t}){return(0,n.jsx)(tc.J,{brand:"dev-handoff",children:(0,n.jsxs)("div",{className:"overview--searchBar--NX8cb",children:[(0,n.jsx)(tr.h,{}),(0,n.jsx)(tx.L,{placeholder:(0,m.t)("dev_handoff.workflows.overview.search_placeholder"),value:e,onChange:e=>{t(e.target.value)},className:"overview--searchInput--3X9vp text--fontPos11--2LvXf text--_fontBase--QdLsd",spellCheck:!1}),!!e&&(0,n.jsx)(J.K,{onClick:()=>t(""),"aria-label":(0,m.t)("dev_handoff.workflows.overview.clear_search"),htmlAttributes:{"data-tooltip":(0,m.t)("dev_handoff.workflows.overview.clear_search"),"data-tooltip-type":eU.Ib.TEXT},children:(0,n.jsx)(ta.L,{})})]})})}function iP({pageName:e,overviewNodes:t,users:i,isExpanded:r,onExpandCollapseClicked:a,onPreviewClick:s}){return(0,n.jsxs)(n.Fragment,{children:[e&&(0,n.jsx)(iM,{pageName:e,isExpanded:r,onExpandCollapseClicked:a}),r&&(0,n.jsx)("div",{className:"overview--overviewNodesList--ipsOp",children:t.map(r=>(0,n.jsx)(iU,{overviewNode:r,onPreviewClick:s,renderPageName:!e,users:i,nodeCount:t.length},r.nodeId))})]})}function iF({overviewNode:e,onClick:t,renderPageName:i,showLastUpdated:s}){let{nodeId:o,isSection:d,updatedAt:c,pageName:u,nodeName:p,pageId:h}=e,f=(0,tP.VW)(o,h),g=(0,a.d4)(e=>(0,tL.Np)(e,f)),_=(0,a.d4)(e=>(0,tL.xS)(e,f)),x=(0,ef.Cj)(_),y=(0,tP.TQ)(),b=function(e,t){let i=(0,tO.Fk)(t=>t.get(e)?.getStatusInfo(),e),n=i?.lastUpdateUnixTimestamp?1e3*i.lastUpdateUnixTimestamp:null,r=(0,tp.ei)(e),a=t?r?.lastEditedAt:n,s=(0,t_.Ak)(a);return a?s:null}(o,e.hasBeenEditedSinceLastStatusChange),C=r.useMemo(()=>e.hasBeenEditedSinceLastStatusChange?(0,m.tx)("dev_handoff.workflows.edit_info.changed"):e.status===l.zIx.COMPLETED?(0,m.tx)("dev_handoff.status.completed"):e.status===l.zIx.BUILD?e.description?(0,m.tx)("dev_handoff.workflows.edit_info.new version"):(0,m.tx)("dev_handoff.status.ready_for_dev"):(0,m.tx)("dev_handoff.workflows.edit_info.changed"),[e.description,e.hasBeenEditedSinceLastStatusChange,e.status]),{getTriggerProps:v,manager:E}=e7.b();return(0,n.jsxs)("div",{className:"overview--overviewNodeCardHeader--C-KTf",children:[(0,n.jsxs)(e8._,{className:ee()("overview--overviewNodeCardHeaderLeft--jYCXL",t4),onClick:t,href:g,recordingKey:ei.Pt("dev_handoff.workflows.overview.card",o),children:[(0,n.jsxs)("div",{className:"overview--headerTextWrapper--BdOAz",children:[i&&u&&(0,n.jsxs)("div",{className:"overview--pageNameAndChevron--5v8px",children:[(0,n.jsx)("span",{className:"overview--pageName--TURV8",children:u}),(0,n.jsx)("span",{className:"overview--breadCrumbSeparator--zcd8z",children:"/"})]}),(0,n.jsxs)("div",{className:"overview--nodeNameAndIcon--Tl3e-",children:[(0,n.jsx)("div",{children:d?(0,n.jsx)(ts.e,{}):(0,n.jsx)(to.q,{})}),(0,n.jsx)("span",{className:"overview--nodeName--20NeF",children:p})]})]}),s&&c>1&&(0,n.jsx)("div",{className:"overview--updatedAtText--z05FL text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,m.tx)("dev_handoff.overview_mode.design_status",{fromNow:b,status:C})})]}),(0,n.jsxs)("div",{className:"overview--overviewNodeCardHeaderRight--wRNMN",children:[(0,n.jsxs)(e7.bL,{manager:E,children:[(0,n.jsx)(J.K,{...v(),"aria-label":(0,m.t)("dev_handoff.workflows.more_actions_tooltip"),children:(0,n.jsx)(tl.J,{})}),(0,n.jsxs)(e7.mc,{children:[(0,n.jsx)(e7.q7,{onClick:()=>y("Dev Mode Overview Card Go To Canvas Clicked",o,h),children:(0,m.tx)("dev_handoff.workflows.overview.show_on_page_action")}),(0,n.jsx)(e7.q7,{onClick:()=>x?.(),children:(0,m.tx)("dev_handoff.status.copy_focus_link")})]})]}),(0,n.jsx)(tE.p,{nodeId:o,isMinimal:!0,sourceForLogging:"overview"})]})]})}function iB({overviewNode:e,onClick:t,user:i}){let{description:r,nodeId:s,hasBeenEditedSinceLastStatusChange:o}=e,l=(0,tP.VW)(e.nodeId),d=(0,a.d4)(e=>(0,tL.Np)(e,l));return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"overview--overviewAvatarRowMediaQueryHeader--nigbr",children:(0,n.jsx)("div",{className:"overview--overviewRecentActivityHeader--sPkSZ",children:(0,n.jsx)("h2",{children:o?(0,n.jsx)(is,{nodeId:s,user:i,previewUrl:d,isFallbackForLegacyStatus:e.isFallbackForLegacyStatus,onClick:t}):(0,n.jsx)(io,{nodeId:s,user:i,description:r,previewUrl:d,isFallbackForLegacyStatus:e.isFallbackForLegacyStatus,onClick:t})})})})})}function iU({overviewNode:e,onPreviewClick:t,renderPageName:i,users:r,nodeCount:s}){let o=(0,a.wA)(),l=(0,F.U)(),{nodeId:d,pageId:c,pageName:u,updatedAt:p,nodeName:h}=e,f=(0,tP.VW)(d),_=(0,a.d4)(e=>(0,tL.Np)(e,f)),[x]=(0,g.fp)(iO),y=x===iy._6.RECENT&&p>1,[,b]=(0,g.fp)(iy.wz),C=r.usersById?.[e.userId],E=y&&(r.loading||C);function T(e){e.preventDefault(),l("Dev Mode Overview Card Clicked",{nodeId:d}),b("overview"),t(),o(v.sf(f))}let w=i&&u?`${u} / ${h}`:h,j=(0,m.t)("dev_handoff.workflows.overview.preview_alt_text",{imageDescription:w});return(0,n.jsxs)("article",{className:"overview--overviewNodeCard--NsmYU",children:[E&&(0,n.jsx)(iB,{overviewNode:e,onClick:T,user:C}),(0,n.jsxs)("div",{className:"overview--previewContainer--5NeGg",children:[(0,n.jsx)(iF,{overviewNode:e,onClick:T,renderPageName:i,showLastUpdated:!E}),(0,n.jsx)(iG,{nodeId:d,pageId:c,updatedAt:p,previewUrl:_,onClick:T,nodeCount:s,altText:j})]})]})}function iG({nodeId:e,pageId:t,updatedAt:i,previewUrl:a,onClick:s,nodeCount:o,altText:d}){let c=(0,tO.Fk)((e,t,i)=>(0,tT.S7)(e,t,i)||"var(--color-bg)",e,t),u=(0,tO.Fk)(t=>t.get(e)?.size),p=1+(5-5*Math.pow(Math.min(1,Math.max(0,Math.max(u?1-(iw-u.x)/iw:1,u?1-(ij-u.y)/ij:1))),.5)),h=u?{width:u.x*p,height:u.y*p}:{width:iE,height:iT},f=Math.min(1,Math.min(iE/h.width,iT/h.height)),_={width:Math.round(h.width*f),height:Math.round(h.height*f)},x=r.useRef(null),y=(0,tN.x)(x,"100%"),b=(0,tj.yh)({nodeId:e,width:_.width,height:_.height,shouldSkip:!y,version:i,reason:"workflows.overview.thumbnail",regenerateAfterImagesLoaded:!0,isDevModeBlendedSection:l.w3z.canBeBlendedSection(e)}),C=function(){let[e,t]=(0,g.fp)(ix),[i]=(0,g.fp)(i_),n=(0,F.U)();return r.useCallback(r=>{if(!e&&i){t(!0);let e=ig.stop();n(ih,{nodeCount:r,source:i.source,elapsedMs:e},{forwardToDatadog:!0})}},[e,t,i,n])}();return r.useEffect(()=>{b&&C(o)},[b,C,o]),(0,n.jsxs)(e8._,{ref:x,className:ee()("overview--previewThumbnail--zofC5",t4),style:{background:c},onClick:s,href:a,children:[b&&(0,n.jsx)("img",{src:b.src,style:{maxWidth:b.displaySize.x,maxHeight:b.displaySize.y},alt:d,"aria-label":d}),(0,n.jsx)(tc.J,{mode:"dark",children:(0,n.jsx)("div",{className:"overview--previewExpandIcon--nqhxn","data-tooltip":(0,m.t)("dev_handoff.workflows.overview.card_hover_expand_tooltip"),"data-tooltip-type":"text",children:(0,n.jsx)(td.O,{})})})]})}let iH=new class{format(e){switch(e){case iy._6.PAGE:return(0,m.t)("dev_handoff.workflows.overview.sort_pages");case iy._6.RECENT:return(0,m.t)("dev_handoff.workflows.overview.sort_recent");case iy._6.ALPHABETICAL:return(0,m.t)("dev_handoff.workflows.overview.sort_alphabetical")}}};function iz({sortedBy:e,setSortedBy:t}){return(0,n.jsxs)(e9.bL,{value:e,onChange:t,children:[(0,n.jsx)(e9.l9,{label:(0,n.jsx)(te.h,{children:(0,m.t)("dev_handoff.workflows.overview.sort_by")})}),(0,n.jsxs)(e9.mc,{children:[(0,n.jsx)(e9.WL,{children:(0,m.t)("dev_handoff.workflows.overview.sort_by")}),Object.values(iy._6).map(e=>(0,n.jsx)(e9.c$,{value:e,children:iH.format(e)},e))]})]})}function iV(){return(0,n.jsx)(tc.J,{brand:"dev-handoff",children:(0,n.jsxs)(e8._,{href:"https://form.asana.com/?k=dyYqSpHdZqetESFQzNb8hQ&d=10497086658021",className:"overview--betaFeedbackBadge--PUv9s text--fontPos11--2LvXf text--_fontBase--QdLsd",newTab:!0,children:[(0,m.tx)("dev_handoff.workflows.overview.feedback"),(0,n.jsx)(tb.B,{className:"overview--badgeIcon--rKOUQ",svg:ib.A})]})})}var iK=i(214121),iW=i(391827),iq=i(976749),iY=i(953049),iX=i(314264),iJ=i(766303),iZ=i(455680),iQ=i(149304),i$=i(837840),i0=i(125218),i1=i(298277),i2=i(546509),i3=i(792783),i5=i(578768),i4=i(226610),i6=i(187165),i7=i(545541),i8=i(34798),i9=i(354027),ne=i(604512),nt=i(365108),ni=i(293028),nn=i(891805),nr=i(311426),na=i(916195),ns=i(999677),no=i(700578),nl=i(878298),nd=i(169182),nc=i(257275),nu=i(736624),np=i(160142),nm=i(349969),nh=i(104740),nf=i(62612),ng=i(237202),n_=i(2590),nx=i(834956),ny=i(748636),nb=i(792958),nC=i(789979),nv=i(874933);let nE="hit-target-resize";function nT(e){let t=nm.hY[e.devicePresetIdentifier].inlinePreviewInfo?.hitTargetSvgUrl,[i,a]=r.useState(null);(0,r.useEffect)(()=>{fetch(t).then(e=>e.text()).then(e=>a(e)).catch(()=>console.warn("Failed to fetch hit target SVG. Falling back to rectangular resize boundary."))},[t]);let s=r.useMemo(()=>i?(0,tb.V)(i):null,[i]);return null!==s?(0,n.jsx)(nw,{...e,hitTargetSvg:s}):(0,n.jsx)(nC.K,{...e})}function nw({resizeTo:e,getCurrentContainerBounds:t,lockAspectRatio:i,isResizing:a,setIsResizing:s,onResizeEnd:o,setResizeDirections:l,devicePresetIdentifier:d,isDeviceRotatedCCW:c,hitTargetSvg:u,hidden:p,recordingKey:m}){let h=r.useCallback(()=>{let e=t(),i=(16/((c?e.bottom-e.top:e.right-e.left)/nm.hY[d].imageSize.x)).toFixed(2);document.querySelectorAll(`[id^=${nE}]`).forEach(e=>e.setAttribute("stroke-width",`${i}`))},[d,c,t]);(0,r.useEffect)(()=>{h()},[h]);let f=r.useCallback(()=>{h(),o?.()},[o,h]),{startResizing:g}=(0,nC.Q)({resizeTo:e,getCurrentContainerBounds:t,isResizing:a,setIsResizing:s,setResizeDirections:l,onResizeEnd:f,lockAspectRatio:i,hidden:p,recordingKey:m}),_=r.useRef(null),x=r.useRef(null),y=r.useMemo(()=>(0,nm.qt)(d)===nm.bq.WATCH,[d]),b=r.useCallback(e=>{let t=e.currentTarget.getBoundingClientRect(),i=e.clientX-t.left,n=e.clientY-t.top;return y?nS({x:i,y:n},t):nj({x:i,y:n},t)},[y]),C=ei.rf(m,"mousedown",r.useCallback(e=>{e.stopPropagation(),e.preventDefault(),g(b(e),{x:e.clientX,y:e.clientY})},[b,g]),{recordMetadata:e=>{let t=e.currentTarget;return{clientX:e.clientX,clientY:e.clientY,svgElementId:t.id}},playbackMetadata:e=>({currentTarget:document.querySelector(`#${e.svgElementId}`),clientX:e.clientX,clientY:e.clientY})}),v=ei.rf(ei.Pt(m,"deviceFrameResizeTarget"),"mousemove",r.useCallback(e=>{if(a)return ei.aH;e.stopPropagation(),e.preventDefault();let t=b(e),i=e.currentTarget;x.current&&i.classList.remove(x.current);let n=(0,nb.as)(t);n&&i.classList.add(n),x.current=n},[b,a]),{recordMetadata:e=>{let t=e.currentTarget;return{clientX:e.clientX,clientY:e.clientY,svgElementId:t.id}},playbackMetadata:e=>({currentTarget:document.querySelector(`#${e.svgElementId}`),clientX:e.clientX,clientY:e.clientY})}),E=r.useCallback(e=>{e.onmousemove=v,e.onmousedown=C},[C,v]);return((0,r.useEffect)(()=>{document.querySelectorAll(`[id^=${nE}]`).forEach(e=>E(e))},[d,E]),p)?null:c?(()=>{let e=nm.hY[d].imageSize,t=e.x/e.y;return(0,n.jsx)("div",{children:(0,n.jsx)(tb.B,{svg:u,svgClassName:ee()(nv.Q0,nv._d,nv.iZ),svgWidth:`${100*t}%`,ref:_,useOriginalSrcFills_DEPRECATED:!0})})})():(0,n.jsx)("div",{children:(0,n.jsx)(tb.B,{svg:u,svgClassName:nv.iZ,ref:_,useOriginalSrcFills_DEPRECATED:!0})})}let nj=(e,t)=>{let{x:i,y:n}=e,r=.1*Math.min(t.width,t.height),a=[];return n<r?a.push(nb.OP.TOP):n>t.height-r&&a.push(nb.OP.BOTTOM),i<r?a.push(nb.OP.LEFT):i>t.width-r&&a.push(nb.OP.RIGHT),a},nS=(e,t)=>{let{x:i,y:n}=e,r=.1*t.width;if(n<r)return[nb.OP.TOP];if(n>t.height-r)return[nb.OP.BOTTOM];if(i<r)return[nb.OP.LEFT];if(i>t.width-r)return[nb.OP.RIGHT];let a=[];return n<t.height/2?a.push(nb.OP.TOP):a.push(nb.OP.BOTTOM),i<t.width/2?a.push(nb.OP.LEFT):a.push(nb.OP.RIGHT),a};var nk=i(21029),nI=i(170018),nN=i(762998),nA=i(425489),nO=i(855699);let nL={x:600,y:600},nR="inlinePreviewModal",nM=()=>{let e=(0,nf.MG)({subscribeToUpdates_expensive:!0}),t=(0,nf.TZ)({subscribeToUpdates_expensive:!0});return(0,r.useMemo)(()=>new nu.Mi(e+i9.wR,t+i9.wR),[e,t])},nD=r.memo(function({pageId:e,viewerControl:t}){let[{previewKeyForErrorBoundary:i},r]=(0,g.fp)(t.stateAtom);return(0,n.jsx)(p.tH,{boundaryKey:"InlinePreviewModal",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{if((0,tm.sx)("inline_preview_crashed",{},{forwardToDatadog:!0}),r({type:"HANDLE_PREVIEW_CRASHED"}),(0,nc.Lg)()||(0,nc.nl)()||(0,nd.b5)())throw Error("Inline preview crashed")},children:(0,n.jsx)(nP,{pageId:e,viewerControl:t})},i)}),nP=r.memo(function({pageId:e,viewerControl:t}){let i=r.useRef(null),s=(0,T.tS)(),o=(0,r.useRef)(!1),[{currentPresentedNode:d,navigateBackwardEnabled:c,navigateForwardEnabled:p,modalStatus:m,sizeInfo:h,showDeviceFrameEnabled:f,scalingInfo:_},x]=(0,g.fp)(t.stateAtom),y=(0,a.wA)(),b=(0,tk.eY)(),C=(0,r.useMemo)(()=>m===nA.bi.OPEN,[m]),v=h?.initialViewerSize??nL,E=(0,u.ZC)(v),w=nM(),[j,S]=r.useState(w),[k,I]=r.useState(v.x),[N,A]=r.useState(v.y+nb.uF),O=no.UN().getCurrentPage()?.prototypeDevice||null,L=O?.presetIdentifier,R=!!L&&(0,nm.L_)(L),M=C&&R&&f,{showing:D}=(0,eD.BK)(t.overflowDropdownType),P=(0,nh.Z)(),F=(0,em.ut)(l.Ez5?.singleSlideView().isInFocusedNodeView,!1),[B,U]=r.useState(!1),G=r.useCallback(()=>{U(!0),iZ.Y5.triggerAction("inline-preview-iframe-focus-state-changed",{isFocused:!0})},[U]),H=(0,nk.sO)(),z=B||D?nO.cD:nO.Xt,V=r.useCallback(e=>{y((0,n_.Zh)({name:"prototype.close_inline_viewer",params:{source:e}})),x({type:"CLOSE_INLINE_PREVIEW"})},[y,x]),K=r.useCallback(()=>((0,eo.vA)(!!N),(0,eo.vA)(!!k),{x:k,y:N-nb.uF}),[N,k]),W=r.useCallback(e=>{I(e.x),A(e.y+nb.uF)},[I,A]),q=r.useCallback(()=>{let e=K();if(!M)return e;(0,eo.B1)(L,"devicePresetIdentifier must be set");let t=O.rotation,{framePresetSize:i,idealDeviceSize:n}=(0,nI.is)(L,t);return(0,nI.BX)(e,i,n)},[L,K,M,O?.rotation]);r.useEffect(()=>{o.current||S(w)},[w]),r.useEffect(()=>{x({type:"SET_CURRENT_VIEWER_SIZE_CALLBACK",payload:q})},[x,q]);let Y=r.useMemo(()=>h?.breakpoint?.type!==i9.l5.DEVICE,[h]),X=r.useCallback(e=>{if(!Y)return;let t=q();(0,eo.vA)(!!d,"currentPresentedNode must be set");let i=b.get(d);(0,eo.vA)(!!i,"expected selectedNode to exist");let n=(0,i9.HS)(b,i),r=(0,i9.hX)(t,i,n,b);(0,eo.vA)(r.breakpoint.type!==i9.l5.DEVICE,"fit to aspect ratio not allowed for device"),W(r.initialViewerSize),y((0,n_.Zh)({name:"prototype.resize_to_fit_aspect_ratio",params:{source:e}}))},[Y,q,d,b,W,y]),J=()=>{if(!d)return!1;let e=!1;if(M){let{idealDeviceSize:t}=(0,nI.is)(L,O.rotation);e=t.x>=i9.Fe&&t.y>=i9.Sq}else{let t=b.get(d);if(!t)return!1;let i=(0,i9.HS)(b,t),n=(0,i9.nw)(i,t);e=n.x>=i9.Fe&&n.y>=i9.Sq}return e},Z=r.useCallback(e=>{x({type:"SET_PREVIEW_IS_RESPONSIVE",payload:e})},[x]),Q=r.useCallback(()=>{x({type:"RESIZE_MODAL",payload:{sceneGraph:b}})},[x,b]),$=r.useCallback(e=>{if(e){let t=(0,nf.QZ)({nodeId:e,alwaysPan:!0,maxScale:.6});H?m===nA.bi.OPEN&&(P(t),F&&l.Ez5?.singleSlideView().focusNodeInFocusedNodeView(e,!0)):P(t)}},[P,H,F,m]);r.useEffect(()=>{x({type:"SET_SCROLL_CALLBACK",payload:$})},[x,$]);let ei=r.useCallback(e=>{W({x:e.x,y:e.y+(0,et.jz)(eL.m8f)})},[W]),en=r.useMemo(()=>{if(M&&nm.hY[L]?.inlinePreviewInfo?.hitTargetSvgUrl)return function(e){let t=O.rotation===l.xOL.CCW_90;return(0,n.jsx)(nT,{...e,mirrorResizeHorizontally:!1,devicePresetIdentifier:L,isDeviceRotatedCCW:t})}},[M,L,O?.rotation]),er=r.useCallback(e=>{(0,eo.vA)(h?.breakpoint.type===i9.l5.DEVICE,"device must be set to toggle device frame"),(0,eo.vA)(!!O,"prototypeDevice must be set to toggle device frame");let t=q();if(e){let e=O.presetIdentifier,{idealDeviceSize:i,framePresetSize:n}=(0,nI.is)(e,O.rotation);ei((0,nI.Ho)(t,n,i))}else W(t)},[h?.breakpoint.type,O,q,W,ei]);(0,eo.vA)(!C||null!==h,"sizeInfo should always be set when open"),r.useLayoutEffect(()=>{if(E!==v){if(M){let{idealDeviceSize:e,framePresetSize:t}=(0,nI.is)(L,O.rotation);ei((0,nI.Ho)(v,t,e))}else W(v)}},[v,E,L,M,O,ei,W]),r.useEffect(()=>{L&&(0,nm.L_)(L)&&(0,nm.Gn)(L)},[L]);let ea=r.useCallback(()=>{let e=K(),{width:t,height:i}=iZ.Y5.getViewportInfo(),n=e.x/t,r=e.y/i;y((0,n_.Zh)({name:"prototype.inline_preview_manually_resized",params:{isDeviceFrameShown:M,horizontalCoverage:n,verticalCoverage:r}}))},[y,K,M]),es=(0,r.useMemo)(()=>{let e={height:"100%"};return M?e:{...e,borderBottomLeftRadius:"var(--radius-small)",borderBottomRightRadius:"var(--radius-small)"}},[M]);if(m===nA.bi.NOT_LOADED)return null;let el=ee()(H?nO.CN:nO.aq,M?null:z),ed=ee()(M?[z,nv.k9]:null,{[nO.FO]:H}),{x:ec,y:eu}=(0,i9.ut)((0,no.UN)(),!0),ep=!C||!h?.initialViewerSize;return(0,n.jsx)(ny.od,{ResizeTargetComponent:en,allowPartialHeaderOnScreen:!0,allowResizeHeight:B&&!H,allowResizeWidth:B&&!H,alwaysEnsureHeaderModalOnScreen:!0,containerClassName:el,containerFillsPage:H,customButton:(0,n.jsx)(nF,{allowActualSizeReset:J(),allowSizeReset:Y,closeInlinePreview:V,iframeRef:i,isDeviceSupportedForPreview:R,isPreviewFittedToAspectRatio:()=>{if(!d||!Y)return!1;let e=b.get(d);if(!e)return!1;let t=q(),i=(0,i9.HS)(b,e),n=(0,i9.hX)(t,e,i,b),r=t.x/t.y,a=n.initialViewerSize.x/n.initialViewerSize.y;return(0,ng.o)(r,a)},isPreviewResponsive:"responsive"===_.contentScalingMode,isPreviewShownAtActualSize:()=>{if(!d||!i.current)return!1;let e=b.get(d);if(!e||!h?.breakpoint)return!1;let t=M?(0,nI.is)(L,O.rotation).framePresetSize:(0,i9.nw)(h.breakpoint,e),n=q();return(0,ng.o)(t.x,n.x,1e-4)&&(0,ng.o)(t.y,n.y,1e-4)},isPrototypeDeviceSet:!!O&&O.type!==l.XQq.NONE,onToggleShowDeviceFrame:er,openFileKey:s||void 0,resizeToActualSize:()=>{if(!J())return;(0,eo.vA)(!!d),(0,eo.vA)(!!h);let e=b.get(d);(0,eo.vA)(!!e),y((0,n_.Zh)({name:"prototype.resize_to_actual_size"}));let t=M?(0,nI.is)(L,O.rotation).idealDeviceSize:(0,i9.nw)(h.breakpoint,e),i=(e,t)=>{W(e),S(new nu.Mi(t.x,t.y))},n=K();(0,i9.UB)(t,y,()=>i(n,j)),W(t)},resizeToFitAspectRatio:()=>X("overflow_menu"),scrollToNode:$,setPreviewIsResponsive:Z,showFullscreenButton:H,showOverflow:!H,viewerControl:t,width:k}),disableDragging:H,dragHeaderOnly:!0,frameStyle:es,headerClassName:ed,height:N,hidden:ep,ignoreCloseShortcut:!C,lockAspectRatio:h?.breakpoint?.type===i9.l5.DEVICE,makeContentPixelPerfect:!0,minHeight:eu,minWidth:ec,onClose:()=>{V("modal")},onDragStart:()=>o.current=!0,onEdgeDoubleClick:()=>X("double_click"),onFocus:()=>{t.onFocus()||G()},onResize:Q,onResizeEnd:ea,position:j,preventKeyboardFocus:!0,recordingKey:nR,setHeight:A,setPosition:S,setWidth:I,tabIndex:0,title:(0,n.jsx)(nB,{navigateBackwardEnabled:c,navigateForwardEnabled:p,width:k,onBack:t.onBack,onForward:t.onForward,onRestart:t.onRestart}),transparentContentBackground:M,width:k,children:(()=>{let r=t.ViewerComponent;return(0,n.jsx)(nN.H,{initialViewerSize:v,isDeviceFrameShown:M,children:(0,n.jsx)(r,{ref:i,pageId:e,openFileKey:s||void 0,closeInlinePreview:V,isOpen:C,iframeFocused:B,setIframeFocused:U,onIframeFocus:G},e)})})()})});function nF({allowSizeReset:e,allowActualSizeReset:t,isPrototypeDeviceSet:i,isDeviceSupportedForPreview:s,openFileKey:o,resizeToFitAspectRatio:d,scrollToNode:c,showOverflow:u,showFullscreenButton:p,iframeRef:h,resizeToActualSize:f,isPreviewShownAtActualSize:_,setPreviewIsResponsive:x,isPreviewResponsive:y,closeInlinePreview:b,onToggleShowDeviceFrame:C,width:v,isPreviewFittedToAspectRatio:E,viewerControl:T}){let w=(0,a.wA)(),j=r.useRef(null),[{currentPresentedNode:S,targetFrameFollowingEnabled:k,showDeviceFrameEnabled:I},N]=(0,g.fp)(T.stateAtom),{showing:A,toggle:O}=(0,eD.BK)(T.overflowDropdownType),L=r.useCallback(()=>{if(!o)throw Error("Expected openFileKey to exist");if(!S)throw Error("openPrototypeInNewTab called without currentPresentedNode");w(np.F({fileKey:o,nodeId:S,startingPointNodeId:l.X3B?.getActivePrototypeStartingPointNodeIdOnCurrentPage()??"",source:"inline_viewer",scalingInfo:y?i?{contentScalingMode:"responsive",viewportScalingMode:"scale-down"}:{contentScalingMode:"responsive",viewportScalingMode:"contain"}:void 0})),b("open_in_new_tab")},[o,S,w,y,i,b]),R=r.useCallback(()=>{let e=!k;w((0,n_.Zh)({name:"prototype.toggle_follow_previewed_frame",params:{enabled:e}})),N({type:"TOGGLE_TARGET_FRAME_FOLLOWING"}),c(S)},[w,N,k,c,S]),M=r.useCallback(()=>{let e=!I;w((0,n_.Zh)({name:"prototype.toggle_show_device_frame",params:{enabled:e,location:"preview"}})),N({type:"TOGGLE_SHOW_DEVICE_FRAME"}),C(e)},[w,I,C,N]),D=r.useCallback(()=>{let r={displayText:(0,m.t)("inline_preview.overflow_menu.responsive"),name:"responsive",recordingKey:"responsiveButton",callback:()=>{x(!0)},isChecked:y,icon:(0,n.jsx)(ne.V,{}),unsetStrokeOnActiveOption:!0},a={displayText:s?(0,m.t)("inline_preview.overflow_menu.fixed"):(0,m.t)("inline_preview.overflow_menu.fit_width"),name:s?"fixed":"fit-width",isChecked:!y,recordingKey:"fixedButton",icon:s?(0,n.jsx)(nt.O,{}):(0,n.jsx)(ni.v,{}),callback:()=>{x(!1)},unsetStrokeOnActiveOption:!0},o={displayText:(0,m.t)("inline_preview.overflow_menu.follow_prototype"),name:"follow-active-frame",recordingKey:"followActiveFrame",callback:R,isChecked:k},l={displayText:s?(0,m.t)("inline_preview.overflow_menu.resize_device_100_percent"):(0,m.t)("inline_preview.overflow_menu.resize_window_100_percent"),name:"actual-size",recordingKey:"actualSizeButton",callback:f,disabled:!t,isChecked:_(),"data-onboarding-key":"resize-to-actual-size"},c={displayText:(0,m.t)("inline_preview.overflow_menu.reset_aspect_ratio"),name:"reset-size",recordingKey:"resetSizeButton",callback:d,isChecked:E(),disabled:!e,hidden:i},u={displayText:(0,m.t)("inline_preview.overflow_menu.show_device_frame"),name:"show-device-frame",recordingKey:"showDeviceFrame",callback:M,isChecked:I&&s,disabled:!s,hidden:!i};return[s?r:a,s?a:r,{separator:!0,displayText:""},o,l,c,u,{displayText:(0,m.t)("inline_preview.new_tab"),recordingKey:"openInNewTabButton",name:"open-in-new-tab",callback:L,hidden:v>i9.kl}]},[y,s,R,k,f,t,_,d,E,e,i,M,I,L,v,x]),P=r.useCallback(()=>{h.current&&h.current.requestFullscreen()},[h]);return(0,n.jsxs)(n.Fragment,{children:[u&&(0,n.jsx)("div",{ref:j,children:(0,n.jsx)(J.K,{"aria-label":(0,m.t)("inline_preview.overflow_menu"),htmlAttributes:{"data-tooltip-type":eU.Ib.TEXT,"data-tooltip":(0,m.t)("inline_preview.overflow_menu")},actionOnPointerDown:!0,onClick:e=>{e.stopPropagation(),O({})},recordingKey:(0,nl.Pt)(nR,"overflowMenuButton"),children:(0,n.jsx)(nn.A,{})})}),v>i9.kl&&(0,n.jsx)(J.K,{htmlAttributes:{"data-tooltip-type":eU.Ib.TEXT,"data-tooltip":(0,m.t)("inline_preview.new_tab"),"data-testid":"preview-open-in-presentation-view"},"aria-label":(0,m.t)("inline_preview.new_tab"),onClick:L,recordingKey:(0,nl.Pt)(nR,"openInNewTabButton"),children:(0,n.jsx)(nr.V,{})}),p&&(0,n.jsx)(J.K,{onClick:P,htmlAttributes:{"data-tooltip-type":eU.Ib.TEXT,"data-tooltip":(0,m.t)("inline_preview.open_fullscreen")},"aria-label":(0,m.t)("inline_preview.open_fullscreen"),children:(0,n.jsx)(td.O,{})}),A&&j.current&&(0,n.jsx)(nx.j,{dispatch:w,items:D(),lean:"center",onDismissMenu:T.onDismissOverflow,onDropdownHidden:T.onDismissOverflow,onFocus:e=>{e.stopPropagation()},onSelectItem:e=>{e.callback&&e.callback()},parentRect:j.current.getBoundingClientRect(),recordingKey:(0,nl.Pt)(nR,"overflowMenu"),showPoint:!0})]})}function nB({navigateForwardEnabled:e,navigateBackwardEnabled:t,onRestart:i,width:r,onBack:s,onForward:o}){let l=(0,a.wA)();return(0,n.jsxs)("div",{className:nO.KW,children:[r<=i9.Ah?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(J.K,{htmlAttributes:{"data-testid":"preview-navigate-backward"},"aria-label":(0,m.t)("viewer.footer.previous_frame"),onClick:s,disabled:!t,recordingKey:(0,nl.Pt)(nR,"navigateBackwardButton"),children:(0,n.jsx)(tt.C,{})}),(0,n.jsx)(J.K,{"aria-label":(0,m.t)("viewer.footer.next_frame"),onClick:o,disabled:!e,recordingKey:(0,nl.Pt)(nR,"navigateForwardButton"),htmlAttributes:{"data-testid":"preview-navigate-forward"},children:(0,n.jsx)(na.e,{})})]}),r<=i9.kl?null:(0,n.jsx)(J.K,{"aria-label":(0,m.t)("inline_preview.restart"),htmlAttributes:{"data-tooltip-type":eU.Ib.TEXT,"data-tooltip":(0,m.t)("inline_preview.restart"),"data-testid":"preview-restart-prototype"},onClick:()=>{l((0,n_.Zh)({name:"prototype.replay_clicked",params:{source:"inline viewer"}})),i()},recordingKey:(0,nl.Pt)(nR,"restartButton"),children:(0,n.jsx)(ns.H,{})})]})}var nU=i(707590);function nG(){let e=(0,a.d4)(e=>e.selectedView),t=(0,T.tS)(),i=(0,a.d4)(e=>e.progressBarState.mode),n=(0,a.d4)(e=>(0,iX.pi)({editorType:iJ.d1(e)?.editor_type})),o=i!==l.Oin.HIDE_UI&&i!==l.Oin.ON_AND_LOCKED,p=(0,T.q5)(),h=(0,nk.jY)(),f=(0,i2.BI)(),g=(0,em.ut)(l.Ez5?.interopToolMode(),l.nQ7.SELF);(0,r.useEffect)(()=>(document.body.setAttribute("data-editor-theme",(0,i6.ju)(e,g)),()=>{document.body.removeAttribute("data-editor-theme")}),[e,g]),(0,iY.Ou)(),(0,iY.fq)(),(0,iK._)(),(0,iW.c)(),(0,r.useEffect)(()=>{o&&t&&h&&iZ.Y5.onReady().then(()=>{d.k()?.fullscreen_send_client_rendered_message?l.h3O?.sendClientRendered(i0.xK.getClientRenderedMetadata()):l.h3O?.sendSignal("client-rendered",""),window.requestAnimationFrame(()=>{c.eD?.addTabAnalyticsMetadata({reactFullscreenViewRenderTime:window.performance.now()}),i0.xK.reactFullscreenViewIsRendered(),i0.xK.report(t,n),d.k()?.fullscreen_use_threaded_rendering||function(){let e=(0,i$.dX)("fullscreen");if(!e||l.PcT?.usingWebGPU())return;let t=(0,iQ.ap)()?e.getContext("webgl2"):e.getContext("webgl");if(!t||!window.expectedWebGLContextAttributes)return;let i=t.getContextAttributes();if(!i)return;let n=l.CeL?.getGpuDeviceInfo()??{vendor:"",renderer:"",version:""},r={};for(let e of Object.keys(i))r[`actual_${e}`]=i[e];let a={},s=!0;for(let e of Object.keys(window.expectedWebGLContextAttributes))i[e]!==window.expectedWebGLContextAttributes[e]&&(s=!1),a[`expected_${e}`]=window.expectedWebGLContextAttributes[e];let o={...r,...a,...n,are_context_attributes_correct:s};(0,tm.sx)("fullscreen_load_gpu_parameters",o)}()})})},[o,t,n,h]);let _=(0,a.d4)(e=>e.isFullscreenDocumentLoaded);(0,r.useEffect)(()=>{f?.handleCompleteInitialLoad&&_&&f.handleCompleteInitialLoad()},[f,_]);let[x,y]=(0,r.useState)(!1),b=(0,a.d4)(e=>e.mirror.appModel.isReadOnly);(0,r.useEffect)(()=>{f?.updateReadOnly&&_&&!x&&(y(!0),f.updateReadOnly(b))},[f,_,x,y,b]);let C=(0,u.ZC)(p),v=(0,a.d4)(e=>e.mirror.appModel.pagesList),E=(0,r.useMemo)(()=>v.map(e=>({id:e.nodeId,name:e.name,divider:e.isDivider})),[v]),w=(0,u.ZC)(E),j=(0,a.d4)(e=>e.mirror.appModel.currentPage),S=(0,u.ZC)(j);(0,r.useEffect)(()=>{f?.updatePages&&p&&(!C||p.key!==C.key||p.name!==C.name||p.editorType!==C.editorType||p.isTryFile!==C.isTryFile||!(0,s.c2)(E,w)||j!==S)&&f.updatePages({fileKey:p.key,fileName:p.name,editorType:p.editorType,isTryFile:p.isTryFile,pages:E.length>0?E:[{id:j,name:(0,m.t)("fullscreen.pages_panel.pages_placeholder"),divider:!1}],currentPageId:j})},[f,p,C,E,w,j,S]);let k=(0,i3.WC)();(0,r.useEffect)(()=>{f?.updateWebOverlaysShown&&f.updateWebOverlaysShown(k)},[f,k]);let I=(0,i4.o3)(i4.nt.customKeyboardShortcuts);(0,r.useEffect)(()=>{(0,d.k)().ce_custom_keyboard_shortcuts&&l.glU?.reloadKeyboardShortcuts()},[I]);let N=(0,a.d4)(e=>e.multiplayer.allUsers),A=(0,a.d4)(e=>e.multiplayer.observingSessionID),O=(0,a.d4)(e=>e.multiplayer.presenterSessionID),L=(0,a.d4)(e=>e.multiplayer.deviceNameFilter),R=(0,a.d4)(e=>e.multiplayer.sessionID),M=(0,r.useMemo)(()=>{let{users:e}=(0,i5.Yp)(N,null,!1,1048576,{sessionID:R,observingSessionID:A,presenterSessionID:O,deviceNameFilter:L});return{sessionID:R,observingSessionID:-1!==A?A:null,presenterSessionID:-1!==O&&O||null,users:e}},[N,L,A,O,R]),D=(0,u.ZC)(M);return(0,r.useEffect)(()=>{f?.updateMultiplayerUserInfo&&!(0,s.c2)(D,M)&&f.updateMultiplayerUserInfo(M)},[f,M,D]),(0,i7.iA)(),!function(e,t){let i=(0,z.U4)(),n=(0,z._I)(),a=(0,z.xo)(),s=(0,V.D)(),o=(0,W.U)("permission",!0),d=e&&!n&&!i&&!(0,K.T)();(0,r.useEffect)(()=>{t||(l.w3z.setCanAccessDevMode(n),l.w3z.setCanEnterDevMode(i),l.w3z.setShowWorkflowsControls(s),l.w3z.setIsUsingDevModeDemoFile(a))},[n,i,s,t,a]),(0,r.useEffect)(()=>{d&&o("design")},[o,d])}((0,iq.m0)(),(0,iq.ow)()),(0,i8.J2)(),null}function nH({children:e}){let t=(0,a.d4)(i9.xY),i=(0,a.d4)(e=>e.mirror.appModel.currentPage),r=(0,C.l7)(),s=(0,q.e)(),l=(0,C.ZO)(),d=(0,iq.Em)(),c=(0,iq.m0)(),u=(0,a.d4)(e=>e.isFullscreenDocumentLoaded);return(0,n.jsxs)(n.Fragment,{children:[e??null,(0,n.jsx)(nG,{}),t&&(0,n.jsx)(nD,{viewerControl:nU.e,pageId:i}),r&&(0,n.jsx)(p.tH,{boundaryKey:"DevModeOverview",fallback:p.H4.DEFAULT_FULL_PAGE,sentryTags:{area:o.e.DEVELOPER_TOOLS},hasCustomWASMBuild:i1.y4,children:(0,n.jsx)(iR,{})}),l&&(0,n.jsx)(p.tH,{boundaryKey:"ComponentBrowser",fallback:p.H4.DEFAULT_FULL_PAGE,sentryTags:{area:o.e.DEVELOPER_TOOLS},hasCustomWASMBuild:i1.y4,children:(0,n.jsx)(D,{})}),(0,n.jsx)(p.tH,{boundaryKey:"ComponentBrowser",fallback:p.H4.DEFAULT_FULL_PAGE,sentryTags:{area:o.e.DEVELOPER_TOOLS},hasCustomWASMBuild:i1.y4,children:(0,n.jsx)(P,{})}),s&&u&&(0,n.jsx)(p.tH,{boundaryKey:"DevModeVariablesTable",fallback:p.H4.DEFAULT_FULL_PAGE,sentryTags:{area:o.e.DEVELOPER_TOOLS},hasCustomWASMBuild:i1.y4,children:(0,n.jsx)(e1,{})}),(0,n.jsx)(p.tH,{boundaryKey:"McpUnmappedComponentsBanner",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:o.e.DEVELOPER_TOOLS},hasCustomWASMBuild:i1.y4,children:(d||c)&&(0,n.jsx)(H,{})})]})}},774045:(e,t,i)=>{i.d(t,{n:()=>r});var n=i(763686);let r=(0,i(27355).um)(!1,(e,t)=>{switch(t.type){case"ACTIVATE_AND_MAXIMIZE":return n.glU?.setActiveEmbed(t.payload.embedNodeID),!0;case"MINIMIZE":return!1;default:return e}})},59055:(e,t,i)=>{i.d(t,{G:()=>L,b:()=>O});var n=i(486106),r=i(7378),a=i(514228),s=i(437088),o=i(763686),l=i(871411),d=i(601108),c=i(27355),u=i(536384),p=i.n(u),m=i(916560),h=i(708845),f=i(303541),g=i(308685),_=i(731583),x=i(62612),y=i(84367),b=i(129884),C=i(102752),v=i(774045),E=i(565436),T=i(673591),w=i(144634),j=i(439493),S=i(480057);function k(){let e=(0,c.Xr)(v.n),t=r.useCallback(()=>{e({type:"MINIMIZE"})},[e]);return(0,d.k)().figjam_a11y_inline_toolbar?(0,n.jsx)(w.V,{variant:"button",tooltip:(0,f.t)("whiteboard.embeds.inline_menu.minimize"),ariaLabel:(0,f.t)("whiteboard.embeds.inline_menu.minimize"),onClick:t,recordingKey:"embedMinimizeControl",children:(0,n.jsx)(T.p,{})}):(0,n.jsx)(j.K0,{svg:S.A,active:"NONE",tooltip:(0,f.t)("whiteboard.embeds.inline_menu.minimize"),onClick:t,recordingKey:"embedMinimizeControl"})}var I=i(917051);function N(e){let t=e.mirror.sceneGraph,i=e.mirror.sceneGraphSelection;if(1!==Object.keys(i).length)return null;let n=t.get(Object.keys(i)[0]);return n&&"WIDGET"===n.type?n:null}function A(e){return e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode)}let O=r.memo(function(){let e=(0,a.d4)(A),t=e?.guid,[i,s]=r.useState(null),d=r.useMemo(()=>t&&t!==l.AD?o.glU.getEmbedTypeOfTooltipIcon(t):null,[t]);r.useEffect(()=>{if(!d||!t){s(null);return}let e=(0,_.EE)("embed-tooltip",[t],e=>{s(e?.position||null)});return s(e.currentNodePosition&&e.currentNodePosition[t]?.position||null),()=>{(0,_.lB)("embed-tooltip")}},[t,d]);let c=!!d&&!!i,u=(0,x._X)({subscribeToUpdates_expensive:c}),p=r.useMemo(()=>{if(!i)return{};let e=(0,x.Yb)(u,i),t=e.x+u.x,n=e.y+u.y;return{height:i.height,width:i.width,transformOrigin:"top left",position:"fixed",transform:`translate(${t}px, ${n}px) rotate(${i.angle}deg) scale(${u.zoomScale})`}},[u,i]);return c?(0,n.jsx)("div",{"data-tooltip-type":b.Ib.TEXT,"data-tooltip":"video"===d||"autoplayable_video"===d?(0,f.t)("whiteboard.embeds.tooltip_help_text.video"):"audio"===d||"autoplayable_audio"===d?(0,f.t)("whiteboard.embeds.tooltip_help_text.audio"):"file"===d||"figma"===d?(0,f.t)("whiteboard.embeds.tooltip_help_text.file"):(0,f.t)("whiteboard.embeds.tooltip_help_text.generic"),"data-tooltip-show-above":!0,"data-tooltip-max-width":160,"data-tooltip-timeout-delay":50,"data-tooltip-show-immediately":!0,style:p}):null}),L=r.memo(function(){let e=(0,y.J2)(o.Ez5.embedUiState().activeEmbedData),t=(0,a.d4)(e=>e.mirror.appModel.currentPage?e.mirror.appModel.currentPage:void 0),i=(0,a.d4)(N),r=(0,c.md)(v.n),s=!!e&&i?.guid===e.embedNodeId;return e&&e.embedNodeId&&e.embedThumbnailNodeId&&e.srcUrl&&e.containingCanvasId&&e.containingCanvasId===t?(0,d.k)().figjam_embeds_allowlist&&!(0,m.Cy)(e.srcUrl)?(console.error("Could not play embed; domain not on allow-list:",e.srcUrl),null):(0,n.jsx)(R,{isEmbedMaximized:r,nodeSelected:s,embedThumbnailNodeId:e.embedThumbnailNodeId,srcUrl:e.srcUrl}):null}),R=r.memo(function(e){let{embedThumbnailNodeId:t,nodeSelected:i,srcUrl:a,isEmbedMaximized:l}=e,d=r.useRef(null),u=r.useRef(null),p=r.useRef(null),m=r.useRef(null),f=(0,x._X)({subscribeToUpdates_expensive:!0}),g=function(e,t){let[i,n]=r.useState(!1),[a,s]=r.useState(!1);return r.useEffect(()=>{!e&&a&&s(!1)},[e,a]),r.useEffect(()=>{function e(e){if(t.current){let i=t.current.getBoundingClientRect();e.clientX>i.left&&e.clientX<i.right&&e.clientY>i.top&&e.clientY<i.bottom&&n(!0)}}function r(e){if(t.current&&i){n(!1);let i=t.current.getBoundingClientRect();e.clientX>i.left&&e.clientX<i.right&&e.clientY>i.top&&e.clientY<i.bottom&&s(!0)}}return document.addEventListener("pointerdown",e),document.addEventListener("pointerup",r),()=>{document.removeEventListener("pointerdown",e),document.removeEventListener("pointerup",r)}},[i,t]),a||!i&&e}(i,u),y=(0,c.Xr)(v.n),b=s.hS({open:l,onClose:()=>y({type:"MINIMIZE"})}),C=(0,h.Wx)(p.current);return r.useEffect(()=>{let e=(0,_.EE)("active-embed",[t],e=>{if(!e.position){o.glU.setActiveEmbed("");return}m.current=e.position,P(u,f,m,C,l,g)}),i=e.currentNodePosition[t]?.position;return i?(m.current=i,P(u,f,m,C,l,g)):o.glU.setActiveEmbed(""),()=>{(0,_.lB)("active-embed")}},[t,l,g,f,C]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:l?"embed_overlay--maximizedIframePositioner--BvF7x":void 0,ref:u,children:(0,n.jsx)(D,{ref:d,srcUrl:a,autofocus:g},t+a)}),l&&(0,n.jsx)(M,{manager:b,modalTargetRef:p})]})});function M(e){let{manager:t,modalTargetRef:i}=e;return(0,n.jsxs)(s.bL,{manager:t,theme:{backdrop:"embed_overlay--embedModalBackdrop--GznWd",contents:"embed_overlay--embedModal--NmRO5",root:"embed_overlay--embedModalRoot--YSySR"},children:[(0,n.jsx)("div",{className:"embed_overlay--embedModalMenuBackground--xwJaH",children:(0,n.jsx)("div",{className:"embed_overlay--embedModalMenuContainer--03E8r",children:(0,n.jsxs)(j.W1,{testID:"embedMenu",children:[(0,n.jsx)(I.e,{inModal:!0}),(0,n.jsx)(k,{}),(0,n.jsx)(j.wv,{}),(0,n.jsx)(E.S,{inModal:!0})]})})}),(0,n.jsx)("div",{className:"embed_overlay--embedModalContentContainer--jP-31",children:(0,n.jsx)("div",{ref:i,className:"embed_overlay--embedModalTarget--hxGi-"})})]})}let D=r.forwardRef(function(e,t){let i=(0,a.wA)(),[s,l]=r.useState(!1),d=r.useRef(null),{srcUrl:c,autofocus:u}=e;return(0,n.jsxs)("div",{className:"embed_overlay--loadingIFrameContainer--FIfGE",children:[!s&&(0,n.jsx)("div",{className:"embed_overlay--iframeLoadingPlaceholder--uAVFk"}),(0,n.jsx)("iframe",{ref:t||d,allowFullScreen:!0,className:p()("embed_overlay--iframe--FcmB0",{"embed_overlay--iframeHidden--xwbj9":!s}),"data-embed-iframe":!0,frameBorder:"0",onLoad:()=>{let e=t&&t.current||d.current;e&&u&&e.focus(),l(!0)},onMouseOver:()=>{o.h3O?.sendChatMessage("",""),i(g.Ho())},src:c,title:(0,f.t)("whiteboard.embeds.embed_overlay_iframe_title")},c)]})});function P(e,t,i,n,r,a){if(!e.current||!t||!i.current)return;let s=e.current,o=i.current;if(r){if(!n)return;s.style.position="fixed",s.style.height=`${n.height}px`,s.style.width=`${n.width}px`,s.style.pointerEvents="all",s.style.transform="unset",s.style.transformOrigin="unset"}else{let e=(0,x.Yb)(t,o);s.style.position="fixed",s.style.height=`${o.height}px`,s.style.width=`${o.width}px`,s.style.transform=`translate(${e.x+t.x}px, ${e.y+t.y}px) rotate(${o.angle}deg) scale(${t.zoomScale})`,s.style.transformOrigin="top left",a?s.style.pointerEvents="all":s.style.pointerEvents="none"}}(0,C.Ju)(R,"EmbedMaximizedModal")},126479:(e,t,i)=>{i.d(t,{u:()=>u});var n=i(486106),r=i(7378),a=i(976749),s=i(287316),o=i(453756),l=i(91620),d=i(459125),c=i(550089);function u(){let[e,t]=(0,s.H_)(),i=(0,o.L)()?d.OK:d.aT;return(!function({hasMobileNativeToolbarTopLevel:e,LazyWebToolbarComponent:t}){let i=(0,a.ow)(),n=r.useRef(!1);n.current||!i||e||(t.preload(),n.current=!0)}({hasMobileNativeToolbarTopLevel:e,LazyWebToolbarComponent:i}),(0,l._)())?(0,n.jsx)(c.d,{children:e?t&&(0,n.jsx)(s.vW,{}):(0,n.jsx)(i,{})}):null}},794676:(e,t,i)=>{i.d(t,{c:()=>t6});var n=i(486106);i(956512);var r=i(7378),a=i(514228),s=i(725962),o=i(158740),l=i(601108),d=i(657224),c=i(347146),u=i(814196),p=i(63728),m=i(778880);let h=new Set(["-","="]),f=new Set(["-","=","f","o","p","r","s"]);function g(e){if(!f.has(e.key))return;let t=m.Ay.mac?p.xH.META:p.xH.CONTROL;(0,p.vN)(e,t)?e.target instanceof Element&&e.target.matches(".cm-content")||e.preventDefault():h.has(e.key)&&(t|=p.xH.SHIFT,(0,p.vN)(e,t)&&e.preventDefault())}var _=i(103090),x=i(594947),y=i(582200),b=i(751457),C=i(473493),v=i(332085),E=i(91703),T=i(147952),w=i(568591),j=i(831799),S=i(808775),k=i(90566),I=i(449184),N=i(976749),A=i(314264),O=i(937941),L=i(936061),R=i(320282),M=i(504823);i(958735);var D=i(346794),P=i(915765),F=i(876459),B=i(944871),U=i(964786),G=i(844435),H=i(146161),z=i(790714);let V=(0,P.s)((e,t)=>{F.eD.updateFullscreenMenuState({pluginMenuData:e,widgetMenuData:t})},250);var K=i(298277),W=i(178752),q=i(516028),Y=i(845253),X=i(372672),J=i(615482),Z=i(763686),Q=i(475303),$=i(303541),ee=i(302958),et=i(26824),ei=i(985254),en=i(455680),er=i(781852),ea=i(395919);let es="keyboard-layout-preference",eo=(e,t,i)=>{t&&e(et.FU({tab:t})),i||en.Y5.triggerAction("toggle-keyboard-shortcuts")},el=(e,t,i,n)=>{e(ei.b({keyboard_manual_supported_bell:!0})),e(ee.F.enqueue({message:(0,$.t)("keyboard_settings.new_keyboard_name_keyboard_shortcuts_are_available",{newKeyboardName:(0,Q.As)(t)}),button:{text:(0,$.t)("keyboard_settings.update_keyboard_shortcuts"),action:()=>eo(e,"layout",n)},type:es,onDismiss:()=>{e(ei.b({keyboard_manual_supported_bell:!0}))},timeoutOverride:2e4})),(0,Q.CZ)({layout:i,detectedLayout:t,eventName:"manual_supported_keyboard_detected"})},ed=(e,t,i)=>{e(ei.b({keyboard_generic_supported_first_bell:!0})),e(ee.F.enqueue({message:(0,$.t)("keyboard_settings.new_keyboard_name_keyboard_shortcuts_are_now_available",{newKeyboardName:(0,Q.As)(t)}),button:{text:(0,$.t)("keyboard_settings.enable_and_show_new_shortcuts"),action:()=>{eo(e,"layout",i),(0,Q.rd)({layout:t})}},type:es,onDismiss:()=>{}})),(0,Q.CZ)({layout:Z.aTn.UNKNOWN,detectedLayout:t,eventName:"first_generic_detected_supported_keyboard"})};async function ec(e,t){if(!F.eD)return null;let i=await F.eD.getKeyboardLayout();if(!i)return null;if(t===i)return i;let n=(0,ea.pB)(i),r=(0,Q.v7)();return n===r||e(n,r,i,null!=t),i}async function eu(e,t){if(!window.isSecureContext||window.top!==window.self)return null;let i=navigator.keyboard;if(!i||!i.getLayoutMap)return null;let n=await i.getLayoutMap();if(function(e,t){for(let[i,n]of e)if(t?.get(i)!==n)return!1;return!0}(n,t))return t;let{layoutJSON:r,detectedLayoutsWeb:a}=(0,er.$$)(n),s=(0,er.ZN)({layoutJSON:r,detectedLayouts:a,desktopLayout:null}),o=(0,Q.v7)();return s===o||e(s,o,JSON.stringify(r),null!=t),n}var ep=i(766303),em=i(862913),eh=i(18797),ef=i(141508),eg=i(155728),e_=i(540025),ex=i(92359),ey=i(921418),eb=i(713695),eC=i(612938),ev=i(457074),eE=i(190980),eT=i(578011),ew=i(53721),ej=i(574958),eS=i(696396),ek=i(92291),eI=i(27355),eN=i(879378),eA=i.n(eN),eO=(e=>(e.NOT_INITIALIZED="not_initialized",e.ACTIVE_FIRST_TIME="active_first_time",e.ACTIVE_AFTER_IDLE="active_after_idle",e.IDLE_DUE_TO_INACTIVITY="idle_due_to_inactivity",e.IDLE_DUE_TO_TAB_SWITCH="idle_due_to_tab_switch",e))(eO||{}),eL=i(270322);let eR=(0,eI.eU)(eO.NOT_INITIALIZED),eM=(0,eL.bt)(e=>({state:e,fileKey:e.openFile?.key})),eD=[eO.ACTIVE_AFTER_IDLE,eO.ACTIVE_FIRST_TIME],eP=(0,eI.eU)(null,(e,t,i)=>{let{state:n,fileKey:r}=e(eM),a=e(eR);if((a&&eD.includes(a)?"start":"end")!=(i&&eD.includes(i)?"start":"end")){let e="";switch(i){case eO.ACTIVE_AFTER_IDLE:case eO.ACTIVE_FIRST_TIME:e="active";break;case eO.IDLE_DUE_TO_INACTIVITY:case eO.IDLE_DUE_TO_TAB_SWITCH:e="inactive";break;default:e="non-initialized"}(0,A.ds)("active_time_spent_event",r,n,{currentState:e,activeState:i},{forwardToDatadog:!0,batchRequest:!1})}t(eR,i)}),eF=["mousemove","mousedown","keydown","touchstart","touchmove","wheel"];var eB=i(288654),eU=i(43951),eG=i(193867),eH=i(12775),ez=i(333189),eV=i(521428),eK=i(536384),eW=i.n(eK),eq=i(922802),eY=i(589278),eX=i(444904),eJ=i(612521),eZ=i(194276),eQ=i(862321),e$=i(191560),e0=i(684425),e1=i(739314),e2=i(241150);function e3(e){let t=(0,a.wA)(),i=(0,a.d4)(e=>e.auth);return(0,r.useEffect)(()=>{t(eZ.Ts({origin:"request_permissions_entry",redirectUrl:eJ.Ay.location.pathname,formState:eQ.qB.ACCOUNT_PICKER,accountPickerData:e.accountPickerData}))},[t,e.accountPickerData]),(0,n.jsxs)(e0.u,{useOriginalSrcFills:!0,onBackClick:()=>{i.formState===eQ.qB.ACCOUNT_PICKER?e.closeAuth():t(eZ.Ts({origin:"request_permissions_entry",redirectUrl:eJ.Ay.location.pathname,formState:eQ.qB.ACCOUNT_PICKER,accountPickerData:e.accountPickerData}))},children:[(0,n.jsx)("div",{className:"request_permissions_app--authViewContainer--1XJOG",children:(0,n.jsx)(e$.Ob,{id:"request-permissions-app",modal:!0,auth:i})}),(0,n.jsx)(e2.d,{children:(0,n.jsx)(e1.Ji,{})})]})}function e5(e){let t=((0,a.d4)(e=>e.authedUsers)??{}).byId??{},i=e.authedUsers??Object.values(t),[s,o]=(0,r.useState)(!1);return(0,n.jsx)(eq.w,{children:s?(0,n.jsx)(e3,{accountPickerData:{authed_users:i,authed_user_access_reason:{},destination_name:(0,$.t)("mfa_required_modal.account_switcher.destination")},closeAuth:()=>{o(!1)}}):(0,n.jsx)(eX.H,{org:e.org,switchAccountsSection:(0,n.jsx)(function(){let e=(0,X.iZ)();return!e||F.eD?null:(0,n.jsx)("div",{className:eW()(eY.s.mt24.$,"mfa_required--secondaryText--eCIsl"),children:(0,$.tx)("mfa_required_modal.account_switcher.text",{userEmail:e.email,link:(0,n.jsx)(eV.$n,{variant:"link",onClick:()=>{o(!0)},children:(0,$.tx)("mfa_required_modal.account_switcher.switch_accounts")})})})},{}),fileKey:e.fileKey})})}var e4=i(453508),e6=i(39751),e7=i(668270),e8=i(156213),e9=i(107215),te=i(789),tt=i(609392),ti=i(868547),tn=i(301652),tr=i(749159),ta=i(443068),ts=i(866991),to=i(251970),tl=i(639088);function td(e){let{onDismiss:t}=e;return(0,n.jsx)(j.fu,{name:"Workshop Expired File Banner",children:(0,n.jsxs)("div",{className:`workshop_expiry_footer--banner--ELf7G ${tl.yl}`,children:[(0,n.jsxs)("div",{className:"workshop_expiry_footer--bannerContent--w2Lw1",children:[(0,n.jsx)("div",{className:"workshop_expiry_footer--icon--mM-A8",children:(0,n.jsx)(ts.C,{})}),(0,n.jsx)("div",{className:"workshop_expiry_footer--textContent--TN7cv",children:(0,n.jsx)("span",{className:"workshop_expiry_footer--title--cmlOu text--fontPos13Whyte--VhWqH text--_fontBaseWhyte--efAjI",children:(0,$.tx)("whiteboard.open_sessions.expiry_banner_title")})})]}),(0,n.jsx)(ta.K,{onClick:t,"aria-label":(0,$.t)("general.close"),children:(0,n.jsx)(to.A,{})})]})})}var tc=i(630744),tu=i(442916);function tp(e){let{onWorkshopExpired:t}=e;!function(){let e=(0,a.wA)(),t=(0,X.iZ)(),i=!t,n=(0,te.nF)(),s=n.enabled,o=n.enabled?n.id:null,l=(0,a.d4)(e=>e.mirror.appModel.multiplayerSessionState===Z.kul.JOINED),c=(0,a.d4)(e=>e.progressBarState.mode),u=q.q5()?.isTryFile,p=(0,tt.QL)("name");(0,r.useEffect)(()=>{i&&u&&o&&p&&l&&e((0,e9.cq)({name:p}))},[i,u,p,o,e,l]);let m=(0,r.useMemo)(()=>{if(!t||null==o)return!1;if(u)return!0;let e=(0,d.DN)();try{return e.get((0,tu.v6)(o)).includes(t.email)}catch(e){return!1}},[t,o,u]),h=t?.email;(0,r.useEffect)(()=>{h&&o&&u&&(0,tu.kO)(o,h)},[h,o,u]);let f=(0,q.MY)();(0,r.useEffect)(()=>{if(s&&!(0,ti.T)(c)&&"loaded"===f.status){let t=localStorage.getItem((0,tn.K)(o));i?t?(0,e9.QA)(t):e(e8.$O({type:tc.e})):f.data?.canEdit||m||e(e8.$O({type:tc.e}))}},[e,i,s,o,c,m,f]);let g=(0,q.q5)(),_=g?.key,x=g?.name;(0,r.useEffect)(()=>{if(s&&!(0,ti.T)(c)&&i&&u&&_&&x===(0,$.t)("fullscreen.fullscreen_view_selector.untitled")){let t=localStorage.getItem((0,tn.K)(o));t&&e(e7.S({userName:t,file_key:_}))}},[s,c,o,i,u,_,x,e])}();let{showEditFileFooter:i,dismissEditFileFooter:s}=function(e){let[t,i]=(0,r.useState)(!1),n=(0,a.wA)(),s=(0,X.iZ)(),o=(0,q.q5)(),l=o?.name,d=!s,{userCanEditFile:c}=(0,r.useMemo)(()=>d?{userCanEditFile:!1,userCanSeeEditButton:!1}:o?{userCanEditFile:o.canEdit}:{userCanEditFile:!1,userCanSeeEditButton:!1},[d,o]),u=(0,te.nF)(),p=u.enabled,m=(0,e6.ZC)(p),h=u.enabled?u.until.valueOf():null,f=(0,r.useRef)(null),g=(0,r.useCallback)(()=>{if(!d){Z.h3O?.reconnect(!1),c||i(!0);return}n(eZ.Ts({origin:"logged_out_footer",formState:eQ.qB.SIGN_UP,redirectUrl:eJ.Ay.location.pathname})),n(e8.to({type:tr.x,data:{headerText:(0,$.t)("whiteboard.open_sessions.expiry_modal_title",{file_name:l||""}),subtitle:(0,$.t)("whiteboard.open_sessions.expiry_modal_subtext"),disableHiding:!0}})),e()},[n,e,d,c,l]);return(0,r.useEffect)(()=>{if(p&&h){let e=Math.max(h-Date.now(),0);f.current=setTimeout(()=>{f.current=null,g()},e)}return()=>{f.current&&clearTimeout(f.current)}},[n,p,h,g]),(0,r.useEffect)(()=>{null!=m&&p!==m&&(p?Z.h3O?.reconnect(!1):(f.current&&clearTimeout(f.current),g()))},[n,p,m,g]),{showEditFileFooter:t,dismissEditFileFooter:(0,r.useCallback)(()=>{i(!1)},[])}}(t);return i?(0,n.jsx)(td,{onDismiss:s}):null}var tm=i(197286),th=i(211694),tf=i(14084),tg=i(930338),t_=i(644079),tx=i(840917),ty=i(722362),tb=i(546509),tC=i(357047),tv=i(700578),tE=i(419236),tT=i(901889),tw=i(124493),tj=i(186343),tS=i(587765),tk=i(121043),tI=i(992395),tN=i(913518),tA=i(91620),tO=i(400938),tL=i(683763),tR=i(1722),tM=i(287316),tD=i(21029),tP=i(164260),tF=i(347702),tB=i(208213),tU=i(501766),tG=i(126479),tH=i(991591),tz=i(49598),tV=i(378195),tK=i(913823),tW=i(933328),tq=i(276445),tY=i(115586),tX=i(527873),tJ=i(557318),tZ=i(109130),tQ=i(251115),t$=i(318590),t0=i(825876),t1=i(957070);let t2=r.memo(({children:e})=>{let t=(0,a.d4)(e=>e.openFile),i=t?t.key:"",s=t?.parentOrgId||"",o=(0,r.useRef)(null),d=(0,a.wA)(),c=(0,eI.md)(tq.h),u=(0,a.d4)(e=>e.openFile?.canEdit??!1),p=(0,ty.p8)("isReadOnly"),h=(0,Y.dq)(),f=(0,N.E3)(),g=(0,e6.ZC)(f);f!==g&&g&&d(E.PQ([])),(0,tQ.G_)(i,s),(0,tH.OQ)(i),(0,t$.y1)(i),(0,tZ.WR)(),tW.nz(),(0,tY.N)(),(0,t0.Ky)(),(0,r.useEffect)(()=>{let e=()=>{window.scrollTo({left:document.body.scrollLeft,top:document.body.scrollTop,behavior:"smooth"})};window.scrollTo(0,0),m.XN&&document.addEventListener("focusout",e),document.documentElement.classList.add(t1.FC),document.body.classList.add(t1.Wc),d(tV._J());let t=window.FigmaMobile;return t&&(t._get_memory_stats=()=>{let e=Z.P2e?.getImageMemory(),t=Z.P2e?.getHeapMemoryBreakdown();var i={coreJsBufferMemory:Z.hMR?.getJsBufferMemory()||0,coreLocalMaxUsedHeapMemory:Z.hMR?.getLocalMaxUsedHeapMemory()||0,coreMaxUsedHeapMemory:Z.hMR?.getMaxUsedHeapMemory()||0,coreTotalUsedHeapMemory:Z.hMR?.getTotalUsedHeapMemory()||0,fullscreenCompressedImages:e?.compressedImages??0,fullscreenUncompressedImagesArrayBuffers:e?.uncompressedArrayBuffer??0,fullscreenUncompressedImagesImageBitmap:e?.uncompressedImageBitmap??0};let n=Z.hMR?.getMemStatsSummary()??void 0;if(n){let e=r(t?.mem_pool_current)||0,i=r(t?.font_files_current)||0,a=r(t?.unique_paths_current)||0,s=r(t?.vector_networks_current)||0;n.application={memPool:{total:e},fontFiles:{total:i},uniquePaths:{total:a},vectorNetworks:{total:s}}}function r(e){return"number"==typeof e?e:parseInt(e)}return{metadata:JSON.parse(JSON.stringify(i)),reservedWasmMemory:(0,tX.le)()||0,rendererGpuMemory:r(Z.P2e?.getRendererGpuMemory())||0,rendererBreakdown:function(e){return{textures:r(e.textures),vertexBuffers:r(e.vertexBuffers),renderBuffers:r(e.renderBuffers),uniformBuffers:r(e.uniformBuffers)}}(Z.P2e?.getRendererMemoryBreakdown())??void 0,memStats:n}}),()=>{m.XN&&document.removeEventListener("focusout",e),document.body.classList.remove(t1.Wc),document.documentElement.classList.remove(t1.FC)}},[d]),(0,r.useEffect)(()=>{t&&!o.current&&(d(tW.Yx({})),t&&!p?t?.canEdit&&d(tz.rH({fileKey:t.key})):(0,l.k)().ce_new_missing_fonts_logging&&(0,tJ.DI)(),o.current=t)},[d,p,t]),(0,r.useEffect)(()=>{(0,t0.RS)(d,t?.key,h)},[d,h,t?.key,f]),(0,r.useEffect)(()=>{F.eD&&F.eD.setEditFilePermissions(u)},[u]);let _=(0,r.useRef)(null),x=(0,r.useRef)(null);return((0,r.useEffect)(()=>{t&&(null===_.current||!_.current)&&d((0,tK.x4)()),t&&_.current&&t.key!==_.current&&d((0,tK.x4)()),x.current&&f!==x.current&&d((0,tK.x4)()),x.current=f,_.current=t?.key},[d,t,f]),"ok"!==c)?null:(0,n.jsx)(n.Fragment,{children:e})});var t3=i(197432),t5=i(740163);let t4=()=>{"hidden"===document.visibilityState&&(d.x4?.clear(),ek.L.cleanupSession())};function t6({children:e,loadedCommentsProvider:t=!0}){let i=(0,a.wA)(),d=(0,q.q5)();(0,C.lF)(d?.key??""),eb.M4.Folder.useValue(d?.folderId);let p=(0,a.d4)(e=>e.selectedView.editorType),[h,f]=(0,r.useState)(!1),_=(0,o.DP)(),b=(0,tD.sO)(),w=(0,C.xo)(),j=(0,r.useCallback)(()=>{(0,t3.jS)(),f(!0)},[]),L=function({onCanvasExpired:e}){let t=(0,a.d4)(e=>(0,eG.U2)(e.selectedView)),i=(0,X.TA)(),n=(0,Y.dq)(),[s,o]=r.useState(!1),d=(0,eH.K)(),c=(0,eB.Rs)(eU.NSA,{fileKey:t??""},{enabled:!!t}),u="loaded"===c.status&&c.data.file?.canRead!==!0,p="loaded"===c.status&&c.data.file?.canRead===!0;return r.useLayoutEffect(()=>{d&&u&&(o(!0),e())},[d,u,e]),r.useEffect(()=>{d&&p&&I.az.trackDefinedEvent("mfa.file_access_without_restriction",{orgId:n??void 0,userId:i??void 0,fileKey:t??void 0})},[d,p,n,i,t]),!!(0,l.k)().mfa_for_guests&&s}({onCanvasExpired:j}),P=(0,a.d4)(e=>e.mergingStatus);(0,r.useEffect)(()=>{if((0,l.k)().ce_suppress_browser_keys)return document.addEventListener("keydown",g,!0),()=>void document.removeEventListener("keydown",g,!0)},[]),function(){let e=(0,r.useRef)(),t=(0,r.useRef)(),i=(0,a.wA)(),n=(0,a.d4)(e=>e.userFlags),s=(0,a.d4)(e=>!!e.user),o=function(e,t){let i=(0,a.d4)(e=>e.mirror.appModel.showKeyboardShortcuts),n=(0,a.d4)(e=>e.user?.created_at),s=(0,r.useMemo)(()=>{let e=new Date("2022-11-14").getTime();return null!=n&&new Date(n).getTime()>=e},[n]);return(0,r.useCallback)((n,r,a,o)=>{t.keyboard_user_first_detection||o||!s?n!==Z.aTn.US_QWERTY||o||r!==Z.aTn.UNKNOWN?n&&r!==Z.aTn.UNKNOWN?t.keyboard_manual_supported_bell||el(e,n,r,i):n&&r===Z.aTn.UNKNOWN?t.keyboard_generic_supported_first_bell||ed(e,n,i):(0,Q.CZ)({layout:r,detectedLayoutStr:a??void 0,eventName:"keyboard_change_no_bell"}):(0,Q.CZ)({layout:n,eventName:"ignore_us_qwerty"}):(e(ei.b({keyboard_user_first_detection:!0})),n&&((0,Q.rd)({layout:n}),(0,Q.CZ)({layout:n,eventName:"auto_set_new_user_layout"})))},[e,t,i,s])}(i,n),l=(0,r.useCallback)(async()=>{if(s){if(F.eD){let t=await ec(o,e.current??null);e.current=t}else{let e=await eu(o,t.current??null);t.current=e}}},[o,s]);(0,r.useEffect)(()=>{en.Y5.isReady()?l():en.Y5.onReady().then(()=>setTimeout(l,500))},[])}(),(0,W.XS)(),function(){let e=(0,a.Pj)(),t=(0,a.d4)(ep.d1),i=(0,a.d4)(ef.m0),n=(0,a.d4)(ef.No),s=(0,a.d4)(e=>e.library.publishedByLibraryKey),o=(0,q.q5)(),l=(0,a.d4)(e=>e.fileVersion),d=(0,a.d4)(e=>e.loadingState),c=(0,a.d4)(e=>e.library.local),u=(0,a.d4)(e=>e.library.assetsPanelSearch.shouldSearchDefaultLibraries),p=(0,em.ud)(),m=(0,a.d4)(e=>e.folders),h=(0,eg.l6)(),f=(0,eg.He)(),g=(0,a.d4)(e=>e.library.assetsPanelSearch.query),_=(0,a.d4)(e=>e.library.assetsPanelSearch.searchOptions),x=(0,eh.D2)(d,(0,ex.yD)(o?.key||"")),y=(0,e_.M)();(0,r.useEffect)(()=>{t&&ey.YG.sourcesDidChange()},[t,i,n,s,c,u,p,m]),(0,r.useEffect)(()=>{(0,ey.Wg)(e.getState(),{ignoreLoadingState:y})&&ey.YG.queryDidChange(e)},[e,g,y]),(0,r.useEffect)(()=>{(0,ey.Wg)(e.getState(),{ignoreLoadingState:y})&&ey.YG.searchOptionsDidChange(e)},[e,_,y]),(0,r.useEffect)(()=>{(0,ey.Wg)(e.getState(),{ignoreLoadingState:y})&&ey.YG.subscriptionsDidChange(e,h,f)},[e,x,h,f,o,l,d,y])}(),(0,u.ji)(),(0,z.gN)(),F.eD&&function(){let e=(0,G.x)(),t=(0,G.V2)(),i=(0,G.QZ)(),n=(0,a.d4)(e=>e.mirror.appModel.isReadOnly),s=(0,a.d4)(e=>e.openFile),o=(0,a.d4)(e=>e.localPlugins),l=(0,N.E3)(),d=(0,G.op)(),c=(0,a.d4)(e=>e.installedPluginVersions.plugins),u=(0,a.d4)(e=>e.mirror.selectedStyleProperties?.selectedWidgetInfo),p=(0,a.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),m=(0,a.d4)(e=>e.publishedPlugins),h=(0,a.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null),f=(0,G.Be)(),g=f.orgPlugins,_=f.orgWidgets,x=(0,H.h)("plugin"),y=(0,H.h)("widget"),b=(0,G.NU)(),C=(0,G.qr)(),v=(0,G.ZT)(),E=null!=(0,z.SH)();r.useEffect(()=>{let r={isReadOnly:n,userCanViewPlugins:e,openFile:s,publishedPlugins:m,localExtensions:o,allSavedPlugins:c,recentlyUsedPlugins:d,org:h,editorType:l,widgetSelectionInfo:u,hideRecentsHeader:!0,activeTextReviewPlugin:p,orgSavedPlugins:g,orgSavedWidgets:_,orgPrivatePlugins:x,orgPrivateWidgets:y,savedWidgetVersions:b,recentlyUsedWidgets:C,publishedWidgets:v,userCanViewWidgets:i,userCanRunExtensions:t};V(B.$0(r),U.wX(r))},[n,e,s,m,c,d,o,h,l,u,p,f,g,_,x,y,b,C,v,E,i,t])}(),(0,eC.x)(),function(){let e=(0,N.E3)(),t=(0,r.useCallback)(()=>{(0,I.sx)("display_redline",{source:"keyboard_shortcut",mode:e})},[e]),i=(0,k.A)(t,1e3,{leading:!0,trailing:!1}),n=(0,a.d4)(e=>e.usedKeyboardShortcuts["measure-to-selection"]||0),s=(0,r.useRef)(n);(0,r.useEffect)(()=>{s.current!==n&&(s.current=n,i())},[n,i])}(),function(){let e=(0,t5.dP)(),t=(0,t5.qw)(),i=(0,t5.UX)(),n=document.documentElement.style;(0,r.useLayoutEffect)(()=>{n.setProperty("--left-panel-width",`${e}px`),(0,l.k)().properties_panel_resize_lag_fix&&(n.setProperty("--properties-panel-width",`${t}px`),n.setProperty("--dev-handoff-panel-width",`${i}px`))},[e,t,i,n])}(),(0,x.I7)("exp_aa_test_fullscreen_view").getConfig(),function(){let e=(0,a.wA)(),t=(0,tA._)(),i=(0,tb.BI)(),[n,s]=(0,r.useState)(!1),o=(0,a.d4)(e=>e.multiplayer),l=(0,a.d4)(e=>e.mirror.appModel.multiplayerSessionState===Z.kul.JOINED);!function(){let e=(0,q.q5)(),t=window.FigmaMobile,i=(0,tj.rE)(),n=(0,tS.C3)(),s=(0,a.wA)(),o=(0,tT.am)(),l=n?(0,tE.oA)(n.pageNodeId):void 0;(0,r.useEffect)(()=>{t&&(t._select_page=async e=>{l===e&&s(tw.au({})),await (0,tv.UN)().setCurrentPageAsync(e)})},[s,t,l]),(0,r.useEffect)(()=>{t&&(t._rename_page=(t,i)=>{(0,tj.CQ)({openFile:e,pageId:t,newName:i,trackRenamePage:()=>o("page_commit_rename",{nodeId:t},{forwardToDatadog:!0})})})},[t,e,o]),(0,r.useEffect)(()=>{t&&(t._delete_page=e=>{en.Y5.triggerActionInUserEditScope("page-delete",{args:{nodeId:e}}),en.Y5.commit()})},[t]),(0,r.useEffect)(()=>{t&&(t._create_page=()=>{i(null)})},[t,i])}();let d=r.useCallback(t=>{Z.h3O?.observeUser(t),o&&o.observingSessionID!==t&&o.sessionID!==t&&e(ei.b({aware_of_observation_mode:!0}))},[o,e]);r.useEffect(()=>{t&&!n&&i?.shouldOptimizeForIpadApp&&l&&!Z.Ez5?.defaultToolIsHandSelect()&&(s(!0),en.Y5.triggerAction("set-tool-hand",null))},[t,i,n,s,l]);let c=(0,a.d4)(({mirror:{appModel:e}})=>e.showUi);r.useEffect(()=>{i?.updateUIVisible&&i.updateUIVisible(c)},[i,c]);let u=(0,tb.m0)();r.useEffect(()=>{u&&(u._try_to_flush_autosave=async()=>{let e=(0,tx.ZG)();if(e){let t=e.session();t&&await t.tryToFlushAutosave()}})},[u]);let p=(0,tk.Kd)();r.useEffect(()=>{i?.updateSaveStatus&&(p?l?i.updateSaveStatus(tL.a.SAVING):i.updateSaveStatus(tL.a.PAUSED):i.updateSaveStatus(tL.a.SAVED))},[i,p,l]);let m=(0,a.d4)(e=>(0,tC.Yh)(e.mirror.appModel,"undo")),h=(0,a.d4)(e=>(0,tC.Yh)(e.mirror.appModel,"redo"));r.useEffect(()=>{if(i?.updateUndoEnabled&&i.updateUndoEnabled(m),i?.updateRedoEnabled&&i.updateRedoEnabled(h),u){let t=t=>{e(ee.F.dequeue({matchType:"undo_redo_gesture"})),e(ee.F.enqueue({message:t,type:"undo_redo_gesture",timeoutOverride:750}))};u._trigger_undo=()=>{m&&(en.Y5.triggerActionInUserEditScope("undo"),t((0,$.t)("fullscreen_actions.undo")))},u._trigger_redo=()=>{h&&(en.Y5.triggerActionInUserEditScope("redo"),t((0,$.t)("fullscreen_actions.redo")))}}},[i,e,m,h,u]);let f=(0,tb.pt)();r.useEffect(()=>{f&&(f._set_ui_visibility=e=>{e!==c&&en.Y5.triggerAction("toggle-ui")})},[f,c]);let g=(0,t_.Yk)();r.useEffect(()=>{i?.updateDLTHeight&&i.updateDLTHeight(g)},[g,i]);let _=(0,ty.dH)(),x=(0,tM.pK)(_),y=(0,tb.Ef)(),b=(0,a.d4)(e=>e.mirror?.appModel.isReadOnly);r.useEffect(()=>{x&&!b&&(y?.nativeToolbarUpdateActiveTool?.(x),y?.nativeToolbarUpdateMultiselectActive?.("MULTISELECT"===x))},[y,x,b]);let[C,v]=r.useState("ERASER"),[E,T]=r.useState("PENCIL");r.useEffect(()=>{!b&&x&&(0,tM.S0)(x)&&x!==C&&(T(C),v(x))},[x,C,v,T,b]),r.useEffect(()=>{f&&(f._switch_to_eraser=function(){if(b)return{success:!1,error:tR.lj.READ_ONLY_FILE,currentTool:"NONE"};if("ERASER"!==C)return(0,tM.Jm)("set-tool-eraser"),{success:!0,error:null,currentTool:"ERASER"};{let e=tM.Jh.get(E);return e&&(0,tM.Jm)(e),{success:!0,error:null,currentTool:E}}},f._switch_to_previous_drawing_tool=function(){if(b)return{success:!1,error:tR.lj.READ_ONLY_FILE,currentTool:"NONE"};let e=tM.Jh.get(E);return e&&(0,tM.Jm)(e),{success:!0,error:null,currentTool:E}})},[b,x,E,C,f]),r.useEffect(()=>{u&&(u._observe_user=e=>{d(e)})},[u,d]),u&&(u._update_context_menu_visibility=e=>{Z.glU?.updateNativeContextMenuVisibility(e)},u._override_document_visibility_state=tO.R,u._set_allow_draw_with_touch=e=>{Z.glU?.setAllowDrawWithTouch(e)},u._unlock_all_objects=()=>{en.Y5.triggerActionInUserEditScope("unlock-all")},u._zoom_reset=()=>{en.Y5.triggerActionInUserEditScope("zoom-reset")},u._zoom_to_fit=()=>{en.Y5.triggerActionInUserEditScope("zoom-to-fit")},u._present=()=>{Z.h3O?.startPresenting()},u._find_in_file=()=>{en.Y5.triggerActionInUserEditScope("canvas-search")},u._copy=()=>{en.Y5.triggerActionInUserEditScope("copy")},u._cut=()=>{en.Y5.triggerActionInUserEditScope("cut")},u._paste=()=>{en.Y5.triggerActionInUserEditScope("paste")},u._add_media=e=>{let t=e.map(e=>{let{encoded_data:t,mime_type:i}=e;return new Blob([(0,tg.Vs)(t)],{type:i})}),i=en.Y5.fileArrayToString(t);Z.glU?.handleOpenFromJsonString(i,tR.wu.MOBILE_NATIVE_NAVBAR)},u._get_zoom_scale=()=>Z.glU?.getViewportZoomScale()??1),f&&(f._open_timer=()=>{eI.zl.set(tI.Qs,{type:"OPEN"}),(0,I.sx)(tN.Fn.OPEN,{source:tN.OO.IPAD_MENU})},f._close_timer=()=>{eI.zl.set(tI.Qs,{type:"CLOSE"})},f._activate_multiselect_mode=()=>{(0,tM.Jm)("set-tool-multiselect")},f._deactivate_multiselect_mode=()=>{(0,tM.Jm)("set-tool-default")})}(),(0,ev.a4)(),(0,c.fp)(),function(){let e=(0,a.wA)(),[t,i]=(0,th.Wz)("nux_seat_selection_show_confirmation",null);(0,r.useEffect)(()=>{t&&("autoApproved"in t&&"seatType"in t&&e(e8.to({type:tf.u,data:{...t}})),i(null))},[t,e,i])}(),(0,O.i)(),r.useEffect(()=>J.Bc,[]),(0,eT.DW)(),r.useEffect(()=>(p===ew.nT.Whiteboard&&m.Ay.isMeetDevice&&"undefined"!=typeof document&&document.addEventListener("visibilitychange",t4),()=>{document.removeEventListener("visibilitychange",t4)}),[p]);let K=(0,S.o)();r.useEffect(()=>{if(K)return i(T.HQ({storeInRecentsKey:K})),p===ew.nT.Whiteboard&&(i(T.gr({storeInRecentsKey:K})),i(T.vZ({storeInRecentsKey:K}))),p!==ew.nT.DevHandoff&&i(T.aF({storeInRecentsKey:K})),window.addEventListener("storage",e,!1),()=>{window.removeEventListener("storage",e,!1)};function e(e){switch(e.key){case eE.vY:case eE.S7:case eE.a7:i(T.HQ({storeInRecentsKey:K}));break;case eE.YN:case eE.xk:i(T.aF({storeInRecentsKey:K}));break;case eE.SO:i(T.gr({storeInRecentsKey:K}));break;case eE.JG:i(T.vZ({storeInRecentsKey:K}))}}},[i,p,K]);let et=(0,X.TA)();r.useEffect(()=>{et&&i(v.oQ())},[i,et]),r.useEffect(()=>{w&&(0,D.K7)()},[w]),function(){let e=(0,eI.Xr)(eP);(0,r.useEffect)(()=>{let t;let i=()=>{clearTimeout(t),t=setTimeout(()=>{e(eO.IDLE_DUE_TO_INACTIVITY)},6e4)},n=()=>{i(),e(eO.ACTIVE_AFTER_IDLE)},r=eA()(n,500,{trailing:!1,leading:!0}),a=()=>{try{"visible"===document.visibilityState?n():e(eO.IDLE_DUE_TO_TAB_SWITCH)}catch(e){throw console.error("Failed to update visibility state",e),e}};return e(eO.ACTIVE_FIRST_TIME),eF.forEach(e=>{document.addEventListener(e,r)}),document.addEventListener("visibilitychange",a),i(),()=>{eF.forEach(e=>{document.removeEventListener(e,r)}),document.removeEventListener("visibilitychange",a),clearTimeout(t)}},[e,6e4])}(),r.useEffect(()=>{let e=e=>{if(P===s.y.MERGING)return e.returnValue="A merge operation is in progress. Closing the window could result in data loss or corruption; please wait until the operation completes.",e.preventDefault(),i(E.sx({name:"Unload During Merge Warning Shown"})),!1},t=()=>{P===s.y.MERGING&&i(E.sx({name:"Page Closed During Merge"}))};return window.addEventListener("beforeunload",e),window.addEventListener("unload",t),()=>{window.removeEventListener("beforeunload",e),window.removeEventListener("unload",t)}},[P,i]);let er=(0,r.useRef)(!1);r.useEffect(()=>{d?.key&&!er.current&&(er.current=!0,R.y.startTimer(d.key,(0,ej.lM)()))},[d?.key]);let ea=(0,l.k)().figjam_toolbelt_in_page_view,es=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t7,{file:d,loadedCommentsProvider:t,onCanvasExpired:j,children:e}),!ea&&(0,n.jsx)(tG.u,{})]});return(0,n.jsx)(y.k,{name:"editor",alsoTrack:()=>({editorType:(0,ew.Bu)(p),productType:(0,A.Dc)(p),uiVersion:_.version,fileKey:d?.key||"",slideView:b?eI.zl.get(tP.v2)?"ssv":"grid":void 0}),trackImpressions:!1,children:(0,n.jsx)(M.wG,{children:(0,n.jsxs)(n.Fragment,{children:[!h&&es,!h&&(0,n.jsx)(tp,{onWorkshopExpired:j}),L&&(0,n.jsx)(t8,{file:d})]})})})}function t7({children:e,file:t,loadedCommentsProvider:i,onCanvasExpired:r}){let s=(0,a.d4)(e=>e.userStateLoaded),o=(0,a.d4)(e=>e.mirror.appModel.isInitialized),l=(0,_.R)(e=>e.comments),{anchorPositions:d,boundingBoxPositions:c,DEPRECATED_updateWatchedNodeIds:u,updateWatchedStablePaths:p}=(0,L.Cn)(),m=(0,L.e_)(),h=(0,X.TA)();(0,tm.ox)({file:t,onCanvasExpired:r});let f=function(){let{error:e}=(0,b.Hb)();return!!(e instanceof Error&&e.message.includes("Out of memory"))}(),g=(0,n.jsx)(tU.R,{children:(0,n.jsx)(tB.P,{children:(0,n.jsx)(b.tH,{boundaryKey:"InAppPage",fallback:f?(0,n.jsx)(e4.PG,{}):b.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:K.y4,children:(0,n.jsx)(t2,{children:e})})})});return(0,j.T8)(i?(0,n.jsx)(w.NX,{userId:h,file:t,orgId:t?.parentOrgId??null,activeId:l.activeThread?.id||null,anchorPositions:d,boundingBoxPositions:c,DEPRECATED_updateWatchedNodeIds:u,updateWatchedStablePaths:p,getPageIdsForNodes:m,children:g}):g,eS.e0.EDITOR,null!=t?(0,A.oP)(t):{},null!=t&&s&&o)}function t8({file:e}){let t=(0,Y.sZ)();return(0,a.d4)(e=>e.modalShown?.type===ez.M)||!t?null:(0,n.jsx)(e5,{org:t,fileKey:e?.key})}(0,tF.n)(()=>{})},943453:(e,t,i)=>{i.d(t,{sk:()=>sZ});var n=i(486106);i(956512);var r=i(7378),a=i(514228),s=i(934246),o=i(763686),l=i(601108),d=i(27355),c=i(103090),u=i(992467),p=i(288654),m=i(723791),h=i(253220),f=i(778880),g=i(751457),_=i(303541),x=i(302958),y=i(618433),b=i(383776),C=i(341198),v=i(88239),E=i(968727),T=i(124493),w=i(8833),j=i(455680),S=i(714362),k=i(149304),I=i(291892),N=i(629114),A=i(837840);class O{static getCanvasColorSpace(e={}){let t=(0,A.dX)("fullscreen"),i=t?.getContext(k.ap()?"webgl2":"webgl")?.drawingBufferColorSpace;if("srgb"===i);else if("display-p3"===i)return e.returnString?o.RYP[o.RYP.DISPLAY_P3]:o.RYP.DISPLAY_P3;return e.returnString?o.RYP[o.RYP.SRGB]:o.RYP.SRGB}static setCanvasColorSpace(e){let t=(0,A.dX)("fullscreen"),i=t?.getContext(k.ap()?"webgl2":"webgl");"drawingBufferColorSpace"in i&&(i.drawingBufferColorSpace=e)}static getDocumentColorProfile(e={}){if(void 0===o.H4l)throw Error("ColorManagementStateJs is not defined");return e.returnString?o.ywP[o.H4l.documentColorProfile().getCopy()]:o.H4l.documentColorProfile().getCopy()}static async debugImagesFromSelection(){async function e(e){for(let t of["image/png","image/jpeg","image/heic"])try{return await I.EC.decodeAsync(e,t,0,0,!0)}catch(e){}return null}let t=(0,N.D)();for(let i of t.currentPage.selection){for(let n=0;n<i.fills.length;n++){let r=i.fills[n];if("IMAGE"===r.type){let a=t.getImageByHash(r.imageHash);if(!a)continue;let s=await a.getBytesAsync(),l=await e(s);if(l){let e={id:i.id,type:"fill",index:n,imageHash:r.imageHash,colorProfile:o.RYP[l.colorProfile],bytes:s};(0,S.ED)("ColorManagementDebug","images",e,{logToConsole:o.NUh.ALWAYS})}}}for(let n=0;n<i.strokes.length;n++){let r=i.strokes[n];if("IMAGE"===r.type){let a=t.getImageByHash(r.imageHash);if(!a)continue;let s=await a.getBytesAsync(),l=await e(s);if(l){let e={id:i.id,type:"stroke",index:n,imageHash:r.imageHash,colorProfile:o.RYP[l.colorProfile],bytes:s};(0,S.ED)("ColorManagementDebug","images",e,{logToConsole:o.NUh.ALWAYS})}}}}}}function L(){return r.useEffect(()=>((0,l.k)().ee_color_management_debug&&(window.colorManagementDebug=O),()=>{"colorManagementDebug"in window&&delete window.colorManagementDebug}),[]),null}var R=i(858738),M=i(139113),D=i(372672),P=i(191312),F=i(43951),B=i(18797),U=i(84367),G=i(465071),H=i(167249),z=i(99656),V=i(545293),K=i(198599),W=i(827540),q=i(946805),Y=i(604494);function X(){let{Sprig:e}=(0,z.A)(),t=(0,d.md)(Y.Lk),i=(0,W.I)(),{loaded:n,query:a,sessionId:s}=function(){let[e,t]=(0,r.useState)(!1),{currentSearch:i}=(0,d.md)(K.WP),n=(0,d.md)(V.hO.currentSearchAtom),a=(0,d.md)(Y.dd);(0,r.useEffect)(()=>{let e=i?.result.status==="loaded",r=n?.result.status==="loaded";e&&r&&t(!0)},[i?.result.status,n?.result.status]);let s="";return i?.input.type==="input-text"&&(s=i.input.query),{loaded:e,query:s,sessionId:a}}(),o=(0,r.useRef)(null),c=(0,r.useRef)(!1),u=(0,r.useCallback)(()=>{o.current&&(clearTimeout(o.current),o.current=null)},[]),p=(0,r.useCallback)(()=>{e("track","quick_actions_assets_tab_search",{query:a,sessionId:s}),c.current=!0},[e,a,s]);return(0,r.useEffect)(()=>{if((0,l.k)().assets_tab_sprig_tracking&&!c.current)return t===q.Jc.ASSETS&&n&&(i?o.current=setTimeout(()=>{p()},3e4):(p(),u())),u},[t,u,n,i,p]),null}var J=i(53721),Z=i(357047),Q=i(995935),$=i(745256);function ee(){let e=(0,Q.X)();return(0,n.jsx)($.Y,{prioritizedBanners:e,location:"editor"})}var et=i(701353);let ei=r.memo(function(){return(0,l.k)().internal_only_debug_tools?(0,n.jsx)(er,{}):null});r.memo(function(){return(0,l.k)().internal_only_debug_tools?(0,n.jsx)(ea,{}):null});let en={loading:()=>null,error:function(){return r.useEffect(()=>{console.error("Failed to load FigmaScope")},[]),null}},er=et.A.createLazyComponent(()=>Promise.all([i.e(2274),i.e(895)]).then(i.bind(i,661721)).then(e=>e.EmbeddedFigmaScopeViewForEditorEnabled),{...en,componentName:"EmbeddedFigmaScopeViewForEditorEnabled"}),ea=et.A.createLazyComponent(()=>Promise.all([i.e(2274),i.e(895)]).then(i.bind(i,661721)).then(e=>e.EmbeddedFigmaScopeViewForViewerEnabled),{...en,componentName:"EmbeddedFigmaScopeViewForViewerEnabled"});var es=i(849666),eo=i(918756),el=i(536384),ed=i.n(el),ec=i(420927),eu=i(409121);function ep(){let e=Array.from((0,U.ut)(o.Ez5?.uiState().autoLayoutShortcutHints,new Map).values()),t=(0,d.md)(Y.Bu),i=eu.y.isApple(),r=e=>{switch(e){case o.oeV.IGNORE_AUTOLAYOUT:return{displayName:(0,_.t)("fullscreen.auto_layout_hints.ignore_auto_layout"),shortcutText:i?"\u2303 Ctrl":"S"};case o.oeV.PREVENT_NESTING:return{displayName:(0,_.t)("fullscreen.auto_layout_hints.prevent_nesting"),shortcutText:(0,_.t)("fullscreen.auto_layout_hints.space_key")};case o.oeV.FORCE_INSERTION:return{displayName:(0,_.t)("fullscreen.auto_layout_hints.force_insertion"),shortcutText:i?"\u2318":"Ctrl"}}},a=e=>e.isValid?e.isActive?"auto_layout_hints--activeShortcutWithTextContainer--dkT1S auto_layout_hints--shortcutWithTextContainer--uEquz":"auto_layout_hints--shortcutWithTextContainer--uEquz":"auto_layout_hints--invalidShortcutWithTextContainer--gvHLT auto_layout_hints--shortcutWithTextContainer--uEquz";return e?(0,n.jsx)("div",{className:ed()("auto_layout_hints--root--MJKU2",{"auto_layout_hints--rootAdjustedForQA--YZlbt":t}),children:(0,n.jsx)("div",{className:"auto_layout_hints--hintsBarContainer--3DyGD",children:e.sort((e,t)=>e.shortcut-t.shortcut).map((e,t)=>{let i=r(e.shortcut);return(0,n.jsxs)("div",{className:a(e),children:[(0,n.jsx)("div",{className:e.isActive&&e.isValid?"auto_layout_hints--activeShortcutContainer--bj0CD auto_layout_hints--shortcutContainer--mIecl":"auto_layout_hints--shortcutContainer--mIecl",children:i.shortcutText.length>0?(0,n.jsx)("div",{className:"auto_layout_hints--smallShortcutText--lHZ8Q",children:i.shortcutText}):(0,n.jsx)(ec.S,{shortcut:i.shortcutText})}),(0,n.jsx)("p",{children:i.displayName})]},t)})})}):null}let em={showNotificationSettings:!1,disableCommentsWhenHandToolEnabled:!1,repositionViewportOnCommentSelection:!1,orphanedBy:"deleted_pages",filterBy:"hidden_sections"},eh={showNotificationSettings:!1,disableCommentsWhenHandToolEnabled:!1,repositionViewportOnCommentSelection:!1,orphanedBy:"deleted_pages"};var ef=i(518538),eg=i(871411),e_=i(700578),ex=i(783094),ey=i(486658),eb=i(234821),eC=i(740163),ev=i(123443),eE=i(524655),eT=i(294349),ew=i(27776);let ej=(0,d.eU)(new Map),eS=(0,ex.jz)(ew.LdP);function ek({children:e}){let t=(0,U.ut)(o.Ez5?.cooperFocusView().isInFocusedNodeView,!1),i=(0,U.ut)(o.Ez5?.canvasGrid().canvasGridArray,[]),a=(0,eE.rY)(i),s=r.useMemo(()=>a.reduce((e,t,i)=>(e.set(t,i),e),new Map),[a]),l=function(){let e=(0,eb.wq)(),t=(0,d.Xr)(ej),[i,n]=r.useState(new Map),[a,s]=r.useState(new Map);return r.useEffect(()=>{let r=new Set,o=new Map;"loaded"===e.status&&e.data.forEach(e=>{let t=e.canvasPosition,i=a.get(e.id),n={commentCount:e.comments.filter(e=>!e.resolved_at).length,threadIds:[],hasUnread:e.comments.some(e=>!e.resolved_at&&e.isUnread)};o.set(e.id,n),t&&(!i||t.x!==i.x&&t.y!==i.y)&&r.add(e)}),r.forEach(e=>{let t=e.comments[0]?.client_meta?.node_id;if(!t||!e.canvasPosition)return;let i=(0,e_.UN)().get(t),r=i?.containingCooperFrameId()??eg.AD;r!==eg.AD&&e.canvasPosition&&(s(t=>new Map(t.set(e.id,e.canvasPosition))),n(t=>new Map(t.set(e.id,r))))});let l=new Map;i.forEach((e,t)=>{let i=o.get(t);if(!i)return;let{commentCount:n,hasUnread:r}=i,a=l.get(e),s={commentCount:(a?.commentCount??0)+n,threadIds:[...a?.threadIds??[],t],hasUnread:a?.hasUnread||r};l.set(e,s)}),t(l)},[t,a,i,e.data,e.status]),i}(),c=(0,eC.qw)(),u=r.useCallback(e=>{let t=l.get(e.id);if(t)return t;let i=e.comments[0]?.client_meta?.node_id;if(!i)return eg.AD;let n=(0,e_.UN)().get(i);return n?.containingCooperFrameId()??eg.AD},[l]),p=(0,eT.R)(),m=r.useMemo(()=>{let e=[ev.mW.RESOLVED,ev.mW.YOURS];return t&&e.push(ev.mW.CURRENT_ASSET),e},[t]),h=r.useMemo(()=>[ev.qN.CREATION_DATE,ev.qN.UNREAD,ev.qN.ASSET],[]),f=(0,ey.cm)(),g=r.useCallback(e=>{let t=u(e),i=s.get(t);return void 0!==i&&t!==eg.AD?(0,_.t)("comments.asset_number",{orderNum:i+1}):e.pageName},[u,s]),x=r.useMemo(()=>!!t,[t]),y=r.useCallback(e=>{if(!t)return()=>{};let i=u(e);return i!==eg.AD?()=>{f(i)}:()=>{o.Ez5?.cooperFocusView().exitFocusedNodeView()}},[u,f,t]),b=r.useMemo(()=>({[ev.qN.ASSET]:(e,t)=>{let i=1/0,n=u(e),r=u(t),a=s.get(n)??i,o=s.get(r)??i;return a!==o?a-o:Date.parse(t.comments[0].created_at)-Date.parse(e.comments[0].created_at)}}),[u,s]),C=r.useMemo(()=>{let e,t=0;return{maxHeightDelta:-(e=0+eS),minBottomMarginDelta:e,minLeftMarginDelta:0,minRightMarginDelta:t+=c}},[c,!0]),v=r.useMemo(()=>({paddingRight:c}),[c,!0]),E=r.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,disableZoomViewportOnCommentSelection:x,orphanedBy:"deleted_anchors",filterBy:"deleted_anchors",sidebarFilters:m,sidebarSorts:h,sidebarModesDisabled:!0,dockPositionAdjustment:p,getParentName:g,getOnCommentSelect:y,sortComparatorOverrides:b,commentPositionPaddingAdjustment:v,draggableModalBoundsAdjustment:C}),[x,m,h,p,g,y,b,v,C]);return(0,n.jsx)(ef.a.Provider,{value:E,children:e})}var eI=i(74165),eN=i(698287),eA=i(192333),eO=i(201703);function eL({children:e}){let t=(0,a.d4)(e=>e.universalInsertModal?.pinned===eA.t.PINNED_AND_DOCKED_LEFT),i=(0,eN.a)(),{isPropertiesPanelCollapsed:s}=(0,eI.iT)(),o=(0,eC.qw)();o=s?0:o;let l=r.useMemo(()=>[ev.mW.RESOLVED,ev.mW.YOURS,ev.mW.CURRENT_PAGE],[]),d=r.useMemo(()=>[ev.qN.CREATION_DATE,ev.qN.UNREAD],[]),{xDelta:c,yDelta:u}=(0,eT.R)(),p=r.useMemo(()=>{let e=(0,ex.hG)(ew.PXB),i=c;return t&&(i+=eO.AN+e),{xDelta:i,yDelta:u}},[t,u,c]),m=r.useMemo(()=>{let e=(0,ex.jz)(ew.LdP),t=0,n=0;return i&&(t+=e,n+=o),{maxHeightDelta:0,minBottomMarginDelta:t,minLeftMarginDelta:0,minRightMarginDelta:n}},[o,i]),h=r.useMemo(()=>{if(i)return{paddingRight:o}},[o,i]),f=r.useMemo(()=>({...eT.y,sidebarFilters:l,sidebarSorts:d,dockPositionAdjustment:p,draggableModalBoundsAdjustment:m,commentPositionPaddingAdjustment:h}),[l,d,h,p,m]);return(0,n.jsx)(ef.a.Provider,{value:f,children:e})}var eR=i(387100),eM=i(298911);let eD={isDevHandoff:!0};function eP({children:e}){let t=(0,eN.a)(),i=(0,v.hA)(),s=(0,a.d4)(e=>e.mirror.appModel.currentPage),o=r.useContext(eM.kw),{isPropertiesPanelCollapsed:l}=(0,eI.iT)(),d=(0,eC.UX)();d=l?0:d;let c=(0,ex.jz)(ew.ZB$),u=r.useMemo(()=>[ev.mW.RESOLVED,ev.mW.YOURS,ev.mW.CURRENT_PAGE],[]),p=r.useMemo(()=>[ev.qN.CREATION_DATE,ev.qN.UNREAD],[]),m=(0,eT.R)(),h=r.useMemo(()=>{let e=0,i=0;return t&&(e+=c,i+=d),{maxHeightDelta:0,minBottomMarginDelta:e,minLeftMarginDelta:0,minRightMarginDelta:i}},[c,d,t]),f=r.useMemo(()=>{if(t)return{paddingRight:d}},[d,t]),g=r.useCallback(e=>{if(!i)return!1;let t=e&&s?o.getCommentDestinationForCanvasPosition(e,s)?.nodeId:void 0;return!t||!(0,eR.rV)((0,e_.UN)(),i,t)},[s,o,i]),x=r.useMemo(()=>{let e={...eT.y,sidebarFilters:u,sidebarSorts:p,dockPositionAdjustment:m,draggableModalBoundsAdjustment:h,commentPositionPaddingAdjustment:f,linkGenerationParams:eD,isCommentingDisabledAtPosition:g,commentDisabledPositionBellMessage:(0,_.t)("dev_handoff.workflows.focus_view.comments")};return i&&(e.filterBy="non_dev_mode_focus"),e},[u,p,m,h,f,g,i]);return(0,n.jsx)(ef.a.Provider,{value:x,children:e})}var eF=i(191804),eB=i(168657),eU=i(955650),eG=i(80656);let eH={isFigJam:!0};function ez({children:e}){let t=(0,eU.Vi)(),i=r.useMemo(()=>[ev.mW.RESOLVED,ev.mW.YOURS],[]),a=r.useMemo(()=>[ev.qN.CREATION_DATE,ev.qN.UNREAD],[]),s=(0,eC.dP)(),o=(0,eT.R)({leftSidePanelWidth:s}),l=r.useMemo(()=>208,[]),d=r.useMemo(()=>{let e=new Map;return e.set(eB.b.DOCK_STYLE,"dock--dock--A6jIs"),e.set(eB.b.ATTACHMENT_MODAL_BACKGROUND_COLOR,(0,eF.Bx)("light")),e},[]),c=r.useMemo(()=>{let e;let i=(0,ex.jz)(ew.IuL),n=(0,ex.jz)(ew.rY4),r=0,a=0;return e=0-i,r+=i,t&&(a+=n),{maxHeightDelta:e,minBottomMarginDelta:r,minLeftMarginDelta:0,minRightMarginDelta:a}},[t]),u=r.useCallback(()=>{(0,eG.W)("left",()=>{})},[]),p=r.useMemo(()=>({showNotificationSettings:!0,disableCommentsWhenHandToolEnabled:!0,repositionViewportOnCommentSelection:!0,orphanedBy:"deleted_pages",filterBy:"hidden_sections",sidebarFilters:i,sidebarSorts:a,dockPositionAdjustment:o,draggableModalBoundsAdjustment:c,onDockSideEffect:u,sidebarBottomPaddingAdjustment:l,styleOverrideMap:d,linkGenerationParams:eH}),[o,c,u,l,i,a,d]);return(0,n.jsx)(ef.a.Provider,{value:p,children:e})}var eV=i(626378);function eK({children:e}){let t=(0,a.d4)(e=>e.selectedView.editorType),i=r.useMemo(()=>{if(window.FigmaMobile)return t===J.nT.Whiteboard?function({children:e}){return(0,n.jsx)(ef.a.Provider,{value:em,children:e})}:function({children:e}){return(0,n.jsx)(ef.a.Provider,{value:eh,children:e})};switch(t){case J.nT.Design:return eL;case J.nT.Whiteboard:return ez;case J.nT.Slides:return eV.Yz;case J.nT.DevHandoff:return eP;case J.nT.Cooper:return ek;default:return function({children:e}){return(0,n.jsx)(ef.a.Provider,{value:eT.y,children:e})}}},[t]);return(0,n.jsx)(i,{children:e})}var eW=i(911410),eq=i(272243),eY=i(270045),eX=i(909715),eJ=i(632989),eZ=i(521428),eQ=i(274480),e$=i(449184),e0=i(149328),e1=i(736624),e2=i(347284),e3=i(714743),e5=i(589278),e4=i(502364),e6=i(401069),e7=i(496937),e8=i(91703),e9=i(975811);let te=0;class tt{constructor(){this.work=()=>{let e=this.jobs.shift();if(e)try{let t=e.callback();e.resolve(t)}catch(t){e.reject(t)}},this.jobs=[]}isDone(){return 0===this.numJobs()}numJobs(){return this.jobs.length}cancelJobs(e){this.jobs=this.jobs.filter(t=>-1===e.indexOf(t.jobId))}queueJob(e){let t,i;let n=new Promise((e,n)=>{t=e,i=n}),r=++te;return this.jobs.push({jobId:r,resolve:t,reject:i,callback:e}),{promise:n,jobId:r}}}let ti={requestAnimationFrame:e=>requestAnimationFrame(e),computeElapsedTime:e=>{let t=Date.now();return e(),Date.now()-t}},tn=new class{constructor(e={}){this.tick=()=>{if(!this.isTickScheduled)throw Error("wat, how did tick() get called if we're not ticking?");let e=0,t=0;for(;t<this.msPerTick&&!this.queuedWorker.isDone();)t+=this.utils.computeElapsedTime(this.queuedWorker.work),e++;this.debug&&console.log(`did ${e} jobs in ${t} ms`),this.isTickScheduled=!1,this.queuedWorker.isDone()||this.requestTick()},this.requestTick=()=>{this.isTickScheduled||(this.isTickScheduled=!0,this.utils.requestAnimationFrame(this.tick))},this.numJobs=()=>this.queuedWorker.numJobs(),this.queueJob=e=>{let{promise:t,jobId:i}=this.queuedWorker.queueJob(e);return this.requestTick(),{promise:t,jobId:i}},this.queuedWorker=new tt,this.isTickScheduled=!1,this.msPerTick=e.msPerTick||6,this.utils=e.utils||ti,this.debug=!0===e.debug}cancelJobs(e){this.queuedWorker.cancelJobs(e)}}({debug:!1});var tr=i(51490),ta=i(504823),ts=i(397881),to=i(281495),tl=i(454974),td=i(624361),tc=i(216495),tu=i(619652),tp=i(516028),tm=i(12796),th=i(151766),tf=i(129884),tg=i(632248),t_=i(862289),tx=i(487011),ty=i(278499),tb=i(297822),tC=i(13082),tv=i(748636);let tE="export_picker--header--Wz6np",tT="export_picker--labelWithoutCheckbox--3zcNc export_picker--label--43URE";var tw=i(443105);let tj=(0,ex.hG)(ew.zK5);function tS(){let e=(0,tp.q5)(),t=(0,a.d4)(e=>e.exportableItems),i=(0,a.d4)(e=>e.dropdownShown),s=!!e&&(0,tm.Pe)(e),o=(0,e0.Av)(),d=(0,a.d4)(e=>e.saveAsState),c=(0,a.d4)(e=>e.mirror.appModel.currentPage),u=(0,a.wA)(),p=()=>{u(e8.XE())},m=new e1.Mi(window.innerWidth-tj,o+12);r.useEffect(()=>{u((0,ts.HR)())},[u]);let h=(0,n.jsx)("div",{className:"export_picker--exportModalContainer---vmI7",children:(0,n.jsx)(tN,{exports:t,isCopyExportRestricted:s,width:tj,dispatch:u,dropdownShown:i,saveAsState:d,currentPage:c})});return(0,l.k)().ce_tv_fpl_export_picker?(0,n.jsx)(eW.bL,{onClose:p,draggable:"header",defaultPosition:m,children:(0,n.jsxs)(eq.vo,{children:[(0,n.jsx)(eq.Y9,{children:(0,n.jsx)(eq.hE,{children:(0,_.t)("fullscreen.properties_panel.export")})}),(0,n.jsx)(eq.nB,{padding:0,children:h})]})}):(0,n.jsx)(tv.Ao,{title:(0,_.t)("fullscreen.properties_panel.export"),headerSize:"small",initialPosition:m,onClose:p,dragHeaderOnly:!0,headerClassName:"export_picker--modalHeader--f3fKx",children:h})}let tk=new e9.mz;function tI({nodeID:e,title:t,filename:i,exportSetting:a,colorProfile:s=o.RYP.SRGB,isBeingRenamed:l,...d}){let[c,u]=(0,r.useState)({size:"",warning:"",warningTooltip:""}),[p,m]=(0,r.useState)(""),h=(0,tl.A0)(o.uQ6.EXPORT_PICKER);(0,r.useEffect)(()=>{let n={guid:e,title:t,filename:i,exportSetting:a},r=o.glU.getExportWarningAndSize(n);if(r){let{size:e,warning:t,warningTooltip:i}=r;u({size:e,warning:t,warningTooltip:i})}else console.error("Failed to export",n);let l=!!a.contentsOnly,d=(0,tc.gl)(a)?s:(0,tr.A)([a],s),{jobId:c}=tn.queueJob(()=>{let t=tu._G(new e1.Mi(32,32),e,l),i="";t&&t.pixels&&t.pixelSize&&t.displaySize&&(i=tu.Pv(t.pixels,t.pixelSize,d)),m(i)});return()=>tn.cancelJobs([c])},[s,a,i,e,t]);let{onToggleChecked:f,isChecked:g,isDisabled:x}=d,{imageType:y}=a,b=d.warning??c.warning,C=d.warningTooltip??c.warningTooltip,v=(0,r.useId)(),E=`${v}-input`,T=`${v}-export-name`,w=`${v}-desc`,j=`${v}-title`;return(0,n.jsxs)("div",{className:"export_picker--row--lVRtp",children:[(0,n.jsx)(eY.h,{htmlFor:E,children:(0,_.t)("fullscreen.export.select_for_export")}),(0,n.jsx)(eX.W,{id:E,checked:g,onChange:f,disabled:x,"aria-describedby":`${T} ${w}`}),(0,n.jsx)(eJ.E,{className:"export_picker--thumbContainer--xwXyl",onClick:t=>{t.preventDefault(),o.glU?.panToNode(e,!1)},htmlAttributes:{"data-tooltip-type":tf.Ib.TEXT,"data-tooltip":i},"aria-label":(0,_.t)("fullscreen.export.view_selection_on_canvas"),"aria-describedby":j,children:!!p&&(0,n.jsx)("img",{src:p,className:"export_picker--thumb--pKbcx",alt:""})}),(0,n.jsx)("div",{id:T,className:"export_picker--label--43URE",children:(0,n.jsxs)("div",{className:"export_picker--nameInfo--03piR export_picker--twoRows--PAHTA",children:[(0,n.jsx)("div",{className:ed()("export_picker--name--HuhHU ellipsis--ellipsis--Tjyfa",{"export_picker--nameRenaming--jTYjh":h&&l}),id:j,children:t}),b&&(0,n.jsxs)("div",{className:"export_picker--warningRow--PMwtO",children:[(0,n.jsx)(e3.B,{className:"export_picker--warningIcon--fgSRz",svg:tw.A,"data-tooltip-type":tf.Ib.TEXT,"data-tooltip":C}),(0,n.jsx)("span",{className:"export_picker--warning--qpraF ellipsis--ellipsis--Tjyfa",children:b})]})]})}),(0,n.jsxs)("div",{className:"export_picker--settingsInfo--H9DJ1 export_picker--twoRows--PAHTA",id:w,children:[(0,n.jsxs)("div",{children:[tk.format(a.constraint)," ",y]}),(0,n.jsx)("div",{children:c.size})]})]})}class tN extends r.PureComponent{constructor(){super(...arguments),this.state={renamingLayersRunning:!1,downloadStarted:!1,exportingStarted:!1,exportingProgress:0,exportingTotal:0,exportingJobIds:[]},this.onCancel=()=>{this.props.dispatch(e8.XE())},this.autoRenameFrameAndFile=async e=>{if(0===e.length)return;this.setState({renamingLayersRunning:!0}),this.props.exports.items.forEach(t=>{e.includes(t.nodeID)&&(t.isBeingRenamed=!0)}),d.zl.set(tb.zF,(0,to.Tr)(o.uQ6.EXPORT_PICKER)),(0,t_.B3)(tg.JT.AUTO_RENAME_LAYERS),await (0,t_.Ag)(tg.JT.AUTO_RENAME_LAYERS,to.Ay,{source:o.uQ6.EXPORT_PICKER,overwriteNames:!1,customNodeSelection:e,ignoreDescendants:!0});let t=(0,t_.pP)(tg.JT.AUTO_RENAME_LAYERS).state;t===t_.qy.DONE?this.props.exports.items.forEach(t=>{if(!e.includes(t.nodeID))return;let i=e_.UN().get(t.nodeID)?.name;t.filename=t.filename.replace(t.title,i||t.title),t.title=i||t.title,t.isBeingRenamed=!1}):(t===t_.qy.ERROR||t===t_.qy.CANCELLED)&&this.props.exports.items.forEach(e=>{e.isBeingRenamed=!1}),this.setState({renamingLayersRunning:!1})},this.cancelAutoRename=()=>{let{aiTrackingContext:e}=(0,t_.pP)(tg.JT.AUTO_RENAME_LAYERS),t={...e,...(0,tx.LU)({shortcut:null,target:null}),interaction:ty.Ek.STOP};(0,t_.cT)(tg.JT.AUTO_RENAME_LAYERS),(0,tx.nP)(t)},this.onExport=e=>{if(this.props.isCopyExportRestricted||((0,e$.sx)("Export Picker Exported"),this.state.downloadStarted||this.state.exportingStarted||this.isExporting()||0===e.length))return;let t=[this.props.currentPage];td.xY.includeOutsideContents(e.map(e=>e.exportSetting))||(t=e.map(e=>e.nodeID)),this.setState({downloadStarted:!0}),(0,th.Dc)(th.hV.Export,this.props.saveAsState,this.props.dispatch,()=>{this.setState({exportingStarted:!0,downloadStarted:!1}),this.exportItemsWithFullscreen(e)},t,"export-picker")},this.exportItemsWithFullscreen=e=>{let t=e.map(e=>({guid:e.nodeID,title:e.title,filename:e.filename,exportSetting:e.exportSetting})),i=0;o.glU.clearExportedItems();let n=t.map(e=>tn.queueJob(()=>o.glU.exportItem(e))),r=n.map(e=>e.promise);r.forEach(e=>e.then(()=>this.setState({exportingProgress:++i}))),this.setState({exportingProgress:0,exportingTotal:t.length,exportingJobIds:n.map(e=>e.jobId)}),Promise.all(r).then(()=>{this.setState({exportingJobIds:[]}),o.glU.saveExportedItems(),this.props.dispatch(e8.XE()),this.props.dispatch(e6.rg()),(0,e4.YQ)({id:"export_completed",properties:{from:"export_picker"}})})},this.setAllChecked=e=>{this.props.exports.items.forEach((t,i)=>{this.props.dispatch(e7.G({itemID:t.itemID,checked:e}))})},this.setChecked=(e,t)=>{this.props.dispatch(e7.G({itemID:e.itemID,checked:t}))},this.isChecked=e=>this.props.exports.checked[e.itemID],this.renderRenameLayersButton=e=>{let{detectedUnnamedLayers:t,exceedingLayerLimit:i,renamableNodeGuids:r}=(0,tl.Mc)(e.map(e=>e.nodeID),!0),a=this.state.renamingLayersRunning?this.cancelAutoRename:()=>this.autoRenameFrameAndFile(r),s=!(t&&!i)||this.state.downloadStarted||this.state.exportingStarted;return(0,n.jsx)(eZ.Pw,{variant:"secondary",onClick:a,disabled:s,children:this.state.renamingLayersRunning?(0,_.tx)("fullscreen.export.cancel"):(0,n.jsxs)("div",{className:e5.s.flex.flexRow.justifyCenter.gap8.$,children:[(0,_.tx)("fullscreen.context_menu.auto_rename_layers"),(0,n.jsx)(tC.y,{helpUrlVariant:tg.JT.AUTO_RENAME_LAYERS})]})})}}isExporting(){return this.state.exportingJobIds&&this.state.exportingJobIds.length>0}componentWillUnmount(){this.isExporting()&&tn.cancelJobs(this.state.exportingJobIds)}getItemsToExport(){return this.props.exports.items?this.props.exports.items.filter(e=>this.isChecked(e)):[]}renderHeader(){if(this.isExporting())return(0,n.jsxs)("div",{className:tE,children:[(0,n.jsx)("label",{className:tT,children:(0,_.tx)("fullscreen.export.preparing_exporting_progress_of_exporting_total",{exportingProgress:this.state.exportingProgress,exportingTotal:this.state.exportingTotal})}),(0,n.jsx)(eZ.$n,{variant:"secondary",onClick:this.onCancel,children:(0,_.tx)("fullscreen.export.cancel")})]});if(this.state.exportingStarted||!this.props.saveAsState.startTime&&this.state.downloadStarted)return(0,n.jsx)("div",{className:tE,children:(0,n.jsx)("label",{className:tT,children:(0,_.tx)("fullscreen.export.exporting")})});if(this.state.downloadStarted){if(!(this.props.saveAsState.totalImagesToDownload>0))return(0,n.jsx)("div",{className:tE,children:(0,n.jsx)("label",{className:tT,children:(0,_.tx)("fullscreen.export.downloading")})});{let e=Math.min(this.props.saveAsState.totalImagesToDownload,this.props.saveAsState.totalImagesToDownload-this.props.saveAsState.remainingImagesToDownload);return(0,n.jsxs)("div",{className:tE,children:[(0,n.jsx)("label",{className:tT,children:(0,_.tx)("fullscreen.export.downloading_progress",{downloadingProgress:e,downloadingTotal:this.props.saveAsState.totalImagesToDownload})}),(0,n.jsx)(eZ.$n,{variant:"secondary",onClick:this.onCancel,children:(0,_.tx)("fullscreen.export.cancel")})]})}}{let e=this.props.exports.items||[],t=e.filter(this.isChecked).length,i=e.length,r=i===t;return(0,n.jsxs)("div",{className:tE,children:[(0,n.jsx)(eQ.S,{checked:r,mixed:!r&&t>0,onChange:()=>this.setAllChecked(!r),label:(0,n.jsx)(eY.J,{children:(0,_.tx)("fullscreen.export.num_selected_of_total_selected",{numSelected:t,total:i})})}),(0,n.jsx)("span",{className:"export_picker--flexRight--PFS7g",children:(0,n.jsx)(eZ.$n,{variant:"secondary",disabled:!t,onClick:()=>this.onExport(this.getItemsToExport()),autoFocus:!0,children:(0,_.tx)("fullscreen.export.export")})})]})}}render(){let e=this.props.exports.items&&this.props.exports.items.length>0,t=(0,tl.A0)(o.uQ6.EXPORT_PICKER);return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"export_picker--modal--FoIpV",children:[this.renderHeader(),(0,n.jsxs)(e2.P,{width:this.props.width,className:"export_picker--scrollContainer--F9sI6",children:[!e&&(0,n.jsx)("div",{className:"export_picker--emptyModal--x2aqt",children:(0,_.tx)("fullscreen.export.no_selected_layers_with_export")}),(0,n.jsx)(ta.ZH,{children:({documentExportColorProfile:i})=>e&&this.props.exports.items.map((e,r)=>(0,n.jsx)(tI,{colorProfile:i,isDisabled:this.isExporting(),isChecked:this.isChecked(e),onToggleChecked:()=>this.setChecked(e,!this.isChecked(e)),isBeingRenamed:t&&e.isBeingRenamed,...e},r))})]}),t&&(0,n.jsx)("div",{className:"export_picker--footer--a3gs1",children:this.renderRenameLayersButton(this.getItemsToExport())})]})})}}tN.displayName="ExportPicker";var tA=i(649519),tO=i(243058),tL=i(571209),tR=i(976749),tM=i(701001),tD=i(62612),tP=i(646357),tF=i(633080),tB=i(32128),tU=i(216057);let tG=(0,ex.jz)(ew.ZAq);function tH({subscribeToUpdates__EXPENSIVE:e}){let t=(0,tD._X)({subscribeToUpdates_expensive:e}),i=(0,tR.ow)(),n=(0,tB.Ye)(),a=(0,e0.Pg)(),s=(0,tM._o)(),{left:o,right:l}=(0,tL.LO)();return r.useCallback((e,r,d)=>{let c={top:s,left:n||i?0:o,right:t.x+t.width-(Math.max(i?0:l,d+12)+8),bottom:t.height-(a+tG+16)},u=12;e<c.left?u=c.left+12:e>c.right&&(u=-(d+4));let p=12;return r>c.bottom&&(p=Math.min(c.bottom+12-(r+8),-(a+24))),{x:u,y:p}},[i,t,n,a,s,o,l])}var tz=i(273493),tV=i(189185),tK=i(331642);let tW={type:"SOLID",opacity:1,visible:!0,blendMode:"NORMAL"};function tq({initialPosition:e,initialCreationColor:t,initialView:i,disableStyleModal:s,onClose:l}){let{VariableAndStyleCreateModalRoot:d}=r.useContext(tK.l)??{},c=(0,a.d4)(e=>e.pickerShown),u=(0,a.wA)();function p(){(e8.Ty(c?.id??null)||e8.kU(c?.id??null))&&u(e8.XE())}let m=r.useMemo(()=>({type:o.Z_n.COLOR,resolvedType:o.rXF.COLOR,value:t}),[t]);return e&&d?(0,n.jsx)(d,{disableStyleModal:s,inheritStyleKeyField:"inheritFillStyleKey",initialPosition:e,initialStyleCreationPaint:tW,initialVariableValue:m,initialView:i,onClose:l,onCreateStyle:function(e){tV.l7.system("create-new-style-from-eyedropper",()=>{o.OmW.applyPaint((0,tz.oU)(t),null,e.node_id),p()})},onCreateVariable:function(e){let i=Object.values(e.modeValues)?Object.values(e.modeValues)[0]:null,n=(0,tz.oU)(i?.type===o.Z_n.COLOR?i.value:t);o.OmW?.applyPaint(n,e.node_id,null),p()},resolvedType:o.rXF.COLOR,shouldUseEyedropperStyleCreationFlow:!0}):null}var tY=i(129695),tX=i(106549),tJ=i(657224),tZ=i(707331),tQ=i(876459),t$=i(623293),t0=i(806412),t1=i(576487),t2=i(655139),t3=i(101956),t5=i(826900);let t4=(0,d.eU)(!1);var t6=i(991227),t7=i(225412),t8=i(284426),t9=i(155647),ie=i(824449),it=i(944059),ii=i(728077),ir=i(581520);class ia extends r.Component{static getDerivedStateFromError(e){return{}}componentDidCatch(e,t){if((0,ii.isErrorCausedByWindowClose)(e))(0,S.xi)("FloatingWindowErrorBoundary","Ignoring IPC error",{error:e,errorInfo:t},{reportAsSentryError:!1});else throw e}render(){return this.props.children}}function is({children:e,initialWidth:t,initialHeight:i,initialMinHeight:n,initialExtraFeatures:a,onChangePosition:s,hidden:o}){if(!tQ.eD||!tQ.eD.isFloatingWindowAvailable())throw Error("DesktopFloatingWindow: rendered with unsupported desktop app version");let[l,d]=(0,r.useState)(null),c=(0,r.useRef)(l),u=(0,r.useRef)(t),p=(0,r.useRef)(i),m=(0,r.useRef)(n),h=(0,r.useRef)(a),f=(0,r.useRef)(s),g=(0,r.useRef)(null),_=(0,r.useCallback)(e=>{null!=g.current&&g.current.displayId!==e.displayId&&requestAnimationFrame(()=>{null!=c.current&&(0,ii.withFloatingWindowAPI)(c.current,e=>{e.readyToDisplay()})}),g.current=e,f.current?.(e)},[]),x=(0,r.useCallback)(()=>{let e=`width=${u.current},height=${p.current},floatingWindow=true`;null!=m.current&&(e+=`,minHeight=${m.current}`),null!=h.current&&(e+=`,${h.current}`);let t=window.open("about:blank","_blank",e);if(null==t)return(0,S.x1)("DesktopFloatingWindow","Unable to open floating window"),null;t.document.body.style.overflow="hidden",function(e){let t=0,i=()=>{(t-=1)<=0&&e.requestAnimationFrame(()=>{(0,ii.withFloatingWindowAPI)(e,e=>{e.readyToDisplay()})})};for(let t of(e.document.body.classList.add(ir.xE),document.body.attributes))t.name.startsWith("data-")&&e.document.body.setAttribute(t.name,t.value);for(let n of(e.document.body.style.colorScheme=document.body.style.colorScheme,document.querySelectorAll("link[rel=stylesheet], style"))){let r=n.cloneNode(!0);"LINK"===r.tagName&&(t+=1,r.addEventListener("load",i),r.addEventListener("error",i)),e.document.head.appendChild(r)}0===t&&i()}(t),(0,ii.withFloatingWindowAPI)(t,e=>{e.onChangePosition(_)}),d(t),c.current=t,t.addEventListener("close",()=>{d(null),c.current=null})},[_]),y=!!e;return((0,r.useEffect)(()=>{y?x():d(null)},[y,x]),(0,r.useEffect)(()=>{if(null!=l)return()=>{(0,ii.suppressingErrorsCausedByWindowClose)(()=>{l.close()})}},[l]),(0,r.useEffect)(()=>{null!=l&&(0,ii.withFloatingWindowAPI)(l,e=>{o?e.hideWindow():e.showWindow()})},[l,o]),null!=l)?it.createPortal(e,l.document.body):null}function io(e){return(0,n.jsx)(ia,{children:(0,n.jsx)(is,{...e})})}function il({children:e,loupeWidth:t,loupeHeight:i,panelWidth:a,panelHeight:s,hidden:d,onClick:c}){let u=!!(0,l.k)().desktop_floating_eyedropper_fake_cursor,p=(s+12+16)*2,m=(a+12+16)*2,[h,f]=(0,r.useState)(!1),[g,_]=(0,r.useState)(!1),[x,y]=(0,r.useState)(!0),[b,C]=(0,r.useState)(!1),v=h?16:16+a+24,E=g===x?16:16+s+24;x||(E=-E);let T=r.useRef(null),w=r.useRef(null),j=(0,r.useCallback)(e=>{it.flushSync(()=>{C(!0),e()}),T.current?.getBoundingClientRect(),it.flushSync(()=>{C(!1)})},[]),S=(0,r.useCallback)(e=>{let t=w.current;w.current=e;let i=t?.yZone===ii.FloatingWindowVerticalZone.NN||t?.yZone===ii.FloatingWindowVerticalZone.N,n=e.yZone===ii.FloatingWindowVerticalZone.NN||e.yZone===ii.FloatingWindowVerticalZone.N,r=()=>{y(!n),f(e.xZone===ii.FloatingWindowHorizontalZone.EE),_(e.yZone===ii.FloatingWindowVerticalZone.SS)};null!=t&&(i!==n||t.displayId!==e.displayId)?j(r):r()},[j]);return(0,t6.Gz)(u&&!d),(0,n.jsxs)(io,{initialWidth:m,initialHeight:p,initialMinHeight:s+16,initialExtraFeatures:(0,l.k)().desktop_global_eyedropper?`eyedropper=1,eyedropperWidth=${t},eyedropperHeight=${i}`:void 0,onChangePosition:S,hidden:d,children:[(0,n.jsx)("div",{onClick:c,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}}),u&&(0,n.jsx)("div",{style:{position:"absolute",left:m/2,bottom:p/2,transform:"translate(-50%, 50%)",pointerEvents:"none"},children:(0,n.jsx)(t6.fA,{currentToolForCursor:o.NLJ.DROPPER_COLOR})}),(0,n.jsx)("div",{ref:T,style:{position:"absolute",height:s,width:a,left:0,[x?"top":"bottom"]:0,transform:`translate(${v}px, ${E}px)`,transition:b?void 0:"transform 0.2s ease-in-out"},children:e})]})}var id=i(407919),ic=i(314264);let iu=document.createElement("canvas"),ip=iu.getContext("2d"),im=(e,t,i,n,r,a)=>{e.save();{let s=t/2;a?e.roundRect?e.roundRect(0,0,48,48,5):e.rect(0,0,48,48):e.arc(s,s,s-2,0,2*Math.PI,!1),e.clip();let{width:l,height:d,rgba:c,grid:u}=r;if(ip&&l&&d){let i=ip.createImageData(l,d,{colorSpace:r.colorProfile===o.RYP.DISPLAY_P3?"display-p3":"srgb"});i.data.set(c),iu.width=l,iu.height=d,ip.putImageData(i,0,0),e.imageSmoothingEnabled=!1,e.drawImage(iu,0,0,t,t)}if(u){e.beginPath();let r=a?1:0,s=a?-.5:.5;for(let a=1;a<n;a++)s+=i,e.moveTo(s,r),e.lineTo(s,t-r),e.moveTo(r,s),e.lineTo(t-r,s);e.strokeStyle=a?"rgba(0, 0, 0, 0.1)":"rgba(51, 51, 51, 0.2)",e.stroke()}}e.restore()},ih=(e,t,i,n)=>{n||(e.strokeStyle="white",e.strokeRect(t-i/2-.5,t-i/2-.5,i+2,i+2),e.strokeStyle="black",e.strokeRect(t-i/2+.5,t-i/2+.5,i,i))},ig=(e,t,i)=>{if(i){e.beginPath(),e.roundRect?e.roundRect(0,0,348,548,5):e.rect(0,0,348,548),e.strokeStyle="rgba(0, 0, 0, 0.1)",e.stroke();return}e.beginPath(),e.arc(t,t,t-1,0,2*Math.PI,!1),e.strokeStyle="white",e.stroke(),e.beginPath(),e.arc(t,t,t-2,0,2*Math.PI,!1),e.strokeStyle="black",e.stroke()};function i_(e,t,i){let n=i?7:17,r=i?7:10,a=i?48:n*r,s=e.getContext("2d");if(!s)return;let o=devicePixelRatio;e.width=a*o,e.height=a*o,s.scale(o,o),im(s,a,r,n,t,i),ih(s,a/2,r,i),ig(s,a/2,i)}let ix="eyedropper_v2--text--dOiTx",iy="eyedropper_v2--rowContents--dv3nr",ib="eyedropper_v2--chit--1D1ND";function iC({eyedropper:e,onOpenCreationModal:t}){let i,s;let c=function(){let e=(0,a.d4)(e=>e.eyedropper),t=(0,a.d4)(e=>e.library.local.styles),i=(0,d.md)(tU.Cg),n=(0,a.d4)(e=>e.library.used__LIVEGRAPH.styles);if(!e)return null;let r=e.assetId,s={},l=e.variableSetModeId;if(""===r)return null;let c=null,u=null;if(tO.PK.isValid(r)){if(c=tO.PK.toGuidStrIfLocal(r)){if(c in t){let e={style:t[c]};return s[c]=e,e}}else if(u=tO.PK.toRefIfSubscribed(r)){c=tO.PK.fromRef(u);let e=(0,tP.yh)(u.key,n,{}),t=null;return e&&(t={style:e},s[c]=t),t}}else if(tO.sD.isValid(r)){if((c=tO.sD.toString(r))in i){let e={variable:i[c],variableModeId:l};return s[c]=e,e}let e=o.CWU.getSubscribedVariableInfo(c);if(e){let t={variable:(0,tF.ZI)(e),variableModeId:l};return s[c]=t,t}}return c&&c in s?s[c]:null}(),u=(0,a.wA)(),p=function(){let e=o.Ez5?.uiState().backgroundPickerOpen.getCopy(),t=(0,a.d4)(e=>e.mirror.appModel.prototypeBackgroundPickerOpen),i=(0,a.d4)(e=>e.variablePickerShown.isShown),n=(0,a.d4)(e=>e.mirror.appModel.currentSelectedProperty),r=(0,a.d4)(e=>e.mirror.selectionProperties.numSelected);return e||t||i||n.type!==o.rrT.NONE||0!==r}(),m=(0,tR.E3)(),h=(0,ta.Ep)(),g=(0,d.md)(t3.wg),y=(0,d.md)(t4),b=function(){let e=(0,d.md)(tZ.U),[t,i]=r.useState(!0);return r.useEffect(()=>{let e=()=>{i(!0)},t=()=>{i(!1)};return document.addEventListener("mouseenter",e),document.addEventListener("mouseleave",t),()=>{document.removeEventListener("mouseenter",e),document.removeEventListener("mouseleave",t)}},[]),t?null:e}(),[C,v]=(0,tJ.Vc)("has_toggled_eyedropper_creation_mode",!1),[E,T]=r.useState(!1),[w,j]=r.useState(!1),S=r.useRef(null),k=r.useRef(null);r.useLayoutEffect(()=>{if(k.current){if(null!=b){let{width:t,height:i,rgba:n}=b,{grid:r}=e;i_(k.current,{width:t,height:i,rgba:n,grid:r,colorProfile:h},!0)}else{let{width:t,height:i,rgba:n,grid:r}=e;i_(k.current,{width:t,height:i,rgba:n,grid:r,colorProfile:h},!0)}}});let I=(0,t2.v4)(),N=(0,t9.Ig)(),A=(0,eC.Ku)(),O=function(){let e=(0,eC.Ku)();return r.useCallback(()=>{let t=Object.keys(o.NVY).length/2,i=(e+1)%(t-1),n=[o.NVY.CSS,o.NVY.UIColor];for(;n.includes(i);)i=(i+1)%(t-1);(0,eC.UK)().colorFormat.set(i)},[e])}(),L=tH({subscribeToUpdates__EXPENSIVE:y}),R=(0,eF.H0)(b?.color??e.color)??eF.UE,M=(0,eF.H0)(e.resolvedVariableColor)??eF.UE,D=m===J.nT.Whiteboard,P=m===J.nT.DevHandoff,F=c?.style?c.style:void 0,B=c?.variable?c.variable:void 0,U=!D&&!P,G=U&&e.dropperData.creationFlow!==o._4o.NONE&&!F&&!B,H=!g||P||!p&&!G,z=N(R,{eyedropperFormat:!0})||"",V="",K=[];F?(V=F.name,i=(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"eyedropper_v2--styleCircle--rLPqT"}),(0,n.jsx)(ie.zi,{dsStyle:F,disableOutline:!0,disableTooltip:!0})]}),s="eyedropper-v2-style",K=[{key:"modifier-1",label:"shift"}]):B?(V=P?(0,t2.xv)(B,I.id)??B.name:B.name,i=(0,n.jsx)(t7.J,{className:ib,color:M,hideBorderShadow:!0}),s="eyedropper-v2-variable",K=[{key:"modifier-1",label:"shift"}]):U&&C?(e.dropperData.creationFlow===o._4o.STYLES?(V=(0,_.t)("eyedropper.create_style"),i=(0,n.jsx)(tY.J,{}),s="eyedropper-v2-style-creation"):e.dropperData.creationFlow===o._4o.VARIABLES&&(V=(0,_.t)("eyedropper.create_variable"),i=(0,n.jsx)(tY.J,{}),s="eyedropper-v2-variable-creation"),K=[{key:"modifier-1",label:"shift"},{key:"modifier-2",label:f.Ay.mac?"\u2318":"ctrl",isMetaKey:f.Ay.mac}]):(V=H?(0,_.t)("eyedropper.click_to_copy"):(0,_.t)("eyedropper.click_to_sample"),i=(0,n.jsx)(tX.V,{}));let W=r.useCallback(()=>{if(!S.current)return null;t(R,e)},[t,R,e]),q=r.useCallback(()=>{if(!S.current||!H&&p)return!1;let t="",i="";return E&&(F?t="style name":B&&(t="variable name"),i=V),""===t&&(t=A===o.NVY.HEX?"hex":t8.F.format(A),i=z),(0,t$.Dk)(i),u(x.F.enqueue({message:(0,_.t)("visual_bell.copied_color_to_clipboard_figma_design",{colorType:t}),count:i,icon:t1.zX.EYEDROPPER})),!function(e,t,i,n,r){let a,s;let o=id.D.getState(),[l,d]=(a="raw",s=i,n&&"style name"===t?(a="style",s=n.node_id):r&&"variable name"===t&&(a="variable",s=r.node_id),[a,s]);(0,ic.ds)("eyedropper_copy",o.openFile?.key,o,{tracking_session_dropper_id:e,selection_type:l,copied_value:d,contains_style:!!n,contains_variable:!!r})}(e.dropperData.dropperId,t,i,F,B),!0},[A,u,e.dropperData,z,p,V,E,F,B,H]),Y=r.useCallback((e,t)=>{if(o.OmW?.toggleOffEyedropper(),G&&E){W();return}q()||tV.l7.system(e,()=>{o.OmW?.applyPaint(tz.oU(R),t?B?.node_id??null:null,t?F?.node_id??null:null)})},[q,G,R,W,E,F?.node_id,B?.node_id]),X=r.useCallback(()=>{Y("apply-global-eyedropper-with-click",!1)},[Y]),Z=t0.fo("stylesAndVariablesEyedropper","keydown",r.useCallback(e=>{let{event:t}=e,i=f.Ay.mac?t.metaKey:t.ctrlKey;"Tab"===t.key&&(O(),e.accept()),t.shiftKey&&(F||B||!i||v(!0),(G&&i||F||B)&&(T(!0),e.accept())),"Enter"===t.key&&S.current&&(Y("apply-eyedropper-with-keyboard",E),e.accept())},[Y,G,O,E,v,F,B])),Q=r.useCallback(e=>{let t=f.Ay.mac?e.metaKey:e.ctrlKey;(e.shiftKey||"Shift"!==e.key)&&(!G||t||"Meta"!==e.key)||T(!1)},[G]),$=r.useCallback(()=>{q()},[q]),ee=r.useCallback(e=>{G&&E&&W()},[G,E,W]),et=r.useCallback(()=>{j(!0)},[]);r.useEffect(()=>(window.addEventListener("keyup",Q),window.addEventListener("pointerup",$),window.addEventListener("mousedown",ee),window.addEventListener("mousemove",et,{once:!0}),()=>{window.removeEventListener("keyup",Q),window.removeEventListener("pointerup",$),window.removeEventListener("mousedown",ee),window.removeEventListener("mousemove",et)}));let ei=(0,l.k)().desktop_floating_eyedropper&&tQ.eD?.isFloatingWindowAvailable(),en=(0,ex.jz)(D?ew.tXK:ew.k22),er=(()=>{let t;if(!y&&!b)return null;if(!ei){let i=L(e.cursorPosition.x,e.cursorPosition.y,en);t={transform:`translate(${i.x}px, ${i.y}px)`}}return(0,n.jsxs)("div",{className:ed()("eyedropper_v2--eyedropperv2----W5m",w&&"eyedropper_v2--eyedropperv2Animation--AQ3Od"),style:t,ref:S,"data-testid":"eyedropper",children:[(0,n.jsx)("div",{className:"eyedropper_v2--loupeSamplingSquare--mt9xT"}),(0,n.jsx)("canvas",{ref:k}),!D&&(0,n.jsxs)("div",{children:[(0,n.jsx)(iv,{icon:(0,n.jsx)(t7.J,{className:ib,color:R,hideBorderShadow:!0}),text:z,keyBadges:[],isSelected:!E}),(0,n.jsx)(iv,{icon:i,text:V,keyBadges:K,isSelected:E,dataTestId:s})]})]})})();return(0,n.jsxs)(n.Fragment,{children:[null!=er&&(0,n.jsx)(t5.vL,{focusOnMount:!0,name:"stylesAndVariablesEyedropper",handleKeyDown:Z}),ei?(0,n.jsx)(il,{loupeHeight:e.height,loupeWidth:e.width,panelHeight:(0,ex.jz)(ew.ZAq),panelWidth:en,hidden:null==er,onClick:X,children:er}):null!=er&&(0,n.jsx)(t6.ix,{position:e.cursorPosition,currentToolForCursor:o.NLJ.DROPPER_COLOR,children:er})]})}function iv({icon:e,text:t,keyBadges:i,isSelected:r,dataTestId:a}){return(0,n.jsxs)("div",{className:ed()("eyedropper_v2--menuRow--IGEss",r&&"eyedropper_v2--selectedRow--GlyoK",w.Dm),"data-testid":a,children:[(0,n.jsxs)("div",{className:iy,children:[(0,n.jsx)("div",{className:"eyedropper_v2--iconContainer--TVZ5N",children:e}),(0,n.jsx)("div",{className:ed()("eyedropper_v2--menuOption--WK4oh",ix),children:t})]}),(0,n.jsx)("div",{className:iy,children:i&&i.map(e=>(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:ed()(ix,e.isMetaKey?"eyedropper_v2--keyMetaBadge--S1g3y eyedropper_v2--keyBadge--9GITk":"eyedropper_v2--keyTextBadge--ERRPy eyedropper_v2--keyBadge--9GITk"),children:(0,n.jsx)(ec.S,{shortcut:e.label})})},e.key))})]})}function iE(){let e=(0,a.d4)(e=>e.eyedropper),t=r.useRef(),i=tH({subscribeToUpdates__EXPENSIVE:!!e}),[s,l]=r.useState(!1),[d,c]=r.useState(null),[u,p]=r.useState("createVariable"),[m,h]=r.useState(!1),f=r.useCallback((e,n)=>{l(!0),c(e),p(n.dropperData.creationFlow===o._4o.STYLES?"createStyle":"createVariable"),h(n.dropperData.canAcceptStyles);let r=i(n.cursorPosition.x,n.cursorPosition.y,tA.i),a=new e1.Mi(r.x+n.cursorPosition.x,r.y+n.cursorPosition.y);t.current=a,o.OmW?.toggleOffEyedropper()},[i]),g=r.useCallback(()=>{l(!1)},[]),_=s&&d;return(0,n.jsxs)(n.Fragment,{children:[e&&(0,n.jsx)(iC,{eyedropper:e,onOpenCreationModal:f}),_&&(0,n.jsx)(tq,{initialPosition:t.current,initialCreationColor:d,initialView:u,disableStyleModal:!m,onClose:g})]})}var iT=i(747144),iw=i(320600);function ij({clientX:e,clientY:t,selectedView:i,deleteCollection:r,collectionId:s}){let o=(0,a.wA)(),d=(0,iT.ZX)(),{appModel:u,sceneGraph:p,sceneGraphSelection:m}=(0,c.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),h=[];return null!=r&&h.push({name:"dakota-delete-collection",callback:()=>{r()}}),(0,l.k)().dakota_import_export&&h.push({name:"dakota-export-collection-internal",callback:async()=>{let e=await d(s);e||o(x.F.enqueue({message:"Could not export collection to clipboard"})),navigator.clipboard.writeText(e??""),o(x.F.enqueue({message:"Collection exported to clipboard"}))}}),(0,n.jsx)("div",{className:w.Dm,children:(0,n.jsx)(iw.Q,{appModel:u,dispatch:o,menuItems:h,recordingKey:"dakotaCollectionContextMenu",removeDisabledItems:!0,sceneGraph:p,sceneGraphSelection:m,selectedView:i,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}function iS({clientX:e,clientY:t,selectedView:i,deleteField:r,duplicateField:s}){let o=(0,a.wA)(),{appModel:l,sceneGraph:d,sceneGraphSelection:u}=(0,c.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),p=[];return p.push({name:"dakota-duplicate-field",callback:s},{separator:!0},{name:"dakota-delete-field",callback:r}),(0,n.jsx)("div",{className:w.Dm,children:(0,n.jsx)(iw.Q,{appModel:l,dispatch:o,menuItems:p,recordingKey:"dakotaFieldContextMenu",removeDisabledItems:!0,sceneGraph:d,sceneGraphSelection:u,selectedView:i,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}function ik({clientX:e,clientY:t,selectedView:i,deleteItemOrItems:r}){let s=(0,a.wA)(),{appModel:o,sceneGraph:l,sceneGraphSelection:d}=(0,c.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),u=[];return u.push({name:"dakota-delete-item",callback:()=>{r()}}),(0,n.jsx)("div",{className:w.Dm,children:(0,n.jsx)(iw.Q,{appModel:o,dispatch:s,menuItems:u,recordingKey:"dakotaItemContextMenu",removeDisabledItems:!0,sceneGraph:l,sceneGraphSelection:d,selectedView:i,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}var iI=i(844435),iN=i(165054),iA=i(11);function iO(e){return{attachmentId:e.id,attachmentUploadedAt:e.uploadedAt.toString(),imageUrlPrefix:function(e){if(-1!==e.search("blob"))return"blob";let t=e.search("/images/");if(-1!==t)return e.substring(0,t)}(e.imageUrl)}}function iL(e){let t=(0,a.wA)(),i=(0,a.d4)(e=>e.mirror.appModel),r=e.clientX,s=e.clientY,o=async t=>{let i=await fetch(e.attachment.imageUrl,{mode:"cors"}),n=await i.blob();if(!t)return n;if("image/jpeg"===n.type||"image/gif"===n.type){let e=await createImageBitmap(n),t=document.createElement("canvas");t.width=e.width,t.height=e.height;let i=t.getContext("2d");return i?.drawImage(e,0,0),new Promise(e=>{t.toBlob(t=>{e(t)},"image/png")})}return n},l=[{name:"download-attachment",callback:async()=>{try{await o(!1).then(i=>{let n=URL.createObjectURL(i),r=document.createElement("a");r.href=n,r.download=(0,_.t)("comments.attachment_default_name",{fileExtension:i.type.split("/")[1]}),r.click(),URL.revokeObjectURL(n),(0,e$.sx)("Comment Attachment Download Success",iO(e.attachment)),t(x.F.enqueue({message:(0,_.t)("comments.download_attachment_success"),type:"attachment-download"}))})}catch(i){(0,e$.sx)("Comment Attachment Download Failure",iO(e.attachment)),(0,iA.$D)(iN.e.FEEDBACK,i),t(x.F.enqueue({message:(0,_.t)("comments.download_attachment_error"),type:"attachment-download",error:!0}))}}},{name:"copy-attachment",callback:async()=>{t(x.F.enqueue({message:(0,_.t)("comments.copying_attachment"),type:"copy-attachment",icon:t1.zX.SPINNER}));try{await o(!0).then(async i=>{let n=new ClipboardItem({[i.type]:i});await navigator.clipboard.write([n]).then(()=>{(0,e$.sx)("Comment Attachment Copy Success",iO(e.attachment)),t(x.F.enqueue({message:(0,_.t)("comments.copy_attachment_success"),type:"copy-attachment"}))})})}catch(i){(0,e$.sx)("Comment Attachment Copy Failure",iO(e.attachment)),(0,iA.$D)(iN.e.FEEDBACK,i),t(x.F.enqueue({message:(0,_.t)("comments.copy_attachment_error"),type:"copy-attachment",error:!0}))}}}];return(0,n.jsx)(iw.Q,{appModel:i,menuItems:l,targetRect:{width:10,height:10,left:r+100,top:s,right:r+110,bottom:s-10},showPoint:!1,selectedView:e.selectedView,recordingKey:"comment-context-menu",dispatch:t})}var iR=i(266815),iM=i(473493),iD=i(901889),iP=i(655700),iF=i(831799),iB=i(598018),iU=i(65327),iG=i(478146);function iH({children:e,entryPoint:t}){let i=(0,tp.tS)(),a=(0,D.iZ)(),s=(0,iB.ol)(),o=(0,iP.O)(),l=(0,iD.U)(),d=(0,iU.U)("upsell"),c=(0,r.useCallback)(()=>{l("Dev Mode Paywall clicked",{type:"Design Mode Upsell",entryPoint:t},{forwardToDatadog:!0}),d("handoff")},[t,d,l]);return(0,n.jsx)(iF.fu,{name:"Dev Mode Upsell In Design Mode",properties:{currentPlan:o,teamId:s?.id,userId:a?.id,fileKey:i,upsellSource:t},children:(0,n.jsxs)(eJ.E,{className:"context_menus_upsells--upsellItem--lBYll",onClick:c,children:[(0,n.jsx)(e3.B,{svg:iG.A}),(0,n.jsx)("span",{children:e})]})})}function iz(){return(0,n.jsx)(iH,{entryPoint:"design_section_status",children:(0,_.tx)("dev_handoff.paywall.ready_for_dev.upsell")})}function iV(){return(0,n.jsx)(iH,{entryPoint:"design_copy_as_code",children:(0,_.tx)("dev_handoff.paywall.codegen.upsell")})}function iK(){return(0,n.jsx)(iH,{entryPoint:"design_annotations",children:(0,_.tx)("dev_handoff.paywall.annotations.upsell")})}function iW({targetInViewport:e,annotationsCount:t,selectedView:i}){var r;let s=(0,a.wA)(),o=(0,a.d4)(e=>e.mirror.appModel),l=(0,a.d4)(e=>e.mirror.sceneGraph),d=(0,iU.U)("annotations_button"),c=(0,tD.ni)(),u=(0,iM._I)(),p=(0,iM.U4)(),m=(r=()=>d("handoff"),u?[{name:"view-annotations",callback:r,flags:["design"]},{separator:!0},{render:()=>(0,n.jsxs)("div",{className:e5.s.flex.itemsCenter.colorTextMenuSecondary.columnGap4.pl4.pb4.pr10.pt0.$,children:[(0,n.jsx)(tX.V,{style:{"--color-icon":"var(--color-text-menu-secondary)"}}),(0,_.tx)("dev_handoff.paywall.annotations.double_click_hint")]}),optionHeight:32}]:p?[{header:!0,name:(0,_.t)("dev_handoff.annotation.number_annotations",{count:t})},{separator:!0},{render:()=>(0,n.jsx)(iK,{}),optionHeight:32,flags:["design"]}]:[{header:!0,name:(0,_.t)("dev_handoff.annotation.number_annotations",{count:t})}]),h=e.origin.x+c.x,f=e.origin.y+c.y,g={left:h,top:f,right:h+e.size.x,bottom:f+e.size.y,width:e.size.x,height:e.size.y};return(0,n.jsx)("div",{className:w.Dm,children:(0,n.jsx)(iw.Q,{allowDisabledOnly:!p,appModel:o,dispatch:s,menuItems:m,minWidth:50,recordingKey:"annotationsButtonMenu",removeDisabledItems:p,sceneGraph:l,selectedView:i,showPoint:!0,targetRect:g})})}var iq=i(770088),iY=i(193867),iX=i(380385);function iJ(e){let t=(0,a.wA)(),i=(0,eb.I_)(),r=(0,a.d4)(e=>e.mirror.appModel);if(!(0,a.d4)(e=>(0,iY.U2)(e.selectedView)))return null;let{thread:s}=e,o=!!s.comments.find(e=>e.isUnread),l=!!s.isPendingFromSinatra,d=null,c=i.commentReceipts;c&&(d=o?{name:"mark-as-read",callback:()=>{t(iq.AY({receiptsAPI:c,thread:s}))}}:{name:"mark-as-unread",callback:()=>{t(iq.QY({receiptsAPI:c,comment:s.comments[0]}))}});let u=[];l||((0,iX.m)(s.sidebarItemType)?u.push({name:"resolve",callback:()=>{t(iq.hx({thread:s,resolved:!0}))},disabled:null!=s.commentPin},d,{name:"copy-link",callback:()=>{e.copyLink(s.comments[0])}},{separator:!0}):u.push({name:"copy-link",callback:()=>{e.copyLink(s.comments[0])}},{separator:!0})),u.push({action:"toggle-show-comments",displayText:(0,_.t)("fullscreen.context_menu.hide_comments")});let p=u.filter(e=>e).map(e=>e),m={width:224,height:129,left:e.pinClientRect.x,top:e.pinClientRect.y,right:e.pinClientRect.x+e.pinClientRect.width,bottom:e.pinClientRect.y+e.pinClientRect.height};return(0,n.jsx)(iw.Q,{appModel:r,menuItems:p,targetRect:m,showPoint:!1,selectedView:e.selectedView,recordingKey:"comment-context-menu",dispatch:t})}var iZ=i(656233),iQ=i(912236),i$=i(716947),i0=i(651849),i1=i(920142),i2=i(761118),i3=i(827216),i5=i(910117),i4=i(828186),i6=i(92845),i7=i(241707),i8=i(443991),i9=i(559491),ne=i(339971),nt=i(887579);async function ni({paint:e,fileKey:t,dispatch:i}){if(!t||"VIDEO"!==e.type||!e.video||!e.video?.hash)return nr("Incorrect asset type"),null;i(ne.n.set({message:(0,_.t)("whiteboard.figjam_export.exporting"),showLoadingSpinner:!0,callback:()=>{}}));let n=await (0,nt.w6)({paint:e,fileKey:t});if(null===n)return nr("Error getting download url for asset"),null;nn(n)}let nn=e=>{let t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t)},nr=e=>{(0,iA.$D)(iN.e.FIGJAM,Error(`Error exporting video: ${e}`))};var na=i(78808),ns=i(308685),no=i(235299),nl=i(847915),nd=i(767716),nc=i(482208),nu=i(944871),np=i(964786),nm=i(146161),nh=i(622574),nf=i(364377),ng=i(740025),n_=i(751727),nx=i(862913),ny=i(671547),nb=i(274217);function nC(e){return new URL(e).hostname.split(".").slice(-2).join(".")}var nv=i(403797),nE=i(741237),nT=i(506364),nw=i(553642),nj=i(486443),nS=i(612685),nk=i(91820),nI=i(255781),nN=i(250387),nA=i(300692),nO=i(790714),nL=i(185954),nR=i(383828),nM=i(45218),nD=i(915202),nP=i(198712),nF=i(155287),nB=i(782918),nU=i(34798),nG=i(712485),nH=i(403368),nz=i(251115),nV=i(318590),nK=i(144974),nW=i(322845),nq=i(719609),nY=i(51743),nX=i(87835),nJ=i(595260),nZ=i(561485),nQ=i(224338),n$=i(955528),n0=i(35881),n1=i(509285);function n2(e,t){return{action:"slides-rewrite-text",flags:["slides"],callback:()=>(0,n$.mD)(e,{source:"context_menu"}),disabled:!t}}function n3(e){return!d.zl.get(n$.Tm)&&e}var n5=i(861982),n4=i(738636),n6=i(223206),n7=i(766303),n8=i(461685),n9=i(151869),re=i(853982);function rt(){let e=(0,tR.Em)(),t=(0,n8.y)().transform(e=>e?.canCreateSitesFileWithReasons.result).unwrapOr(!1),i=(0,tp.Kf)(),n=(0,n9.Vr)();if(!n||!n.isTopLevelFrame())return!1;let r=n.size.x;return!(r<1200)&&!(r>1600)&&!!e&&!!t&&!!i}let ri=(0,i(347702).n)((e,t)=>{(0,ic.Cu)({trackingContext:"SelectionContextMenu > DesignToSites",text:"Copy to Figma Sites",pageId:e,nodeId:t})}),rn={name:"copy-to-figma-sites",flags:["edit","design"],callback:(e,t,i)=>{let n=id.D.getState(),r=(0,e_.UN)(),a=(0,re.j)(r.getDirectlySelectedNodes().map(e=>e.guid)),s=n.openFile?.key,o=n.fileVersion,l=r.getCurrentPage()?.guid;if(!s||!o||!l||!a){(0,S.x1)("designToSites","Unable to fetch required data to create a new Sites file",{fileKey:s,fileVersion:o,pageGuid:l,selectedNodeId:a},{reportAsSentryError:!0}),x.F.enqueue({message:(0,_.t)("selection_context_menu.error_creating_sites_file"),type:"design-to-sites-error",error:!0});return}let c=d.zl.set(n6.me,{fileKey:s,fileVersion:o,pageGuid:l,selectedNodeId:a}),u=(0,n7.Kl)(n);ri(l,a),i((0,n4.zE)({state:u,from:nD.f6.DESIGN_COPY_TO_SITES_ENTRYPOINT,editorType:P._Y.SITES,team:void 0,openNewFileIn:nD.ai.NEW_TAB,newFileDataLocalStorageKey:c}))}},rr=(0,ex.hG)(ew.tui);class ra extends r.PureComponent{items(){var e,t,i,n;let r=this.props.isPrototypeCanvasEditUiVisible&&!this.props.hasSelection?[{separator:!0},{action:"remove-interactions-on-page",flags:["edit"]}]:[],a=window.FigmaMobile,s=rg(this.props.appModel.showComments,this.props.selectedView,this.props.viewportInfo,this.props.clientX,this.props.clientY,this.props.dispatch,a?.requestToAddDraftCommentPin),d=this.props.selectedView.editorType===J.nT.Whiteboard,c=this.props.selectedView.editorType===J.nT.Slides,u=this.props.selectedView.editorType===J.nT.Sites,p=this.props.selectedView.editorType===J.nT.Figmake,m=this.props.selectedView.editorType===J.nT.Cooper,h=(0,nB.$A)(this.props.selectedView),g=f.Ay.windows?"Ctrl+":"\u2318",x={action:"paste-here",flags:["edit"],displayText:d?(0,_.t)("fullscreen_actions.paste"):void 0,shortcutText:d?`${g}V`:void 0},y=!f.Ay.safari||a?.readClipboardData?[x,d?{separator:!0}:null]:[],b={name:"start-chat",disabled:this.props.isJoinedToActiveVotingSession||this.props.isCursorChatDisabled,callback:(e,t,i,n)=>{o.glU?.triggerAction("set-tool-default",null),this.props.dispatch(ns.F6({position:{x:n.clientX||this.props.clientX,y:(n.clientY||this.props.clientY)-rr},source:"canvas_context_menu"}))}},C=(e=this.props.hasSlidesAiTextEnabled,t={x:this.props.clientX,y:this.props.clientY},i=this.props.slideId,n=this.props.viewportInfo,!!(i&&n&&(0,n1.ih)(i,t,n))&&n3(e)),v=n2(this.props.dispatch,C),E=this.props.openFile,T=this.props.canPublishOrgTemplate&&E?(0,n5.we)({dispatch:this.props.dispatch,file:{key:E.key,name:E.name,folder_id:E.folderId,team_id:E.teamId,editor_type:E.editorType,parent_org_id:E.parentOrgId},fileNeedsMovingBeforePublish:this.props.fileNeedsMovingBeforePublish,isPublished:this.props.isFilePublishedTemplate,source:"fullscreen-context-menu"}):null,w=d&&!(0,l.k)().figjam_quick_actions_v2,j=[{action:"toggle-ui"},{action:"toggle-show-comments",displayText:(0,_.t)("fullscreen.context_menu.show_hide_comments")},...d||p?[]:[{separator:!0},b],w||p?null:{action:"toggle-menu",displayText:(0,nW.gn)()?(0,_.t)("fullscreen_actions.toggle-actions-menu"):(0,_.t)("fullscreen_actions.toggle-menu")},!this.props.userCanViewPlugins||u&&!(0,l.k)().sites_plugin_api||m&&!(0,l.k)().buzz_plugins||p?null:(0,nu.qz)({...this.props,isReadOnly:this.props.appModel.isReadOnly},"contextmenu"),this.props.appModel.isReadOnly||!this.props.userCanViewWidgets||h?null:(0,np.Vd)(this.props,"contextmenu"),T,...r],S=[...s,...y,{action:"unlock-all",flags:["edit","whiteboard"]},{separator:!0},...d?[b,{separator:!0}]:[],...c?[{separator:!0},v]:[],...j];return rb(S,"canvas_context_menu"),S}render(){let e=this.props.clientX,t=this.props.clientY;return(0,n.jsx)("div",{className:`${w.Dm}`,children:(0,n.jsx)(iw.Q,{allowCodegenOptions:this.props.selectedView.editorType===J.nT.Design,appModel:this.props.appModel,"aria-labelledby":this.props.ariaLabelledBy,dispatch:this.props.dispatch,isLimitedDevMode:this.props.isLimitedDevMode,menuItems:(0,iZ.WI)(this.items()),recordingKey:"canvasMenu",removeDisabledItems:!0,selectedView:this.props.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}}ra.displayName="CanvasContextMenu";let rs=(0,a.Ng)((e,t)=>({...t,appModel:e.mirror.appModel,openFile:e.openFile,editorType:e.selectedView.editorType,orgEntity:(0,ng.EL)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,isJoinedToActiveVotingSession:(0,nj.gR)(e),hasSelection:Object.keys(e.mirror.sceneGraphSelection).length>0,isDevHandoff:(0,nB.$A)(e.selectedView)}))(ra);function ro(e){let t=(0,iI.op)(),i=(0,iI.$1)(),s=(0,iI.cW)(),o=(0,iI.Be)(),l=o.orgPlugins,d=o.orgWidgets,c=(0,nm.h)("plugin"),u=(0,nm.h)("widget"),p=(0,iI.NU)(),m=(0,iI.qr)(),h=(0,iI.ZT)(),f=(0,nH.S)(),g=(0,iD.am)();r.useEffect(()=>{g("Canvas Right Click")},[g]);let _=(0,tD._X)({subscribeToUpdates_expensive:!0}),x=(0,nh.J3)(),y=(0,nh.JU)(x),b=x===nh.kN.FILE_IN_DRAFTS,C=!!(0,nh.kD)(),v=(0,a.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),E=ry(),T=(0,n$.Ne)(),w=(0,nQ.Jb)();return(0,n.jsx)(rs,{...e,activeTextReviewPlugin:v,allSavedPlugins:o.plugins,canPublishOrgTemplate:y,fileNeedsMovingBeforePublish:b,hasSlidesAiTextEnabled:T,isCursorChatDisabled:f,isFilePublishedTemplate:C,isPrototypeCanvasEditUiVisible:E,localExtensions:i,orgPrivatePlugins:c,orgPrivateWidgets:u,orgSavedPlugins:l,orgSavedWidgets:d,publishedPlugins:s,publishedWidgets:h,recentlyUsedPlugins:t,recentlyUsedWidgets:m,savedWidgetVersions:p,slideId:w,viewportInfo:_})}let rl=(e,t)=>o.glU?o.glU.getObjectsListUnderCursor(e,t):[],rd=class e extends r.PureComponent{constructor(e){super(e),this.objectsListMouseEnter=e=>{nE.Uc(e)},this.objectsListMouseExit=()=>{nE.Uc("")},this.getSelectionGuid=()=>Object.keys(this.props.sceneGraphSelection)[0],this.getObjectsListMenu=(e,t)=>{let i=rl(e,t);if(null==i)return[];let n=[];for(let e of i){let t=e.nodeId;n.push({nodeId:t,args:{nodeId:t,name:e.name},action:"select-node",source:"canvas_context_menu",displayText:(0,_.t)("fullscreen_actions.select-node",{name:e.name??""}),onMouseEnter:()=>this.objectsListMouseEnter(t),onMouseExit:this.objectsListMouseExit})}return n},this.getNodeTypeForCopyLinkText=()=>{let e=this.getSelectionGuid();return e&&o.glU?o.glU.isPlatformShape(e)?o.Z6A.SHAPE_WITH_TEXT:o.glU.getNodeType(e):null},this.getPageListForMoveToMenu=()=>{let e=this.props.appModel.pagesList;if(!this.props.userCanEditFile||null==e||e.length<2)return[];let t=[];for(let i of e)i.nodeId!==this.props.appModel.currentPage&&(i.isDivider?t.push({separator:!0}):t.push({name:i.name,args:{nodeId:i.nodeId,name:i.name},action:"page-move-to",displayText:(0,_.t)("fullscreen_actions.page-move-to",{name:i.name??""})}));return t},this.state={pageItems:this.getPageListForMoveToMenu(),relatedComponentMenu:this.getRelatedComponentMenu(o.iCO.NONE),relatedStateMenu:this.getRelatedComponentMenu(o.iCO.STATE_INSTANCE),objectItems:this.getObjectsListMenu(this.props.clientX,this.props.clientY),nodeTypeForCopyLinkText:this.isFigjam()?this.getNodeTypeForCopyLinkText():null,hyperlink:this.isFigjam()?this.getHyperlinkUnderCursor():null}}getRelatedComponentMenu(e){let t;if(e!==o.iCO.NONE&&e!==o.iCO.STATE_INSTANCE)return null;let i={userId:this.props.user?.id,fileKey:this.props.openFile?.key,orgId:this.props.openFile?.parentOrgId??void 0,teamId:this.props.openFile?.teamId??void 0},n=(0,nR.SY)(this.props.masterSymbolGUID,this.props.dispatch,this.props.openFile?.key||"",(0,i$.l)(this.props.openFile?.libraryKey??""),this.props.library,this.props.sceneGraph,this.props.sceneGraphSelection,this.props.isCooper,e,i,this.props.stateGroupSelectionInfo);if(0===n.length)return null;t=e===o.iCO.STATE_INSTANCE?"relatedComponentMenuSwapVariants":"relatedComponentMenu";let r=this.props.clientX,a=this.props.clientY;return{items:n,showPoint:!1,parentRect:{width:10,height:10,left:r+100,top:a,right:r+110,bottom:a-10},recordingKey:t,dispatch:this.props.dispatch,depth:0,onSelectItem:()=>{}}}getHyperlinkUnderCursor(){return o.glU?o.glU.getHyperlinkUnderCursor(this.props.clientX,this.props.clientY):null}selectLayerMenu(){return!this.props.isObjectsPanelMenu&&this.state.objectItems.length>1?this.state.objectItems:[]}textEditModeMenu(){let e=this.getCopyPasteMenu(),t=this.getCopyExportMenu(),i=this.props.spellCheckPreference,n=this.props.appModel.spellCheckSuggestions,r=n||!i?[{name:"spell-check-menu",flags:["design","whiteboard","slides","cooper"],children:[(0,nw.x)(),{separator:!0},...(0,nw.A)()]},...this.props.userCanViewPlugins?(0,nu.dL)(this.props,"contextmenu"):[]]:[];return[...i||this.props.appModel.activeTextReviewPlugin?r_(n,this.props.editorType):[],...r,{separator:!0},...this.getTableCellMenu(),{separator:!0},...e,{separator:!0},...this.isFigjam()?t:[]]}getFaviconMenu(e){return{name:e?"clear-favicon":"set-favicon",args:{label:e?(0,_.t)("fullscreen_actions.clear_favicon"):(0,_.t)("fullscreen_actions.set_as_favicon")},flags:["edit","!slides","sites"],featureFlags:["sites"],callback:()=>{let t=e_.UN().getCurrentPage()?.guid;void 0!==t&&tV.l7.user("set-responsive-set-settings",()=>{o.glU?.setResponsiveSetSettings({faviconID:e?"":this.getSelectionGuid()},[t]),j.Y5.commit()})}}}getFileThumbnailMenu(e){return{name:(0,l.k)().dse_library_pg_thumbnails?j.Y5.getFileThumbnailMenuItemName():j.Y5.getThumbnailMenuItemName(),args:(0,l.k)().dse_library_pg_thumbnails?{label:e?(0,_.t)("fullscreen_actions.restore_default_file_thumbnail"):(0,_.t)("fullscreen_actions.set_as_file_thumbnail")}:{label:e?(0,_.t)("fullscreen_actions.restore_default_thumbnail"):(0,_.t)("fullscreen_actions.set_as_thumbnail")},flags:["edit","!slides"],callback:()=>{this.props.openFile&&this.props.dispatch(na.$m({file_key:this.props.openFile.key,thumbnail_guid:e?null:this.getSelectionGuid()}))}}}getPageThumbnailMenu(){return{get name(){return j.Y5.getPageThumbnailMenuItemName()},callback:()=>j.Y5.handlePageThumbnailMenuItem(),get disabled(){return j.Y5.disablePageThumbnailMenu()},flags:["edit","design"],featureFlags:["dse_library_pg_thumbnails"]}}selectedEmbedOrLinkPreviewHasValidUrl(){return this.props.widgetSelectionInfo?.pluginID===nv.k.EMBED_WIDGET&&this.props.embedData&&(this.props.embedData.url||this.props.embedData.srcUrl)||this.props.widgetSelectionInfo?.pluginID===nv.k.LINK_PREVIEW_WIDGET&&this.props.linkPreviewData&&this.props.linkPreviewData.url}isFigjam(){return"fullscreen"===this.props.selectedView.view&&this.props.selectedView.editorType===J.nT.Whiteboard}getCopyLinkMenu(){let e=this.selectedEmbedOrLinkPreviewHasValidUrl()?"FigJam":"";return{name:"copy-link",args:{label:(0,_.t)("fullscreen.context_menu.copy_link",{editorSpecifierString:e})},displayText:this.isFigjam()&&this.state.nodeTypeForCopyLinkText?function(e){switch(e){case o.Z6A.STICKY:return(0,_.t)("fullscreen_actions.copy-link-to-sticky");case o.Z6A.CONNECTOR:return(0,_.t)("fullscreen_actions.copy-link-to-connector");case o.Z6A.WIDGET:return(0,_.t)("fullscreen_actions.copy-link-to-widget");case o.Z6A.STAMP:return(0,_.t)("fullscreen_actions.copy-link-to-stamp");case o.Z6A.SECTION:return(0,_.t)("fullscreen_actions.copy-link-to-section");case o.Z6A.TEXT:return(0,_.t)("fullscreen_actions.copy-link-to-text");case o.Z6A.TABLE:return(0,_.t)("fullscreen_actions.copy-link-to-table");case o.Z6A.WASHI_TAPE:return(0,_.t)("fullscreen_actions.copy-link-to-washi-tape");case o.Z6A.SHAPE_WITH_TEXT:return(0,_.t)("fullscreen_actions.copy-link-to-shape");case o.Z6A.INSTANCE:return(0,_.t)("fullscreen_actions.copy-link-to-instance");default:return(0,_.t)("fullscreen_actions.copy-link-to-this")}}(this.state.nodeTypeForCopyLinkText):void 0,callback:()=>{let e;if(!this.props.openFile)return;let t=!(0,nB.$A)(this.props.selectedView)&&this.props.attributionContextKey,i=(0,v.Wl)(this.props.selectedView),n=(0,v.s4)(this.props.selectedView),r=(0,n0.P)(this.props.selectedView),a=id.D?.getState()?.openFile?.canEdit,s=(0,i2.qZ)()&&(0,l.k)().aip_flower_garden_on_copy&&a,c=this.getSelectionGuid(),u=(0,nS.jN)({file:this.props.openFile,nodeId:this.getSelectionGuid(),isDevHandoff:(0,nB.$A)(this.props.selectedView),isReadOnly:this.props.appModel.isReadOnly,isFigJam:this.isFigjam(),isDevModeOverview:i,devModeFocusId:n,attributionContext:t?(0,nk.b)(this.props.attributionContextKey,nk.d.FULLSCREEN_CONTEXT_MENU):null});if((0,l.k)().ce_copy_labelled_links){let t=(0,e_.UN)().get(this.getSelectionGuid());e=t?t.name:this.props.openFile.name}s&&d.zl.set(i2.ui,c??null);let p=(()=>{if(s)return{visualBellTypeOverride:i3.xp,visualBellMessageComponentKeyOverride:t1.Rw.DESIGN_LINTER_COPY_SELECTION,visualBellButton:{text:(0,_.t)("fullscreen_actions.quick_actions.detect-violations"),action:()=>{(0,nG.u)({source:o.Qej.COPY_SELECTION_TOAST})}},visualBellExtras:{onDismiss:()=>{}}};if(this.isFigjam()&&this.state.nodeTypeForCopyLinkText)return{visualBellMessageOverride:function(e){switch(e){case o.Z6A.STICKY:return(0,_.t)("visual_bell.copy_link_to_sticky");case o.Z6A.CONNECTOR:return(0,_.t)("visual_bell.copy_link_to_connector");case o.Z6A.WIDGET:return(0,_.t)("visual_bell.copy_link_to_widget");case o.Z6A.STAMP:return(0,_.t)("visual_bell.copy_link_to_stamp");case o.Z6A.SECTION:return(0,_.t)("visual_bell.copy_link_to_section");case o.Z6A.TEXT:return(0,_.t)("visual_bell.copy_link_to_text");case o.Z6A.TABLE:return(0,_.t)("visual_bell.copy_link_to_table");case o.Z6A.WASHI_TAPE:return(0,_.t)("visual_bell.copy_link_to_washi_tape");case o.Z6A.SHAPE_WITH_TEXT:return(0,_.t)("visual_bell.copy_link_to_shape");case o.Z6A.INSTANCE:return(0,_.t)("visual_bell.copy_link_to_instance");default:return(0,_.t)("visual_bell.copy_link")}}(this.state.nodeTypeForCopyLinkText)};if(r&&c){let e=(0,e_.UN)().get(c);if(e)return{visualBellMessageOverride:(0,_.t)("copy_to_clipboard.slides.link_to_slide_copied_to_clipboard",{name:e.name})}}return{}})(),m={fileKey:this.props.openFile.key,url:u,label:e,source:nk.d.FULLSCREEN_CONTEXT_MENU,visualBellTypeOverride:p.visualBellTypeOverride,visualBellButton:p.visualBellButton,visualBellExtras:p.visualBellExtras,showVisualBellOnErrorForInteractionTests:s},h=p.visualBellMessageComponentKeyOverride?{...m,visualBellMessageComponentKeyOverride:p.visualBellMessageComponentKeyOverride}:{...m,visualBellMessageOverride:p.visualBellMessageOverride};this.props.dispatch(na.S(h))}}}getCopyHyperlinkMenu(){let e=(()=>{let e=this.state.hyperlink;if(!e||""===e)return null;if(e.startsWith("mailto:")){let t=e.substring(7);if(t)return{displayText:(0,_.t)("fullscreen_actions.copy-email",{email:t}),linkToCopy:t,visualBellText:(0,_.t)("visual_bell.copy_email",{email:t})}}else if(e.startsWith("tel:")){let t=e.substring(4);if(t)return{displayText:(0,_.t)("fullscreen_actions.copy-phone",{number:t}),linkToCopy:t,visualBellText:(0,_.t)("visual_bell.copy_phone",{number:t})}}else{let t=nC(e);if(t)return{displayText:(0,_.t)("fullscreen_actions.copy-hyperlink",{hyperlink:t}),linkToCopy:e,visualBellText:(0,_.t)("visual_bell.copy_hyperlink",{hyperlink:t})}}})();return e?{name:"copy-hyperlink",displayText:e.displayText,callback:()=>(0,nN.UA)(this.props.dispatch,e.linkToCopy,"ContextMenu",e.visualBellText)}:null}getImageToProfilePicture(){if(!this.props.user||!this.props.fillPaints||(0,tc.gl)(this.props.fillPaints))return null;let e=this.props.fillPaints.findIndex(e=>"IMAGE"===e.type);if(e<0)return null;let t=this.props.fillPaints[e];return{name:"set-image-as-profile-picture",args:{label:"Set image as profile picture"},flags:["view_restricted","whiteboard"],featureFlags:["figjam_canvas_image_to_avatar"],callback:()=>{(0,i8.V8)(t,this.props.user,this.props.dispatch)}}}getMaybeEmbedOrLinkPreviewWidgetMenu(){if(!this.selectedEmbedOrLinkPreviewHasValidUrl())return null;let e=this.props.embedData?.url||this.props.embedData?.srcUrl||this.props.linkPreviewData?.url,t=nC(decodeURIComponent(e));return{name:"labeled-menu-item",args:{label:(0,_.t)("fullscreen_actions.copy-hyperlink",{hyperlink:t})},callback:()=>{!function(e,t){let i=decodeURIComponent(t);(0,t$.Dk)(i),(0,nb.Rm)(ny.yc.COPY_LINK,i),e(x.F.enqueue({type:"copy-preview",message:(0,_.t)("visual_bell.copy_hyperlink",{hyperlink:nC(i)}),error:!1}))}(this.props.dispatch,e)}}}getMaybeEmbedDeactivateMenu(){return this.props.widgetSelectionInfo?.pluginID===nv.k.EMBED_WIDGET&&o.Ez5&&this.props.widgetSelectionInfo.widgetID===o.Ez5.embedUiState().activeEmbedData.getCopy().embedNodeId?{name:"labeled-menu-item",args:{label:"Deactivate preview"},callback:()=>{o.glU?.deactivateEmbed()}}:null}getExportVideo(){if(!this.props.fillPaints||(0,tc.gl)(this.props.fillPaints))return null;let e=this.props.fillPaints.find(e=>"VIDEO"===e.type);if(!e)return null;let t=this.props.openFile?.key;return{action:"export-selected-video",flags:["view_restricted","whiteboard","design"],platforms:["!ipad"],displayText:(0,_.t)("fullscreen.context_menu.export_selected_video"),callback:(i,n,r)=>{ni({paint:e,fileKey:t,dispatch:r})}}}getCombineVideoStack(){return{action:"combine-selected-video-stack",flags:["edit","design"],platforms:["!ipad"],displayText:(0,_.t)("fullscreen.context_menu.combine_selected_video_stack"),callback:async()=>{let e=Object.keys(this.props.sceneGraphSelection);if(1!==e.length||!e[0])return;let t=this.props.sceneGraph.get(e[0]);if(!t)return;let i=t.childrenNodes.map(e=>{let t=o.ruz?.getTopmostVideoIndex(e.id)??void 0;if(void 0!==t)return e.fills[t]?.video}).filter(e=>!!e),n=(await Promise.all(i.map(e=>(0,nX.f)(e)))).filter(e=>!!e),r=await (0,nX.M)(n);r&&tV.l7.ai("combine-selected-video-stack",()=>{if(!o.ruz)return;let e=(0,e_.UN)(),t=j.Y5.getViewportInfo(),i=e.createNode("RECTANGLE");i.size={x:1280,y:720},i.x=t.offsetX-i.size.x/2,i.y=t.offsetY-i.size.y/2,o.ruz.insertVideoInNode(i.id,r,(0,_.t)("fullscreen.context_menu.combine_selected_video_stack")),j.Y5.triggerAction("commit")})},featureFlags:["aip_mw_video"]}}selectedDefaultLibraryComponents(){let e=Object.keys(this.props.sceneGraphSelection);if(0===e.length)return!1;let t=this.props.sceneGraph.get(e[0])?.symbolId;if(!t)return!1;let i=this.props.sceneGraph.get(t)?.sourceLibraryKey;return!!i&&(0,tP.td)(this.props.library.defaultPublished,i)}getMoveToMenu(){return this.state.pageItems.length>=1?{action:"page-move-to-menu",flags:["edit"],children:this.state.pageItems,name:"page-move-to-menu"}:null}getFigJamRemovePluginActionsMenu(){if(this.props.selectedView.editorType===J.nT.Design)return null;let t=e=>this.props.dispatch(i9.af({id:e,resourceType:nM.bD.PLUGIN})),i=(0,nA.vA)(this.props.pluginRelaunchData,this.props.publishedPlugins,this.props.localExtensions,this.props.orgEntity,this.props.numSelected||0,(i,n)=>e.refreshCache.debounceRefresh(i,()=>t(i),n),nF.FW.FIGJAM),n=[],r=new Set;for(let e of i)r.has(e.pluginTypeAndID)||(n.push({name:e.plugin.name,plugin_id:e.plugin.plugin_id}),r.add(e.pluginTypeAndID));return 0===n.length?null:{name:"remove-plugin-actions",children:[...n.map(({name:e,plugin_id:t})=>({name:"plugins-menu-item",callback:()=>o.NfO?.removeRelaunchDataFromSelection(t),args:{extensionName:e}})),{separator:!0},{name:"remove-all-plugin-actions",callback:()=>n.map(({plugin_id:e})=>o.NfO?.removeRelaunchDataFromSelection(e))}]}}getMainComponentActionsMenu(){if(this.props.isLimitedDevMode)return null;let e=(0,Z.Yh)(this.props.appModel,"find-symbol")&&!this.selectedDefaultLibraryComponents(),t=(0,Z.Yh)(this.props.appModel,"push-changes-to-main"),i=(0,Z.Yh)(this.props.appModel,"restore-symbol-or-state-group"),n=(0,Z.Yh)(this.props.appModel,"add-variant"),r=(0,Z.Yh)(this.props.appModel,"publish-selection"),a=[e,t,i,n,r].filter(Boolean).length;if(0===a)return null;if(1===a){if(e)return{action:"find-symbol"};if(n)return{action:"add-variant",flags:["edit"]};if(r)return{action:"publish-selection",flags:["edit"]}}return{action:"main-component",children:[{action:"find-symbol"},{action:"push-changes-to-main",flags:["edit"]},{action:"restore-symbol-or-state-group",flags:["edit"]},{action:"publish-selection",flags:["edit"]},{action:"add-variant",flags:["edit"]}]}}getTableCellMenu(){let e=(0,Z.Yh)(this.props.appModel,"delete-table-contents"),t=(0,Z.Yh)(this.props.appModel,"delete-current-table-row")||(0,Z.Yh)(this.props.appModel,"delete-current-table-column");return[{action:"move-table-row-up",flags:["edit"]},{action:"move-table-row-down",flags:["edit"]},{action:"move-table-column-left",flags:["edit"]},{action:"move-table-column-right",flags:["edit"]},{separator:!0},{action:"add-table-column-before",flags:["edit"]},{action:"add-table-column-after",flags:["edit"]},{separator:!0},{action:"add-table-row-above",flags:["edit"]},{action:"add-table-row-below",flags:["edit"]},{separator:!0},{action:"delete-table-contents",flags:["edit"],shortcutText:e&&!t?"\u232B":void 0},{action:"delete-current-table-column",flags:["edit"],shortcutText:!e&&t?"\u232B":void 0},{action:"delete-current-table-row",flags:["edit"],shortcutText:!e&&t?"\u232B":void 0}]}getCopyPasteMenu(){let e;let t=window.FigmaMobile,i=!f.Ay.safari||!!t?.readClipboardData,r=!this.props.isObjectsPanelMenu&&!this.props.isSingleSlideViewCarousel&&!this.props.isBuzzCarousel&&i,a=this.props.isTextEditModeMenu,s=(0,nV.P5)(),o=(0,nK.C7)()&&this.props.hasFragmentSearchPermission,d=this.props.isEligibleForDesignToSites,c=(0,Z.Yh)(this.props.appModel,"send-to-make-from-design")&&(this.props.shouldShowSendToMake??!1),u=(0,Z.Yh)(this.props.appModel,"send-selection-to-buzz-from-design"),p=[{action:"copy-text"},{action:"copy-as-code",children:[{action:"copy-as-css"},{action:"copy-as-css-recursive"},{action:"copy-as-ios"},{action:"copy-as-android"},...!this.props.canAccessDevMode&&this.props.canAccessDevModeEntryPoint?[{separator:!0},{render:()=>(0,n.jsx)(iV,{}),optionHeight:40}]:[]]},{action:"copy-as-svg"},{action:"copy-as-png"},...this.props.canCopyLink?[this.getCopyLinkMenu()]:[],{separator:!0},{action:"copy-properties",flags:["view_restricted"]},{action:"paste-properties",flags:["edit"]}],m=f.Ay.windows?"Ctrl+":"\u2318";switch(this.props.selectedView.editorType){case J.nT.Design:case J.nT.Illustration:case J.nT.Figmake:case J.nT.Sites:case J.nT.Slides:case J.nT.Cooper:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${m}C`}:null,r?{action:"paste-here",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.paste-here"),shortcutText:a?`${m}V`:void 0}:this.props.isSingleSlideViewCarousel?{action:"paste",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.paste"),shortcutText:`${m}V`}:null,i?{action:"paste-to-replace",flags:["edit"],displayText:a?(0,_.t)("fullscreen_actions.paste-and-match-style"):void 0,shortcutText:a?`${m}\u21E7V`:void 0}:null,{action:"copy-paste-menu",flags:["edit"],children:p},{action:"copy-as-menu",flags:["!edit"],children:p},{action:"duplicate-in-place",flags:["edit","slides","cooper"],displayText:(0,_.t)("fullscreen_actions.duplicate-in-place"),shortcutText:`${m}D`},c?nI.V6:null,u?{action:"send-selection-to-buzz-from-design",flags:["edit","design"],callback:(e,t,i)=>{(0,i6.rN)(i,(0,i6.VY)({openFile:this.props.openFile,fileVersion:this.props.fileVersion}),nD.f6.SEND_SELECTION_TO_BUZZ_FROM_DESIGN_CONTEXT_MENU)}}:null,d?rn:null,s||o?{action:"find-inspiration",flags:["edit","!slides","!cooper"]}:null,(0,l.k)().asset_suggestions_inspect_fragment?{action:"inspect-fragment",flags:["!slides","!cooper"]}:null];break;case J.nT.DevHandoff:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${m}C`}:null,this.props.isLimitedDevMode?null:{action:"copy-text"},this.props.isLimitedDevMode?null:{action:"copy-as-svg"},this.props.isLimitedDevMode?null:{action:"copy-as-png"},this.props.isLimitedDevMode?null:{action:"copy-layer-name"},this.props.canCopyLink?this.getCopyLinkMenu():null];break;default:e=[navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${m}C`}:null,r?{action:"paste",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.paste"),shortcutText:`${m}V`}:null,i?{action:"paste-to-replace",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.paste-to-replace")}:null]}return e}getCopyExportMenu(){return this.isFigjam()?[...this.props.canCopyLink?[this.getCopyLinkMenu(),this.getCopyHyperlinkMenu()]:[],this.getMaybeEmbedOrLinkPreviewWidgetMenu(),this.getMaybeEmbedDeactivateMenu(),{action:"copy-as-png"},{action:"export-selection-or-current-page",flags:["view_restricted","whiteboard"],displayText:(0,_.t)("fullscreen.context_menu.export_selection")},this.getExportVideo()]:(0,l.k)().aip_mw_video?[this.getExportVideo()]:[]}rulerGuideMenu(e,t){let i="toggle-rulers",n=[e===o._0v.Y?{action:"remove-vertical-guides"}:{action:"remove-horizontal-guides"},{separator:!0},{action:i,displayText:(0,_.t)("fullscreen.ruler_guide_context_menu.hide_rulers"),shortcutText:(0,Z.c1)(this.props.appModel.keyboardShortcuts,i)},...this.getRulerUnitSubmenu()],r=[{action:"remove-guide"}];switch(t){case o.bQY.RULER:return n;case o.bQY.GUIDE:return r;case o.bQY.BOTH:return r.concat(...n);default:return[]}}getRulerUnitSubmenu(){let e=[{action:"toggle-ruler-unit-pixels",checked:(0,eC.UK)().renderRulerUnitAsPixels.getCopy()},{action:"toggle-ruler-unit-inches",checked:(0,eC.UK)().renderRulerUnitAsInches.getCopy()}];return[{action:"ruler-unit-menu",flags:["cooper"],children:(0,iZ.WI)(e),featureFlags:["buzz_print_export"]}]}singleSlideViewCarouselMenu(){return[...this.getCopyPasteMenu(),{separator:!0},{action:"delete-selection",flags:["slides"]},{separator:!0},{action:"create-slide",flags:["slides"]},{action:"create-row",flags:["slides"],featureFlags:["slide_chapters"]},{action:"select-all-slides",flags:["slides"]},...this.skipSlidesMenu()]}skipSlidesMenu(){let e=(()=>{for(let e of Object.keys(this.props.sceneGraphSelection)){let t=(0,e_.UN)().get(e);if(!(0,iQ.Y)(t))return!1}return!0})(),t=Object.keys(this.props.sceneGraphSelection).length>1;return e?[{separator:!0},(()=>{for(let e of Object.keys(this.props.sceneGraphSelection)){let t=(0,e_.UN)().get(e);if(!(0,iQ.Y)(t)||!t.isSkippedSlide)return!1}return!0})()?{action:t?"unskip-slides":"unskip-slide",flags:["slides"]}:{action:t?"skip-slides":"skip-slide",flags:["slides"]}]:[]}slidesObjectAnimationMenu(){return(()=>{for(let e of Object.keys(this.props.sceneGraphSelection)){let t=(0,e_.UN)().get(e);if(!t||!t.isInSlide)return!1}return!0})()?[{action:"add-slide-object-animation",flags:["edit","slides"]}]:[]}buzzCarouselMenu(){return[...this.getCopyPasteMenu(),{separator:!0},{action:"delete-selection",flags:["cooper"]}]}sitesSemanticTagMenu(){let e=(0,nJ.b)(this.props.accessibilityLabelType,this.props.accessibilityCategory);return e.tagEditable?{name:"change-tag",children:e.tagOptions.map(e=>{if("divider"in e)return{separator:!0};let t=e.value.toLowerCase(),i=e.value.toLowerCase();return{name:t.toString(),displayText:i,callback:()=>{j.Y5.updateSelectionProperties({accessibleHTMLTag:e.value},{shouldCommit:nP.zk.YES})}}}),flags:["edit","sites"],featureFlags:["sts_a11y_layers_semantic_tags"]}:null}contextMenu(){let{objectItems:e,relatedComponentMenu:t,relatedStateMenu:i}=this.state,r=this.props.appModel,a=this.props.selectedView.editorType===J.nT.Design,s=this.props.selectedView.editorType===J.nT.Slides,d=(0,nZ.Vj)(this.props.selectedView),c=this.props.selectedView.editorType===J.nT.Figmake,u=this.props.selectedView.editorType===J.nT.Cooper,p=this.props.selectedView.editorType===J.nT.Illustration,m=(a||d||c||p)&&(0,Z.Yh)(this.props.appModel,"select-node-menu")&&!this.props.isObjectsPanelMenu&&e.length>1,h=this.props.isObjectsPanelMenu,f=h&&this.props.hasAIPermission&&(0,nK.Ii)(),g=window.FigmaMobile,x=rg(r.showComments,this.props.selectedView,this.props.viewportInfo,this.props.clientX,this.props.clientY,this.props.dispatch,g?.requestToAddDraftCommentPin),y=(0,Z.Yh)(this.props.appModel,"swap-to-related-symbol"),b=(0,Z.Yh)(this.props.appModel,"swap-to-related-state"),C=this.props.isPrototypeCanvasEditUiVisible?[{separator:!0},{action:"remove-interactions-on-selection",flags:["edit"]},{action:"add-prototype-starting-point",flags:["edit"]},{action:"delete-prototype-starting-point",flags:["edit"]}]:[],v=this.getCopyPasteMenu(),E=this.getCopyExportMenu(),T=[m?{action:"select-node-menu",children:e,name:"select-node-menu"}:null,this.getMoveToMenu(),{action:"move-to-file",flags:["edit"]}],w=!a&&!p,j=s||d&&!(0,l.k)().sites_plugin_api||c||u?[]:[w?{separator:!0}:null,this.props.userCanViewPlugins?(0,nu.qz)(this.props,"contextmenu"):null,this.props.appModel.isReadOnly||!this.props.userCanViewWidgets?null:(0,np.Vd)(this.props,"contextmenu")],S=(0,l.k)().internal_only_debug_tools,k=S&&1===this.props.numSelected,I=this.props.spellCheckPreference,N=this.props.appModel.spellCheckSuggestions,A=n3(this.props.hasSlidesAiTextEnabled),O=n2(this.props.dispatch,A);return[...I||this.props.appModel.activeTextReviewPlugin?r_(N,this.props.editorType):[],{separator:!0},...this.getTableCellMenu(),{separator:!0},...x,...v,{separator:!0},{action:"delete-selection",flags:["whiteboard","slides"]},{separator:!0},O,{separator:!0},this.getCombineVideoStack(),{separator:!0},...E,{separator:!0},...T,{action:"bring-to-front",flags:["edit"]},{action:"bring-forward",flags:["edit","slides"]},{action:"send-backward",flags:["edit","slides"]},{action:"send-to-back",flags:["edit"]},{separator:!0},{action:"create-responsive-set",flags:["edit","sites"]},{action:"set-as-site-homepage",flags:["edit","sites"]},{action:"replace-selected-frame-with-section",flags:["edit","!slides"]},{action:"replace-selected-section-with-frame",flags:["edit","!slides"]},{action:"group-selection",flags:["edit"]},{action:"frame-selection",flags:["edit"]},{action:"create-section-from-selection",flags:["edit","!slides"]},{action:"ungroup-selection",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.ungroup")},h?{action:"rename-selection",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.rename")}:null,f?{name:"auto-rename-layers",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.auto_rename_layers"),rightIcon:(0,n.jsx)(tC.y,{variant:nq.x.ON_MENU,helpUrlVariant:tg.JT.AUTO_RENAME_LAYERS}),callback:()=>{(0,nW.$I)({moduleToOpen:{type:"custom",module:(0,n.jsx)(nY.A,{source:o.uQ6.CONTEXT_MENU}),beforeModuleOpen:()=>{(0,t_.B3)(tg.JT.AUTO_RENAME_LAYERS),(0,t_.Ag)(tg.JT.AUTO_RENAME_LAYERS,to.Ay,{source:o.uQ6.CONTEXT_MENU,overwriteNames:!1})},name:q.Sn.RENAME_LAYERS_TOAST},trackingData:{source:"selection_context_menu_rename_layers"}})}}:null,{action:"flatten-selection",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.flatten")},p?{action:"break-vector-network-into-paths",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.split_vector")}:null,p?{action:"add-transform-modifier-to-selection",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.wrap_with_transform")}:null,{action:"outline-stroke",flags:["edit"],shortcutText:(0,Z.c1)(this.props.appModel.keyboardShortcuts,"outline-stroke")},{action:"mask-selection",flags:["edit"],get displayText(){let e=(0,nd.P)();return(0,nc.A)(e)}},p?{action:"create-brush-menu",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.create-brush-menu"),children:[{action:"create-stretch-brush"},{action:"create-scatter-brush",featureFlags:["ce_il_scatter"]}]}:null,{action:"set-as-primary-breakpoint",flags:["edit"],displayText:(0,_.t)("fullscreen_actions.set-as-primary-breakpoint")},this.props.canSetAsFavicon&&!this.props.appModel.isReadOnly?this.getFaviconMenu(this.getSelectionGuid()===this.props.sceneGraph.getCurrentPage()?.responsiveSetSettings?.faviconID):null,this.props.canSetAsFileThumbnail&&!this.props.appModel.isReadOnly?this.getFileThumbnailMenu(this.getSelectionGuid()===this.props.openFile?.thumbnailGuid):null,(0,l.k)().dse_library_pg_thumbnails&&this.props.canSetAsPageThumbnail&&!this.props.appModel.isReadOnly?this.getPageThumbnailMenu():null,{separator:!0},{action:this.props.propertiesPanelShouldShowRemoveAutoLayout?"unstack-selection":"stack-selection",flags:["design","edit","slides"]},(0,no.r)({msalEnabled:(0,Z.Yh)(this.props.appModel,"run-multi-stack-auto-layout")&&!this.props.propertiesPanelShouldShowRemoveAutoLayout,destroyAllALEnabled:(0,Z.Yh)(this.props.appModel,"destroy-all-auto-layout"),resizeToFitEnabled:(0,Z.Yh)(this.props.appModel,"resize-to-fit")}),{action:"create-symbol",flags:["edit"]},this.sitesSemanticTagMenu(),{action:"create-code-layer-from-design",flags:["edit","sites"]},{action:"create-make-from-design",flags:["edit","design"],featureFlags:["bake_canvas"],displayText:(0,_.t)("fullscreen_actions.create-make-prototype")},{action:"edit-code",flags:["edit","sites"]},{action:"restore-design-in-place-from-code",flags:["edit","sites"]},{action:"create-template",flags:["edit"],featureFlags:["dse_templates_proto"]},...(0,n_.$)()?[{action:"convert-to-slot",flags:["edit"]}]:[],y&&t?{name:"swap-to-related-symbol",flags:["edit"],childDropdown:t}:null,b&&i?{name:"swap-to-related-state",flags:["edit"],childDropdown:i}:null,{action:"reset-symbol",flags:["edit"]},{action:"reset-fauxverride",flags:["edit","sites"]},{action:"detach-instance",flags:["edit","design","sites"]},this.getMainComponentActionsMenu(),{action:"link-to-component",flags:["edit"]},...w?[]:j,this.getFigJamRemovePluginActionsMenu(),{separator:!0},{action:"toggle-shown-for-selected-nodes",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.show_hide")},{action:"toggle-locked-for-selected-nodes",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.lock_unlock")},{action:"unlock-all",flags:["edit","whiteboard"]},{separator:!0},{action:"flip-horizontal",flags:["edit"]},{action:"flip-vertical",flags:["edit"]},{separator:!0},{action:"remove-annotations",flags:["dev_handoff","design"]},{displayText:(0,_.t)("dev_handoff.layers.add_annotation"),flags:["design"],action:"add-annotation"},{separator:!0},...w?j:[],{separator:!0},this.getImageToProfilePicture(),...C,...s?this.skipSlidesMenu():[],{separator:!0},...s?this.slidesObjectAnimationMenu():[],(0,l.k)().dt_ccv2_on_canvas?{action:"find-codebase-suggestions",flags:[]}:null,k?{separator:!0}:null,k?{action:"debug-inspect-layer-figma-scope"}:null,S?{action:"debug-print-as-test-code"}:null]}getActionSource(){return this.props.isTextEditModeMenu?"canvas_context_menu":this.props.isObjectsPanelMenu?"panel":this.props.isRulerGuideMenu||this.props.isSelectLayerMenu?void 0:"canvas_context_menu"}render(){let e=this.props.clientX,t=this.props.clientY,i=(0,iZ.WI)(this.props.isTextEditModeMenu?this.textEditModeMenu():this.props.isSelectLayerMenu?this.selectLayerMenu():this.props.isRulerGuideMenu?this.rulerGuideMenu(this.props.axis,this.props.rulerGuideContextMenuType):this.props.isSingleSlideViewCarousel?this.singleSlideViewCarouselMenu():this.props.isBuzzCarousel?this.buzzCarouselMenu():this.contextMenu());return rb(i,this.getActionSource()),(0,n.jsx)("div",{className:`${w.Dm}`,children:(0,n.jsx)(iw.Q,{appModel:this.props.appModel,dispatch:this.props.dispatch,isLimitedDevMode:this.props.isLimitedDevMode,menuItems:i,recordingKey:"layerMenu",removeDisabledItems:!0,sceneGraph:this.props.sceneGraph,sceneGraphSelection:this.props.sceneGraphSelection,selectedView:this.props.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}};function rc(e){let t=e.mirror.sceneGraph.getCurrentPage()?.guid;return e.library.publishableSymbols.some(e=>e.containingFrame.pageId===t)||e.library.publishableStateGroups.some(e=>e.containingFrame.pageId===t)}function ru(e){let t=(0,a.d4)(tp.tB),i=(0,iI.Tg)(),r=(0,tD._X)({subscribeToUpdates_expensive:!0}),s=(0,nx.ud)(),o=(0,iM._I)(),l=(0,iM.U4)(),d=(0,a.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),u=ry(),p=(0,a.wA)(),m=(0,iI.Be)(),h=m.orgPlugins,f=(0,nm.h)("plugin"),g=(0,U.J2)((0,eC.UK)().spellCheckPreference),_=(0,c.R)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection),i=1===t.length?(0,e_.UN)().get(t[0]):null,n=null!=i&&("FRAME"===i.type&&!i.resizeToFit||"SYMBOL"===i.type||"SECTION"===i.type||"RESPONSIVE_SET"===i.type||"WEBPAGE"===i.type),r=null!=i&&"FRAME"===i.type&&i.isTopLevelFrame(),a=e.selectedView.editorType,s=n&&!i?.isInstanceSublayer;return{appModel:e.mirror.appModel,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,localExtensions:e.localPlugins,userCanViewPlugins:(0,tm.Eh)(e),userCanViewWidgets:(0,iI.BE)(e),userCanRunExtensions:(0,tm.cb)(e),sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library,masterSymbolGUID:e.mirror.selectionProperties.masterSymbolGUID,propertiesPanelShouldShowRemoveAutoLayout:e.mirror.selectionProperties.propertiesPanelShouldShowRemoveAutoLayout,orgEntity:(0,ng.EL)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,user:e.user,fillPaints:e.mirror.selectionProperties.fillPaints,canSetAsFavicon:r,canSetAsFileThumbnail:s,canSetAsPageThumbnail:s&&rc(e),canCopyLink:e.mirror.selectionProperties.canCopyLinkToSelection,fileVersion:e.fileVersion,stateGroupSelectionInfo:e.mirror.selectionProperties.stateGroupSelectionInfo,widgetSelectionInfo:e.mirror.selectionProperties.selectedWidgetInfo,publishedCanvasWidgetVersions:e.publishedCanvasWidgetVersions,embedData:e.mirror.selectionProperties.embedData,linkPreviewData:e.mirror.selectionProperties.linkPreviewData,pluginRelaunchData:e.mirror.selectionProperties.pluginRelaunchData,numSelected:e.mirror.selectionProperties.numSelected,accessibilityCategory:e.mirror.selectionProperties.accessibilityCategory,accessibilityLabelType:e.mirror.selectionProperties.accessibilityLabelType,attributionContextKey:e.sharingAttributionContextKey,editorType:a,isDevHandoff:a===J.nT.DevHandoff,isLimitedDevMode:(0,nB.$A)(e.selectedView)&&!(0,iM.tn)(e)}}),x=(0,nz.PE)(),y=(0,n$.Ne)(),b=(0,nV.LC)(),C=rt(),v=(0,nf.J)(),E=(0,i4.to)();return(0,n.jsx)(rd,{...e,..._,activeTextReviewPlugin:d,allSavedPlugins:m.plugins,canAccessDevMode:o,canAccessDevModeEntryPoint:l,dispatch:p,editorType:_.editorType,fileByKey:s,hasAIPermission:x,hasFragmentSearchPermission:b,hasSlidesAiTextEnabled:y,isCooper:E,isEligibleForDesignToSites:C,isPrototypeCanvasEditUiVisible:u,openFile:t,orgPrivatePlugins:f,orgSavedPlugins:h,recentlyUsedPlugins:i,shouldShowSendToMake:v,spellCheckPreference:g,viewportInfo:r})}rd.displayName="SelectionContextMenu",rd.refreshCache=new nL.O(i1.A.duration(1,"day"));var rp=(e=>(e.SINGLE_SLIDE_VIEW="single_slide_view",e.COOPER_CAROUSEL="cooper_carousel",e))(rp||{});function rm(e){let t=(0,a.d4)(tp.tB),i=(0,iI.Tg)(),r=(0,tD._X)({subscribeToUpdates_expensive:!0}),s=(0,nx.ud)(),o=(0,iM._I)(),l=(0,iM.U4)(),d=(0,a.d4)(e=>e.mirror.appModel.activeTextReviewPlugin),u=ry(),p=(0,a.wA)(),m=(0,iI.Be)(),h=m.orgPlugins,f=(0,nm.h)("plugin"),g=(0,U.J2)((0,eC.UK)().spellCheckPreference),_=(0,c.R)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection),i=1===t.length?(0,e_.UN)().get(t[0]):null,n=null!=i&&("FRAME"===i.type&&!i.resizeToFit||"SYMBOL"===i.type||"SECTION"===i.type),r=e.selectedView.editorType,a=n&&!i?.isInstanceSublayer;return{appModel:e.mirror.appModel,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,localExtensions:e.localPlugins,userCanViewPlugins:(0,tm.Eh)(e),userCanViewWidgets:(0,iI.BE)(e),userCanRunExtensions:(0,tm.cb)(e),sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection,library:e.library,masterSymbolGUID:e.mirror.selectionProperties.masterSymbolGUID,propertiesPanelShouldShowRemoveAutoLayout:e.mirror.selectionProperties.propertiesPanelShouldShowRemoveAutoLayout,orgEntity:(0,ng.EL)(e),org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,user:e.user,fillPaints:e.mirror.selectionProperties.fillPaints,canSetAsFavicon:!1,canSetAsFileThumbnail:a,canSetAsPageThumbnail:a&&rc(e),canCopyLink:e.mirror.selectionProperties.canCopyLinkToSelection,fileVersion:e.fileVersion,stateGroupSelectionInfo:e.mirror.selectionProperties.stateGroupSelectionInfo,widgetSelectionInfo:e.mirror.selectionProperties.selectedWidgetInfo,publishedCanvasWidgetVersions:e.publishedCanvasWidgetVersions,embedData:e.mirror.selectionProperties.embedData,linkPreviewData:e.mirror.selectionProperties.linkPreviewData,pluginRelaunchData:e.mirror.selectionProperties.pluginRelaunchData,numSelected:e.mirror.selectionProperties.numSelected,accessibilityCategory:e.mirror.selectionProperties.accessibilityCategory,accessibilityLabelType:e.mirror.selectionProperties.accessibilityLabelType,attributionContextKey:e.sharingAttributionContextKey,editorType:r,isDevHandoff:r===J.nT.DevHandoff,isLimitedDevMode:(0,nB.$A)(e.selectedView)&&!(0,iM.tn)(e)}}),x=(0,nz.PE)(),y=(0,n$.Ne)()&&"single_slide_view"===e.carouselType,b=(0,nV.LC)(),C=rt(),v=(0,i4.to)();return(0,n.jsx)(rd,{...e,..._,activeTextReviewPlugin:d,allSavedPlugins:m.plugins,canAccessDevMode:o,canAccessDevModeEntryPoint:l,dispatch:p,editorType:_.editorType,fileByKey:s,hasAIPermission:x,hasFragmentSearchPermission:b,hasSlidesAiTextEnabled:y,isBuzzCarousel:"cooper_carousel"===e.carouselType,isCooper:v,isEligibleForDesignToSites:C,isPrototypeCanvasEditUiVisible:u,isSingleSlideViewCarousel:"single_slide_view"===e.carouselType,openFile:t,orgPrivatePlugins:f,orgSavedPlugins:h,recentlyUsedPlugins:i,spellCheckPreference:g,viewportInfo:r})}function rh({expandElement:e,guid:t,...i}){let r=(0,a.d4)(e=>e.mirror.sceneGraphSelection),s=(0,a.d4)(e=>e.mirror.appModel),o=(0,a.d4)(e=>e.mirror.sceneGraph),l=(0,v.hA)()??void 0,d=(0,tp.q5)(),c=(0,a.d4)(e=>e.mirror.selectionProperties.canCopyLinkToSelection),u=(0,H.Fk)((e,t)=>{let i=e.get(t);return i?i.canHaveAnnotation:null},t),p=(0,nU.s9)(),m=(0,a.wA)(),h=f.Ay.windows?"Ctrl+":"\u2318",g=[e?{name:"expand-element",callback:e}:null,{separator:!0},u&&p?{name:"add-annotation",action:"add-annotation"}:null,{separator:!0},navigator.clipboard&&navigator.clipboard.write?{action:"copy",shortcutText:`${h}C`}:null,{action:"copy-text"},{action:"copy-as-svg"},{action:"copy-as-png"},{action:"copy-layer-name"},c?{name:"copy-link",args:{label:(0,_.t)("fullscreen.context_menu.copy_link",{editorSpecifierString:""})},callback:()=>{if(!d)return;let e=(0,nS.jN)({file:d,nodeId:t,isDevHandoff:!0,devModeFocusId:l,isReadOnly:!0,isFigJam:!1,attributionContext:null});m(na.S({fileKey:d.key,url:e,source:nk.d.FULLSCREEN_CONTEXT_MENU,visualBellMessageOverride:void 0}))}}:null],x=i.clientX,y=i.clientY;return(0,n.jsx)("div",{className:`${w.Dm}`,children:(0,n.jsx)(iw.Q,{appModel:s,dispatch:m,menuItems:g.filter(i7.t),recordingKey:"codeMenu",removeDisabledItems:!0,sceneGraph:o,sceneGraphSelection:r,selectedView:i.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:x+100,top:y,right:x+110,bottom:y-10}})})}function rf({...e}){let t=(0,a.d4)(e=>e.mirror.sceneGraphSelection),i=(0,a.d4)(e=>e.mirror.appModel),r=(0,a.d4)(e=>e.mirror.sceneGraph),s=(0,a.wA)(),o=f.Ay.windows?"Ctrl+":"\u2318",l=[];navigator.clipboard&&navigator.clipboard.write&&l.push({name:"copy",shortcutText:`${o}C`,callback:()=>{e.onCopyText()}});let d=e.clientX,c=e.clientY;return(0,n.jsx)("div",{className:`${w.Dm}`,children:(0,n.jsx)(iw.Q,{appModel:i,dispatch:s,menuItems:l,recordingKey:"codeMenu",removeDisabledItems:!0,sceneGraph:r,sceneGraphSelection:t,selectedView:e.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:d+100,top:c,right:d+110,bottom:c-10}})})}function rg(e,t,i,n,r,a,s){return e&&i&&t.commentsEnabled&&f.Ay.isIpadNative?[{name:"add-comment",callback:()=>{!function(e,t,i,n,r){if(!e)return;let a={x:t,y:i-rr};if(r)r({x:a.x,y:a.y,width:36.8,height:36.8});else{let t=(0,tD.$$)(e,a);n(iq.vV({anchorPosition:t})),n(iq.CX())}}(i,n,r,a,s)}},{separator:!0}]:[]}function r_(e,t){var i;if(!e)return[];let n=!!e?.figma;return[...function(e,t){let{figma:i,textReviewPlugin:n}=e,r=e=>{if(!e)return[];let i=[],n=e?.suggestions||[],r=e?.rangeStart||0,a=e?.rangeEnd||0;for(let e of n.slice(0,3))i.push({action:"replace-selected-text",flags:rx,displayText:e,recordingKey:`replace-selected-text-${i.length}`,args:{replacementText:e,rangeStart:r,rangeEnd:a},callback(){let e=(0,ic.pi)({editorType:(0,J.oD)(t)});(0,e$.sx)("Spell Check Suggestion Clicked",{productType:e})}});return i},a=r(i),s=r(n);return a.length||s.length?!a.length&&s.length?[{header:!0,name:nO.SH()?.plugin.name||"Plugin"},...s]:a.length&&!s.length?a:[...a,{name:"replace-selected-text",displayText:nO.SH()?.plugin.name||"Plugin",children:s}]:[{header:!0,flags:rx,name:(0,_.t)("spell_check.no_suggestions_found")}]}(e,t),{separator:!0},...n&&e?.figma?.rangeText?[(i=e?.figma?.rangeText,{name:"spell-check-menu-add-word",flags:rx,callback:async(e,t,n)=>{try{let e=await i5.Ay.post("/api/spell-check-words",{word:i});if(200===e.status){let e=await (0,nT.Xw)();await e.addWords([i]),j.Y5.triggerAction("redo-spell-checking")}else(0,S.x1)("spell_check_add_word_error","spell check add word failed http request",{responseStatus:e.status,responseData:e.data},{reportAsSentryError:!0})}catch(e){e.message.includes("The word provided already exists in your dictionary")||(i0.k.error(e),(0,S.x1)("spell_check_add_word_error","spell check add word error",{err:e},{reportAsSentryError:!0}))}}})]:[]]}let rx=["design","whiteboard","slides","sites","cooper"];function ry(){return(0,U.ut)((0,nE.aY)(),o.FAf.DESIGN)===o.FAf.PROTOTYPE}function rb(e,t){t&&e.forEach(e=>{e&&((0,nl._o)(e)&&(e.source=t,"submenu"in e&&e.submenu&&rb(e.submenu,t)),(0,nl.TV)(e)&&e.children&&rb(e.children,t))})}var rC=i(11182);function rv({clientX:e,clientY:t,selectedView:i}){let s=(0,a.wA)(),o=(0,a.d4)(e=>e.mirror.appModel),l=(0,tp.q5)(),d=r.useCallback(()=>{s(rC.lW({stringToCopy:(0,nS.jN)({file:l,isDevHandoff:!0,isDevModeOverview:!0,isReadOnly:!0,isFigJam:!1,attributionContext:null}),successText:(0,_.t)("permissions.copy_link_button.visual_bell.copy_summary_link")}))},[s,l]),c=[{name:"page-copy-link",displayText:(0,_.t)("dev_handoff.status.copy_summary_link"),callback:d}];return(0,n.jsx)("div",{className:`${w.Dm}`,children:(0,n.jsx)(iw.Q,{appModel:o,menuItems:c,dispatch:s,selectedView:i,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},removeDisabledItems:!1,recordingKey:"overviewMenu"})})}function rE({pageId:e,clientX:t,clientY:i,selectedView:r}){let s=(0,a.wA)(),o=(0,a.d4)(e=>e.mirror.appModel),l=(0,H.Fk)((e,t)=>e.get(t)?.isPageDivider,e),d=[{action:"page-copy-link",args:{nodeId:e},disabled:l}];return(0,n.jsx)("div",{className:`${w.Dm}`,children:(0,n.jsx)(iw.Q,{appModel:o,menuItems:d,dispatch:s,selectedView:r,showPoint:!1,targetRect:{width:10,height:10,left:t+100,top:i,right:t+110,bottom:i-10},removeDisabledItems:!1,recordingKey:"pageMenu"})})}function rT(e){let t=(0,a.wA)(),i=(0,a.d4)(e=>e.mirror.appModel),r=e.clientX,s=e.clientY,o=[{name:"redistribute-gradient-stops",callback:e.redistributeStops},{separator:!0},{name:"delete-gradient-stop",callback:e.deleteStop}];return(0,n.jsx)("div",{className:`${w.Dm}`,children:(0,n.jsx)(iw.Q,{appModel:i,menuItems:o,dispatch:t,selectedView:e.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:r+100,top:s,right:r+110,bottom:s-10},removeDisabledItems:!1,recordingKey:"pageMenu"})})}var rw=i(687265),rj=i(556482),rS=i(929976),rk=i(614223),rI=i(617427);function rN({name:e,variant:t,recordingKey:i,onClick:r}){return(0,n.jsx)(rk.J,{brand:"design",mode:"dark",children:(0,n.jsx)("div",{className:"xdqdrvq",children:(0,n.jsx)(rI.Ih,{variant:t,recordingKey:i,onClick:r,children:e})})})}var rA=i(548615);function rO({targetInViewport:e,selectedView:t}){let i=(0,a.wA)(),s=(0,a.d4)(e=>e.mirror.appModel),l=(0,e_.UN)(),d=(0,tD.ni)(),c=(0,iM.xo)(),u=(0,r.useCallback)(()=>{(0,nG.u)({source:o.Qej.RFD_INITIAL_NUDGE}),i(rS.oB())},[i]);(0,rA.KV)(o.Qej.RFD_INITIAL_NUDGE,!0);let p=(0,r.useMemo)(()=>[{name:(0,_.t)("dev_handoff.linter.menu_title_header"),header:!0,displayTextClassName:rj.Ay.props(rL.title,rL.header).className},{name:(0,_.t)("dev_handoff.linter.menu_title_subheader"),header:!0,displayTextClassName:rj.Ay.props(rL.title,rL.subheader).className},{render:()=>(0,n.jsx)(rN,{name:(0,_.t)("fullscreen_actions.quick_actions.detect-violations"),variant:"primary",recordingKey:"linterDetectViolations",onClick:u}),preventDismissOnSelected:!0,preventSelectOnMouseEnter:!0,flags:["design","dev_handoff"],disabled:!!c},{render:()=>(0,n.jsx)(rN,{name:(0,_.t)("dev_handoff.linter.menu_skip_button"),variant:"secondary",recordingKey:"skipLinting",onClick:()=>i(rS.oB())}),preventDismissOnSelected:!0,preventSelectOnMouseEnter:!0,flags:["design","dev_handoff"],disabled:!!c}],[c,i,u]),m=e.origin.x+d.x,h=e.origin.y+d.y,f={left:m,top:h,right:m+e.size.x,bottom:h+e.size.y,width:e.size.x,height:e.size.y};return(0,n.jsx)("div",{className:w.Dm,children:(0,n.jsx)(iw.Q,{appModel:s,dispatch:i,menuItems:p,minWidth:200,recordingKey:"linterMenu",removeDisabledItems:!c,sceneGraph:l,selectedView:t,showPoint:!0,targetRect:f})})}let rL={title:{maxWidth:"xb3xe92",whiteSpace:"xeaf4i8",color:"xz16r55",$$css:!0},header:{paddingTop:"x1iorvi4",...rw.g.textBodyMediumStrong,$$css:!0},subheader:{paddingBottom:"xjkvuk6",...rw.g.textBodyMedium,$$css:!0}};var rR=i(624465),rM=i(489933),rD=i(248118),rP=i(848862),rF=i(834956);function rB(){let e=(0,rP.Um)(),t=(0,a.wA)(),i=(0,rD.Gt)(e?.data.pluginId,e?.data.triggeredFrom),r=(0,rD.dR)(e?.data.pluginId,e?.data.triggeredFrom),s=(0,rM.t)(e?.data.pluginId,i,r);if(!e)return null;let o=e.data.target.height+e.data.target.width>0;return(0,n.jsx)(rF.j,{showPoint:o,items:s,onSelectItem:e=>{e.callback&&e.callback("",null,t)},parentRect:e.data.target,dispatch:t,lean:o?"left":"right"})}var rU=i(882262),rG=i(311375),rH=i(879363),rz=i(37051),rV=i(186343),rK=i(63728),rW=i(637027);let rq=(0,d.eU)("");function rY({onResult:e}){let[t,i]=(0,d.fp)(rq),[s,o]=(0,r.useState)(!1),l=r.useRef(null),c=(0,r.useCallback)(e=>{i(e.target.value)},[i]),u=(0,a.d4)(e=>(0,nB.$A)(e.selectedView)),p=(0,r.useCallback)(()=>{e(t),i("")},[t,e,i]),m=r.useCallback(e=>{switch(e.keyCode){case rK.Uz.SPACE:case rK.Uz.ENTER:p(),e.stopPropagation();return}},[p]);return(0,r.useEffect)(()=>{let e=l.current;if(e)return e.addEventListener("keydown",m),()=>{e.removeEventListener("keydown",m)}},[m]),(0,n.jsx)(rk.J,{brand:u?"dev-handoff":"design",mode:"dark",children:(0,n.jsxs)("div",{className:"ready_status_menu_item--menuItemContainer--Uy01z",children:[(0,n.jsx)(rW.ks,{autoFocus:!0,className:"ready_status_menu_item--textInput--iqTJf",maxLength:1e3,onChange:c,onCompositionEnd:()=>o(!1),onCompositionStart:()=>o(!0),onKeyDown:e=>{e.stopPropagation(),"Enter"!==e.key||e.shiftKey||s||p()},placeholder:(0,_.t)("dev_handoff.status.menu_note_placeholder"),type:"textarea",value:t}),(0,n.jsx)(rI.Ih,{ref:l,variant:"primary",onClick:p,recordingKey:"markReady",children:(0,_.tx)("dev_handoff.status.menu_note_button")})]})})}let rX="status_context_menu--headerStrong--9G-Jb";function rJ({targetInViewport:e,nodeId:t,selectedView:i}){let s=(0,a.wA)(),u=(0,a.d4)(e=>e.mirror.appModel),p=(0,e_.UN)(),m=(0,rG.mJ)(t),h=!!m?.hasReadyStatus,f=!!m?.hasCompletedStatus,g=h||f,x=(0,rU.D)()&&!!m?.hasBeenEditedSinceLastStatusChange,y=(0,tp.q5)(),b=(0,iU.U)("status_label_menu"),C=(0,tD.ni)(),v=(0,iM._I)(),E=(0,iM.U4)(),T=(0,rU.D)(),j=v&&T,S=(0,Z.Yh)(u,"set-selection-completed-status"),k=(0,Z.Yh)(u,"mark-incomplete"),I=(0,i2.qZ)(),N=(0,iD.U)(),A=(0,tR.E3)(),[,O]=(0,d.fp)(rH.wz),L=(0,rV.dh)(),R=(0,tl.A0)(o.uQ6.READY_FOR_DEV),M=(0,iM.xo)(),D=(0,r.useMemo)(()=>o.w3z.isReadOnly(o.SES.NODE_STATUS),[]),P=o.w3z.canEditNodeStatus(),F=E&&D&&!v,B=(0,c.R)(e=>"fullscreen"===e.selectedView.view?{...e.selectedView,editorType:J.nT.DevHandoff,focusViewBackNavigation:{toEditorType:e.selectedView.editorType,toOverview:!1},devModeFocusId:t,overviewBackButtonTargetNodeId:L}:e.selectedView),U=(0,r.useMemo)(()=>{if(!y)return[];let e=k?{name:"status-mark-as-ready",callback:()=>{rz.z4.setNodesReady(!0,[t],"canvas",null),R&&(0,tl.R4)([t])},flags:["dev_handoff","design"],disabled:!!M}:null,r=S?{name:"status-mark-as-completed",callback:()=>{rz.z4.setNodesCompleted([t],"canvas")},flags:["dev_handoff","design"],disabled:!!M}:null,a=h?r:e,l=I?{name:"detect-violations",callback:()=>{(0,nG.u)({source:o.Qej.RFD_STATUS_MENU})},flags:["dev_handoff","design"],featureFlags:["aip_flower_garden","aip_flower_garden_ready_for_dev"],disabled:!!M}:null,d=[...l?[l]:[],...a?[a]:[]],c={name:"ready-status-copy-dev-link",callback:()=>{let e=(0,nS.jN)({file:y,nodeId:t,isDevHandoff:!0});s(na.S({fileKey:y.key,url:e,source:nk.d.STATUS_DROPDOWN_MENU}))},flags:["dev_handoff","design"]},u=E?[{name:"ready-status-open-in-dev-mode",callback:()=>{b("handoff")},flags:["design"]},c]:[c],p={separator:!0,flags:["design","dev_handoff"]},m=[p,{render:()=>(0,n.jsx)(iz,{}),optionHeight:32,flags:["design"]}],C=j&&!rz.z4.getIsExtension()?[{name:"enter-dev-mode-focus-view",callback:()=>{N("Dev Mode Canvas Focus Entry Clicked",{nodeId:"devModeFocusId"in B?B.devModeFocusId:""}),b("handoff"),O(A===J.nT.DevHandoff?"dev_mode_canvas":"design_canvas"),s(rS.sf(B))},flags:["design","dev_handoff"]},{name:"status-copy-focus-link",callback:()=>{let e=(0,nS.jN)({file:y,nodeId:L,isDevHandoff:!0,devModeFocusId:i?.devModeFocusId??t});s(na.S({fileKey:y.key,url:e,source:nk.d.STATUS_DROPDOWN_MENU}))},flags:["dev_handoff","design"],alwaysShowCheckMarkOffset:!1}]:u;if(!P)return[...C,...F?m:[]];let v=[...C,...d.length>0?[p,...d]:[],p,{name:"status-remove",callback:()=>{rz.z4.setNodesReady(!1,[t],"canvas",null)},flags:["dev_handoff","design"],alwaysShowCheckMarkOffset:!1,disabled:!!M},...F?m:[]];return g?x?[{name:"completed-status-remark-as-ready",displayText:f?(0,_.t)("dev_handoff.status.menu_title_design_changed_since_completed"):(0,_.t)("dev_handoff.status.menu_title_design_changed_since_ready"),displayTextClassName:rX,children:v,showDotDotDotButton:!0},{render:()=>(0,n.jsx)(rY,{onResult:e=>{rz.z4.setNodesReady(!0,[t],"canvas",e??null),R&&(0,tl.R4)([t]),s(rS.oB())}}),preventDismissOnSelected:!0,preventSelectOnMouseEnter:!0,allowClickThrough:!0,flags:["design","dev_handoff"],disabled:!!M}]:v:[{header:!0,name:(0,_.t)("dev_handoff.status.menu_title_start_handoff_title"),displayTextClassName:rX},{render:()=>(0,n.jsx)(rY,{onResult:e=>{rz.z4.setNodesReady(!0,[t],"canvas",e??null),R&&(0,tl.R4)([t]),s(rS.oB())}}),flags:["design","dev_handoff"],disabled:!!M}]},[y,S,k,L,h,E,P,F,t,b,s,j,g,x,B,i?.devModeFocusId,f,A,O,N,R,M,I]),G=e.origin.x+C.x,H=e.origin.y+C.y,z={left:G,top:H,right:G+e.size.x,bottom:H+e.size.y,width:e.size.x,height:e.size.y};return(0,rA.KV)(o.Qej.RFD_STATUS_MENU,I&&!!(0,l.k)().aip_flower_garden_ready_for_dev),(0,n.jsx)("div",{className:`${w.Dm}`,children:(0,n.jsx)(iw.Q,{appModel:u,dispatch:s,menuItems:U,minWidth:176,recordingKey:"readyStatusMenu",removeDisabledItems:!M,sceneGraph:p,selectedView:i,showPoint:!0,targetRect:z})})}var rZ=i(663269);function rQ(e){let t=(0,a.wA)(),i=(0,c.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),r=(0,tp.q5)(),s=(0,rZ.oA)(r?.siteMount);return(0,n.jsx)(r$,{...e,...i,openFileHasPublishedSiteMount:!!s&&"published"===s.status,dispatch:t})}class r$ extends r.PureComponent{constructor(e){super(e)}componentDidMount(){o.VDs?.setExpectingCopyCutEvent(!0)}componentWillUnmount(){o.VDs?.setExpectingCopyCutEvent(!1)}contextMenu(){let e=this.props.sceneGraphSelection,t=this.props.sceneGraph.getCurrentPage()?.defaultResponsiveSetId,i=!!t&&void 0!==e[t];return[{action:"sites-copy-link",flags:["edit"],displayText:(0,_.t)("sites.fullscreen_actions.copy-external-url"),disabled:!this.props.openFileHasPublishedSiteMount},{action:"copy-link",flags:["edit"],displayText:(0,_.t)("sites.fullscreen_actions.copy-link")},{separator:!0},{action:"rename-selection",flags:["edit"],displayText:(0,_.t)("fullscreen.context_menu.rename")},{action:"duplicate",flags:["edit"],displayText:(0,_.t)("sites.fullscreen_actions.duplicate-webpage")},{action:"copy",flags:["edit"]},{action:"delete-selection",flags:["edit"],disabled:i,displayText:(0,_.t)("sites.fullscreen_actions.delete-selection")},{separator:!0},{action:"set-as-site-homepage",flags:["edit"]}]}render(){let e=this.props.clientX,t=this.props.clientY,i=(0,iZ.WI)(this.contextMenu());return(0,n.jsx)("div",{className:`${w.Dm}`,children:(0,n.jsx)(iw.Q,{appModel:this.props.appModel,dispatch:this.props.dispatch,isLimitedDevMode:this.props.isLimitedDevMode,menuItems:i,recordingKey:"webpageMenu",removeDisabledItems:!0,sceneGraph:this.props.sceneGraph,sceneGraphSelection:this.props.sceneGraphSelection,selectedView:this.props.selectedView,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}}function r0({clientX:e,clientY:t,selectedView:i,isLayerLike:r,isInteraction:s,renameItem:o,deleteItem:l,selectOnCanvas:d}){let u=(0,a.wA)(),{sceneGraph:p,sceneGraphSelection:m}=(0,c.R)(e=>({sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),h=(0,a.d4)(e=>e.mirror.appModel),f=[];return f.push({name:"rename-selection",displayText:(0,_.t)("fullscreen.context_menu.rename"),callback:o,shortcutText:" "}),r&&f.push({name:"select-on-canvas",displayText:(0,_.t)("sites.code_layer.context_menu.select_on_canvas"),callback:d}),f.push({name:r?"delete-code-layer":s?"delete-code-interaction":"delete-code-file",callback:l}),(0,n.jsx)("div",{className:w.Dm,children:(0,n.jsx)(iw.Q,{appModel:h,dispatch:u,menuItems:f,recordingKey:"codeComponentContextMenu",removeDisabledItems:!0,sceneGraph:p,sceneGraphSelection:m,selectedView:i,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}r$.displayName="WebpageContextMenu";var r1=i(687767),r2=i(226737),r3=i(952764);function r5({clientX:e,clientY:t,selectedView:i,targetItem:r,paint:s,onPaintChange:l}){let d=(0,a.wA)(),{appModel:u,sceneGraph:p,sceneGraphSelection:m}=(0,c.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),h=(0,r2.s1)(),f=(0,r1.k1)(h),g=[];return"DOCUMENT_COLOR"===r.type?g.push({name:"slides-move-to-theme-colors",recordingKey:"moveToThemeColors",callback:()=>{let e=f(r.documentColor);e&&s&&(0,tc.hS)(s)&&s.color&&(0,eF.DA)(s.color,r.documentColor)&&l((0,r3.FW)(e),nP.zk.YES)}}):(g.push({name:"slides-edit-theme-color",recordingKey:"edit",callback:r.onEdit}),g.push({name:"slides-delete-theme-color",recordingKey:"delete",callback:()=>{o.CWU?.deleteVariable(r.variableId)}})),(0,n.jsx)("div",{className:w.Dm,children:(0,n.jsx)(iw.Q,{appModel:u,dispatch:d,menuItems:g,recordingKey:"slidesColorPickerContextMenu",removeDisabledItems:!0,sceneGraph:p,sceneGraphSelection:m,selectedView:i,showPoint:!1,targetRect:{width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10}})})}var r4=i(367372),r6=i(915765),r7=i(491152),r8=i(156213),r9=i(106207),ae=i(973927),at=i(924253),ai=i(79930),an=i(672727),ar=i(880974),aa=i(106955),as=i(102752),ao=i(918700);let al=(0,as.Ju)(function({sectionId:e,initialTemplateId:t,initialShelfId:i,onConfirm:r,onCancel:a}){let s=(0,tp.tS)();return(0,n.jsx)(iF.fu,{name:"section_preset_picker_confirmation_modal_shown",properties:{fileKey:s,sectionId:e,initialTemplateCategory:i,initialTemplateId:t,templateType:ai.n.HubFile},children:(0,n.jsx)(ao.yX,{confirmationTitle:(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:ed()(e5.s.fontSemiBold.font15.$,"section_preset_picker--alertHeader--oa08R"),children:(0,_.tx)("whiteboard.section_preset_picker.confirmation_modal.header")}),(0,_.tx)("whiteboard.section_preset_picker.confirmation_modal.description")]}),confirmText:(0,_.t)("whiteboard.section_preset_picker.confirmation_modal.confirm_text"),cancelText:(0,_.t)("whiteboard.section_preset_picker.confirmation_modal.cancel_text"),onConfirm:r,onCancel:a})})},"SectionPresetPickerConfirmationModal");function ad({name:e,leadingIcon:t,onIconClick:i}){return(0,n.jsxs)("div",{className:"section_preset_picker--headerItemContainer--0R5QO dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",children:[(0,n.jsx)("button",{className:ed()("section_preset_picker--headerIconButton--tDLql section_preset_picker--iconBase--HKG97",{"section_preset_picker--hover--GYcQi":i}),onClick:i,children:(0,n.jsx)(e3.B,{svg:t})}),(0,n.jsx)("div",{className:"section_preset_picker--headerText--XZRQV section_preset_picker--textContainer--dyEMF text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L",children:e})]})}var ac=i(443820),au=i(56834),ap=i(802589);function am(){return(0,n.jsx)("div",{className:"section_preset_picker--loadingSpinnerContainer--OM30n",children:(0,n.jsx)(ac.k,{size:"lg"})})}function ah({name:e,description:t,iconUrl:i}){return(0,n.jsx)(ag,{name:e,description:t,iconUrl:i,trailingIcon:(0,n.jsx)(e3.B,{className:"section_preset_picker--chevronRight--hORsb",svg:ap.A}),itemType:"shelf"})}function af({name:e,description:t,iconUrl:i,isSelected:r,iconBackgroundColor:a}){return(0,n.jsx)(ag,{name:e,description:t,iconUrl:i,trailingIcon:r?(0,n.jsx)(e3.B,{svg:au.A}):void 0,iconBackgroundColor:a,itemType:"template"})}function ag({name:e,description:t,itemType:i,iconUrl:r,trailingIcon:a,iconBackgroundColor:s}){return(0,n.jsxs)("div",{className:ed()({"section_preset_picker--shelfItemContainer--KochN section_preset_picker--bodyItemContainer--Ani9M dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":"shelf"===i,"section_preset_picker--templateItemContainer--tCRxk section_preset_picker--bodyItemContainer--Ani9M dropdown--option--JMVCh dropdown--_optionBase--z-REc text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L":"template"===i}),children:[(0,n.jsx)("div",{className:ed()({"section_preset_picker--shelfItemIcon--MASDu section_preset_picker--iconBase--HKG97":"shelf"===i,"section_preset_picker--templateItemIcon--eWzYK section_preset_picker--iconBase--HKG97":"template"===i}),style:{backgroundColor:s},children:r&&(0,n.jsx)("img",{src:r,alt:(0,_.t)("whiteboard.section_preset_picker.shelf.thumbnail")})}),(0,n.jsxs)("div",{className:"section_preset_picker--textContainer--dyEMF text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",children:[(0,n.jsx)("div",{className:"section_preset_picker--nameText--LS4BG",children:e}),(0,n.jsx)("div",{className:"section_preset_picker--descriptionText--OCJkN",children:t})]}),a&&(0,n.jsx)("div",{className:"section_preset_picker--trailingIcon--X-run section_preset_picker--iconBase--HKG97",children:a})]})}var a_=i(500946),ax=i(751870),ay=i(577900);let ab="section_preset_item",aC=/^Section(\s\d+)?$/,av=(0,ex.jz)(ew.IuL);function aE({sectionId:e,sectionName:t,initialShelfId:i,initialTemplateId:s,showAlertOnSelect:l}){let c,u;let p=(0,a.wA)(),m=(0,tp.tS)(),h=(0,d.md)(aa.g),f="hasData"===h.state?h.data:[],g=0!==f.length,[x,y]=(0,r.useState)(i),[b,C]=(0,r.useState)(!1),[v,E]=(0,r.useState)(!1),T=(0,ae.fG)(),w=(0,an.g)(),j=(0,d.Xr)(ar.Yq),S=(0,d.Xr)(ar.pn),k=(0,d.Xr)(ar.bj),I=(0,d.md)(ar.oh),N=(0,d.md)(ar.pF),A=(0,at.q)(),O=(0,d.md)(ar.pg),L=function(e,t){let i=(0,tD._X)({subscribeToUpdates_expensive:!0}),n=i.zoomScale,a=(0,r.useMemo)(()=>{let t=(0,e_.UN)().get(e);if(!t)return null;let i=t.absoluteBoundingBox;return{canvasSpaceSectionTopLeft:t.canvasSpaceSectionTopLeft,canvasSpaceSectionOrigin:{x:i.x,y:i.y}}},[n,e]);if(!a)return null;let{canvasSpaceSectionTopLeft:s,canvasSpaceSectionOrigin:o}=a,l=(0,tD.Z0)(i,{x:s.x,y:s.y},!0),d={x:l.x-8,y:l.y},c=(0,tD.Z0)(i,o,!0),u=Math.max(d.y+i.y,i.y+8),p={top:u,bottom:u+200,height:200,left:0,right:d.x,width:301},m={x:(0,tD.Qt)(t.x,0,n,0),y:(0,tD.Qt)(t.y,0,n,0)};return{contextMenuRect:p,mouseBoundaryRect:{x:d.x,y:c.y+i.y,width:m.x+8,height:m.y}}}(e,N),R=r.useRef(!1),M=r.useCallback(()=>{j(),S(),C(!1)},[j,S]);(0,r.useEffect)(()=>{let e=setTimeout(()=>{E(!0)},500);return()=>clearTimeout(e)},[]),(0,r.useEffect)(()=>()=>{R.current||(j(),S())},[j,S]);let D=L?.mouseBoundaryRect;if((0,r.useEffect)(()=>{if(!b||!D)return;let e=(0,r6.s)(function(e){let t=document.activeElement?.id??"";(!D||e.clientX>D.x+D.width||e.clientX<D.x||e.clientY>D.y+D.height||e.clientY<D.y)&&!t.includes(ab)&&M()},16);return window.addEventListener("mousemove",e),()=>{window.removeEventListener("mousemove",e)}},[M,b,D]),!L)return null;let{contextMenuRect:P}=L,F=(i,n,r)=>{if(A&&m&&!O&&(C(!1),I?.template.id!==i.template.id)){if(j(),i.template.id===s){S();return}i.type===ai.n.HubFile&&(0,r9.Zg)({insert:()=>w(i,{moveViewportAfterPreview:!1,priority:"user-visible",previewManager:{nodeType:o.Z6A.SECTION,options:{nodeId:e,newName:aC.test(t)||n&&t===n?r:null,shelfId:i.category??"",templateId:i.template.id,templateName:(0,ae.gY)(i)}}}),template:i,fileKey:m,dispatch:p,triggeredFrom:"section-preset",userTriggered:!1,isPreview:!0})}},B=e=>{(0,r9.Zg)({insert:()=>k({selectTemplateAfterCommit:!1,moveViewportAfterCommit:!1,priority:"user-visible",editScopeType:tV.zk.USER}),template:e,fileKey:m,dispatch:p,triggeredFrom:"section-preset",userTriggered:!0})},U=t=>{A&&m&&!O&&t.template.id!==s&&(R.current=!0,l?p((0,r8.to)({type:al,data:{sectionId:e,initialTemplateId:s,initialShelfId:i,onConfirm:()=>B(t),onCancel:()=>M()}})):B(t))},G=x?f.find(e=>e.id===x):void 0;if(G){c={displayText:G.title,render:()=>(0,n.jsx)(ad,{name:G.title,leadingIcon:ax.A,onIconClick:()=>{y(null),j()}}),preventDismissOnSelected:!0};let e=i&&s?(0,a_.bO)(f,i,s):null;u=G.shelf_content.map((t,i)=>{let r={type:ai.n.HubFile,template:t,category:x},{name:a,description:o}=T(r),l=(0,r7.$J)(o).trim(),d="client_meta"in t?JSON.parse(t.client_meta):{},c=d.preset_picker?.thumbnail_url_dark_bg??"";return{displayText:a,render:()=>(0,n.jsx)(af,{name:a,description:l,iconUrl:c,isSelected:s===r.template.id,iconBackgroundColor:(0,a_.j3)(i)}),onMouseEnter:()=>{F(r,e,a)},callback:()=>U(r)}})}else c={displayText:"Edit section name",render:()=>(0,n.jsx)(ad,{name:(0,_.t)("whiteboard.section_preset_picker.shelf.title"),leadingIcon:ay.A}),preventDismissOnSelected:!0},u=f.map(t=>({displayText:t.title,render:()=>(0,n.jsx)(ah,{name:t.title,description:t.description,iconUrl:t.shelf_meta.preset_picker?.thumbnail_url}),preventDismissOnSelected:!0,callback:()=>{(0,e$.sx)("section_preset_picker_category_clicked",{fileKey:m,sectionId:e,selectedCategory:t.id,initialTemplateCategory:i,initialTemplateId:s}),y(t.id),j()}}));if(!g){if(!v)return null;u.push({displayText:"Loading",render:()=>(0,n.jsx)(am,{}),disabled:!0})}return(0,n.jsx)(iF.fu,{name:"section_preset_picker_shown",enabled:g,properties:{fileKey:m,sectionId:e,initialTemplateCategory:i,initialTemplateId:s,templateType:ai.n.HubFile},children:(0,n.jsx)(rF.j,{depth:0,disableDropdownScrollContainer:!0,dispatch:p,displayOverTarget:!0,items:[c,...u],lean:"left",leanPadding:0,minBottomMargin:av,minWidth:301,onMouseLeaveMenu:e=>{if(e.clientX>=P.right){C(!0);return}M()},onSelectItem:e=>{e.callback&&e.callback("",null,p)},parentRect:P,preventZoom:!0,recordingKey:ab,showPoint:!1})})}function aT(e){let t=(0,a.d4)(e=>!e.mirror.appModel.isReadOnly),i=(0,tp.q5)();(0,a.d4)(e=>i?.team||null);let r=(0,iI.x)(),s=(0,iI.QZ)(),o=(0,iI.V2)(),l=e.dropdownShown.type,d=(0,iR.v)();if(l===w.K9){let{clientX:i,clientY:a}=e.dropdownShown.data;return(0,n.jsx)(ru,{clientX:i,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:r,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!1})}if(l===w.wi){let{clientX:i,clientY:a}=e.dropdownShown.data;return(0,n.jsx)(ru,{clientX:i,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:r,userCanViewWidgets:s,userCanRunExtensions:o,isSelectLayerMenu:!0,isObjectsPanelMenu:!1})}if(l===w.ku){let{clientX:i,clientY:a}=e.dropdownShown.data;return(0,n.jsx)(ru,{clientX:i,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:r,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!1,isTextEditModeMenu:!0})}if(l===w.t4){let{clientX:i,clientY:a,axis:l,rulerGuideContextMenuType:d}=e.dropdownShown.data;return(0,n.jsx)(ru,{axis:l,clientX:i,clientY:a,isObjectsPanelMenu:!1,isRulerGuideMenu:!0,isTextEditModeMenu:!1,rulerGuideContextMenuType:d,selectedView:e.selectedView,userCanEditFile:t,userCanRunExtensions:o,userCanViewPlugins:r,userCanViewWidgets:s})}if(l===w.Rb){let{clientX:i,clientY:a}=e.dropdownShown.data;return(0,n.jsx)(ru,{clientX:i,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:r,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!0})}if(l===w.W_){let{clientX:i,clientY:a}=e.dropdownShown.data;return(0,n.jsx)(ro,{clientX:i,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:r,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!0,ariaLabelledBy:e.ariaLabelledBy})}if(l===w.LO)return(0,n.jsx)(rB,{});else if(l===w.SA){let{clientX:t,clientY:i,pageId:r}=e.dropdownShown.data;return(0,n.jsx)(rE,{pageId:r,clientX:t,clientY:i,selectedView:e.selectedView})}else if(l===w.bx){let{clientX:t,clientY:i}=e.dropdownShown.data;return(0,n.jsx)(rv,{clientX:t,clientY:i,selectedView:e.selectedView})}else if(l===w.d2){let{clientX:t,clientY:i,pageIds:r,shouldShowDuplicateOption:a}=e.dropdownShown.data;return(0,n.jsx)(rR.W,{pageIds:r,clientX:t,clientY:i,selectedView:e.selectedView,shouldShowDuplicateOption:a})}else if(l===w.Z7){let{thread:t,pinClientRect:i}=e.dropdownShown.data;return(0,n.jsx)(iJ,{selectedView:e.selectedView,thread:t,pinClientRect:i,copyLink:d})}else if(l===w.DT){let{attachment:t,clientX:i,clientY:r}=e.dropdownShown.data;return(0,n.jsx)(iL,{attachment:t,selectedView:e.selectedView,clientX:i,clientY:r})}else if(l===w.i){let{clientX:i,clientY:a,stringToCopy:l,expandElement:d,guid:c}=e.dropdownShown.data;return(0,n.jsx)(rh,{clientX:i,clientY:a,expandElement:d,guid:c,isObjectsPanelMenu:!0,selectedView:e.selectedView,stringToCopy:l,userCanEditFile:t,userCanRunExtensions:o,userCanViewPlugins:r,userCanViewWidgets:s})}else if(l===w.Sl){let{clientX:i,clientY:a,onCopyText:l}=e.dropdownShown.data;return(0,n.jsx)(rf,{clientX:i,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:r,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!0,onCopyText:l})}else if(l===w.WJ){let{targetInViewport:i,nodeId:a}=e.dropdownShown.data;return(0,n.jsx)(rJ,{targetInViewport:i,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:r,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!0,nodeId:a})}else if(l===w.AM){let{targetInViewport:t}=e.dropdownShown.data;return(0,n.jsx)(rO,{targetInViewport:t,selectedView:e.selectedView})}else if(l===w.XX){let{targetInViewport:i,annotationsCount:a}=e.dropdownShown.data;return(0,n.jsx)(iW,{targetInViewport:i,annotationsCount:a,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:r,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!0})}else if(l===w.si){let{sectionId:i,initialShelfId:a,initialTemplateId:l,sectionName:d,showAlertOnSelect:c}=e.dropdownShown.data;return(0,n.jsx)(aE,{initialShelfId:a,initialTemplateId:l,isObjectsPanelMenu:!0,sectionId:i,sectionName:d,selectedView:e.selectedView,showAlertOnSelect:c,userCanEditFile:t,userCanRunExtensions:o,userCanViewPlugins:r,userCanViewWidgets:s})}else if(l===w.U3){let{clientX:i,clientY:a}=e.dropdownShown.data;return(0,n.jsx)(rm,{clientX:i,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:r,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!1,carouselType:rp.SINGLE_SLIDE_VIEW})}else if(l===w.kX){let{clientX:t,clientY:i,targetItem:r,paint:a,onPaintChange:s}=e.dropdownShown.data;return(0,n.jsx)(r5,{clientX:t,clientY:i,selectedView:e.selectedView,targetItem:r,paint:a,onPaintChange:s})}else if(l===w.OI){let{boundingRect:t,targetObjectAnimation:i}=e.dropdownShown.data;return(0,n.jsx)(r4.E,{boundingRect:t,selectedView:e.selectedView,targetObjectAnimation:i})}else if(l===w.J7){let{clientX:i,clientY:a}=e.dropdownShown.data;return(0,n.jsx)(rQ,{clientX:i,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:r,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!1,isTextEditModeMenu:!0})}else if(l===w.V6){let{clientX:t,clientY:i,deleteCollection:r,collectionId:a}=e.dropdownShown.data;return(0,n.jsx)(ij,{clientX:t,clientY:i,deleteCollection:r,selectedView:e.selectedView,collectionId:a})}else if(l===w.Zn){let{clientX:t,clientY:i,deleteField:r,duplicateField:a}=e.dropdownShown.data;return(0,n.jsx)(iS,{clientX:t,clientY:i,deleteField:r,duplicateField:a,selectedView:e.selectedView})}else if(l===w.s9){let{clientX:t,clientY:i,deleteItemOrItems:r}=e.dropdownShown.data;return(0,n.jsx)(ik,{clientX:t,clientY:i,deleteItemOrItems:r,selectedView:e.selectedView})}else if(l===w.jQ){let{clientX:t,clientY:i,deleteItem:r,renameItem:a,isLayerLike:s,isInteraction:o,selectOnCanvas:l}=e.dropdownShown.data;return(0,n.jsx)(r0,{clientX:t,clientY:i,isLayerLike:s,isInteraction:o,deleteItem:r,renameItem:a,selectOnCanvas:l,selectedView:e.selectedView})}else if(l===w.Vx){let{clientX:i,clientY:a}=e.dropdownShown.data;return(0,n.jsx)(rm,{clientX:i,clientY:a,selectedView:e.selectedView,userCanEditFile:t,userCanViewPlugins:r,userCanViewWidgets:s,userCanRunExtensions:o,isObjectsPanelMenu:!1,carouselType:rp.COOPER_CAROUSEL})}else if(l===w.Vl){let{clientX:t,clientY:i,deleteStop:r,redistributeStops:a}=e.dropdownShown.data;return(0,n.jsx)(rT,{clientX:t,clientY:i,deleteStop:r,redistributeStops:a,selectedView:e.selectedView})}return null}var aw=i(315512),aj=i(467440),aS=i(631279),ak=i(234505);function aI(){let e=(0,d.Xr)(aj.mH),t=(0,aS.XC)((0,d.md)(aj.a8));return(0,l.k)().cursor_bot&&t?(0,n.jsx)("div",{className:ak.CR,"data-testid":"cursor-bot-fullscreen-event-blocker",onClick:()=>{e(!0)}}):null}var aN=i(568977),aA=i(542194),aO=i(39751),aL=i(407352),aR=i(640017),aM=i(623300),aD=i(858013);function aP({background:e,showSpinner:t}){let i=r.useContext(eM.kw),{x:a,y:s,width:o}=i.getViewportInfo(),d={background:e},c=window.innerWidth-o;i&&(d={...d,width:`calc(100vw - ${c}px)`,height:`calc(100vh - ${s}px)`,top:`${s}px`,left:`${a}px`});let u=!1;return(0,l.k)().css_backed_loading_spinner?u=!0:!(0,l.k)().disable_page_switch_spinner||(0,f.KR)()||f.rr||(t=!1),(0,n.jsxs)("div",{className:"loading_overlay--pageSyncing--9AqbU",children:[(0,n.jsx)("div",{className:ed()("loading_overlay--blurredOverlay--79bya",w.Dm),style:d}),t&&u?(0,n.jsx)("div",{className:"loading_overlay--pageSyncingFadeIn--QVvQE",children:(0,n.jsx)(aD.$y,{size:"large"})}):t&&(0,n.jsx)(aD.dW,{className:"loading_overlay--pageSyncingSpinner--rjAvP"})]})}function aF(){let e=(0,iD.U)(),t=(0,a.d4)(e=>e.selectedView),i=a.d4(e=>e.versionHistory)?.isLoadingPage,s=(0,aR.DP)(),{isLoading:d}=(0,aM.v9)({selectedView:t,isLoadingVersionHistory:i,theme:s}),c=(0,a.d4)(e=>e.mirror.appModel.multiplayerSessionState),u=(0,aL.yZ)(),p=(0,a.d4)(e=>e.mirror.appModel.currentPage),m=(0,a.wA)(),[h,f]=r.useState(null),g=(0,aO.ZC)(d),_=(0,r.useCallback)(t=>{e("page_loading_overlay",{timeElapsedMs:t,pageNodeId:p},{forwardToDatadog:!0})},[e,p]);return r.useEffect(()=>{if((0,l.k)().long_page_change_notif){if(o.h3O.isIncrementalSession()&&d)d!==g&&u&&c!==o.kul.JOINED&&(f(Date.now()),m(x.F.enqueue({message:"Page change may take longer during staging deploy",error:!1,delay:3e3,type:"long-page-change",timeoutOverride:1/0})));else{let e=h?Date.now()-h:0;e<3e3||e>9e3?(m(x.F.dequeue({matchType:"long-page-change"})),f(null)):setTimeout(()=>{m(x.F.dequeue({matchType:"long-page-change"})),f(null)},Math.max(0,9e3-e))}}},[d,c,u,m,h,g]),(0,n.jsx)(aB,{onPageLoadingFinish:_,selectedView:t,isLoadingVersionHistory:i,theme:s})}function aB({onPageLoadingFinish:e,selectedView:t,isLoadingVersionHistory:i,theme:a}){let{isLoading:s,isLoadingMissingFonts:o,background:l}=(0,aM.v9)({selectedView:t,isLoadingVersionHistory:i,theme:a});return((0,r.useEffect)(()=>{!s&&aA.sn.get("page_loading_overlay")&&requestAnimationFrame(()=>{let t=aA.sn.tryStop("page_loading_overlay");t&&e&&e(t)})},[s,e]),s)?(aA.sn.get("page_loading_overlay")||aA.sn.start("page_loading_overlay"),(0,n.jsx)(aP,{background:l,showSpinner:!o})):null}var aU=i(465776),aG=i(880308),aH=i(534867),az=i(382883),aV=i(680873),aK=i(257275),aW=i(941192),aq=i(637515),aY=i(522374),aX=i(805925),aJ=i(625959),aZ=i(896988),aQ=i(612938),a$=i(202425),a0=i(480825),a1=i(963341),a2=i(826288),a3=i(109130),a5=i(737746),a4=i(57440),a6=i(864577),a7=i(73603),a8=i(755019),a9=i(995580),se=i(98578),st=i(649740),si=i(575164),sn=i(718668),sr=i(617101),sa=i(568132),ss=i(377036);let so=e=>(0,nl.Zj)(e)&&!e.hideCheckForQuickCommand;class sl extends t0.o6{constructor(e){super(e),this.searchInputRef=r.createRef(),this.scrollContainerRef=r.createRef(),this.listboxId=(0,aG.g)(),this.resultPrefix=(0,aG.g)(),this.delayedCloseTimerID=0,this.updateQueryAndResults=e=>{let t;if(e){let i=this.searchIndex.search(this.props.appModel,e.trim());t=this.sortedByEnabledSearchResults(i)}else t=this.recentlyUsedItemsMenu();this.logSearchResults(e,t),this.setState({searchQuery:e,searchResults:t,activeItemIndex:0,mouseMoved:!1})},this.logSearchResults=(e,t)=>{this.props.quickActionsSessionId&&this.props.fireQueryResultTrackingEvent({quickActionsSessionId:this.props.quickActionsSessionId,quickActionsQueryId:this.props.latestQuerySessionIdRef.current,searchQuery:e,numSearchResults:this.state.searchResults.length,currentSelection:this.props.currentSelection,module:q.Jc.ALL,moduleFilters:null,qaVersion:a5.U3,searchQueryResults:(0,a4.X)(t)})},this.cancelDelayedClose=()=>{0!==this.delayedCloseTimerID&&(clearTimeout(this.delayedCloseTimerID),this.delayedCloseTimerID=0)},this.onClick=t0.cZ(this,"click",e=>{e?.button!==0||this.state.searchResults.length>0||this.setState({searchResults:this.searchIndex.list(this.props.appModel)})}),this.onKeyDown=t0.C0(this,"keydown",e=>{let t=e=>{if(this.state.searchResults.length>0){let t=this.state.activeItemIndex+e,i=t<0?this.state.searchResults.length-1:t%this.state.searchResults.length,n=1!==this.state.searchResults.length||!this.state.displayAriaActiveDescendant;this.setState({activeItemIndex:i,displayAriaActiveDescendant:n}),this.scrollContainerRef.current.scrollElementAtIndexIntoView(i)}},i=(0,rK.vN)(e,rK.xH.CONTROL),n=f.Ay.mac?(0,rK.vN)(e,rK.xH.META):i,r=f.Ay.mac&&i;switch(e.keyCode){case rK.Uz.ENTER:{e.preventDefault();let t=this.state.searchResults[this.state.activeItemIndex];t&&tV.l7.user(`quick-actions-select-${t.name??t.action??"unknown"}`,()=>{this.onSelectItem(t)});break}case rK.Uz.ESCAPE:e.preventDefault(),this.cancelDelayedClose(),this.props.dispatch(rS.oB());break;case rK.Uz.N:case rK.Uz.DOWN_ARROW:if(e.keyCode===rK.Uz.N&&!r){(0,aZ.jr)(e,aZ.W0.NO);break}e.preventDefault(),this.cancelDelayedClose(),t(1);break;case rK.Uz.P:case rK.Uz.UP_ARROW:if(e.keyCode===rK.Uz.P&&!r){(0,aZ.jr)(e,aZ.W0.NO);break}e.preventDefault(),this.cancelDelayedClose(),t(-1);break;case rK.Uz.TAB:{e.preventDefault();let t=this.state.searchResults[this.state.activeItemIndex];t&&t.itemParameterArgs&&(this.onStartParameterMode(t.itemParameterArgs,t,"tab"),this.logActionSelectedEvent(t));break}case rK.Uz.R:case rK.Uz.S:case rK.Uz.D:case rK.Uz.E:case rK.Uz.F:case rK.Uz.O:if(n){e.preventDefault();let t=this.state.searchQuery+e.key;this.updateQueryAndResults(t)}break;default:"Meta"!==e.key&&"Ctrl"!==e.key&&this.cancelDelayedClose(),(0,aZ.jr)(e,aZ.W0.NO)}}),this.onSearchChange=t0.Z7(this,"change",e=>{let t=e.currentTarget.value;this.updateQueryAndResults(t)}),this.onSelectItem=(e,t)=>{if(e.disabled)this.cancelDelayedClose();else{let i=!1;if(e.itemParameterArgs){if(e.runPluginArgs&&!this.state.searchQuery)aQ.R.instance.enqueue({mode:"run-forever",runPluginArgs:e.runPluginArgs}),i=!0;else if(e.parametersRequired){this.onStartParameterMode(e.itemParameterArgs,e,t?.type==="click"?"click":"enter"),this.logActionSelectedEvent(e);return}}if(e.callback&&!i&&(e.callback((0,nl.Dz)(e),e.args,this.props.dispatch),i=!0),e.action&&(aJ.VU.get(e.action,"quick-actions",e.args)(t),i=!0),i&&this.addToRecentlyUsedCommands(e,e.runPluginArgs),this.logActionSelectedEvent(e),"toggle-publish"===e.action&&(0,e4.YQ)({id:"insert-component-onboarding-event"}),so(e)&&!(0,aK.PN)()){this.cancelDelayedClose(),this.delayedCloseTimerID=setTimeout(()=>{this.props.dispatch(rS.oB())},300);return}this.props.dispatch(rS.oB())}},this.renderResult=(e,t)=>{let i=t===this.state.activeItemIndex;return(0,n.jsx)(su,{actionIcon:this.getActionIcon(e),active:i,allSavedPlugins:this.props.pluginAndWidgetMenuArgs.allSavedPlugins,appModel:this.props.appModel,disabled:!!e.disabled,id:this.getResultId(t),isLastItem:t===this.state.searchResults.length-1,item:e,onClick:t=>this.onSelectItem(e,t),onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:t})},onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:t})},publishedPlugins:this.props.pluginAndWidgetMenuArgs.publishedPlugins,recordingKey:t0.Pt(this.props,e.action||"searchResult"),role:"option",searchQuery:this.state.searchQuery},e.action||t)},this.searchIndex=this.createSearchIndex(),this.state={searchQuery:"",searchResults:this.recentlyUsedItemsMenu(),activeItemIndex:0,displayAriaActiveDescendant:!0,mouseMoved:!1}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),(0,az.c2)(this.props.pluginAndWidgetMenuArgs,e.pluginAndWidgetMenuArgs)||(this.searchIndex=this.createSearchIndex())}createSearchIndex(){let e=(0,aq.M)({extensionMenuProps:this.props.pluginAndWidgetMenuArgs,isReadOnly:this.props.appModel.isReadOnly,includeDisabled:!0});return new a2.xm(this.props.appModel,this.props.selectedView,[...this.props.fullscreenMenuItems,...e],{includeDisabled:!0,acceptsUnicode:!0})}componentDidMount(){super.componentDidMount(),this.searchInputRef.current.focus()}logActionSelectedEvent(e){let{createMetrics:t}=this.props.interactionMetrics;(0,se.kp)({item:e,searchQuery:this.state.searchQuery,qaVersion:a5.U3,numSearchResults:this.state.searchResults.length,searchPosition:this.state.activeItemIndex,moduleFilters:null,...t()})}recentlyUsedItemsMenu(){return(0,iZ.WI)(this.props.recentlyUsedQuickCommands.map(e=>{let t=this.searchIndex.getItem(this.props.appModel,e.displayName);return t&&e.runPluginArgs&&(t.runPluginArgs=e.runPluginArgs),t}))}sortedByEnabledSearchResults(e){let t=e.filter(e=>!e.disabled),i=e.filter(e=>e.disabled);return t.concat(i)}addToRecentlyUsedCommands(e,t){let i=(0,a9.EG)(e),n=this.props.recentlyUsedQuickCommands.filter(e=>e.displayName!==i&&!!this.searchIndex.getItem(this.props.appModel,e.displayName));n.length>=3&&n.pop(),n.unshift({displayName:i,runPluginArgs:t}),this.props.dispatch(e8.PQ(n)),this.props.updateFrecencyHistory(e,this.state.searchQuery),(0,a7.s)({displayText:i,runPluginArgs:t,localFileIdOrPluginId:e.pluginLocalFileId??e.pluginId})}getActionIcon(e){if("plugins-menu-item"===e.name){let t;return(e.pluginId&&(t=(0,nA.DM)({idToSearch:e.pluginId,localExtensionsByFileId:void 0,publishedExtensions:{...this.props.pluginAndWidgetMenuArgs.publishedPlugins,...this.props.pluginAndWidgetMenuArgs.publishedWidgets}})),t&&!(0,nF.ZQ)(t))?(0,n.jsx)(a0.V,{className:si.ZR,plugin:t,role:"presentation"}):(0,n.jsx)(e3.B,{className:si.pB,svg:sa.A,ariaLabel:`${e.name} icon`})}if(e.iconType&&"external_link"===e.iconType)return(0,n.jsx)(e3.B,{svg:sr.A})}onStartParameterMode(e,t,i){this.addToRecentlyUsedCommands(t),this.props.onStartParameterEntry(e,t,i)}getResultId(e){return this.resultPrefix+"-"+e}renderResults(){let e=this.state.searchResults;if(this.state.searchQuery){if(0===this.state.searchResults.length)return(0,n.jsx)("div",{className:si.Tk,children:(0,_.tx)("fullscreen_actions.no_matches")})}else if(0===this.state.searchResults.length)return null;return(0,n.jsx)(st.h,{id:this.listboxId,ref:this.scrollContainerRef,resultCount:e.length,role:"listbox",children:e.map(this.renderResult)})}render(){let e=this.state.searchQuery||this.state.searchResults.length;return(0,n.jsxs)(st.H,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown,"data-testid":"quick-actions",children:[(0,n.jsxs)("div",{className:si.$P,children:[(0,n.jsx)(e3.B,{svg:ss.A,className:si.qc}),(0,n.jsx)("input",{ref:this.searchInputRef,"aria-activedescendant":e&&(this.state.displayAriaActiveDescendant||this.state.searchResults.length>1)?this.getResultId(this.state.activeItemIndex):void 0,"aria-autocomplete":"list","aria-controls":this.listboxId,"aria-expanded":e?"true":"false","aria-owns":this.listboxId,className:si.Rt,dir:"auto",maxLength:150,onChange:this.onSearchChange,onClick:this.onClick,placeholder:(0,nc.A)("quick-actions-modal-placeholder"),role:"combobox",spellCheck:!1,value:this.state.searchQuery})]}),this.renderResults()]})}}sl.displayName="QuickActions";let sd=(0,a.Ng)(function(e,t){return{pluginAndWidgetMenuArgs:t.pluginAndWidgetMenuArgs,fullscreenMenuItems:t.fullscreenMenuItems,interactionMetrics:t.interactionMetrics,fireQueryResultTrackingEvent:t.fireQueryResultTrackingEvent,currentSelection:t.currentSelection,updateFrecencyHistory:t.updateFrecencyHistory,appModel:e.mirror.appModel,selectedView:e.selectedView,recentlyUsedQuickCommands:t.recentlyUsedQuickCommands,onStartParameterEntry:t.onStartParameterEntry,locale:e.user?.locale,quickActionsSessionId:t.quickActionsSessionId,latestQuerySessionIdRef:t.latestQuerySessionIdRef}},function(e){return{dispatch:e}})(sl);function sc(e){let t=(0,aX.c4)(),i=(0,aY.F)(),r=(0,se.Sk)(),{addFrecencyUsage:s}=(0,a1.fJ)(),o=(0,a.d4)(a$.l),l=(0,tb.Ev)(),c=(0,d.md)(Y.dd),u=(0,d.md)(Y.Rt),p=(0,aV.F)(u),m=(0,a3.wo)();return(0,n.jsx)(sd,{...e,pluginAndWidgetMenuArgs:t,fullscreenMenuItems:i,interactionMetrics:r,updateFrecencyHistory:s,fireQueryResultTrackingEvent:l,currentSelection:o,quickActionsSessionId:c,latestQuerySessionIdRef:p,recentlyUsedQuickCommands:m})}function su(e){let t=(0,U.J2)((0,eC.UK)().showQuickCommandRankDebug);return(0,n.jsx)(sp,{...e,showQuickCommandRankDebug:t})}class sp extends t0.o6{constructor(e){super(e),this.onClick=t0.cZ(this,"click",e=>{if(!this.props.onClick)return t0.aH;this.props.onClick(e)}),this.getDisplayText=()=>{let e=this.props.item;if(e.itemParameterArgs&&e.runPluginArgs&&!this.props.searchQuery)return(0,n.jsx)(a8._,{runPluginArgs:e.runPluginArgs,itemParameterArgs:e.itemParameterArgs});if(e.itemPath){let t=e.itemPath;return(0,n.jsx)(a8.h,{itemPath:t})}let t=(0,a9.EG)(e);return this.props.showQuickCommandRankDebug&&void 0!==e.stringMatchScore&&void 0!==e.popularityScore&&(t=`M${e.stringMatchScore} P${e.popularityScore}: `+t),(0,n.jsx)("div",{className:si.D6,children:t})},so(this.props.item)?this.state={itemIsChecked:(0,nl.WJ)(this.props.appModel,this.props.item)}:this.state={}}componentDidUpdate(e,t){super.componentDidUpdate(e,t),null!=this.state.itemIsChecked&&this.setState({itemIsChecked:(0,nl.WJ)(this.props.appModel,this.props.item)})}render(){let e=this.props.item,t=this.getDisplayText(),i=(0,nl.Dz)(e),r=e.shortcutText||(0,Z.c1)(this.props.appModel.keyboardShortcuts,i),a=void 0!==this.props.item.runPluginArgs,s=e.menuActionType&&"run-local-plugin"===e.menuActionType&&(!e.runPluginArgs||this.props.searchQuery),o="plugins-menu-item"===e.name&&!!e.itemParameterArgs&&e.itemParameterArgs.parameters.length>0,d=null;void 0!==this.state.itemIsChecked?d=(0,n.jsx)(a6.S,{checked:this.state.itemIsChecked,disabled:this.props.disabled}):this.props.actionIcon&&(d=this.props.actionIcon);let c=`${this.props.active?si.ix:si.Ke} ${this.props.disabled?si.wn:""}`;return(0,n.jsxs)("div",{className:c,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,onClick:this.onClick,id:this.props.id,role:this.props.role,"aria-disabled":this.props.disabled||void 0,"aria-checked":this.props.item.checked,children:[(0,n.jsx)("div",{className:si.EA,children:d}),(0,n.jsxs)("div",{className:si.V4,children:[t,s&&(0,n.jsx)("div",{className:si.Vu,children:(0,_.tx)("fullscreen_actions.development")})]}),r&&!o&&(0,n.jsx)("div",{className:si.LE,children:(0,n.jsx)(ec.S,{shortcut:r})}),!r&&o&&(0,n.jsxs)("div",{className:si.LE,children:[(0,n.jsx)("div",{className:si.Hq,children:(0,_.tx)("fullscreen_actions.tab")}),a&&(0,n.jsx)("div",{className:si.w8,children:(0,_.tx)("fullscreen_actions.to_edit")}),(0,n.jsx)(e3.B,{svg:sn.A})]}),!r&&e.isRepairCommand&&(0,l.k)().internal_only_debug_tools&&(0,n.jsx)("div",{style:aW.sx.colorBgTertiary.p8.bRadius8.borderBox.flex.itemsCenter.justifyCenter.mr8.h16.add({fontSize:"8px"}).$,children:"REPAIR"})]})}}function sm({parameterEntryArgs:e,fireTrackingEvent:t}){let[i,a]=r.useState(),[s,o]=r.useState(!0),l=(0,d.Xr)(Y.dd);if(r.useEffect(()=>{if(s){o(!1);let i=(0,aG.g)();l(i),t(i),e&&a({args:e})}},[e,s,t,l]),!i)return(0,n.jsx)(sc,{recordingKey:"quickActions",onStartParameterEntry:(e,t,i)=>{let n;switch(i){case"tab":n="quick-actions-tab";break;case"enter":n="quick-actions-enter";break;case"click":n="quick-actions-click";break;default:(0,aU.xb)(i)}a({args:{...e,triggeredFrom:n},item:t})}});{let{args:e,item:t}=i,r=t?(0,a9.EG)(t):void 0;return(0,n.jsx)(aH.ry,{command:e.command,displayName:e.displayName,initialParameterValues:t?.runPluginArgs?.parameterValues,onExitParameterEntry:()=>{a(void 0)},parameterOnly:e.parameterOnly,parameters:e.parameters,pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,recentlyUsedCommandName:r,recordingKey:"parameterEntry",triggeredFrom:e.triggeredFrom})}}sp.displayName="QuickActionsResult";var sh=i(498139),sf=i(150656),sg=i(859698),s_=i(276332),sx=i(830372),sy=i(182453),sb=i(380814),sC=i(406976),sv=i(354452),sE=i(393980);function sT({inheritStyleKeyField:e,initialStyleCreationPaint:t,recordingKey:i,onSubmit:s,shouldUseEyedropperStyleCreationFlow:o}){let l=(0,a.d4)(e=>e.mirror.selectedStyleProperties),d=(0,a.d4)(e=>e.mirror.sceneGraphSelection),c=r.useRef(Object.keys(d).length>0),u=(0,s_.sg)(e),{styleRef:p,createStyle:m}=(0,sv.u)({inheritStyleKeyField:e,initialStyleCreationPaint:t,isCreatingFromSelection:c.current,trackingOptions:{styleType:u},shouldUseEyedropperStyleCreationFlow:o}),h=t0.of(i,"submit",()=>{m(),s(p)});return l.styleType?(0,n.jsxs)(sy.zK.Provider,{value:sy.zM.CREATE_VARIABLE_STYLE,children:[(0,n.jsx)(sE.O8,{type:l.styleType,recordingKey:i,isInspectPanel:!1,selectedStyleProperties:l,showProperties:!0,onEnterPressed:h}),(0,n.jsx)(sx.Y,{horizontalAlignItems:"end",verticalAlignItems:"center",padding:16,children:(0,n.jsx)(eZ.$n,{onClick:h,disabled:!p,variant:"primary",children:(0,_.tx)("design_systems.create_style.create_style")})})]}):null}var sw=i(165422),sj=i(174266),sS=i(553184),sk=i(630478);function sI({clientType:e}){let t=(0,iD.U)();return(0,r.useEffect)(()=>{let i=Date.now();return()=>{let n=Date.now()-i;t("reconnecting_modal_shown",{msElapsed:n,clientType:e}),n>1e3&&(0,sS.B3)(e)}},[e,t]),(0,n.jsx)("div",{className:`${sk.h} ${sk.M}`,children:(0,n.jsx)(rk.J,{mode:"dark",children:(0,n.jsxs)(sj.bL,{children:[(0,n.jsx)(ac.k,{}),(0,n.jsx)(sj.QB,{children:(0,_.tx)("reconnecting_modal.loading")})]})})})}function sN(){return(0,iD.U)()("waiting_for_sync_modal_shown"),(0,n.jsx)("div",{className:`${sk.h}`,children:(0,n.jsx)(rk.J,{mode:"dark",children:(0,n.jsxs)(sj.bL,{children:[(0,n.jsx)(ac.k,{}),(0,n.jsx)(sj.QB,{children:(0,_.tx)("waiting_for_sync_modal.saving")})]})})})}var sA=i(841415),sO=i(196462),sL=i(43374),sR=i(298663),sM=i(71222),sD=i(435789);function sP(e){let t=(0,sR.G)(),i=(0,sL.JI)();if(t||!i)return null;let r=(0,tc.E7)(i?.url)??"",a=null;if(""!==r){let{url:t,nodeIdInThisFile:i,versionId:n}=(0,nN.ih)(r,e.store);a=i&&!n?{type:"internal",id:i}:{type:"url",url:t}}let{x:s,y:l}=i,d=j.Y5.getViewportInfo(),c=Math.min(Math.max(s,100),d.width-100);return(0,n.jsx)("div",{className:"sites_hyperlink_editor--container--67YMj",style:{left:Math.round(c+d.x),top:Math.round(l+d.y)},children:(0,n.jsxs)("div",{className:`sites_hyperlink_editor--popup--3kD7E _overlayBase--_overlayBase--Rkj8l ${w.Dm}`,children:[a&&(0,n.jsx)(e3.B,{svg:sD.A,className:"sites_hyperlink_editor--breakIcon--LW2w0",onMouseDown:t=>{e.onClickTrash(t)},recordingKey:t0.Pt(e.recordingKey,"breakHyperlink")}),(0,n.jsx)(sM.MO,{id:"inline_editor",recordingKey:e.recordingKey,link:a,onLinkChange:t=>{let i;t?.type==="url"?i=t.url:t?.type==="internal"&&(i=j.Y5.generateLinkToNode(t.id)),e.setUrl(i??""),o.glU?.hideHyperlinkEditor()},isHyperlinkEditor:!0})]})})}function sF(e){return e.startsWith("mailto:")?-1!==e.indexOf("?")?e:e.substring(7):e}function sB(e){let t=(0,a.wA)(),i=(0,a.Pj)().getState(),[l,d]=r.useState(sF(e.hyperlinkLocation.url)),c=r.useRef(!0),u=r.useRef(l);r.useEffect(()=>{u.current=l},[l]);let p=r.useCallback(t=>tV.l7.user("set-hyperlink",()=>!!o.glU&&o.glU.setHyperlink(sF(t),e.hyperlinkLocation.nodeID,e.hyperlinkLocation.rangeStart,e.hyperlinkLocation.rangeEnd,null)),[e.hyperlinkLocation.nodeID,e.hyperlinkLocation.rangeEnd,e.hyperlinkLocation.rangeStart]);r.useEffect(()=>()=>{c.current&&(p(u.current),(0,e$.sx)("Hyperlink Editor Updated Link On Dismiss"))},[p]);let m=t0.AF(e.recordingKey,"change",e=>{d(e.target.value.trim())}),h=t0.v_(e.recordingKey,"keydown",i=>{if((0,aZ.jr)(i,aZ.W0.NO))return t0.aH;if("Escape"===i.key)i.preventDefault(),c.current=!1,(0,e$.sx)("Hyperlink Editor Cancelled On Escape"),o.glU.hideHyperlinkEditor();else if("Enter"===i.key){if(i.preventDefault(),c.current=!1,p(l)){if(""===l)(0,e$.sx)("Hyperlink Editor Deleted Link"),t(x.F.enqueue({message:(0,_.t)("hyperlink.link_deleted")}));else{let t={};if(l&&!l.startsWith("mailto:"))try{let i=new URL((0,sA.xT)(l)).hostname,n=e.editorType;t={domain:i,editorType:n}}catch(e){}(0,e$.sx)("Hyperlink Editor Updated Link On Enter",t)}}else(0,e$.sx)("Hyperlink Editor Invalid Link"),t(x.F.enqueue({message:(0,_.t)("hyperlink.invalid_link_plain")}));o.glU.hideHyperlinkEditor()}}),f=t0.rf(e.recordingKey,"click",i=>{c.current=!1,e.hyperlinkLocation&&tV.l7.user("clear-hyperlink",()=>o.glU.setHyperlink("",e.hyperlinkLocation.nodeID,e.hyperlinkLocation.rangeStart,e.hyperlinkLocation.rangeEnd,null)),t(x.F.enqueue({message:(0,_.t)("hyperlink.link_deleted")})),o.glU.hideHyperlinkEditor(),i.stopPropagation()}),g=e.hyperlinkLocation.x,y=e.hyperlinkLocation.y,b=j.Y5.getViewportInfo(),C=Math.round(Math.min(Math.max(g,100),b.width-100)+b.x),v=Math.round(y+b.y);return e.editorType===J.nT.Sites||e.editorType===J.nT.Figmake?(0,n.jsx)(sP,{recordingKey:"hyperlinkEditor",setUrl:d,onClickTrash:f,store:i}):(0,n.jsx)(sO.c,{url:l,location:new e1.Mi(C,v),onInputChange:m,onInputKeyDown:h,onBlur:s.lQ,onClickTrash:f})}var sU=i(844818),sG=i(848795),sH=i(552876),sz=i(587765),sV=i(960980),sK=i(825876),sW=i(957070);function sq(e){return{selectedView:e.selectedView,user:e.user,currentUserOrgId:e.currentUserOrgId,comments:e.comments,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,multiplayerEmoji:e.multiplayerEmoji,eyedropper:e.eyedropper,needsUpgrade:e.needsUpgrade,progressBarState:e.progressBarState,showingReconnectingModal:e.showingReconnectingModal,showingOpenDesktopAppModal:e.showingOpenDesktopAppModal,openFile:e.openFile,pagesList:e.mirror.appModel.pagesList,timerModalState:e.timer.modalState,timerTime:e.timer.time,universalInsertModal:e.universalInsertModal,isCommentsToolSelected:e.mirror.appModel.currentTool===o.NLJ.COMMENTS,loadingBackgroundColor:e.desktopNewTab.loadingBackgroundColor,isReadOnly:e.mirror.appModel.isReadOnly,currentPage:e.mirror.appModel.currentPage,hyperlinkLocation:e.mirror.appModel.hyperlinkLocation,onCanvasNameEditorInfo:e.mirror.appModel.onCanvasNameEditorInfo,topLevelMode:e.mirror.appModel.topLevelMode,showUi:e.mirror.appModel.showUi,showToolbar:!0,showKeyboardShortcuts:e.mirror.appModel.showKeyboardShortcuts,loadingEmbeds:e.mirror.appModel.loadingEmbeds,fileIsLoading:e.progressBarState.mode===o.Oin.HIDE_UI||e.progressBarState.mode===o.Oin.ON_AND_LOCKED,hasCursorBot:!!(0,l.k)().internal_only_debug_tools||!!e.userFlags.has_cursor_bot_onboarding_v2}}function sY({fileKey:e}){let t=(0,a.wA)(),i=(0,a.Pj)(),n=(0,a.d4)(e=>e.isFullscreenDocumentLoaded),s=(0,sz.jz)(),l=(0,sV.e_)()===sV.$_.ELIGIBLE,d=(0,H.Fk)(e=>e.getCurrentPage()?.guid);return r.useLayoutEffect(()=>{if(!n||!l)return;let r=i.getState(),a=s?.find(e=>e.inProgress),c=r.mirror.appModel.votingSessionInfo,u=c.sessionId&&s?s.find(e=>e.id===c.sessionId):null;if(a){if(a.id!==c.sessionId){t(T.au({}));let i=(0,B.VP)(r.loadingState,T.$c(e))||r.voting.lastInitiatedVotingSessionId===a.id;t(T.H1({votingStage:i?o.W8Y.JOINED:o.W8Y.NOT_JOINED}))}}else c.sessionId&&!u?t(T.H1({votingStage:o.W8Y.NO_SESSION})):!a&&c.sessionId&&c.votingStage!==o.W8Y.ENDED&&(t((u?.pageNodeId&&(0,m.oA)(u.pageNodeId))===d?T.H1({sessionId:c.sessionId,votingStage:o.W8Y.ENDED}):T.H1({votingStage:o.W8Y.NO_SESSION})),t(T.D6("")))},[e,t,s,n,l,i,d]),null}function sX(){let e=(0,a.d4)(e=>e.isFullscreenDocumentLoaded),t=r.useRef(!1);return r.useEffect(()=>{e&&!t.current&&((0,h.Z1)(),t.current=!0)},[e,t]),null}let sJ={VariableAndStyleCreateModalRoot:function({initialPosition:e,initialVariableValue:t,inheritStyleKeyField:i,initialStyleCreationPaint:r,initialView:s,resolvedType:l,onCreateVariable:d,onCreateStyle:c,onClose:u,disableStyleModal:p,shouldUseEyedropperStyleCreationFlow:m}){let h="createVariableAndStyleModal";(0,sC.NF)({resolvedType:l});let{onCreateVariableSubmit:f,onCreateStyleSubmit:g}=function({onCreateVariable:e,onCreateStyle:t,onClose:i}){let{onCreateVariableSubmit:n}=(0,sb.useVariableCreateModalActions)({onCreateVariable:e,onClose:i}),r=(0,tp._G)(),s=(0,a.d4)(e=>e.mirror.sceneGraph);return{onCreateVariableSubmit:n,onCreateStyleSubmit:function(e){let n=function(e){let t=o.Pt4.getStyleNodeId(e.key,e.version),i=s.get(t);return i?{type:tF.PW.STYLE,name:i.name,library_key:r??(0,i$.l)(""),key:i.styleKeyForPublish,thumbnail_url:"",canvas_url:"",content_hash:i.styleVersionHash??void 0,userFacingVersion:(0,sg.IA)(i.userFacingVersion),node_id:i.guid,isLocal:!0,style_type:i.styleType}:null}(e);n&&(t(n),i())}}}({onCreateVariable:d,onCreateStyle:c,onClose:u}),[x,y,b]=sf.t.useTabs({createStyle:!p,createVariable:!0},{recordingKey:t0.Pt(h,"viewTabs"),defaultActive:()=>s&&["createVariable","createStyle"].includes(s)?s:"createVariable"});return(0,n.jsx)(eW.bL,{onClose:u,defaultPosition:e,width:tA.i,recordingKey:"createStyleWindow",children:(0,n.jsxs)(eq.vo,{children:[(0,n.jsxs)(eq.Y9,{children:[(0,n.jsx)(eq.r1,{children:(0,_.tx)("design_systems.create_style.title")}),(0,n.jsxs)(sf.t.TabStrip,{manager:b,children:[(0,n.jsx)(sf.t.Tab,{...x.createStyle,children:(0,_.tx)("design_systems.create_style.style")}),(0,n.jsx)(sf.t.Tab,{...x.createVariable,children:(0,_.tx)("variables.create_modal.title")})]})]}),(0,n.jsxs)(eq.nB,{padding:0,children:[(0,n.jsx)(sf.t.TabPanel,{...y.createStyle,children:(0,n.jsx)(sT,{inheritStyleKeyField:i,initialStyleCreationPaint:r,recordingKey:"createStyleModal",onSubmit:g,shouldUseEyedropperStyleCreationFlow:m??!1})}),(0,n.jsx)(sf.t.TabPanel,{...y.createVariable,children:(0,n.jsx)(sb.CreateVariableForm,{resolvedType:l,initialValue:t,recordingKey:t0.Pt(h,"createVariableForm"),onSubmit:f})})]})]})})},VariableAndComponentPropCreateModalRoot:sh.NO};function sZ({children:e}){let t=(0,c.R)(sq),i=(0,a.wA)(),h=(0,D.TA)(),T=t.openFile?t.openFile.key:null,S=(0,G.px)().unwrapOr(null),k=(0,U.ut)(o.Ez5?.uiState().shouldShowAutoLayoutHintsIfExist,!1),I=(0,U.ut)(o.Ez5?.uiState().autoLayoutShortcutHints,new Map),N=(0,p.Rs)((0,F.Jpz)({key:T??""}),{enabled:!!T}),A=!1;if(N&&"loaded"===N.status&&t.openFile){let e=N.data.file;if(e&&h){let i=e.linkAccess,n=(0,m.oA)(e.team?.isStarterTeam,!1),r=(0,m.oA)(e.team?.isStudentTeam,!1),a=!!e.roles.find(e=>e.userId===h);A=(0,l.k)().starter_file_no_auto_grant_role?t.openFile.canEdit&&i===P.PQ.EDIT&&n&&!r&&!S:t.openFile.canEdit&&i===P.PQ.EDIT&&n&&!r&&!a}}(0,y.fk)(T);let O=t.openFile?.editorType==="design",B=(0,v.l7)(),H=(0,b.e)(),z=(0,v.ZO)(),V=(0,sH.Oc)(),[K]=(0,d.fp)(M.vE),W=(0,d.Xr)(t4),q=!t.showUi&&(0,Z.TY)(t.dropdownShown),Y=t.dropdownShown?.type===Z.jv,Q=Y?t.dropdownShown?.data?.parameterEntryArgs:void 0,$=t.dropdownShown?.data?.fireQuickActionsTrackingEvent||s.lQ,et=!(0,sU.ty)(),en=(0,r.useCallback)(e=>{i((0,E.r)({dataTransfer:e.dataTransfer,clientX:e.clientX,clientY:e.clientY}))},[i]),er=(0,r.useCallback)(e=>{j.Y5.reparentRootElement(e),e&&e.addEventListener("drop",en)},[en]),ea=K&&K.status===M.QY.WAITING,el=!ea&&t.showingReconnectingModal;return(0,n.jsxs)(n.Fragment,{children:[(0,l.k)().ee_color_management_debug?(0,n.jsx)(L,{}):null,T&&(0,n.jsx)(sY,{fileKey:T}),!(f.Ay.isIpad||f.Ay.isIpadNative||f.Ay.isMobileBrowser||f.Ay.isMeetDevice)&&(0,n.jsx)(sX,{}),(0,n.jsx)("div",{className:sW.MY,"data-forward-events-to-fullscreen":!0,children:(0,n.jsx)(tK.l.Provider,{value:sJ,children:(0,n.jsxs)(eK,{children:[(0,l.k)().cursor_bot&&O&&t.hasCursorBot&&(0,n.jsx)(aI,{}),!B&&!H&&!z&&!V&&(0,n.jsx)("div",{ref:er,onMouseEnter:()=>W(!0),onMouseLeave:()=>W(!1)},"fullscreen-container"),(0,n.jsx)(aF,{}),(0,n.jsx)(eo.T,{}),(0,R.T)()&&(0,l.k)().dt_vscode_ready_for_dev&&(0,n.jsx)(C.f,{isOnReadyForDevPage:!1}),!t.fileIsLoading&&(0,n.jsx)(ee,{}),q&&(0,n.jsx)(iw.e,{dropdown:t.dropdownShown},"fullscreen-menu"),Y&&(0,n.jsx)(g.tH,{boundaryKey:"QuickActionsOuter",onError:()=>{i(x.F.enqueue({message:"Unable to open quick actions",type:"react-error"}))},fallback:g.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,n.jsx)(sm,{parameterEntryArgs:Q,fireTrackingEvent:$},"quick-actions")}),(0,n.jsx)(X,{}),(0,l.k)().ce_al_experiments_on&&k&&I.size>0&&(0,n.jsx)(ep,{}),e,t.hyperlinkLocation&&(0,n.jsx)(sB,{hyperlinkLocation:t.hyperlinkLocation,editorType:t.selectedView.editorType,recordingKey:"hyperlinkEditor"}),(0,n.jsx)(es.y,{}),t.progressBarState.mode!==o.Oin.OFF&&(0,n.jsx)(sw.z2,{editorType:(0,J.oD)(t.selectedView.editorType),progressBarMode:t.progressBarState.mode,progressBarType:t.progressBarState.type,left:0}),ea?(0,n.jsx)(sN,{}):el&&(0,n.jsx)(sI,{clientType:"fullscreen"}),(0,n.jsx)(sK.Nd,{}),(0,n.jsx)(sK.jx,{showStartModal:A}),t.dropdownShown&&!et&&!f.Ay.isMeetDevice&&(0,n.jsx)(g.tH,{boundaryKey:"FullscreenContextMenu",onError:()=>{i(x.F.enqueue({message:"Unable to open context menu",type:"react-error"}))},fallback:g.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,n.jsx)(aT,{dropdownShown:t.dropdownShown,selectedView:t.selectedView,ariaLabelledBy:(0,_.t)("fullscreen.fullscreen_view.context_menu.aria_label")})}),t.pickerShown?.id===w.C9&&(0,n.jsx)(tS,{}),t.pickerShown?.id===aN.O&&(0,n.jsx)(aN.S,{recordingKey:"nudgeAmountPicker"}),(0,n.jsx)(iE,{})]})})}),(0,n.jsx)(ei,{}),t.showKeyboardShortcuts&&(0,n.jsx)(aw.k7,{recordingKey:"keyboardShortcutPanel"}),(0,l.k)().react_scenegraph&&(0,n.jsx)(sG.U,{fallback:u.H4.NONE})]})}},825876:(e,t,i)=>{i.d(t,{jx:()=>ec,XI:()=>eh,qn:()=>el,Nd:()=>ed,RS:()=>eo,P2:()=>ep,j6:()=>em,Ky:()=>eu});var n=i(486106),r=i(7378),a=i(514228),s=i(763686),o=i(815945),l=i(473493),d=i(383776),c=i(88239),u=i(837497),p=i(399472),m=i(156213),h=i(564183),f=i(455680),g=i(722362),_=i(516028),x=i(372672),y=i(407919),b=i(314264),C=i(915202),v=i(545630),E=i(242062),T=i(674695),w=i(614223),j=i(189185),S=i(700578),k=i(449184),I=i(901889),N=i(502364),A=i(544649),O=i(8833),L=i(741237),R=i(216495),M=i(275640),D=i(62612),P=i(833988),F=i(665602),B=i(151869),U=i(804114);function G(e){let t=(0,a.d4)(e=>e.mirror.selectionProperties.name),i=(0,a.d4)(e=>e.mirror.selectionProperties.width),r=(0,B.xv)(),o=(0,P.W)();if(!t||!i||!r)return null;let l=s.qmM?.editorTypeConfig().hasSlideRowBeenManuallyRenamed(r)??!0;return(0,n.jsx)(F.qn,{name:l?t:"",setName:i=>{t&&(j.l7.user("rename-frame",()=>L.i(r,i)),o({newTitle:i,nodeType:"FRAME"}),i!==t&&(0,P.d)(i).length>0&&(0,N.YQ)({id:"frame_node_name_changed_with_rfd_indicator",properties:{nodeId:r}}),e?.setNameCallback?.(r))},maxWidth:i,hasSlideRowBeenManuallyRenamed:l})}function H(){return(0,n.jsx)(w.J,{brand:"design",children:(0,n.jsx)(G,{setNameCallback:e=>{k.az.trackDefinedEvent("slides.rename_row",{rowId:e})}})})}function z(){let[e,t]=(0,M.lJ)("prototypeStartingPoint"),i=R.E7(e)?.name||"";return i?(0,n.jsx)(F.qn,{name:i,setName:i=>{i&&t({name:i,description:R.E7(e)?.description||"",position:R.E7(e)?.position||""})},maxWidth:93,containerClassname:U.VW}):null}function V(){let{measurementId:e,initMeasurementText:t}=(0,a.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),i=(0,a.d4)(e=>e.mirror.appModel.currentPage),o=r.useMemo(()=>s.w3z.findMeasurement(e,i),[e,i]),l=r.useRef(!o?.freeText),d=(0,A.Kv)(),c=function(){let e=(0,I.U)();return r.useCallback((t,i,n)=>{let r=t.findContainingTopLevelFrameOrSelf(),a=t.containingCanvas,s={measurement_id:i.id,from_node_id:i.fromNode,to_node_id:1===i.toNode.length?i.toNode[0].toString():i.toNode.toString(),node_type:t.type};r&&(s.tlf_id=r),a&&(s.page_id=a),s.free_text=n,e("update_annotation_measurement_free_text",s)},[e])}();return o?d?(s.glU?.hideOnCanvasNameEditor(),null):(0,n.jsx)(F.qn,{name:t,setName:e=>{let i=(0,S.UN)().get(o.fromNode);if(i){if(l&&e===t)return;j.l7.user("free-text-annotation-measurement",()=>{i.updateMeasurementFreeText(o.id,e),c(i,o,e)})}},maxWidth:150}):null}function K(){let{varWidthNodeId:e,varWidthIndex:t}=(0,a.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),i=(0,I.U)(),r=(0,S.UN)().get(e);if(!r)return null;let s=r.variableWidthPoints,o=r.strokeWeight;if(s.length<=t)return null;let l=s[t],d=l.ascent*o*2;return(0,n.jsx)(F.qn,{name:(Math.round(10*d)/10).toString(),containerClassname:U.WV,setName:e=>j.nc.user("set-var-width-point-ascent",()=>{let n=parseFloat(e);if(isNaN(n))return;let a=[...s];a[t]={...l,ascent:n/(2*o)},r.variableWidthPoints=a,i("on_canvas_var_width_point_update",{node_id:r.id})})(),maxWidth:200})}function W(){let e=(0,a.d4)(e=>e.mirror.selectionProperties.name),t=(0,a.d4)(e=>e.mirror.selectionProperties.width),i=(0,P.W)();return null!=e&&t?(0,n.jsx)(q,{name:e,setNameWithNodeId:(e,t)=>{j.l7.user("rename-section",()=>L.i(e,t?t.trim():"")),i({newTitle:t,nodeType:"SECTION"})},maxWidth:t}):null}function q(e){let{name:t,setNameWithNodeId:i,maxWidth:r}=e,o=(0,B.uQ)(),l=(0,F.R9)(t,e=>{o&&i(o,e)},{maxWidth:r}),d=(0,a.d4)(e=>{let t=e.mirror.appModel.activeCanvasEditModeType;return t===s.m1T.DESIGN_LAYOUT||t===s.m1T.SITES_LAYOUT}),{fontSize:c,top:u,left:p,height:m,horizontalPadding:h,verticalPadding:f,borderRadius:g}=function(e,t){let{fontSize:i,padding:n,margin:r,cornerRadius:o}=(0,a.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),l=s.qmM.editorTypeConfig().showBigSectionNamePills(),d=n.x,c=n.y,u=l?24:2*n.y+i,p=0,m=-r.y-u,h=s.qmM.editorTypeConfig().sectionNestedZoomLevel();return(!e||t<=h)&&(p=r.x,m=r.y),{fontSize:i,height:u,top:m,left:p,horizontalPadding:d,verticalPadding:c,borderRadius:o}}((0,a.d4)(e=>{if(null===o)return!1;let t=e.mirror.sceneGraph.get(o),i=e.mirror.appModel.currentPage,n=!!t?.isResponsiveSetOrWebpage;return t&&("SECTION"===t.type||n)&&t.parentGuid===i}),Math.round(100*(0,D._X)({subscribeToUpdates_expensive:!0}).zoomScale));if(!l||!o)return null;let{containerRef:_,measurerRef:x,containerStyle:y,editingName:b,onFocus:C,onChange:v,onKeyDown:E,onBlur:T,width:w,setIsComposing:j}=l,S=d?"normal":500;return(0,n.jsxs)("div",{ref:_,className:`${U.ed} ${O.Dm}`,style:y,children:[(0,n.jsx)("span",{ref:x,className:U.so,style:{fontSize:c,fontWeight:S,paddingLeft:h,paddingRight:h,paddingTop:f,paddingBottom:f},children:b}),(0,n.jsx)("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:U.Zk,dir:"auto",onBlur:T,onChange:v,onCompositionEnd:()=>j(!1),onCompositionStart:()=>j(!0),onFocus:C,onKeyDown:E,spellCheck:!1,style:{width:`${w}px`,fontSize:c,fontWeight:S,left:p,top:u,height:m,borderRadius:g,paddingLeft:h,paddingRight:h,paddingTop:f,paddingBottom:f},value:b})]})}var Y=i(780421),X=i(240060),J=i(838407),Z=i(612521),Q=i(303541),$=i(831799),ee=i(657783),et=i(918700),ei=i(639088);function en(e){let t=(0,x.iZ)();return(0,n.jsx)($.fu,{name:"Starter team edit confirmation modal",properties:{userId:t?.id,userEmail:t?.email},children:(0,n.jsx)(et.yX,{confirmationTitle:(0,Q.t)("fullscreen.starter_team_edit_modal.open_this_link"),confirmText:"Continue",onConfirm:()=>{(0,k.sx)("Starter File Edit Modal Confirm Clicked",{fileKey:e.fileKey}),ee.L.createStarterTeamFileRole({key:e.fileKey})},disableClickOutsideToHide:!0,hideOnConfirm:!1,size:"small",hideCancel:!1,hideClose:!0,onCancel:()=>{(0,k.sx)("Starter File Edit Modal Cancel Clicked",{fileKey:e.fileKey}),Z.Ay.redirect("/files/recents-and-sharing")},children:(0,n.jsx)("div",{className:ei.jE,children:(0,Q.tx)("fullscreen.starter_team_edit_modal.when_you_open_this_link_your_email_may_be_visible",{email:t?.email})})})})}var er=i(934246);let ea=(0,i(102752).Ju)(function(e){return(0,n.jsxs)(et.ey,{size:"small",className:ei.yl,disableClickOutsideToHide:!0,hide:er.lQ,children:[(0,n.jsx)("div",{className:ei.DD,children:(0,Q.tx)("file_migration.updating.title")}),(0,n.jsx)("div",{className:ei.jE,children:(0,Q.tx)("file_migration.updating.message")})]})},"FileMigrationWarningModal");function es(){return(0,a.d4)(e=>e.progressBarState)}let eo=(0,o.xx)((e,t,i)=>{e(p.gI()),e(u.mV({}))});function el(){switch((0,g.p8)("onCanvasNameEditorInfo").mode){case s.nzw.FRAME_NAME:return(0,n.jsx)(G,{});case s.nzw.FLOW_STARTING_POINT_NAME:return(0,n.jsx)(z,{});case s.nzw.SECTION_NAME:return(0,n.jsx)(W,{});case s.nzw.MEASUREMENT_FREE_TEXT:return(0,n.jsx)(V,{});case s.nzw.RESPONSIVE_SET_NAME:return(0,n.jsx)(W,{});case s.nzw.CANVAS_GRID_ROW_NAME:return(0,n.jsx)(H,{});case s.nzw.CANVAS_GRID_ROW_STATE_GROUP:return(0,n.jsx)(G,{});case s.nzw.GRID_TRACK_SIZE:return(0,n.jsx)(T.v2,{});case s.nzw.VAR_WIDTH_SIZE:return(0,n.jsx)(K,{});default:return null}}function ed(){let e=es(),t=(0,a.d4)(e=>e.showingOpenDesktopAppModal),i=(0,a.wA)();if(e.mode!==s.Oin.OFF)return(0,n.jsx)(n.Fragment,{});switch(t){case C.kF.FOR_OPEN:return(0,n.jsx)(X.g,{dispatch:i});case C.kF.FOR_MENU:return(0,n.jsx)(Y.s,{dispatch:i})}return(0,n.jsx)(n.Fragment,{})}function ec(e){let t=(0,_.q5)(),i=(0,x.iZ)();return e.showStartModal&&i&&t&&t.key?(0,n.jsx)(en,{fileKey:t.key}):(0,n.jsx)(n.Fragment,{})}function eu(){let e=(0,r.useRef)(null),t=(0,r.useRef)(!1),i=es(),n=(0,a.wA)(),o=(0,a.d4)(e=>e.needsUpgrade),l=(0,r.useCallback)(()=>{null!==e.current&&(clearTimeout(e.current),e.current=null)},[e]),d=(0,r.useCallback)(()=>{l(),e.current=setTimeout(()=>{t.current=!0,o&&i.mode!==s.Oin.OFF&&n((0,m.to)({type:ea}))},2e4)},[o,i,n,l]),c=(0,r.useCallback)(()=>{t.current&&n(m.Ce()),t.current=!1,l()},[t,l,n]);(0,r.useEffect)(()=>(f.Y5.fromFullscreen.on("multiplayerConnect",d),f.Y5.fromFullscreen.on("multiplayerDisconnect",l),f.Y5.fromFullscreen.on("multiplayerGotSchema",c),()=>{f.Y5.fromFullscreen.removeListener("multiplayerConnect",d),f.Y5.fromFullscreen.removeListener("multiplayerDisconnect",l),f.Y5.fromFullscreen.removeListener("multiplayerGotSchema",c),l()}),[l,d,c])}function ep(e,t,i){!t.current&&function(e,t){if(t===s.NLJ.VECTOR_PENCIL||t===s.NLJ.ERASER||t===s.NLJ.HIGHLIGHTER){var i;return i="figjam",(0,b.uE)("Pointer Input",y.D.getState(),{inputSource:e.pointerType,tool:function(e){switch(e){case s.NLJ.VECTOR_PENCIL:return"VECTOR_PENCIL";case s.NLJ.ERASER:return"ERASER";case s.NLJ.HIGHLIGHTER:return"HIGHLIGHTER"}}(t),productType:i}),!0}return!1}(e,i)&&(t.current=!0)}function em(e,t){t.current||(t.current=!0)}function eh({commentsDetailContainerRef:e}){let t=(0,g.p8)("topLevelMode")===s.lyf.HISTORY,i=(0,_.q5)(),r=(0,a.d4)(e=>e.user),o=(0,g.p8)("currentPage"),u=(0,a.d4)(e=>e.comments),p=(0,c.l7)(),m=(0,d.e)(),f=(0,c.ZO)(),x=(0,h.k)(),y=(0,l.xo)(),b=u.activeThread?.id||null,C=u.showOnlyParticipating,T=u.showResolved;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(J.Ay,{}),i&&!t&&!p&&!m&&!f&&(r||x)&&!y&&(0,n.jsx)(v.$2,{showOnlyParticipatingComments:C,showResolvedComments:T,pageId:o,activeId:b,renderDetailContainerInPortal:!0,detailContainerPortal:e.current}),!y&&(0,n.jsx)(E.yL,{})]})}},916286:(e,t,i)=>{i.d(t,{v:()=>F});var n=i(486106),r=i(7378),a=i(514228),s=i(763686),o=i(536384),l=i.n(o),d=i(506207),c=i(958735),u=i(858738),p=i(845253),m=i(84367),h=i(269770),f=i(27355),g=i(449184),_=i(407919),x=i(169182),y=i(288654),b=i(485103),C=i(304207),v=i(91703),E=i(107215),T=i(789),w=i(844435),j=i(236178),S=i(516028),k=i(386952),I=i(264395),N=i(43951),A=i(197432);function O(){return(0,I.o)(),(0,n.jsx)(n.Fragment,{})}function L(e){let t=(0,k._6)(),i="fullscreen"===t.view?t.fileKey:null,o=(0,a.wA)(),l=(0,a.d4)(e=>e.fileByKey),d=(0,a.d4)(e=>e.userAnalyticsData),c=(0,a.d4)(e=>e.user),u=(0,S.q5)(),p=u?.canEdit,{orgId:m}=e,h=null!=i&&!!l[i]?.is_favorited,L=(0,y.Rs)(N.jJU,{fileKey:i||""},{enabled:!!i});r.useEffect(()=>{if("loaded"===L.status){let e=L.data.file?.developerRelatedLinks,t=e?.reduce((e,t)=>{let i=e.get(t.nodeId)??[];return i.push(t),e.set(t.nodeId,i),e},new Map);if(t)try{s.glU.setDeveloperRelatedLinks(t)}catch{}}},[L]);let R=r.useRef(!1),M=(0,f.Xr)(T.Kc),D=(0,y.Rs)(N.a8q,{fileKey:i||""},{enabled:!!i});r.useLayoutEffect(()=>{if("loaded"!==D.status)return;let e=D.data.figFileWorkshopMode;M(e?e.expiresAt:null),e&&e.expiresAt>new Date&&(R.current=!0),o(E.lX(e?{id:e.id,until:e.expiresAt,loaded:!0}:{loaded:!0}))},[D,o,M]);let P=r.useRef(null),F=r.useRef(!1),B=r.useRef(null),U=r.useRef(null),G=(0,y.Rs)(N.ehp,{fileKey:i||""},{enabled:!!i});r.useLayoutEffect(()=>{if("loaded"!==G.status||G.errors.length>0&&null===G.data.file)return;let e=G.data.file;if(null===P.current){let t=(0,x.Ay)().editing_file;null!==e&&t&&e.key===t.key&&!!t.can_edit!==e.canEdit&&((0,g.sx)("open_file_inconsistent_permission",{file_key:e.key,lg_can_edit:e.canEdit,sinatra_can_edit:t.can_edit,user:_.D.getState().user?.id},{batchRequest:!0}),(0,b.Rh)("open_file.inconsistent_permissions",{lg_can_edit:e.canEdit,sinatra_can_edit:t.can_edit}))}if((0,A.X_)({openFile:e,wasInWorkshop:R.current,previousCanEdit:P.current,wasInUnclaimedTryFile:F.current,previousCanView:U.current,previousFileKey:B.current?.key||null},o),null==e)return;U.current=e.canView,P.current=e.canEdit,R.current&&e.isTryFile&&(F.current=!0);let t=_.D.getState().selectedView;"fullscreen"===t.view&&t.fileKey===e?.key&&B.current!==e&&(o(v.UC({openFile:{...e,isFavorited:h},isLiveGraphSync:!0})),B.current=e)},[G,o,h]);let H=(0,w.Be)();return r.useLayoutEffect(()=>{let e=_.D.getState().selectedView;if(!H.loaded||"fullscreen"!==e.view)return;let{plugins:t,widgets:i,orgPlugins:n,orgWidgets:r}=H,a={...t,...n},s={...i,...r};o(C.g3(a)),o(C.zI(s))},[o,m,H]),(0,j.rB)(),p&&(0,I.n)(d,c?.email)?(0,n.jsx)(O,{}):(0,n.jsx)(n.Fragment,{})}var R=i(550089),M=i(825876),D=i(957070);function P(){return(0,c.co)(),null}function F({children:e,setShouldShowDragAndDropBorder:t,onPointerDown:i=M.j6,isDragTarget:o=!1}){let c=(0,a.d4)(e=>e.modalShown),f=(0,u.T)(),g=(0,m.ut)(s.Ez5?.devHandoffState()?.focusMode,!1),_=(0,p.dq)(),x=r.useRef(!1);return(0,n.jsx)(R.d,{children:(0,n.jsx)(d.Y,{isDragTarget:()=>o,onTargetDragEnter:()=>{t(!0)},onTargetDragLeave:()=>{t(!1)},onTargetDrop:()=>{t(!1)},style:{flex:"1 1 auto"},children:(0,n.jsxs)("div",{"aria-hidden":!!c,className:l()(D.lA,f&&g&&D.$J),onPointerDown:e=>{i(e,x)},children:[(0,n.jsx)(L,{orgId:_}),e,(0,n.jsx)(h.G,{}),(0,n.jsx)(P,{})]})})})}},414444:(e,t,i)=>{i.d(t,{O:()=>m});var n=i(7378),r=i(514228),a=i(9054),s=i(553327),o=i(461336),l=i(311375),d=i(722362),c=i(647955),u=i(571341),p=i(241341);function m(){let e=(0,r.wA)(),t=(0,d.aV)(),i=(0,r.d4)(e=>e.selectedView.compareChangesVersionId),m=(0,r.d4)(e=>e.selectedView.compareChangesActivityId),h=(0,r.d4)(e=>e.selectedView?.view==="fullscreen"&&e.selectedView.compareChangesNodeId||null),f=(0,l.uQ)(),g=h??f??void 0,_=(0,a.ei)(g),x=(0,s.i)(g),{versions:y,versionsQueryLoaded:b}=(0,u.DS)(g),C=!b||0===y.length||!_,v=(0,c.P)(),E=(0,o.dU)(g??null,"cc_version_id_url");n.useEffect(()=>{(i||m)&&!t&&b&&!v&&(x&&!C?E():(0,p.L$)(void 0,e,!1,null))},[i,m,e,t,v,C,x,E,b])}},43374:(e,t,i)=>{i.d(t,{C_:()=>x,iv:()=>g,LP:()=>_,JI:()=>f,v2:()=>h});var n=i(486106),r=i(7378),a=i(514228),s=i(465776),o=i(763686),l=i(783094),d=i(778880),c=i(327588),u=i(976749),p=i(27776);let m=(0,l.hG)(p.Ty8);function h(){let e=(0,c.jw)(),t=(0,a.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t,appModel:i}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.SECTION&&(e.name||i.onCanvasNameEditorInfo.mode===o.nzw.SECTION_NAME)),i=(0,a.d4)(({mirror:{selectionProperties:e,sceneGraphSelection:t}})=>1===Object.keys(t).length&&e.whiteboardNumSelectedByType&&1===e.whiteboardNumSelectedByType.STAMP),n=(0,a.d4)(({mirror:{selectionProperties:e}})=>e.nodeSelectedValidForQuickAdd),r=(0,u.lg)();return"whiteboard"===r?t?40:i&&d.XN?40:n?20+m/2:o.qmM?.shouldRenderTableUiForSelection()!==o.miS.HIDE?20+m/2:16:"cooper"===r?e?40:30:8}function f(){return(0,a.d4)(e=>e.mirror.appModel.hyperlinkLocation)}function g(e,t,i,n){switch(n){case o.cfv.ABOVE:return i<e.y?o.cfv.ABOVE:o.cfv.BELOW;case o.cfv.BELOW:return i>e.y?o.cfv.BELOW:o.cfv.ABOVE;case o.cfv.LEFT:return t<e.x?o.cfv.LEFT:o.cfv.RIGHT;case o.cfv.RIGHT:return t>e.x?o.cfv.RIGHT:o.cfv.LEFT;default:(0,s.xb)(n)}}function _(e){let t=r.useRef({frameHandle:null,didMenuMidpointChange:!1,didSelectionChange:!1,lastMidpoint:{x:0,y:0},lastSelection:{}}),i=r.useCallback(()=>{let{current:i}=t;i.didMenuMidpointChange&&i.didSelectionChange&&e.current?.animate(),i.frameHandle||(i.frameHandle=setTimeout(()=>{i.didMenuMidpointChange=!1,i.didSelectionChange=!1,i.frameHandle=null},0))},[e]);return{markSelectionChanged:r.useCallback(e=>{Object.keys(t.current.lastSelection).length&&(t.current.didSelectionChange=!0,i()),t.current.lastSelection=e},[i]),markPositionChanged:r.useCallback(e=>{let{current:n}=t;(e.x!==n.lastMidpoint.x||e.y!==n.lastMidpoint.y)&&(n.didMenuMidpointChange=!0,i()),n.lastMidpoint=e},[i])}}let x=r.forwardRef(function({children:e,disableAnimation:t=!1},i){let a=r.useRef(null);return r.useImperativeHandle(i,()=>({animate:()=>{a.current&&!t&&(a.current.style.animation="none",a.current.offsetTop,a.current.style.animation="")}})),(0,n.jsx)("div",{ref:a,className:t?void 0:"inline_editor_layer--animationRoot--pX-db",children:e})})},560769:(e,t,i)=>{i.d(t,{G_:()=>o,NA:()=>s,_P:()=>l});var n=i(27355),r=i(615482),a=i(499229),s=(e=>(e.ASSETS="assets",e.FILE="file",e.MAKE="make",e.SEARCH="search",e))(s||{});let o=(0,r.Wh)(()=>(0,n.eU)("file"));function l(){let{exit:e}=(0,a.SQ)();return(0,n.yF)((t,i,n)=>{"search"===t(o)&&"search"!==n&&e(),i(o,n)})}},276552:(e,t,i)=>{i.d(t,{H:()=>w,W:()=>T});var n=i(486106),r=i(701065),a=i(287043),s=i(994594),o=i(435788),l=i(27355),d=i(118847),c=i(658134),u=i(687951),p=i(303541),m=i(591738),h=i(976749),f=i(226610),g=i(53721),_=i(28424),x=i(617561),y=i(32128),b=i(368624),C=i(121043),v=i(751556),E=i(560769);function T(){let e=(0,E._P)(),t=(0,l.md)(E.G_),i=(0,m.rW)()(),h=(0,y._4)(),g=[{id:"file",label:(0,p.t)("design.navbar.file"),icon:(0,n.jsx)(r.g,{}),onClick:()=>{e(E.NA.FILE)},type:d.is.ICON,active:t===E.NA.FILE},{id:"assets",label:(0,p.t)("design.navbar.assets"),icon:(0,n.jsx)(a.s,{}),onClick:()=>{e(E.NA.ASSETS)},type:d.is.ICON,active:t===E.NA.ASSETS},{id:"find",label:(0,p.t)("design.navbar.find"),icon:(0,n.jsx)(s.h,{}),onClick:()=>{h(),e(E.NA.SEARCH)},type:d.is.ICON,active:t===E.NA.SEARCH},{id:"make",label:(0,p.t)("design.navbar.make"),icon:(0,n.jsx)(o.t,{}),onClick:()=>{e(E.NA.MAKE)},type:d.is.ICON,active:t===E.NA.MAKE}];return(0,f.o3)(f.nt.designNavBar)?(0,n.jsxs)(d.bL,{menuButton:(0,n.jsx)(C.xG,{hideChevron:!0}),width:c._,children:[g.map(({id:e,...t})=>(0,n.jsx)(d.K0,{...t},e)),(0,n.jsxs)(d.wi,{children:[(0,n.jsx)(C.n8,{}),(0,n.jsx)(_.En,{}),(0,n.jsx)(x.J,{}),(0,n.jsx)(b.A,{}),i&&(0,n.jsx)(v.$0,{})]})]}):(0,n.jsxs)(u.A,{loadingShimmerCounts:[g.length],hasNoopFigmaMenu:!0,children:[(0,n.jsx)(u.A.Divider,{}),(0,n.jsx)(u.A.Section,{children:g.map(({id:e,...t})=>(0,n.jsx)(u.A.IconButton,{...t},e))})]})}function w(){let e=(0,h.Em)(),t=(0,h.E3)()===g.nT.Design&&e,i=(0,h.m0)(),n=(0,f.o3)(f.nt.designLeftRailPrototype),r=(0,y.Ye)(),a=(t||i)&&n&&!r,s={leftOffset:a?c._+1:void 0};return[a,s]}},646972:(e,t,i)=>{i.d(t,{h5:()=>f,hZ:()=>p,hs:()=>g,mb:()=>h,sv:()=>_});var n=i(465776),r=i(186343),a=i(516028),s=i(845253),o=i(372672),l=i(32128),d=i(146384);let c=/^Page \d+$/;var u=(e=>(e.FILE_LOADING="fileLoading",e.K_12="k12",e.READ_ONLY="readOnly",e.PERSONAL_DRAFT="personalDraft",e))(u||{});function p(){let e=(0,s.sZ)(),t=!!e?.k12_google_org,i=o.iZ()?.profile?.job_title;return t&&"student"===i}function m(){let e=(0,a.q5)(),t=(0,l.cT)(),i=p();return e?i?"k12":t?"readOnly":(0,d.Qy)(e)?"personalDraft":null:"fileLoading"}var h=(e=>(e.ADD_PAGE="addPage",e.VIEW_PAGES="viewPages",e))(h||{});function f({nonDividerPageCount:e}){let t=m(),i=(0,r.nn)(),a=i&&!c.exec(i);if("fileLoading"===t)return null;if(e>1||a)return"viewPages";switch(t){case null:return"addPage";case"readOnly":case"personalDraft":return"viewPages";case"k12":return null;default:(0,n.xb)(t)}}function g(){return null===m()}function _(){return null===m()}},532216:(e,t,i)=>{i.d(t,{m:()=>tn});var n=i(486106),r=i(7378),a=i(514228),s=i(860955),o=i(443068),l=i(969533),d=i(601108),c=i(536384),u=i.n(c),p=i(449184),m=i(806412),h=i(638601),f=i(303541),g=i(564183),_=i(469876),x=i(848862),y=i(740884),b=i(452252),C=i(825649),v=i(27355),E=i(564528),T=i(589278),w=i(419216);function j(e){let{targetKey:t}=e,[i,a]=r.useState(!1),[s,o]=(0,v.fp)(E.Ui),l=(0,_.MP)()&&null!==s&&!i;(0,r.useEffect)(()=>(window.addEventListener("message",E.FR),()=>{window.removeEventListener("message",E.FR)}),[]);let d=s?(0,f.tx)("fullscreen.filename_view.zoom-integration-popup-header-with-name",{hostName:s}):(0,f.t)("fullscreen.filename_view.zoom-integration-popup-header");return(0,n.jsx)(n.Fragment,{children:l&&(0,n.jsx)(w.OA,{targetKey:t,isUI3:e.isUI3,dismissModal:()=>{a(!0),o(null)},width:268,background:"dark",title:(0,n.jsx)("div",{className:T.s.alignLeft.$,children:d}),children:(0,n.jsx)("p",{className:T.s.textBodyMedium.alignLeft.$,children:(0,f.t)("fullscreen.filename_view.zoom-integration-popup-body")})})})}var S=i(934246),k=i(821217),I=i(763686),N=i(663269),A=i(288654),O=i(304671),L=i(828186),R=i(601682),M=i(473493),D=i(88239),P=i(234821),F=i(831799),B=i(173838),U=i(976749),G=i(864281),H=i(622574),z=i(314264),V=i(760074),K=i(364535),W=i(930279),q=i(87821),Y=i(852050),X=i(546509),J=i(516028),Z=i(372672),Q=i(43951),$=i(642025),ee=i(803787),et=i(722141),ei=i(165519),en=i(53721),er=i(10554),ea=i(357047),es=i(696396),eo=i(467351),el=i(861982),ed=i(221114),ec=i(847915),eu=i(482208),ep=i(525678),em=i(4616);function eh(e,t){e=e.filter(e=>e&&(0,ep.UN)(e,{isDesktopMenu:!1,isReadOnly:t.appModel.isReadOnly,isSearching:!!t.isSearching,selectedView:t.selectedView,isLimitedDevMode:t.isLimitedDevMode}));let i=[],r={header:"",items:[]};for(let t of(i.push(r),e))(0,ec.k$)(t)?(r={header:"",items:[]},i.push(r)):(0,ec.gN)(t)?r.header=t.name:r.items.push(t);return 1===i.length||i.every(e=>!e.header)?e.map(e=>ef(e,t)):i.map(e=>(0,n.jsx)(s.YJ,{title:(0,n.jsx)(s.hE,{children:e.header}),children:e.items.map(e=>ef(e,t))},e.header))}function ef(e,t){if(!e||(0,ec.k$)(e)||(0,ec.gN)(e)||(0,ec.id)(e))return null;let i=(0,ec._o)(e)&&e.disabled||!e.name&&!((0,ec._o)(e)&&(0,ea.Yh)(t.appModel,e.action));if(!((0,ec._o)(e)&&e.disabledAndForceVisible)&&i&&t.removeDisabledItems)return null;let r=(0,ec.Dz)(e);return(0,ec._o)(e)?(0,n.jsxs)(em.Pu,{onClick:()=>e.callback?.(e.action,{},t.dispatch),recordingKey:e.recordingKey||e.action||e.name,children:[((0,ec.TV)(e)||(0,ec._o)(e))&&e.displayText||(0,eu.A)(r,e.args),e.rightIcon&&(0,n.jsx)(s.Ov,{children:e.rightIcon}),e.rightText&&(0,n.jsx)(s.Ov,{children:e.rightText}),e.shortcutText&&(0,n.jsx)(s.rm,{children:e.shortcutText})]},e.name):(0,ec.TV)(e)&&e.children?(0,n.jsxs)(s.g8,{children:[(0,n.jsx)(em.Qq,{recordingKey:e.childDropdown&&e.childDropdown.recordingKey||e.name,children:e.displayText}),(0,n.jsx)(s.MJ,{children:eh(e.children,t)})]},e.name):null}var eg=i(277330),e_=i(531331),ex=i(146384),ey=i(928238),eb=i(552876),eC=i(561485),ev=i(831857),eE=i(21029),eT=i(657972),ew=i(963340),ej=i(504823),eS=i(829197);let ek=r.memo(function(){let e=(0,ej.R6)(),{colorProfilePreference:t}=(0,eS.jK)(),i=(0,eS.hP)(t)===I.RYP.DISPLAY_P3?"p3":"srgb",r=[{value:I.ywP.SRGB,label:(0,f.t)("fullscreen.filename_view.color_management.color_profile_srgb")},{value:I.ywP.DISPLAY_P3,label:(0,f.t)("fullscreen.filename_view.color_management.color_profile_display_p3")}].sort((t,i)=>t.value===e&&i.value!==e?-1:t.value!==e&&i.value===e?1:0);return(0,n.jsx)(s.YJ,{children:(0,n.jsxs)(s.g8,{children:[(0,n.jsx)(em.Qq,{children:(0,f.t)("fullscreen.filename_view.color_management.file_color_profile")}),(0,n.jsx)(s.MJ,{children:(0,n.jsxs)(ew.z6,{title:(0,n.jsx)(s.r1,{children:(0,f.t)("fullscreen.filename_view.color_management.file_color_profile")}),value:I.ywP[e],onChange:e=>{e===I.ywP[I.ywP.SRGB]?I.glU&&I.glU.triggerAction("change-document-color-profile-to-srgb",{}):e===I.ywP[I.ywP.DISPLAY_P3]&&I.glU&&I.glU.triggerAction("change-document-color-profile-to-display-p3",{})},children:[e===I.ywP.LEGACY&&(0,n.jsx)(em.MJ,{value:I.ywP[I.ywP.LEGACY],children:(0,f.t)("fullscreen.filename_view.color_management.menu_item_title.legacy_file",{colorProfile:(0,f.t)(`fullscreen.properties_panel.export_settings_color_profile.${i}`)})}),r.map(e=>(0,n.jsx)(em.MJ,{value:I.ywP[e.value],children:(0,f.t)("fullscreen.filename_view.color_management.menu_item_title.legacy.assign",{color_profile:e.label})},e.value))]})})]})})});var eI=i(516565),eN=i(307841),eA=i(714607),eO=i(531560),eL=i(909778),eR=i(78808),eM=i(844322),eD=i(191601),eP=i(91703),eF=i(156213),eB=i(880488),eU=i(765689),eG=i(300562),eH=i(863319),ez=i(528509),eV=i(212807),eK=i(943101),eW=i(191312),eq=i(841351),eY=i(86921),eX=i(113686),eJ=i(225961),eZ=i(157975),eQ=i(486115),e$=i(514666),e0=i(946937),e1=(e=>(e.DISABLED="disabled",e.PUBLISH="publish",e.SHOW_UPSELL_MODAL="show_upsell_modal",e))(e1||{});function e2(){let e=(0,a.wA)();return r.useCallback(()=>{e(eF.to({type:eQ.dD,data:{entrypoint:e$.RR.FILENAME_VIEW_DROPDOWN}}))},[e])}function e3(){let e=(0,J.q5)(),t=(0,A.Rs)((0,Q.dTR)({fileKey:e?.key||""}),{enabled:!!e?.key});return r.useMemo(()=>{if(!e)return{};let i=!1,n=!1,r=!1,a=null;return"loaded"===t.status&&(i=!!t.data?.file?.canTrash&&!!(0,N.oA)(t.data?.file?.canTrash),r=!!(0,N.oA)(t.data?.file?.canMove),n=!!(t.data.file&&(0,eU._R)(t.data.file.editorType??eW._Y.DESIGN,t.data.file.currentPlanUser)),a=(0,N.oA)(t.data?.file?.canMoveWithReasons)||null),{userCanTrashFile:i,userIsVRForSeat:n,userCanMove:r,userCanMoveWithReasons:a}},[t,e])}var e5=i(270045),e4=i(147337);let e6=r.memo(function(){let e=(0,a.d4)(e=>e.currentUserOrgId),t=(0,a.d4)(e=>e.currentTeamId),i=(0,eX.Q)({currentOrgId:e,currentTeamId:t}),o=!!(0,Z.iZ)(),l=function(){let e=(0,a.d4)(J.vu),t=(0,a.d4)(e=>e.currentUserOrgId),i=(0,a.d4)(e=>e.currentTeamId),n=(0,eX.Q)({currentOrgId:t,currentTeamId:i});return r.useMemo(()=>{if(e&&"loaded"===n.status)return(0,eH.T0)(n.data,e.key)},[e,n])}(),d=!!l,c=(0,Z.iZ)(),u=(0,J.q5)(),p=te(),m="loaded"===i.status&&(0,eH.gV)(i.data,e),h=i.data?.currentUser?.userSidebarSections!=null?(0,N.oA)(i.data.currentUser.userSidebarSections):null,f=i.data?.currentUser?.baseOrgUser?.fileBrowserPreferences?.orderedSidebarSections??[],g=(0,eH.t$)(h??[],f),_=g.find(e=>e.id===l?.resource.sidebarSectionId),x=u?.folderId===c?.personal_drafts_folder_id,y=(0,e4.pH)(u?.key??null,{enabled:!!u});if(e9||!o)return null;let b=!x&&!!p&&!(m&&!d),C="loaded"===y.status&&y.data&&u;return b||C?(0,n.jsxs)(s.YJ,{children:[b&&(0,n.jsx)(e7,{isFavorited:d,favoriteSection:_,sections:g}),C&&(0,n.jsx)(e8,{})]}):null}),e7=r.memo(function({isFavorited:e,favoriteSection:t,sections:i}){let o=function(){let e=(0,a.wA)(),t=(0,a.d4)(J.vu),i=(0,a.d4)(e=>e.currentUserOrgId),n=(0,a.d4)(e=>e.currentTeamId),s=(0,eX.Q)({currentOrgId:i,currentTeamId:n}),o=r.useMemo(()=>{if(t&&"loaded"===s.status)return(0,eH.T0)(s.data,t.key)},[t,s]);return(i,n)=>{if(!t)return;let r={entrypoint:"editor",favoriteId:o?.resource.id,sectionId:n,file:eK.F.toLiveGraph(t),fileBrowserEntryPoint:!1};i?e(eL.qP(r)):e(eL.Fb(r))}}(),l=(0,f.t)("favorited_resources.add_to_sidebar");return e&&(l=`${(0,f.t)("favorited_resources.indicate_section_prefix")}: ${t?.name||(0,f.t)("sidebar.starred")}`),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.g8,{children:[(0,n.jsx)(em.Qq,{children:l}),(0,n.jsx)(s.MJ,{children:(0,n.jsxs)(ew.z6,{title:(0,n.jsx)(e5.h,{children:l}),value:t?.id||(e?(0,f.t)("sidebar.starred"):void 0),recordingKey:"favorite-custom",onChange:e=>{e===(0,f.t)("sidebar.starred")?o(!1):o(!!t&&t.id===e,e)},children:[0===i.length&&(0,n.jsx)(em.MJ,{value:(0,f.t)("sidebar.starred"),children:(0,f.t)("sidebar.starred")},(0,f.t)("sidebar.starred")),i.map(e=>(0,n.jsx)(em.MJ,{value:e.id,children:e.name||(0,f.t)("sidebar.starred")},e.id))]})})]}),e&&(0,n.jsx)(em.Pu,{recordingKey:"favorite-custom-remove",onClick:()=>o(!0,t?.id),children:(0,f.t)("favorited_resources.remove_from_sidebar")})]})}),e8=r.memo(function(){let e=(0,J.q5)(),t=function(){let e=(0,a.wA)();return t=>{e(eF.to({type:(0,eA.l)(),data:{pinnedFileId:t}}))}}(),i=function(){let e=(0,a.wA)();return t=>{e(eF.to({type:(0,eO.I)(),data:{pinnedFileId:t}}))}}(),r=(0,e4.pH)(e?.key??null,{enabled:!!e}),s=(0,e4.GI)("filename-context-menu");if("loaded"!==r.status||!r.data||!e)return null;let{canPinFileToWorkspace:o,canEditPin:l,existingFilePinId:d,workspaceHasMaxPins:c}=r.data;return o?(0,n.jsx)(em.Pu,{recordingKey:"pin-to-workspace",onClick:()=>s(e.key,c),children:(0,f.t)("tile.dropdown.pin_to_workspace")}):l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(em.Pu,{onClick:()=>t(d),children:(0,f.t)("tile.dropdown.edit_workspace_pin")}),(0,n.jsx)(em.Pu,{onClick:()=>i(d),children:(0,f.t)("tile.dropdown.remove_workspace_pin")})]}):null}),e9=(0,q.ck)(),te=()=>{let e=(0,J.q5)(),t=(0,a.d4)(e=>e.plans);return r.useMemo(()=>!!t.find(t=>e?.plan?.tier===eW.Ag.ORG||e?.plan?.tier===eW.Ag.ENTERPRISE?`organization::${t.plan_id}`===e?.plan?.id:`team::${t.plan_id}`===e?.plan?.id),[t,e?.plan?.tier,e?.plan?.id])},tt=(0,q.ck)(),ti=r.memo(function({recordingKey:e=""}){let t=(0,a.d4)(e=>e.mirror.appModel),i=(0,a.d4)(e=>e.selectedView),o=(0,a.d4)(e=>(0,$.getPermissionsStateMemoized)(e)),l=(0,a.d4)(e=>e.userStateLoaded),c=(0,J.q5)(),u=(0,a.d4)(e=>e.fileVersion),h=(0,a.d4)(e=>e.repos),g=!!(0,Z.iZ)(),_=(0,a.wA)();(0,Y.SR)();let{archiveBranch:x,deleteBranch:y,deleteFile:b,restoreBranch:C,openFileAnalytics:E,projectUrl:T,publish:w,toggleVersionHistory:j,resetFileThumbnail:q,rename:ec,closeSelectMenu:eu}={deleteBranch:function(){let e=(0,J.q5)(),t=(0,a.wA)();return()=>{e&&t(eF.to({type:eJ.e,data:{fileName:e.name,onConfirm:()=>t(eD.kj({fileKeys:{[e.key]:!0},userInitiated:!0}))}}))}}(),rename:function(){let e=(0,a.wA)();return r.useCallback(()=>{e(eP.vg())},[e])}(),deleteFile:function(){let e=(0,J.q5)(),t=e?.canDelete,i=(0,a.d4)(J.vu),n=(0,B.JT)(),r=n&&n.profile.entityType===er.o1.TEAM,s=(0,a.wA)(),o=(0,a.d4)(e=>e.repos);return()=>{if(!e||!i)return;let n=(0,V.up)(e,o),a=!!eY.Ay&&t&&!r;n&&(0,V.SA)(e,n)?e.repo?.canEdit&&!n.trashed_at&&s(eD.U1({filesByKey:{},reposById:{[n.id]:{repo:n,main_file:i}}})):a&&s(eD.U1({filesByKey:{[e.key]:i}}))}}(),archiveBranch:function(){let e=(0,a.d4)(J.vu),t=(0,a.wA)();return()=>{e&&(t(eB.VK({fileKeys:{[e.key]:e},userInitiated:!0})),(0,p.sx)("Branch Archived",{fileKey:e.key,fileRepoId:e.file_repo_id}))}}(),restoreBranch:function(){let e=(0,a.d4)(J.vu),t=(0,a.wA)();return()=>{e&&t(eM.Rh({fileKeys:{[e.key]:e},userInitiated:!0}))}}(),openFileAnalytics:function(){let e=(0,J.q5)(),t=(0,a.wA)();return r.useCallback(()=>{e&&t((0,eF.to)({type:eZ.e,data:{fileKey:e.key,entrypoint:eG.F.FileView}}))},[e,t])}(),projectUrl:function(){let e=(0,J.q5)(),t=(0,eV.FC)(),i=(0,a.d4)(e=>e.isOpenFileLoadedFromLiveGraph);return r.useMemo(()=>{if(!e)return;let n=e.project;return n&&n.path&&""!==n.path?(0,ez.cU)(n.id,n.orgId??null,n.teamId,t,!!n?.team?.canView,"filename_view_dropdown_helpers.useProjectUrl",i):null},[e,t,i])}(),publish:function(){let e=(0,v.md)(ee.p9),t=(0,a.d4)(ee.fA),i=(0,J.q5)(),n=e2(),s=function(){let e=(0,J.q5)(),t=(0,a.d4)(e=>e.teams),i=(0,a.wA)(),n=e2();return()=>{if(!e)return;let r=e.teamId&&t[e.teamId];i(eF.to({type:e0.$3,data:{afterFileMove:n,team:r||null}}))}}(),o=r.useMemo(()=>i&&e?t?"publish":"show_upsell_modal":"disabled",[t,e,i]);return"disabled"===o?null:()=>{i&&"show_upsell_modal"===o?s():"publish"===o&&n()}}(),toggleVersionHistory:function(){let e=(0,a.wA)(),t=(0,a.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);return()=>{(0,ed.Ah)(t)?e((0,eq.Eg)()):e((0,eq._b)({source:es.e0.EDITOR_TOOLBAR}))}}(),resetFileThumbnail:function(){let e=(0,a.wA)(),t=(0,J.q5)();return()=>{t&&e(eR.$m({file_key:t.key,thumbnail_guid:null}))}}(),closeSelectMenu:function(){let e=(0,eI.cq)();return()=>{e&&e.events.emit("click")}}()},ep=(0,eE.sO)(),ef=(0,eC.cJ)(),ew=(0,eb.Oc)(),ej=!!((0,d.k)().ds_pubplat_sts||(0,d.k)().ds_pubplat_sts_code),eS=(0,L.to)(),eA=(0,U.Em)(),eO=(0,U.m0)(),eL=(0,X.BI)(),eU=(0,X.m0)(),eH=o.user,eK=(0,R.D)(c,!0),eW=(0,D.ju)("filename_menu"),eX=(0,a.d4)(ee.F9),eQ=(0,eg.jT)(c,eX).unwrapOr(!1),e$=(0,A.Rs)(Q.iY3,{branchFileKey:c?.key||""},{enabled:!!c}),e1=(0,ex.DF)(c,eH),e5=(0,ev.e)(),{userCanTrashFile:e4,userCanMove:e7}=e3(),e8=(0,B.JT)(),e9=e8&&e8.profile.entityType===er.o1.TEAM,te=!!eH&&e4&&!e9,ti=(0,et.jB)({files:[{editor_type:c?.editorType??null,folder_id:c?.project?.id??null}],repos:[],destinationFolderId:c?.project?.id??null,isDestinationDrafts:!1}),tn=(0,et.Cp)(ti.destinationPlan?{type:ti.destinationPlan.key.type,parentId:ti.destinationPlan.key.parentId}:null,ti.licenseType),tr=function(e,t){let{userIsVRForSeat:i,userCanMove:n,userCanMoveWithReasons:a}=e3(),s=(0,J.q5)(),o=(0,eN.RR)(),l=(0,A.Rs)((0,Q.dTR)({fileKey:s?.key||""}),{enabled:!!s?.key});return r.useMemo(()=>({canMove:!!n,isUserViewerRestricted:!!i,planUser:l.data?.file?.currentPlanUser??null,inDrafts:!!l.data?.file?.isDraftFile,isBillingRemodelEnabled:o,draftsMoveData:e,hasConnectedPlanUserInOrg:t,canMoveWithReasons:a||void 0}),[n,i,l.data?.file?.currentPlanUser,l.data?.file?.isDraftFile,o,e,t,a])}(ti,!!tn),ta=(0,M.xo)(),ts=(0,O.R)(),to=!1;c&&i.editorType&&(to=i.editorType===en.nT.Slides&&(0,N.oA)(c.org?.isSlidesDisabled)||i.editorType===en.nT.Sites&&!!c.org?.isSitesDisabled||i.editorType===en.nT.Cooper&&!!c.org?.isCooperDisabled);let tl=ew&&ti.requiresUpgrade&&!e5,td=!!ts&&(0,et.Px)(ti,to),tc=ta||td||tl,tu=(0,W.$n)(),tp=(0,a.d4)(e=>e.mirror.appModel.topLevelMode),tm=(0,ey.F)(),th=(0,P.n6)(),tf=(0,H.kD)(),tg=(0,H.J3)(),t_=(0,H.JU)(tg),tx=tg===H.kN.FILE_IN_DRAFTS,ty=G.h.useTrackingContext({trigger:ei.b.FILE_DUPLICATE});r.useEffect(()=>{eU&&(eU._move_to_project=()=>{e7&&!tc&&(0,ex.RG)(_,c,h,tr)()}),eL?.updateFilePermissionV2?.(e1,!!e7&&!tc,!!te)},[e1,e7,te,tc,_,eL,eU,c,h,tr]);let tb=(0,e_.tz)(),tC=g&&!tt&&(eA||eO||ef&&ej),tv=eX&&eK,tE=(0,n.jsx)(em.Pu,{disabled:!w,recordingKey:m.Pt(e,"publishVersion"),onClick:w?()=>{eu(),w()}:S.lQ,children:(0,f.t)("fullscreen.filename_view.publish-styles-and-components")}),tT=eK&&(0,n.jsx)(em.Pu,{recordingKey:m.Pt(e,"codeConnect"),onClick:eW,children:(0,f.t)("dev_handoff.component_browser.menu_item")}),tw=!!eQ&&(0,n.jsx)(em.Pu,{recordingKey:m.Pt(e,"viewFileAnalytics"),onClick:E,children:(0,f.t)("fullscreen.filename_view.file_analytics")});if(!c)return null;let tj=I.Ez5&&I.Ez5.uiState().isRecovery.getCopy(),tS=i.editorType,tk=!c.canExport,tI=tS===en.nT.Whiteboard&&!!c.org?.figjamDisabledAt||tS===en.nT.Slides&&(0,N.oA)(c.org?.isSlidesDisabled)||tS===en.nT.Sites&&!!c.org?.isSitesDisabled||tS===en.nT.Cooper&&!!c.org?.isCooperDisabled||(0,$.isOrgUserExternallyRestrictedFromState)(o)||tk,tN=tS!==en.nT.Whiteboard,tA=!!(tN&&(0,V.Kz)(c)),tO="loaded"===e$.status&&(null===e$.data.file||e$.data.file&&(0,eo.AM)(e$.data.file)===eo.pT.MERGED),tL=tA&&("loaded"!==e$.status||tO),tR=eH&&c.canManage,tM=!!(tA&&c.trashedAt),tD=tM&&!tL,tP=c.folderId===eH?.personal_drafts_folder_id,tF=c.canEdit&&!!c.thumbnailGuid,tB=!tt&&i.editorType===en.nT.Design&&c.canEdit,tU=eh((0,K.m)(tu,es.e0.EDITOR_TOOLBAR,tp,th),{appModel:t,selectedView:i,dispatch:_}),tG=eh((0,K.t)(tu,es.e0.EDITOR_TOOLBAR,tp),{appModel:t,selectedView:i,dispatch:_});return(0,n.jsx)(F.fu,{name:es.e0.EDITOR_FILENAME_DROPDOWN,properties:{...ty,slideConversionDropdownEntrypoint:tm},children:(0,n.jsx)(s.mc,{children:(0,n.jsxs)(k.o,{eventListeners:["onPointerEnter","onPointerLeave","onMouseEnter","onMouseLeave"],children:[tU.map((e,t)=>(0,n.jsx)(r.Fragment,{children:e},`merging-${t}`)),tA&&tG.map((e,t)=>(0,n.jsx)(r.Fragment,{children:e},`branching-${t}`)),g&&!tt&&!tj&&!ew&&(0,n.jsx)(em.Pu,{disabled:!(0,ea.Yh)(t,"enter-history-mode"),recordingKey:m.Pt(e,"toggleVersionHistory"),onClick:j,children:(0,ed.Ah)(t.activeCanvasEditModeType)?(0,f.t)("fullscreen.filename_view.version-history-hide"):(0,f.t)("fullscreen.filename_view.version-history-show")}),(0,n.jsxs)(s.YJ,{children:[!!tf&&(0,el.Z5)({dispatch:_,fileKey:tf?.fileKey||"",templateName:tf?.name||""}),t_&&!ew&&(0,el.R5)({dispatch:_,file:{key:c.key,name:c.name,folder_id:c.folderId,team_id:c.teamId,editor_type:c.editorType,parent_org_id:c.parentOrgId},isPublished:!!tf,fileNeedsMovingBeforePublish:tx,source:"filename-context-menu"}),tC&&(0,n.jsx)(n.Fragment,{children:tv?(0,n.jsxs)(s.g8,{children:[(0,n.jsx)(em.Qq,{children:(0,f.t)("fullscreen.filename_view.library_actions")}),(0,n.jsxs)(s.MJ,{children:[tE,tT,tw]})]}):(0,n.jsxs)(n.Fragment,{children:[tE,tw]})}),tN&&!ep&&!eS&&!ef&&!tj&&!ew&&(0,n.jsxs)(em.Pu,{disabled:!eH,recordingKey:m.Pt(e,"exportSelectedExportables"),onClick:()=>{I.glU&&I.glU.triggerAction("export-selected-exportables",{source:"toolbar"})},children:[(0,f.t)("fullscreen.filename_view.export"),(0,n.jsx)(s.Ov,{children:(0,n.jsx)(s.rm,{children:(0,ea.c1)(t.keyboardShortcuts,"export-selected-exportables")})})]}),tm&&c.canEdit&&(0,n.jsx)(em.Pu,{onClick:()=>{(0,z.Cu)({name:"slides_file_dropdown_entrypoint"}),(0,eT.fx)(c,u).then(e=>{(0,eT.PF)(_,e)})},recordingKey:m.Pt(e,"copyToFigmaSlides"),disabled:!eH,children:(0,f.t)("slides.general.copy_current_page_to_figma_slides")})]}),(0,n.jsx)(e6,{}),!tA&&tG.length>0&&(0,n.jsx)(s.YJ,{children:tG.map((e,t)=>(0,n.jsx)(r.Fragment,{children:e},`branching-group-${t}`))}),tB&&(0,n.jsx)(ek,{}),(0,n.jsxs)(s.YJ,{children:[g&&!tt&&!tP&&(!(0,d.k)().filter_pro_plus_sites_make_web||tb.canDuplicate)&&(0,n.jsx)(em.Pu,{disabled:!l||tI,recordingKey:m.Pt(e,"duplicate"),onClick:tb.duplicateFile,children:tb.duplicateDisplayText}),g&&!tM&&(0,n.jsx)(em.Pu,{disabled:!e1,recordingKey:m.Pt(e,"rename"),onClick:()=>{eu(),ec()},children:tA?(0,f.t)("fullscreen.filename_view.rename-branch"):(0,f.t)("fullscreen.filename_view.rename")}),g&&!tt&&tD&&(0,n.jsx)(em.Pu,{disabled:!tR,recordingKey:m.Pt(e,"restore"),onClick:C,children:(0,f.t)("fullscreen.filename_view.restore")}),g&&!tt&&T&&""!==T&&(0,n.jsx)(em.Oo,{recordingKey:"goToProject",href:T,newTab:!0,children:(0,f.t)("fullscreen.filename_view.go_to_project")}),g&&!tt&&!tA&&(0,n.jsxs)(em.Pu,{disabled:tc,"data-onboarding-key":"FILENAME_VIEW_MOVE_TO_PROJECT",recordingKey:m.Pt(e,"moveToProject"),onClick:(0,ex.RG)(_,c,h,tr),children:[(0,f.t)("fullscreen.filename_view.move_file"),ts&&(0,n.jsx)(s.Ov,{children:(0,et.zS)(ti,tc,tn)})]}),g&&!tt&&!tM&&!tP&&e4&&(0,n.jsx)(em.Pu,{disabled:!te,recordingKey:m.Pt(e,"delete"),onClick:tA?x:b,children:tA?(0,f.t)("fullscreen.filename_view.archive-branch"):(0,f.t)("fullscreen.filename_view.move_to_trash")}),g&&!tt&&tM&&(0,n.jsx)(em.Pu,{disabled:!tR,onClick:y,children:tA?(0,f.t)("fullscreen.filename_view.archive-branch"):(0,f.t)("fullscreen.filename_view.move_to_trash")})]}),!!tF&&(0,n.jsx)(s.YJ,{children:(0,n.jsx)(em.Pu,{recordingKey:m.Pt(e,"resetFileThumbnail"),onClick:q,children:(0,d.k)().dse_library_pg_thumbnails?(0,f.t)("fullscreen.filename_view.restore_default_file_thumbnail"):(0,f.t)("fullscreen.filename_view.restore_default_thumbnail")})})]})})})});function tn({setFileMenuIsHovered:e,isDropdownVisibleWithDelay:t,recordingKey:i}){let c=(0,a.wA)(),v=(0,x.Um)(),E=v?.type===b.eg,T=(0,a.d4)(e=>e.isRenaming),w=(0,g.k)(),S=(0,h.WN)(),k=r.useCallback(()=>!w||(S("LEFT_PANEL_FILE_NAME_CHEVRON"),!1),[w,S]),{getTriggerProps:I,manager:N}=s.b(),A=I(),O=(0,d.k)().eu_filename_dropdown;return r.useMemo(()=>T?null:(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:u()("file_menu--chevronContainer--rxTVi",{"file_menu--selected--URB0u":E||t,"file_menu--enableSecondaryHover--h5duI":!(E||t)}),onMouseEnter:()=>{e?.(!0)},onMouseLeave:()=>{e?.(!1)},children:[(0,_.MP)()&&(0,n.jsx)(j,{isUI3:!0,targetKey:b.O0}),O?(0,n.jsxs)(s.bL,{manager:N,children:[(0,n.jsx)(o.K,{...A,recordingKey:m.Pt(i,"chevron"),"aria-label":(0,f.t)("fullscreen.filename_view.edit_file_menu"),children:(0,n.jsx)(l.O,{})}),(0,n.jsx)(ti,{recordingKey:i})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.c,{ariaLabel:(0,f.t)("fullscreen.filename_view.edit_file_menu"),canOpenDropdown:k,className:"file_menu--chevron--55jNJ",dataOnboardingKey:b.O0,dataTestId:"filename-menu-chevron",dropdownKey:b.eg,recordingKey:i,toggleOnClick:!0}),(0,n.jsx)(C.i,{dropdownTargetRect:v?.data?.targetRect,dispatch:c,dropdownVisible:E,recordingKey:i,activatePathOnMount:v?.data?.activatePathOnMount,trackEvent:p.sx})]})]})}),[k,c,v?.data?.activatePathOnMount,v?.data?.targetRect,E,T,N,A,O,e,t,i])}},783801:(e,t,i)=>{i.d(t,{n:()=>J});var n=i(486106),r=i(514228),a=i(477111),s=i(601108),o=i(536384),l=i.n(o),d=i(7378),c=i(165054),u=i(763686),p=i(449184),m=i(288654),h=i(723791),f=i(11),g=i(303541),_=i(170564),x=i(463586),y=i(292918),b=i(976749),C=i(760074),v=i(43951),E=i(535806),T=i(696396),w=i(721248);function j(e){let t=Number(e);return Number.isNaN(t)?((0,C.cb)(Error("Invalid checkpoint id found in repo data")),null):t}function S(e){let t=(0,b.m0)(),{openFile:i,modalShown:n,topLevelMode:r,dispatch:a}=e,{canEdit:s,key:o,fileRepoId:l}=i,S=function(e){let t=e?.fileRepoId||"",i=(0,m.Rs)(v.op7,{repoId:t});return d.useMemo(()=>{if("loaded"!==i.status||!t)return!1;let{repo:n}=i.data,r=i.data.repo?.files;if(n&&(0,C.Ns)(e,n))return!1;if(null==n||!r)return(0,f.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("useUpdatesAvailableFromMain called with invalid repo or repo files data")),!1;let a=r.find(t=>t.key===e.key),s=r.find(e=>(0,C.Ns)(e,n));if(!a||!s)return(0,f.$D)(c.e.SCENEGRAPH_AND_SYNC,Error("useUpdatesAvailableFromMain called with invalid branch or source file data")),!1;if(a.sourceCheckpointId===s.checkpointId)return!1;let o=(0,h.oA)(s.recentFileVersions)||[];if(0===o.length||!a.sourceCheckpointId)return!1;let l=j(a.sourceCheckpointId);if(null===l)return!1;let d=o.filter(e=>{let{user:t,checkpoint:i}=e;if(!i||t.isSystemUser)return!1;let{id:n,meta:r}=i,a=j(n);if(null===a||a<=l)return!1;if(null===r||null===r.editCounts||void 0===r.editCounts)return!0;let s=function(e){try{return Object.fromEntries(Object.entries(e).map(([e,t])=>{let i=t&&t.version_history_count?{version_history_count:parseInt(t.version_history_count)}:{version_history_count:0};return[e,i]}))}catch(e){return(0,C.cb)(Error("Invalid edit count found in repo data")),null}}(r.editCounts);return null!==s&&Object.values(s).some(e=>e.version_history_count>0)});return!!d&&d.length>0},[e,t,i])}(i);return d.useEffect(()=>{if(t&&S){a(x.Q.dequeue({type:_._.BRANCHING_SOURCE_FILE_UPDATED}));return}s&&n?.type!==w.$l.type&&r!==u.lyf.BRANCHING&&S?((0,p.sx)("Branch Update Alert",{action:"Shown",fileKey:o,fileRepoId:l}),a(x.Q.enqueue({notification:{type:_._.BRANCHING_SOURCE_FILE_UPDATED,message:(0,g.t)("collaboration.branching.updates_available_from_main_file"),acceptCallback:()=>{a(y.hx({direction:E.Kn.FROM_SOURCE,trackingContextName:T.e0.BRANCHING_UPDATE_NOTIFICATION})),(0,p.sx)("Branch Update Alert",{action:"Update",fileKey:o,fileRepoId:l})},dismissCallback:()=>{(0,p.sx)("Branch Update Alert",{action:"Dismiss",fileKey:o,fileRepoId:l})}}}))):a(x.Q.dequeue({type:_._.BRANCHING_SOURCE_FILE_UPDATED}))},[s,o,l,n,r,S,a,t]),null}var k=i(806412),I=i(95038),N=i(848862),A=i(725962),O=i(465776),L=i(39751),R=i(302958),M=i(576487),D=i(300250),P=i(640519),F=i(156213),B=i(746499),U=i(561832),G=(e=>(e[e.NoMerges=0]="NoMerges",e[e.MergeInProgress=1]="MergeInProgress",e[e.MergeComplete=2]="MergeComplete",e[e.MergeError=3]="MergeError",e[e.MergeTimeout=4]="MergeTimeout",e))(G||{});function H(e){return null===e.mergeResultCheckpointId}function z({repoId:e,openFileKey:t,currentUserId:i,appMergingStatus:n,openFileMerge:a}){var s;let o=function({repoId:e,currentUserId:t,appMergingStatus:i,openFileMerge:n}){let r=(0,m.Rs)(v.grH,{repoId:e}),[a,s]=d.useState(0),[o,l]=d.useState();return d.useEffect(()=>{if("loaded"===r.status){let e;let i=r.data.repo?.files?.find(e=>e.fileMerges.find(e=>e.id===n?.fileMergeId&&e.userId===t&&H(e)));n&&(e=r.data.repo?.files?.find(e=>e.fileMerges.find(e=>e.id===n.fileMergeId&&e.userId===t&&!H(e)))),i?(0===a||2===a)&&(l(i),s(1)):1===a&&e?(l(e),s(2)):0===a&&e?(l(e),s(2)):(3===a||4===a)&&(l(e||o),s(2))}},[r,a,o,n,t]),d.useEffect(()=>{i===A.y.MERGING_ERROR?s(3):3===a&&i===A.y.NOT_MERGING&&s(0)},[a,i]),d.useEffect(()=>{let e;if(1===a?e=setTimeout(()=>{s(4)},3e4):2===a&&(e=setTimeout(()=>{s(0),l(void 0)},3e3)),void 0!==e)return()=>clearTimeout(e)},[t,a,o]),{state:a,mergeFile:o}}({repoId:e,currentUserId:i,appMergingStatus:n,openFileMerge:a}),l=(0,L.ZC)(o),c=function(e,t,i){switch(t){case 0:default:return;case 1:case 3:case 4:return i?.fileMerges.find(t=>t.userId===e&&H(t));case 2:return i?.fileMerges.find(t=>t.userId===e&&!H(t))}}(i,o.state,o.mergeFile),u=(0,r.wA)(),h=d.useContext(B.ss),[f,_]=d.useState(!0);d.useEffect(()=>{let e=()=>{_(!0)},t=()=>{_(!1)};return window.addEventListener("focus",e),window.addEventListener("blur",t),()=>{window.removeEventListener("focus",e),window.removeEventListener("blur",t)}},[_]);let x=f&&(o?.state===3||o?.state===4||(s=o?.mergeFile,c?.direction===0?s?.sourceFileKey===t:s?.key===t)),y=d.useMemo(()=>o?.state!==2||l?.state===3?null:{icon:M.zX.CHECK,type:"file-merge-submit",message:c?.direction===0?(0,g.t)("collaboration.branching.merge_success"):(0,g.t)("collaboration.branching.update_success"),button:c?.direction===0?{text:(0,g.t)("collaboration.branching.edit_merge_description"),action:()=>{u(P.T({fileKey:t,versionId:c?.mergeResultFileversionId})),(0,p.sx)("Merge Finished Edit Description Clicked",{branchKey:o.mergeFile?.key,sourceKey:o.mergeFile?.sourceFileKey})}}:void 0,timeoutOverride:1e4},[u,c?.direction,c?.mergeResultFileversionId,o.mergeFile?.key,o.mergeFile?.sourceFileKey,o.state,t,l?.state]);return d.useEffect(()=>{if(0===o.state||x||u(R.F.clearAll()),0===o.state&&(!l||l?.state===2)){u(R.F.clearAll());return}if(4===o.state&&l&&1===l.state&&l.mergeFile){let e=o.mergeFile.key===t?E.Kn.FROM_SOURCE:E.Kn.TO_SOURCE;u(R.F.clearAll()),u((0,F.to)({type:U.my,data:{view:U.RK.TIMED_OUT,mergeParams:{branchKey:o.mergeFile.key,sourceKey:o.mergeFile.sourceFileKey,direction:e},failureInfo:{file_merge_id:c.id}}}))}y&&u(R.F.enqueue(y));let e=c?.direction===0?E.Kn.TO_SOURCE:E.Kn.FROM_SOURCE;if(l&&1===l.state&&(3===o.state||4===o.state)){let t;switch(o.state){case 3:t=Error("useMergeStatus: Backend merge error");break;case 4:t=Error("useMergeStatus: Open merge was not closed in 30 seconds");break;default:(0,O.xb)(o.state)}(0,C.HJ)(t,E.PW.ON_MERGE,e,{file_merge_id:c?.id})}if((l?.state===1||l?.state===0)&&2===o.state){let t={branchKey:o.mergeFile.key,direction:e,sourceKey:o.mergeFile.sourceFileKey,branchModalTrackingId:h};u(D.ie({})),u(D.ov({hideModal:!0,mergeParams:t,userInitiated:!0,reason:"merge_complete"}))}},[u,c,o.mergeFile,o.state,t,l,x,y,h]),null}var V=i(516028),K=i(372672),W=i(471586),q=i(452252),Y=i(146384);let X="filename_view--renaming--fsHo8";function J(e){let t=(0,K.iZ)(),i=(0,V.q5)(),o=i?.repo,d=!!(i&&o&&(0,C.Ns)(i,o)),c=!!(i&&(0,C.Kz)(i)),u=!!i&&(0,Y.DF)(i,t),p=(0,r.d4)(e=>e.isRenaming),m=N.Um()?.type===q.eg,h=(0,r.d4)(e=>e.mergingStatus),f=(0,r.d4)(e=>e.openFileMerge),g=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),_=(0,r.d4)(e=>e.modalShown),x=(0,r.wA)(),y=(0,V.l3)(),b=y?.ownerRole?.userId===t?.id,v=i?.project?.activeProjectResourceConnections?.[0],E=!i?.teamId&&!i?.parentOrgId,T=(0,s.k)().dtm_deprecation_pre_migration_onboarding&&E&&!b;return(0,n.jsxs)("div",{className:l()("filename_view--filenameView--oktvS",{[X]:p}),children:[c&&(0,n.jsx)("span",{"data-testid":"branch-icon",className:"filename_view--branchIcon--QuC5N",children:(0,n.jsx)(a.L,{})}),(0,n.jsx)("span",{className:l()("filename_view--filenameText--dN0ll",{[X]:p,"filename_view--dropdownOpen--WdeTr":m||e.isDropdownVisibleWithDelay,"filename_view--enableSecondaryHover--FeJmc":!p,"filename_view--shouldShowFileMenu--Xd8rw":!e.shouldShowFileMenu}),onMouseEnter:()=>{e.setFileNameIsHovered?.(!0)},onMouseLeave:()=>{e.setFileNameIsHovered?.(!1)},"data-onboarding-key":T?W.l:void 0,children:d&&o?(0,n.jsx)(q.IS,{dispatch:x,user:t,repo:o,canRename:u,isRenaming:p,dataTestId:"repo_name_data_test_id"}):(0,n.jsx)(q.o3,{recordingKey:k.Pt(e.recordingKey,"fileName")})}),e.shouldShowConnectedBadge&&v&&(0,n.jsx)(I.W,{hostPlanName:v.hostPlanName,connectedPlanName:v.connectedPlanName}),i?.fileRepoId&&t?.id&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(S,{openFile:i,modalShown:_,topLevelMode:g,dispatch:x}),(0,n.jsx)(z,{repoId:i.fileRepoId,openFileKey:i.key,currentUserId:t.id,appMergingStatus:h,openFileMerge:f})]}),T&&(0,n.jsx)(W.O,{isOwner:!1})]})}},692397:(e,t,i)=>{i.d(t,{x$:()=>k,t7:()=>N,Fp:()=>j,SZ:()=>S,l9:()=>I});var n=i(486106),r=i(7378),a=i(514228),s=i(632989),o=i(536384),l=i.n(o),d=i(556971),c=i(303541),u=i(292918),p=i(760074),m=i(848862),h=i(516028),f=i(372672),g=i(696396),_=i(106997),x=i(208213),y=i(760762),b=i(452252);function C(e){return(0,n.jsx)("div",{className:"static_repo_name--container--6SAYd",children:(0,n.jsx)(s.E,{className:"static_repo_name--button--4ZBh2 ellipsis--ellipsis--Tjyfa",onClick:()=>e.dispatch(u.oz({trackingContextName:e.trackingContextName})),children:(0,p.oj)(e.repo)})})}C.displayName="StaticRepoName";var v=i(532216),E=i(783801);let T="left_panel_header_components--row--5uMsb",w="left_panel_header_components--withBottomMargin--qvGQT",j="leftPanelHeader";function S({shouldUseBottomBorder:e,children:t,withSmallPaddingRight:i}){return(0,n.jsx)("div",{className:l()("left_panel_header_components--container--i23pm",{"left_panel_header_components--withBottomBorder--OQzj-":e,"left_panel_header_components--withSmallPaddingRight--BOLxn":i}),children:t})}function k({shouldShowFileMenu:e=!0,recordingKey:t}){let[i,a]=r.useState(!1),s=m.Um()?.type===b.eg,[o,l]=r.useState(s);r.useEffect(()=>{if(s)l(!0);else{let e=requestAnimationFrame(()=>{l(!1)});return()=>cancelAnimationFrame(e)}},[s]);let c=(0,d.b)(),u=(0,n.jsxs)("div",{className:T,"data-file-header-hover":i,style:c?{overflow:"hidden"}:void 0,children:[(0,n.jsx)(E.n,{setFileNameIsHovered:a,isDropdownVisibleWithDelay:o,recordingKey:t,shouldShowFileMenu:e}),e&&(0,n.jsx)(v.m,{setFileMenuIsHovered:a,isDropdownVisibleWithDelay:o,recordingKey:t})]});return(0,n.jsx)(_.x,{children:u})}function I(){let e=(0,h.q5)(),t=e?.repo,i=!!(t&&(0,p.Ns)(e,t)),r=!!(e&&(0,p.Kz)(e)),s=(0,a.wA)();return r&&t?(0,n.jsx)("div",{className:l()(T,w),children:(0,n.jsx)(C,{repo:t,dispatch:s,trackingContextName:g.e0.EDITOR_TOOLBAR_ACTION})}):i&&e.fileRepoId?(0,n.jsx)("div",{className:l()(T,w),children:(0,n.jsx)(A,{})}):null}function N({openFile:e}){let t=(0,f.iZ)();return(0,n.jsxs)("div",{className:T,children:[(0,n.jsx)(b.ur,{openFile:e,user:t}),(0,n.jsx)(y.s,{openFile:e})]})}function A(){let e=(0,a.wA)(),t=r.useContext(x.X);return null===t||t<1?null:(0,n.jsx)(s.E,{className:"left_panel_header_components--button--zghbk",onClick:()=>e(u.o5({trackingContextName:g.e0.EDITOR_TOOLBAR_ACTION})),children:(0,c.tx)("fullscreen.filename_view.branch-count",{BRANCHES:t})})}},28424:(e,t,i)=>{i.d(t,{En:()=>u,J:()=>d,Ty:()=>c});var n=i(486106),r=i(7378),a=i(279476),s=i(556971),o=i(589278);i(298277);var l=i(129884);function d(){return!1}function c(){return{shouldShow:!1,label:"This is a local C++ build so it may be out of date.\n\nRun this inside fullscreen/ to use the latest build from CI:\n\n./fs unlink",icon:a.Z}}function u(){let e=(0,s.b)(),{shouldShow:t,label:i,icon:a}=c();return t?(0,n.jsx)("span",{className:o.s.h32.w32.inlineFlex.itemsCenter.justifyCenter.$,"data-tooltip-type":l.Ib.TEXT,"data-tooltip":i,"data-tooltip-show-right":e,children:r.createElement(a)}):null}},617561:(e,t,i)=>{i.d(t,{J:()=>f,K:()=>h});var n=i(486106),r=i(514228),a=i(836234),s=i(763686),o=i(901889),l=i(181415),d=i(303541),c=i(156213),u=i(84367),p=i(129884),m=i(459248);function h(){let e=(0,r.d4)(e=>e.modalShown),t=e?.type===m.CM.type,i=(0,u.ut)(s.Ez5?.uiState().showMissingFontsButton,!1),n=(0,o.U)(),l=(0,r.wA)();return{expanded:t,icon:a.z,label:(0,d.t)("fullscreen.toolbar.missing_fonts"),onClick:()=>{t?l((0,c.AS)()):(n("missing_fonts_button_clicked"),s.glU.findMissingFontsAndShowPopover())},shouldShow:i}}function f({isLeftRail:e=!1}){let{label:t,onClick:i,shouldShow:r}=h();return r?(0,n.jsx)(l.J,{onClick:i,recordingKey:"toolbarView.missingFontsButton","aria-label":(0,d.t)("fullscreen.toolbar.missing_fonts"),htmlAttributes:{"data-tooltip":t,"data-tooltip-type":p.Ib.TEXT,"data-tooltip-show-right":e},children:(0,n.jsx)(a.z,{})}):null}},932863:(e,t,i)=>{i.d(t,{n:()=>u,A:()=>p});var n=i(486106),r=i(771975),a=i(181415),s=i(303541),o=i(455680),l=i(590592),d=i(129884),c=i(433401);function u(){let e=(0,l.q)()?(0,s.t)("fullscreen_actions.expand-ui"):(0,s.t)("fullscreen_actions.minimize-ui");return(0,n.jsx)(a.J,{"aria-label":e,onClick:()=>o.Y5.triggerAction("toggle-sidebar",{source:"left_panel"}),recordingKey:"left-panel-island.toggle-minimize-ui",htmlAttributes:{"data-onboarding-key":c.ue,"data-tooltip":e,"data-tooltip-type":d.Ib.TEXT,"data-tooltip-shortcut-key":"toggle-sidebar"},children:(0,n.jsx)(r.C,{})})}function p(){return(0,n.jsx)("div",{className:"toggle_sidebars_icon_button--nonInteractiveContainer--OPLHV",children:(0,n.jsx)(r.C,{})})}},112838:(e,t,i)=>{i.d(t,{E:()=>r});var n=i(7378);function r(e,t){let[i,r]=(0,n.useState)(null);return(0,n.useLayoutEffect)(()=>{if(!e||!e.current||!t)return;r(e.current.getBoundingClientRect().width);let i=new ResizeObserver(e=>{e.forEach(e=>{let t=e.borderBoxSize?.[0];r(t?t.inlineSize:e.contentRect.width)})});return i.observe(e.current),()=>i.disconnect()},[e,t]),i}},629866:(e,t,i)=>{i.d(t,{Q:()=>u});var n=i(486106),r=i(7378),a=i(536384),s=i.n(a),o=i(740163),l=i(590592),d=i(84367),c=i(32128);let u=r.forwardRef(({shouldAnimate:e=!0,ignoreRulers:t,leftOffset:i=0,floatingWhenExpanded:r,children:a},u)=>{let p=(0,d.J2)((0,o.UK)().renderRulers),m=(0,c.Ye)(),h=(0,l.T)();return(0,n.jsx)("div",{ref:u,className:s()("left_panel_positioner--leftPanelPositioner--8Yehe",{"left_panel_positioner--withShowingRulers--xB1lD":p&&!t,"left_panel_positioner--withAnimation--pFRuR":e&&!h,"left_panel_positioner--withInsetEditorEnabled--GYcUX":!m&&!r}),style:i?{left:i}:void 0,children:a})})},728210:(e,t,i)=>{i.d(t,{Nz:()=>ei,Qe:()=>er,X5:()=>es,hH:()=>H});var n=i(486106),r=i(7378),a=i(514228),s=i(465776),o=i(763686),l=i(601108),d=i(27355),c=i(536384),u=i.n(c),p=i(930821),m=i(348225),h=i(449184),f=i(542194),g=i(39751),_=i(778880),x=i(385215),y=i(763714),b=i(149328),C=i(632319),v=i(303541),E=i(317394),T=i(701001),w=i(62612),j=i(722362),S=i(516028),k=i(440875),I=i(847283),N=i(386952),A=i(467440),O=i(61403),L=i(631279),R=i(803054),M=i(844818),D=i(985418),P=i(982041),F=i(704944),B=i(814771),U=i(256210),G=i(784372);let H=5;var z=(e=>(e[e.Default=0]="Default",e[e.Mobile=1]="Mobile",e[e.Prototype=2]="Prototype",e[e.Slide=3]="Slide",e))(z||{});let V=(e,t)=>{let i=(0,w.ni)(),n=(0,b.Av)(),a=(0,T._o)(),s=(0,j.p8)("showUi"),o=(0,N._6)(),l=function({isUI3:e,prototypeHeaderHidden:t,showUi:i,style:n,toolbarHeight:r,editorBannerHeight:a}){return(2===n?t?0:r:e?_.Ay.isIpadNative||(0,_.FP)()&&i?(0,M.VA)():0:i||_.Ay.isIpadNative?r:0)+a}({isUI3:!("prototype"===o.view&&"slides"===o.file.editor_type),prototypeHeaderHidden:t,showUi:s,style:e,toolbarHeight:n,editorBannerHeight:a});return r.useMemo(()=>({left:i.x,top:l,width:i.width}),[i,l])};function K(e){let t;let i=(0,w.ni)(),n=(0,T._o)();(0,j.p8)("showUi");let a=0;(_.Ay.isIpad||(0,_.FP)())&&(a=(0,M.VA)());let s=i.y+n+a;switch(e){case 1:t=4;break;case 2:t=s;break;case 3:t=0;break;case 0:t=2*H}return r.useMemo(()=>({left:i.x,top:s,width:i.width-(0===e?2*H:0),height:i.height-n-t-a}),[i,e,s,t,n,a])}let W=(e,t)=>{let i;let n=K(t),a=0;switch(t){case 0:i={borderWidth:H},a=H;break;case 1:if((0,_.FP)()){i={};break}i={borderTopWidth:4},a=4;break;case 3:i={borderWidth:H,borderRadius:"0.8rem",boxSizing:"border-box"},a=H;break;case 2:i={}}return r.useMemo(()=>({style:{...n,...i,"--multiplayerBorderColor":e,borderStyle:"solid","--multiplayerBorderWidth":`${a}px`},borderInfo:{width:a,color:e}}),[e,n,i,a])};function q(e){let{children:t,prototypeHeaderHidden:i}=e,r=(0,N.z3)(),a=0;"prototype"===r?a=2:_.Xb&&(a=1);let s=V(a,i||!1),o=2===a?G.Y$:void 0,l=2===a&&i?G.Fd:void 0;return(0,n.jsx)("div",{className:u()(G.GE,o,l),style:s,"data-testid":"multiplayer-bell-container",children:t})}function Y(){let{style:e,borderInfo:t}=r.useContext(B.h);return e={...e,borderColor:t.color},(0,n.jsx)("div",{"data-testid":"viewport-frame",className:G.KM,style:e})}function X(){let{style:e,borderInfo:t}=r.useContext(B.h);return e={...e,color:"brand"===t.color?"var(--color-bg-brand)":t.color,"--borderColorTransitionDurationSeconds":`${U.Bn}s`},(0,n.jsx)("div",{className:G.KM,style:e})}function J(e){let{children:t,colorOverride:i,overlayStatus:r}=e,a=(0,k.$0)(),s=(0,k.dR)(),o=(0,k.Ww)(),l=(0,N._6)(),d=0;"prototype"===l.view?d=l.isPresenterView?3:2:_.Xb&&(d=1);let c=W((()=>{if(i)return i;if(!r)return s&&o?.sessionID===s?.sessionID?o?.color??"transparent":a?.color??"transparent";{let{self:e,others:t}=r;return"none"!==e?"brand":"following"===t&&"none"===e?a?.color??"transparent":"transparent"}})(),d);return(0,n.jsx)(B.h.Provider,{value:c,children:t})}var Z=(e=>(e.PRESENTING="presenting",e.PROMPT_TO_ACCEPT_NOMINATION="prompt_to_accept_nomination",e.SHOWING_EXPLAINER="showing_explainer",e.NONE="none",e))(Z||{}),Q=(e=>(e.PENDING_AUTO_FOLLOW="pending_auto_follow",e.FOLLOWING="following",e.PROMPT_TO_REJOIN="prompt_to_rejoin",e.NONE="none",e))(Q||{});function $(){return"prototype"!==(0,N.z3)()&&!(0,_.FP)()}function ee(e,t,i,n){let a=(0,g.ZC)(e),s=(0,g.ZC)(t),o=r.useRef(performance.now());return r.useEffect(()=>{if("presenting"===e){let e=f.sn.tryStop("start_spotlight");e&&(0,h.sx)("start_spotlight",{elapsedMs:e},{forwardToDatadog:!0})}else if("pending_auto_follow"===t){let e=f.sn.tryStop("join_spotlight");e&&(0,h.sx)("join_spotlight",{elapsedMs:e},{forwardToDatadog:!0})}else if("following"===t){let e=f.sn.tryStop("start_following");e&&(0,h.sx)("start_following",{elapsedMs:e},{forwardToDatadog:!0})}},[e,t,i,n]),(e!==a||t!==s)&&(o.current=performance.now()),{statusChangedAt:o.current}}function et(e){let{multiplayer:t,prototypeHeaderHidden:i,isTabAccessible:a=!1,hideOthersOverlayOverride:c=!1}=e,u=(0,k.Ww)(),h=(0,k.dR)(),f=(0,k.$0)(),g=(0,k.y)(),b=(0,S.q5)(),T=(0,d.md)(y.Fj),w=(0,I.T)(),j=(0,x.y7)(),A=(0,x.oJ)(),O=(0,x.$)(),[L,R]=r.useState(!1);r.useEffect(()=>{R(!1)},[h?.sessionID]),r.useEffect(()=>{f?.sessionID===h?.sessionID&&R(!1)},[f?.sessionID,h?.sessionID]);let{isAutoFollowPending:M,cancelAutoFollowCallback:B,completeAutoFollowCallback:G,observeCurrentPresenter:H,autoFollowType:z,autoFollowDelayMs:V}=(0,k.oW)({multiplayer:e.multiplayer}),{isWaitingForFirstFollower:K,stopPresenting:W}=function(e){let[t,i]=r.useState(!1),n=e.followerCount,[a,s]=(0,d.fp)(y.Dv);0===n||t||i(!0);let l=(0,x.jA)(e)||a;(0,x.jA)(e)&&a&&s(!1),!l&&t&&i(!1);let c=l&&0===n&&!t,u=(0,I.T)(),p=(0,N.z3)(),m=r.useCallback(()=>{u(I.N.STOP),"prototype"===p?C.hk()?.stopPresenting():o.h3O.stopPresenting()},[u,p]),h=r.useCallback(()=>!!c&&(m(),!0),[m,c]);return(0,E.O1)(h,E.KD.MULTIPLAYER_SPOTLIGHT),{isWaitingForFirstFollower:c,stopPresenting:m}}(t),Y=function(e){let{multiplayer:t,showingExplainer:i,isPendingPresenting:n}=e;return(0,x.jA)(t)||n?"presenting":i?"showing_explainer":(0,x.NB)(t)?"prompt_to_accept_nomination":"none"}({multiplayer:t,showingExplainer:(0,d.md)(y.ah),isPendingPresenting:(0,d.md)(y.Dv)}),Z=function(e){let{multiplayer:t,isAutoFollowPending:i,presenterUser:n,suppressRejoinPrompt:r}=e;return i?"pending_auto_follow":(0,x.L3)(t)?"following":n&&!r?"prompt_to_rejoin":"none"}({multiplayer:t,isAutoFollowPending:M,presenterUser:h,suppressRejoinPrompt:L}),Q=r.useRef(t.allUsers.length);Q.current=t.allUsers.length;let{statusChangedAt:et}=ee(Y,Z,b,Q),[ei,en]=function(e,t){switch(e){case"presenting":if("following"===t||"prompt_to_rejoin"===t)return[e,"none"];return[e,t];case"prompt_to_accept_nomination":if("pending_auto_follow"===t)return["none",t];return[e,"none"];case"showing_explainer":case"none":return[e,t];default:(0,s.xb)(e)}}(Y,Z),er=en;c&&"following"===er&&(er="none");let ea=r.useCallback(()=>{R(!0),B(),w(I.N.IGNORE)},[B,w]),es=z===k.D_.INITIAL,eo=r.useCallback(()=>"pending_auto_follow"===er&&!!M&&z===k.D_.INITIAL&&(B(),!0),[z,B,M,er]);(0,E.O1)(eo,E.KD.MULTIPLAYER_SPOTLIGHT);let el=$(),ed="showing_explainer"===ei,ec=(0,d.md)(D.N),eu="none"!==ei,ep="none"!==er,em=["presenting","prompt_to_accept_nomination","showing_explainer"].includes(ei)||["following"].includes(er),[eh,ef]=(0,d.fp)(y.uc);return em!==eh&&ef(em),(0,n.jsxs)(J,{overlayStatus:{self:ei,others:er},children:[(0,n.jsx)(p.N,{children:em&&(0,n.jsx)(m.P.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:U.Bn},children:(0,n.jsx)(X,{})})}),(0,n.jsx)(p.N,{children:eu&&(0,n.jsx)(m.P.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:U.Bn},children:(0,n.jsx)(q,{prototypeHeaderHidden:i,children:(()=>{switch(ei){case"presenting":if(null===u)return null;if(K){let e=(0,v.tx)("collaboration.spotlight.bell.presenter.waiting_for_followers"),t=(0,v.t)("collaboration.spotlight.bell.presenter.cancel");return(0,n.jsx)(F.Y,{color:"brand",message:{text:e},renderKey:`${u.sessionID}`,progressBar:!0,progressBarDurationMs:T,autoHide:!1,button:{text:t,onClick:W},isTabAccessible:a})}return(0,n.jsx)(F.Y,{color:"brand",message:{text:(0,n.jsx)(P.s,{count:t.followerCount})},renderKey:`${u.sessionID}`,progressBar:!1,progressBarDurationMs:0,autoHide:!1,button:{text:(0,v.t)("collaboration.spotlight.bell.presenter.stop"),onClick:W},docked:el,isTabAccessible:a});case"prompt_to_accept_nomination":if(!u||!g)return null;return(0,n.jsx)(F.Y,{autoHide:!1,button:{text:(0,v.t)("collaboration.spotlight.tooltip.spotlight_me"),onClick:()=>{j(t)}},color:"brand",isTabAccessible:a,message:{text:(0,v.tx)("collaboration.spotlight.bell.follower.nominated",{nominatorName:g.name})},onCloseCallback:()=>{A(u.sessionID,t)},progressBar:!1,progressBarDurationMs:0,renderKey:`${u.sessionID}`,showCloseButton:!0,useSecondaryColor:!0});case"showing_explainer":if(null===u)return null;let e=h?(0,v.tx)("collaboration.spotlight.bell.explainer.takeover",{currentPresenter:h?.name}):(0,v.tx)("collaboration.spotlight.bell.explainer");return(0,n.jsx)(F.Y,{autoHide:!1,button:null,color:"brand",docked:!1,isTabAccessible:a,message:{text:e},progressBar:!1,progressBarDurationMs:0,renderKey:`${t.sessionID}`,useSecondaryColor:!0});case"none":return null;default:(0,s.xb)(ei)}})()})})}),(0,n.jsx)(p.N,{children:ep&&(0,n.jsx)(m.P.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{ease:"easeIn",duration:U.Bn},children:(0,n.jsx)(q,{prototypeHeaderHidden:i,children:(()=>{switch(er){case"pending_auto_follow":{if(!h)return null;let e=h.name,t=es?{text:(0,v.tx)("collaboration.spotlight.bell.follower.spotlighting_presenter_alternate_copy",{presenterName:e}),onClick:G}:{text:(0,v.tx)("collaboration.spotlight.bell.follower.switching_to_new_presenter",{presenterName:e})},i=es?{text:(0,v.t)("collaboration.spotlight.bell.follower.not_now"),onClick:ea}:null;return(0,n.jsx)(F.Y,{color:h?.color,message:t,renderKey:`${h.sessionID}`,progressBar:es,progressBarDurationMs:V||0,autoHide:!1,button:i,ghost:ed,isTabAccessible:a})}case"following":{let e=t.observingSessionID===t.presenterSessionID;if(null===f)return null;let i=f?.name||"",r=e?(0,v.tx)("collaboration.spotlight.bell.follower.spotlight_on_presenter",{observedUserName:i}):(0,v.tx)("collaboration.spotlight.bell.follower.following_non_presenter",{observedUserName:i}),s={text:e?(0,v.t)("collaboration.spotlight.bell.stop_following"):(0,v.t)("collaboration.spotlight.bell.stop"),onClick:()=>O(t)};return(0,n.jsx)(F.Y,{autoHide:!_.Xb,button:s,color:f?.color,docked:el,ghost:ed,isTabAccessible:a,message:{text:r},progressBar:!1,progressBarDurationMs:0,renderKey:`${t.observingSessionID}`,secondaryButton:(0,l.k)().spotlight_zoom_override&&ec&&1!==ec?{text:(0,v.t)("collaboration.spotlight.bell.reset_zoom"),onClick:()=>{d.zl.set(D.N,1)}}:null})}case"prompt_to_rejoin":let e=()=>(0,x.KI)(H,t,"Spotlight Rejoined",et);if(null!==f||null===h)return null;let i=(0,v.tx)("collaboration.spotlight.bell.follower.reprompt_spotlight_on_presenter",{presenterUserName:h.name}),r=(0,v.t)("collaboration.spotlight.bell.follower.follow");return(0,n.jsx)(F.Y,{autoHide:!1,button:{text:r,onClick:e},color:h?.color,ghost:ed,isTabAccessible:a,message:{text:i,onClick:e},onCloseCallback:()=>(0,x.KI)(()=>R(!0),t,"Spotlight Rejoin Dismissed",et),progressBar:!1,progressBarDurationMs:0,renderKey:`${h.sessionID}`,showCloseButton:!0,useSecondaryColor:!0});case"none":return null;default:(0,s.xb)(er)}})()})})})]})}function ei({prototypeHeaderHidden:e,isTabAccessible:t=!1,hideOthersOverlayOverride:i=!1}){let r=(0,a.d4)(({multiplayer:e})=>e),s=(0,k.HG)(),o=(0,k.By)(),l=-1!==r.observingSessionID;return((0,k.VA)({multiplayer:r}),(0,k.Pi)({multiplayer:r}),o)?null:s?(0,n.jsx)(et,{multiplayer:r,prototypeHeaderHidden:e,isTabAccessible:t,hideOthersOverlayOverride:i}):l?(0,n.jsx)(en,{prototypeHeaderHidden:e,isTabAccessible:t}):null}function en(e){let{prototypeHeaderHidden:t,isTabAccessible:i=!1}=e,s=(0,k.$0)(),o=(0,S.q5)(),l=(0,a.d4)(e=>e.multiplayer.allUsers.length),d=r.useRef(l);d.current=l,ee("none","following",o,d);let c=`${s?.sessionID}`,u=r.useMemo(()=>{let e=s?.name||"";return{text:(0,v.tx)("collaboration.spotlight.bell.follower.following_non_presenter",{observedUserName:e})}},[s]),p=$();return null===s?null:(0,n.jsxs)(J,{children:[(0,n.jsx)(Y,{}),(0,n.jsx)(q,{prototypeHeaderHidden:t,children:(0,n.jsx)(F.Y,{color:s?.color,message:u,renderKey:c,autoHide:!_.Xb,progressBar:!1,progressBarDurationMs:0,button:null,docked:p,isTabAccessible:i})})]})}function er(){let e=(0,d.md)(A.a8)===O.h0.PLAYING,t=(0,d.md)(A.$i);if(!e)return null;switch(t){case O.JJ.CANVAS:return(0,n.jsx)(J,{colorOverride:L.rK,children:(0,n.jsx)(Y,{})});case O.JJ.PROPERTIES_PANEL:return(0,n.jsx)(ea,{});default:return null}}function ea(){let e=K(0),t=R.iP-2*H;return(0,n.jsx)("div",{"data-testid":"cursor-bot-properties-panel-frame",className:G.KM,style:{border:`${H}px solid ${L.rK}`,width:`${t}px`,height:e.height,top:e.top,right:0}})}function es(){return(0,n.jsx)(J,{colorOverride:"var(--color-border-brand-strong)",children:(0,n.jsx)(Y,{})})}},139984:(e,t,i)=>{i.d(t,{a:()=>el,S:()=>eo});var n=i(486106),r=i(7378),a=i(514228),s=i(763686),o=i(27355),l=i(738636),d=i(985254),c=i(621515),u=i(766303),p=i(516028),m=i(940356),h=i(191312),f=i(242339),g=i(915202),_=i(268271),x=i(728210),y=i(553179),b=i(511910),C=i(202626),v=i(6204),E=i(467440),T=i(61403),w=i(467880),j=i(573154),S=i(453826),k=i(372672),I=i(631279);let N=[T.wn.CREATE_FRAME,T.wn.FORMAT_FRAME,T.wn.CREATE_TEXT,T.wn.FORMAT_TEXT];var A=i(881782),O=i(925040),L=i(169182),R=i(303541),M=i(216737),D=i(837048),P=i(278289);function F(e,t){let i=T.wn.CREATE_FRAME,{tutorialPlayedUserFlag:r,stepCompletedUserFlag:a}=(0,I.Of)(i,t);return{name:i,tutorialPlayedUserFlag:r,stepCompletedUserFlag:a,duration:t?8900:5200,startingState:t?{centerNodeMatcher:D.C7,resetStartingState:{hubFileId:L.Ay()?.cursor_bot?.product_page_hub_file_id,nodeWidth:D.e7,nodeHeight:D.HX}}:void 0,steps:function(e,t){let i=[{type:T.HQ.SET_CHAT,message:"Just click and drag, like this.",additionalDelay:600},{type:T.HQ.CHANGE_TOOL,toolType:s.NLJ.FRAME}];return t?i.push({type:T.HQ.INSERT_NODE,payload:{nodeType:"FRAME",width:D.b7,height:D.mg},nodeName:D.Ur,locationType:T.bn.INSIDE_SCENE_NODE,location:{parentMatcher:D.C7,offsetX:523,offsetY:285},nodeNameForLogging:T.Le.PRODUCT_FRAME_CHERRIES_FRAME,additionalDelay:1200,cursorMovementAnimationDuration:600,nodeDrawingAnimationDuration:1500},{type:T.HQ.SET_CHAT,message:"Then add elements into frames, like images.",additionalDelay:700},{type:T.HQ.INSERT_NODE,locationType:T.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,D.xK)(e,0)},payload:{nodeType:"RECTANGLE",fillType:"image",imgSrc:(0,L.ck)("eccc694a7069c9cafd11d1b91b27e0a5c5e7a394"),width:D.b7,height:D.g1},nodeName:"Image",nodeNameForLogging:T.Le.CHERRIES_FRAME_CHERRIES_IMAGE,additionalDelay:1e3,cursorMovementAnimationDuration:600,cursorPosition:T.$2.BOTTOM_RIGHT},{type:T.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,D.xK)(e,1),nodeNameForLogging:T.Le.PRODUCT_FRAME_CHERRIES_FRAME}):i.push({type:T.HQ.INSERT_NODE,payload:{nodeType:"FRAME",width:117,height:48},locationType:T.bn.DEFAULT,nodeName:"Frame 1",nodeNameForLogging:T.Le.NO_BASICS_FILE_FRAME,additionalDelay:1500,cursorMovementAnimationDuration:500,nodeDrawingAnimationDuration:1500}),i.push({type:T.HQ.CLEAR_CHAT}),i}(0,t),TooltipElement:t=>{let{primaryCtaProps:i,secondaryCtaProps:r,onPrimaryCtaClick:a,onSecondaryCtaClick:s}=(0,M.W)({isReplay:e,props:t});return(0,n.jsx)(P.e,{onPrimaryCtaClick:a,onSecondaryCtaClick:s,primaryCtaProps:i,secondaryCtaProps:r,onClose:t.onClickClose,bodyText:(0,R.t)("cursor_bot.a_frame_will_hold_the_rest_of_your_design"),fromCursorBot:!0})}}}var B=i(387100),U=i(589278),G=i(370443),H=i(831799),z=i(5657);function V(e){let t=(0,a.d4)(e=>e.isFullscreenDocumentLoaded);return r.useEffect(()=>{t&&s.glU.triggerAction("set-tool-type",null)},[t]),(0,n.jsx)(z.b,{disableHighlight:!0,dismissModal:e.onClose,lowerLeftText:(0,n.jsx)(H.$z,{onClick:e.onBackCtaClick,className:U.s.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:G.c.BACK},children:(0,R.tx)("general.back")}),onPrimaryCtaClick:e.onPrimaryCtaClick,onSecondaryCtaClick:e.onSecondaryCtaClick,pointsTo:"toolbar",primaryCtaProps:e.primaryCtaProps,secondaryCtaProps:e.secondaryCtaProps,targetKey:"tool-type-onboarding",title:(0,R.tx)("cursor_bot.add_words_where_needed"),trackingContextName:"Cursor Bot Create Text Step",children:(0,R.tx)("cursor_bot.all_designs_need_words_so_create_a_text_layer_anywhere_and_start_typing_simple_as_that")})}function K(e,t,i){let r=T.wn.CREATE_TEXT,{tutorialPlayedUserFlag:a,stepCompletedUserFlag:o}=(0,I.Of)(r,t);return{name:r,tutorialPlayedUserFlag:a,stepCompletedUserFlag:o,duration:t?11400:6600,startingState:t?{centerNodeMatcher:e=>(0,D.xK)(e,D.$5),resetStartingState:{hubFileId:L.Ay()?.cursor_bot?.ginger_no_text_hub_file_id,nodeWidth:D.e7,nodeHeight:D.HX}}:{centerNodeMatcher:D.ok},steps:function({shouldSkipYup:e,isInBasicsFile:t}){let i=[];return t?i.push({type:T.HQ.SET_CHAT,message:(e?"":"Yup: ")+"Just click into your frame and type.",additionalDelay:500}):i.push({type:T.HQ.SET_CHAT,message:(e?"":"Yup: ")+"Just click into your frame and type.",additionalDelay:500,hasBackupMessage:!0,shouldShowBackupMessage:e=>void 0===(0,B.cy)(D.ok,e),backupMessage:(e?"":"Yup: ")+"Just click to add a text node and type."}),i.push({type:T.HQ.CHANGE_TOOL,toolType:s.NLJ.TYPE,additionalDelay:1200}),t?i.push({type:T.HQ.INSERT_NODE,nodeName:D.qw,payload:{nodeType:"TEXT",text:D.qw,height:16},locationType:T.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,D.xK)(e,1),offsetX:24,offsetY:334},cursorPosition:T.$2.BOTTOM_LEFT,nodeNameForLogging:T.Le.CHERRIES_FRAME_CHERRIES_TEXT,cursorMovementAnimationDuration:600,additionalDelay:400},{type:T.HQ.CHANGE_TOOL,toolType:s.NLJ.TYPE,additionalDelay:300},{type:T.HQ.INSERT_NODE,nodeName:D.A8,payload:{nodeType:"TEXT",text:D.A8,height:16},locationType:T.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,D.xK)(e,2),offsetX:316,offsetY:334},cursorPosition:T.$2.BOTTOM_LEFT,nodeNameForLogging:T.Le.CHERRIES_FRAME_PRICE_TEXT,additionalDelay:400},{type:T.HQ.CHANGE_TOOL,toolType:s.NLJ.TYPE,additionalDelay:300},{type:T.HQ.INSERT_NODE,nodeName:D.$j,payload:{nodeType:"TEXT",text:D.$j,height:16},locationType:T.bn.INSIDE_SCENE_NODE,location:{parentMatcher:e=>(0,D.xK)(e,3),offsetX:24,offsetY:368},cursorPosition:T.$2.BOTTOM_LEFT,nodeNameForLogging:T.Le.CHERRIES_FRAME_GROWN_TEXT,additionalDelay:1e3}):i.push({type:T.HQ.INSERT_NODE,nodeName:D.N1,payload:{nodeType:"TEXT",text:D.N1,width:29,height:16,shouldCenterAlign:!0,typingDurationPerCharMs:200},cursorPosition:T.$2.BOTTOM_LEFT,locationType:T.bn.INSIDE_SCENE_NODE,location:{parentMatcher:D.ok,offsetX:-14.5,offsetY:-7.5,shouldPositionRelativeToCenterOfParent:!0,useDefaultLocationIfParentNotFound:!0},nodeNameForLogging:T.Le.NO_BASICS_FILE_TEXT,cursorMovementAnimationDuration:600,additionalDelay:1500}),i}({shouldSkipYup:e||!i,isInBasicsFile:t}),TooltipElement:t=>{let{primaryCtaProps:i,secondaryCtaProps:r,onPrimaryCtaClick:a,onSecondaryCtaClick:s}=(0,M.W)({isReplay:e,props:t});return(0,n.jsx)(V,{onPrimaryCtaClick:a,onSecondaryCtaClick:s,primaryCtaProps:i,secondaryCtaProps:r,onClose:t.onClickClose,onBackCtaClick:t.onClickBack})}}}var W=i(889115),q=i(452531);let Y=(0,O.Mz)([e=>e.userFlags,(e,t)=>t],(e,t)=>t.reduce((t,i)=>({...t,[i.name]:!!e[i.stepCompletedUserFlag]}),{}));var X=(e=>(e.PanAndZoom="pan_and_zoom",e.YoureAllSet="youre_all_set",e))(X||{}),J=i(536384),Z=i.n(J),Q=i(449184),$=i(637027),ee=i(62612),et=i(129884),ei=i(107855),en=i(234505);let er=r.memo(({currentTutorial:e,stateManager:t})=>{let i;let a=(0,o.md)(E.a8),s=(0,o.md)(E.jE),l=r.useCallback(()=>{let e=u.current;return e?Math.min(Math.round(e/s*100),100):0},[s]);r.useEffect(()=>{let i=i=>{i&&27===i.keyCode&&(0,I.XC)(a)&&((0,Q.sx)("Cursor Bot Tutorial Canceled via Escape",{tutorialName:e.name}),t.stopCurrentTutorial({timeElapsed:u.current,tutorialPercentageComplete:l(),tutorialName:e.name,stopTrigger:T.mf.ESC_KEY}))};return window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)},[a,t,l,e.name]);let[d,c]=(0,o.fp)(E.mH),u=r.useRef(0),p=r.useRef();if(r.useEffect(()=>{if(!(0,I.XC)(a)){u.current=0,clearInterval(p.current),p.current=void 0;return}let e=setInterval(()=>u.current+=17,17);return p.current=e,()=>clearInterval(e)},[a]),(0,I.XC)(a)){let e=s-u.current;i={animation:`50% center ${e}ms linear`}}let m=(0,ee.ni)(),h=r.useMemo(()=>({top:m.y+x.hH+4}),[m.y]);return(0,n.jsx)("div",{className:en.CL,style:h,children:(0,n.jsx)("div",{className:Z()({[ei.e]:d}),onAnimationEnd:()=>{c(!1)},children:(0,n.jsxs)("div",{className:en.KB,style:i,children:[(0,n.jsx)($.Kz,{multiple:1,direction:"x"}),(0,n.jsx)("div",{children:e.name}),(0,n.jsx)($.Kz,{multiple:1,direction:"x"}),(0,n.jsx)(H.$z,{className:en.gd,onClick:()=>{t.stopCurrentTutorial({timeElapsed:u.current,tutorialPercentageComplete:l(),tutorialName:e.name,stopTrigger:T.mf.STOP_BTN})},"data-tooltip-type":et.Ib.TEXT,"data-tooltip":(0,R.t)("cursor_bot.stop_tutorial"),trackingProperties:{trackingDescriptor:G.c.STOP_TUTORIAL,tutorialName:e.name},"aria-label":(0,R.t)("cursor_bot.stop_tutorial"),children:(0,R.tx)("collaboration.spotlight.bell.presenter.stop")})]})})})}),ea="create_frame_animation--frameCornerSquare--TEcO4";function es(){let e=(0,ee._X)({subscribeToUpdates_expensive:!1}),t=(0,o.md)(E.Dh);if(null==t)return null;let{x:i,y:r,width:a,height:s,duration:l}=t,d=(0,ee.Yb)(e,{x:i,y:r,width:a,height:s}),c=e.x+d.x,u=e.y+d.y;return(0,n.jsx)("div",{style:{top:u,left:c,width:`${d.width}px`,height:`${d.height}px`,position:"absolute"},children:(0,n.jsxs)("div",{style:{border:"1px solid #4497F7",animationDuration:`${l}ms`},className:"create_frame_animation--animationFrame--4fuzR",children:[(0,n.jsx)("div",{style:{top:-3,left:-3,background:"#ffffff"},className:ea}),(0,n.jsx)("div",{style:{top:-3,left:"calc(100% - 3px)",background:"#ffffff"},className:ea}),(0,n.jsx)("div",{style:{top:"calc(100% - 3px)",left:"calc(100% - 3px)",background:"#ffffff"},className:ea}),(0,n.jsx)("div",{style:{top:"calc(100% - 3px)",left:-3,background:"#ffffff"},className:ea})]})})}function eo(){let{isShowing:e,show:t,complete:i,uniqueId:x}=(0,c.e)({overlay:v.SyB,priority:_.N.OVERRIDING_MODAL}),O=(0,a.wA)(),L=(0,a.Pj)(),R=(0,a.d4)(e=>e.isFullscreenDocumentLoaded),M=(0,a.d4)(e=>e.mirror.appModel.multiplayerSessionState===s.kul.JOINED),D=(0,A.b)(),P=(0,o.md)(E.a8),B=(0,m.f)("has_cursor_bot_onboarding_v2");!function(e,t,i){let n=(0,k.iZ)(),r=(0,a.wA)(),s=(0,m.f)("has_cursor_bot_onboarding_v2"),o=(0,p.Cq)({useSinatraType:!0}),l=(0,f.WO)(n?.id,o,["exp_cursor_bot_onboarding"]),c=e=>{let n={...function(e){let t={format_text_step_shown:!1,design_panel_step_shown:!1};for(let i of(e?t.cursor_bot_v2__basics_onboarded=!1:(t.has_zoomed_in_design_file=!1,t.has_panned_in_design_file=!1,t.cursor_bot_v2__basics_onboarded=!1,t.cursor_bot_v2__no_basics_onboarded=!1),N)){let{tutorialPlayedUserFlag:n,stepCompletedUserFlag:r}=(0,I.Of)(i,e);t[n]=!1,t[r]=!1}return t}(l),cursor_bot_v2__basics_file__started_flow:!1,cursor_bot_v2_has_greeted_with_wave:!1};e&&(n.has_cursor_bot_onboarding_v2=!0),r(d.b(n)),t||i()};(0,S.E)(e,w.W,()=>{o?.editor_type===h._Y.DESIGN?c(!0):r(j.s.error("Cursor Bot can only be run in Figma design."))}),(0,S.E)(e,"Reset Onboarding",()=>{s&&o?.editor_type===h._Y.DESIGN&&c()})}(x,e,t);let[U,G]=r.useState(C.en.FORWARD),H=function(){let e=(0,m.f)("has_cursor_bot_onboarding_v2"),t=(0,m.f)("cursor_bot_v2__basics_file__started_flow"),i=(0,f.Ai)(["exp_cursor_bot_onboarding"]),n=(0,f.jm)(i),s=function(e){let t=!!(0,m.f)("cursor_bot_v2_has_greeted_with_wave"),i=!!(0,m.f)((0,I.Of)(T.wn.CREATE_FRAME,e).tutorialPlayedUserFlag),n=!!(0,m.f)((0,I.Of)(T.wn.FORMAT_FRAME,e).tutorialPlayedUserFlag),a=!!(0,m.f)((0,I.Of)(T.wn.CREATE_TEXT,e).tutorialPlayedUserFlag),s=!!(0,m.f)((0,I.Of)(T.wn.FORMAT_TEXT,e).tutorialPlayedUserFlag);return(0,r.useMemo)(()=>e?[F(i,e),K(a,e,t),(0,q.Z)(s,e),(0,W.p)(n,e)]:[F(i,e),(0,W.p)(n,e),K(a,e,t),(0,q.Z)(s,e)],[e,t,i,a,s,n])}(i),o=(0,a.d4)(e=>Y(e,s));if(!e||n||!i&&t)return null;let l=0;if(s.forEach(e=>{o[e.name]&&(l+=1)}),l>=s.length)return i?"youre_all_set":"pan_and_zoom";let d={...s[l]};return l>0&&(d.previousTutorialCompleteUserFlag=s[l-1].stepCompletedUserFlag),d}(),z=(0,f.Ai)(["exp_cursor_bot_onboarding"]),V=(0,f.Y3)(),J=(0,f.jm)(z),Z=V||J,Q=p.q5()?.canEdit;r.useEffect(()=>{!Z&&!e&&B&&H&&R&&M&&Q&&t()},[Z,e,t,B,H,R,M,Q]),r.useEffect(()=>{e&&(J||!H)&&i()},[e,i,J,H]);let $=(0,m.f)("cursor_bot_v2__basics_file__started_flow");if(r.useEffect(()=>{e&&z&&!$&&O(d.b({cursor_bot_v2__basics_file__started_flow:!0}))},[O,z,e,$]),!e||!H)return null;let ee=()=>{z?O(d.b({cursor_bot_v2__basics_onboarded:!0})):O(d.b({cursor_bot_v2__no_basics_onboarded:!0})),i()};if(H===X.YoureAllSet)return(0,n.jsx)(y.J,{onPrimaryCtaClick:()=>{let e=(0,u.xA)({state:L.getState(),openNewFileIn:g.ai.NEW_TAB,folderOverride:"drafts",trackingInfo:{from:g.f6.CURSOR_BOT_END_MODAL,selectedView:L.getState().selectedView},editorType:h._Y.DESIGN});O(l.uM(e)),ee()},onSecondaryCtaClick:ee,onClose:ee});if(H===X.PanAndZoom)return(0,n.jsx)(b.iF,{markComplete:ee});if(P===T.h0.PLAYING)return(0,n.jsx)(el,{cursorBotStateManager:D,currentTutorial:H});let et=()=>{H.previousTutorialCompleteUserFlag&&(G(C.en.BACKWARD),O(d.b({[H.previousTutorialCompleteUserFlag]:!1})))},ei=()=>{G(C.en.FORWARD),O(d.b({[H.stepCompletedUserFlag]:!0}))};return(0,n.jsx)(H.TooltipElement,{onClickShowMe:()=>D.runTutorial(H),onClickNext:ei,onClickClose:ee,onClickBack:et,skip:U===C.en.BACKWARD?et:ei})}function el({cursorBotStateManager:e,currentTutorial:t}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w.Y,{}),(0,n.jsx)(er,{currentTutorial:t,stateManager:e}),(0,n.jsx)(es,{}),(0,n.jsx)(x.Qe,{})]})}},881782:(e,t,i)=>{i.d(t,{b:()=>R});var n=i(7378),r=i(514228),a=i(763686),s=i(27355),o=i(106207),l=i(104740),d=i(741237),c=i(940356),u=i(84367),p=i(298911),m=i(467440),h=i(165054),f=i(189185),g=i(387100),_=i(449184),x=i(191804),y=i(714362),b=i(257275),C=i(670985),v=i(573154),E=i(49598),T=i(985254),w=i(455680),j=i(62612),S=i(79930),k=i(198712),I=i(195407),N=i(61403),A=i(631279);let O=(0,b.Lg)()?0:300;class L{constructor(e,t,i,n,r,s,o,l,d,c,u,p,m,h,f,g,_,x,y,C,v){this.setCursorBotX=e,this.setCursorBotY=t,this.setCursorBotChat=i,this.setCursorBotAnimationDuration=n,this.setCursorBotTutorialPhase=r,this.setCursorType=s,this.setCursorDirection=o,this.setToolbarActionWithSimulatedHover=l,this.setCursorBotAnimationLayerPosition=d,this.setCursorBotOverlayType=c,this.setCursorBotTutorialDuration=u,this.hasWaved=p,this.cursorBotX=m,this.cursorBotY=h,this.getViewportInfo=f,this.navigate=g,this.sceneGraph=_,this.infoForSentry=x,this.dispatch=y,this.insertTemplate=C,this.appModel=v,this.waitForDuration=(e,t)=>new Promise(i=>{this.setTimeoutWrapper({callback:i,delay:(0,b.Lg)()&&!t?0:e,isBlockingTutorialExecution:!0})}),this.unblockUserEventsTimeout=null,this.blockUserEvents=()=>{a.Ez5.editorState().shouldBlockUserEvents.set(!0),(0,b.Lg)()||(this.unblockUserEventsTimeout=setTimeout(()=>{this.unblockUserEvents()},6e4))},this.unblockUserEvents=()=>{this.setCursorBotTutorialPhase(N.h0.AWAITING_PLAYBACK),a.Ez5.editorState().shouldBlockUserEvents.set(!1),this.unblockUserEventsTimeout&&clearTimeout(this.unblockUserEventsTimeout),this.unblockUserEventsTimeout=null},this.animateChat=(e,t)=>{if(e>t.length||this.shouldStop)return;let i=t.slice(0,e);this.setCursorBotChat(i),this.setTimeoutWrapper({callback:()=>{this.animateChat(e+1,t)},delay:(0,b.Lg)()?0:35,isBlockingTutorialExecution:!1})},this.startingStateHubFiles={},this.shouldStop=!1,this.timeoutIds=[],this.pendingCallbacksToRun=[]}runTutorial(e,t){let i=async()=>{for(let t of(await this.setupStateAndCanvas(e),e.steps)){if(this.shouldStop)return;try{await this.transition(t,e.name)}catch(i){this.logErrorAndStopTutorial("Could not execute step",{step:t,err:i,tutorialName:e.name});return}}this.resetStateAndMarkTutorialComplete(e.tutorialPlayedUserFlag,t)};(0,C.Lk)(A.tF,h.e.UNOWNED);let n=window.performance.now();return this.currentTutorialRunningPromise=i(),this.currentTutorialRunningPromise.finally(()=>{(0,C.Dz)(A.tF);let t=window.performance.now()-n;(0,y.Lo)(A.tF,"Tutorial completed or stopped",{elapsedDuration:t,tutorialName:e.name})}),this.currentTutorialRunningPromise}insertStartingStateFromHubFile({hubFileId:e,nodeWidth:t,nodeHeight:i,tutorialName:n}){if(!e)throw Error("Hub file ID is not provided");let r=async e=>{let r=a.qmM.findBoundsToCenterNewTopLevelNode(t+88,i),s=r.origin.x+88,o=r.origin.y;await this.centerViewportAroundCanvasRect({x:s,y:o,width:t,height:i}),await this.waitForDuration(this.moveCursorBot({x:s+t/2,y:o+i/2,coordinateType:"canvas",animationDuration:600})),await this.transition({type:N.HQ.SET_CHAT,message:"Here\u2019s another example..."},n),await this.insertTemplate({template:{type:S.n.HubFile,template:e},userTriggered:!1,editScopeType:a.zkO.ONBOARDING,triggeredFrom:"cursor-bot",templateInsertionDirection:a.hKj.CUSTOM_POSITION,templateCustomPosition:{x:s,y:o},selectTemplateAfterInsertion:!0}),await this.waitForDuration(500)};return this.startingStateHubFiles[e]?r(this.startingStateHubFiles[e]):new Promise((t,i)=>{this.dispatch(E.ts({hubFileId:e,callback:async e=>{try{this.startingStateHubFiles[e.id]=e,await r(e),t()}catch(e){i(e)}}}))})}logSentryError(e,t){(0,y.x1)(A.tF,e,t,{reportAsSentryError:!0})}logErrorAndStopTutorial(e,t){this.logSentryError(e,t),this.dispatch(v.s.error("Could not run tutorial. Please try again later.")),this.stopCurrentTutorial({tutorialName:t.tutorialName,stopTrigger:N.mf.STATE_MANAGER_ERROR,errorMessage:e,nodeName:t.name})}async stopCurrentTutorial(e){this.shouldStop=!0,this.timeoutIds.forEach(e=>clearTimeout(e)),this.pendingCallbacksToRun.forEach(e=>e()),await this.currentTutorialRunningPromise,this.resetCursorBotStateToDefaults(),this.unblockUserEvents(),e&&(0,_.sx)("Cursor Bot Tutorial Stopped",{...e})}updatePositionState(e,t){this.cursorBotX=e,this.cursorBotY=t}updateSceneGraphReference(e){this.sceneGraph=e}updateInfoForSentry(e){this.infoForSentry=e}updateAppModel(e){this.appModel=e}updateHasWaved(e){this.hasWaved=e}setTimeoutWrapper({callback:e,delay:t,isBlockingTutorialExecution:i}){this.timeoutIds.push(setTimeout(e,t)),i&&this.pendingCallbacksToRun.push(e)}resetCursorBotStateToDefaults(){this.tutorialParentNode=void 0,this.setCursorBotX(m.Lw),this.setCursorBotY(m.WW),this.setCursorBotChat(""),this.setCursorBotAnimationDuration(0),this.setCursorType(a.z7E.DEFAULT),this.setToolbarActionWithSimulatedHover(void 0),this.setCursorDirection(N.zu.DEFAULT),this.setCursorBotOverlayType(N.JJ.CANVAS),this.timeoutIds=[],this.pendingCallbacksToRun=[]}async navigateToPageNodesOrDefaultViewport(){let e=this.sceneGraph.getCurrentPage()?.childrenGuids;e&&e.length>0?a.NfO.scrollAndZoomIntoView(e):await this.navigate({centerX:0,centerY:0,scale:3})}getSelectedNodeIfMatches(e){if(""!==a.glU.getFirstSelectedNodeIdForCurrentPage()){let t=a.glU.getFirstSelectedNodeIdForCurrentPage(),i=this.sceneGraph.get(t);if(i&&e(i,this.sceneGraph))return i}}computeAndSetTutorialDuration(e){let t=e.duration;if(e.startingState){let{centerNodeMatcher:i,resetStartingState:n}=e.startingState;!(0,g.cy)(i,this.sceneGraph)&&n&&(t+=3e3)}this.hasWaved||(t+=A.Y4+A.YX),this.setCursorBotTutorialDuration(t),(0,y.Lo)(A.tF,"Estimated tutorial duration",{tutorialDuration:t,tutorialName:e.name})}async setupStateAndCanvas(e){if(this.blockUserEvents(),this.shouldStop=!1,this.timeoutIds=[],this.computeAndSetTutorialDuration(e),e.startingViewportFrameType&&this.setCursorBotOverlayType(e.startingViewportFrameType),this.setCursorBotTutorialPhase(N.h0.PLAYING),this.hasWaved||(this.setTimeoutWrapper({callback:()=>{this.hasWaved=!0,this.dispatch(T.b({cursor_bot_v2_has_greeted_with_wave:!0}))},delay:A.Y4,isBlockingTutorialExecution:!1}),await this.transition({type:N.HQ.SET_CHAT,message:"Certainly! Here\u2019s how...",additionalDelay:A.YX,preDelay:A.Y4},e.name)),void 0!==e.startingState){let t;let{centerNodeMatcher:i,prioritizeSelectedNode:n,resetStartingState:r}=e.startingState;if(n&&(t=this.getSelectedNodeIfMatches(i)),t||(t=(0,g.WY)(i,this.sceneGraph)),!t&&r)try{await this.insertStartingStateFromHubFile({...r,tutorialName:e.name}),t=(0,g.cy)(i,this.sceneGraph)}catch(t){this.logErrorAndStopTutorial("Could not insert starting state from hub file for tutorial",{err:t,tutorialName:e.name});return}if(t){this.tutorialParentNode=(0,g.E6)(this.sceneGraph,t.guid)??void 0;let e={centerX:t.absoluteBoundingBox.x+t.absoluteBoundingBox.w/2,centerY:t.absoluteBoundingBox.y+t.absoluteBoundingBox.h/2,scale:.2},i=a.NfO.getViewportBounds(),n=(0,A.dK)(t,{width:i.width,height:i.height,zoom:this.getViewportInfo().zoomScale});null==n||isNaN(n)||(e.scale=n),await this.navigate(e)}else await this.navigateToPageNodesOrDefaultViewport()}else await this.navigateToPageNodesOrDefaultViewport()}resetStateAndMarkTutorialComplete(e,t){setTimeout(()=>{this.dispatch(T.b({[e]:!0})),t?.(),this.resetCursorBotStateToDefaults(),this.unblockUserEvents()},O)}async centerViewportAroundCanvasRect(e,t=!1){let{x:i,y:n,width:r,height:a}=e,s=this.getViewportInfo();if(t&&(0,j.UN)(e,s))return;let o=s.zoomScale;(r*o>s.width||a*o>s.height)&&(o=Math.min(s.width/r,s.height/a)/1.1),await this.navigate({centerX:i+r/2,centerY:n+a/2,scale:o})}moveCursorBot({x:e,y:t,coordinateType:i,animationDuration:n}){if("canvas"===i){let i=this.getViewportInfo(),n=(0,j.Z0)(i,{x:e,y:t});e=n.x+i.x,t=n.y+i.y}return n=n||function(e,t,i,n){let r=Math.abs(e-t),a=Math.abs(i-n);return Math.min(Math.round(1.6*Math.sqrt(r*r+a*a)),3e3)}(this.cursorBotX,e,this.cursorBotY,t),this.setCursorBotAnimationDuration(n),this.setCursorBotX(e),this.setCursorBotY(t),n}repositionNode(e,t,i){f.l7.onboarding("reposition-node",()=>e.relativeTransform={...e.relativeTransform,m02:t,m12:i})}async insertNode(e,t,i,n,r){let s;if("RECTANGLE"===e.nodeType){let t=await (0,A.mF)({imgSrc:e.imgSrc,desiredWidth:e.width,desiredHeight:e.height});s=t?this.sceneGraph.get(t):null}else s=f.l7.onboarding("create-node",()=>this.sceneGraph.createNode(e.nodeType));if(!s)return null;if(f.l7.onboarding("size",()=>{s&&a.Egt.setSelectedNodeAndCanvas(s.guid,!1)}),r){let e=(0,g.cy)(r,this.sceneGraph,this.tutorialParentNode);f.l7.onboarding("append-child",()=>s&&e?.appendChild(s))}if(this.repositionNode(s,i,n),f.l7.onboarding("rename-node",()=>{s&&(s.name=t)}),"FRAME"===e.nodeType)f.l7.onboarding("resize-frame",()=>s?.resizeWithoutConstraints(e.width||100,e.height||100));else if("TEXT"===e.nodeType){a.glU.triggerAction("set-tool-default",null),this.setCursorType(a.z7E.DEFAULT);let t=s.parentNode;if(null!==t){let e="CANVAS"===t.type?t.backgroundColor:t.fills[0].color;f.l7.onboarding("set-text-color",()=>{s&&(s.fills=[{...s.fills[0],color:(0,x.HD)(e||x.UE)?x.UE:x.Uv}])})}let i=e.text.length,n=e.typingDurationPerCharMs||50,r=500;for(let t=0;t<i;t++)this.setTimeoutWrapper({callback:()=>{f.l7.onboarding("set-text",()=>{s?.spliceCharacters(s.textData?.characters?.length??t,s.textData?.characters?.length??t,e.text[t],"BEFORE")})},delay:r,isBlockingTutorialExecution:!1}),r+=Math.max(n-t,40);e.shouldCenterAlign&&this.setTimeoutWrapper({callback:()=>{f.l7.onboarding("set-text-horizontal-alignment",()=>{s&&(s.textAlignHorizontal="CENTER",s.textAlignVertical="CENTER")})},delay:r,isBlockingTutorialExecution:!1}),await this.waitForDuration(r)}return s}getCursorBotNodeInsertionLocation(e){let t;if(e.locationType===N.bn.INSIDE_SCENE_NODE){let{parentMatcher:i,useDefaultLocationIfParentNotFound:n}=e.location,r=(0,g.cy)(i,this.sceneGraph,this.tutorialParentNode);if(!r)return n?this.getCursorBotNodeInsertionLocation({...e,locationType:N.bn.DEFAULT}):void 0;let a=e.location?.offsetX??0,s=e.location?.offsetY??0,{absoluteBoundingBox:{x:o,y:l,w:d,h:c}}=r;e.location.shouldPositionRelativeToCenterOfParent&&(a+=d/2,s+=c/2),t={cursorBotX:o+a,cursorBotY:l+s,insertionX:a,insertionY:s}}else if(e.locationType===N.bn.CANVAS_COORDINATE)t={cursorBotX:e.location.x,cursorBotY:e.location.y,insertionX:e.location.x,insertionY:e.location.y};else{let i=a.qmM.findBoundsToCenterNewTopLevelNode(e.payload.width??100,e.payload.height??100);t={cursorBotX:i.origin.x,cursorBotY:i.origin.y,insertionX:i.origin.x,insertionY:i.origin.y}}if(void 0!==e.cursorPosition&&null==e.nodeDrawingAnimationDuration){let i=e.payload.width??100,n=e.payload.height??100;switch(e.cursorPosition){case N.$2.BOTTOM_LEFT:t.cursorBotY+=n;break;case N.$2.BOTTOM_RIGHT:t.cursorBotX+=i,t.cursorBotY+=n;case N.$2.TOP_LEFT:}}return t}async transition(e,t){if(this.shouldStop)return;let i=async()=>{switch(e.type){case N.HQ.SET_CHAT:{e.preDelay&&await this.waitForDuration(e.preDelay);let{message:t}=e;e.hasBackupMessage&&e.shouldShowBackupMessage(this.sceneGraph)&&(t=e.backupMessage),this.animateChat(1,t);return}case N.HQ.CLEAR_CHAT:this.setCursorBotChat("");return;case N.HQ.TARGET_DOM_NODE:{let i=(0,I.xT)(e.dataOnboardingKey);if(!i){let i={name:e.dataOnboardingKey,tutorialName:t,...this.infoForSentry};e.continueIfNotFound?this.logSentryError("Failed to find DOM node to target",i):this.logErrorAndStopTutorial("Failed to find DOM node to target",i);return}let{targetX:n,targetY:r}=(0,A.L7)(i,e.position,e.offset);await this.waitForDuration(this.moveCursorBot({x:n,y:r,coordinateType:"dom",animationDuration:e.cursorBotMovementAnimationDuration})),e.triggerHoverOfItemWithName&&this.setToolbarActionWithSimulatedHover(e.triggerHoverOfItemWithName);return}case N.HQ.TARGET_SCENE_NODE:{let i=(0,g.cy)(e.meetsConditions,this.sceneGraph,this.tutorialParentNode);if(e.prioritizeSelectedNode&&(i=this.getSelectedNodeIfMatches(e.meetsConditions)??i),!i){e.continueIfNotFound||this.logErrorAndStopTutorial("Failed to find scene node to target",{name:e.nodeNameForLogging,tutorialName:t});return}await this.centerViewportAroundCanvasRect({x:i.absoluteBoundingBox.x,y:i.absoluteBoundingBox.y,width:i.absoluteBoundingBox.w,height:i.absoluteBoundingBox.h},!0);let n=e.position||{x:N.GF.RIGHT,y:N.NI.BOTTOM},{targetX:r,targetY:s}=(0,A.L7)(i,n,e.offset);await this.waitForDuration(this.moveCursorBot({x:r,y:s,coordinateType:"canvas",animationDuration:e.cursorBotMovementAnimationDuration})),e.shouldSelect&&a.Egt.setSelectedNodeAndCanvas(i.guid,!1);return}case N.HQ.SELECT_SCENE_NODE:{let i;if(e.prioritizeSelectedNode&&(i=this.getSelectedNodeIfMatches(e.meetsConditions)),i||(i=(0,g.cy)(e.meetsConditions,this.sceneGraph,this.tutorialParentNode)),!i){this.logErrorAndStopTutorial("Failed to find scene node to select",{name:e.nodeNameForLogging,tutorialName:t});return}a.Egt.setSelectedNodeAndCanvas(i.guid,!1);return}case N.HQ.INSERT_NODE:{let i=this.getCursorBotNodeInsertionLocation(e);if(void 0===i){this.logErrorAndStopTutorial("Could not find parent scene node to insert node",{name:e.nodeNameForLogging,tutorialName:t});return}let n=e.payload.height??100,r=e.payload.width??100;await this.centerViewportAroundCanvasRect({x:i.cursorBotX,y:i.cursorBotY,width:r,height:n},!0),await this.waitForDuration(this.moveCursorBot({x:i.cursorBotX,y:i.cursorBotY,coordinateType:"canvas",animationDuration:e.cursorMovementAnimationDuration||600})),e.nodeDrawingAnimationDuration&&"FRAME"===e.payload.nodeType&&(this.setCursorBotAnimationLayerPosition({x:i.cursorBotX,y:i.cursorBotY,width:r,height:n,duration:e.nodeDrawingAnimationDuration}),await this.waitForDuration(this.moveCursorBot({x:i.cursorBotX+r,y:i.cursorBotY+n,coordinateType:"canvas",animationDuration:e.nodeDrawingAnimationDuration})));let a=i.insertionX??i.cursorBotX,s=i.insertionY??i.cursorBotY;await this.insertNode(e.payload,e.nodeName,a,s,e.locationType===N.bn.INSIDE_SCENE_NODE?e.location.parentMatcher:void 0),this.setCursorBotAnimationLayerPosition(null);return}case N.HQ.MOVE_CURSOR_TO_CENTER_SCREEN:return this.waitForDuration(this.moveCursorBot({x:this.getViewportInfo().offsetX,y:this.getViewportInfo().offsetY,coordinateType:"canvas",animationDuration:e.cursorBotMovementAnimationDuration}));case N.HQ.CHANGE_TOOL:[a.NLJ.FRAME,a.NLJ.TYPE].includes(e.toolType)?(e.toolType===a.NLJ.TYPE?a.glU.triggerAction("set-tool-type",null):e.toolType===a.NLJ.FRAME&&a.glU.triggerAction("set-tool-frame",null),this.setCursorType(a.z7E.CROSSHAIR)):e.toolType===a.NLJ.HAND?(a.glU.triggerAction("set-tool-hand",null),this.setCursorType(a.z7E.HAND)):e.toolType===a.NLJ.NONE&&(a.glU.triggerAction("set-tool-default",null),this.setCursorType(a.z7E.DEFAULT));return;case N.HQ.MOVE_VIEWPORT:if("displace"===e.movementType)return this.navigate({centerX:this.getViewportInfo().offsetX+e.xDisplacement,centerY:this.getViewportInfo().offsetY+e.yDisplacement,scale:this.getViewportInfo().zoomScale});return this.navigate({centerX:e.centerX,centerY:e.centerY,scale:e.scale||this.getViewportInfo().zoomScale});case N.HQ.ADJUST_ZOOM_LEVEL:return this.navigate({centerX:this.getViewportInfo().offsetX,centerY:this.getViewportInfo().offsetY,scale:e.scale});case N.HQ.SET_CURSOR_DIRECTION:this.setCursorDirection(e.direction);return;case N.HQ.SET_PROPERTIES_PANEL_TAB:(0,d.NT)(e.tab);return;case N.HQ.UPDATE_SELECTED_NODE_PROPERTIES:{let t=a.glU.getFirstSelectedNodeIdForCurrentPage(),i=this.sceneGraph.get(t);if(!i){(0,y.x1)(A.tF,"Failed to find selected node to update",void 0,{reportAsSentryError:!0});return}this.appModel.activeCanvasEditModeType===a.m1T.TEXT&&((0,d.wr)(),a.Egt.setSelectedNodeAndCanvas(t,!1)),w.Y5.updateSelectionProperties({..."function"==typeof e.properties?e.properties(i):e.properties},{shouldCommit:k.zk.YES,editScopeType:a.zkO.ONBOARDING});return}case N.HQ.SCROLL_PROPERTIES_PANEL:(0,A.$1)(e.value);return;case N.HQ.FOCUS_INPUT:{let t=document.querySelector(e.selector);t?t.focus():(0,y.x1)(A.tF,"Failed to find input to focus",{selector:e.selector},{reportAsSentryError:!0});return}case N.HQ.SET_VIEWPORT_FRAME_TYPE:this.setCursorBotOverlayType(e.viewportFrameType);return}};await i();let n=e.additionalDelay||0;e.type===N.HQ.SET_CHAT&&(n+=35*e.message.length),n>0&&await this.waitForDuration(n,e.type===N.HQ.SET_CHAT),await e.callback?.(this.dispatch)}}function R(){let[e,t]=(0,s.fp)(m.jr),[i,h]=(0,s.fp)(m.Sf),f=(0,s.Xr)(m.H7),g=(0,s.Xr)(m.nG),_=(0,s.Xr)(m.Ds),x=(0,s.Xr)(m.Dh),y=(0,s.Xr)(m.a8),b=(0,s.Xr)(m.iB),C=(0,s.Xr)(m.oO),v=(0,s.Xr)(m.$i),E=(0,s.Xr)(m.jE),T=!!(0,c.f)("cursor_bot_v2_has_greeted_with_wave"),w=n.useContext(p.kw),j=(0,l.Z)(),S=(0,r.d4)(e=>e.mirror.sceneGraph),k=(0,r.wA)(),{insertTemplate:I}=(0,o.Fz)(),N=(0,u.ut)((0,d.aY)(),a.FAf.DESIGN),A=(0,r.d4)(e=>e.mirror.appModel.showUi),O=(0,r.d4)(e=>e.mirror.appModel),R=n.useRef();return R.current||(R.current=new L(t,h,g,_,y,b,f,C,x,v,E,T,e,i,()=>w.getViewportInfo(),j,S,{isUiShown:A,propertiesPanelTab:N},k,I,O)),n.useEffect(()=>{R.current?.updatePositionState(e,i)},[e,i]),n.useEffect(()=>{R.current?.updateSceneGraphReference(S)},[S]),n.useEffect(()=>{R.current?.updateInfoForSentry({isUiShown:A,propertiesPanelTab:N})},[N,A]),n.useEffect(()=>{R.current?.updateAppModel(O)},[O]),n.useEffect(()=>{R.current?.updateHasWaved(T)},[T]),R.current}},216737:(e,t,i)=>{i.d(t,{W:()=>o});var n=i(763686),r=i(303541),a=i(370443),s=i(940356);function o({isReplay:e,props:t}){let i,o,l,d;let c=(0,s.f)("cursor_bot_v2_make_show_me_primary_cta"),u=()=>{t.onClickNext?.(),n.glU.triggerActionInUserEditScope("set-tool-default",null)},p=t.isFollowUp?(0,r.t)("cursor_bot.got_it"):(0,r.t)("tooltips_plus_onboarding.next"),m=t.isFollowUp?a.c.GOT_IT:a.c.NEXT;return c?(i={ctaText:e?(0,r.t)("cursor_bot.show_me_again"):(0,r.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?a.c.SHOW_ME_AGAIN:a.c.SHOW_ME},o={ctaText:p,ctaTrackingDescriptor:m},l=t.onClickShowMe,d=u):(i={ctaText:p,ctaTrackingDescriptor:m},o={ctaText:e?(0,r.t)("cursor_bot.show_me_again"):(0,r.t)("cursor_bot.show_me"),ctaTrackingDescriptor:e?a.c.SHOW_ME_AGAIN:a.c.SHOW_ME},l=u,d=t.onClickShowMe),{primaryCtaProps:i,secondaryCtaProps:o,onPrimaryCtaClick:l,onSecondaryCtaClick:d}}},837048:(e,t,i)=>{i.d(t,{$5:()=>m,$j:()=>v,A8:()=>C,AO:()=>L,C7:()=>N,Dl:()=>h,HX:()=>o,IM:()=>D,LW:()=>p,N1:()=>F,Q$:()=>M,TT:()=>A,U4:()=>I,Ui:()=>_,Ur:()=>d,Ut:()=>B,YH:()=>j,YI:()=>g,_q:()=>k,b7:()=>c,bO:()=>T,e7:()=>s,g1:()=>l,mg:()=>u,ok:()=>P,qw:()=>b,ro:()=>x,wG:()=>y,x0:()=>E,xK:()=>O,yz:()=>S,zk:()=>w});var n=i(273493),r=i(387100);let a="Watermelon",s=1440,o=900,l=310,d="Cherries",c=395,u=416,p=24,m=1,h=4,f={r:1,g:1,b:1,a:1},g={r:237/255,g:239/255,b:228/255,a:1};function _(){let e=["r","g","b"].map(e=>({c:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({c:e})=>e);return{r:0,g:86/255,b:65/255,[e[0]]:0,[e[1]]:86/255,[e[2]]:Math.floor(86*Math.random())/255,a:1}}let x={r:225/255,g:228/255,b:217/255,a:1},y={family:"Inter",style:"Regular",postscript:"Inter-Regular"},b="Rainier cherries",C="$3.99 / lb",v="Grown in Linden, CA",E="Semi Bold",T="Italic",w="Roboto Serif",j={r:71/255,g:103/255,b:48/255,a:1},S={r:116/255,g:121/255,b:109/255,a:1},k={value:130/1.21,units:"PERCENT"},I={value:150/1.21,units:"PERCENT"};function N(e,t){return!(!R(e)||!(0,r.cy)(e=>e.name===a,t,e)||(0,r.cy)(e=>e.name===d,t,e))}function A(e,t){return!!function(e){let t=e.parentNode;return"FRAME"===e.type&&e.name===d&&e.absoluteBoundingBox.w===c&&e.absoluteBoundingBox.h===u&&!!t&&R(t)}(e)&&(void 0===t||e.childCount===t)}function O(e,t){return!!(A(e,t)&&0===e.cornerRadius&&e.strokePaints?.data?.length===0&&(0,n.Vm)(e.fills[0]?.color,f))}function L(e,t){if(!O(e,t))return!1;for(let t of e.childrenNodes)if("TEXT"===t.type&&!B(t))return!1;return!0}function R(e){return!!e&&"FRAME"===e.type&&"Products"===e.name&&e.absoluteBoundingBox.w===s&&e.absoluteBoundingBox.h===o}function M(e,t){let i=e.parentNode;return"FRAME"===e.type&&e.name===a&&!!i&&N(i,t)}function D(e){return[{type:"SOLID",color:e,blendMode:"NORMAL",opacity:1,visible:!0}]}function P(e){return"FRAME"===e.type&&e.absoluteBoundingBox.w>=90&&!!e.parentNode&&0===e.childCount}let F="Hello";function B(e,t){if(void 0!==t&&e.name.toLowerCase()!==t.toLowerCase()||"TEXT"!==e.type||12!==e.fontSize||e.fontName.family!==y.family||e.fontName.style!==y.style)return!1;let i=e.parentNode;return!!i&&O(i,h)}},889115:(e,t,i)=>{i.d(t,{p:()=>x});var n=i(486106),r=i(763686),a=i(387100),s=i(169182),o=i(589278),l=i(303541),d=i(370443),c=i(831799),u=i(242339),p=i(61403),m=i(631279),h=i(216737),f=i(837048),g=i(605682),_=i(731770);function x(e,t){let i=p.wn.FORMAT_FRAME,{tutorialPlayedUserFlag:x,stepCompletedUserFlag:y}=(0,m.Of)(i,t);return{name:i,tutorialPlayedUserFlag:x,stepCompletedUserFlag:y,duration:t?17500:9400,steps:function(e){let t=[];return t.push({type:p.HQ.SET_PROPERTIES_PANEL_TAB,tab:r.FAf.DESIGN}),e?t.push({type:p.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,f.xK)(e,f.Dl),nodeNameForLogging:p.Le.PRODUCT_FRAME_CHERRIES_FRAME,additionalDelay:400}):t.push({type:p.HQ.SELECT_SCENE_NODE,meetsConditions:e=>"FRAME"===e.type,nodeNameForLogging:p.Le.NO_BASICS_FILE_FRAME,additionalDelay:400,prioritizeSelectedNode:!0}),t.push({type:p.HQ.SET_CURSOR_DIRECTION,direction:p.zu.RIGHT},{type:p.HQ.SET_CHAT,message:"Change how your frames look here.",additionalDelay:500},{type:p.HQ.TARGET_DOM_NODE,dataOnboardingKey:g.W,offset:{x:-28,y:132},position:{x:p.GF.LEFT,y:p.NI.TOP},cursorBotMovementAnimationDuration:600},{type:p.HQ.SET_VIEWPORT_FRAME_TYPE,viewportFrameType:p.JJ.PROPERTIES_PANEL,additionalDelay:1500},{type:p.HQ.SET_CHAT,message:e?"For example: Add color...":"For example: Their color!",additionalDelay:1e3},{type:p.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.PROPERTIES_PANEL_TITLE,"fill"),position:{x:p.GF.LEFT,y:p.NI.CENTER},additionalDelay:500,cursorBotMovementAnimationDuration:1e3},{type:p.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:()=>({fillPaints:(0,f.IM)(e?f.YI:(0,f.Ui)())}),additionalDelay:0},{type:p.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.PAINT_PANEL_ROW,"paint-1-0")}"] input`,additionalDelay:1500},{type:p.HQ.CLEAR_CHAT}),e&&t.push({type:p.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.PROPERTIES_PANEL_TITLE,"stroke"),position:{x:p.GF.LEFT,y:p.NI.CENTER},cursorBotMovementAnimationDuration:300,additionalDelay:300},{type:p.HQ.SET_CHAT,message:"A border...",additionalDelay:500},{type:p.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{strokePaints:(0,f.IM)(f.ro),strokeWeight:2},additionalDelay:10},{type:p.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.PAINT_PANEL_ROW,"paint-2-0")}"] input`,additionalDelay:1500},{type:p.HQ.SCROLL_PROPERTIES_PANEL,value:0,additionalDelay:500},{type:p.HQ.CLEAR_CHAT},{type:p.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,u.Lh)(u.D8.SCRUBBABLE_CONTROL,"corner-radius"),offset:{x:-25,y:5},cursorBotMovementAnimationDuration:700,additionalDelay:300},{type:p.HQ.SET_CHAT,message:"Or rounded corners!",additionalDelay:500},{type:p.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{cornerRadius:f.LW},additionalDelay:10},{type:p.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,u.Lh)(u.D8.SCRUBBABLE_CONTROL,"corner-radius")}"] input`,additionalDelay:2500},{type:p.HQ.CLEAR_CHAT}),t}(t),startingState:t?{centerNodeMatcher:e=>(0,f.xK)(e,f.Dl),resetStartingState:{hubFileId:s.Ay()?.cursor_bot?.ginger_formatted_text_hub_file_id,nodeHeight:f.HX,nodeWidth:f.e7}}:{centerNodeMatcher:e=>"FRAME"===e.type},TooltipElement:i=>{let{primaryCtaProps:r,secondaryCtaProps:s,onPrimaryCtaClick:u,onSecondaryCtaClick:p}=(0,h.W)({isReplay:e,props:i});return(0,n.jsx)(_.Z,{bodyText:t?(0,l.t)("cursor_bot.design_panel_can_change_objects"):(0,l.t)("cursor_bot.design_panel_is_key"),frameNodeMatcher:t?e=>(0,a.WY)(e=>(0,f.TT)(e,f.Dl),e)||(0,a.cy)((e,t)=>(0,f.Q$)(e,t),e):void 0,fromCursorBot:!0,isFollowUp:i.isFollowUp,lowerLeftText:i.onClickBack?(0,n.jsx)(c.$z,{onClick:i.onClickBack,className:o.s.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:d.c.BACK},children:(0,l.tx)("cursor_bot.back")}):void 0,onClose:i.onClickClose,onPrimaryCtaClick:u,onSecondaryCtaClick:p,primaryCtaProps:r,secondaryCtaProps:s,skip:i.skip,title:(0,l.t)("cursor_bot.make_it_look_just_right")})}}}},452531:(e,t,i)=>{i.d(t,{Z:()=>y});var n=i(486106),r=i(763686),a=i(387100),s=i(700578),o=i(169182),l=i(589278),d=i(303541),c=i(370443),u=i(831799),p=i(242339),m=i(61403),h=i(631279),f=i(216737),g=i(837048),_=i(151869),x=i(846647);function y(e,t){let i=m.wn.FORMAT_TEXT,{tutorialPlayedUserFlag:y,stepCompletedUserFlag:b}=(0,h.Of)(i,t);return{name:i,tutorialPlayedUserFlag:y,stepCompletedUserFlag:b,duration:t?10500:8500,steps:function(e){let t=[];return t.push({type:m.HQ.SET_PROPERTIES_PANEL_TAB,tab:r.FAf.DESIGN}),e&&t.push({type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,g.Ut)(e,g.$j),prioritizeSelectedNode:!0,nodeNameForLogging:m.Le.CHERRIES_FRAME_GROWN_TEXT,additionalDelay:1e3},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:x.B,offset:{x:-150,y:-50},cursorBotMovementAnimationDuration:800},{type:m.HQ.SET_CHAT,message:"Change how your text looks here.",additionalDelay:1500}),t.push({type:m.HQ.SET_CURSOR_DIRECTION,direction:m.zu.RIGHT},{type:m.HQ.SET_CHAT,message:"Pick your style, size, alignment, and more.",additionalDelay:1200}),e?t.push({type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,g.Ut)(e,g.qw),nodeNameForLogging:m.Le.CHERRIES_FRAME_CHERRIES_TEXT,prioritizeSelectedNode:!0},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-style-button"),position:{x:m.GF.LEFT,y:m.NI.CENTER},cursorBotMovementAnimationDuration:500,additionalDelay:1e3},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fontSize:20,fontStyle:g.x0,lineHeight:g._q}},{type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,g.Ut)(e,g.A8),nodeNameForLogging:m.Le.CHERRIES_FRAME_PRICE_TEXT},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fillPaints:(0,g.IM)(g.YH),fontSize:20,fontStyle:g.x0,lineHeight:g._q,textAlignHorizontal:"RIGHT"}},{type:m.HQ.SELECT_SCENE_NODE,meetsConditions:e=>(0,g.Ut)(e,g.$j),nodeNameForLogging:m.Le.CHERRIES_FRAME_GROWN_TEXT},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:{fillPaints:(0,g.IM)(g.yz),fontSize:16,lineHeight:g.U4},additionalDelay:1500}):t.push({type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-picker-button"),position:{x:m.GF.LEFT,y:m.NI.CENTER},cursorBotMovementAnimationDuration:600,additionalDelay:500},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontFamily:e.fontName.family===g.zk?g.wG.family:g.zk}),additionalDelay:300},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.TEXT_PANEL,"font-style-button"),position:{x:m.GF.LEFT,y:m.NI.CENTER},cursorBotMovementAnimationDuration:600,additionalDelay:500},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontStyle:e.fontName.style===g.bO?g.wG.style:g.bO}),additionalDelay:300},{type:m.HQ.TARGET_DOM_NODE,dataOnboardingKey:(0,p.Lh)(p.D8.SCRUBBABLE_CONTROL,"font-size"),position:{x:m.GF.LEFT,y:m.NI.CENTER},cursorBotMovementAnimationDuration:600},{type:m.HQ.FOCUS_INPUT,selector:`[data-onboarding-key="${(0,p.Lh)(p.D8.SCRUBBABLE_CONTROL,"font-size")}"] input`,additionalDelay:500},{type:m.HQ.UPDATE_SELECTED_NODE_PROPERTIES,properties:e=>({fontSize:16===e.fontSize?12:16}),additionalDelay:1500}),t.push({type:m.HQ.CLEAR_CHAT}),t}(t),startingViewportFrameType:t?m.JJ.TEXT_PANEL:m.JJ.PROPERTIES_PANEL,startingState:t?{centerNodeMatcher:e=>(0,g.AO)(e,4),resetStartingState:{hubFileId:o.Ay()?.cursor_bot?.ginger_hub_file_id,nodeHeight:g.HX,nodeWidth:g.e7}}:{centerNodeMatcher:e=>"TEXT"===e.type},TooltipElement:i=>{let r=(0,_.Vr)(),{primaryCtaProps:o,secondaryCtaProps:p,onPrimaryCtaClick:m,onSecondaryCtaClick:h}=(0,f.W)({isReplay:e,props:i});return(0,n.jsx)(x.P,{bodyText:(0,d.t)("cursor_bot.use_the_design_panel_to_turn_basic_text_into_titles"),fromCursorBot:!0,getNodeToSelect:t?()=>(0,a.WY)(e=>"TEXT"===e.type&&(e.name===g.$j||"Grown in Tracy, CA"===e.name),(0,s.UN)()):()=>r?.type==="TEXT"?r:(0,a.WY)(e=>"TEXT"===e.type,(0,s.UN)()),isFollowUp:i.isFollowUp,lowerLeftText:i.onClickBack?(0,n.jsx)(u.$z,{onClick:i.onClickBack,className:l.s.textInherit.bgTransparent.$,trackingProperties:{ctaTrackingDescriptor:c.c.BACK},children:(0,d.tx)("cursor_bot.back")}):void 0,onClose:i.onClickClose,onPrimaryCtaClick:m,onSecondaryCtaClick:h,primaryCtaProps:o,secondaryCtaProps:p,skip:i.skip,title:t?(0,d.t)("cursor_bot.pick_the_perfect_font"):(0,d.t)("cursor_bot.and_pick_the_perfect_font")})}}}},674695:(e,t,i)=>{i.d(t,{XB:()=>N,v2:()=>A,y5:()=>k});var n=i(486106),r=i(7378),a=i(246212),s=i(389264),o=i(969533),l=i(479687),d=i(984514),c=i(737897),u=i(45501),p=i(630916),m=i(80900),h=i(995635),f=i(614223),g=i(763686),_=i(601108),x=i(536384),y=i.n(x),b=i(103090),C=i(303541),v=i(216495),E=i(275640),T=i(164212),w=i(665602),j=i(804114);let S=Object.values(g.sAE).filter(e=>"number"==typeof e),k=50;function I(e){switch(e){case g.sAE.FIXED:return"FIXED";case g.sAE.HUG:return"HUG";case g.sAE.FLEX:return"FLEX"}}function N(e){switch(e){case g.sAE.FIXED:return"FIXED";case g.sAE.HUG:return"HUG";case g.sAE.FLEX:return"FLEX"}}function A(){let e;let[t,i]=(0,E.lJ)("gridTrackSize"),r=t&&(0,v.hS)(t)&&void 0!==t.type?g.sAE[t.type]:void 0,{axis:a,width:s,initialText:o,shouldOpenDropdown:l}=(0,b.R)(e=>({axis:e.mirror.appModel.onCanvasNameEditorInfo.axis,width:e.mirror.selectionProperties.width,initialText:e.mirror.appModel.onCanvasNameEditorInfo.initialText,shouldOpenDropdown:e.mirror.appModel.onCanvasNameEditorInfo.shouldOpenDropdown})),d=(0,v.E7)((0,E.kl)("gridRowCount")),c=(0,v.E7)((0,E.kl)("gridColumnCount"));if(!t||void 0===r||(0,v.gl)(t)||!t?.value||!s||!c||!d)return null;e=a===g._0v.X?Math.round(s/c):Math.round(s/d);let u=parseFloat(t.value.toFixed(2)),p=(0,C.t)("fullscreen.auto");(0,_.k)().ce_tv_grid_ga&&(p=`${u}x`);let m=r===g.sAE.FLEX?p:r===g.sAE.HUG?(0,C.t)("fullscreen.properties_panel.constraints_resizing_panel.hug"):(0,T.lg)(u),h=e=>{var t;let n=(0,_.k)().ce_tv_grid_ga&&e.endsWith("x"),a=(t=(t=e).trim().toLowerCase(),"auto".startsWith(t)||"fill".startsWith(t))?g.sAE.FLEX:"hug".startsWith(t)&&(0,_.k)().ce_tv_grid_hug?g.sAE.HUG:"fixed".startsWith(t)?g.sAE.FIXED:null,s=n?g.sAE.FLEX:null!==a?a:g.sAE.FIXED,o=n?parseFloat(e.slice(0,-1)):s===g.sAE.FIXED?parseFloat(e):void 0;(0,_.k)().ce_tv_grid_ga&&void 0!==o&&o<k&&r===g.sAE.FLEX&&(s=g.sAE.FLEX),void 0!==o&&isNaN(o)||i({value:o,type:N(s)})};return(0,_.k)().ce_tv_grid_hug?(0,n.jsx)(O,{name:o||m,setName:h,maxWidth:e,noSelectOnFocus:!!o,disableSaveOnEscape:!0,axis:a,gridTrackSizingType:r,setGridTrackSizingType:e=>{i({type:N(e)})},shouldOpenDropdown:l}):(0,n.jsx)(w.qn,{name:o||m,setName:h,maxWidth:e,noSelectOnFocus:!!o,disableSaveOnEscape:!0})}function O(e){let t=(0,w.R9)(e.name,e.setName,{maxWidth:e.maxWidth,noSelectOnFocus:e.noSelectOnFocus,disableSaveOnEscape:e.disableSaveOnEscape}),[i,d]=r.useState(e.shouldOpenDropdown),[c,u]=r.useState(i?I(e.gridTrackSizingType):void 0),p=s.F.useCombobox({selected:[I(e.gridTrackSizingType)],activeValue:c,onActiveValueChange:u,expanded:i,expandOnFocus:!1,onExpand:d,onSelect(t){if(!t)return;let i=function(e){switch(e){case"FIXED":return g.sAE.FIXED;case"HUG":return g.sAE.HUG;case"FLEX":return g.sAE.FLEX;default:return null}}(t);null!=i&&(e.setGridTrackSizingType(i),d(!1),g.glU?.hideOnCanvasNameEditor())}}),m=r.useRef(null);if(!t)return null;let{containerRef:h,measurerRef:_,containerStyle:x,editingName:b,onFocus:C,onChange:v,onKeyDown:E,onBlur:T,width:k,setIsComposing:N}=t;return(0,n.jsx)(w.n9,{containerRef:h,containerClassname:e.containerClassname,containerStyle:x,measurerRef:_,editingName:b,children:(0,n.jsxs)(f.J,{brand:"design",children:[(0,n.jsxs)("div",{className:j.hs,children:[(0,n.jsx)(a.Y,{id:`on-canvas-name-editor-${e.name}`,...p.getInputProps({ref:m,autoFocus:!0,className:j.U2,onChange:(e,{event:t})=>{v(t)},onKeyDown:function(e){"Enter"===e.key&&i||E(e)},spellCheck:!1,style:{width:`${k}px`},value:b,htmlAttributes:{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",dir:"auto",onBlur:T,onCompositionEnd:()=>N(!1),onCompositionStart:()=>N(!0),onFocus:C}})}),(0,n.jsx)(s.F.Trigger,{...p.getTriggerProps(),className:j.uR,children:(0,n.jsx)(o.O,{})})]}),(0,n.jsx)(s.F.PopupList,{...p.getListProps(),anchorEl:m,"data-testid":"grid-track-combobox-popup-list",placement:"bottom",offset:({rects:e})=>-e.reference.height/2-e.floating.height/2,className:j.g1,children:S.map(t=>(0,n.jsx)(s.F.Option,{value:I(t),className:j.r2,recordingKey:`trackSizingTypeOption-${t}`,children:(0,n.jsxs)("span",{className:y()(j.Fo,{[j.$U]:c===I(t)}),children:[(0,n.jsx)(l.l,{className:j.rF}),(0,n.jsx)(L,{gridTrackSizingType:t,axis:e.axis}),(0,n.jsx)(R,{gridTrackSizingType:t,axis:e.axis})]})},t))})]})})}function L(e){switch(e.gridTrackSizingType){case g.sAE.FIXED:return e.axis===g._0v.X?(0,n.jsx)(d.w,{}):(0,n.jsx)(c.T,{});case g.sAE.HUG:return e.axis===g._0v.X?(0,n.jsx)(u.v,{}):(0,n.jsx)(p.C,{});case g.sAE.FLEX:return e.axis===g._0v.X?(0,n.jsx)(m.G,{}):(0,n.jsx)(h.N,{})}}function R(e){switch(e.gridTrackSizingType){case g.sAE.FIXED:return e.axis===g._0v.X?(0,C.tx)("fullscreen.on_canvas_editor.grid_track_size.fixed_width"):(0,C.tx)("fullscreen.on_canvas_editor.grid_track_size.fixed_height");case g.sAE.HUG:return(0,C.tx)("fullscreen.on_canvas_editor.grid_track_size.hug");case g.sAE.FLEX:return e.axis===g._0v.X?(0,C.tx)("fullscreen.on_canvas_editor.grid_track_size.fill_column"):(0,C.tx)("fullscreen.on_canvas_editor.grid_track_size.fill_row")}}},665602:(e,t,i)=>{i.d(t,{R9:()=>_,n9:()=>x,qn:()=>y});var n=i(486106),r=i(7378),a=i(514228),s=i(492908),o=i(763686),l=i(536384),d=i.n(l),c=i(63728),u=i(806412),p=i(8833),m=i(455680),h=i(896988),f=i(62612),g=i(804114);function _(e,t,i){let n;let{maxWidth:l,noSelectOnFocus:d=!1,disableSaveOnEscape:p=!1,hasSlideRowBeenManuallyRenamed:_=!0}=i,{padding:x,margin:y,...b}=(0,a.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo),C=(0,f._X)({subscribeToUpdates_expensive:!0}),v=C?.zoomScale||1,[E,T]=r.useState(e),[w,j]=r.useState(!0),S=r.useRef(null),k=r.useRef(null),[I,N]=r.useState(0),[A,O]=r.useState(!1),L=r.useCallback((e,t)=>{switch(b.mode){case o.nzw.FRAME_NAME:case o.nzw.VAR_WIDTH_SIZE:case o.nzw.CANVAS_GRID_ROW_STATE_GROUP:N(Math.min(e,l*v)+7);break;case o.nzw.CANVAS_GRID_ROW_NAME:let i=Math.min(e,l*v);_?N(i+14):N(Math.max(i,40)+14);break;case o.nzw.RESPONSIVE_SET_NAME:case o.nzw.SECTION_NAME:let n=l*v;b.mode===o.nzw.RESPONSIVE_SET_NAME&&(n-=60),e<n?N(e):N(n-2*y.x);break;case o.nzw.FLOW_STARTING_POINT_NAME:N(Math.min(e,l)+4);break;case o.nzw.MEASUREMENT_FREE_TEXT:N(Math.min(e,l*v)+8.5);break;case o.nzw.GRID_TRACK_SIZE:let r=e;o.qmM&&(r=o.qmM.measureTrackLabelSize(t).x),N(Math.min(r,l*v+8.5))}},[b.mode,l,v,y.x,_]);r.useLayoutEffect(()=>{k.current&&L(k.current.scrollWidth,E)},[E,L]),r.useEffect(()=>{e&&(j(!0),T(e))},[e]),r.useEffect(()=>{let e=e=>{let t=!(S.current&&S.current.contains(e.target)),i=document.querySelector('[data-resource-id="rename-selection"]'),n=e.target&&i&&i.contains(e.target);t&&!n&&o.glU?.hideOnCanvasNameEditor()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let R=u.AF("onCanvasRename","change",e=>{T(e.target.value)}),M=u.v_("onCanvasRename","keydown",e=>{if(!A){if("Escape"===e.key&&p){j(!1),o.glU?.hideOnCanvasNameEditor();return}switch(e.key){case"Escape":case"Enter":case"Tab":e.preventDefault(),j(!1),t(E),m.Y5.commit(),o.glU?.hideOnCanvasNameEditor();break;case"=":case"-":(0,c.Fo)(e)&&(0,h.f7)(e)}}});if(!C)return null;let D={},P=(0,f.Z0)(C,{x:b.x,y:b.y},!1),F={x:P.x+C.x,y:P.y+C.y};if(b.mode===o.nzw.FLOW_STARTING_POINT_NAME&&(F.x-=32+I,F.y=Math.round(F.y)),b.mode===o.nzw.FRAME_NAME){let e=(0,s.Cc)(5,9,(C.zoomScale-.1)*5);e=(0,s.qE)(e,5,9)-3,F.y-=e}if(b.mode===o.nzw.CANVAS_GRID_ROW_NAME&&o.Ez5){let e=o.Ez5.canvasGrid().gridRowSpacing()/2*C.zoomScale;e-=8,F.y-=e}switch(b.mode===o.nzw.CANVAS_GRID_ROW_STATE_GROUP&&o.Ez5&&(F.y+=8,F.x+=20),b.mode===o.nzw.RESPONSIVE_SET_NAME&&(F.x+=36,F.y-=3),b.mode===o.nzw.VAR_WIDTH_SIZE&&(F.y+=20*b.varWidthTextDirection.y,F.x+=20*b.varWidthTextDirection.x),b.mode===o.nzw.GRID_TRACK_SIZE?b.isShownOnLeft?(D.transformOrigin=`${F.x-10}px ${F.y}px`,F.x+=10,D.transform=`rotate(${b.angle}deg) translate(calc(${F.x}px - 100%), ${F.y-10}px)`):(D.transformOrigin=`${F.x}px ${F.y}px`,D.transform=`rotate(${b.angle}deg) translate(calc(${F.x}px - 50%), ${F.y-10}px)`):b.mode===o.nzw.MEASUREMENT_FREE_TEXT?b.invertTextPosition?D.transform=b.isCentered?`translate(calc(${F.x}px - 50%), ${F.y-24}px)`:`translate(calc(${F.x-6}px - 100%), ${F.y-9.5}px)`:D.transform=b.isCentered?`translate(calc(${F.x}px - 50%), ${F.y+7}px)`:`translate(${F.x+6}px, ${F.y-9.5}px)`:b.mode===o.nzw.VAR_WIDTH_SIZE?D.transform=`translate(calc(${F.x}px - 50%), ${F.y-10}px)`:D.transform=`translate(${F.x}px, ${F.y}px) rotate(${b.angle}deg)`,b.mode){case o.nzw.FRAME_NAME:n=g.Rj;break;case o.nzw.CANVAS_GRID_ROW_NAME:n=g.oX;break;case o.nzw.CANVAS_GRID_ROW_STATE_GROUP:n=g.Rj;break;case o.nzw.FLOW_STARTING_POINT_NAME:n=g.K3;break;case o.nzw.MEASUREMENT_FREE_TEXT:n=g.Q;break;case o.nzw.GRID_TRACK_SIZE:n=g.PE;break;case o.nzw.VAR_WIDTH_SIZE:n=g.z$}return{containerRef:S,measurerRef:k,containerStyle:D,inputClassname:n,editingName:E,onFocus:e=>{d||e.target.select(),k.current&&L(k.current.scrollWidth,E)},onChange:R,onKeyDown:M,onBlur:e=>{w&&(t(e.target.value),m.Y5.commit(),e.relatedTarget&&"focus-target"===e.relatedTarget.className&&o.glU?.hideOnCanvasNameEditor())},width:I,setIsComposing:O}}function x({containerRef:e,containerClassname:t,containerStyle:i,measurerRef:r,editingName:a,children:s}){return(0,n.jsxs)("div",{ref:e,className:d()(t,p.Dm,g.T_),style:i,children:[(0,n.jsx)("span",{ref:r,className:g.jk,children:a}),s]})}function y(e){let t=_(e.name,e.setName,{maxWidth:e.maxWidth,noSelectOnFocus:e.noSelectOnFocus,disableSaveOnEscape:e.disableSaveOnEscape,hasSlideRowBeenManuallyRenamed:e.hasSlideRowBeenManuallyRenamed});if(!t)return null;let{containerRef:i,measurerRef:r,containerStyle:a,editingName:s,onFocus:o,onChange:l,onKeyDown:d,onBlur:c,width:u,setIsComposing:p,inputClassname:m}=t;return(0,n.jsx)(x,{containerRef:i,containerStyle:a,measurerRef:r,editingName:s,children:(0,n.jsx)("input",{autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:m,dir:"auto",onBlur:c,onChange:l,onCompositionEnd:()=>p(!1),onCompositionStart:()=>p(!0),onFocus:o,onKeyDown:d,spellCheck:!1,style:{width:`${u}px`},value:s})})}},398228:(e,t,i)=>{i.d(t,{Cg:()=>l,UA:()=>d,fr:()=>s,uF:()=>a,ym:()=>o});var n=i(783094),r=i(27776);let a=40,s=(0,n.jz)(r.xM9),o=(0,n.jz)(r.M$q),l=(0,n.jz)(r.MGP),d=8},966396:(e,t,i)=>{i.d(t,{B:()=>o});var n=i(486106),r=i(536384),a=i.n(r),s=i(212974);function o({children:e,hasScrollLine:t,onClick:i}){return(0,n.jsx)("div",{className:a()(s.kL,{[s.to]:t}),onClick:i,children:e})}},195555:(e,t,i)=>{i.d(t,{H:()=>a});var n=i(486106),r=i(753501);function a({children:e,dataOnboardingKey:t}){return(0,n.jsx)("div",{className:"header_text--headerText--ZXIeN",onContextMenu:r.jo,"data-onboarding-key":t,children:e})}},103334:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(486106),r=i(536384),a=i.n(r),s=i(623300);function o({isFullHeight:e,children:t}){let i=(0,s._Z)().isLoading;return(0,n.jsx)("div",{"data-testid":"left-panel-body",className:a()("left_panel_body--container--GuUjF sf_pro--uiFontWithSFProFallback--m-p9V",{leftPanelBody:!i,"left_panel_body--flexGrow--HFJjd":e}),children:t})}},799e3:(e,t,i)=>{i.d(t,{e:()=>c,i:()=>d});var n=i(486106),r=i(587214),a=i(617427),s=i(303541),o=i(186343),l=i(129884);function d({onClick:e,recordingKey:t,tooltipText:i}){return(0,n.jsx)(a.Me,{recordingKey:t,"aria-label":i,onClick:e,trackingProperties:{text:"Add new page"},htmlAttributes:{"data-testid":"new-page-button","data-tooltip":i,"data-tooltip-type":l.Ib.TEXT,"data-tooltip-show-above":!0},children:(0,n.jsx)(r.x,{})})}function c({recordingKey:e}){let t=(0,o.rE)();return(0,n.jsx)(d,{onClick:()=>t(null),recordingKey:e,tooltipText:(0,s.t)("fullscreen.pages_panel.add_new_page")})}},254335:(e,t,i)=>{i.d(t,{t:()=>v});var n=i(486106),r=i(381239),a=i(241412),s=i(587214),o=i(571562),l=i(763686),d=i(806412),c=i(714743),u=i(589278),p=i(303541),m=i(976749),h=i(12342),f=i(186343),g=i(191312),_=i(129884),x=i(539422),y=i(778125);let b="new_page_dropdown--newPageIcon--R2RXS";var C=i(871428);function v({recordingKey:e}){let{Dropdown:t,toggleDropdown:i,isDropdownShown:v,dropdownTargetRef:E}=(0,x.B)("newPageDropdown"),T=(0,m.lg)(),w=(0,h.Te)(),j=(0,f.rE)();if(!w)return null;let S=[{displayText:(0,p.t)("fullscreen.pages_panel.page_dropdown_new"),optionHeight:24,editorType:null,disabled:!0},{displayText:(0,p.t)("fullscreen.pages_panel.design_page"),optionHeight:24,editorType:g._Y.DESIGN,icon:(0,n.jsx)("div",{className:b,children:(0,n.jsx)(r.k,{})}),callback:()=>j(l._YF.DESIGN)},{displayText:(0,p.t)("fullscreen.pages_panel.figjam_page"),optionHeight:24,editorType:g._Y.WHITEBOARD,icon:(0,n.jsx)("div",{className:b,children:(0,n.jsx)(c.B,{svg:C.A})}),callback:()=>j(l._YF.WHITEBOARD)},{displayText:(0,p.t)("fullscreen.pages_panel.slide_deck"),optionHeight:24,editorType:g._Y.SLIDES,icon:(0,n.jsx)("div",{className:b,children:(0,n.jsx)(a.l,{})}),callback:()=>j(l._YF.SLIDES)}],k=48;for(let e=0;e<S.length;e++)if(S[e].editorType===T){k+=24*e;break}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:u.s.absolute.w8.h8.$,ref:E,style:{bottom:`${k}px`,right:"42px"}}),(0,n.jsx)(y.K0,{className:"new_page_dropdown--newPageButton--sYJsl",recordingKey:d.Pt(e,"newPageDropdown"),"data-tooltip-type":_.Ib.TEXT,"data-tooltip":(0,p.t)("fullscreen.pages_panel.add_new_page"),"data-tooltip-show-above":!0,onMouseDown:i,children:(0,n.jsxs)("div",{className:"new_page_dropdown--newPageIconsContainer--pzY38",children:[(0,n.jsx)(s.x,{}),(0,n.jsx)("div",{className:"new_page_dropdown--newPageChevron--N0hv3",children:(0,n.jsx)(o.r,{})})]})}),v&&(0,n.jsx)(t,{minWidth:160,items:S,showPoint:!0})]})}},239014:(e,t,i)=>{i.d(t,{c0:()=>w,Jc:()=>S});var n=i(486106),r=i(165054),a=i(632989),s=i(530496),o=i(27355),l=i(989992),d=i(239603),c=i(536384),u=i.n(c),p=i(901889),m=i(288654),h=i(723791),f=i(520829),g=i(11),_=i(858013),x=i(204891),y=i(385855),b=i(303541),C=i(516028),v=i(43951),E=i(787550),T=i(932601);function w({pageRowRef:e,pagesListRef:t,nodeId:i,nodeName:r,pageThumbnail:l,isLoading:d}){let c=(0,C.q5)(),m=(0,p.hC)(),h=(0,o.Xr)(T.qp);if(!c||!t.current||!e.current)return null;let g=t.current.getBoundingClientRect().left+t.current.getBoundingClientRect().width,v=g-16,w=`calc(${g}px + var(--spacer-2, 0.5rem))`,j=e.current.getBoundingClientRect().top,S=e.current.getBoundingClientRect().height;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{position:"fixed",zIndex:10,left:v+"px",top:j+"px",height:S+"px",width:"32px"}}),(0,n.jsxs)("div",{"data-testid":"PageSummaryPreview",className:"page_summary_preview--previewContainer--kx2Uy",style:{left:w,top:j+S/2},children:[(0,n.jsxs)("div",{className:"page_summary_preview--thumbnailContainer--a-jPQ",children:[(0,n.jsx)("div",{"data-testid":"FileThumbnail",children:(0,n.jsx)(y.V,{thumbnailType:(0,x.lv)(c.editorType,!1),thumbnailUrl:l?.thumbnail_url??null,clientMeta:l?.thumbnail_meta??c.clientMeta,noBorder:!0})}),(0,n.jsx)(a.E,{"aria-label":(0,b.t)("pages_panel.summary_preview.update_preview"),className:u()("page_summary_preview--refreshButton--XAvPe",{"page_summary_preview--alwaysShowRefreshButton--M3IDC":!l}),onClick:()=>{c&&!d&&(m("figjam_pages_summary.preview_refreshed",{previewPageId:i}),h(f.r.LOADING),E.S.updatePageCheckpointThumbnails({fileKey:c.key}).catch(()=>{m("figjam_summary_preview.page_thumbnails_request_failed_increment_metric",{})}))},htmlAttributes:{"data-tooltip":(0,b.t)("pages_panel.summary_preview.update_preview"),"data-tooltip-type":"text","data-testid":"RefreshPreviewButton"},children:d?(0,n.jsx)(_.kt,{testId:"LoadingSpinner",size:"small",className:"page_summary_preview--loadingSpinner--FXocO"}):(0,n.jsx)(s.o,{})})]}),(0,n.jsx)("div",{className:"page_summary_preview--pageTitleContainer--Yk-qK text--fontPos13--xW8hS text--_fontBase--QdLsd",children:r})]})]})}let j=d.z.record(d.z.object({thumbnail_url:d.z.string(),thumbnail_meta:d.z.object({}).passthrough().transform(e=>JSON.stringify(e)),created_at:d.z.string().optional()}));function S(e){let t=(0,C.q5)(),i=(0,m.Rs)(v.SPC,{fileKey:t?.key??""},{enabled:!!(t?.key&&e)});return l.Qw.useTransform(i,e=>{if(e?.file?.pagesSignedThumbnailData.status!==h.tT.Loaded)return null;try{if(!e?.file?.pagesSignedThumbnailData.data)return null;let t=JSON.parse(e.file.pagesSignedThumbnailData.data);return j.parse(t)}catch(i){return(0,g.$D)(r.e.FIGJAM,Error(`PageSummaryPreview: Failed to parse page thumbnail data. Error: ${i.message}.`),{tags:{fileKey:t?.key},extra:{parsedPageThumbnails:e?.file?.pagesSignedThumbnailData.data}}),null}})}},695259:(e,t,i)=>{i.d(t,{k3:()=>m,q0:()=>h});var n=i(7378),r=i(27355),a=i(680873),s=i(39751),o=i(745972),l=i(149328),d=i(615482),c=i(718307),u=i(398228),p=i(298357);function m({initialHeight:e,numberOfPages:t,upsellHeight:i,panelHeadersHeight:r,showingExtraControls:d,scrollContainerInnerRef:c,filterState:m,onHeightChange:f}){let[g,_]=(0,n.useState)(void 0),x=(0,n.useRef)(!1),{windowInnerHeight:y}=(0,o.l)(),b=(0,n.useCallback)(function(e){_(e),f?.(e)},[f]);(0,n.useLayoutEffect)(()=>{void 0===e||x.current||(_(e),x.current=!0)},[e]);let C=function({numberOfPages:e,upsellHeight:t,panelHeadersHeight:i,showingExtraControls:r,windowInnerHeight:a}){return(0,n.useMemo)(function(){let n=e*u.fr;return n=Math.ceil(n/u.fr)*u.fr+t+u.UA,r&&(n+=u.fr),Math.min(n,Math.round(.25*(a-(0,l.bG)()-u.Cg-i)))},[i,t,a,e,r])}({numberOfPages:t,upsellHeight:i,panelHeadersHeight:r,showingExtraControls:d,windowInnerHeight:y}),v=h({scrollContainerInnerRef:c,windowInnerHeight:y}),E=g?v(g):C;return function({filterState:e,computedHeight:t,defaultHeight:i,setHeight:r}){let o=(0,s.ZC)(t),l=(0,a.F)({previousComputedHeight:o,defaultHeight:i,setHeight:r});(0,n.useLayoutEffect)(()=>{if(void 0===e)return;let{previousComputedHeight:t,defaultHeight:i,setHeight:n}=l.current;t&&n(e===p.m.ALL?Math.max(t,i):Math.min(t,i))},[e,l])}({filterState:m,computedHeight:E,defaultHeight:C,setHeight:b}),{height:E,setHeight:b,defaultHeight:C}}function h({scrollContainerInnerRef:e,windowInnerHeight:t}){let{topLevelObjectRowHeight:i}=n.useContext(c.y0);return(0,n.useCallback)(function(n){return Math.max(1.5*u.fr,Math.min(n,t-(e.current?.getBoundingClientRect().top??175)-(1.5*i+(u.uF+u.ym))))},[e,t,i])}(0,d.Wh)(()=>(0,r.eU)(null))},298357:(e,t,i)=>{i.d(t,{m:()=>n});var n=(e=>(e.FILTERED="filtered",e.ALL="all",e))(n||{})},515820:(e,t,i)=>{i.d(t,{R:()=>et});var n=i(486106),r=i(7378),a=i(821217),s=i(57171),o=i(601108),l=i(536384),d=i.n(l),c=i(303541),u=i(186343),p=i(398228),m=i(806412),h=i(88239),f=i(753501),g=i(976749),_=i(218531),x=i(799e3),y=i(254335),b=i(94839);function C({isReadOnly:e,isPagesOpen:t,isComparingChanges:i,hasMultiplePageTypes:a,onClickNewPage:l,onCanvasSearch:d,onPageContextMenu:c,recordingKey:p,title:C,tooltipText:v}){let E=(0,u.dh)(),T=(0,u.nn)(),w=(0,g.m0)(),j=(0,h.l7)(),S=a||(0,o.k)().interop_pages,k=(e||w||j)&&!!d,I=(0,r.useCallback)(e=>{(0,f.jo)(e),t||c?.({nodeId:E,clientX:e.clientX,clientY:e.clientY})},[c,t,E]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(s.Y9,{variant:"leftPanel",size:"lg",children:[k?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.JU,{htmlAttributes:{onContextMenu:I},recordingKey:m.Pt(p,"collapsedRow"),children:(0,n.jsx)("span",{className:b.W,"data-onboarding-key":"pages-panel-toggle",children:t?(0,n.jsx)("span",{children:C}):T||""})}),!i&&(0,n.jsx)(s.X0,{children:(0,n.jsx)(_._,{onClick:d})})]}):(0,n.jsx)(s.JU,{htmlAttributes:{onContextMenu:I},recordingKey:m.Pt(p,"collapsedRow"),children:C}),!e&&(0,n.jsx)(s.X0,{children:S?(0,n.jsx)(y.t,{recordingKey:p}):(0,n.jsx)(x.i,{onClick:l,recordingKey:m.Pt(p,"newPage"),tooltipText:v})})]})})}var v=i(506207),E=i(347284),T=i(741237),w=i(623300),j=i(226610),S=i(779965),k=i(514228),I=i(680873),N=i(637027),A=i(566045),O=i(156213),L=i(272488),R=i(831799),M=i(864281),D=i(121751),P=i(654645),F=i(391338),B=i(722362),U=i(516028),G=i(212807),H=i(191312),z=i(345997),V=i(642025),K=i(165519);function W({onHeightChange:e}){let t=(0,k.wA)(),i=(0,U.q5)(),a=(0,G.FC)(),s=(0,B.p8)("pagesList").length,o=(0,g.m0)(),l=(0,L.Fr)(),u=M.h.useTrackingContext({trigger:K.b.PAGE_TRACKER_UPSELL}),p=(0,I.F)(e),m=r.useCallback(e=>{p.current?.(e?.getBoundingClientRect().height||0)},[s]),h=(0,k.d4)(e=>e.isOpenFileLoadedFromLiveGraph),f=i?.team,_=i?.plan,x=f&&(0,V.canEditTeam)(f.id,a)&&!(0,z.XX)(f),y=f&&_&&f.canEdit&&_.tier===H.Ag.STARTER,b=(0,F.u8)({oldValue:x,newValue:y,newValueReady:h,label:P.A.PageTrackerUpsell.canEditStarterTeam,enableFullRead:(0,D.DQ)(D.Pw.GROUP_7),contextArgs:{planId:_?.id,isOpenFileLoadedFromLiveGraph:h}});if(s<=0||!i||o||!b)return null;let C=(0,z.Lj)(i);if((C<=1||C>=1/0)&&!l(i))return null;let v=()=>{let e=K.b.PAGE_TRACKER_UPSELL;t((0,O.to)({type:A.V,data:{upsellSource:e,teamId:f?.id,openCheckoutInNewTab:!0}}))},E=(0,n.jsx)(N.Us,{onClick:v,trusted:!0,"data-testid":"page_tracker_upsell_link",children:(0,c.tx)("fullscreen.pages_panel.see_plans_that_offer_more")}),T=(0,n.jsx)(N.Us,{onClick:v,trusted:!0,"data-testid":"page_tracker_upsell_link",children:(0,c.tx)("fullscreen.pages_panel.get_unlimited_pages_and_more")}),w=s/z.LF[i.editorType??H._Y.DESIGN],j=d()({"page_tracker_upsell--progressPartial--guOiP":w<1,"page_tracker_upsell--progressCompleteWarning--06IlO page_tracker_upsell--progressComplete--ilmev":1===w,"page_tracker_upsell--progressCompleteDanger--lCunz page_tracker_upsell--progressComplete--ilmev":w>1}),S=`${Math.trunc(100*Math.min(w,1))}%`,W={fileTeamId:f?.id,numPages:s,...u};return(0,n.jsx)(R.fu,{name:"Page Tracker Upsell",properties:W,children:(0,n.jsx)("div",{className:"page_tracker_upsell--upsellContainer--ZEwXz",ref:m,"data-testid":"page_tracker_upsell",children:(0,n.jsxs)("div",{className:"page_tracker_upsell--upsellBody--yUAjd",children:[(0,n.jsx)("div",{className:"page_tracker_upsell--progressBar--fDCBY",children:(0,n.jsx)("div",{className:j,style:{width:S},"data-testid":"page_tracker_progress_bar"})}),(0,n.jsx)("p",{className:"page_tracker_upsell--upsellText--Ng-u0",children:(()=>{let e=z.LF[i.editorType??H._Y.DESIGN]-s;return e>=2?(0,n.jsxs)(n.Fragment,{children:[(0,c.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),(0,n.jsx)("br",{}),E]}):1===e?(0,n.jsxs)(n.Fragment,{children:[(0,c.tx)("fullscreen.pages_panel.n_free_pages_left",{numPagesRemaining:e}),(0,n.jsx)("br",{}),T]}):0===e?(0,n.jsxs)(n.Fragment,{children:[(0,c.tx)("fullscreen.pages_panel.all_n_free_pages_used",{maxFreePages:z.LF[i.editorType??H._Y.DESIGN]}),(0,n.jsx)("br",{}),T]}):(0,n.jsxs)(n.Fragment,{children:[(0,c.tx)("fullscreen.pages_panel.all_free_pages_used"),(0,n.jsx)("br",{}),T]})})()})]})})})}var q=i(506456),Y=i(695259),X=i(306437),J=i(214758);function Z({pages:e,initialHeight:t,extraControls:i,panelHeadersHeight:a,onScroll:s,shouldHighlightActivePage:o,isComparingChanges:l,pageToNumChanges:c,isReadOnly:u,onPageContextMenu:p,filterState:m,onHeightChange:h}){let f=(0,w._Z)().isLoading,g=(0,r.useRef)(null);(0,X.a)({pagesList:e,scrollContainerRef:g});let _=(0,r.useRef)(null),[x,y]=(0,r.useState)(0),b=e.length,C=(0,j.o3)(j.nt.newResizablePanel),{height:k,setHeight:I,defaultHeight:N}=(0,Y.k3)({initialHeight:t,numberOfPages:b,upsellHeight:x,panelHeadersHeight:a,showingExtraControls:!!i,scrollContainerInnerRef:_,filterState:m,onHeightChange:h});return(0,n.jsx)(v.V,{children:(0,n.jsx)(S.wV,{size:k,defaultSize:N,onResize:e=>{I(e),T.Uc("")},side:"bottom",className:f?J.aY:J.l$,children:(0,n.jsxs)(E.P,{scrollBarAlways:!1,ref:g,scrollContainerRef:_,className:d()(J.jG,{[J.ge]:!C}),onScroll:s,children:[(0,n.jsx)(q.bU,{pages:e,scrollContainer:g.current??void 0,shouldHighlightActivePage:o,isComparingChanges:l,pageToNumChanges:c,isReadOnly:u,onContextMenu:p}),i,(0,n.jsx)(W,{onHeightChange:y})]})})})}var Q=i(614829);let $="pages_panel--pagesPanelContent--ZGkcM",ee="pages_panel--pagesPanelContentBottomBorder--dozDy";function et({height:e,onHeightChange:t,isOpen:i,onToggle:l,showHeader:m=!0,pages:h,extraControls:f,filterState:g,panelHeadersHeight:_=p.uF,shouldHighlightActivePage:x=!0,isComparingChanges:y=!1,pageToNumChanges:b,isReadOnly:v,onPageContextMenu:E,onCanvasSearch:T}){let w="pagesPanel",[j,S]=(0,r.useState)(!1),k=(0,r.useCallback)(e=>{S(e>0)},[S]),I=(0,u.rE)(),N=i&&j,A=h.some(e=>h[0]&&e.pageType!==h[0].pageType);return(0,o.k)().eu_fpl_collapse?(0,n.jsx)(a.o,{eventListeners:["onClick"],children:(0,n.jsx)("div",{className:d()($,{[ee]:m}),children:(0,n.jsxs)(s.bL,{isOpen:i,toggle:l,children:[m&&(0,n.jsx)(C,{hasMultiplePageTypes:A,isComparingChanges:y,isPagesOpen:i,isReadOnly:v,onCanvasSearch:T,onClickNewPage:()=>I(null),onPageContextMenu:E,recordingKey:w,title:(0,c.t)("fullscreen.pages_panel.pages"),tooltipText:(0,c.t)("fullscreen.pages_panel.add_new_page")}),(0,n.jsx)(s.UC,{children:(0,n.jsx)(Z,{extraControls:f,filterState:g,initialHeight:e??void 0,isComparingChanges:y,isReadOnly:v,onHeightChange:t,onPageContextMenu:E,onScroll:k,pageToNumChanges:b,pages:h,panelHeadersHeight:_,shouldHighlightActivePage:x})})]})})}):(0,n.jsx)(a.o,{eventListeners:["onClick"],children:(0,n.jsxs)("div",{className:d()($,{[ee]:m}),children:[m&&(0,n.jsx)(Q.J,{hasMultiplePageTypes:A,hasScrollLine:N,isComparingChanges:y,isPagesOpen:i,isReadOnly:v,onCanvasSearch:T,onClickNewPage:()=>I(null),onPageContextMenu:E,onTogglePages:l,recordingKey:w,title:(0,c.t)("fullscreen.pages_panel.pages"),tooltipText:(0,c.t)("fullscreen.pages_panel.add_new_page")}),i&&(0,n.jsx)(Z,{extraControls:f,filterState:g,initialHeight:e??void 0,isComparingChanges:y,isReadOnly:v,onHeightChange:t,onPageContextMenu:E,onScroll:k,pageToNumChanges:b,pages:h,panelHeadersHeight:_,shouldHighlightActivePage:x})]})})}},28544:(e,t,i)=>{i.d(t,{g:()=>s});var n=i(486106),r=i(969533),a=i(44647);function s(e){return(0,n.jsx)("div",{className:"pages_panel_chevron--chevron--3E6os","data-show-on-hover":e.isExpanded||void 0,children:e.isExpanded?(0,n.jsx)(r.O,{}):(0,n.jsx)(a.k,{})})}},181448:(e,t,i)=>{i.d(t,{v:()=>B,G:()=>F});var n=i(486106),r=i(7378),a=i(514228),s=i(95419),o=i(632989),l=i(381239),d=i(241412),c=i(125190),u=i(501876),p=i(215698),m=i(763686),h=i(601108),f=i(27355),g=i(536384),_=i.n(g),x=i(806412),y=i(714743),b=i(303541),C=i(302958),v=i(976749),E=i(952446),T=i(623300),w=i(84367),j=i(167249),S=i(129884),k=i(624465),I=i(63728),N=i(896988),A=i(626177);function O({value:e,setValue:t,recordingKey:i,isDisabled:a,stopRenaming:s}){let o=(0,r.useRef)(null);(0,r.useEffect)(()=>{o.current?.select()},[]);let l=x.v_(i,"keydown",e=>{if(e.keyCode===I.Uz.ESCAPE)s(!1),e.stopPropagation();else if(e.keyCode===I.Uz.ENTER)e.preventDefault(),s(!0);else{if(e.keyCode!==I.Uz.TAB)return(0,N.jr)(e,N.W0.NO),x.aH;e.preventDefault(),s(!0)}}),d=x.AF(i,"change",e=>{a||t(e.currentTarget.value)}),c=x.iQ(i,"blur",()=>{s(!0)});return(0,n.jsx)(A.ks,{autoCapitalize:"off",autoCorrect:"off",autoFocus:!0,className:"page_rename_input--input--s2o7Q",innerRef:o,onBlur:c,onChange:d,onKeyDown:l,spellCheck:!1,value:e})}var L=i(214758),R=i(255111),M=i(871428);function D({editorType:e}){switch(e){case m._YF.DESIGN:return(0,n.jsx)(l.k,{});case m._YF.WHITEBOARD:return(0,n.jsx)(y.B,{svg:M.A});case m._YF.SLIDES:return(0,n.jsx)(d.l,{});default:return null}}function P(e){let{isActive:t,isDivider:i,pageType:r,hasMultiplePageTypes:a}=e;return i||!a?null:(0,n.jsx)("div",{className:_()(L.n6,{[L.vu]:t}),children:(0,n.jsx)(D,{editorType:r})})}function F({pageType:e,hasMultiplePageTypes:t,nodeId:i,nodeName:o,isRenaming:l,startRenaming:d,stopRenaming:c,renamingPagePendingName:u,setRenamingPagePendingName:p,isActive:g,shouldShowGuids:w,onMouseDownCallback:I,onMouseUpCallback:N,onMouseMoveCallback:A,onClickCallback:M,reorderingPageGuids:D,selectedPageGuids:F,onContextMenuCallback:G,showMemoryUsage:H,showInFileMemoryPercentage:z,isOffline:V,isComparingChanges:K,pageToNumChanges:W,versionHistory:q,isDivider:Y,pagesList:X,index:J,activePageShouldUseBrandColor:Z,shouldUseButtonRow:Q}){let $=(0,a.wA)(),ee="whiteboard"===(0,v.lg)(),[et,ei]=r.useState(!1),en=(0,f.md)(k.l),er=(0,j.Fk)((e,t,i)=>(0,h.k)().gate_memory_usage_computations&&!i?null:e.get(t)?.nodeMemoryUsage,i,z),ea=(0,j.Fk)((e,t,i)=>(0,h.k)().gate_memory_usage_computations&&!i?null:e.get(t)?.rootMemoryUsage,i,z),es=r.useMemo(()=>(0,T.Fy)(X,i)===m.xal.LOADED,[i,X]),eo=m.h3O?.getSessionState()===m.kul.JOINED,el=r.useMemo(()=>V&&!eo&&!es&&!!m.h3O?.isIncrementalSession(),[V,es,eo]),ed=x.Pt("pagesPanel","row",J)||"",ec=x.rf(ed,"contextmenu",e=>{e.preventDefault(),!el&&G&&G({nodeId:i,e})}),eu=x.rf(ed,"dblclick",()=>{el||l||d(i)}),ep=x.rf(ed,"click",e=>{if(!Y&&!l){if(el){$(C.F.enqueue({type:"offline-page-switch",message:(0,b.t)("fullscreen.pages_panel.unavailable_offline")}));return}M(i,e)}}),em=r.useCallback(e=>{el||l||I(i,e)},[l,i,I,el]),eh=r.useCallback(e=>{l||A(i,e)},[l,i,A]),ef=r.useCallback(e=>{l||N(i,e)},[l,i,N]),eg=r.useCallback(()=>(0,s.uy)(er)||(0,s.uy)(ea)?"":(0,E.pr)(er,ea,!0),[er,ea]),e_=K&&W?.get(i)||0,ex=q?.activeId&&"current_version"===q.activeId,ey=H&&z&&!l&&ex,eb=!K&&!l,eC=Y&&!g&&!l,ev=ee&&!l&&g&&F?.length===0,eE=_()({[L.mB]:eC,[L.oG]:!eC,[L.sl]:g,[L.sR]:ev&&et&&en,[L.Pl]:Z,[L.Dq]:0===D.length&&0===F.length,[L.As]:Q},0!==D.length||0!==F.length?F.includes(i)?L.wH:D.includes(i)?L.iB:0===D.length?L.Dq:"":""),eT=r.useRef(null),ew=r.useRef(!1),ej=r.useCallback(e=>{c(e),ew.current=!0},[c]);r.useLayoutEffect(()=>{!l&&ew.current&&eT.current&&(eT.current.focus(),ew.current=!1)},[l]);let eS=l&&(0,n.jsx)(O,{value:u||"",setValue:p,stopRenaming:ej,recordingKey:ed,isDisabled:el}),ek=el&&!eC&&(0,n.jsx)("div",{className:L.Nr,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,b.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline",children:(0,n.jsx)(y.B,{className:L.VQ,svg:R.A,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,b.t)("fullscreen.pages_panel.unavailable_offline"),"data-onboarding-key":"page-unavailable-offline"})}),eI=(0,h.k)().version_diffing&&K&&e_>0&&(0,n.jsx)("div",{className:L.Sp,children:e_}),eN=ev&&!t,eA=eN?(0,n.jsx)(U,{accessibleLabel:Q?(0,b.t)("fullscreen.pages_panel.page_row.more_actions",{pageName:o}):void 0,onContextMenuCallback:G,nodeId:i,isMoreActionsActive:et,setIsMoreActionsActive:ei,isPageContextMenuOpen:en,shouldAbsolutePositionButton:Q}):null,eO=(0,n.jsxs)(n.Fragment,{children:[!Q&&eS,eC?(0,n.jsx)("span",{className:L.jE,"data-testid":"pageDivider"}):!l&&(0,n.jsx)("div",{className:eN?L.R:L.Nz,children:(0,n.jsx)("span",{className:el?L.YW:L.KE,children:w?`${o} (${i})`:o})}),(0,n.jsxs)("div",{className:L.q8,children:[eb&&(0,n.jsx)(B,{pageGuid:i,fallback:(0,n.jsx)(P,{isActive:g,isDivider:Y,pageType:e,hasMultiplePageTypes:t}),hideBackground:!0}),ek,ey&&(0,n.jsx)("span",{className:el?L.hi:L.VC,dir:"auto",children:eg()}),eI,!Q&&eA]})]});return Q?l?(0,n.jsxs)("div",{className:eE,draggable:!1,onContextMenu:ec,children:[eS,(0,n.jsxs)("div",{className:L.q8,children:[ek,eI]})]}):(0,n.jsxs)("div",{className:"pages_panel_row--pageRowContainer--oVnTb",children:[(0,n.jsx)("button",{ref:eT,"aria-current":g?"page":void 0,className:eE,draggable:!1,onClick:ep,onContextMenu:ec,onDoubleClick:eu,onMouseDown:em,onMouseMove:eh,onMouseUp:ef,type:"button",children:eO}),eA]}):(0,n.jsx)("div",{className:eE,draggable:!1,onClick:ep,onContextMenu:ec,onDoubleClick:eu,onMouseDown:em,onMouseMove:eh,onMouseUp:ef,children:eO})}function B({pageGuid:e,margin:t,fallback:i=null,hideBackground:r=!1}){let a=(0,w.ut)(m.Ez5?.currentSceneState().numReadyNodesByPage,null),s=(0,w.ut)(m.Ez5?.currentSceneState().numCompletedNodesByPage,null),o=a?.has(e)?a.get(e)>0:!!m.glU?.nodeStatusesOnPage(e).includes(m.zIx.BUILD),l=s?.has(e)?s.get(e)>0:!!m.glU?.nodeStatusesOnPage(e).includes(m.zIx.COMPLETED);return l&&!o?(0,n.jsx)(c.g,{className:"pages_panel_row--pageCompleted--gzdWd","data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,b.t)("dev_handoff.status.completed"),"data-testid":"pageCompletedIndicator"}):o||l?(0,n.jsx)(u.O,{className:_()("pages_panel_row--pageReady--XaDiG",{"pages_panel_row--hideBackground--22Ike":r}),style:t?{[t]:"8px"}:void 0,"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,b.t)("dev_handoff.tag.ready_to_build"),"data-testid":"pageReadyIndicator"}):i}function U({accessibleLabel:e,onContextMenuCallback:t,nodeId:i,isMoreActionsActive:a,isPageContextMenuOpen:s,setIsMoreActionsActive:l,shouldAbsolutePositionButton:d}){let c=r.useRef(null);return r.useEffect(()=>{s||l(!1)},[s,l]),(0,n.jsx)(o.E,{ref:c,"aria-label":e,htmlAttributes:d?void 0:{onDoubleClick:e=>e.stopPropagation()},onClick:e=>{l(!0);let n=c.current?.getBoundingClientRect();n&&t({nodeId:i,e,clientX:n.x+-4,clientY:n.y+n.height+10})},className:_()("pages_panel_row--pageMoreActionsButton--5Rty9",{"pages_panel_row--pageMoreActionsButtonActive--2dmC-":a&&s,"pages_panel_row--pageMoreActionsAbsolutePosition--S-xcp":d}),"data-tooltip-type":S.Ib.TEXT,"data-tooltip":(0,b.t)("fullscreen.pages_panel.more_pages_actions"),"data-tooltip-show-above":!0,children:(0,n.jsx)(p.A,{className:"pages_panel_row--pageMoreActionsIcon--kzZVn"})})}},598921:(e,t,i)=>{i.d(t,{y:()=>s});var n=i(486106),r=i(536384),a=i.n(r);function s({children:e,withBorder:t,autoHeight:i=!1}){return(0,n.jsx)("div",{className:a()("tabs_header--tabsHeader--8rHi8",{"tabs_header--autoHeight--eXDMV":i,"tabs_header--withBorder--jZYSF":t}),children:e})}},614829:(e,t,i)=>{i.d(t,{J:()=>v});var n=i(486106),r=i(7378),a=i(632989),s=i(601108),o=i(536384),l=i.n(o),d=i(806412),c=i(589278),u=i(88239),p=i(753501),m=i(976749),h=i(186343),f=i(218531),g=i(966396),_=i(195555),x=i(799e3),y=i(254335),b=i(28544),C=i(94839);function v({isReadOnly:e,isPagesOpen:t,isComparingChanges:i,hasMultiplePageTypes:o,hasScrollLine:v,onClickNewPage:E,onTogglePages:T,onCanvasSearch:w,onPageContextMenu:j,recordingKey:S,title:k,tooltipText:I}){let N=(0,h.dh)(),A=(0,h.nn)(),O=(0,m.m0)(),L=(0,u.l7)(),R=O||L,M=o||(0,s.k)().interop_pages,D=(e||R)&&!!w,P=(0,r.useCallback)(e=>{(0,p.jo)(e),t||j?.({nodeId:N,clientX:e.clientX,clientY:e.clientY})},[j,t,N]);return(0,n.jsxs)(g.B,{onClick:e?T:void 0,hasScrollLine:v,children:[D?(0,n.jsxs)(_.H,{children:[(0,n.jsxs)(a.E,{onClick:T,className:C.Rm,htmlAttributes:{onContextMenu:P},recordingKey:d.Pt(S,"collapsedRow"),children:[(0,n.jsx)("span",{className:l()(C.II,{[C.dK]:L}),children:(0,n.jsx)(b.g,{isExpanded:t})}),(0,n.jsx)("span",{className:C.W,"data-onboarding-key":"pages-panel-toggle",children:t?(0,n.jsx)("span",{children:k}):A||""})]}),(0,n.jsx)("div",{className:l()(C.Co,{[C.dK]:i}),children:(0,n.jsx)(f._,{onClick:w})})]}):(0,n.jsx)(_.H,{children:(0,n.jsxs)(a.E,{onClick:T,className:C.Rm,recordingKey:d.Pt(S,"collapsedRow"),children:[(0,n.jsx)(b.g,{isExpanded:t}),(0,n.jsx)("span",{children:k})]})}),!e&&(0,n.jsx)("div",{className:c.s.flex.relative.mr8.justifyEnd.itemsCenter.$,children:M?(0,n.jsx)(y.t,{recordingKey:S}):(0,n.jsx)(x.i,{onClick:E,recordingKey:d.Pt(S,"newPage"),tooltipText:I})})]})}},153133:(e,t,i)=>{i.d(t,{K:()=>c,g:()=>u});var n=i(7378),r=i(514228),a=i(27355),s=i(929976),o=i(8833),l=i(32128),d=i(932601);function c(){let e=(0,r.wA)();return(0,n.useCallback)(({nodeId:t,clientX:i,clientY:n})=>{e((0,s.j7)({type:o.SA,data:{clientX:i,clientY:n,pageId:t}}))},[e])}function u({pagesList:e,shouldShowDuplicateOption:t=!0}){let i=(0,r.wA)(),[c,u]=(0,a.fp)(d.cE);return(0,n.useCallback)(({nodeId:n,clientX:r,clientY:a})=>{let d=new Set(e.map(e=>e.nodeId)),p=c.filter(e=>d.has(e));p.length>0&&!p.includes(n)&&d.has(n)&&(p.push(n),u(p));let m=(()=>{if(p.length>0){let t=(0,l.Pe)(e);return[...p].sort((e,i)=>t[e]-t[i])}return[n]})();0!==m.length&&i((0,s.j7)({type:o.d2,data:{clientX:r,clientY:a,pageIds:m,shouldShowDuplicateOption:t}}))},[c,i,e,u,t])}},306437:(e,t,i)=>{i.d(t,{a:()=>u});var n=i(7378),r=i(27355),a=i(783094),s=i(680873),o=i(186343),l=i(932601),d=i(27776);let c=(0,a.hG)(d.xM9);function u({pagesList:e,scrollContainerRef:t}){let i=(0,o.dh)(),a=(0,r.md)(l.l7),d=(0,s.F)(e),c=(0,s.F)(!!a);(0,n.useLayoutEffect)(()=>{c.current||p({pageId:i,pagesList:d.current,scrollContainerRef:t})},[i,t,d,c]),(0,n.useLayoutEffect)(()=>{a&&p({pageId:a,pagesList:d.current,scrollContainerRef:t})},[a,t,d])}function p({pageId:e,pagesList:t,scrollContainerRef:i}){let n=i.current;if(!n)return;let r=t.findIndex(t=>t.nodeId===e);if(-1===r)return;let a=r*c,s=a+c,o=n.getScrollTop(),l=o+n.getTrackHeight();a<o?n.scrollTo(a-c/2):s>l&&n.scrollTo(o+(s-l)+c/2)}},479340:(e,t,i)=>{i.d(t,{Uz:()=>h,_k:()=>f,oP:()=>m});var n=i(7378),r=i(27355),a=i(63728),s=i(455680),o=i(741237),l=i(186343),d=i(32128),c=i(932601),u=(e=>(e.RANGE="range",e.INDIVIDUAL="individual",e))(u||{});function p(e){return(0,a.Fo)(e)?"individual":e.shiftKey?"range":null}function m(e){return!!p(e)}function h({pagesList:e,isDisabled:t,selectedPageIds:i,startRenaming:r,cancelMultiselect:o,cancelReordering:l}){(0,n.useEffect)(()=>{if(t)return;let n=t=>{let n=(0,d.Pe)(e),c=i.filter(t=>{let i=n[t];return void 0!==i&&!e[i].isDivider}).sort((e,t)=>n[e]-n[t]);if(0!==c.length)switch(t.keyCode){case a.Uz.ESCAPE:o(),l();break;case a.Uz.R:(0,a.Fo)(t)&&(1===c.length?r(c[0]):s.Y5.triggerActionInUserEditScope("batch-page-rename",{args:{nodeIds:c}}))}};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t,e,i,o,l,r])}function f(e){let[t,i]=(0,r.fp)(c.cE),a=(0,l.dh)(),d=(0,n.useCallback)(()=>{i(e=>e.length?[]:e)},[i]),u=(0,n.useCallback)((n,r)=>{let l=p(r);switch(l&&((0,o.tJ)([]),s.Y5.commit()),l){case"individual":return i(t.includes(n)?t.filter(e=>e!==n):0===t.length&&a!==n?[a,n]:[...t,n]),!0;case"range":{let r=0===t.length?a:t[t.length-1],s=e.findIndex(e=>e.nodeId===r),o=e.findIndex(e=>e.nodeId===n),l=Math.min(s,o),d=Math.max(s,o),c=new Set(t),u=e.slice(l,d+1).map(e=>e.nodeId);return c.has(u[0])&&c.has(u[u.length-1])?i(t.filter(e=>!u.includes(e))):i([...t,...u.filter(e=>!c.has(e))]),!0}case null:return d(),!1}},[d,e,a,t,i]);return{selectedPageIds:t,handleMultiselectClick:u,cancelMultiselect:d}}},790868:(e,t,i)=>{i.d(t,{c:()=>g});var n=i(7378),r=i(514228),a=i(763686),s=i(700578),o=i(27355),l=i(901889),d=i(502364),c=i(445197),u=i(186343),p=i(623300),m=i(516028),h=i(833988),f=i(932601);function g(e){let t=(0,u.dh)(),[i,g]=(0,o.fp)(f.l7),[_,x]=(0,o.fp)(f.oZ),y=(0,m.q5)(),b=(0,r.wA)(),C=(0,u.rE)(),v=(0,r.d4)(e=>e.versionHistory),E=(0,l.am)(),T=(0,h.W)(),w=(0,n.useCallback)(e=>{g(e),a.glU?.triggerActionInUserEditScope("track-page-rename",{args:{nodeId:e}})},[g]),j=(0,n.useCallback)(()=>g(null),[g]),S=(0,n.useCallback)(async()=>{if(!i)return;let n=(0,s.UN)().get(i),r=n?.name,o=_||"",l=await (0,u.zO)({openFile:y,pageNode:n,pageName:o});if((0,u.CQ)({openFile:y,pageId:i,newName:o,oldName:r,trackRenamePage:()=>E("page_commit_rename",{nodeId:t,isDivider:l},{forwardToDatadog:!0})}),l&&t===i){let i=e.findIndex(e=>e.nodeId===t),n=i+1,r=e[n];for(;r&&r.isDivider;)n+=1,r=e[n];if(r)(0,c.J)(()=>(0,u.$P)(r.nodeId,t,v,b,(0,p.Fy)(e,r.nodeId)===a.xal.LOADED,E));else{let n=i-1,r=e[n];for(;r&&r.isDivider;)n-=1,r=e[n];r?(0,c.J)(()=>(0,u.$P)(r.nodeId,t,v,b,(0,p.Fy)(e,r.nodeId)===a.xal.LOADED,E)):C(null)}}g(e=>e===i?null:e),T({newTitle:o,nodeType:"PAGE"}),r!==o&&(0,h.d)(o).length>0&&(0,d.YQ)({id:"page_name_changed_with_rfd_indicator",properties:{pageId:i}})},[e,C,i,g,_,y,t,v,E,b,T]);return{renamingPageId:i,startRenaming:w,cancelRenaming:j,commitRenaming:S,pendingPageName:_,setPendingPageName:x}}},948780:(e,t,i)=>{i.d(t,{C:()=>l});var n=i(7378),r=i(763686),a=i(189185),s=i(901889),o=i(32128);function l(e){let[t,i]=(0,n.useState)([]),l=(0,n.useRef)(null),[d,c]=(0,n.useState)(null),u=t.length>0,p=(0,s.U)(),m=(0,n.useCallback)(e=>{i(e),c(null),l.current=null},[]),h=(0,n.useCallback)(()=>{i(e=>e.length?[]:e),c(null),l.current=null},[]),f=(0,n.useCallback)((e,i)=>{if(t.includes(e)){c(null);return}let n=i.target;d&&d.dragOverPageId===e&&l.current||(l.current=n.getBoundingClientRect());let r=i.clientY-l.current.top<l.current.height/2?"before":"after";c(t=>t&&t.dragOverPageId===e&&t.insertPosition===r?t:{dragOverPageId:e,insertPosition:r})},[d,t]),g=(0,n.useCallback)(()=>!d||!u||t.includes(d.dragOverPageId)?(h(),!1):(a.l7.user("reorder-pages",()=>{let i=(0,o.Pe)(e);"before"===d.insertPosition?[...t].sort((e,t)=>(i[e]??Number.MAX_SAFE_INTEGER)-(i[t]??Number.MAX_SAFE_INTEGER)).forEach(e=>{r.Egt?.pageMoveBeforePage(e,d.dragOverPageId)}):[...t].sort((e,t)=>(i[t]??Number.MAX_SAFE_INTEGER)-(i[e]??Number.MAX_SAFE_INTEGER)).forEach(e=>{r.Egt?.pageMoveAfterPage(e,d.dragOverPageId)})}),h(),p("page_reorder",{reorderedPageIds:t,dragOverPageId:d.dragOverPageId,insertPosition:d.insertPosition},{forwardToDatadog:!0}),!0),[e,u,t,h,d,p]);return{isReordering:u,reorderingPageIds:t,startReordering:m,cancelReordering:h,commitReordering:g,draggingState:d,updateDraggingState:f}}},162990:(e,t,i)=>{i.d(t,{d:()=>o});var n=i(7378),r=i(514228),a=i(657224),s=i(516028);function o({defaultIsOpen:e}){let[t,i]=function(e){let t=(0,s.tS)(),[i,o]=(0,n.useState)(()=>t?l(t)??e:e);return(0,n.useLayoutEffect)(()=>{if(!t)return;let e=l(t);e&&o(e)},[t]),[i,(0,n.useCallback)(e=>{o(i=>{let n="function"==typeof e?e(i):e;return t&&function(e,t){let i=(0,a.TQ)();if(i){let n=JSON.parse(i.getItem("pages-panel")||"{}");if((0,r.bN)(n[e],t))return;n[e]=t,i.setItem("pages-panel",JSON.stringify(n))}}(t,n),n})},[t])]}({height:null,isOpen:e,devHandoffShowAllPages:!1}),o=(0,n.useCallback)(e=>{i(t=>({...t,isOpen:e}))},[i]),d=(0,n.useCallback)(e=>{i(t=>({...t,height:e}))},[i]),c=(0,n.useCallback)(e=>{i(t=>({...t,devHandoffShowAllPages:e}))},[i]);return{height:t.height,setHeight:d,isOpen:t.isOpen,setIsOpen:o,devHandoffShowAllPages:t.devHandoffShowAllPages,setDevHandoffShowAllPages:c}}function l(e){let t=(0,a.TQ)();if(t)return JSON.parse(t.getItem("pages-panel")||"{}")[e]}},534867:(e,t,i)=>{i.d(t,{Hj:()=>K,W$:()=>V,ry:()=>z});var n=i(486106),r=i(7378),a=i(514228),s=i(656233),o=i(465776),l=i(561685),d=i(165054),c=i(536384),u=i.n(c),p=i(449184),m=i(63728),h=i(778880),f=i(806412),g=i(11),_=i(714362),x=i(714743),y=i(303541),b=i(929976),C=i(91703),v=i(844435),E=i(455680),T=i(12796),w=i(300692),j=i(790714),S=i(263346),k=i(612938),I=i(916933),N=i(753206),A=i(480825),O=i(737746),L=i(73603),R=i(462694),M=i(649740),D=i(627977),P=i(575164),F=i(610488),B=i(377036);let U="Loading suggestions...";function G(e){(0,o.vA)(null!==e,"We should never be in the middle state if there are no optional parameters")}class H extends f.o6{constructor(e){let t;if(super(e),this.searchInputRef=r.createRef(),this.scrollContainerRef=r.createRef(),this.searchBarRef=r.createRef(),this.primaryPlaceholderTextRef=r.createRef(),this.ranWithParameters=!1,this.runArgs=null,this.loadingTimerID=null,this.pendingLoadingMessage=null,this.firstOptionalIndex=null,this.eventID=0,this.onSuggestions=e=>{switch(e.type){case"SUGGESTIONS":{let t=this.getDropdownItems(e.suggestions,this.state.searchQuery,this.state.activeParameterIndex),i=t.findIndex(e=>(function(e){return"freeform"!==e&&"skip"!==e})(e)),n=i>=0?i:this.state.activeItemIndex,r=t.length||!this.state.searchQuery?null:(0,y.t)("fullscreen_actions.no_matches");this.clearLoadingMessage(),this.setState({activeItemIndex:n,items:t,errorMessage:r});break}case"ERROR":this.clearLoadingMessage(),this.setState({items:this.getDropdownItems([],this.state.searchQuery,this.state.activeParameterIndex),errorMessage:e.message||(0,y.t)("fullscreen_actions.no_matches")});break;case"LOADING":this.setLoadingMessage(e.message)}},this.onBackspace=()=>{let e=this.state.activeParameterIndex,t=null;if("middle"===e){if(G(this.firstOptionalIndex),0===this.firstOptionalIndex){this.props.onExitParameterEntry();return}t=this.firstOptionalIndex-1}else if("final"===e)t=this.props.parameters.length-1;else{if(0===e){this.props.onExitParameterEntry();return}t=e-1}let i={...this.state.parameterValues},n=this.getParameterForIndex(t)?.key;n&&delete i[n],this.setParameterIndex(t,i)},this.onTextChange=e=>{let t;let i=this.state.activeParameterIndex;if("middle"===i)G(this.firstOptionalIndex),t=this.firstOptionalIndex;else{if("final"===i)return;t=i}let n=this.props.parameters[t];this.triggerInputEvent({parameterValues:this.state.parameterValues,currentParameter:n,currentSearchQuery:e}),this.setLoadingMessage(U),this.setState({searchQuery:e,items:this.getDropdownItems([],e,t),activeItemIndex:0,activeParameterIndex:t,mouseMoved:!1,errorMessage:""})},this.onSelectItem=(e,t)=>{let i;let n=this.state.activeParameterIndex;if("final"===n){"enter"===t&&this.launchPluginWithParameters(this.state.parameterValues);return}let r={...this.state.parameterValues};if("middle"!==n){if(0===this.state.items.length)return;let i=this.props.parameters[n];if(e<0||e>=this.state.items.length){let r="Trying to select suggestion at invalid index";console.error(r),(0,_.Lo)("PluginParameterEntry","invalid index",{index:e,items:this.state.items.length,currentIndex:n,parameter:i.name,keyPress:t}),(0,g.$D)(d.e.EXTENSIBILITY,Error(r));return}let a=this.state.items[e];"skip"===a||("freeform"===a?r[i.key]={name:this.state.searchQuery}:((0,o.KF)(!this.state.loadingMessage,"Selected item while loading"),r[i.key]=a))}let a=this.firstOptionalIndex;if("middle"===n){if(G(this.firstOptionalIndex),"enter"===t){this.launchPluginWithParameters(r);return}i=this.firstOptionalIndex}else if(n===this.props.parameters.length-1){if("enter"===t){this.launchPluginWithParameters(r);return}i="final"}else i=null!==a&&n===a-1?"tab"===t?a:"middle":n+1;this.setParameterIndex(i,r),this.searchInputRef.current.focus()},this.onKeyDown=f.C0(this,"keydown",e=>{let t=e=>{let t=this.state.activeItemIndex+e;return t<0?this.state.items.length-1:t%this.state.items.length},i=h.Ay.mac?(0,m.vN)(e,m.xH.META):(0,m.vN)(e,m.xH.CONTROL);switch(e.keyCode){case m.Uz.ENTER:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"enter");break;case m.Uz.TAB:e.preventDefault(),this.onSelectItem(this.state.activeItemIndex,"tab");break;case m.Uz.DOWN_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=t(1);this.setState({activeItemIndex:e}),this.scrollContainerRef.current?.scrollElementAtIndexIntoView(e)}break;case m.Uz.UP_ARROW:if(e.preventDefault(),this.state.items.length>0){let e=t(-1);this.setState({activeItemIndex:e}),this.scrollContainerRef.current?.scrollElementAtIndexIntoView(e)}break;case m.Uz.BACKSPACE:0===this.state.searchQuery.length?(e.preventDefault(),this.onBackspace(),e.stopPropagation()):("final"===this.state.activeParameterIndex||"middle"===this.state.activeParameterIndex)&&e.preventDefault();break;case m.Uz.ESCAPE:e.preventDefault(),this.props.dispatch(b.oB());break;case m.Uz.P:case m.Uz.FORWARD_SLASH:i&&(e.preventDefault(),this.props.dispatch(b.oB()));break;case m.Uz.EQUALS:case m.Uz.DASH:i&&(e.preventDefault(),"-"===e.key?E.Y5.triggerAction("zoom-out"):E.Y5.triggerAction("zoom-in"));break;case m.Uz.R:case m.Uz.S:case m.Uz.D:case m.Uz.E:case m.Uz.F:case m.Uz.O:if(i){e.preventDefault();let t=this.state.searchQuery+e.key;this.onTextChange(t)}}}),this.onSearchChange=f.Z7(this,"change",e=>{let t=e.currentTarget.value;this.onTextChange(t)}),this.renderResult=(e,t,i)=>{let r,a="",s="";return"skip"===t?(a=`Skip "${e.name}"`,s="skip"):"freeform"===t?(a=this.state.searchQuery,s="skip"):(a=t.name,s=t.name,r=q(t,P.ZR)),(0,n.jsx)(W,{recordingKey:f.Pt(this.props,"suggestion",s),active:i===this.state.activeItemIndex,suggestion:a,onClick:e=>this.onSelectItem(i,"enter"),onMouseMove:()=>{this.state.mouseMoved||this.setState({mouseMoved:!0,activeItemIndex:i})},icon:r,onMouseEnter:()=>{this.state.mouseMoved&&this.setState({activeItemIndex:i})}},i)},(0,_.Lo)("PluginParameterEntry","Starting parameter entry for plugin",{parameters:e.parameters,displayName:e.displayName,parameterOnly:e.parameterOnly,pluginId:e.pluginId,pluginLocalFileId:e.pluginLocalFileId,command:e.command}),0===e.parameters.length)throw Error("Must specify at least one parameter");let i=e.parameters.findIndex(e=>e.optional);this.firstOptionalIndex=i<0?null:i,t=e.initialParameterValues?"final":e.parameters[0].optional?"middle":0,this.handler=this.runPlugin();let a=this.getParameterForIndex(t);a&&this.triggerInputEvent({parameterValues:{},currentParameter:a,currentSearchQuery:""}),this.setLoadingMessage("Loading plugin..."),this.state={searchQuery:"",items:[],errorMessage:null,loadingMessage:null,activeItemIndex:0,parameterValues:e.initialParameterValues||{},activeParameterIndex:t,mouseMoved:!1,hidePluginName:!1}}getParameterForIndex(e){return"middle"===e||"final"===e?null:this.props.parameters[e]}getCurrentParameter(){return this.getParameterForIndex(this.state.activeParameterIndex)}runPlugin(){let e=null;if(this.props.pluginId?this.props.allSavedPlugins[this.props.pluginId]?e=this.props.allSavedPlugins[this.props.pluginId]:this.props.publishedPlugins[this.props.pluginId]&&(e=(0,w.uF)(this.props.publishedPlugins[this.props.pluginId])):this.props.pluginLocalFileId&&(e=this.props.localExtensions[this.props.pluginLocalFileId]),!e)throw Error("Plugin not runnable");let{canRun:t}=(0,w.JT)({plugin:e,editorType:this.props.editorType});if(!t)throw Error("Plugin not runnable");this.runArgs={plugin:e,command:this.props.command||"",queryMode:!0,runMode:"default",triggeredFrom:"parameter-entry",openFileKey:this.props.openFile?.key||"",deferRunEvent:!0,isWidget:!1};let i=(0,S.D)();return k.R.instance.enqueue({mode:"run-forever",runPluginArgs:this.runArgs}),i}async triggerInputEvent(e){this.eventID++;let t=this.eventID,i=await this.handler;this.eventID===t&&i.triggerParameterInputEvent({...e,onSuggestions:e=>{this.eventID===t&&this.onSuggestions(e)}})}updateLayout(){let e=0===this.state.activeParameterIndex&&!this.props.parameters[0].optional;if(void 0===this.state.placeholderWidth&&!e){if(this.primaryPlaceholderTextRef.current){let e=Math.min(250,Math.max(this.primaryPlaceholderTextRef.current.offsetWidth,120));this.setState({placeholderWidth:e})}else this.setState({placeholderWidth:0})}let t=this.searchBarRef.current,i=t.offsetWidth<t.scrollWidth;e||!i||this.state.hidePluginName||this.setState({hidePluginName:!0}),t.scrollLeft=t.scrollWidth}componentDidMount(){super.componentDidMount(),(0,p.sx)(R.yh,(0,R.ov)({...this.props,qaVersion:O.U3})),this.searchInputRef.current.focus(),this.updateLayout()}componentDidUpdate(e,t){super.componentDidUpdate(e,t),this.updateLayout()}componentWillUnmount(){super.componentWillUnmount(),this.ranWithParameters||(0,N.wY)();let e=(0,R.O8)(this.props.parameters,this.state.parameterValues);this.ranWithParameters&&e.requiredEntered!==e.requiredCount&&((0,_.Lo)("PluginParameterEntry","Parameter entry mismatch",{requiredParameters:this.props.parameters,parameterValues:this.state.parameterValues}),(0,g.$D)(d.e.EXTENSIBILITY,Error("Plugin ran successfully with parameters, but not all parameters were recorded")));let t=(0,R.ov)({...this.props,qaVersion:O.U3});(0,p.sx)(R.rj,{...t,success:this.ranWithParameters,parametersEntered:e.entered,requiredParametersEntered:e.requiredEntered,optionalParametersEntered:e.optionalEntered})}getDropdownItems(e,t,i){if("middle"===i||"final"===i)return[];let n=e.slice(),r=this.props.parameters[i];t.length>0&&r.allowFreeform&&n.unshift("freeform");let a=this.props.parameters[i];return 0===t.length&&a.optional&&n.unshift("skip"),n}setLoadingMessage(e){if(this.loadingTimerID){this.pendingLoadingMessage=e;return}this.pendingLoadingMessage=e,this.loadingTimerID=setTimeout(()=>{this.setState({loadingMessage:this.pendingLoadingMessage}),this.loadingTimerID=null,this.pendingLoadingMessage=null},300)}clearLoadingMessage(){this.loadingTimerID&&(clearTimeout(this.loadingTimerID),this.loadingTimerID=null),this.setState({loadingMessage:null})}setParameterIndex(e,t){let i=this.getParameterForIndex(e);i&&((0,_.Lo)("PluginParameterEntry","setParameterIndex",{nextParameter:i.name}),this.triggerInputEvent({parameterValues:t,currentParameter:i,currentSearchQuery:""}));let n=!(0===e&&!this.props.parameters[0].optional)&&this.state.hidePluginName;this.searchInputRef.current.focus(),this.setLoadingMessage(U),this.setState({searchQuery:"",items:this.getDropdownItems([],"",e),activeItemIndex:0,activeParameterIndex:e,parameterValues:t,mouseMoved:!1,errorMessage:null,placeholderWidth:void 0,hidePluginName:n})}launchPluginWithParameters(e){if(this.setState({parameterValues:e}),this.handler.then(async t=>{let{isCancelled:i}=await (0,I.y)(this.runArgs);i||t.triggerRunEvent({command:"parameters",parameters:e})}),this.runArgs){let t=this.runArgs;if(this.runArgs=null,t.queryMode=!1,t.deferRunEvent=!1,t.parameterValues=e,this.props.recentlyUsedCommandName){let e=this.props.recentlyUsedCommandName;this.props.dispatch(C.Rw({currentDisplayName:e,newCommand:{displayName:e,runPluginArgs:t}})),(0,L.s)({displayText:e,runPluginArgs:t,localFileIdOrPluginId:this.props.pluginLocalFileId??this.props.pluginId})}(0,j.C3)(t)}this.ranWithParameters=!0,this.props.dispatch(b.oB())}renderResults(){if("middle"===this.state.activeParameterIndex)return(0,n.jsxs)("div",{className:D.wM,children:[(0,n.jsxs)("div",{className:D.FV,children:[(0,n.jsx)("div",{className:D.h8,children:(0,y.tx)("fullscreen_actions.plugin_parameters.tab")}),(0,n.jsx)("div",{className:D.w8,children:(0,y.tx)("fullscreen_actions.plugin_parameters.to_enter_optional_parameters")})]}),(0,n.jsxs)("div",{className:D.FV,children:[(0,n.jsx)("div",{className:D.h8,children:(0,y.tx)("fullscreen_actions.plugin_parameters.enter")}),(0,n.jsx)("div",{className:D.w8,children:(0,y.tx)("fullscreen_actions.plugin_parameters.to_run_plugin")})]})]});if("final"===this.state.activeParameterIndex)return null;let e=this.props.parameters[this.state.activeParameterIndex],t=null;if(this.state.errorMessage?t=(0,n.jsx)("div",{className:P.Tk,children:this.state.errorMessage}):this.state.loadingMessage&&(t=(0,n.jsx)("div",{className:P.Tk,children:this.state.loadingMessage})),0===this.state.items.length)return t;let i=t?this.state.items.length+1:this.state.items.length;return(0,n.jsxs)(M.h,{ref:this.scrollContainerRef,resultCount:i,children:[this.state.items.map((t,i)=>this.renderResult(e,t,i)),t]})}renderCurrentParameters(){let e=this.getCurrentParameter()?.key,t=K(this.props.parameters,this.state.parameterValues,e);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(V,{value:this.state.hidePluginName?void 0:this.props.displayName,icon:function(e,t,i){if(!i)return(0,n.jsx)(x.B,{className:D.nW,svg:F.A,ariaLabel:"plugin icon"});{let r=e[i];return r||(r=t[i]&&(0,w.uF)(t[i])),(0,n.jsx)(A.V,{className:D.nW,plugin:r,alt:"plugin icon"})}}(this.props.allSavedPlugins,this.props.publishedPlugins,this.props.pluginId)},"plugin-name"),t]})}placeholderElement(){let e=this.state.activeParameterIndex,t=this.state.searchQuery.length>0;if("final"===e)return(0,n.jsx)(n.Fragment,{});if("middle"===e){let e=(0,s.WI)(this.props.parameters.map(e=>e.optional?e.name:null)).join(", ");return(0,n.jsx)("span",{ref:this.primaryPlaceholderTextRef,children:(0,y.tx)("fullscreen_actions.plugin_parameters.optional_optional_names",{optionalNames:e})})}{let i=this.props.parameters[e],r=this.props.parameters.slice(e);if(i.optional){let e=r.map(e=>e.name);return t&&(e[0]=""),(0,n.jsx)("span",{ref:this.primaryPlaceholderTextRef,children:e.join(", ")})}{let e=(0,s.WI)(r.map(e=>e.optional?null:e.name)),i=(0,s.WI)(r.map(e=>e.optional?e.name:null));return t&&(e[0]=""),(0,n.jsxs)("span",{children:[(0,n.jsx)("span",{ref:this.primaryPlaceholderTextRef,children:e.join(", ")}),i.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:D.yL,children:"|"},"divider"),(0,n.jsx)("span",{children:(0,y.tx)("fullscreen_actions.plugin_parameters.optional_optional_names",{optionalNames:i.join(", ")})},"optionalParams")]})]})}}}render(){let e=this.getCurrentParameter(),t=e?.description,i=this.placeholderElement(),r="final"===this.state.activeParameterIndex?D.ed:D.Kf,a={minWidth:this.state.placeholderWidth?`${this.state.placeholderWidth}px`:void 0},s=this.renderResults();return(0,n.jsxs)(M.H,{recordingKey:this.props.recordingKey||"",onKeyDown:this.onKeyDown,children:[(0,n.jsxs)("div",{className:P.$P,children:[(0,n.jsx)(x.B,{svg:B.A,className:P.qc}),(0,n.jsxs)("div",{className:D.ON,ref:this.searchBarRef,children:[this.renderCurrentParameters(),(0,n.jsxs)("div",{className:r,children:[(0,n.jsx)("input",{ref:this.searchInputRef,className:D.t6,onChange:this.onSearchChange,value:this.state.searchQuery,maxLength:150,spellCheck:!1,style:a}),(0,n.jsx)("div",{className:D.l4,children:(0,n.jsxs)("div",{className:D.qf,children:[(0,n.jsx)("span",{className:D.CZ,children:this.state.searchQuery}),i]})})]})]})]}),!!t&&(0,n.jsx)("div",{className:u()({[D.WL]:!0,[D.$8]:!s}),children:t}),s]})}}H.displayName="PluginParameterEntry";let z=(0,a.Ng)(function(e){let t=e.selectedView.editorType;return{openFile:e.openFile,publishedPlugins:e.publishedPlugins,publishedWidgets:e.publishedWidgets,allSavedPlugins:e.installedPluginVersions.plugins,localExtensions:e.localPlugins,org:e.currentUserOrgId?e.orgById[e.currentUserOrgId]:null,editorType:t,userCanViewPlugins:(0,T.Eh)(e),activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin,userCanViewWidgets:(0,v.BE)(e),userCanRunExtensions:(0,T.cb)(e)}},function(e){return{dispatch:e}})(H);function V(e){return(0,n.jsxs)("div",{className:D.Io,children:[e.icon&&(0,n.jsx)("span",{children:e.icon}),e.value&&(0,n.jsx)("span",{children:e.value})]})}function K(e,t,i){return e.filter(e=>t[e.key]&&e.key!==i).map(e=>t[e.key]&&t[e.key].name&&(0,n.jsx)(V,{icon:q(t[e.key],D.nW),value:t[e.key].name},e.key))}class W extends f.o6{constructor(){super(...arguments),this.onClick=f.cZ(this,"click",e=>{if(!this.props.onClick)return f.aH;this.props.onClick(e)})}render(){let e=`${this.props.active?P.ix:P.Ke}`;return(0,n.jsxs)("div",{className:e,onClick:this.onClick,onMouseMove:this.props.onMouseMove,onMouseEnter:this.props.onMouseEnter,children:[(0,n.jsx)("div",{className:P.EA,children:this.props.icon}),(0,n.jsx)("div",{className:D.iu,children:(0,n.jsx)("div",{className:P.D6,children:this.props.suggestion})})]})}}function q(e,t){let i="";if(e.iconUrl)i=e.iconUrl;else if(e.icon&&"string"==typeof e.icon)i="data:image/svg+xml;base64,"+l.aj(e.icon);else{if(!e.icon||"string"==typeof e.icon)return;i="data:application/octet-stream;base64,"+l.lF(e.icon)}return(0,n.jsx)(Y,{className:t,src:i})}W.displayName="ParameterSuggestion";class Y extends f.o6{render(){let e=new URL(this.props.src);return e.hostname===window.location.hostname?((0,g.$D)(d.e.EXTENSIBILITY,Error("same-origin URL blocked in UntrustedImage")),(0,n.jsx)(n.Fragment,{})):["https:","http:","data:","blob:"].includes(e.protocol)?(0,n.jsx)("img",{src:this.props.src,className:this.props.className,crossOrigin:"anonymous",alt:""}):((0,g.$D)(d.e.EXTENSIBILITY,Error("Unexpected protocol blocked in UntrustedImage")),(0,n.jsx)(n.Fragment,{}))}}Y.displayName="UntrustedImage"},755019:(e,t,i)=>{i.d(t,{_:()=>m,h:()=>p});var n=i(486106),r=i(7378),a=i(382883),s=i(39751),o=i(714743),l=i(534867),d=i(627977),c=i(575164),u=i(70690);function p({itemPath:e}){let t=r.useRef(null),i=r.useRef(null),l=r.useRef(null),d=r.useRef(null),[p,m]=r.useState("full"),h=(0,s.ZC)(e);r.useLayoutEffect(()=>{(0,a.c2)(e,h)||"full"===p||m("full"),"full"===p&&f()},[h,e,p]);let f=()=>{let e=i.current?.offsetWidth,n=d.current?.offsetWidth,r=l.current?.offsetWidth,a=t.current?.scrollWidth,s=t.current?.clientWidth;void 0!==e&&void 0!==n&&void 0!==r&&a&&s&&s<a&&(e+n>s?m("plugin"):m("path"))};if(1===e.length)return(0,n.jsx)("span",{ref:d,children:e[0]});let g=e.slice(1,e.length-1),_=(0,n.jsx)(o.B,{svg:u.A,className:c.VU,dataTestId:"rightChevron"}),x=(0,n.jsxs)("span",{ref:i,children:["plugin"===p?"...":e[0],_]}),y=(0,n.jsx)("span",{ref:l,children:"plugin"!==p&&(0,n.jsx)(n.Fragment,{children:"path"===p?(0,n.jsxs)(n.Fragment,{children:["...",_]}):g.map((e,t)=>(0,n.jsxs)("span",{children:[e," ",_]},t))})});return(0,n.jsxs)("div",{ref:t,className:c.D6,..."full"!==p?{"data-tooltip-type":"text","data-tooltip":e.join(" > "),"data-tooltip-show-above":!0}:{},children:[x,y,(0,n.jsx)("span",{ref:d,children:e[e.length-1]})]})}function m({runPluginArgs:e,itemParameterArgs:t}){let[i,a]=r.useState(!1),s=r.useRef(null);r.useEffect(()=>{let e=s.current;e&&e.offsetWidth<e.scrollWidth&&!i&&a(!0)},[i]);let o=e.parameterValues;if(o){let e=t.parameters,r=(0,l.Hj)(e,o);return(0,n.jsxs)("div",{className:d.ON,ref:s,"data-testid":"parameter-display",children:[(0,n.jsx)(l.W$,{value:i?void 0:t.displayName},"plugin-name"),r]})}return(0,n.jsx)(n.Fragment,{})}},649740:(e,t,i)=>{i.d(t,{H:()=>u,h:()=>p});var n=i(486106),r=i(7378),a=i(806412),s=i(236327),o=i(347284),l=i(8833),d=i(826900),c=i(575164);class u extends a.o6{constructor(e){super(e),this.onKeyDownFromFullscreen=e=>{e.accept(),this.props.onKeyDown(e.event)},this.onContainerClick=e=>{e.stopPropagation()}}componentDidMount(){super.componentDidMount(),document.addEventListener("keydown",this.props.onKeyDown)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.props.onKeyDown)}render(){let e={left:window.innerWidth/2-200,top:window.innerHeight/8,width:400};return(0,n.jsx)(d.vL,{name:this.props.recordingKey||"",handleKeyDown:this.onKeyDownFromFullscreen,focusOnMount:!0,children:(0,n.jsx)(s.ms,{className:`${c.DU} ${l.Dm}`,style:e,"data-testid":this.props["data-testid"],onClick:this.onContainerClick,children:(0,n.jsx)("div",{children:this.props.children})})})}}class p extends a.o6{constructor(e){super(e),this.scrollContainerRef=r.createRef()}scrollElementAtIndexIntoView(e){if(this.props.resultCount>=10){let t=this.scrollContainerRef.current.getScrollTop(),i=32*e,n=32*e+32;i<t?this.scrollContainerRef.current.scrollTo(i):n>t+304&&this.scrollContainerRef.current.scrollTo(n-304)}}render(){let e=this.props.resultCount,t=Math.min(Math.max(e,1),10);return(0,n.jsxs)(o.P,{ref:this.scrollContainerRef,width:400,height:32*t+(e>=10?-16:8),hideScrollbar:!0,role:this.props.role,contentId:this.props.id,children:[this.props.children,(0,n.jsx)("div",{style:{height:8}})]})}}},753160:(e,t,i)=>{i.d(t,{s:()=>g});var n=i(7378),r=i(514228),a=i(656233),s=i(237873),o=i(427318),l=i(324237),d=i(306946),c=i(277543),u=i(559491),p=i(976749),m=i(713695),h=i(300692),f=i(601188);function g(){let e=(0,r.wA)(),t=(0,p.lg)(),[i,g]=(0,n.useState)([]),[_,x]=(0,n.useState)(!1),y=(0,n.useMemo)(()=>{let e={resourceType:[d.vt.PLUGIN,d.vt.WIDGET],editorType:(0,c.Gj)(t),caller:f.z.SUGGESTED_EXTENSIONS,sortBy:l.e.Browse.POPULAR,includeContent:!0};return[{...e,price:s.C.FREE},{...e,price:s.C.PAID}]},[t]),b=(0,n.useCallback)(async()=>{let e,t;try{[e,t]=await Promise.all([m.M4.fetch(f.a.ResourcesPaginatedQuery(y[0])),m.M4.fetch(f.a.ResourcesPaginatedQuery(y[1]))])}catch(e){x(!1),g([]);return}let i=e.map(e=>(0,o.$9)(e)).filter(e=>!!e),n=t.map(e=>(0,o.$9)(e)).filter(e=>!!e);g((0,a.k4)([...(0,a.k4)(i).slice(0,10),...(0,a.k4)(n).slice(0,5)])),x(!0)},[y]);return(0,n.useEffect)(()=>{b()},[b]),(0,n.useEffect)(()=>{e(u.Qi({publishedPlugins:i,src:"Quick Actions V2 suggested extensions"}))},[i,e]),{loaded:_,extensions:(0,n.useMemo)(()=>i.map(e=>(0,h.Ar)(e)).filter(e=>!!e),[i])}}},57440:(e,t,i)=>{i.d(t,{X:()=>o});var n=i(995580),r=i(737746),a=i(297822);function s(e){return{key:(0,n.ee)(e),isDisabled:!!e.disabled,resultType:e.pluginId||e.pluginLocalFileId?r.l4.EXTENSION:r.l4.ACTION}}function o(e){let t=new Map;e.forEach(e=>{let i=e.category??"";t.has(i)||t.set(i,[]),t.get(i)?.push(e)});let i=[];for(let[e,n]of t.entries())i.push({name:e,actions:n.map(s)});return(0,a.i6)(i)}},714520:(e,t,i)=>{i.d(t,{l:()=>dK});var n={};i.r(n),i.d(n,{button:()=>lA,buttonContent:()=>lR,buttonText:()=>lL,destructive:()=>lK,destructiveLink:()=>lX,destructiveSecondary:()=>lW,fauxFocus:()=>lG,icon:()=>lO,largeSize:()=>lP,largeWideSize:()=>lB,link:()=>lY,outlineStyle:()=>lU,primary:()=>lz,regularSize:()=>lD,secondary:()=>lV,shortcut:()=>lM,signup:()=>lq,solidStyle:()=>lH,wideSize:()=>lF});var r=i(486106),a=i(7378),s=i(514228),o=i(165054),l=i(718764),d=i(763686),c=i(27355),u=i(751457),p=i(302958),m=i(251115),h=i(827540),f=i(517270),g=i(322845),_=i(542194),x=i(207101),y=i(370763),b=i(523506),C=i(844435),v=i(146161),E=i(604494),T=i(235578),w=i(930214),j=i(794154),S=i(737746),k=i(179739),I=i(297822),N=i(171177),A=i(363670),O=i(465776),L=i(934246),R=i(878298),M=i(63728),D=i(880308),P=i(589278),F=i(303541),B=i(545293),U=i(399472),G=i(516028),H=i(226610),z=i(12796),V=i(67768),K=i(130633),W=i(598297),q=i(318590),Y=i(632248),X=i(407919),J=i(109947),Z=i(198599),Q=i(487011),$=i(946805),ee=i(222272),et=i(682594),ei=i(883990),en=i(538006),er=i(169086),ea=i(835893),es=i(149844),eo=i(821962),el=i(946806),ed=i(601108),ec=i(90566),eu=i(11),ep=i(257275),em=i(420927),eh=i(714743),ef=i(941192),eg=i(15667),e_=i(847915),ex=i(567902),ey=i(506549),eb=i(625959),eC=i(740163),ev=i(722362),eE=i(845253),eT=i(84367),ew=i(300692),ej=i(612938),eS=i(202425),ek=i(155287),eI=i(129884),eN=i(480825),eA=i(357047),eO=i(963341),eL=i(755019),eR=i(995580),eM=i(98578),eD=i(103090);function eP(){return(0,eD.R)(e=>{let t={};for(let i in e.mirror.appModel)(0,eA.vg)(i)&&(t[i]=e.mirror.appModel[i]),"isReadOnly"===i&&(t.isReadOnly=e.mirror.appModel.isReadOnly);return t})}var eF=i(656233),eB=i(900932),eU=i(336775),eG=i(799615),eH=i(866761),ez=i(260986),eV=i.n(ez),eK=i(984674),eW=i(976749),eq=i(700578),eY=i(714362),eX=i(432652);async function eJ(e,t,i){let n;return(await eX.Ay.shared.assistantChat({messages:[...t,e]})).pipeThrough((n={},new TransformStream({async transform(e,t){if(e.choices.length&&(n=function(e,t){let i=(e,t)=>{for(let[n,r]of(e={...e},Object.entries(t)))if(void 0===e[n]||null===e[n]){if(e[n]=r,Array.isArray(e[n]))for(let t of e[n])delete t.index}else if("string"==typeof e[n]&&"string"==typeof r)e[n]+=r;else if("number"==typeof e[n]&&"number"==typeof r)e[n]=r;else if(Array.isArray(e[n])&&Array.isArray(r)){let t=e[n];for(let e=0;e<r.length;e++){let{index:n,...a}=r[e];if(n-t.length>1)throw Error(`Error: An array has an empty value when tool_calls are constructed. tool_calls: ${t}; tool: ${r}`);t[n]=i(t[n],a)}}else"object"==typeof e[n]&&"object"==typeof r&&(e[n]=i(e[n],r));return e};return i(e,t.choices[0].delta)}(n,e),t.enqueue({...n,role:"assistant"}),n.tool_calls&&n.tool_calls.length>0&&"tool_calls"===e.choices[0].finish_reason))for(let e of n.tool_calls){let n=await i(e),r={tool_call_id:e.id,role:"tool",name:e.function.name,content:JSON.stringify(n)};t.enqueue(r)}}})))}var eZ=i(239603),eQ=i(977779),e$=i(646357),e0=i(921418),e1=i(588985),e2=i(851937),e3=i(753206),e5=i(198885),e4=i(91038),e6=i(53721),e7=i(622391),e8=i(985200),e9=i(545265),te=i(181241),tt=i(910117);let ti=new class{sendFeatureRequest(e){return tt.Ay.post("/api/ask_figma/request_feature",te.td.toAPIParameters(e))}};var tn=(e=>(e.Idle="idle",e.Loading="loading",e.Error="error",e))(tn||{});let tr=(0,c.eU)({status:"idle",messages:[]}),ta=eZ.z.object({node_id:eZ.z.string(),score:eZ.z.number(),file_name:eZ.z.string(),editor_name:eZ.z.string(),editor_img_url:eZ.z.string(),last_edited_at:eZ.z.string(),url:eZ.z.string(),thumbnail_url:eZ.z.string(),edit_info:eZ.z.object({created_at:eZ.z.string(),last_modified:eZ.z.string(),last_modified_user:eZ.z.string()}).optional(),containing_page_name:eZ.z.string(),containing_frame_name:eZ.z.string().optional(),fragment_name:eZ.z.string(),width:eZ.z.number(),height:eZ.z.number()}),ts=eZ.z.object({type:eZ.z.literal("fragments"),status:eZ.z.literal("success"),fragments:eZ.z.array(ta)}),to=eZ.z.object({type:eZ.z.literal("fragments"),status:eZ.z.literal("success"),fragments:eZ.z.array(ta.pick({score:!0,file_name:!0,editor_name:!0,last_edited_at:!0,containing_page_name:!0,containing_frame_name:!0,fragment_name:!0})),images:eZ.z.array(eZ.z.string())}),tl=eZ.z.object({type:eZ.z.literal("selection"),status:eZ.z.literal("success"),selectionLength:eZ.z.number()}),td=eZ.z.object({type:eZ.z.literal("selection"),status:eZ.z.literal("success"),selectionLength:eZ.z.number(),images:eZ.z.array(eZ.z.string()),jsx:eZ.z.array(eZ.z.string())}),tc=eZ.z.object({type:eZ.z.literal("plugin"),status:eZ.z.literal("success")}),tu=eZ.z.object({type:eZ.z.literal("plugin"),status:eZ.z.literal("success")}),tp=eZ.z.object({type:eZ.z.literal("assets"),queries:eZ.z.array(eZ.z.string()),status:eZ.z.literal("success"),assets:eZ.z.any().array()}),tm=eZ.z.object({type:eZ.z.literal("assets"),status:eZ.z.literal("success"),assets:eZ.z.array(eZ.z.object({name:eZ.z.string(),description:eZ.z.string().optional()})),images:eZ.z.array(eZ.z.string())}),th=eZ.z.object({type:eZ.z.literal("request-feature"),status:eZ.z.literal("success"),title:eZ.z.string(),description:eZ.z.string()}),tf=eZ.z.object({type:eZ.z.literal("request-feature"),status:eZ.z.literal("success"),images:eZ.z.undefined()}),tg=eZ.z.object({userFacing:eZ.z.union([ts,tl,tc,tp,th]),assistantFacing:eZ.z.union([to,td,tu,tm,tf])});async function t_(e){if("function"!==e.type)throw Error("Unexpected tool_call type:"+e.type);let t=JSON.parse(e.function.arguments),i=c.zl.get(G.ze);if(!i)throw Error("No file key found");switch(e.function.name){case"autocomplete":case"view_user_selection":{let e=eq.UN().getCurrentPage()?.directlySelectedNodes??[],t=e?.slice(0,10),i=t.map(e=>{let t=(0,B.T1)(e,B.UF.GPT);if(!t)throw Error("Failed to export thumbnail");return t}),n=t.map(e=>"");return{userFacing:{type:"selection",status:"success",selectionLength:e.length},assistantFacing:{type:"selection",status:"success",selectionLength:e.length,images:i,jsx:n}}}case"visual_search_with_selection":case"search_designs_by_text":{let n=[];if("visual_search_with_selection"===e.function.name){let e=eq.UN().getCurrentPage()?.directlySelectedNodes;if(!e||0===e.length)throw Error("No selection found");n=(await (0,B.lc)({type:"input-selection",node:e[0],file_key:i,name:e[0].name})).slice(0,3)}else n=(await (0,B.c)({type:"input-text",value:t.query,file_key:i})).slice(0,3);return{userFacing:{type:"fragments",status:"success",fragments:n},assistantFacing:{type:"fragments",status:"success",fragments:n.map(e=>({score:e.score,file_name:e.file_name,editor_name:e.editor_name,last_edited_at:e.last_edited_at,containing_page_name:e.containing_page_name,containing_frame_name:e.containing_frame_name,fragment_name:e.fragment_name})),images:n.map(e=>e.thumbnail_url)}}}case"search_components_by_text":{let e=t.queries.slice(0,3);if(0===e.length)throw Error("No queries provided");let i=(await Promise.all(e.map(e=>ty(e)))).map(e=>e.slice(0,3)).flat(),n=[],r=[];return i.map(e=>{if(!e.thumbnail_url)return;let t=e.thumbnail_url.startsWith("/")?`${window.location.origin}${e.thumbnail_url}`:e.thumbnail_url;n.push(e),r.push(t)}),{userFacing:{type:"assets",status:"success",queries:t.queries,assets:n},assistantFacing:{type:"assets",status:"success",assets:n.map(e=>({name:e.name,description:e.description})),images:r}}}case"create_figma_plugin":let n=eZ.z.object({plugin_code:eZ.z.string(),ui_code:eZ.z.string().optional()}).safeParse(t);if(!n.success)throw Error("Invalid args: "+n.error.toString());let{plugin_code:r,ui_code:a}=n.data;return tx(r,a);case"edit_file":{let e=eZ.z.object({code:eZ.z.string()}).safeParse(t);if(!e.success)throw Error("Invalid args: "+e.error.toString());let{code:i}=e.data;return tx(i)}case"request_feature":let s=eZ.z.object({title:eZ.z.string(),description:eZ.z.string()}).safeParse(t);if(!s.success)throw Error("Invalid args: "+s.error.toString());let{title:o,description:l}=s.data,d={title:o,description:l,chatHistory:c.zl.get(tr).messages};return await ti.sendFeatureRequest(d),{userFacing:{type:"request-feature",status:"success",title:o,description:l},assistantFacing:{type:"request-feature",status:"success"}};default:throw Error(`No function found for ${e.function.name}`)}}async function tx(e,t){let i=c.zl.get(G.ze),n=(0,e7.o8)();if(!n)throw Error("Cannot run plugin while logged out");if(!i)throw Error("No file key found");await (0,e3.wY)();let r=`
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
    ${t}
    </script>
    <div id="root"></div>
    `,a=t?(0,ew.nx)(e,r):e,s=(0,e3.mv)();return e3.iu.currentPluginRunID=s,(0,e2.E9)({allowedDomains:e8.gH,apiVersion:e1.pS,capabilities:[],stats:new e9.P,checkSyntax:!0,code:a,command:"",disableSilenceConsole:!0,enablePrivatePluginApi:!1,enableProposedApi:!1,errorHandler:L.lQ,isLocal:!0,isWidget:!1,name:"Assistant plugin",openFileKey:i,permissions:ew.qH.forFirstPartyPlugin(),pluginID:"",pluginRunID:s,pluginVersionID:"0",queryMode:!1,showLaunchErrors:!0,showRuntimeErrors:!0,titleIconURL:"",userID:n,vmType:"cppvm",editorType:[ek.FW.FIGMA],incrementalSafeApi:!1,enableNativeJsx:!1,enableResponsiveSetHierarchyMutations:!1}),{userFacing:{type:"plugin",status:"success"},assistantFacing:{type:"plugin",status:"success"}}}async function ty(e){let t=X.D.getState(),i=(0,G.tB)(t),n=(0,e4.vx)(t);if(!i||null==n)throw Error("No open file or file version found");let r=1;for(;!(0,e0.Wg)(X.D.getState())&&r<=50;)await new Promise(e=>setTimeout(e,200*r)),r++;if(!(0,e0.Wg)(X.D.getState()))throw Error("Failed to initialize assets");let a={type:K.I.ALL},s=(0,e6.yY)((0,eW.XE)((0,e5.h)(t))),o=c.zl.get(eQ.qp);t=X.D.getState();let l={type:"input-text",query:e,assetTypeOption:a,isKnownLibrary:e=>!0,openFile:(0,G.tB)(t),selectedView:(0,e5.h)(t),inDesignEditor:s,fileVersion:n,currentOrgId:(0,e$.eD)(t),fileByKey:(0,e4.t_)(t),libraryByLibraryKey:o,includeVisualAssets:!1,usedAssetKeys:(0,e$.ET)(t,X.D.dispatch)};e0.YG.refreshSourcesIfNeeded(X.D);let d=await e0.YG.computeResultsReduxSearchTypeHelper(e,a,s,o,null),u=d.normalizedSearchResults;return u=d.normalizedSearchResults.filter(e=>l.isKnownLibrary(e)),(0,e0.Ow)(u)}async function tb(e,t,i,n){try{let r;let a=eq.UN().getCurrentPage()?.directlySelectedNodes,s="string"==typeof e?{role:"user",content:[{type:"text",text:`<user_message><user_input>${e}</user_input><selected_layer_ids>${a&&JSON.stringify(a.map(e=>e.guid))}</selected_layer_ids></user_message>`}]}:e;i(e=>({...e,status:tn.Loading,messages:[...e.messages,s]}));let o=[];for(let e of t){let t=function(e){if("tool"!==e.role)return e;let t=e.content,i="string"==typeof t?JSON.parse(t):t,n=tg.parse(i).assistantFacing,r=n.type;switch(r){case"selection":case"assets":case"fragments":let{images:a,...s}=n;return{...e,content:JSON.stringify(s)};case"plugin":case"request-feature":return e;default:(0,O.xb)(r)}}(e);o.push(t)}let l=(await eJ(s,o,n)).getReader();for(;;){let{done:e,value:t}=await l.read();if(e){i(e=>({...e,status:tn.Idle}));break}let{sendFollowup:n,newMessages:a}=function(e){if("tool"!==e.role)return{sendFollowup:!1,newMessages:[]};let t=e.content,i="string"==typeof t?JSON.parse(t):t,n=tg.parse(i),r=n.assistantFacing.type;switch(r){case"selection":case"assets":case"fragments":return{sendFollowup:!0,newMessages:[{role:"user",content:[{type:"text",text:"\x3c!-- The tool call showed me the following images: --\x3e"},...n.assistantFacing.images.map(e=>({type:"image_url",image_url:{url:e.startsWith("http")?e:`data:image/jpeg;base64,${e}`,detail:"high"}}))]}]};case"plugin":case"request-feature":return{sendFollowup:!1,newMessages:[]};default:(0,O.xb)(r)}}(t);a.length>0&&n&&(r=a[a.length-1]),i(e=>"string"==typeof t.content&&0===t.content.length||t.role!==e.messages[e.messages.length-1]?.role?{status:tn.Loading,messages:[...e.messages,t,...a]}:{status:tn.Loading,messages:[...e.messages.slice(0,-1),t,...a]})}r&&tb(r,c.zl.get(tr).messages,i,n)}catch(e){(0,eY.Lo)("Send chat message failed: ",e.message),i(e=>({...e,status:tn.Error}))}}var tC=i(465071),tv=i(109130),tE=i(846841),tT=i(560453),tw=i(234042),tj=i(443820),tS=i(270214);let tk=(0,a.memo)(function(e){return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"var(--color-icon)",d:"M11.5 5a6.5 6.5 0 0 1 4.935 10.728l3.419 3.419.064.078a.5.5 0 0 1-.693.693l-.079-.064-3.419-3.42A6.5 6.5 0 1 1 11.5 5m0 1a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11m-.485 2.44c.126-.505.844-.505.97 0l.515 2.06 2.06.515c.505.126.505.844 0 .97l-2.06.515-.515 2.06c-.126.505-.844.505-.97 0L10.5 12.5l-2.06-.515c-.505-.126-.505-.844 0-.97l2.06-.515z"})})});var tI=i(849455),tN=i(491815),tA=i(47358),tO=i(279476),tL=i(92046),tR=i(125190),tM=i(243271),tD=i(930821),tP=i(348225),tF=i(156213),tB=i(372672),tU=i(273120),tG=i(189361),tH=i(773818),tz=i(516087),tV=i(380422),tK=i(751728),tW=i(521428),tq=i(736624),tY=i(102752),tX=i(748636);function tJ({url:e}){return(0,r.jsx)("img",{src:e,className:P.s.maxW100.$,alt:"debug"})}function tZ(e){let{obj:t,depth:i=0}=e;if(null===t)return(0,r.jsx)("span",{className:P.s.colorTextTertiary.$,children:(0,F.t)("assistant.debug.null")});if("object"!=typeof t){if("string"==typeof t){if(t.startsWith("{")&&t.endsWith("}"))try{let e=JSON.parse(t);return(0,r.jsx)(tZ,{obj:e,depth:i})}catch(e){}return t.startsWith("data:image")?(0,r.jsx)(tJ,{url:t}):t.length>300&&t.match(/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)?$/)?(0,r.jsx)(tJ,{url:`data:image/jpeg;base64,${t}`}):(0,r.jsxs)("span",{className:P.s.colorTextSuccess.$,children:['"',t,'"']})}return"number"==typeof t?(0,r.jsx)("span",{className:P.s.colorTextSelected.$,children:t}):"boolean"==typeof t?(0,r.jsx)("span",{className:P.s.colorTextComponent.$,children:t.toString()}):(0,r.jsx)("span",{children:t})}let n=Array.isArray(t),a=n?["[","]"]:["{","}"],s=Object.entries(t);return(0,r.jsxs)("div",{style:{marginLeft:`${8*i}px`},children:[a[0],s.length>0&&(0,r.jsx)("div",{children:s.map(([e,t],a)=>(0,r.jsxs)("div",{children:[!n&&(0,r.jsx)("span",{className:P.s.colorTextDanger.$,children:`"${e}:" `}),(0,r.jsx)(tZ,{obj:t,depth:i+1}),a<s.length-1&&","]},e))}),a[1]]})}function tQ(e){let{data:t}=e;return(0,r.jsx)("pre",{contentEditable:!0,className:"font-mono text-sm select-all text-wrap",children:(0,r.jsx)(tZ,{obj:t})})}function t$({messages:e}){return(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:P.s.px2.py2.$,children:(0,r.jsx)(tQ,{data:e})})})}let t0=(0,tY.Ju)(function({messages:e}){let t=(0,s.wA)();return(0,r.jsx)(tX.Ao,{onClose:()=>{t(tF.AS())},initialPosition:new tq.Mi(0,0),initialWidth:400,allowResizeWidth:!0,autoflowHeight:!0,title:(0,F.t)("assistant.debug.title"),dragHeaderOnly:!0,children:(0,r.jsxs)("div",{className:P.s.px2.py2.$,style:{height:600,overflowX:"scroll",overflowY:"scroll"},children:[(0,r.jsx)(tW.$n,{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(e,void 0,2))},children:(0,F.t)("assistant.debug.copy_all")}),(0,r.jsx)(t$,{messages:e})]})})},"AssistantDebugModal",tY.ZU.YES);function t1(){let[e,t]=a.useState(""),[i,n]=(0,c.fp)(tr),o=(0,s.wA)(),l=(0,s.d4)(e=>e.modalShown);(0,W.b)();let d=a.useCallback(()=>{if(l&&l.type===t0.type){o(tF.AS());return}o(tF.to({type:t0,data:{messages:i.messages}}))},[i.messages,o,l]);a.useEffect(()=>{l?.type!==t0.type||o(tF.hm({type:t0.type,data:{messages:i.messages}}))},[i.messages,o,l]);let u=a.useCallback(()=>{"/debug"===e?d():tb(e,i.messages,n,t_),t("")},[e,i.messages,n,d]);return(0,r.jsxs)(et.n,{height:Y.wC,hideActionPanel:!0,children:[(0,r.jsx)(et.n.Body,{children:0===i.messages.length?(0,r.jsx)(t2,{}):(0,r.jsx)(tz.q,{stretchContent:!1,useBottomPinning:!0,enableScrollShadow:!0,children:(0,r.jsxs)("div",{className:P.s.py8.flex.flexColumn.gap4.$,children:[i.messages.map((e,t)=>(0,r.jsx)(t7,{message:e},`msg-${t}`)),(0,r.jsx)("div",{style:{marginLeft:"44px",marginRight:"12px"},children:(0,r.jsx)(t4,{status:i.status})})]})})}),(0,r.jsx)(et.n.Footer,{children:(0,r.jsx)(ei.vj,{placeholder:(0,F.t)("fullscreen_actions.assistant-chat"),searchQuery:e,onSearchChange:t,endEnhancer:(0,r.jsx)(tG.r,{shortcuts:[{key:M.Uz.ENTER}],onAction:u,disabled:0===e.length||i.status===tn.Loading,children:(0,F.t)("assistant.chat.send_message")})})})]})}function t2(){return(0,r.jsxs)("div",{className:P.s.flex.flexColumn.itemsCenter.justifyEnd.hFull.gap8.$,children:[(0,r.jsx)(tS.m,{}),(0,r.jsxs)("div",{className:P.s.flex.flexRow.gap16.$,children:[(0,r.jsxs)("div",{className:P.s.flex.flexColumn.itemsCenter.flexGrow1.gap8.$,children:[(0,r.jsxs)(t3,{inputToSend:"Find similar designs to my selection",children:[(0,r.jsx)(tk,{}),"Find designs"]}),(0,r.jsxs)(t3,{inputToSend:"I want to request a feature.",children:[(0,r.jsx)(tI.V,{}),(0,F.t)("assistant.chat.suggestion.request_feature")]})]}),(0,r.jsxs)("div",{className:P.s.flex.flexColumn.itemsCenter.flexGrow1.gap8.$,children:[(0,r.jsxs)(t3,{inputToSend:"Make a plugin that creates rectangles in a grid",children:[(0,r.jsx)(tN.x,{}),(0,F.t)("assistant.chat.suggestion.make_tool")]}),(0,r.jsxs)(t3,{inputToSend:"",disabled:!0,children:[(0,r.jsx)(tA.C,{}),(0,F.t)("assistant.chat.suggestion.coming_soon")]})]})]})]})}function t3({children:e,inputToSend:t,disabled:i}){let[n,s]=(0,c.fp)(tr),o=a.useCallback(()=>{tb(t,n.messages,s,t_)},[t,n.messages,s]);return(0,r.jsx)("button",{className:P.s.flex.flexColumn.justifyEnd.wFull.b1.colorBorder.gap8.textBodyLargeStrong.p12.if(i,P.s.colorTextSecondary).$,style:{borderRadius:13,minWidth:150,...i&&{"--color-icon":"var(--color-text-secondary)"}},onClick:o,disabled:i,children:e})}function t5({children:e}){return(0,r.jsx)("div",{className:P.s.flex.flexRow.itemsCenter.wFull.b1.colorBorder.gap8.h40.textBodyLargeStrong.px4.mr12.$,style:{borderRadius:13},children:e})}function t4({status:e}){let t;switch(e){case tn.Idle:t=null;break;case tn.Loading:t=(0,r.jsxs)(t5,{children:[(0,r.jsx)("div",{className:P.s.pl4.flex.itemsCenter.justifyCenter.$,children:(0,r.jsx)(tj.k,{})}),(0,r.jsx)("div",{className:P.s.colorTextSecondary.$,children:(0,F.t)("assistant.chat.status.loading")})]});break;case tn.Error:t=(0,r.jsxs)(t5,{children:[(0,r.jsx)(tO.Z,{}),(0,F.t)("assistant.chat.status.error")]});break;default:(0,O.xb)(e)}return(0,r.jsx)(tD.N,{mode:"popLayout",initial:!1,children:(0,r.jsx)(tP.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:t},e)})}function t6(e){let t=a.useRef(null),i=(0,s.d4)(G.tB);try{let n=e.content,a="string"==typeof n?JSON.parse(n):n,{userFacing:s}=tg.parse(a);if("fragments"===s.type){let e=s.fragments.map(e=>({...e,type:"fig-file-fragment"}));return(0,r.jsx)(tK.U,{fragments:e,focusHandle:t,numberOfGridColumns:3,maxResults:3,entryPoint:B.G4.ACTIONS_LIST,disableActionShortcuts:!0})}if("assets"===s.type)return(0,r.jsx)(tH.x,{primary:!0,columns:3,padding:8,gap:12,children:s.assets.map((e,t)=>(0,r.jsx)(tV.a,{asset:e,assetTypeDropdownSelection:K.I.ALL,disableActionShortcuts:!0,libraryNameByLibraryKeyFromLG:{},openFileKey:i?.key??"",queryId:"",searchQuery:s.queries[0],searchSessionId:c.zl.get(E.dd)??"",sectionPosition:t},t))});if("selection"===s.type)return(0,r.jsxs)(t5,{children:[(0,r.jsx)(tL.W,{}),(0,F.t)("assistant.chat.tool_result.selection.success")]});if("request-feature"===s.type)return(0,r.jsxs)(t5,{children:[(0,r.jsx)(tL.W,{}),(0,F.t)("assistant.chat.tool_result.feature_request")]});return(0,r.jsxs)(t5,{children:[(0,r.jsx)(tR.g,{}),(0,F.t)("assistant.chat.tool_result.success")]})}catch(e){return(0,r.jsxs)(t5,{children:[(0,r.jsx)(tO.Z,{}),(0,F.t)("assistant.chat.tool_result.error")]})}}function t7({message:e}){let t=(0,tB.iZ)();return"user"===e.role&&"string"!=typeof e.content&&e.content?.length&&e.content[0]?.type==="text"&&e.content[0].text.startsWith("\x3c!--")||"assistant"===e.role&&!e.content||"tool"===e.role&&!e.content?null:(0,r.jsx)("div",{className:P.s.px12.py4.flex.wFull.$,children:(0,r.jsxs)("div",{className:P.s.gap8.flex.wFull.$,children:[(0,r.jsx)("div",{className:P.s.w24.h24.flexShrink0.flex.itemsCenter.justifyCenter.$,children:"assistant"===e.role||"tool"===e.role?(0,r.jsx)(tS.m,{}):t?.img_url?(0,r.jsx)(tU.J,{src:t.img_url,className:P.s.w16.h16.radiusFull.$}):(0,r.jsx)(tM._,{})}),(0,r.jsxs)("div",{className:P.s.flex.flexColumn.wFull.pt2.$,children:[(0,r.jsx)("span",{className:P.s.textBodyLargeStrong.$,children:"assistant"===e.role||"tool"===e.role?"Figma":"You"}),"tool"===e.role?(0,r.jsx)("div",{className:P.s.wFull.pt4.$,children:(0,r.jsx)(t6,{...e})}):"string"==typeof e.content?(0,r.jsx)(t8,{text:e.content}):(0,r.jsx)("div",{children:null===e.content?null:e.content.map((e,t)=>"text"===e.type?(0,r.jsx)(t8,{text:e.text},`sub-t-${t}`):null)})]})]})})}function t8({text:e}){let t=e;try{let i=new DOMParser().parseFromString(e,"text/xml").getElementsByTagName("user_input");i.length>0&&(t=i[0].textContent||"")}catch{}return(0,r.jsx)("div",{children:t.split("\n").map((e,t)=>(0,r.jsxs)("span",{children:[e,(0,r.jsx)("br",{})]},`l-${t}`))})}var t9=i(453354),ie=i(39751),it=i(383776),ii=i(88239),ir=i(889655),ia=i(826288),is=i(151869),io=i(873852);let il=(0,a.memo)(function(e){return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16 17.5a.5.5 0 0 1-.5.5h-7a.5.5 0 0 1-.5-.5V14H7v3.5A1.5 1.5 0 0 0 8.5 19h7a1.5 1.5 0 0 0 1.5-1.5V9.414a1 1 0 0 0-.293-.707l-3.414-3.414A1 1 0 0 0 12.586 5H8.5A1.5 1.5 0 0 0 7 6.5V11h1V6.5a.5.5 0 0 1 .5-.5H12v2.5a1.5 1.5 0 0 0 1.5 1.5H16zM13 6.414V8.5a.5.5 0 0 0 .5.5h2.086zm-2.146 3.732a.5.5 0 0 0-.708.708L11.293 12H5.5a.5.5 0 0 0 0 1h5.793l-1.147 1.146a.5.5 0 0 0 .708.708l2-2a.5.5 0 0 0 0-.708z",clipRule:"evenodd"})})});var id=i(223926),ic=i.n(id),iu=i(104014),ip=i.n(iu);function im(){let e=(0,s.d4)(e=>e.mirror?.appModel);return(t,i,n=!1)=>{let r=t[i];if(r&&(n||!r.disabled&&(!r.action||(0,eA.Yh)(e,i))))return r}}function ih(e){switch(e){case io.b.RECENTS:return 0;case io.b.ORGANIZE:return 1;case io.b.TEMPLATES_AND_DIAGRAMS:return 2;case io.b.IMAGE_EDITING:return 3;case io.b.DESIGN_TOOLS:return 4;case io.b.RIFFING_AND_WRITING:return 5;case io.b.COLLABORATION_TOOLS:return 6;case io.b.HANDOFF_TOOLS:return 7;case io.b.VIEWER_TOOLS:return 8;case io.b.SUGGESTIONS:return 9;case io.b.COMMON_SETTINGS:return 10;case null:return 100;default:return(0,O.xb)(e)}}var ig=i(444297),i_=i(13528),ix=i(311375),iy=i(364377),ib=i(548236),iC=i(705736),iv=i(942991);let iE=new Set([Y.JT.REMOVE_BACKGROUND,Y.JT.UPSCALE_IMAGE]),iT=new Set([...iE,Y.JT.EDIT_IMAGE]);var iw=(e=>(e[e.NONE=0]="NONE",e[e.MULTI_IMAGE=1]="MULTI_IMAGE",e[e.SINGLE_IMAGE=2]="SINGLE_IMAGE",e[e.IMAGE_PLACEHOLDER=3]="IMAGE_PLACEHOLDER",e))(iw||{});let ij=new Map([[Y.JT.REMOVE_BACKGROUND,io.b.IMAGE_EDITING],[Y.JT.UPSCALE_IMAGE,io.b.IMAGE_EDITING],[Y.JT.GENERATE_IMAGE,io.b.IMAGE_EDITING],[Y.JT.EDIT_IMAGE,io.b.IMAGE_EDITING],[Y.JT.AUTO_RENAME_LAYERS,io.b.DESIGN_TOOLS],[Y.JT.CONTENT_FILL,io.b.DESIGN_TOOLS],[Y.JT.FIND_INSPIRATION,io.b.DESIGN_TOOLS],[Y.JT.FIRST_DRAFT,io.b.DESIGN_TOOLS],[Y.JT.FIRST_DRAFT_FINE_TUNE,io.b.DESIGN_TOOLS],[Y.JT.MAGIC_LINK,io.b.DESIGN_TOOLS],[Y.JT.MAKE_EDITS,io.b.DESIGN_TOOLS],[Y.JT.REWRITE_TEXT,io.b.RIFFING_AND_WRITING],[Y.JT.SLIDES_GENERATE_SPEAKER_NOTES,io.b.RIFFING_AND_WRITING],[Y.JT.SLIDES_REWRITE_TEXT,io.b.RIFFING_AND_WRITING],[Y.JT.SHORTEN_TEXT,io.b.RIFFING_AND_WRITING],[Y.JT.TRANSLATE_TEXT,io.b.RIFFING_AND_WRITING],[Y.JT.WHITEBOARD_GENERATE_CONTENT,io.b.TEMPLATES_AND_DIAGRAMS],[Y.JT.SUMMARIZE_STICKIES,io.b.ORGANIZE],[Y.JT.SORT_STICKIES_BY_TOPIC,io.b.ORGANIZE],[Y.JT.MIND_MAP_GENERATE_IDEAS,io.b.TEMPLATES_AND_DIAGRAMS],[Y.OZ,io.b.DESIGN_TOOLS]]),iS=[["set-tool-comments",io.b.COLLABORATION_TOOLS],["present-as-prototype",io.b.COLLABORATION_TOOLS],["set-tool-measure",io.b.HANDOFF_TOOLS],["set-tool-annotate",io.b.HANDOFF_TOOLS],["zoom-to-fit",io.b.VIEWER_TOOLS],["export-selected-exportables",io.b.VIEWER_TOOLS],["copy-as-png",io.b.VIEWER_TOOLS]],ik=[["theme-light-mode",io.b.COMMON_SETTINGS],["theme-dark-mode",io.b.COMMON_SETTINGS],["theme-system",io.b.COMMON_SETTINGS]],iI=[["theme-light-mode",io.b.COMMON_SETTINGS],["theme-dark-mode",io.b.COMMON_SETTINGS],["theme-system",io.b.COMMON_SETTINGS]],iN=[["request-to-edit",io.b.COLLABORATION_TOOLS],["set-tool-comments",io.b.COLLABORATION_TOOLS],["present-as-prototype",io.b.COLLABORATION_TOOLS],["zoom-to-fit",io.b.VIEWER_TOOLS],["page-next",io.b.VIEWER_TOOLS],["export-selected-exportables",io.b.VIEWER_TOOLS],["toggle-rulers",io.b.VIEWER_TOOLS]];var iA=(e=>(e.DESIGN_EDITOR_AI="DESIGN_EDITOR_AI",e.DESIGN_EDITOR_NO_AI="DESIGN_EDITOR_NO_AI",e.DESIGN_VIEWER="DESIGN_VIEWER",e.DEV_MODE="DEV",e.VARIABLES_TABLE="VARIABLES_TABLE",e.COMPONENT_BROWSER="COMPONENT_BROWSER",e.NONE="NONE",e))(iA||{});function iO(){let e=d.Ez5?.singleSlideView().isFocusedNodeViewFocused(),t=(0,is.Vr)(),i=(0,s.d4)(ir.Sh);return(!t||!t.isSlide||!e)&&i.length>0}function iL(e,t){let i=(0,s.d4)(e=>e.selectedView);return a.useMemo(()=>new ia.xm(e,i,t,{includeDisabled:!0,acceptsUnicode:!0}),[e,i,t])}var iR=i(887999),iM=i(556482),iD=i(92845),iP=i(922405),iF=i(678782),iB=i(915202),iU=i(522374),iG=i(53857),iH=i(255781),iz=i(853982);function iV({children:e}){return(0,r.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4 xg2d0mh",children:[e,(0,r.jsx)(iG.E,{variant:"brandOutline",children:(0,F.tx)("fullscreen_actions.new")})]})}var iK=i(506456),iW=i(46722),iq=i(2124),iY=i(958580),iX=i(478542),iJ=i(995605);let iZ=(0,a.memo)(function(e){return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 6A1.5 1.5 0 0 1 18 7.5v6a.5.5 0 0 1-1 0V10h-6v7h2.5a.5.5 0 0 1 0 1h-6A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6zM10 17v-7H7v6.5a.5.5 0 0 0 .5.5zM7 9h10V7.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5zm9.7 7.7.315-1.26c.126-.505.844-.505.97 0l.315 1.26 1.26.315c.505.126.505.844 0 .97l-1.26.315-.315 1.26c-.126.505-.844.505-.97 0L16.7 18.3l-1.26-.315c-.505-.126-.505-.844 0-.97z",clipRule:"evenodd"})})});var iQ=i(411599),i$=i(647103),i0=i(862468),i1=i(632137),i2=i(872019),i3=i(752260),i5=i(555062),i4=i(587457);let i6=(0,a.memo)(function(e){return(0,i4.O)()?(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M18 7a2 2 0 1 1-4 0 2 2 0 0 1 4 0m-2 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 7a.5.5 0 0 1 .5.5v1h1a.5.5 0 1 1 0 1h-1v1a.5.5 0 1 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 .5-.5M8.564 7.62l-.589 2.355-2.355.589c-1.495.374-1.495 2.498 0 2.872l2.355.588.59 2.356c.373 1.494 2.497 1.494 2.87 0l.59-2.356 2.355-.588c1.495-.374 1.495-2.498 0-2.872l-2.355-.589-.59-2.355c-.373-1.495-2.497-1.495-2.87 0m.97.242L8.8 10.8l-2.937.734c-.485.121-.485.81 0 .931L8.8 13.2l.734 2.937c.122.485.81.485.932 0L11.2 13.2l2.937-.735c.485-.12.485-.81 0-.93L11.2 10.8l-.734-2.938c-.121-.484-.81-.484-.932 0",clipRule:"evenodd"})}):(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m9.064 7.12-.589 2.356-2.355.589c-1.495.373-1.495 2.498 0 2.871l2.355.589.59 2.355c.373 1.495 2.497 1.495 2.87 0l.59-2.355 2.355-.589c1.495-.373 1.495-2.498 0-2.871l-2.355-.59-.59-2.354c-.373-1.495-2.497-1.495-2.87 0m.97.243L9.3 10.3l-2.937.735c-.485.12-.485.81 0 .931L9.3 12.7l.734 2.938c.122.484.81.484.932 0L11.7 12.7l2.937-.734c.485-.121.485-.81 0-.931L11.7 10.3l-.734-2.937c-.121-.485-.81-.485-.932 0M15.5 7a.5.5 0 1 0 0 1 .5.5 0 0 0 0-1m1.5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0M15.5 14a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 1 1 0 1H16v.5a.5.5 0 0 1-1 0V16h-.5a.5.5 0 0 1 0-1h.5v-.5a.5.5 0 0 1 .5-.5",clipRule:"evenodd"})})});var i7=i(6042),i8=i(114128),i9=i(183557),ne=i(459490),nt=i(281495),ni=i(2590),nn=i(507950),nr=i(494216),na=i(462154),ns=i(688194),no=i(955528),nl=i(301359),nd=i(391621),nc=i(512956),nu=i(318123),np=i(862289),nm=i(757236),nh=i(588564),nf=i(589087),ng=i(565440),n_=i(286488),nx=i(721854);function ny({action:e,actionType:t,actionIcon:i,actionLabel:n,instructionLabel:a}){let[s]=(0,c.fp)(nc.hQ),o=(0,n_.s)(e),{close:l}=(0,j.cq)(),d=(0,Q._M)({action:e,clientLifecycleId:void 0});return s?(l(),null):e&&o.state!==n_.w.SELECTION_OK?(0,r.jsx)(nx.A,{action:e,actionIcon:i,actionLabel:n,onPerform:()=>{o.confirmInitialSelection(),(0,nc.J7)(t),l()},aiTrackingContext:d,instructionAction:{type:"learn_more",url:Y.UW},children:a}):null}var nb=i(948389),nC=i(278499),nv=i(690713),nE=i(904596),nT=i(296182),nw=i(382217),nj=i(990497);let nS=async({params:{mermaidText:e}})=>{let t=(0,nb.Ay)(),i=await eX.Ay.figjam.createVisual({prompt:"",visualType:"diagram",directMermaidText:e},t);(0,nj.Rz)("diagram",i)};var nk=i(172092),nI=i(664693),nN=i(691470),nA=i(492908),nO=i(150656),nL=i(273493),nR=i(189185),nM=i(19536),nD=i(536384),nP=i.n(nD),nF=i(9054),nB=i(21595),nU=i(449184),nG=i(191804),nH=i(485103),nz=i(806412),nV=i(50224);function nK(e,t){return(0,nV.YJ)({nodeIds:Object.keys(e),options:{skipNodeIds:!1,detachInstances:!0,includeType:!0,skipNodeIdsWithoutType:t,classPropName:"class",autoLayoutTagName:"div",frameTagName:"div"}})}var nW=i(705029),nq=i(657224);let nY="first_draft_prompt_history_";var nX=i(426868),nJ=i(153551);async function nZ(e,t,i){let n=(0,eq.UN)();for(let r of i.flatMap(e=>e.nodeWeightInfos)){let i=n.get(r.nodeId);if(!i)continue;let a=function(e,t,i,n){if(!nJ.z[t])return;let r=nJ.z[e];if(r)return r[i][n]}(t,i.fontName.family,e,r.weight),s={family:t,style:a?.style??i.fontName.style};try{await (0,nX.uW)(s),nR.l7.user("first-draft-theme-modal-adjust-font-family",()=>{i.fontName=s})}catch(n){let e={family:t,style:"Regular"};try{await (0,nX.uW)(e),nR.l7.user("first-draft-theme-modal-adjust-font-family",()=>{i.fontName=e})}catch(t){let e=void 0===t?"undefined":t instanceof Error?t.message:JSON.stringify(t);nU.az.trackDefinedEvent("ai_generation.first_draft_font_error",{error:e,family:s.family,style:s.style,location:"adjust-font"})}}nR.l7.user("first-draft-theme-modal-adjust-font-family",()=>{a?.letterSpacing!==void 0&&(i.letterSpacing=a.letterSpacing)})}}var nQ=i(857146),n$=i(234038),n0=i(636108),n1=i(18582),n2=i(234690),n3=i(541950),n5=i(846140),n4=i(774411),n6=i(196201),n7=i(109758);let n8=new n6.q(40);async function n9({changes:e,makeChangesSessionId:t,clientLifecycleId:i,containingNodeId:n,instrumentationRef:r}){let a=(0,eq.UN)().get(e.affectedId);if(!a)return!1;let s=`${t}:${e.affectedId}`;if(n8.has(s))return(0,eu.$D)(o.e.AI_GENERATION,Error("first-draft: Attempted to apply content changes twice"),{extra:{clientLifecycleId:i}}),!1;if(n8.set(s,!0),!a.getSharedPluginData("jsx","isImage"))return nR.l7.ai("first-draft-iterate-text-content",()=>(function({node:e,textContent:t}){return"TEXT"!==e.type?((0,eY.xi)("first-draft","Update text called on a non-text node",{nodeId:e.guid,nodeType:e.type}),!1):(e.characters=t,!0)})({node:a,textContent:e.content})),!0;{let t=a.getSharedPluginData("jsx","background");return await r.current.logImageLoad(()=>(0,n7.Og)({node:a,description:e.content,background:t,clientLifecycleId:i,containingNodeId:n,endpoint:eX.Ay.design.firstDraftCreateImage})),!0}}async function re(e,t){try{let{parseJSX:n}=await Promise.all([i.e(891),i.e(3132),i.e(2325)]).then(i.bind(i,802325));return n(e,t)}catch{return null}}var rt=i(215872),ri=i(423538);async function rn({action:e,insertJSX:t,options:{dsKitKey:i,currentTheme:n,imageArgs:r,rootNodeId:a}}){try{let{affectedId:s,jsxToInsert:o}=e,l=(0,eq.UN)().get(s);if(!l)throw Error("Could not find affected node in the scene");let d=(0,eq.UN)().get(a);if(!d)throw Error("Could not find root node in the scene");let c=(0,n3.BY)(d),u=l.parentNode;if(!u)throw Error("Could not find affected node in the scene");let p=u.childrenGuids.indexOf(s);if(-1===p)throw Error("Could not find affected node in the scene");let m="below";"insert"===e.type&&(m=e.insertBehavior);let h=await re(o);if(!h||0===h.length)throw Error("Failed to parse JSX");let f=(0,rt.fv)(h);if(0===f.size)throw Error("Only building blocks can be inserted or replaced");await t({jsxStr:"```jsx\n"+o+"\n```",options:{...(0,ri.Dp)(),insertBehavior:"inline",dsKitKey:i,themeProperties:n,deviceType:c,parentNodeId:u.guid,insertAtIndex:"above"===m?p:p+1,imageArgs:r}}),"replace"===e.type&&nR.l7.ai("first-draft-make-changes-remove",()=>{l.removeSelfAndChildren()})}catch(t){throw(0,eu.$D)(o.e.AI_GENERATION,t,{extra:{action:e,dsKitKey:i}}),t}}var rr=i(671180),ra=i(483857);function rs(){let e=(0,ev.eY)(),t=Object.entries((0,ev.KH)()).filter(([e,t])=>t).map(([e])=>e),i=null;for(let n of t)if(i=function(t){let i="",n=t;for(;!i&&n;){let t=e.get(n);if(!t)break;t.getSharedPluginData(ra.SV,"userPrompt")&&(i=n),n=t.parentGuid||""}return i||null}(n))break;return i}var ro=i(193952),rl=i(455680),rd=i(144974),rc=i(360824);function ru(){return(0,r.jsx)("div",{className:"animation_overlay--Sweep--yk3ZW"})}var rp=i(788559),rm=i(838407),rh=i(797086),rf=i(950573),rg=i.n(rf),r_=(e=>(e.mobile="MOBILE",e.web="WEB",e))(r_||{});function rx(e=1){let t=[{label:(0,F.t)("first_draft.make_changes.prompt_labels.change_font"),prompt:(0,F.t)("first_draft.make_changes.prompts.futuristic_font")},{label:(0,F.t)("first_draft.make_changes.prompt_labels.colors"),prompt:(0,F.t)("first_draft.make_changes.prompts.calming_colors")},{label:(0,F.t)("first_draft.make_changes.prompt_labels.round_corners"),prompt:(0,F.t)("first_draft.make_changes.prompts.round_corners")},{label:(0,F.t)("first_draft.make_changes.prompt_labels.colors"),prompt:(0,F.t)("first_draft.make_changes.prompts.watermelon_theme")},{label:(0,F.t)("first_draft.make_changes.prompt_labels.rewrite"),prompt:(0,F.t)("first_draft.make_changes.prompts.punchier_text")},{label:(0,F.t)("first_draft.make_changes.prompt_labels.imagery"),prompt:(0,F.t)("first_draft.make_changes.prompts.vibrant_images")},{label:(0,F.t)("first_draft.make_changes.prompt_labels.add"),prompt:(0,F.t)("first_draft.make_changes.prompts.add_another_section")},{label:(0,F.t)("first_draft.make_changes.prompt_labels.replace"),prompt:(0,F.t)("first_draft.make_changes.prompts.replace_hero_image")}];return eV()(rg()(t.filter(e=>""!==ry(e.label))),e=>e.label).slice(0,e)}function ry(e){return e.trim().toLowerCase()}var rb=i(867927),rC=i(932270),rv=i(270045),rE=i(920165),rT=i(443068),rw=i(606826),rj=i(192547),rS=i(520159),rk=i(640017),rI=i(511649),rN=i(286442),rA=i(614936),rO=i(479155),rL=i(341245),rR=i(780920);function rM({children:e}){let t=(0,a.useRef)(null),{tracker:i,index:n}=(0,rO.L0)(t),s=a.useMemo(()=>({trackerRef:i,layoutIndex:n}),[n,i]);return(0,r.jsx)(rO.MQ.Provider,{value:s,children:e})}let rD=a.createContext({isFocused:!1});function rP({children:e,defaultActiveIndex:t=0,itemsPerRow:i}){let n=(0,a.useRef)(null),[s,o]=a.useState(!1);a.useEffect(()=>{let e=()=>n.current?.blur();return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),a.useEffect(()=>{let e=n.current;if(!e)return;let t=()=>o(!0),i=()=>o(!1);return e.addEventListener("focus",t),e.addEventListener("blur",i),()=>{e.removeEventListener("focus",t),e.removeEventListener("blur",i)}},[]);let l=(0,a.useMemo)(()=>({isFocused:s,itemsPerRow:i}),[s,i]);return(0,r.jsx)(rA._,{fillWidth:!0,children:(0,r.jsx)("div",{className:"keyboard_navigation_on_focus--parent--XamDV",tabIndex:0,ref:n,children:(0,r.jsx)(rM,{children:(0,r.jsx)(rR.A.Provider,{value:t,children:(0,r.jsx)(rD.Provider,{value:l,children:e})})})})})}function rF({children:e,primaryAction:t,className:i,htmlAttributes:n,...s}){let o=(0,a.useRef)(null),{isFocused:l,itemsPerRow:d}=a.useContext(rD),{active:c,target:u}=(0,rN.H)({ref:o,itemsPerRow:d}),p=a.useCallback(()=>{l&&t()},[l,t]),m=(0,a.useMemo)(()=>({shortcuts:[{key:M.Uz.ENTER}],onAction:p,allowDefault:!0}),[p]);return(0,rL.k)({primaryAction:m,active:c,actionLabel:!1,target:u}),(0,r.jsx)(rI.D8,{forwardedRef:o,className:nP()(i,{"keyboard_navigation_on_focus--active--vGhwX":c}),...n,...s,children:e})}var rB=i(989956),rU=i(650460),rG=i(728075);let rH=[rG.jR,rG.N0,rG.k0,rG.RO,rG.Sb].map(e=>({string:e,color:rB.F.parse(e)}));function rz({theme:e,onChangeColor:t,activeColorIdx:i,activeColorOutline:n,idx:s,colorSwatch:o}){let l=a.useCallback(()=>{t(o.color),rl.Y5.triggerAction("commit")},[o.color,t]);return(0,r.jsx)(rF,{primaryAction:l,children:(0,r.jsx)(rU.cd,{size:"medium",value:o.color,background:"dark"===e?"dark":"light",onClick:l,paletteType:"base",swatchStyle:{...i===s&&{outline:n,outlineOffset:"2px"},boxSizing:"border-box",boxShadow:"none"}},o.string)})}function rV(e){return(0,r.jsx)(rF,{primaryAction:e.onClick,children:(0,r.jsx)("div",{className:P.s.radiusFull.$,children:-1===e.activeColorIdx?(0,r.jsx)(rU.cd,{size:"medium",value:e.value,paletteType:"base",selectionState:"selected_custom",background:"dark"===e.theme?"dark":"light",onClick:e.onClick,swatchStyle:{boxSizing:"border-box",boxShadow:"none"}}):(0,r.jsx)(rU.ZI,{size:"medium",onClick:e.onClick,swatchStyle:{boxSizing:"border-box",boxShadow:"none"}})})})}function rK({theme:e,onChangeColor:t,setShowCustomColorPicker:i,value:n}){let s=a.useCallback(()=>{i(!0)},[i]),o=(0,nM.zN)(n,nG.DA),{activeColorIdx:l,activeColorOutline:d}=a.useMemo(()=>({activeColorIdx:rH.findIndex(e=>(0,nG.DA)(e.color,o)),activeColorOutline:`2px solid ${rB.F.format(o)}`,value:o}),[o]),c=Math.max(l,0);return(0,r.jsx)(rP,{defaultActiveIndex:c,children:(0,r.jsx)("div",{className:P.s.flex.flexGrow1.justifyBetween.$,style:{boxSizing:"content-box"},children:(0,r.jsxs)(r.Fragment,{children:[rH.map((i,n)=>(0,r.jsx)(rz,{theme:e,onChangeColor:t,activeColorIdx:l,activeColorOutline:d,idx:n,colorSwatch:i},i.string)),(0,r.jsx)(rV,{activeColorIdx:l,value:o,theme:e,onClick:s})]})})})}var rW=i(702372),rq=(e=>(e.COLOR="color",e.RADIUS="radius",e.SPACING="spacing",e.FONT="font",e))(rq||{}),rY=(e=>(e.TITLE="title",e.BODY="body",e.LABLE="label",e))(rY||{});let rX="theme_editor--svgText--yyKtR",rJ=a.createContext({activeTab:rq.COLOR,onTabChange:()=>{},recordingKey:void 0});function rZ({label:e,children:t,tab:i}){let{onTabChange:n,activeTab:s,recordingKey:o}=a.useContext(rJ),l=a.useCallback(()=>{n(i)},[n,i]);return(0,r.jsx)(rF,{"aria-label":e,primaryAction:l,className:nP()("theme_editor--iconButton--SYPlk theme_editor--baseIconButton--15rMM",s===i&&"theme_editor--iconActive--8Nsgk"),onClick:l,recordingKey:nz.Pt(o,i),htmlAttributes:a.useMemo(()=>({"data-tooltip":e,"data-tooltip-type":eI.Ib.TEXT,"data-tooltip-show-above":!0,"data-clickable":!0}),[e]),children:t})}var rQ=i(708845),r$=i(848862),r0=i(259578),r1=i(284426),r2=i(987482),r3=i(273689);function r5(e,t){return t===d.NVY.HSL?(0,nL.oB)(e):(0,nL.qN)(e)}function r4({brandColor:e,absoluteContainerId:t,onChangeColor:i,onHide:n}){let o=(0,s.wA)(),l=(0,r$.Um)(),c=a.useRef(document.getElementById(t||"fullscreen-root"));(0,N.kz)(M.Uz.ESCAPE,n),(0,N.kz)(M.Uz.BACKSPACE,n,document.activeElement?.tagName.toLowerCase()!=="input");let[u,p]=a.useState(d.NVY.HEX),[m,h]=a.useState(r5(e,u)),[f,g]=a.useState({left:0,top:0}),_=a.useRef(),x=()=>{let e=_.current?.getBoundingClientRect();e&&g({left:e.left,top:e.bottom-120})},y=a.useCallback(e=>{e&&(_.current=e,x())},[]);(0,rQ.wY)(_,()=>x()),(0,rQ.wY)(c,()=>x());let b=(0,nB.A)(async(e,t)=>{await i(e),t&&rl.Y5.triggerAction("commit")},100),C=a.useCallback((e,t)=>{h(e),b((0,nL.w_)(e),t)},[b]),v=a.useCallback(e=>{e.a=1,b(e,!0),h((0,r0.QS)(m,r5(e,u),e))},[m,u,b]),E={color:e,value:m,changeCallback:C,hideOpacity:!0,colorFormat:u,dispatch:o,currentTool:d.NLJ.CODE_BLOCK,dropdownShown:l,onColorChange:v,canAcceptStyles:!1,canAcceptVariables:!1};return(0,r.jsxs)("div",{className:P.s.flex.pr16.pl16.pt8.pb4.flexRow.justifyCenter.itemsEnd.flexGrow1.gap16.$,children:[(0,r.jsxs)("div",{className:P.s.flex.flexRow.justifyCenter.itemsCenter.flexGrow1.gap8.$,children:[(0,r.jsx)(rT.K,{"aria-label":(0,F.t)("first_draft.theme_tool.close_panel"),onClick:()=>n(),recordingKey:"closeSectionEditor",children:(0,r.jsx)(rS.C,{})}),(0,r.jsxs)("div",{className:P.s.flex.flexColumn.justifyBetween.wFull.itemsEnd.gap4.$,children:[(0,r.jsx)("div",{className:P.s.flex.justifyBetween.itemsCenter.wFull.$,children:(0,r.jsx)(r2.e,{width:168,color:m,changeCallback:C})}),(0,r.jsxs)("div",{className:P.s.flex.justifyBetween.itemsCenter.wFull.gap8.$,style:{maxWidth:210},children:[(0,r.jsx)(r1.p,{selectClassName:nP()(P.s.flexShrink1.flexGrow0.flex.$,"theme_editor--colorSelect--wIbMH","theme_editor--precedence--lvYGC"),colorFormat:u,onColorFormatChange:e=>{p(e),"l"in m&&e!==d.NVY.HSL?h((0,nL.qN)((0,nL.w_)(m))):e!==d.NVY.HSL||"l"in m||h((0,nL.oB)((0,nL.w_)(m)))},dispatch:o,dropdownShown:l}),u===d.NVY.HEX&&(0,r.jsx)(r0.dt,{...E}),u===d.NVY.RGB&&(0,r.jsx)(r0.VA,{...E}),u===d.NVY.CSS&&(0,r.jsx)(r0.he,{...E}),(u===d.NVY.HSL||u===d.NVY.HSB)&&(0,r.jsx)(r0.fC,{...E})]})]})]}),(0,r.jsx)("div",{className:P.s.flex.justifyCenter.itemsCenter.relative.mr8.$,ref:y,children:(0,r.jsx)("div",{style:{width:115},children:(0,r.jsxs)("div",{style:{position:"fixed",width:115,height:115,...f},children:[(0,r.jsx)("div",{className:nP()("theme_editor--pickerUnderlay--gfCHS",P.s.colorBg.elevation200.absolute.p2.$),style:{width:115,height:115,borderRadius:14}}),(0,r.jsx)("div",{className:nP()("theme_editor--pickerOverlay--Ykwy9",P.s.flex.colorBg.absolute.p2.overflowHidden.justifyCenter.alignCenter.$),style:{width:115,height:115,borderRadius:14},children:(0,r.jsx)(r3.T,{containerClass:"theme_editor--pickerWrapper--fs-6V",size:115,color:m,changeCallback:C,canvasWrapperStyles:{outlineWidth:0,borderRadius:"13px"},ghostStyles:{boxShadow:"none"}})})]})})})]})}var r6=i(499035);function r7(e){let t=(0,rk.DP)(),i=e.brandColor,n=rW.ER.get(Math.round(2*e.cornerRadiusStop)/2),s=rW.NT.get(Math.round(2*e.spacingStop)/2),o=a.useMemo(()=>({activeTab:e.activeTab,onTabChange:e.onTabChange,recordingKey:e.recordingKey}),[e.activeTab,e.onTabChange,e.recordingKey]);return(0,r.jsx)(rJ.Provider,{value:o,children:(0,r.jsx)(rP,{defaultActiveIndex:function(e){switch(e){case rq.COLOR:return 0;case rq.RADIUS:return 1;case rq.SPACING:return 2;case rq.FONT:return 3}}(e.activeTab),children:(0,r.jsxs)(ee.B,{fullWidth:!0,justify:"space-between",children:[(0,r.jsx)(rZ,{tab:rq.COLOR,label:(0,F.t)("first_draft.theme_panel.color"),children:(0,r.jsx)(rU.cd,{size:"medium",value:i,paletteType:"base",background:"dark"===t?"dark":"light",swatchStyle:{boxSizing:"border-box",boxShadow:"none"}})}),(0,r.jsx)(rZ,{tab:rq.RADIUS,label:(0,F.t)("first_draft.theme_panel.radius"),children:(0,r.jsx)(eh.B,{svg:n,className:"theme_editor--svgIcon--ongu6"})}),(0,r.jsx)(rZ,{tab:rq.SPACING,label:(0,F.t)("first_draft.theme_panel.spacing"),children:(0,r.jsx)(eh.B,{svg:s,className:rX})}),(0,r.jsx)(rZ,{tab:rq.FONT,label:(0,F.t)("first_draft.theme_panel.font"),children:(0,r.jsx)(eh.B,{svg:r6.A,className:rX})})]})})})}let r8={[rq.COLOR]:function(e){let t=(0,rk.DP)(),[i,n]=a.useState(!1),{focusParent:s}=e,o=a.useCallback(()=>{n(!1),s?.()},[s]);return i?(0,r.jsx)(r4,{onHide:o,...e}):(0,r.jsxs)("div",{className:P.s.flex.flexRow.flexGrow1.p16.pt12.pb12.gap16.itemsCenter.$,children:[(0,r.jsx)(ar,{recordingKey:e.recordingKey}),(0,r.jsx)("div",{className:P.s.flex0.flexShrink0.$,children:(0,r.jsxs)(rb.bL,{onChange:e.onChangeColorMode,value:e.colorMode,recordingKey:nz.Pt(e,"colorModePicker"),legend:(0,r.jsx)(rC.q,{children:(0,F.tx)("first_draft.theme_tool.color.mode_picker")}),children:[(0,r.jsx)(rb.c$,{value:"light","aria-label":(0,F.t)("first_draft.theme_tool.color.light_mode"),icon:(0,r.jsx)("div",{className:P.s.flex.w44.itemsCenter.justifyCenter.$,children:(0,r.jsx)(rw.Z,{})})}),(0,r.jsx)(rb.c$,{value:"dark","aria-label":(0,F.t)("first_draft.theme_tool.color.dark_mode"),icon:(0,r.jsx)("div",{className:P.s.flex.w44.itemsCenter.justifyCenter.$,children:(0,r.jsx)(rj.a,{})})})]})}),(0,r.jsx)(rK,{value:e.brandColor,onChangeColor:e.onChangeColor,theme:t,setShowCustomColorPicker:n})]})},[rq.RADIUS]:function(e){let[t,i]=a.useState(e.cornerRadiusStop);return(0,r.jsxs)("div",{className:P.s.flex.flexRow.flexGrow1.itemsCenter.p16.gap16.$,children:[(0,r.jsx)(ar,{recordingKey:e.recordingKey}),(0,r.jsx)(rv.J,{className:P.s.opacity0_5.$,children:(0,F.tx)("first_draft.theme_panel.radius")}),(0,r.jsx)(rE.A,{"aria-label":(0,F.t)("first_draft.theme_panel.radius"),bigStep:.2,defaultValue:t,max:rW.Ne,min:rW.Xy,onChange:e.onChangeCornerRadiusStop,rangeAnchor:rW.Xy,recordingKey:nz.Pt(e,"cornerRadiusSlider"),step:.1,value:e.cornerRadiusStop})]})},[rq.SPACING]:function(e){let[t,i]=a.useState(e.spacingStop);return(0,r.jsxs)("div",{className:P.s.flex.flexRow.flexGrow1.itemsCenter.p16.gap16.$,children:[(0,r.jsx)(ar,{recordingKey:e.recordingKey}),(0,r.jsx)(rv.J,{className:P.s.opacity0_5.$,children:(0,F.tx)("first_draft.theme_panel.spacing")}),(0,r.jsx)(rE.A,{"aria-label":(0,F.t)("first_draft.theme_panel.spacing"),bigStep:.2,defaultValue:t,max:rW.Ne,min:rW.Xy,onChange:e.onChangeSpacingStop,rangeAnchor:rW.Xy,recordingKey:nz.Pt(e,"spacingSizeSlider"),step:rW.jF,value:e.spacingStop})]})},[rq.FONT]:function(e){let[t,i,n]=nO.t.useTabs({[rY.TITLE]:null!==e.titleFont,[rY.BODY]:null!==e.bodyFont,[rY.LABLE]:null!==e.labelFont},{recordingKey:nz.Pt(e,"fontEditor")});return(0,r.jsxs)("div",{className:P.s.flex.flex1.flexColumn.$,children:[(0,r.jsxs)("div",{className:P.s.flex.flex1.flexRow.gap8.p8.$,children:[(0,r.jsx)(ar,{recordingKey:e.recordingKey}),(0,r.jsxs)(nO.t.TabStrip,{manager:n,children:[(0,r.jsx)(nO.t.Tab,{...t.title,children:(0,F.tx)("first_draft.theme_panel.label.fontTitle")}),(0,r.jsx)(nO.t.Tab,{...t.body,children:(0,F.tx)("first_draft.theme_panel.label.fontBody")}),(0,r.jsx)(nO.t.Tab,{...t.label,children:(0,F.tx)("first_draft.theme_panel.label.fontLabel")})]})]}),(0,r.jsx)("div",{className:P.s.wFull.colorBgTertiary.h1.$}),(0,r.jsxs)("div",{className:P.s.flex.flex1.flexColumn.gap8.p8.$,children:[(0,r.jsx)(nO.t.TabPanel,{...i.title,children:(0,r.jsx)(at,{...e})}),(0,r.jsx)(nO.t.TabPanel,{...i.body,children:(0,r.jsx)(ai,{...e})}),(0,r.jsx)(nO.t.TabPanel,{...i.label,children:(0,r.jsx)(an,{...e})})]})]})}};function r9(e){let t=a.useRef(null),i=a.useCallback(()=>{t.current?.focus()},[]);if(a.useLayoutEffect(i,[i]),!e.section)return null;let n=r8[e.section];return(0,r.jsx)("div",{ref:t,tabIndex:-1,className:nP()("theme_editor--boxInherit--BjYCO",P.s.flex.relative.wFull.$),children:(0,r.jsx)(n,{focusParent:i,...e})})}function ae({selectedKey:e,items:t,recordingKey:i}){let n=t.findIndex(({key:t})=>t===e);return(0,r.jsx)(rP,{defaultActiveIndex:n>-1?n:0,itemsPerRow:5,children:(0,r.jsx)("div",{className:P.s.flex.flex1.flexWrap.itemsCenter.rowGap8.justifyBetween.$,children:t.map(({key:t,name:n,svg:a,onClick:s})=>(0,r.jsx)(rF,{"aria-label":n,recordingKey:nz.Pt(i,t),className:nP()("theme_editor--fontIconButton--Vc-KE theme_editor--iconButton--SYPlk theme_editor--baseIconButton--15rMM",rX,e===t&&"theme_editor--selected--2BGbx"),primaryAction:s,onClick:s,htmlAttributes:{"data-tooltip":n,"data-tooltip-show-above":!0,"data-tooltip-type":eI.Ib.TEXT},children:(0,r.jsx)(eh.B,{svg:a})},t))})})}function at(e){let t=`FontTitle_${e.titleFont}`,i=Array.from(rW.X4).map(([t,i])=>({key:`FontTitle_${t}`,name:t,svg:i,onClick:()=>e.onChangeTitleFont(t)}));return null===e.titleFont?null:(0,r.jsx)(ae,{selectedKey:t,items:i,recordingKey:e.recordingKey})}function ai(e){let t=`FontBody_${e.bodyFont}`,i=Array.from(rW.K4).map(([t,i])=>({key:`FontBody_${t}`,name:t,svg:i,onClick:()=>e.onChangeBodyFont(t)}));return null===e.bodyFont?null:(0,r.jsx)(ae,{selectedKey:t,items:i,recordingKey:e.recordingKey})}function an(e){let t=`FontLabel_${e.labelFont}`,i=Array.from(rW.pz).map(([t,i])=>({key:`FontLabel_${t}`,name:t,svg:i,onClick:()=>e.onChangeLabelFont(t)}));return null===e.labelFont?null:(0,r.jsx)(ae,{selectedKey:t,items:i,recordingKey:e.recordingKey})}function ar({recordingKey:e}){let{pop:t}=(0,j.cq)();return(0,N.kz)(M.Uz.ESCAPE,t),(0,N.kz)(M.Uz.BACKSPACE,t),(0,r.jsx)("div",{className:P.s.h24.$,children:(0,r.jsx)(rT.K,{recordingKey:nz.Pt(e,"backButton"),onClick:t,"aria-label":(0,F.t)("qa.go_back"),children:(0,r.jsx)(rS.C,{})})})}var aa=i(63984);function as(e){let{close:t}=(0,j.cq)();(0,ev.f4)(i=>{if(e)for(let e of Object.keys(i.mirror.sceneGraphSelection)){let i=(0,eq.UN)().get(e);if(i&&!i.isOrInFirstDraft){t();return}}})}var ao=(e=>(e[e.READY_FOR_PROMPT=0]="READY_FOR_PROMPT",e[e.RUNNING=1]="RUNNING",e[e.FINISHED=2]="FINISHED",e[e.ERROR=3]="ERROR",e[e.ICANTDOTHIS=4]="ICANTDOTHIS",e))(ao||{}),al=(e=>(e.PROMPT="prompt",e.THEME="theme",e))(al||{});function ad(e,t){switch(t.type){case"NEW_ROOT_NODE":case"EDIT_INFO_UPDATED":return t.payload;case"SET_BRAND_COLOR":return{...e,brandColor:t.payload};case"SET_RADIUS":return{...e,radius:t.payload};case"SET_SPACING":return{...e,spacing:t.payload};case"SET_COLOR_MODE":return{...e,colorMode:t.payload};case"SET_TITLE_FONTS":return{...e,titleFonts:t.payload};case"SET_BODY_FONTS":return{...e,bodyFonts:t.payload};case"SET_LABEL_FONTS":return{...e,labelFonts:t.payload}}}let ac={brandColor:nG.UE,colorMode:n1.lH.LIGHT,spacing:1,radius:1,titleFonts:[],bodyFonts:[],labelFonts:[]};function au(e,{pinnedRanges:t}={}){let i=(0,eq.UN)().get(e);if(!i)return ac;let n=(0,n3.BY)(i),r=(0,n3.uP)(i,{pinnedRanges:t}),a=(0,n3.Mz)(i,n),s=(0,n2.X6)(i)??nG.UE;return{brandColor:(0,nG.tK)((0,n$.tb)(s,r.colors))??nG.UE,colorMode:(0,n0.P)(i)??n1.lH.LIGHT,spacing:(0,nQ.YB)(r.spacingRangesForGuids),radius:(0,nQ.nd)(r.radiusValues),titleFonts:a.title,bodyFonts:a.body,labelFonts:a.label}}function ap({initialRootGuid:e}){let t=(0,Q._M)({action:Y.JT.FIRST_DRAFT_MAKE_CHANGES,clientLifecycleId:void 0}),i=t.clientLifecycleId,n=(0,G.tS)(),s=a.useCallback(()=>{(0,nU.sx)("First Draft: Error",{file_key:n,clientLifecycleId:i,view:"firstDraftMakeChanges"},{forwardToDatadog:!0,sendAsBeacon:!0,mlEvent:!0})},[n,i]);return(0,r.jsx)(u.tH,{boundaryKey:"FirstDraftMakeChanges",fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{clientLifecycleId:i,area:o.e.AI_GENERATION},onError:s,children:(0,r.jsx)(am,{recordingKey:"firstDraftMakeChangesView",initialRootGuid:e,aiTrackingContext:t})})}function am(e){let t=e.aiTrackingContext,i=t.clientLifecycleId,[n,l]=a.useState(""),c=(0,G.tS)(),u=(0,ev.eY)(),{allUsableKitEntries:p}=(0,rh.sI)(),m=rs()||e.initialRootGuid,h=(0,ev.KH)(),f=(0,a.useMemo)(()=>m?u.get(m):null,[u,m]),{applyMakeChanges:g,resetMakeChanges:_,instrumentationRef:x}=function({clientLifecycleId:e}){let[t]=(0,a.useState)({current:(0,D.g)()}),{insertJSX:i,resetAsync:n,instrumentationRef:r}=(0,rr.Vh)({clientLifecycleId:e,insertType:"makeChanges"});return{applyMakeChanges:(0,a.useCallback)(async(a,s)=>{let l=[];for(let e of("affectedId"in a&&l.push(a.affectedId),"destinationId"in a&&l.push(a.destinationId),l)){if(!function e(t,i,n){let r=t.get(i);return!!r&&(r.guid===n||!!r.parentGuid&&e(t,r.parentGuid,n))}((0,eq.UN)(),e,s.rootNodeId)){(0,eu.$D)(o.e.AI_GENERATION,Error("first-draft: Node does not have root node as ancestor"),{extra:{nodeId:e,action:a,...s}});return}if(e===s.rootNodeId){(0,eu.$D)(o.e.AI_GENERATION,Error("first-draft: Tried to mutate root node"),{extra:{nodeId:e,action:a,...s}});return}}switch(await n(),a.type){case"theme":{let{content:e}=a;e&&function(e,t,i){let n=(0,eq.UN)().get(e);if(!n)return;let r=(0,n3.BY)(n);if(["borderRadii","spacing","colors","fontFamilies"].some(e=>e in i)){let e=(0,n3.k5)(t,i);(0,n3.jR)(n,e,r)}let a=t.darkMode?n1.lH.DARK:n1.lH.LIGHT,s=t.brandColor??function(e){let t=(0,n3.uP)(e,{ignoreOpacity:!0}),i=(0,n2.X6)(e)??nG.UE;return(0,n$.tb)(i,t.colors)}(n),o="darkMode"in i?i.darkMode?n1.lH.DARK:n1.lH.LIGHT:void 0;if(o&&a!==o&&nR.l7.ai("first-draft-make-changes-theme-switch-mode",()=>{(0,n0.t)(n,o,s)}),"brandColor"in i&&i.brandColor){let e=(0,nG.tK)(i.brandColor);if(e){let t=(0,n2.qO)(e,o??a);nR.l7.ai("first-draft-make-changes-theme-brand-color",()=>{(0,n$.l9)(n,t,o??a??n1.lH.LIGHT,{},s)})}}}(s.rootNodeId,s.currentTheme,e);break}case"text_or_image":await n9({changes:a,makeChangesSessionId:t.current,clientLifecycleId:e,containingNodeId:s.rootNodeId,instrumentationRef:r});break;case"insert":case"replace":await rn({action:a,options:s,insertJSX:i}),await n();break;case"remove":nR.l7.ai("first-draft-make-changes-remove",()=>{let e=(0,eq.UN)().get(a.affectedId);e&&e.removeSelfAndChildren()});break;case"move":{let{affectedId:e,destinationId:t,insertBehavior:i}=a;nR.l7.ai("first-draft-make-changes-move",()=>{let n=(0,eq.UN)(),r=n.get(e),a=n.get(t),s=a?.parentNode,o=s?.childrenGuids.indexOf(t)??-1;r&&s&&("above"===i?s.insertChild(r,o):"below"===i&&(o<s.childCount-1?s.insertChild(r,o+1):s.appendChild(r)))});break}case"replaceClasses":{let{affectedId:e,classes:t}=a,i=(0,eq.UN)().get(e),n=i?.isIconLike&&(0,n1.Dk)(i)===n1.lg.CONTENT?"Icon":void 0;nR.l7.ai("first-draft-make-changes-replace-classes",()=>{for(let i of t)(0,n4.w)(e,i,n)})}}},[e,t,i,r,n]),resetMakeChanges:(0,a.useCallback)(()=>{t.current=(0,D.g)()},[t]),instrumentationRef:r}}({clientLifecycleId:i}),[y,b]=a.useState(0),[C,v]=a.useState(Error((0,F.t)("first_draft.something_went_wrong"))),[E,T]=a.useState(null),[w,j,S]=nO.t.useTabs({prompt:!0,theme:!0},{defaultActive:"theme",recordingKey:nz.Pt(e,"tabs")}),[k,I]=a.useState(!1);as(2===y||3===y||4===y);let N=a.useRef(1),A=a.useRef(null);(0,a.useEffect)(()=>{A.current=n},[n]);let[L,R]=a.useState(Date.now()),M=(0,s.wA)(),P=a.useRef(k);(0,a.useEffect)(()=>{k!==P.current&&f&&(k?(0,rm.Vm)(f.guid,(0,r.jsx)(ru,{})):(0,rm.ks)(f.guid),P.current=k)},[k,f]);let B=a.useCallback(()=>{N.current+=1,x.current.trackFinished("stopped"),ag(t,"stopped"),b(0),I(!1)},[b,t,N,x]),U=a.useCallback(async()=>{_();let e=N.current,n={file_key:c,clientLifecycleId:i,generation_id:f?.firstDraftData?.generationId};try{if(x.current.start(),b(1),T(null),R(Date.now()),!f)throw Error("Root node not found");let r=f&&f.getSharedPluginData(ra.SV,"userPrompt")||"",a=af(f),s="LOCAL"===a.type,o=s?d.XJn.getKitKey(a.pageId):a.key,l=p.find(e=>"key"in e.dsKitKey&&e.dsKitKey.key===o);Object.assign(n,{dsKitType:a.type,isLocal:s,kitKey:o,kitIdentifier:l?.metadata?.identifier??null}),(0,nU.sx)("First Draft: Make Changes Started",{...n,hasNonRootNodeSelected:!(f.guid in h)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),(0,Q.Dl)(t);let{jsxStr:c}=nK({[f.guid]:!0},!1),{jsxStr:u}=nK({[f.guid]:!0},!0);if(!c||!u){(0,nU.sx)("First Draft: Make Changes Ended",{...n,timeElapsedMs:Date.now()-L,status:"failed",reason:"infer-jsx-failed",hasNonRootNodeSelected:!(f.guid in h)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),ag(t,"error"),b(2);return}let m=A.current||"",_=function(e){if(!(0,ed.k)().first_draft_prompt_history||!(0,ed.k)().first_draft_make_changes_history)return[];let t=(0,nq.Q_)();if(!t)return[];let i=`${nY}${e}`,n=t.getItem(i);if(!n)return[];try{return eZ.z.array(nW.Db).parse(JSON.parse(n))}catch{}return[]}(f.guid),y=function(e){let t=(0,n3.uP)(e,{ignoreOpacity:!0}),i=(0,n2.X6)(e)??nG.UE,n=(0,n$.tb)(i,t.colors),r=(0,n0.P)(e)??n1.lH.LIGHT;return{...(0,n3.rO)(e,t),version:2,brandColor:n,darkMode:"dark"===r}}(f),C=await eX.Ay.design.firstDraftMakeChanges({userPrompt:m,promptHistory:_,storedInitialPrompt:r,kitKey:o??"",isLocal:s,currentTheme:y,jsx:c,jsxInsertReplace:u},(0,ro.sF)({clientLifecycleId:i}));_.push({prompt:m}),function(e,t){let i=(0,nq.Q_)();if(!i)return;let n=`${nY}${e}`;i.setItem(n,JSON.stringify(t))}(f.guid,_);let v=C.getReader(),E=[];for(;;){let{done:i,value:s}=await v.read();if(e!==N.current){v.cancel();break}if(x.current.trackFirstByteReceived(),i&&x.current.trackLastStreamByteReceived(),(0,eY.Lo)("makeChanges","Response message",{message:s}),s?.trace&&T(s.trace),s?.action){if("replaceClasses"===s.action.type&&!(0,ed.k)().first_draft_surgical_edits){(0,eY.xi)("makeChanges","Unsupported action",{action:s.action.type}),(0,nH.Rh)("first_draft.client.make_changes.unsupported_action",{action:s.action.type}),E.push(Promise.reject(new nN.G1("make_changes_unsupported",{})));continue}if((0,nU.sx)("First Draft: Make Changes Prompt Action",{...n,action:s.action.type},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),"iCantDoThis"===s.action.type){let e=s.action.rationaleCategory;E.push(Promise.reject(new nN.G1("make_changes_unsupported",{rationaleCategory:e})))}else E.push(g(s.action,{dsKitKey:a,rootNodeId:f.guid,currentTheme:y,imageArgs:{initialUserPrompt:r}}))}if(i){let e=await Promise.allSettled(E);if(!E.length)throw(0,eY.xi)("makeChanges","No actions were applied from the prompt response"),(0,nH.Rh)("first_draft.client.make_changes.no_actions_applied"),new nN.G1("make_changes_unsupported",{});if(e.every(e=>"rejected"===e.status)){for(let t of e)if("rejected"===t.status)throw t.reason}(0,nU.sx)("First Draft: Make Changes Ended",{...n,status:"completed",timeElapsedMs:Date.now()-L,hasNonRootNodeSelected:!(f.guid in h)},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),ag(t,"success"),x.current.trackFinished("success"),b(2),rl.Y5.triggerAction("commit");break}}}catch(a){(0,eY.xi)("makeChanges","Error",{error:a});let e=a instanceof nN.G1,i={...n,timeElapsedMs:Date.now()-L,error:a.toString(),status:"failed",reason:"error"},r=e?"handled_internally":(0,eu.$D)(o.e.AI_GENERATION,a,{extra:i});(0,nU.sx)("First Draft: Make Changes Ended",{...i,sentryEventId:r},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),ag(t,"error"),x.current.trackFinished("failure"),e&&("make_changes_unsupported"===a.type||"make_changes_moderated"===a.type)?((0,nU.sx)("First Draft: Make Changes Prompt Action",{...n,action:"make_changes_unsupported"===a.type?"iCantDoThis":"blocked"},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),b(4)):b(3),v(a instanceof Error?a:Error("Unknown error"))}finally{e===N.current&&(N.current+=1)}},[c,i,N,x,f,h,t,L,g,_,p]),H=()=>{b(0),(0,rp.k)()},z=E&&(0,ed.k)().cortex_execution_tracing;switch(y){case 1:return(0,r.jsx)(nw.F,{onStop:B,aiTrackingContext:t,recordingKey:nz.Pt(e,"running"),children:(0,F.tx)("first_draft.making_changes")});case 3:return z&&(0,aa.A)(M,E),(0,r.jsx)(nv.E,{error:C,customMessage:(0,F.t)("first_draft.something_went_wrong"),recordingKey:nz.Pt(e,"error"),buttons:[{type:nv.f.GO_BACK,callback:H}],aiTrackingContext:t});case 4:return z&&(0,aa.A)(M,E),(0,r.jsx)(nv.E,{error:C,customMessage:(e=>{let t=(0,F.t)("first_draft.make_changes.i_cant_do_this");if(e instanceof nN.G1){if("make_changes_moderated"===e.type)return(0,F.t)("ai.error.unsafe_or_harmful");if(!(0,ed.k)().first_draft_make_changes_errors)return t;if("make_changes_unsupported"===e.type&&e.data?.rationaleCategory){let t=e.data.rationaleCategory;switch(t){case"component":return(0,F.t)("first_draft.make_changes.i_cant_do_this_component");case"font":return(0,F.t)("first_draft.make_changes.i_cant_do_this_font");case"layout":return(0,F.t)("first_draft.make_changes.i_cant_do_this_layout");case"other":break;default:return(0,O.xb)(t)}}}return t})(C),recordingKey:nz.Pt(e,"unsupported"),buttons:[{type:nv.f.GO_BACK,callback:H}],aiTrackingContext:t});case 2:let V=[];return(0,rd.KK)()&&!(0,ed.k)().first_draft_use_gemini&&(V.push({type:nE.is.UNDO_MAKE_CHANGES,callback:()=>{b(0),rl.Y5.triggerAction("undo"),(0,nU.sx)("First Draft: Make Changes Undo",{file_key:c,clientLifecycleId:i},{forwardToDatadog:!0,sendAsBeacon:!0,mlEvent:!0}),(0,rp.k)()}}),V.push({type:nE.is.MAKE_CHANGES,callback:H})),z&&(0,aa.A)(M,E),(0,r.jsx)(nE.Oq,{recordingKey:nz.Pt(e,"iterate"),iterateOptions:V,aiTrackingContext:{...t,iteration_view_type:nC.$J.SUCCESS_WITH_ITERATION},stayOpen:!0});case 0:return(0,r.jsx)(ah,{promptValue:n,setPromptValue:l,rootNode:f,tabManager:S,tabPropsMap:w,tabPanelPropsMap:j,handleSubmit:U,recordingKey:e.recordingKey,aiTrackingContext:t});default:(0,O.xb)(y)}}function ah({promptValue:e,setPromptValue:t,rootNode:i,tabManager:n,tabPropsMap:s,tabPanelPropsMap:o,handleSubmit:l,recordingKey:d,aiTrackingContext:c}){let u=c.clientLifecycleId,[p,m]=a.useState(rx(1)[0].prompt),[h,f]=a.useState(rx(3)),[g,_]=a.useReducer(ad,ac),x=a.useCallback(e=>{b.current=Date.now(),_(e)},[_]),y=(0,nM.zN)(i,(e,t)=>e?.guid===t?.guid);(0,a.useEffect)(()=>{x({type:"NEW_ROOT_NODE",payload:au(y?.guid??"")})},[y?.guid,x]);let b=a.useRef(-1/0),C=a.useRef((0,nQ.$L)(y)),v=a.useRef((0,n3.nF)((0,nQ.uq)(y))),E=a.useRef(g.radius),T=a.useRef(g.spacing);(0,a.useEffect)(()=>{C.current=(0,nQ.$L)(y),v.current=(0,n3.nF)((0,nQ.uq)(y));let e=au(y?.guid??"");E.current=e.radius,T.current=e.spacing},[y]);let{close:w}=(0,j.cq)(),S=(0,G.tS)(),k=a.useMemo(()=>{let e,t;let i={file_key:S,clientLifecycleId:u,generation_id:y?.firstDraftData?.generationId};return y&&(t="LOCAL"===(e=af(y)).type?e.pageId:e.key),Object.assign(i,{dsKitType:null!=e?e.type:null,kitKey:t}),i},[y,S,u]),I=g.colorMode,N=g.brandColor,A=g.radius,O=g.spacing,L=g.titleFonts,R=g.bodyFonts,D=g.labelFonts,B=(0,nF.ei)(y?.guid),U=(0,nM.k9)(()=>B,[B]);a.useEffect(()=>{let e=au(y?.guid??"",{pinnedRanges:v.current});(0,nA.xN)((0,nL.oB)(N).h,(0,nL.oB)(e.brandColor).h,.01)&&(e.brandColor=N);let t=U?.lastEditedAt??-1/0;(t>b.current||b.current-t>1e3)&&x({type:"EDIT_INFO_UPDATED",payload:e})},[N,x,U,y?.guid,g.radius,g.spacing]);let H=(0,nB.A)(e=>{(0,nU.sx)("First Draft: Make Changes Color Change",{...k,color:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},5e3),z=a.useCallback(e=>{e!==I&&(nR.l7.user("first-draft-switch-color-mode",()=>{(0,n0.t)(y,e,(0,nG.F_)(g.brandColor))}),H(I),rl.Y5.triggerAction("commit"),x({type:"SET_COLOR_MODE",payload:e}))},[I,H,x,y,g.brandColor]),V=a.useMemo(()=>(0,n$.N_)(y),[y]),K=a.useRef(null),W=a.useRef(null),q=a.useCallback((e,t)=>{if(W.current)K.current=[e,W.current];else{W.current=e;let i=(0,nG.F_)(t);nR.l7.user("first-draft-apply-brand-color",()=>{(0,n$.l9)(y,e,I,V,i)}),setTimeout(()=>{if(W.current=null,K.current){let[e,t]=K.current;K.current=null,q(e,t)}},30)}},[I,V,y]),X=a.useCallback(e=>{H((0,nG.F_)(e));let t={...(0,n2.qO)(e,I),a:1};q(t,N),x({type:"SET_BRAND_COLOR",payload:t})},[x,H,I,q,N]),J=(0,nB.A)(e=>{(0,nU.sx)("First Draft: Make Changes Radius Change",{...k,radius:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),Z=(0,nB.A)(e=>{J(e),(0,nQ.oP)(C.current,e,E.current)},100),$=a.useCallback((e,t)=>{t.commit&&rl.Y5.triggerAction("commit"),e!==A&&(Z(e),x({type:"SET_RADIUS",payload:e}))},[A,x,Z]),et=(0,nB.A)(e=>{(0,nU.sx)("First Draft: Make Changes Spacing Change",{...k,spacing:e},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),ei=(0,nB.A)(e=>{et(e),(0,nQ.HS)(v.current,e,T.current)},100),en=a.useCallback((e,t)=>{t.commit&&rl.Y5.triggerAction("commit"),e!==O&&(ei(e),x({type:"SET_SPACING",payload:e}))},[x,ei,O]),er=(0,nB.A)((e,t)=>{(0,nU.sx)("First Draft: Make Changes Font Change",{...k,font_location:e,font_type:t},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0})},1e3),ea=a.useCallback(e=>0===e.length?null:e[0].family,[]),es=a.useCallback(async e=>{await nZ(n5.lu.TITLE,e,L),er("title",e),rl.Y5.triggerAction("commit"),y&&x({type:"SET_TITLE_FONTS",payload:(0,n3.Mz)(y,(0,n3.BY)(y)).title})},[L,er,y,x]),eo=a.useCallback(async e=>{await nZ(n5.lu.BODY,e,g.bodyFonts),er("body",e),rl.Y5.triggerAction("commit"),y&&x({type:"SET_BODY_FONTS",payload:(0,n3.Mz)(y,(0,n3.BY)(y)).body})},[g.bodyFonts,er,y,x]),el=a.useCallback(async e=>{await nZ(n5.lu.LABEL,e,g.labelFonts),er("label",e),rl.Y5.triggerAction("commit"),y&&x({type:"SET_LABEL_FONTS",payload:(0,n3.Mz)(y,(0,n3.BY)(y)).label})},[g.labelFonts,er,y,x]),ec=(0,a.useCallback)(e=>{(0,Q.SX)({...c,...(0,Q.Q0)(e),interaction:nC.NI.GENERATE}),l()},[c,l]),[eu,ep]=a.useState(rq.COLOR),em=(0,r.jsx)(tG.r,{shortcuts:[{key:M.Uz.ENTER,modifier:[M.xH.META]}],onAction:ec,disabled:!y||0===e.length,recordingKey:nz.Pt(d,"submit"),children:(0,F.tx)("first_draft.make_changes")}),eh=(0,r.jsx)(tG.r,{shortcuts:[{key:M.Uz.ENTER,modifier:[M.xH.META]}],onAction:w,recordingKey:nz.Pt(d,"doneTheming"),children:(0,F.tx)("first_draft.done_theming")});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ee.B,{fullWidth:!0,align:"center",justify:"space-between",gap:0,children:"theme"===n.activeTab&&(0,r.jsx)(r9,{bodyFont:ea(R),brandColor:N,colorMode:I,cornerRadiusStop:A,labelFont:ea(D),onChangeBodyFont:eo,onChangeColor:X,onChangeColorMode:z,onChangeCornerRadiusStop:$,onChangeLabelFont:el,onChangeSpacingStop:en,onChangeTitleFont:es,recordingKey:nz.Pt(d,"themeEditorDrawer"),section:eu,spacingStop:O,titleFont:ea(L)})}),(0,r.jsxs)("div",{className:nP()(P.s.p8.relative.$,"theme"===n.activeTab&&"first_draft_make_changes_view--contentBoxed--L-H0e",eu&&P.s.elevation500.radiusLarge.$),"data-testid":"readyForPromptView",children:[(0,r.jsx)(nO.t.TabPanel,{...o.prompt,children:(0,r.jsx)(rc.XG,{action:Y.JT.FIRST_DRAFT_MAKE_CHANGES,value:e,onChange:t,recordingKey:nz.Pt(d,"prompt"),suggestion:p,suggestionPills:(0,ed.k)().first_draft_new_prompt_pills?h:void 0})}),(0,r.jsx)(nO.t.TabPanel,{...o.theme,children:(0,r.jsx)(r7,{activeTab:eu,onTabChange:ep,brandColor:N,cornerRadiusStop:A,spacingStop:O,titleFont:ea(L),bodyFont:ea(R),labelFont:ea(D),recordingKey:nz.Pt(d,"themeEditor")})}),(0,r.jsxs)(ee.B,{fullWidth:!0,justify:"space-between",children:[(0,r.jsxs)(nO.t.TabStrip,{manager:n,children:[(0,r.jsx)(nO.t.Tab,{...s.theme,children:(0,F.tx)("first_draft.style")}),(0,r.jsx)(nO.t.Tab,{...s.prompt,children:(0,r.jsx)("span",{"data-testid":"promptTabLabel",children:(0,F.tx)("first_draft.prompt")})})]}),"prompt"===n.activeTab?em:eh]})]})]})}function af(e){let t=e.firstDraftData;if(t){if(t.kit.type===d.AZ4.LOCAL)return{type:"LOCAL",pageId:d.XJn.getPageIdFromKitKey(t.kit.key)??""};if(t.kit.type===d.AZ4.LIBRARY)return{type:"1P_LIBRARY",key:t.kit.key}}return JSON.parse(e.getSharedPluginData(ra.SV,"dsKitKey"))}function ag(e,t){switch(t){case"success":(0,Q.as)({...e,status:nC.dM.COMPLETED,reason:nC.F9.SUCCESS});break;case"error":(0,Q.as)({...e,status:nC.dM.FAILED,reason:nC.F9.ERROR});break;case"stopped":(0,Q.as)({...e,status:nC.dM.FAILED,reason:nC.F9.STOPPED})}}var a_=i(267721),ax=i.n(a_),ay=i(476572),ab=i(830372),aC=i(829242),av=i(347120),aE=i(392104),aT=i(949105);function aw({node:e,tree:t,parentComponent:i,descendantComponentGuids:n},r){if(!t[e.guid]){if(t[e.guid]={isBuildingBlock:r.isBuildingBlock,name:r.name,parentGuid:i?.guid??null,isListItem:r.isListItem,inferReason:r.inferReason,children:[]},i){let n=t[i.guid];n&&n.children.push(e.guid)}for(let r of n){let n=t[r];n&&(!n.parentGuid||n.parentGuid===i?.guid)&&(n.parentGuid=e.guid)}}}function aj({node:e,tree:t,parentComponent:i,descendantComponentGuids:n}){t[e.guid]&&delete t[e.guid];let r=i?t[i.guid]:null;for(let a of(r&&(r.children=r.children.filter(t=>t!==e.guid)),n)){let n=t[a];n&&n.parentGuid===e.guid&&(n.parentGuid=i?.guid??null,r&&r.children.push(a))}}function aS(e){let t=function(e,t){let i={};for(let n of e.childrenNodes)!function e(t,i,n,r,a=null){var s;let o=n.components[t.guid],l=(s=n.isMobileDesign,("FRAME"===t.type||"INSTANCE"===t.type)&&(!s||function(e,t,i=.1){return Math.abs(e-t)<i}(t.size.x,i.size.x-i.stackLeftPadding-i.stackLeftPadding))),c=[];if(o&&(r[t.guid]={isBuildingBlock:l,name:o,parentGuid:a?.guid??null,isListItem:!1,children:[]},a&&r[a.guid])){let e=r[a.guid];e&&e.children.push(t.guid)}for(let s of t.childrenNodes)c=c.concat(e(s,i,n,r,o?t:a));let u={node:t,designNode:i,tree:r,nodeCanBeBuildingBlock:l,descendantComponentGuids:c,parentComponent:a};(function(e){let{node:t,tree:i,nodeCanBeBuildingBlock:n,parentComponent:r}=e,a={};for(let e of t.childrenNodes){let t=i[e.guid];t&&(a[t.name]||(a[t.name]=[]),a[t.name].push(e.guid))}let s=Object.entries(a).filter(([e,t])=>t.length>1);if(1!==s.length)return;let o=s[0][1],l=o[0];for(let a of(i[t.guid]||r||!l||aw(e,{name:`${i[l].name}List`,isBuildingBlock:n,isListItem:!1,inferReason:"list-view"}),o)){let e=i[a];e&&(e.isListItem=!0,e.isBuildingBlock=!1)}})(u),function(e){let{node:t,tree:i,nodeCanBeBuildingBlock:n,parentComponent:r,descendantComponentGuids:a}=e;!i[t.guid]&&!r&&n&&a.filter(e=>!i[e]?.isBuildingBlock&&!i[e]?.parentGuid).length>0&&aw(e,{name:`Component:${t.guid}`,isBuildingBlock:!0,isListItem:!1,inferReason:"component-for-orphaned-atoms"})}(u),function(e){let{node:t,tree:i,designNode:n,descendantComponentGuids:r,nodeCanBeBuildingBlock:a}=e;!i[t.guid]&&0===r.length&&t.parentGuid===n.guid&&a&&aw(e,{name:`Component:${t.guid}`,isBuildingBlock:!0,isListItem:!1,inferReason:"component-for-uncomponentized-element"})}(u),function(e){let{node:t,designNode:i,tree:n}=e,r=n[t.guid];if(r&&r.isBuildingBlock&&t.size.y>.66*i.size.y&&r.children.length>1&&r.children.every(e=>n[e]?.isBuildingBlock)){for(let e of r.children){let t=n[e];t&&(t.parentGuid=null)}aj(e)}}(u),function({node:e,tree:t,parentComponent:i,nodeCanBeBuildingBlock:n,descendantComponentGuids:r,designNode:a}){let s=e.childrenNodes[0];if(n&&1===e.childCount&&s&&t[s.guid]?.isBuildingBlock){let n=t[s.guid];n&&!t[e.guid]&&(t[e.guid]={isBuildingBlock:!0,name:n.name,parentGuid:i?.guid??null,isListItem:!1,inferReason:"hoisted-singleton-building-block",children:n.children}),aj({node:s,designNode:a,tree:t,parentComponent:e,descendantComponentGuids:r,nodeCanBeBuildingBlock:!0})}}(u);let p=function({node:e,designNode:t,tree:i,parentComponent:n,descendantComponentGuids:r}){if(e.size.x<100||e.size.y<20||r.length>0||"NONE"===e.stackMode||e.childCount<=1)return[];let a=e.childrenNodes[0],s=e.childrenNodes[e.childCount-1],o=[];for(let l of[a,s]){if(l?.type!=="FRAME"||l.size.x<100||l.size.y<20)continue;let a=d.XJn.findSimilarNodes(l.guid,e.guid,!1,!1,!0),s=[l,...a.map(e=>(0,eq.UN)().get(e)).filter(e=>!!e)],c=Array.from((0,ay._i)(new Set(e.childrenGuids),new Set([l.guid,...a])));if(s.length>=2&&s.length>=e.childCount-1&&c.length<=1){let a=c[0];if(a){let t=e.childrenGuids.indexOf(a);if(t>0&&t<e.childCount-1)return[]}for(let a of s)i[a.guid]||(aw({node:a,designNode:t,tree:i,parentComponent:i[e.guid]?e:n,descendantComponentGuids:r,nodeCanBeBuildingBlock:!1},{isBuildingBlock:!1,name:`Component:${a.guid}`,isListItem:!0,inferReason:"similar-sublayers"}),o.push(a.guid))}}return o}(u);return r[t.guid]?[t.guid,...c,...p]:[...c,...p]}(n,e,t,i);return i}(e.frame,e);if(!t)return[];let{suggestedComponentTree:i,node:n}=function(e,t){let i=d.XJn.detachDesignForComponentize(e.guid,Object.keys(t)),n={};for(let[e,r]of Object.entries(t)){let t=i.get(e),a={...r,parentGuid:r.parentGuid?i.get(r.parentGuid)??r.parentGuid:null,children:r.children.map(e=>i.get(e)??e)};t?n[t]=a:n[e]=a}let r=i.get(e.guid);if(!r)throw Error("Failed to detach design");let a=(0,eq.UN)().get(r);if(!a)throw Error("Failed to detach design");return e.parentNode&&e.parentNode.appendChild(a),a.x=e.x,a.y=e.y,e.removeSelfAndChildren(),{suggestedComponentTree:n,node:a}}(e.frame,t);return Array.from(Object.entries(i)).filter(([e])=>e!==n.guid).map(([e,t])=>({guid:e,name:t.name,isBuildingBlock:t.isBuildingBlock}))}function ak(){let[e,t]=a.useState({loaded:0,total:0}),i=a.useContext(aE.x),n=i?.getSuggestedComponents;return{submit:a.useCallback(async(e,i,r,a)=>{let s=e.filter(e=>("FRAME"===e.type||"INSTANCE"===e.type)&&!e.isStateGroup),o=(0,av.Y6)(),{nodes:l,nodeMappings:c}=nR.l7.user("clone-nodes",()=>(function(e,t){let i=[],n={x:(0,av.NY)(t.copiedDesigns).right()+av.CN,y:av.CN},r=new Map;for(let a of e){let e=d.XJn.cloneNodeForComponentize(a.guid),s=e.get(a.guid);if(!s)continue;let o=(0,eq.UN)().get(s);o&&(t.copiedDesigns.appendChild(o),i.push(o),o.relativeTransform={...o.relativeTransform,m02:n.x,m12:n.y},n.x+=o.size.x+av.FL,r=new Map([...r,...e]))}return(0,av.Vl)(t),{nodes:i,nodeMappings:r}})(s,o));for(let e of(t({loaded:1,total:l.length}),ax()(l,10))){let s=await (0,aC.Z)(n?n(e):aI(e,i),r);if(r.aborted)return{};for(let e of s)if(e){if(a?.remapNodeIdsForTest)for(let[t,i]of c.entries()){let n=e.components[t];n&&(e.components[i]=n,delete e.components[t])}nR.l7.user("componentize",()=>{!function(e,t){let i=(0,eq.UN)();if(!i.getCurrentPage())return;let n=(0,av.NY)(t.buildingBlocks),r=(0,av.NY)(t.atoms),a={x:n.right()+av.CN,y:av.CN},s={x:r.right()+av.CN,y:av.CN},o={};for(let{guid:n,name:r,isBuildingBlock:l}of e){let e=i.get(function(e,t){for(;t[e];)e=t[e];return e}(n,o));if(!e||"FRAME"!==e.type&&"INSTANCE"!==e.type||("FRAME"===e.type&&(0,av.MR)(e,t.icons),!e.isAlive))continue;let c=d.XJn.findSimilarNodes(e.guid,t.buildingBlocks.guid,!1,!0,!0).concat(d.XJn.findSimilarNodes(e.guid,t.atoms.guid,!1,!0,!0)),u=c[0]?i.get(c[0]):null;if(!u){if("FRAME"===e.type)(u=i.createComponentFromNode(e.clone())).name=r;else{if(!(u=i.get(e.clone())))throw Error("Failed to clone instance");(0,aT.T)(u)}l?(t.buildingBlocks.appendChild(u),u.relativeTransform={...u.relativeTransform,m02:a.x,m12:a.y},a.y+=u.size.y+av.FL):(t.atoms.appendChild(u),u.relativeTransform={...u.relativeTransform,m02:s.x,m12:s.y},s.y+=u.size.y+av.FL)}let p=(0,av.w8)(e,u);if(p)for(let[e,t]of p?.entries()){let n=i.get(t),r=n?.overrideKey;r&&(o[e]=r)}}(0,av.Vl)(t)}(aS(e),o)})}t(t=>({loaded:Math.min(t.loaded+e.length,t.total),total:t.total}))}return rl.Y5.commit(),{}},[n]),progress:e}}async function aI(e,t){let i=await Promise.all(e.map(async e=>{let t=await (0,ra.gC)(e);return{imageB64:t.base64,jsx:t.jsx}}));return(await eX.Ay.design.firstDraftComponentize({requests:i},(0,ro.sF)({clientLifecycleId:t}))).responses.map((t,i)=>{let n=e[i];return t&&n?{frame:n,isMobileDesign:t.isMobileDesign,components:t.components.reduce((e,t)=>(e[t.guid]=t.name,e),{})}:null})}var aN=i(845608),aA=i(388732),aO=(e=>(e[e.COMPONENTIZE=0]="COMPONENTIZE",e[e.ADD_PROPS=1]="ADD_PROPS",e[e.LINT=2]="LINT",e[e.ALL=3]="ALL",e))(aO||{}),aL=(e=>(e.INITIAL="initial",e.COMPONENTIZE="componentize",e.ADD_PROPS="add_props",e.LINT="lint",e.ALL="all",e))(aL||{});function aR(e){return e.filter(e=>"FRAME"===e.type).length}function aM(e){let[t,i]=a.useState("initial"),n=[{step:3,title:(0,F.t)("first_draft.make_kit.all_steps.title"),description:(0,F.t)("first_draft.make_kit.all_steps.description")},{step:0,title:(0,F.t)("first_draft.make_kit.componentize_step.title"),description:(0,F.t)("first_draft.make_kit.componentize_step.description")},{step:1,title:(0,F.t)("first_draft.make_kit.add_props_step.title"),description:(0,F.t)("first_draft.make_kit.add_props_step.description")},{step:2,title:(0,F.t)("first_draft.make_kit.lint_step.title"),description:(0,F.t)("first_draft.make_kit.lint_step.description")}],s=(0,a.useCallback)(e=>{switch(e){case 0:i("componentize");break;case 1:i("add_props");break;case 2:i("lint");break;case 3:i("all")}},[]),o=e=>(0,r.jsx)(aA.B.Item,{primaryAction:{onAction:()=>{s(e.step)}},children:(0,r.jsxs)("div",{className:P.s.flex.flexColumn.p4.wFull.$,children:[(0,r.jsx)("div",{className:P.s.font13.wFitContent.$,children:e.title}),(0,r.jsx)("div",{className:P.s.font11.colorTextSecondary.lh16.wFitContent.$,children:e.description})]})},e.step);switch(t){case"initial":return(0,r.jsxs)(et.n,{hideActionPanel:!0,children:[(0,r.jsx)(et.n.Header,{children:(0,r.jsxs)("div",{className:P.s.wFull.flex.flexColumn.p8.$,children:[(0,r.jsxs)("div",{className:P.s.wFull.flex.gap4.$,children:[(0,r.jsx)("div",{className:P.s.h24.$,children:(0,r.jsx)(rT.K,{recordingKey:nz.Pt(e.recordingKey,"backButton"),onClick:e.onBack,"aria-label":(0,F.t)("qa.go_back"),children:(0,r.jsx)(rS.C,{})})}),(0,r.jsx)("div",{className:P.s.colorText.textBodyLarge.$,children:(0,F.tx)("fullscreen_actions.quick_actions.first-draft-make-kit")})]}),(0,r.jsx)("div",{className:P.s.wFull.flex.font11.$,children:(0,F.tx)("first_draft.make_kit.description")})]})}),(0,r.jsx)(et.n.Body,{children:(0,r.jsxs)(aA.B,{resultCount:n.length,maxVisibleResults:n.length,children:[o(n[0]),(0,r.jsx)(aA.B.Section,{header:"Individual steps",children:n.slice(1).map(o)})]})})]});case"componentize":return(0,r.jsx)(aP,{});case"add_props":return(0,r.jsx)(aB,{});case"lint":return(0,r.jsx)(nI.zY,{});case"all":return(0,r.jsx)(aU,{})}}let aD=async({params:{submit:e,selectedNodes:t},abortController:i,clientLifecycleId:n})=>{await e(t,n,i.signal)};function aP(e){let{close:t}=(0,j.cq)(),i=(0,np.RL)(Y.JT.FIRST_DRAFT_COMPONENTIZE,aD),{start:n,stop:s,state:o,aiTrackingContext:l}=i,{submit:c,progress:u}=ak(),p=(0,a.useCallback)(async()=>{let e=(0,eq.UN)().getCurrentPage();if(!e)return;let t=e.directlySelectedNodes;0!==t.length&&await n({selectedNodes:t,submit:c})},[n,c]),m=a.useCallback(()=>{s(),t()},[t,s]),h=a.useCallback(()=>{d.glU.triggerActionInUserEditScope("undo",{}),t()},[t]),f=e.overrides?.state??o,g=e.overrides?.progress??u;switch(f){case np.qy.INITIAL:return(0,r.jsx)(nx.A,{action:Y.JT.FIRST_DRAFT_COMPONENTIZE,actionLabel:(0,F.tx)("first_draft.make_kit.componentize_step.title"),actionIcon:(0,r.jsx)(eG.K,{}),onPerform:e.overrides?.perform??p,instructionAction:{type:"learn_more",url:"https://figma.com"},aiTrackingContext:l,getCustomSelectedNodesAmount:aR,children:(0,F.tx)("first_draft.make_kit.componentize_step.instructions")});case np.qy.RUNNING:return(0,r.jsx)(nw.F,{recordingKey:nz.Pt(e.recordingKey,"componentizeRunning"),aiTrackingContext:l,onStop:m,secondaryMessage:g.total?(0,F.t)("first_draft.make_kit.x_of_y_frames",{loaded:g.loaded,total:g.total}):void 0,children:(0,F.tx)("first_draft.make_kit.componentize_step.running")});case np.qy.DONE:return(0,r.jsx)(nE.Oq,{iterateOptions:[{type:nE.is.UNDO,callback:h}],aiTrackingContext:{...l,iteration_view_type:nC.$J.DEFAULT_SUCCESS}});case np.qy.CANCELLED:return null;case np.qy.ERROR:return(0,r.jsx)(nv.E,{error:"error"in i?i.error:Error(),recordingKey:nz.Pt(e.recordingKey,"error"),buttons:[{type:nv.f.OK,callback:t}],aiTrackingContext:l});default:(0,O.xb)(f)}}let aF=async({params:{submit:e,selectedNodes:t},abortController:i,clientLifecycleId:n})=>{await e(n,i.signal,t)};function aB(e){let{close:t}=(0,j.cq)(),{submit:i,progress:n}=(0,aN.iK)(),s=(0,np.RL)(Y.JT.FIRST_DRAFT_SUGGEST_PROPS,aF),{start:o,stop:l,state:c,aiTrackingContext:u}=s,p=(0,a.useCallback)(async()=>{let e=(0,eq.UN)().getCurrentPage();if(!e)return;let t=e.directlySelectedNodes;0!==t.length&&await o({selectedNodes:t,submit:i})},[o,i]),m=a.useCallback(()=>{l(),t()},[t,l]),h=a.useCallback(()=>{d.glU.triggerActionInUserEditScope("undo",{}),t()},[t]),f=e.overrides?.state??c,g=e.overrides?.progress??n;switch(f){case np.qy.INITIAL:return(0,r.jsx)(nx.A,{action:Y.JT.FIRST_DRAFT_SUGGEST_PROPS,actionLabel:(0,F.tx)("first_draft.make_kit.add_props_step.add_props_button"),actionIcon:(0,r.jsx)(eG.K,{}),onPerform:p,instructionAction:{type:"learn_more",url:"https://figma.com"},aiTrackingContext:u,children:(0,F.tx)("first_draft.make_kit.add_props_step.instructions")});case np.qy.RUNNING:return(0,r.jsx)(nw.F,{recordingKey:nz.Pt(e.recordingKey,"suggestPropsRunning"),aiTrackingContext:u,onStop:m,secondaryMessage:g.total?(0,F.t)("first_draft.make_kit.x_of_y_components",{loaded:g.loaded,total:g.total}):void 0,children:(0,F.tx)("first_draft.make_kit.add_props_step.running")});case np.qy.DONE:return(0,r.jsx)(nE.Oq,{iterateOptions:[{type:nE.is.UNDO,callback:h}],aiTrackingContext:{...u,iteration_view_type:nC.$J.DEFAULT_SUCCESS}});case np.qy.CANCELLED:return null;case np.qy.ERROR:return(0,r.jsx)(nv.E,{error:"error"in s?s.error:Error(),recordingKey:nz.Pt(e.recordingKey,"error"),buttons:[{type:nv.f.OK,callback:t}],aiTrackingContext:u});default:(0,O.xb)(f)}}function aU(e){let{submit:t,progress:i}=ak(),{start:n,state:s}=(0,np.RL)(Y.JT.FIRST_DRAFT_COMPONENTIZE,aD),{submit:o,progress:l}=(0,aN.iK)(),{start:d,state:c}=(0,np.RL)(Y.JT.FIRST_DRAFT_SUGGEST_PROPS,aF),u=(0,a.useCallback)(async()=>{let e=(0,eq.UN)().getCurrentPage();if(!e)return;let i=e.directlySelectedNodes;0!==i.length&&(await n({selectedNodes:i,submit:t}),await d({submit:o}))},[n,t,d,o]);switch(s){case np.qy.INITIAL:case np.qy.RUNNING:case np.qy.CANCELLED:case np.qy.ERROR:return(0,r.jsx)(aP,{overrides:{state:s,progress:i,perform:u}});case np.qy.DONE:switch(c){case np.qy.INITIAL:case np.qy.RUNNING:case np.qy.CANCELLED:case np.qy.ERROR:return(0,r.jsx)(aB,{overrides:{state:c,progress:l}});case np.qy.DONE:return(0,r.jsx)(nI.zY,{});default:(0,O.xb)(c)}default:(0,O.xb)(s)}}async function aG(e,t){return(await Promise.all(t.map(async t=>{let i=await (0,ra.gC)(t),n=e.replace("{{jsx}}",i.jsx),r=await eX.Ay.openai.completeChat({model:"gpt-4o-2024-08-06",temperature:.5,n:1,messages:[{role:"system",content:n},{role:"user",content:[{type:"image_url",image_url:{url:i.base64}}]}],use_cache:!1,response_format:{type:"json_object"}}),a=r.choices[0]?.message.content;return a?{...function(e){if(!e)throw Error("No content detected in GPT response");let t=JSON.parse(e.replace(/```json\n|```/g,"")),i=nW.AR.parse(t);return{isMobileDesign:i.isMobileDesign,components:i.components.reduce((e,t)=>(e[t.guid]=t.name,e),{})}}(a),frame:t}:null}))).filter(e=>null!==e)}async function aH(e,t){return(await Promise.all(t.map(async t=>{let i=await (0,ra.gC)(t),n=e.replace("{{jsx}}",i.jsx),r=await eX.Ay.openai.completeChat({model:"gpt-4o-2024-08-06",temperature:.5,n:1,messages:[{role:"system",content:n},{role:"user",content:[{type:"image_url",image_url:{url:i.base64}}]}],use_cache:!1,response_format:{type:"json_object"}}),a=r.choices[0]?.message.content;return a?{component:t,...JSON.parse(a)}:null}))).filter(e=>null!==e)}let az=e=>{let t=new Set;return!function e(i){if(i.name.startsWith("[COMPONENT]")&&t.add(i.guid),"childrenNodes"in i)for(let t of i.childrenNodes)e(t)}(e),t},aV=(e,t)=>{let i=0,n=e;for(;n.guid!==t.guid&&i<8;){if(i+=1,!n.parentNode)throw Error("Node is not a child of root, distance: "+i);n=n.parentNode}return i},aK=async({componentizePromptOverride:e,dispatch:t})=>{let i=(0,eq.UN)().getCurrentPage();if(!i)return;let n=i.directlySelectedNodes;if(0===n.length){t(p.F.enqueue({type:"eval-componentize",message:"No selected nodes"}));return}for(let e of n){if("FRAME"!==e.type){t(p.F.enqueue({type:"eval-componentize",message:"Selected node is not a frame"}));return}if(e.name.startsWith("[TEST]")){t(p.F.enqueue({type:"eval-componentize",message:`Selected node ${e.name} is already a test node`}));return}}for(let i of n){let n;if(i.name=`[TEST] ${i.name}`,!(n=e?(await aG(e,[i]))[0]:(await aI([i],""))[0])){t(p.F.enqueue({type:"eval-componentize",message:`Failed to get suggested components for ${i.name}`}));return}for(let e of aS(n))(0,eq.UN)().get(e.guid).name=`[COMPONENT] ${e.name}`}},aW=async({componentizePromptOverride:e,dispatch:t,close:i})=>{let n=(0,eq.UN)().getCurrentPage();if(!n)return;let r=n.childrenNodes.filter(e=>"FRAME"===e.type);if(0===r.length){t(p.F.enqueue({type:"eval-componentize",message:"No frames found"}));return}i(),t(p.F.enqueue({type:"eval-componentize",message:"Starting eval"}));let a=[],s=0,o=r.filter(e=>e.name.startsWith("[TEST]"));for(let i of ax()(o,5))await Promise.all(i.map(async i=>{let n;n=e?(await aG(e,[i]))[0]:(await aI([i],""))[0],a.push({node:i,components:new Set(aS(n).map(e=>e.guid)),expectedComponents:az(i)}),s+=1,t(p.F.enqueue({type:"eval-componentize",message:`Completed ${s} / ${o.length}`}))})),await new Promise(e=>setTimeout(e,100));let l=[];for(let e of a){let t=(0,ay._i)(e.expectedComponents,e.components).size,i=(0,ay._i)(e.components,e.expectedComponents).size,n=(0,ay.iR)(e.expectedComponents,e.components).size;l.push({falseNegativeCount:t,falsePositiveCount:i,correctCount:n,result:e})}nR.l7.ai("eval-componentize",()=>{let e=(0,eq.UN)().createNode("CANVAS");e.name=`Eval Run ${n.name} ${new Date().toISOString()}`;let t=(0,eq.UN)().createNode("FRAME");t.name="Results Frame",t.x=-1e3,t.y=-1e3,t.size={x:220,y:220},t.fills=[{type:"SOLID",color:{r:.9,g:.9,b:.9,a:1},visible:!0,opacity:1,blendMode:"NORMAL"}];let i=(0,eq.UN)().createNode("TEXT");for(let n of(i.name="Results",d.biQ.setTextContentOnTextNode(i.guid,`False Negative Count: ${l.reduce((e,t)=>e+t.falseNegativeCount,0)}
False Positive Count: ${l.reduce((e,t)=>e+t.falsePositiveCount,0)}
Correct Count: ${l.reduce((e,t)=>e+t.correctCount,0)}`),i.x=10,i.y=10,i.size={x:200,y:200},i.fills=i.fills.concat([{type:"SOLID",color:{r:0,g:0,b:0,a:1},visible:!0,opacity:1,blendMode:"NORMAL"}]),t.appendChild(i),e.appendChild(t),l)){let t=n.result;if(!(0,ay.yZ)(t.expectedComponents,t.components)){let i=d.XJn.cloneNodeForComponentize(t.node.guid),r=(0,eq.UN)().get(i.get(t.node.guid));if(!r)throw Error("Failed to clone node");r.name=t.node.name+` (FNC: ${n.falseNegativeCount} FPC: ${n.falsePositiveCount} CC: ${n.correctCount})`;let a=(e,t)=>{e.strokePaints={data:e.strokePaints.data.concat([{type:"SOLID",color:t,visible:!0,opacity:1,blendMode:"NORMAL"}]),blobs:e.strokePaints.blobs},e.strokeWeight=(8-aV(e,r))*2,e.strokeAlign="OUTSIDE",e.borderStrokeWeightsIndependent=!1,e.borderBottomWeight=2,e.borderTopWeight=2,e.borderLeftWeight=2,e.borderRightWeight=2},s=new Map;for(let[e,t]of i.entries())s.set(t,e);for(let e of(0,ay._i)(t.expectedComponents,t.components)){let t=i.get(e);a((0,eq.UN)().get(t),{r:1,g:0,b:0,a:1})}for(let e of(0,ay._i)(t.components,t.expectedComponents)){let t=i.get(e);a((0,eq.UN)().get(t),{r:0,g:0,b:1,a:1})}for(let e of(0,ay.iR)(t.expectedComponents,t.components)){let t=i.get(e);a((0,eq.UN)().get(t),{r:0,g:1,b:0,a:1})}e.appendChild(r)}}(0,eq.UN)().setCurrentPageAsync(e.guid)}),t(p.F.enqueue({type:"eval-componentize",message:"Finished eval"}))},aq=["componentizePrompt","suggestProps","componentizeResultMapping"];class aY{constructor(e=1){this.queue=[],this.queue=[],this.concurrencyLimit=e,this.activeCount=0}postTask(e,t){return new Promise((i,n)=>{let r=async()=>{try{i(await e())}catch(e){n(e)}};this.queue.push([r,t]),this.doNextTask()})}async doNextTask(){if(0===this.queue.length||this.activeCount>=this.concurrencyLimit)return;let e=this.queue.shift();if(!e)return;let[t,i]=e;this.activeCount++;try{await scheduler.postTask(t,i)}catch(e){throw e}finally{this.activeCount--,this.doNextTask()}}}var aX=i(576487),aJ=i(566517),aZ=i(612859),aQ=i(167249),a$=i(290931),a0=i(58505),a1=i(911410),a2=i(272243),a3=i(167712),a5=i(891805),a4=i(157320),a6=i(318279),a7=i(981847),a8=i(40561),a9=i(438674),se=i(930338),st=i(119475),si=i(8833),sn=i(654860),sr=i(263077),sa=i(13082);let ss={ORG:"org",ALL:"all"},so=(0,c.E3)("firstDraftKitPickerTab",ss.ORG);function sl({aiTrackingContext:e,ParentComponent:t}){let{allUsableKitEntries:i,hasLastSelectedKit:n,setSelectedKit:s,kitsAreLoaded:o}=(0,rh.sI)(),[l,d]=a.useState(""),u=a.useRef(null);(0,sr.y)(l,u),(0,sn.z)();let{pop:p,push:m}=(0,j.cq)(),h=(0,a.useCallback)(i=>{s(i),(0,Q.SX)({...e,interaction:nC.NI.SELECT_KIT,interaction_type:nC.bp.BUTTON_CLICK}),n?p():m({name:$.Sn.FIRST_DRAFT,module:(0,r.jsx)(t,{})})},[t,e,s,n,p,m]),[f,g]=a.useState(null);a.useEffect(()=>{u.current?.focus()},[u]);let[_,x]=(0,c.fp)(so),y=(0,tC.T5)("FirstDraftKitSelection").unwrapOr(null),b=y?.name||(0,F.t)("first_draft.kits.org_libraries.fallback"),C=b&&b.length>20,v=(0,ed.k)().first_draft_direct_gen&&i.some(e=>e.metadata.direct_generation),E=f||i;if((0,ed.k)().first_draft_direct_gen){if(v){let e=_===ss.ORG;E=E.filter(t=>e===t.metadata.direct_generation)}}else E=E.filter(e=>!e.metadata.direct_generation);return(0,r.jsx)(N.s3,{name:"firstDraftKitPicker",recordingKey:"firstDraftKitPicker",children:(0,r.jsx)(st.dP,{children:(0,r.jsxs)("div",{className:P.s.flex.flexColumn.gap8.pt8.$,"data-testid":"kitSelectionListContainer",children:[(0,r.jsxs)("div",{className:nP()("kit_picker_view--navContainer--JHIEY",si.Dm),children:[(0,r.jsx)("div",{className:P.s.h24.$,children:(0,r.jsx)(rT.K,{recordingKey:nz.Pt("firstDraftKitSelection","backButton"),onClick:p,"aria-label":(0,F.t)("qa.go_back"),children:(0,r.jsx)(rS.C,{})})}),(0,r.jsx)("input",{ref:u,"aria-autocomplete":"list",className:nP()("kit_picker_view--searchInput--Yj6zW",si.Dm),dir:"auto",maxLength:100,onChange:e=>{!function(e){if(d(e),0===e.length)g(null);else{let t=e.toLowerCase();g(i.filter(e=>sc(e).toLowerCase().includes(t)))}}(e.target.value)},placeholder:(0,F.t)("first_draft.kits.search_placeholder"),spellCheck:!1,type:"search",value:l}),(0,r.jsx)(sa.y,{helpUrlVariant:Y.JT.FIRST_DRAFT_MAKE_KIT})]}),o&&(0,ed.k)().first_draft_direct_gen?(0,r.jsx)("div",{className:P.s.wFull.pl8.pr8.$,children:v?(0,r.jsxs)(en.fu,{value:_,onChange:L.lQ,numItems:2,children:[(0,r.jsx)(en.oz,{tabId:ss.ORG,onAction:()=>x(ss.ORG),recordingKey:nz.Pt("firstDraftKitSelection","orgTab"),htmlAttributes:{...C&&{"data-tooltip":b,"data-tooltip-type":eI.Ib.TEXT}},children:(0,F.tx)("first_draft.kits.org_libraries",{orgName:(0,se.EJ)(b,20)})}),(0,r.jsx)(en.oz,{tabId:ss.ALL,onAction:()=>x(ss.ALL),recordingKey:nz.Pt("firstDraftKitSelection","allTab"),children:(0,F.tx)("first_draft.kits.all_libraries")})]}):(0,r.jsx)(su,{})}):null,(0,r.jsx)("div",{style:{height:312},className:P.s.relative.$,"data-testid":"kitSelectionListView",children:o?(0,r.jsx)(sd,{kitsToShow:E,searchQuery:l,onKitOptionSelected:h}):null})]})})})}function sd({kitsToShow:e,searchQuery:t,onKitOptionSelected:i}){if(t&&0===e.length){let e=t.length>20?`${t.slice(0,20)}\u2026`:t;return(0,r.jsx)("div",{className:P.s.p8.selfCenter.justifyCenter.flex.flexGrow0.$,children:(0,F.tx)("first_draft.kits.no_results",{searchQuery:e})})}return(0,r.jsx)(nk.T.Provider,{value:{recordingKey:"firstDraftView"},children:(0,r.jsx)(aA.B,{primary:!0,resultCount:e.length,children:e.map((e,t)=>(0,r.jsx)(aA.B.Item,{primaryAction:{text:"Perform",shortcuts:[{key:M.Uz.ENTER}],onAction:()=>i(e)},actionLabel:!1,recordingKey:nz.Pt("firstDraftKitSelection",t,"list-item"),children:(0,r.jsxs)("div",{className:P.s.p4.gap8.flexRow.flex.itemsCenter.$,"data-testid":"fd-kit-item",children:[(0,r.jsx)("div",{className:"kit_picker_view--fileThumbnail--aGgkC",style:{backgroundImage:`url(${e.thumbnailUrl})`}}),(0,r.jsxs)("div",{className:"kit_picker_view--kitDisplayInformation--Ypl2p",children:[(0,r.jsx)("div",{children:sc(e)}),e.numComponents>0&&(0,r.jsx)("div",{className:"kit_picker_view--componentCountText--bBnSq",children:(0,F.tx)("first_draft.kits.components_count",{count:e.numComponents})})]})]})},t))})})}function sc(e){switch(e.dsKitKey.type){case"LOCAL":case"USER_LIBRARY":return e.name;case"1P_LIBRARY":if(e.metadata.identifier)return(0,F.t)(`first_draft.kits.${e.metadata.identifier}`)||e.name;return e.name;default:return(0,O.xb)(e.dsKitKey)}}function su(){return(0,r.jsxs)("div",{className:"kit_picker_view--tempGettingStartedNotice--ADe-Q",children:[(0,r.jsx)("div",{className:P.s.fontBold.$,children:(0,F.tx)("first_draft.direct_gen.getting_started.heading")}),(0,r.jsxs)("div",{className:P.s.inline.colorTextSecondary.flexWrap.$,children:[(0,F.tx)("first_draft.direct_gen.getting_started.notice")," ",(0,r.jsx)(a9.N,{newTab:!0,trusted:!0,href:"https://www.figma.com/blog/figma-ai-first-draft-byods/",onClick:e=>e.stopPropagation(),htmlAttributes:{"data-tooltip":(0,F.t)("qa.learn_more"),"data-tooltip-type":eI.Ib.TEXT,"data-tooltip-show-above":!0},children:(0,F.tx)("qa.learn_more")})]})]})}function sp({onClose:e,defaultPosition:t,description:i,setDescription:n}){return(0,r.jsx)(a1.bL,{width:"sm",onClose:e,defaultPosition:{bottom:window.innerHeight-t.y-16,right:window.innerWidth-t.x+16},children:(0,r.jsxs)(a2.vo,{children:[(0,r.jsx)(a2.Y9,{children:(0,r.jsx)(a2.hE,{children:(0,F.tx)("first_draft.reference_settings")})}),(0,r.jsx)(a2.nB,{padding:8,children:(0,r.jsx)(a6.v,{placeholder:(0,F.t)("first_draft.reference_settings.placeholder"),value:i,onChange:e=>{n(e.currentTarget.value)},rows:3,minHeight:64,maxHeight:64,focusOnMount:!0})})]})})}function sm({selectedNodeThumbnailsCache:e,onDelete:t,promptValue:i,setPromptValue:n}){let s=Array.from((0,a0.eb)().values()),[o,l]=a.useState(null),c=(0,a.useRef)({x:0,y:0});return(0,r.jsxs)("div",{className:P.s.p4.flex.flexRow.flexWrap.minW0.flexShrink0.$,children:[s?.map(i=>r.jsxs("div",{className:P.s.relative.$,style:{display:"flex"},children:[r.jsx(a7.v,{thumbnailUrl:e?.get(i.guid)?.imageURL??a0.zs,altText:i.name,onClick:()=>{d.glU?.panToNode(i.guid,!1)},isUploading:e?.get(i.guid)?.promise!==null,onDelete:()=>{t(i.guid)}}),r.jsx("div",{className:P.s.absolute.colorBgSecondary.p4.$,style:{bottom:"-4px",left:"-4px",borderRadius:"0 9px 0 0"},children:r.jsx(a3.f,{onIcon:r.jsx(a5.A,{}),offIcon:r.jsx(a5.A,{}),onChange:(e,{event:t})=>{c.current={x:t.target.getBoundingClientRect().x,y:t.target.getBoundingClientRect().bottom},l(e?i.guid:null)},checked:o===i.guid,variant:"highlighted","aria-label":F.t("first_draft.reference_settings.adjust_settings")||""})})]},i.guid)),o&&(0,r.jsx)(sp,{onClose:()=>l(null),defaultPosition:c.current,description:i.attachmentMetadata?.[o]?.description??"",setDescription:e=>n({...i,attachmentMetadata:{...i.attachmentMetadata,[o]:{description:e}}})})]})}function sh({promptValue:e,setPromptValue:t,onShowKitPicker:i,selectedKit:n,handleSubmit:s,promptHistory:l,recordingKey:c,aiTrackingContext:u,selectedNodeThumbnailsCache:p,allowNodeAttachments:m}){let h;let[f]=a.useState(function(e=3,t){let i=(0,ed.k)().first_draft_new_prompt_pills,n=[{label:(0,F.t)("first_draft.prompts.pricing_page.label"),prompt:(0,F.t)("first_draft.prompts.pricing_page.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.sign_in_screen.label"),prompt:(0,F.t)("first_draft.prompts.sign_in_screen.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.blog_post.label"),prompt:(0,F.t)("first_draft.prompts.blog_post.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.portfolio.label"),prompt:(0,F.t)("first_draft.prompts.portfolio.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.news_site.label"),prompt:(0,F.t)("first_draft.prompts.news_site.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.onboarding.label"),prompt:(0,F.t)("first_draft.prompts.onboarding.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.sign_in_screen.label"),prompt:(0,F.t)("first_draft.prompts.sign_in_screen.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.blog_post.label"),prompt:(0,F.t)("first_draft.prompts.blog_post.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.map_app_mobile.label"),prompt:(0,F.t)("first_draft.prompts.map_app_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.messaging_mobile.label"),prompt:(0,F.t)("first_draft.prompts.messaging_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.profile.label"),prompt:(0,F.t)("first_draft.prompts.profile_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.travel_app_mobile.label"),prompt:(0,F.t)("first_draft.prompts.travel_app_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.social_feed_mobile.label"),prompt:(0,F.t)("first_draft.prompts.social_feed_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.ticketing_app.label"),prompt:(0,F.t)("first_draft.prompts.ticketing_app.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.ride_sharing_mobile.label"),prompt:(0,F.t)("first_draft.prompts.ride_sharing_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.to_dos_mobile.label"),prompt:(0,F.t)("first_draft.prompts.to_dos_mobile.prompt"),type:"MOBILE"}];i&&n.push({label:(0,F.t)("first_draft.prompts.homepage.label"),prompt:(0,F.t)("first_draft.prompts.homepage.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.homepage.label"),prompt:(0,F.t)("first_draft.prompts.homepage_2.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.video_player_streaming.label"),prompt:(0,F.t)("first_draft.prompts.video_player_streaming.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.video_page_with_comments.label"),prompt:(0,F.t)("first_draft.prompts.video_page_with_comments.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.search_results_travel.label"),prompt:(0,F.t)("first_draft.prompts.search_results_travel.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.social_feed_text_heavy.label"),prompt:(0,F.t)("first_draft.prompts.social_feed_text_heavy.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.profile.label"),prompt:(0,F.t)("first_draft.prompts.profile_social_media.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.news_article.label"),prompt:(0,F.t)("first_draft.prompts.news_article.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.landing_page.label"),prompt:(0,F.t)("first_draft.prompts.landing_page_beauty.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.landing_page.label"),prompt:(0,F.t)("first_draft.prompts.landing_page_tech.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.marketing_page_football.label"),prompt:(0,F.t)("first_draft.prompts.marketing_page_football.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.shopping.label"),prompt:(0,F.t)("first_draft.prompts.shopping_hifi.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.shopping.label"),prompt:(0,F.t)("first_draft.prompts.product_details_shoes.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.admin_dashboard_saas.label"),prompt:(0,F.t)("first_draft.prompts.admin_dashboard_saas.prompt"),type:"WEB"},{label:(0,F.t)("first_draft.prompts.settings_mobile.label"),prompt:(0,F.t)("first_draft.prompts.settings_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.video_player_comments_mobile.label"),prompt:(0,F.t)("first_draft.prompts.video_player_comments_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.checkout_mobile.label"),prompt:(0,F.t)("first_draft.prompts.checkout_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.reviews_mobile.label"),prompt:(0,F.t)("first_draft.prompts.reviews_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.audio_player_mobile.label"),prompt:(0,F.t)("first_draft.prompts.audio_player_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.investing_mobile.label"),prompt:(0,F.t)("first_draft.prompts.investing_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.app_browsing_mobile.label"),prompt:(0,F.t)("first_draft.prompts.app_browsing_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.reservations_mobile.label"),prompt:(0,F.t)("first_draft.prompts.reservations_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.fitness_mobile.label"),prompt:(0,F.t)("first_draft.prompts.fitness_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.subscriptions_mobile.label"),prompt:(0,F.t)("first_draft.prompts.subscriptions_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.recipes_mobile.label"),prompt:(0,F.t)("first_draft.prompts.recipes_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.sports_mobile.label"),prompt:(0,F.t)("first_draft.prompts.sports_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.delivery_app_mobile.label"),prompt:(0,F.t)("first_draft.prompts.delivery_app_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.calendar_mobile.label"),prompt:(0,F.t)("first_draft.prompts.calendar_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.email_mobile.label"),prompt:(0,F.t)("first_draft.prompts.email_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.file_browser_mobile.label"),prompt:(0,F.t)("first_draft.prompts.file_browser_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.education_mobile.label"),prompt:(0,F.t)("first_draft.prompts.education_mobile.prompt"),type:"MOBILE"},{label:(0,F.t)("first_draft.prompts.shopping_mobile.label"),prompt:(0,F.t)("first_draft.prompts.shopping_mobile.prompt"),type:"MOBILE"});let r=n;if(t){let e=t.toLowerCase();e.includes("mobile")?r=r.filter(e=>"MOBILE"===e.type):e.includes("web")&&(r=r.filter(e=>"WEB"===e.type))}let a=rg()(r),s={};for(let t of a){if(Object.keys(s).length>=e)break;let i=ry(t.label);s[i]||(s[i]=t)}let l=Object.values(s).slice(0,e);return l.length<e?((0,eu.$D)(o.e.AI_GENERATION,Error(`Unable to generate ${e} unique presets`),{extra:{count:e,generatedCount:l.length,selectedPresetsObj:s,shuffledPresets:a}}),[]):l}(4,n?.name)),g=(0,a.useCallback)(e=>{(0,Q.SX)({...u,...(0,Q.Q0)(e),interaction:nC.NI.GENERATE}),s()},[u,s]),_=Array.from((0,a0.eb)().values()),x=(0,a.useCallback)(e=>{d.Egt?.removeFromSelection([e])},[]),y=(0,a.useCallback)(()=>0!==e.prompt.length,[e]),b=(0,ed.k)().first_draft_direct_gen,C=(0,a.useRef)(null),v=()=>n&&(0,r.jsx)(tW.$n,{"aria-label":sc(n),iconPrefix:(0,r.jsx)(a4.i,{style:{marginLeft:2,marginRight:4}}),onClick:i,recordingKey:nz.Pt(c,"changeKit"),variant:"secondary",children:sc(n)}),E=(0,a8.o)();return h=b?{growVertically:!0,width:E-16}:{growVertically:!1},(0,r.jsxs)("div",{className:P.s.borderBox.$,style:{padding:8},"data-testid":"readyForPromptView",children:[(0,r.jsx)(rc.XG,{action:Y.JT.FIRST_DRAFT,bottomContent:m&&b&&_&&p&&_.length>0&&(0,r.jsx)(sm,{promptValue:e,setPromptValue:t,selectedNodeThumbnailsCache:p,onDelete:x}),featureNameForInstrumentation:"first_draft",onChange:i=>t({...e,prompt:i}),promptHistory:b?[]:l,recordingKey:nz.Pt(c,"generate"),refocusToInput:!1,suggestion:f[0].prompt,suggestionPills:f.slice(1),textAreaRef:C,topNavContent:b?(0,r.jsx)("div",{}):(0,r.jsx)("div",{className:"first_draft_prompt_view_v2--libraryButtonContainer--P-Bye",children:v()}),value:e.prompt,...h}),(0,r.jsxs)(ee.B,{fullWidth:!0,justify:"space-between",children:[b&&v()||(0,r.jsx)("div",{}),(0,r.jsxs)(ee.B,{gap:8,children:[b&&(0,r.jsx)(rc.nj,{promptHistory:l,onChange:i=>t({...e,prompt:i}),textAreaRef:C}),(0,r.jsx)(tG.r,{shortcuts:[{key:M.Uz.ENTER,modifier:[M.xH.META]}],onAction:g,recordingKey:nz.Pt(c,"generate"),disabled:!y(),children:(0,F.tx)("first_draft.generate")})]})]})]})}var sf=i(605191);function sg({options:e,onSelect:t}){let[i,n]=a.useState(),s=a.useCallback((e,r)=>{t(e,{ev:r,prevOption:i}),n(e)},[t,i]);return(0,r.jsxs)(rA._,{children:[(0,r.jsx)(sf.t,{}),(0,r.jsx)(tH.x,{columns:6,gap:13.9,padding:0,children:e.map((e,t)=>(0,r.jsx)(s_,{column:t,presetOption:e,onSelect:s},t))})]})}function s_({column:e,presetOption:t,onSelect:i}){let n={onAction:e=>i(t,e)};return(0,r.jsx)(tH.x.Item,{recordingKey:`previewTileItem-${e}`,focusAction:n,primaryAction:n,enableFauxFocus:!1,children:(0,r.jsx)(tH.x.GridItemHighlight,{children:(0,r.jsx)("div",{className:P.s.colorBgSecondary.b1.colorBorder.wFull.flex.alignCenter.justifyCenter.$,style:{aspectRatio:"1/1",height:"56px",overflow:"hidden",borderRadius:"8px",alignItems:"flex-start"},children:(0,r.jsx)("img",{alt:(0,F.t)("first_draft.theme_preview",{index:e+1}),src:t.dataURI,className:P.s.maxWFull.$,draggable:!1})})})})}let sx=(0,c.E3)("draft_prompt_history",[]),sy="first-draft-done-feedback",sb=(0,c.Iz)(()=>(0,c.eU)({prompt:""})),sC=async({params:{selectedKit:e,promptValue:t,submitPrompt:i,shouldContinueStreamRef:n,selectedNodeIds:r,selectedNodeThumbnailsCache:a},abortController:s})=>{if(s.signal.addEventListener("abort",()=>{n.current=!1}),!e)throw Error((0,F.t)("first_draft.no_design_generated"));let o=await i(t,{designSystem:e,selectedNodeIds:r??void 0,selectedNodeThumbnailsCache:a},{shouldGenerateImages:!0,addWireframeBorder:e?.metadata.needs_border,skipSelection:(0,ri.WX)(e)});if(o.error)throw d.XJn.clearFDScene(),o.error;if(o?.success&&!o?.nodeId)throw Error((0,F.t)("first_draft.no_design_generated"));return{result:o}};function sv(){let e=(0,G.tS)(),{aiTrackingContext:t}=(0,np.wj)(Y.JT.FIRST_DRAFT),i=t.clientLifecycleId,n=a.useCallback(()=>{(0,nU.sx)("First Draft: Error",{file_key:e,clientLifecycleId:i,view:"firstDraftGenerate"},{forwardToDatadog:!0,sendAsBeacon:!0,mlEvent:!0})},[i,e]);return(0,r.jsx)(u.tH,{boundaryKey:"FirstDraft",fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{clientLifecycleId:i,area:o.e.AI_GENERATION},onError:n,children:(0,r.jsx)(nk.T.Provider,{value:{recordingKey:"firstDraftView"},children:(0,r.jsx)(sE,{recordingKey:"firstDraftView"})})})}function sE({recordingKey:e}){let t=(0,np.RL)(Y.JT.FIRST_DRAFT,sC),{start:i,stop:n,state:o,aiTrackingContext:l}=t,u=l.clientLifecycleId,m=(0,ev.eY)(),h=(0,G.tS)(),f=(0,a.useRef)(null),g=sb(u),[_,x]=(0,c.fp)(g);if(f.current){let e=f.current;f.current=null,x(e)}let[y,b]=a.useState([]),C=a.useRef(!0),v=a.useRef(null),E=a.useRef(null),T=a.useRef(new aY(1)),[w,S]=a.useState(new Set),k=a.useRef({}),{kitsAreLoaded:I,hasLastSelectedKit:N,selectedKit:A}=(0,rh.sI)(),{close:L,push:R,replace:M}=(0,j.cq)(),[D,P]=a.useState(!1===N);(0,a.useEffect)(()=>{if(D||!N)return(N?R:M)({name:$.Sn.FIRST_DRAFT_KIT_PICKER,module:(0,r.jsx)(sl,{aiTrackingContext:l,ParentComponent:sv})})},[l,D,N,e,R,M]);let{promptHistory:B,addPromptToHistory:U}=(0,a$.a)(sx,e=>e),H=(0,ri.WX)(A),[z,V]=(0,a.useState)(!1),K=(0,s.wA)(),W=(0,ri.WX)(A),q=(0,a0.qi)({enabled:W}),J=(0,a0.eb)();as(!H&&(o===np.qy.DONE||o===np.qy.ERROR)),a.useEffect(()=>()=>{d.XJn.clearFDScene()},[]);let Z=a.useCallback(()=>C.current,[C]),ee=a.useCallback(async(e,t,i,n)=>{if(!e||!i)return;(0,aJ.xF)(e);let r=!0;A&&!1===A.metadata.has_theme&&(r=!1),0===n.length&&0===Object.keys(t).length&&(r=!1),r&&b(await (0,aZ.xk)(i,e,n,t))},[A]),{submitPrompt:et,executionTrace:ei,imageProgress:en}=(0,ri.TM)({shouldContinueStream:Z,onInsertJSXDone:ee,clientLifecycleId:u}),er=a.useCallback(async()=>{if(o===np.qy.RUNNING){(0,eY.xi)("first-draft","handleSubmit called while already running");return}if(!A){(0,eY.xi)("first-draft","handleSubmit called without a selected kit");return}X.D.dispatch(p.F.dequeue({matchType:sy})),U(_.prompt);let e=await i({selectedKit:A,promptValue:_,submitPrompt:et,shouldContinueStreamRef:C,selectedNodeIds:W?Array.from(J.keys()):void 0,selectedNodeThumbnailsCache:q});e?.result?.nodeId&&(v.current=e.result.nodeId)},[o,A,U,_,i,et,W,J,q]),ea=a.useCallback(()=>{n(),L()},[L,n]),es=(0,a.useCallback)(async(e,t)=>{void 0!==t.prevOption&&e!==t.prevOption&&(0,Q.hm)({...l,...(0,Q.zQ)(t.ev),iteration_view_type:nC.$J.SUCCESS_WITH_ITERATION,interaction:nC.sd.GALLERY_SELECT,status:nC.o2.COMPLETED,value:e.modeId||"null"}),t.ev.target?.item&&(k.current[t.ev.target.index]=t.ev.target.item),await T.current.postTask(()=>{if(v.current&&(E.current?.modeId??null)!==e.modeId){let t=(0,aZ.DP)(e,v.current,w),i=m.get(t),n=i?.firstDraftData,r=n?.kit?.type??null;(0,nU.sx)("First Draft: Multiple Options Selected",{preset_name:e.modeId,clientLifecycleId:u,isLocal:r===d.AZ4.LOCAL||null,dsKitType:null!==r?r===d.AZ4.LOCAL?"LOCAL":"1P_LIBRARY":null,kitKey:n?.kit?.key??null,file_key:h},{forwardToDatadog:!0,batchRequest:!0,mlEvent:!0}),S(new Set([v.current,...w])),v.current=t,E.current=e}},{})},[l,w,u,m,h]),eo=(0,aQ.Fk)((e,t)=>{for(let i of t)if(i){let t=e.get(i);if(t)return Object.values(t.explicitVariableModes())[0]??null}},[v.current,...w]);a.useEffect(()=>{if(E.current&&void 0!==eo&&E.current.modeId!==eo){let e=y.findIndex(e=>e.modeId===eo);k.current[e]&&(E.current=y[e],k.current[e].fauxFocus())}},[eo,y]);let el=()=>0===y.length?null:(0,r.jsx)(sg,{options:y,onSelect:es}),ec=ei&&(0,ed.k)().cortex_execution_tracing;switch((0,a.useLayoutEffect)(()=>{o===np.qy.DONE&&H&&(f.current={..._,attachmentMetadata:{..._.attachmentMetadata,...v.current?{[v.current]:{description:"",wasOutputOfPreviousGeneration:!0}}:{}}},X.D.dispatch(p.F.enqueue({type:sy,messageComponentKey:aX.Rw.FIRST_DRAFT_FEEDBACK,icon:aX.zX.GREEN_CHECK,onDismiss:()=>{X.D.dispatch(p.F.dequeue({matchType:sy}))},timeoutOverride:6e4,aiTrackingContext:l})),d.XJn?.clearFDScene(),(0,np.B3)(Y.JT.FIRST_DRAFT),v.current&&d.Egt?.addToSelection([v.current]))},[o,H,_,l]),o){case np.qy.INITIAL:return(0,r.jsx)(sh,{aiTrackingContext:l,allowNodeAttachments:W,handleSubmit:er,kitsAreLoaded:I,onShowKitPicker:()=>{P(!0)},promptHistory:B,promptValue:_,recordingKey:e,selectedKit:A,selectedNodeThumbnailsCache:q,setPromptValue:x});case np.qy.RUNNING:return(0,r.jsx)(nw.F,{recordingKey:nz.Pt(e,"running"),onStop:ea,aiTrackingContext:l,secondaryMessage:en.total&&en.loaded?(0,F.t)("first_draft.x_of_y_images",{loaded:en.loaded,total:en.total}):void 0,children:(0,F.tx)("first_draft.running")});case np.qy.DONE:{let i=t.result;if(z)return(0,r.jsx)(ap,{initialRootGuid:i.result?.nodeId});let n=[];if((0,rd.KK)()&&!(0,ed.k)().first_draft_use_gemini&&n.push({type:nE.is.MAKE_CHANGES,callback:()=>{d.XJn.clearFDScene(),V(!0)}}),ec&&(0,aa.A)(K,ei),H)return null;return(0,r.jsx)(nE.Oq,{content:A?.dsKitKey.type==="USER_LIBRARY"?null:(()=>{let e=[],t=el();return(t&&e.push(t),0===e.length)?null:(0,r.jsx)(ab.Y,{direction:"vertical",spacing:8,children:e})})(),iterateOptions:n,recordingKey:nz.Pt(e,"iterate"),aiTrackingContext:{...l,iteration_view_type:nC.$J.SUCCESS_WITH_ITERATION},stayOpen:!0})}case np.qy.ERROR:{let{error:i}=t;return ec&&(0,aa.A)(K,ei),(0,r.jsx)(nv.E,{error:i,recordingKey:nz.Pt(e,"error"),buttons:[{type:nv.f.OK,callback:L}],aiTrackingContext:l})}case np.qy.CANCELLED:return null;default:(0,O.xb)(o)}}var sT=i(370597),sw=i(964367);let sj="7f12ea1300756f144a0fb5daaf68dbfc01103a46",sS=(e,t)=>{let i=e=>{let t=e=>"number"==typeof e&&!isNaN(e);return t(e.x)&&t(e.y)&&t(e.width)&&t(e.height)};if(!i(e)||!i(t))throw Error("Invalid bounding box - all position and size properties must be valid numbers");let n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y)),r=e.width*e.height+t.width*t.height-n;return[n,r]},sk={intersectionOverUnion:{distanceFunction:(e,t,i)=>{let n=!0,r=i.iouDefaultCost;try{let[a,s]=sS(e.boundingBox,t.boundingBox);void 0!==i.iouThreshold&&(n=n&&(0===s?0:a/s)>i.iouThreshold),r=s-a}catch(e){return{match:!1,distance:r}}return{match:n,distance:r}},options:{iouDefaultCost:1,iouThreshold:.2,typeMismatchCost:1}}};var sI=i(125019);function sN(e){return e.fills.some(e=>"IMAGE"===e.type)}let sA=new Set(["VECTOR","LINE"]),sO=new Set(["VECTOR","ROUNDED_RECTANGLE","ELLIPSE","STAR","LINE","REGULAR_POLYGON"]);function sL(e){return!!(sA.has(e.type)||sO.has(e.type))||"GROUP"===e.type&&e.childrenNodes.every(e=>sL(e))}var sR=i(624361),sM=i(619652),sD=i(929620);function sP(e){let t=atob(e),i=new Uint8Array(t.length);for(let e=0;e<t.length;e++)i[e]=t.charCodeAt(e);return i}function sF(e){if(!e||!e.startsWith("data:")||-1===e.indexOf(";base64,"))throw Error("Invalid data URL format");let t=e.split(";base64,").pop();if(!t)throw Error("Could not extract base64 data from URL");let i=e.substring(5,e.indexOf(";"));if(!i)throw Error("Could not extract mime type from data URL");return{base64:t,mimeType:i}}function sB(e){let t=e.size,i=(0,sM._G)(new tq.Mi(t.x,t.y),e.guid,!0,void 0,!1,!0);if(!i||!i.pixels||!i.pixelSize||!i.displaySize)return null;let{base64:n,mimeType:r}=sF((0,sM.Pv)(i.pixels,i.pixelSize));return{base64:n,mimeType:r,pixelData:i.pixels,width:i.pixelSize.x,height:i.pixelSize.y}}async function sU(e,t,i,n,r,a,s,o="Image"){let l;let d=sP(a),c=await (0,sR.UD)(d,s,"image");if(nR.l7.user("create image node",()=>{(l=e.createNode("RECTANGLE")).size={x:n,y:r},l.insertImageInFillPaint(c),l.x=i.x,l.y=i.y,t.appendChild(l),l.name=o}),!l)throw Error("Failed to create node");return l}async function sG(e,t,i,n,a,s,o){let l=await sU(e,t,i,n,a,s,o,"Placeholder");return(0,rm.Vm)(l.guid,(0,r.jsx)(sD.A,{})),l}async function sH(e,t,i,n,r,a,s,o){let{node:l,issues:c}=await (0,sw.LZ)(i,{originalSize:{x:r,y:a},normalizePxToRange01:!0,excludeImageData:!0,excludeVectorData:!0,imagePlaceholderRef:sj}),u=()=>{l&&nR.l7.user("remove aborted node",()=>{l?.removeSelfAndChildren()})};if(o.signal.aborted)throw u(),new np.lc;if(!l)throw Error(`Failed to deserialize node${c.length?`: ${c.map(e=>e.message).join(", ")}`:""}`);let p=await Promise.all(s.objects.filter(e=>"image"===e.cls||"vector"===e.cls).map(async e=>{let t=function(e,t,i,n){let r=new Uint8Array(n.width*n.height*4);for(let i=0;i<n.height;i++)for(let a=0;a<n.width;a++){let s=n.x+a,o=((n.y+i)*t+s)*4,l=(i*n.width+a)*4;r[l]=e[o]??0,r[l+1]=e[o+1]??0,r[l+2]=e[o+2]??0,r[l+3]=e[o+3]??0}return{data:r,width:n.width,height:n.height}}(function(e,t,i,n){let r=new Uint8Array(e.length);for(let a=0;a<n;a++)for(let n=0;n<i;n++){let s=(a*i+n)*4,o=t[a*i+n];r[s]=e[s]??0,r[s+1]=e[s+1]??0,r[s+2]=e[s+2]??0,r[s+3]=(e[s+3]??0)*(o??0)/255}return r}(n,function(e,t,i,n,r){let a=new Uint8Array(n*r);for(let s=0;s<r;s++)for(let o=0;o<n;o++){let l=Math.floor(o*t/n),d=Math.floor(s*i/r);a[s*n+o]=e[d*t+l]??0}return a}(e.mask,s.width,s.height,r,a),r,a),r,0,{x:e.x,y:e.y,width:e.width,height:e.height}),i=sP((function(e,t,i){let n=t*i*4;if(e.length!==n)throw Error(`Data length (${e.length}) does not match expected dimensions (${n})`);let{canvas:r,ctx:a}=function(e,t){let i=document.createElement("canvas");i.width=e,i.height=t;let n=i.getContext("2d");return{canvas:i,ctx:n}}(t,i);return function(e,t,i,n){let r=e.createImageData(t,i);r.data.set(n),e.putImageData(r,0,0)}(a,t,i,e),r.toDataURL("image/png")})(t.data,t.width,t.height).split(",")[1]),o=await (0,sR.UD)(i,"image/png","image");return{type:e.cls,x:e.x,y:e.y,width:e.width,height:e.height,imageSetForInsertion:o}}));if(o.signal.aborted)throw u(),new np.lc;let m=function({node:e,graphics:t}){var i;let[n,r]=function(e,t){let i=[];!function e(t){if(i.push(t),t.childrenNodes)for(let i of t.childrenNodes)e(i)}(e);let n=e.absoluteRenderBounds;if(!n)return[[],[]];let r=[],a=[];return i.forEach(e=>{if(t(e)){let{relativeBounds:t,isVisible:i}=function(e,t){let i=e.absoluteBoundingBox;if(!i)return{relativeBounds:void 0,isVisible:!1};let n={x:i.x-t.x,y:i.y-t.y,width:i.w,height:i.h},r=n.x<t.width&&n.x+n.width>0&&n.y<t.height&&n.y+n.height>0;return{relativeBounds:n,isVisible:r}}(e,{x:n.x,y:n.y,width:n.w,height:n.h});i&&t&&(r.push({boundingBox:t}),a.push(e))}}),[r,a]}(e,e=>sN(e)||sL(e)),[a,s]=function(e,t){let i=e.filter(t);return[i.map(e=>({boundingBox:{x:e.x,y:e.y,width:e.width,height:e.height}})),i]}(t,e=>"image"===e.type||"vector"===e.type),[o,l]=function(e,t,i=sk.intersectionOverUnion){let{columnsForRow:n,rowForColumn:r}=function(e,t=!1){if(0===e.length||0===e[0].length)return{columnsForRow:[],rowForColumn:[],gain:0};let i=e.length,n=e[0].length,r=!1;if(n>i){e=e[0].map((t,i)=>e.map(e=>e[i]));let t=i;i=n,n=t,r=!0}let a=t?Math.max(...e.flat()):Math.min(...e.flat());t&&a<0&&(a=0),!t&&a>0&&(a=0),e=e.map(e=>e.map(e=>t?-e+a:e-a));let s=Array(i).fill(-1),o=Array(n).fill(-1),l=Array(n).fill(0),d=Array(i).fill(0);for(let t=0;t<n;t++){let{sink:i,predecessors:n,updatedU:r,updatedV:a}=function(e,t,i,n,r,a){let s=n.length,o=n[0].length,l=Array(s).fill(0),d=Array(o).fill(!1),c=Array(s).fill(!1),u=Array.from({length:s},(e,t)=>t),p=s,m=null,h=0,f=e,g=Array(s).fill(1/0);for(;null===m;){d[f]=!0;let e=1/0,a=-1;for(let r=0;r<p;r++){let s=u[r],o=h+n[s][f]-t[f]-i[s];o<g[s]&&(l[s]=f,g[s]=o),g[s]<e&&(e=g[s],a=r)}if(!isFinite(e))return{sink:null,predecessors:l,updatedU:t,updatedV:i};let s=u[a];c[s]=!0,p--,u.splice(a,1),h=g[s],-1===r[s]?m=s:f=r[s]}t[e]+=h;for(let i=0;i<d.length;i++)d[i]&&i!==e&&(t[i]+=h-g[a[i]]);for(let e=0;e<c.length;e++)c[e]&&(i[e]-=h-g[e]);return{sink:m,predecessors:l,updatedU:t,updatedV:i}}(t,l,d,e,s,o);if(null===i)return{columnsForRow:[],rowForColumn:[],gain:-1};l=r,d=a;let c=i;for(;;){let e=n[c];s[c]=e;let i=o[e];if(o[e]=c,c=i,e===t)break}}let c=0;for(let t=0;t<n;t++)c+=e[o[t]][t];if(t?(c=-c+a*n,l=l.map(e=>-e),d=d.map(e=>-e)):c+=a*n,r){let e=s;s=o,o=e,e=l,l=d,d=e}return{columnsForRow:s,rowForColumn:o,gain:c}}(function(e,t,i){let{distanceFunction:n,options:r}=i;if(!n)throw Error("`distanceFunction` must be set in config.");if(!r)throw Error("`options` must be set in config.");let a=Array.from({length:e.length},()=>Array(t.length).fill(0));for(let i=0;i<e.length;i++)for(let s=0;s<t.length;s++)a[i][s]=n(e[i],t[s],r).distance;return a}(e,t,i)),{distanceFunction:a,options:s}=i;for(let i=0;i<n.length;i++){let o=n[i];-1===o||a(e[i],t[o],s).match||(r[o]=-1,n[i]=-1)}return[n,r]}(n,a),d=(0,eq.UN)();return nR.l7.ai("reconcile all graphics",()=>{for(let e=0;e<n.length;e++){let t=o[e];if(void 0!==t&&-1!==t){let i=s[t],n=r[e];if(n&&i?.imageSetForInsertion){if(sN(n))n.insertImageInFillPaint(i.imageSetForInsertion);else if(sL(n)){let e=d.createNode("RECTANGLE");e.name=n.name||n.type,e.size={x:i.width,y:i.height},e.x=n.x,e.y=n.y,e.setImageInFillPaint(i.imageSetForInsertion),n.parentNode?.appendChild(e),n.removeSelfAndChildren()}}}}}),i=r.filter(sN),nR.l7.ai("Removing placeholder image fills",()=>{i.forEach(e=>{let t=e.fills;e.fills=t.filter(e=>!("IMAGE"===e.type&&e.image&&e.image.hash&&(0,sI.nj)(e.image.hash)===sj))})}),e}({node:l,graphics:p});return nR.l7.user("place node",()=>{t.parentNode?.appendChild(m),m.x=t.x,m.y=t.y,e.setSelectionToSingleNode(m.guid),d.glU.showSelectionOverlayImmediately()}),m}let sz=eZ.z.object({cls:eZ.z.string(),x:eZ.z.number(),y:eZ.z.number(),width:eZ.z.number(),height:eZ.z.number(),mask:eZ.z.instanceof(Uint8Array)}).passthrough(),sV=eZ.z.object({width:eZ.z.number(),height:eZ.z.number(),objects:eZ.z.array(sz)}).passthrough();async function sK(e,t=1){let i=(await eX.Ay.design.imageToShareJsx({input:{image:e},numDesigns:t})).jsx;if(!i?.length)throw Error("No valid JSX received from server");return i.flat()}async function sW(e,t,i){let n=(await Promise.all(t.map(async e=>{try{let{node:t}=await (0,sw.LZ)(e,{originalSize:{x:i.size.x,y:i.size.y},normalizePxToRange01:!0,excludeImageData:!0,excludeVectorData:!0});if(!t)return null;nR.l7.user("place node",()=>{t.x=i.x,t.y=i.y});let n=sB(t);if(!n)return null;let r=n.base64;return nR.l7.user("hide and remove node",()=>{t.visible=!1,t.removeSelfAndChildren()}),{jsx:e,base64:r}}catch(e){return null}}))).filter(e=>null!==e);if(0===n.length)return console.warn("No valid JSX candidate thumbnails generated, defaulting to first candidate"),t[0];let r=(await eX.Ay.design.guiclip({image:e,candidates:n.map(e=>e.base64)})).bestCandidateIndex;return null==r?(console.warn("Cannot get best candidate index from server, defaulting to first valid candidate"),n[0].jsx):n[r].jsx}async function sq(e){let t=await eX.Ay.design.uiParser({png_b64:e}),i={width:t.width,height:t.height,objects:t.objects.map(e=>({cls:e.cls,x:e.x,y:e.y,width:e.width,height:e.height,mask:new Uint8Array(atob(e.mask).split("").map(e=>e.charCodeAt(0)))}))},n=sV.safeParse(i);if(!n.success)throw Error("Unable to parse response from UI Parser");return n.data}let sY=async({abortController:e})=>{let t;let i=eq.UN().getCurrentPage()?.directlySelectedNodes;if(!i||1!==i.length||void 0===i[0])throw Error("No image selected");let n=i[0],r=n.size.x,a=n.size.y;try{let{base64:i,mimeType:s,pixelData:o,width:l,height:d}=function(e){let t=sB(e);if(!t)throw Error("Cannot process image");return t}(n),{node:c,location:u}=function(e,t,i){return{node:e.parentNode,location:new tq.Mi(e.x+t+(t+i)/2*.15,e.y)}}(n,l,d),p=(0,eq.UN)(),m=p.getCurrentPage();if(!m)throw Error("Cannot get current page from scene");t=await sG(p,c??m,u,r,a,i,s);let h=(0,np.zM)((e,t)=>sK(e,t),e),f=(0,np.zM)((e,t,i)=>sW(e,t,i),e),g=(0,np.zM)(e=>sq(e),e),_=await h(i,4),x=await f(i,_,t),y=await g(i),b=(0,np.zM)(sH,e,e=>{e&&nR.l7.user("clean up reconciled node",()=>{e.removeSelfAndChildren()})});await b(m,t,x,o,l,d,y,e)}catch(e){if(e instanceof np.lc)return;throw e}finally{nR.l7.user("remove placeholder node",()=>{t&&t.removeSelfAndChildren()})}},sX=async({abortController:e,params:t})=>{let i;let n=(t.width+t.height)/2,r=new tq.Mi(t.node.x+t.width+.15*n,t.node.y),a=(0,eq.UN)(),s=a.getCurrentPage();if(!s)throw Error("Cannot get current page from scene");let o=sB(t.node);if(!o)throw Error("Failed to get image data from node");let{base64:l,mimeType:c,pixelData:u,width:p,height:m}=o;try{i=await sG(a,t.node.parentNode??s,r,p,m,l,c);let n=await (0,sw.oy)(t.node,{normalizePxToRange01:!0,excludeImageData:!0,excludeVectorData:!0}),o=await d.bbV?.generateNodeSegmentationFromWeb(t.node.guid);if(!o)throw Error("UiParserHelpers is undefined, failed to create segmentation for node");let h={width:o.width,height:o.height,objects:o.objects.map(e=>({cls:e.cls,x:e.x,y:e.y,width:e.width,height:e.height,mask:e.mask}))};await sH(s,i,n.jsxStr,u,p,m,h,e)}catch(e){throw e}finally{nR.l7.user("remove placeholder node",()=>{i&&i.removeSelfAndChildren()})}};var sJ=i(388839),sZ=i(966582);function sQ({fileInputRef:e,onFileInputChange:t}){return(0,r.jsx)("input",{type:"file",ref:e,accept:sZ.xp.join(","),onChange:t,multiple:!1,className:P.s.hidden.$})}function s$({action:e,instruction:t,onPerform:i,disableImageUpload:n=!1}){let{close:s}=(0,j.cq)(),o=(0,np.RL)(e,sY),{state:l,stop:c,aiTrackingContext:u}=o,p=a.useRef(null),m=()=>{(0,np.B3)(e)};switch(l){case np.qy.INITIAL:return(0,r.jsxs)(r.Fragment,{children:[!n&&(0,r.jsx)(sQ,{fileInputRef:p,onFileInputChange:e=>{let t=e.target?.files;if(t&&t[0]){let e=t[0],i=new FileReader;i.onloadend=()=>{if(i.result){let t=i.result.toString(),n=new Image;n.onload=async()=>{let i=n.width,r=n.height,a=(0,eq.UN)(),s=a.getCurrentPage();if(!s)return;let o=rl.Y5.getViewportInfo(),l=new tq.Mi(o.offsetX-i/2,o.offsetY-r/2),{base64:c,mimeType:u}=sF(t),p=await sU(a,s,l,i,r,c,u,e.name);s.setSelectionToSingleNode(p.guid),d.glU.showSelectionOverlayImmediately()},n.src=t}},i.readAsDataURL(e)}}}),(0,r.jsx)(nx.A,{action:e,actionLabel:(0,F.tx)("image_to_design.action"),actionIcon:(0,r.jsx)(i5.f,{}),instructionAction:n?void 0:{type:"custom",label:(0,F.tx)("fragment_search.visual_search_image_upload_button"),iconPrefix:(0,r.jsx)(sJ.A,{}),onPerform:()=>p.current?.click()},aiTrackingContext:void 0,onPerform:i,children:t})]});case np.qy.RUNNING:return(0,r.jsx)(nw.F,{onStop:()=>{c(),m(),s()},aiTrackingContext:u,children:(0,F.tx)("ai.working")});case np.qy.DONE:return(0,r.jsx)(nE.Oq,{iterateOptions:[],aiTrackingContext:{...u,iteration_view_type:nC.$J.SUCCESS_WITH_ITERATION},showFeedbackInline:!0});case np.qy.ERROR:return(0,r.jsx)(nv.E,{error:o.error,buttons:[{type:nv.f.OK,callback:m}],aiTrackingContext:u});case np.qy.CANCELLED:return null}}var s0=i(724968),s1=i(112768),s2=i(398051),s3=i(40486),s5=i(51743),s4=i(828186),s6=i(968889),s7=i(119420),s8=i(634240),s9=i(87835);async function oe(){let e=(0,eq.UN)(),t=e.getCurrentPage()?.directlySelectedNodes||[];if(1!==t.length)return null;let i=t[0];if(!i)throw Error("Selected node is undefined");return await ot(i.guid)}async function ot(e){if(!d.ruz)throw Error("ImageToolsBindings is not available");let t=(0,eq.UN)().get(e);if(!t)throw Error("Node not found");let i=d.ruz.getTopmostVideoIndex(t.id);if(null===i)throw Error("No video paint found in node");let n=t.fills[i];if(!n||!n.video?.hash)throw Error("Video paint or hash not found");let r=await (0,s9.f)(n.video);if(!r)throw Error("Could not get signed URL for video");return new Promise((e,t)=>{let i=document.createElement("video");i.crossOrigin="anonymous",i.muted=!0,i.playsInline=!0;let n=document.createElement("canvas"),a=n.getContext("2d");if(!a){t(Error("Could not get canvas context"));return}i.onloadedmetadata=()=>{n.width=i.videoWidth,n.height=i.videoHeight,i.currentTime=i.duration},i.onseeked=()=>{try{a.drawImage(i,0,0,n.width,n.height);let t=n.toDataURL("image/png");e(t.split(",")[1]??"")}catch(e){t(e)}},i.onerror=e=>{t(Error(`Video loading error: ${e}`))},i.src=r,i.load()})}var oi=i(593440);let on=(0,c.E3)("make_video_prompt_history",[]),or=a.lazy(()=>i.e(951).then(i.bind(i,130951)));function oa({action:e,aiActionType:t,actionLabel:i,instructionLabel:n,icon:a,searchSynonyms:s}){return{action:e,featureFlags:["figjam_quick_actions_v2"],tags:[iP.$.AI],flags:["edit","whiteboard"],iconType:a,searchSynonyms:s,quickAction:{beforeModuleOpen:()=>{(0,eA.Yh)(X.D.getState().mirror.appModel,e)&&(0,nc.J7)(t)},alwaysEnabled:!0,module:{name:$.Sn.FIGJAM_AI_CONTEXTUAL_FEATURES,module:(0,r.jsx)(ny,{action:e,actionType:t,actionIcon:a,actionLabel:i,instructionLabel:n})}}}}let os=[{callback:L.lQ,action:Y.JT.TRANSLATE_TEXT,flags:["edit","design","slides","sites","cooper","whiteboard"],featureFlags:["qa_text_features"],tags:[iP.$.AI],quickAction:{beforeModuleOpen:()=>{(0,np.B3)(Y.JT.TRANSLATE_TEXT)},alwaysEnabled:!0,module:{name:$.Sn.TRANSLATE,module:(0,r.jsx)(ng.K,{})}},iconType:(0,r.jsx)(iW.R,{}),searchSynonyms:["change language"]},{callback:L.lQ,action:Y.JT.REWRITE_TEXT,flags:["edit","design","slides","sites","cooper","whiteboard"],featureFlags:["qa_text_features"],quickAction:{beforeModuleOpen:()=>{(0,np.B3)(Y.JT.REWRITE_TEXT)},module:{name:$.Sn.REWRITE,module:(0,r.jsx)(nh.w,{})},alwaysEnabled:!0},iconType:(0,r.jsx)(iq.T,{}),tags:[iP.$.AI],searchSynonyms:["revise this","modify this","adjust tone"]},{callback:()=>{(0,np.B3)(Y.JT.SLIDES_GENERATE_SPEAKER_NOTES),(0,np.Ag)(Y.JT.SLIDES_GENERATE_SPEAKER_NOTES,nl.O,{source:nd.f.QUICK_ACTIONS})},action:Y.JT.SLIDES_GENERATE_SPEAKER_NOTES,flags:["slides"],iconType:(0,r.jsx)(iY.B,{}),tags:[iP.$.AI],searchSynonyms:["presenter notes","speaker notes","notes","draft presenter notes","draft speaker notes","draft notes"]},{callback:()=>(0,no.mD)(X.D.dispatch,{source:"quick_actions",toggle:!0}),action:Y.JT.SLIDES_REWRITE_TEXT,flags:["slides"],iconType:(0,r.jsx)(iX.s,{}),tags:[iP.$.AI],searchSynonyms:["adjust tone","tone dial","professional","casual","concise","expanded"]},{callback:()=>(0,no.mD)(X.D.dispatch,{source:"quick_actions",toggle:!0}),action:Y.JT.SLIDES_REWRITE_TEXT,flags:["edit","design"],featureFlags:["aip_tone_dial_fd"],iconType:(0,r.jsx)(iX.s,{}),tags:[iP.$.AI],searchSynonyms:["adjust tone","tone dial","professional","casual","concise","expanded"]},{callback:L.lQ,action:Y.JT.SHORTEN_TEXT,flags:["edit","design","slides","sites","cooper","whiteboard"],featureFlags:["qa_text_features"],quickAction:{module:{name:$.Sn.SHORTEN,module:(0,r.jsx)(nf.J,{})},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,np.B3)(Y.JT.SHORTEN_TEXT),(0,eA.Yh)(X.D.getState().mirror.appModel,Y.JT.SHORTEN_TEXT)&&(0,np.Ag)(Y.JT.SHORTEN_TEXT,nf.$,{featureType:Y.JT.SHORTEN_TEXT,source:"quick-actions"})}},iconType:(0,r.jsx)(iJ.g,{}),tags:[iP.$.AI],searchSynonyms:["make concise","condense","reduce","abbreviate","shorter"]},{callback:L.lQ,action:Y.JT.FIRST_DRAFT,flags:["edit","design"],featureFlags:[],quickAction:{module:{module:(0,r.jsx)(sv,{}),name:$.Sn.FIRST_DRAFT},beforeModuleOpen:()=>{(0,np.B3)(Y.JT.FIRST_DRAFT)}},iconType:(0,r.jsx)(iZ,{}),tags:[iP.$.AI],searchSynonyms:["first draft","make designs","generate design","create design","let's design"]},{callback:L.lQ,action:Y.JT.MAKE_EDITS,flags:["edit","design"],featureFlags:["make_edits"],quickAction:{module:{module:(0,r.jsx)(ns.bt,{}),name:$.Sn.MAKE_EDITS},beforeModuleOpen:()=>{(0,np.B3)(Y.JT.MAKE_EDITS)}},iconType:(0,r.jsx)(iZ,{}),tags:[iP.$.AI],searchSynonyms:["make edit","edit design","prompt to edit"]},{callback:L.lQ,action:Y.JT.MAKE_EDITS_DEBUG,flags:["edit","design","whiteboard","slides"],featureFlags:["make_edits","make_edits_debug"],quickAction:{module:{module:(0,r.jsx)(s3.Aw,{}),name:$.Sn.MAKE_EDITS_DEBUG},beforeModuleOpen:()=>{(0,np.B3)(Y.JT.MAKE_EDITS)}},iconType:(0,r.jsx)(iZ,{}),searchSynonyms:["debug make edits"],tags:[iP.$.AI]},{callback:L.lQ,action:Y.JT.MAKE_EDITS_DEBUG_REVIEW,flags:["edit","design","whiteboard","slides"],featureFlags:["make_edits","make_edits_debug"],quickAction:{module:{module:(0,r.jsx)(a.Suspense,{fallback:null,children:(0,r.jsx)(or,{})}),name:$.Sn.MAKE_EDITS_DEBUG_REVIEW},beforeModuleOpen:()=>{(0,np.B3)(Y.JT.MAKE_EDITS)}},iconType:(0,r.jsx)(iZ,{}),searchSynonyms:["debug make edits review"],tags:[iP.$.AI]},{callback:L.lQ,action:Y.JT.MAKE_EDITS,flags:["whiteboard"],featureFlags:["make_edits_figjam"],quickAction:{module:{module:(0,r.jsx)(ns.bt,{}),name:$.Sn.MAKE_EDITS},beforeModuleOpen:()=>{(0,np.B3)(Y.JT.MAKE_EDITS)}},iconType:(0,r.jsx)(iZ,{}),tags:[iP.$.AI],searchSynonyms:["make edit","edit design","prompt to edit"]},{callback:L.lQ,action:Y.JT.MAKE_EDITS,flags:["slides"],featureFlags:["make_edits_slides"],quickAction:{module:{module:(0,r.jsx)(ns.bt,{}),name:$.Sn.MAKE_EDITS},beforeModuleOpen:()=>{(0,np.B3)(Y.JT.MAKE_EDITS)}},iconType:(0,r.jsx)(iZ,{}),tags:[iP.$.AI],searchSynonyms:["make edit","edit design","prompt to edit"]},{callback:L.lQ,action:Y.JT.FIRST_DRAFT_FINE_TUNE,flags:["edit","design"],featureFlags:["first_draft_fine_tune"],quickAction:{module:{module:(0,r.jsx)(function(){let e=(0,a.lazy)(()=>Promise.all([i.e(891),i.e(3132),i.e(2325),i.e(9756)]).then(i.bind(i,399756))),{aiTrackingContext:t}=(0,np.wj)(Y.JT.FIRST_DRAFT_FINE_TUNE),n=t.clientLifecycleId;return(0,r.jsx)(u.tH,{boundaryKey:"FirstDraftFineTune",fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{clientLifecycleId:n,area:o.e.AI_GENERATION},children:(0,r.jsx)(nk.T.Provider,{value:{recordingKey:"firstDraftFineTuneView"},children:(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{children:(0,F.t)("first_draft.make_edits.loading")}),children:(0,r.jsx)(e,{})})})})},{}),name:$.Sn.FIRST_DRAFT_FINE_TUNE},beforeModuleOpen:()=>{(0,np.B3)(Y.JT.FIRST_DRAFT_FINE_TUNE)},alwaysEnabled:!0},iconType:(0,r.jsx)(iZ,{}),tags:[iP.$.AI],searchSynonyms:["fine tune","first draft fine tune"]},{callback:L.lQ,action:Y.JT.FIRST_DRAFT_MAKE_CHANGES,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_make_changes","first_draft_make_changes_reopen"],notFeatureFlags:["first_draft_use_gemini"],quickAction:{module:{module:(0,r.jsx)(function(){let e=rs(),[t]=a.useState(e);return(0,r.jsx)(ap,{initialRootGuid:t||null})},{}),name:$.Sn.FIRST_DRAFT_MAKE_CHANGES}},iconType:(0,r.jsx)(iZ,{}),tags:[iP.$.AI],searchSynonyms:["make changes","adjust design","modify design","edit design"]},{callback:L.lQ,action:Y.JT.FIRST_DRAFT_MAKE_KIT,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_make_kit"],quickAction:{module:{module:(0,r.jsx)(function(){let{pop:e}=(0,j.cq)();return(0,r.jsx)(u.tH,{boundaryKey:"FirstDraftMakeKitView",fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:o.e.AI_GENERATION},children:(0,r.jsx)(aM,{recordingKey:"firstDraftMakeKitView",onBack:e})})},{}),name:$.Sn.FIRST_DRAFT_MAKE_KIT},beforeModuleOpen:()=>{(0,np.B3)(Y.JT.FIRST_DRAFT_MAKE_KIT),(0,np.B3)(Y.JT.FIRST_DRAFT_COMPONENTIZE),(0,np.B3)(Y.JT.FIRST_DRAFT_SUGGEST_PROPS)}},iconType:(0,r.jsx)(iZ,{}),tags:[iP.$.AI],searchSynonyms:["make kit","create kit","generate kit","design kit"]},{callback:L.lQ,action:Y.JT.FIRST_DRAFT_MAKE_KIT_DEBUG,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_make_kit","first_draft_debug"],quickAction:{module:{module:(0,r.jsx)(function(){let e=(0,s.wA)(),{close:t}=(0,j.cq)(),{inputs:i,renderInput:n}=function(e,t,i){let n=a.useMemo(()=>(function(e){let t=e.reduce((e,t)=>(e[t]=eZ.z.object({override:eZ.z.string(),enabled:eZ.z.boolean()}),e),{});return eZ.z.object(t)})(e),[e]),{inputs:s,setInputs:o,handleInputChange:l,handleCheckboxChange:d}=function(e,t,i,n){let[r,s]=a.useState(()=>{let r=localStorage.getItem(t);if(r)try{let e=JSON.parse(r);if(i)return i.parse(e);return e}catch(e){console.error(`Failed to parse saved state for ${t}:`,e)}return e.reduce((e,t)=>(e[t]={override:"",enabled:n?.enabled??!1},e),{})});a.useEffect(()=>{localStorage.setItem(t,JSON.stringify(r))},[r,t]);let o=a.useCallback(e=>t=>{s(i=>({...i,[e]:{...i[e],override:t.target.value}}))},[]),l=a.useCallback(e=>t=>{s(i=>({...i,[e]:{...i[e],enabled:t.target.checked}}))},[]);return{inputs:r,setInputs:s,handleInputChange:o,handleCheckboxChange:l}}(e,t,n,void 0),c=a.useCallback(({field:e,label:t,rows:i=3,placeholder:n="Enter override"})=>(function(e,t,i,n,a,s=3,o="Enter override"){let l=e[t]||{override:"",enabled:!1};return(0,r.jsxs)(ee.B,{fullWidth:!0,justify:"space-between",children:[(0,r.jsx)("input",{type:"checkbox",checked:l.enabled,onChange:n(t)}),(0,r.jsx)("div",{style:{opacity:l.enabled?1:.5,width:"100%"},children:(0,r.jsxs)(ab.Y,{direction:"vertical",spacing:8,children:[(0,r.jsx)(eK.E,{children:i}),(0,r.jsx)("textarea",{className:P.s.resizeNone.wFull.colorBgSecondary.px12.py8.bRadius5.$,rows:s,value:l.override,placeholder:o,onChange:a(t),disabled:!l.enabled})]})})]})})(s,e,t,d,l,i,n),[s,l,d]);return{inputs:s,setInputs:o,handleInputChange:l,handleCheckboxChange:d,renderInput:c}}(aq,"firstDraftMakeKitDebugState"),o=a.useMemo(()=>i.componentizeResultMapping.enabled?async()=>await function(e){if(!e||""===e.trim())return{};try{return JSON.parse(e)}catch(e){return console.warn("Failed to parse JSON:",e),{}}}(i.componentizeResultMapping.override):i.componentizePrompt.enabled?async e=>await aG(i.componentizePrompt.override,e):void 0,[i.componentizePrompt.override,i.componentizeResultMapping.override,i.componentizeResultMapping.enabled,i.componentizePrompt.enabled]),l=a.useMemo(()=>{if(i.suggestProps.enabled)return async e=>{try{return await aH(i.suggestProps.override,e)}catch(e){return console.error("Failed to get suggested props:",e),[]}}},[i.suggestProps.override,i.suggestProps.enabled]),[d,c]=a.useState(!1);return d?(0,r.jsx)(aE.x.Provider,{value:{getSuggestedComponents:o,getSuggestedProps:l},children:(0,r.jsx)(aU,{})}):(0,r.jsx)("div",{children:(0,r.jsxs)(ab.Y,{direction:"vertical",spacing:"auto",padding:8,children:[(0,r.jsx)(eK.E,{fontSize:14,fontWeight:"medium",children:"Make First Draft Kit (Debug)"}),(0,r.jsxs)(ab.Y,{direction:"vertical",padding:8,width:"fill-parent",spacing:16,children:[n({field:"componentizePrompt",label:"Componentize Prompt Override",rows:3,placeholder:"Enter override, must contain {{jsx}} for substitution"}),n({field:"suggestProps",label:"Suggest Props Prompt Override",rows:3,placeholder:"Enter override, must contain {{jsx}} for substitution"}),n({field:"componentizeResultMapping",label:"Componentize Result Mapping Override",rows:3,placeholder:"Enter override, must contain {{jsx}} for substitution"})]}),(0,r.jsxs)(ee.B,{gap:8,children:[(0,r.jsx)(tW.$n,{variant:"secondary",onClick:async()=>{await aW({componentizePromptOverride:i.componentizePrompt.enabled?i.componentizePrompt.override:void 0,dispatch:e,close:t})},children:"Eval componentize on page"}),(0,r.jsx)(tW.$n,{variant:"secondary",onClick:()=>c(!0),children:"Run on current selection"}),(0,r.jsx)(tW.$n,{variant:"secondary",onClick:()=>aK({componentizePromptOverride:i.componentizePrompt.enabled?i.componentizePrompt.override:void 0,dispatch:e}),children:"Generate test case from selected"})]})]})})},{}),name:$.Sn.FIRST_DRAFT_MAKE_KIT_DEBUG},beforeModuleOpen:()=>{(0,np.B3)(Y.JT.FIRST_DRAFT_MAKE_KIT),(0,np.B3)(Y.JT.FIRST_DRAFT_COMPONENTIZE),(0,np.B3)(Y.JT.FIRST_DRAFT_SUGGEST_PROPS)}},iconType:(0,r.jsx)(iZ,{}),searchSynonyms:["debug kit","debug make kit"],tags:[iP.$.AI]},{callback:L.lQ,action:Y.JT.FIRST_DRAFT_LINTING,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_publish_ux"],quickAction:{module:{module:(0,r.jsx)(nI.S6,{}),name:$.Sn.FIRST_DRAFT_LINT}},tags:[iP.$.AI]},{callback:L.lQ,action:Y.JT.FIRST_DRAFT_DEBUG,flags:["edit","design"],featureFlags:["first_draft_native","first_draft_debug"],quickAction:{module:{module:(0,r.jsx)(function(){let e=(0,a.lazy)(()=>i.e(1971).then(i.bind(i,941971)));return(0,r.jsx)(u.tH,{boundaryKey:"MakeEdits",fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:o.e.AI_GENERATION},children:(0,r.jsx)(nk.T.Provider,{value:{recordingKey:"firstDraftDebugView"},children:(0,r.jsx)(a.Suspense,{fallback:(0,r.jsx)("div",{children:"Loading..."}),children:(0,r.jsx)(e,{})})})})},{}),name:$.Sn.FIRST_DRAFT_DEBUG}},tags:[iP.$.AI]},{name:Y.JT.FIND_INSPIRATION,action:Y.JT.FIND_INSPIRATION,displayNode:(0,F.tx)("fullscreen_actions.quick_actions.find-inspiration-verbose"),displayForQuickCommand:"find-inspiration-quick-command",args:{},tags:[iP.$.AI],flags:["design","slides","cooper"],featureFlags:(0,ed.k)().hub_file_fragments?[]:["asset_suggestions"],callback:L.lQ,quickAction:{module:{module:(0,ed.k)().hub_file_fragments?(0,r.jsx)(tE.z6,{isVisualSearch:!0}):(0,r.jsx)(sT.WS,{}),name:$.Sn.VISUAL_SEARCH},beforeModuleOpen:()=>(0,sT.jp)(B.G4.ACTIONS_LIST)},iconType:(0,r.jsx)(eU.T,{}),searchSynonyms:["visual search","image search","selection search","visual lookup","find matching","search for similar","find similar designs","find more like"]},{action:Y.JT.REMOVE_BACKGROUND,featureFlags:[],tags:[iP.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:(0,r.jsx)(iQ.$,{}),quickAction:{module:{module:(0,r.jsx)(s1.w,{source:"quick-actions"}),name:$.Sn.BACKGROUND_REMOVE_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{if((0,np.B3)(Y.JT.REMOVE_BACKGROUND),(0,eA.Yh)(X.D.getState().mirror.appModel,Y.JT.REMOVE_BACKGROUND)){let e=d.ruz?.getNodeImagePairsForEdit()??[];(0,np.Ag)(Y.JT.REMOVE_BACKGROUND,nr.J,{source:"quick-actions",targets:e},{isBatch:e.length>1})}}},callback:L.lQ,searchSynonyms:["clean up image","clean up picture","make transparent","delete background","erase background","eliminate background","isolate subject"]},{action:Y.JT.UPSCALE_IMAGE,featureFlags:[],tags:[iP.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:(0,r.jsx)(i$.X,{}),quickAction:{module:{module:(0,r.jsx)(s1.q,{source:"quick-actions"}),name:$.Sn.UPSCALE_IMAGE_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{if((0,np.B3)(Y.JT.UPSCALE_IMAGE),(0,eA.Yh)(X.D.getState().mirror.appModel,Y.JT.UPSCALE_IMAGE)){let e=d.ruz?.getNodeImagePairsForEdit()??[];(0,np.Ag)(Y.JT.UPSCALE_IMAGE,nn.r6,{source:"quick-actions",targets:e},{isBatch:e.length>1})}}},callback:L.lQ,searchSynonyms:["boost resolution","sharpen image","sharpen picture","upscale image","scale up","enlarge image","refine image","improve image","unblur","reduce blur","increase size","increase quality","enhance clarity","crisp"]},{callback:L.lQ,action:Y.JT.AUTO_RENAME_LAYERS,featureFlags:["eai_auto_rename_layers"],tags:[iP.$.AI],flags:["edit","design"],iconType:(0,r.jsx)(i0._,{}),quickAction:{module:{module:(0,r.jsx)(s5.A,{source:d.uQ6.QUICK_ACTIONS}),name:$.Sn.RENAME_LAYERS_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,np.B3)(Y.JT.AUTO_RENAME_LAYERS),(0,eA.Yh)(X.D.getState().mirror.appModel,Y.JT.AUTO_RENAME_LAYERS)&&(0,np.Ag)(Y.JT.AUTO_RENAME_LAYERS,nt.Ay,{source:d.uQ6.QUICK_ACTIONS,overwriteNames:!1})}},searchSynonyms:["rename all layers","name layers"]},{callback:L.lQ,action:Y.JT.GENERATE_IMAGE,featureFlags:[],tags:[iP.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:(0,r.jsx)(i1.T,{}),quickAction:{module:{module:(0,r.jsx)(s0.Ay,{}),name:$.Sn.GENERATE_IMAGE},beforeModuleOpen:()=>{(0,np.B3)(Y.JT.GENERATE_IMAGE)}},searchSynonyms:["generate image","make a picture","generate graphic","generate picture","generate illustration","create image"]},{callback:L.lQ,action:Y.JT.EDIT_IMAGE,featureFlags:[],tags:[iP.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:(0,r.jsx)(iq.T,{}),quickAction:{module:{module:(0,r.jsx)(s0.Tu,{}),name:$.Sn.EDIT_IMAGE},beforeModuleOpen:()=>{(0,np.B3)(Y.JT.EDIT_IMAGE)},alwaysEnabled:!0},searchSynonyms:["edit image","edit picture","edit graphic","edit illustration","modify image","change image","style image"]},{callback:L.lQ,action:Y.JT.MAKE_VIDEO,featureFlags:["aip_mw_video"],tags:[iP.$.AI],flags:["edit","design","slides","cooper","sites","whiteboard"],iconType:(0,r.jsx)(i1.T,{}),quickAction:{module:{module:(0,r.jsx)(function(){let e=(0,s4.to)(),{close:t}=(0,j.cq)(),[i,n]=a.useState(""),{promptHistory:s,addPromptToHistory:o}=(0,a$.a)(on,e=>e),l=(0,np.RL)(Y.JT.MAKE_VIDEO,oi.wx),{start:d,stop:c,state:u,aiTrackingContext:p}=l,{referenceImages:m,handleFileUpload:h,createImageAttachments:f,fileInputRef:g}=(0,s6.Iu)();(0,a.useEffect)(()=>{oe().then(e=>{e&&(0,s8.w)(e,e=>{e.imageHash&&e.image&&h({status:"success",type:"IMAGE",nodeGuid:e.nodeGuid,image:e.image,imageHash:e.imageHash,uniqueId:(0,s7.lA)()})})}).catch(e=>{console.error("Failed to get last frame:",e)})},[h]);let _=(0,a.useCallback)(async()=>{o(i);let e=await (0,s0.DI)(m);await d({prompt:i,imageUrls:e})},[o,i,m,d]);switch((0,a.useEffect)(()=>()=>{c(),(0,np.B3)(Y.JT.MAKE_VIDEO)},[c]),u){case np.qy.INITIAL:return(0,r.jsx)(nT.A,{action:Y.JT.MAKE_VIDEO,aiTrackingContext:p,ariaLabel:(0,F.t)("fullscreen_actions.make_video"),extraFooter:(0,r.jsx)(s0.Ti,{fileInputRef:g,disabled:m.length>=1,tooltip:m.length>=1?(0,F.t)("video_ai.make_video.initial_frame_already_set"):(0,F.t)("video_ai.make_video.set_initial_frame"),multiple:!1,onFileUpload:f}),featureNameForInstrumentation:"make_video",maxLength:1024,minLength:3,onBack:e?t:void 0,onChangePrompt:n,onRun:_,prompt:i,promptHistory:s,submitLabel:(0,F.tx)("ai.make_it"),useClose:e});case np.qy.RUNNING:return(0,r.jsx)(nw.F,{onCancel:t,aiTrackingContext:p,children:(0,F.tx)("video_ai.make_video.processing")});case np.qy.DONE:let x={...p,iteration_view_type:nC.$J.SUCCESS_WITH_ITERATION};return(0,r.jsx)(nE.Oq,{iterateOptions:[],aiTrackingContext:x,completionString:(0,F.t)("video_ai.make_video.initial_completion"),showFeedback:!1,targets:[]});case np.qy.ERROR:return(0,r.jsx)(nv.E,{error:l.error,buttons:[{type:nv.f.GO_BACK,callback:()=>(0,np.B3)(Y.JT.MAKE_VIDEO)}],aiTrackingContext:p});case np.qy.CANCELLED:return null}},{}),name:$.Sn.MAKE_VIDEO},beforeModuleOpen:()=>{(0,np.B3)(Y.JT.MAKE_VIDEO)}},searchSynonyms:["make video","generate video","create video","make animation","make film","make clip"]},{action:Y.JT.MAGIC_LINK,flags:["edit","design"],featureFlags:["prototype_ai_magic_link"],tags:[iP.$.AI],quickAction:{module:{module:(0,r.jsx)(s2.p,{}),name:$.Sn.MAGIC_LINK},alwaysEnabled:!0,beforeModuleOpen:()=>{X.D.dispatch((0,ni.Zh)({name:"prototype.ai_magic_link_entry_clicked",params:{source:"quick_actions"}})),(0,np.B3)(Y.JT.MAGIC_LINK),(0,eA.Yh)(X.D.getState().mirror.appModel,Y.JT.MAGIC_LINK)&&(0,np.Ag)(Y.JT.MAGIC_LINK,na.e,{})}},iconType:(0,r.jsx)(i2.B,{}),searchSynonyms:["magic link","add prototype links","add prototype connections","connect prototype","add interactions","make prototype"]},{action:Y.JT.CONTENT_FILL,featureFlags:[],tags:[iP.$.AI],flags:["edit","design","sites"],iconType:(0,r.jsx)(i3.c,{}),quickAction:{module:{module:(0,r.jsx)(nm.F,{}),name:$.Sn.REGENERATE_TEXT_TOAST},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,np.B3)(Y.JT.CONTENT_FILL)}},searchSynonyms:["fill content","content fill","lorem ipsum","rewrite placeholder text","replace duplicates","rewrite duplicates"]},{action:Y.JT.ASSISTANT_CHAT,featureFlags:["prt_legacy_v3"],flags:["design","slides","cooper"],tags:[iP.$.AI],iconType:(0,r.jsx)(eB.V,{}),quickAction:{module:{module:(0,r.jsx)(t1,{}),name:$.Sn.ASSISTANT_CHAT},beforeModuleOpen:()=>{c.zl.set(tr,{status:tn.Idle,messages:[]})}},searchSynonyms:["chat"]},{action:Y.JT.IMAGE_TO_DESIGN,featureFlags:["gen_llava_lamp"],flags:["edit","design"],tags:[iP.$.AI],iconType:(0,r.jsx)(i5.f,{}),quickAction:{module:{module:(0,r.jsx)(function(){let{start:e}=(0,np.RL)(Y.JT.IMAGE_TO_DESIGN,sY);return(0,r.jsx)(s$,{action:Y.JT.IMAGE_TO_DESIGN,instruction:(0,F.tx)("image_to_design.instruction"),onPerform:()=>{e({})}})},{}),name:$.Sn.IMAGE_TO_DESIGN},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,np.B3)(Y.JT.IMAGE_TO_DESIGN),(0,eA.Yh)(X.D.getState().mirror.appModel,Y.JT.IMAGE_TO_DESIGN)&&(0,np.Ag)(Y.JT.IMAGE_TO_DESIGN,sY,{})}},searchSynonyms:["convert image to layers","make image editable","convert image to design","generate design from image","screenshot to design","picture to design"]},{action:Y.JT.IMAGE_TO_DESIGN_ORACLE,featureFlags:["gen_llava_lamp"],flags:["edit","design"],tags:[iP.$.AI],iconType:(0,r.jsx)(eB.V,{}),quickAction:{module:{module:(0,r.jsx)(function(){let{start:e}=(0,np.RL)(Y.JT.IMAGE_TO_DESIGN_ORACLE,sX);return(0,r.jsx)(s$,{action:Y.JT.IMAGE_TO_DESIGN_ORACLE,instruction:(0,F.tx)("image_to_design.oracle_instruction"),disableImageUpload:!0,onPerform:()=>{let t=eq.UN().getCurrentPage()?.directlySelectedNodes;if(!t||1!==t.length||void 0===t[0])return;let i=t[0];e({node:i,width:i.size.x,height:i.size.y})}})},{}),name:$.Sn.IMAGE_TO_DESIGN_ORACLE},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,np.B3)(Y.JT.IMAGE_TO_DESIGN_ORACLE)}}},{callback:()=>{c.zl.set(nu.bJ)},action:Y.JT.WHITEBOARD_GENERATE_CONTENT,featureFlags:["figjam_quick_actions_v2"],tags:[iP.$.AI],flags:["edit","whiteboard"],iconType:(0,r.jsx)(i6,{}),searchSynonyms:["create content","add content","generate content","create diagram","add diagram","generate diagram","create templates and diagrams","add templates and diagrams","generate templates and diagrams"]},{action:Y.JT.MERMAID_TO_DIAGRAM,featureFlags:["figjam_mermaid_to_diagram"],tags:[iP.$.AI],flags:["edit","whiteboard"],iconType:(0,r.jsx)(i7.r,{}),quickAction:{module:{module:(0,r.jsx)(function(){let e=(0,np.RL)(Y.JT.MERMAID_TO_DIAGRAM,nS),{start:t,state:i,aiTrackingContext:n}=e,[s,o]=a.useState("");switch(i){case np.qy.INITIAL:return(0,r.jsx)(nT.A,{action:Y.JT.MERMAID_TO_DIAGRAM,aiTrackingContext:n,minLength:3,prompt:s,onChangePrompt:o,onRun:()=>{t({mermaidText:s})},submitLabel:(0,F.t)("figjam_ai.ai_actions.make_diagram_button")});case np.qy.RUNNING:return(0,r.jsx)(nw.F,{aiTrackingContext:n,children:(0,F.t)("figjam_ai.ai_actions.make_diagram_progress")});case np.qy.DONE:return(0,r.jsx)(nE.Oq,{aiTrackingContext:{...n,iteration_view_type:nC.$J.DEFAULT_SUCCESS},iterateOptions:[]});case np.qy.ERROR:return(0,r.jsx)(nv.E,{error:e.error,aiTrackingContext:n});case np.qy.CANCELLED:return null}},{}),name:$.Sn.MERMAID_TO_DIAGRAM},alwaysEnabled:!0,beforeModuleOpen:()=>{(0,np.B3)(Y.JT.MERMAID_TO_DIAGRAM)}}},oa({action:Y.JT.SUMMARIZE_STICKIES,aiActionType:nc.hG.SUMMARIZE_STICKIES,actionLabel:(0,F.tx)("fullscreen_actions.summarize-stickies"),instructionLabel:(0,F.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:(0,r.jsx)(i8.O,{})}),oa({action:Y.JT.SORT_STICKIES_BY_TOPIC,aiActionType:nc.hG.SORT_STICKIES_BY_TOPIC,actionLabel:(0,F.tx)("fullscreen_actions.sort-stickies-by-topic"),instructionLabel:(0,F.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:(0,r.jsx)(i9.$,{})}),oa({action:Y.JT.SORT_STICKIES_BY_COLOR,aiActionType:nc.hG.SORT_STICKIES_BY_COLOR,actionLabel:(0,F.tx)("fullscreen_actions.sort-stickies-by-color"),instructionLabel:(0,F.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:(0,r.jsx)(i9.$,{})}),oa({action:Y.JT.SORT_STICKIES_BY_AUTHOR,aiActionType:nc.hG.SORT_STICKIES_BY_AUTHOR,actionLabel:(0,F.tx)("fullscreen_actions.sort-stickies-by-author"),instructionLabel:(0,F.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:(0,r.jsx)(i9.$,{})}),oa({action:Y.JT.SORT_STICKIES_BY_STAMP_COUNT,aiActionType:nc.hG.SORT_STICKIES_BY_STAMP_COUNT,actionLabel:(0,F.tx)("fullscreen_actions.sort-stickies-by-stamp-count"),instructionLabel:(0,F.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:(0,r.jsx)(i9.$,{})}),oa({action:Y.JT.SORT_STICKIES_BY_STAMP_TYPE,aiActionType:nc.hG.SORT_STICKIES_BY_STAMP_TYPE,actionLabel:(0,F.tx)("fullscreen_actions.sort-stickies-by-stamp-type"),instructionLabel:(0,F.tx)("figjam_ai.organize_stickies.make_selection_instruction"),icon:(0,r.jsx)(i9.$,{})}),oa({action:Y.JT.MIND_MAP_GENERATE_IDEAS,aiActionType:nc.hG.MIND_MAP_GENERATE_IDEAS,actionLabel:(0,F.tx)("fullscreen_actions.mind-map-generate-ideas"),instructionLabel:(0,F.tx)("figjam_ai.make_mindmap_ideas.make_selection_instruction"),icon:(0,r.jsx)(i7.r,{}),searchSynonyms:["generate new mind map ideas","generate mind map ideas","generate ideas"]})];function oo(){let e=(0,m.PE)(),t=!(0,ne.q8)(),i=(0,eW.ow)(),n=e||(0,ed.k)().figjam_ai_menu_items_all_access&&i&&t,s=(0,m.GM)(),o=(0,t9.V)(),l=(0,is.Vr)(),d=(0,q.eH)(),c=(0,eE.sZ)();return(0,a.useMemo)(()=>os.reduce((e,t)=>{for(let i of t.featureFlags||[])if(!(0,ed.k)()[i])return e;if(t.action===Y.JT.FIND_INSPIRATION){if(!d&&!o)return e;let i={...t};return l?.name&&!l?.isSlide&&(i.displayNode=(0,F.tx)("fullscreen_actions.quick_actions.find-inspiration-with-selection",{frameName:(0,r.jsx)(eK.E,{color:"secondary",children:l?.name})})),e.push(i),e}return t.action===Y.JT.EDIT_IMAGE&&(0,ne.dZ)(c)||(t.action===Y.JT.GENERATE_IMAGE||t.action===Y.JT.EDIT_IMAGE||t.action===Y.JT.UPSCALE_IMAGE||t.action===Y.JT.REMOVE_BACKGROUND)&&!s||n&&e.push(t),e},[]),[n,s,o,l,d,c])}var ol=i(637515),od=i(805925),oc=i(57440),ou=i(924231),op=i(964520);function om(e){let{submenuItem:t,path:i}=e,{push:n,close:a}=(0,j.cq)();if(!t||!t.itemPath||t.submenu&&0===t.submenu.length)return null;let s=(0,ex.TW)(t);return(0,r.jsx)(aA.B.Item,{primaryAction:{onAction:()=>{if(t.submenu){n({name:$.Sn.PLUGIN_SUBMENU_ENTRY,module:(0,r.jsx)(oh,{item:t,path:i.concat(s)})},{shouldResetSearchQuery:!0});return}let e=!t.itemParameterArgs;t.callback&&(t.callback(),e&&a())},shortcuts:[{key:M.Uz.ENTER},{key:M.Uz.TAB}]},actionLabel:!1,children:(0,r.jsxs)("div",{className:P.s.flex.justifyBetween.wFull.$,children:[(0,r.jsx)("div",{className:P.s.ml28.$,children:s}),t.submenu&&(0,r.jsx)(op.a,{})]})},s)}function oh(e){let[t,i]=a.useState(""),[n,s]=a.useState([]),o=(0,H.o3)(H.nt.quickActionsA11y),{item:l,path:d}=e;if(a.useEffect(()=>{l.submenu&&(s(l.submenu),i(""))},[l]),!l.submenu)return null;let c=(0,r.jsx)(aA.B,{resultCount:n.length,children:n.map(e=>(0,r.jsx)(om,{submenuItem:e,path:d},e.extensionSearchString||""))}),u=e=>{i(e),l.submenu&&s(l.submenu.filter(t=>(0,ex.TW)(t).toLowerCase().includes(e.toLowerCase())))},p=d.join(" > ");return(0,r.jsxs)(et.n,{height:Y.wC,canShrinkIfNeeded:o,children:[(0,r.jsx)(ei.vj,{searchQuery:t,onSearchChange:u,onClear:()=>{u("")},placeholder:p}),(0,r.jsx)(et.n.Body,{children:c})]})}var of=i(719609),og=i(136246),o_=i(985254),ox=i(543529),oy=i(940356),ob=i(304671),oC=i(191312),ov=i(509613),oE=(e=>(e.PERSONAL_DRAFT="PERSONAL_DRAFT",e.TEAM_OR_ORG_DISABLED="TEAM_OR_ORG_DISABLED",e.ORG_GUEST="ORG_GUEST",e.NON_PAID_SEAT="NON_PAID_SEAT",e.NO_ORG_OR_TEAM_USER="NO_ORG_OR_TEAM_USER",e.ROLLING_OUT="ROLLING_OUT",e))(oE||{}),oT=i(251970);function ow({title:e,subTitle:t,icon:i,onClose:n,dataTestId:a}){return(0,r.jsx)("div",{"data-testid":a,className:P.s.colorBgBrandTertiary.p8.bRadius8.$,children:(0,r.jsxs)("div",{className:P.s.flex.gap8.$,children:[i,(0,r.jsxs)("div",{className:P.s.flex.flexColumn.flexGrow1.$,children:[(0,r.jsx)("span",{className:"banner--title--gNQoq",children:e}),(0,r.jsx)("span",{className:"banner--subtitle--8K4pM",children:t})]}),n?(0,r.jsx)(rT.K,{onClick:n,"aria-label":(0,F.t)("qa.dismiss"),htmlAttributes:{"data-testid":"banner-close-icon"},children:(0,r.jsx)(oT.A,{style:{"--color-icon":"var(--color-icon-secondary)"}})}):null]})})}function oj(){let e;let{reason:t,dismissKey:i}=function(){let e=(function(){let e=(0,a.useMemo)(()=>[],[]),t=(0,ob.R)(),i=(0,tC.D6)("useAIDisabledReasons").unwrapOr(null),n=(0,tC.X$)("useAIDisabledReasons").unwrapOr(null),r=(0,tC.T5)("useAIDisabledReasons").unwrapOr(null),s=(0,m.PE)(),o=(0,G.q5)(),l=i?.key.type===oC.h4.ORG_USER&&i?.permission===oC.Xn.GUEST,d=!r?.aiFeaturesEnabled,c=!!(n&&n.tier!==oC.Ag.STARTER),u=i?.designPaidStatus===oC.dQ.FULL,p=t?!i?.seatTypeLicenseTypes?.includes(oC.G_.DESIGN):!u,h=!!n,f=h&&!!i,g=(0,eW.E3)();if(s||g!==e6.nT.Design)return e;if(!(0,ov.$7)("useDisabledReasons"))return["ROLLING_OUT"];let _=[];return!o||o.parentOrgId||o.teamId||_.push("PERSONAL_DRAFT"),d&&_.push("TEAM_OR_ORG_DISABLED"),l&&_.push("ORG_GUEST"),c&&p&&_.push("NON_PAID_SEAT"),h&&!f&&_.push("NO_ORG_OR_TEAM_USER"),_})().sort((e,t)=>oS(e)-oS(t)),t={seen_no_ai_org_disabled:(0,oy.f)("seen_no_ai_org_disabled"),seen_no_ai_team_or_org_user:(0,oy.f)("seen_no_ai_team_or_org_user"),seen_no_ai_rolling_out:(0,oy.f)("seen_no_ai_rolling_out")};return(0,a.useMemo)(()=>{for(let i of e){let e=function(e){switch(e){case oE.ROLLING_OUT:return"seen_no_ai_rolling_out";case oE.TEAM_OR_ORG_DISABLED:return"seen_no_ai_org_disabled";case oE.NON_PAID_SEAT:case oE.NO_ORG_OR_TEAM_USER:case oE.ORG_GUEST:return"seen_no_ai_team_or_org_user";case oE.PERSONAL_DRAFT:case null:return null;default:(0,O.xb)(e)}}(i);if(!e)return{reason:i};if(!t[e])return{reason:i,dismissKey:e}}return{reason:null}},[e,t])}(),n=(0,s.wA)(),o=(0,ox.yy)(),l=(0,c.md)(G.Hu),d=(0,F.t)("qa.no_ai.title");switch(t){case oE.ROLLING_OUT:case null:return null;case oE.PERSONAL_DRAFT:d=(0,F.t)("qa.no_ai.title.personal_draft"),e=(0,F.t)("qa.no_ai.subtitle.personal_draft");break;case oE.TEAM_OR_ORG_DISABLED:d=(0,F.t)("qa.no_ai.title.org_disabled"),e=(0,F.t)("qa.no_ai.subtitle.org_disabled");break;case oE.NON_PAID_SEAT:case oE.NO_ORG_OR_TEAM_USER:case oE.ORG_GUEST:d=(0,F.t)("qa.no_ai.title.not_available_here"),e=(0,F.t)("qa.no_ai.subtitle.team_or_org_user_no_access",{orgOrTeamName:o?.name||l?.name||""});break;default:(0,O.xb)(t)}return(0,r.jsx)("div",{className:P.s.mx8.mb8.$,children:(0,r.jsx)(ow,{title:d,subTitle:e,icon:(0,r.jsx)(tA.C,{}),dataTestId:"no-ai-banner",onClose:i?()=>n(o_.b({[i]:!0})):void 0})})}function oS(e){switch(e){case oE.ROLLING_OUT:return 0;case oE.PERSONAL_DRAFT:return 1;case oE.NON_PAID_SEAT:case oE.NO_ORG_OR_TEAM_USER:case oE.ORG_GUEST:return 2;case oE.TEAM_OR_ORG_DISABLED:return 3;case null:return 1e3;default:(0,O.xb)(e)}}var ok=i(783179),oI=i(189990),oN=i(750789),oA=i(777551),oO=i(453187),oL=i(684168);function oR(e){let{extension:t,publishedExtension:i,canRequest:n,canRun:r}=e,a=(0,eE.sZ)(),s=(0,oL.RW)(),o=(0,oO.a)(a?.id,t.plugin_id,s.loaded?s.data?.workspaceId:void 0);if((0,ek.bH)(t)&&a&&a.name)return{text:a.name};if((0,ek.ZQ)(t)&&i&&(0,oA.AC)(i))return{text:(0,F.t)("qa.extensions.in_review"),variant:of.x.BRAND};if((0,ek.ZQ)(t))return{text:(0,F.t)("qa.extensions.development")};if(r);else if(o)return{text:(0,F.t)("qa.extensions.approval_pending")};else if(n)return{text:(0,F.t)("qa.extensions.needs_approval")};return null}function oM({text:e,variant:t}){return(0,r.jsx)(of.E,{variant:t,children:(0,r.jsx)(oN.G,{text:e})})}function oD(e){let{searchQuery:t,fullscreenMenuAction:i}=e,n="";if(i.searchSynonyms&&(n+=`Synonyms: ${i.searchSynonyms.join(", ")}`),!(0,rd.h8)())return null;let{details:a,score:s}=(0,iv.ou)((0,eO.x0)()).debugData(t,(0,ia._g)(i).searchItem),o=`Score:${s.toFixed(2)}`;return(0,r.jsx)("div",{className:P.s.ml8.colorTextSecondary.noWrap.$,"data-tooltip":[a,n].filter(Boolean).join("\n"),"data-tooltip-type":eI.Ib.TEXT,"data-tooltip-max-width":300,"data-testid":"search-debug-info",children:o})}var oP=i(718668),oF=i(617101),oB=i(586486);let oU=e=>(0,e_.Zj)(e)&&!e.hideCheckForQuickCommand,oG=()=>{};function oH({item:e,searchQuery:t,createCommonMetrics:i}){let{push:n}=(0,j.cq)(),{addFrecencyUsage:l}=(0,eO.fJ)(),d=(0,e_.Dz)(e),c=(0,s.d4)(e=>e.mirror.appModel),u=(0,s.wA)(),{close:p}=(0,j.cq)(),m=(0,eT.J2)((0,eC.UK)().showQuickCommandRankDebug),h=(0,C.V2)(),f=(0,ev.p8)("keyboardShortcuts"),_=(0,a.useCallback)(()=>{p()},[p]),x=(0,ec.A)(_,300);(0,a.useEffect)(()=>()=>{x.cancel()},[x]);let y=(0,oI.r7)(),b=a.useRef(!1),E=(0,a.useCallback)(n=>{let r=n?(0,ok.OZ)(n):"",a={...i(),shortcutText:r};(0,eM.kp)(a),y(e),l(e,t)},[l,y,i,e,t]),T=(0,a.useCallback)((e,i)=>{if(b.current)return;b.current=!0;let a=i?.key===M.Uz.TAB?"tab":"enter";if(x.isPending()&&x.cancel(),e.disabled)return;if("plugins-menu-item"===e.name&&!h){_(),ej.R.instance.handleUpgrade(eg.Q7.RUN_PLUGIN);return}let s=!!e.itemParameterArgs,l=(0,ey.YT)(e);if(!(s||l||"enter"===a))return;let d=null;if(e.quickAction){let t={};if(e.quickAction.retainSearchQuery&&(t.shouldResetSearchQuery=!1),e.quickAction.beforeModuleOpen){let t=(0,g._V)();e.quickAction.beforeModuleOpen(t)}n(e.quickAction.module,t),E(i);return}if(s)switch(a){case"enter":if(e.runPluginArgs&&!t){let t={...e.runPluginArgs,...e.itemParameterArgs?.command&&{command:e.itemParameterArgs.command}};d=async()=>{await ej.R.instance.enqueue({mode:"run-forever",runPluginArgs:t})}}else if(e.parametersRequired){let t=e.itemParameterArgs;n({name:$.Sn.PLUGIN_PARAMETER_ENTRY,module:(0,r.jsx)(ou.r,{command:t.command,displayName:t.displayName,initialParameterValues:e.runPluginArgs?.parameterValues,onExitParameterEntry:L.lQ,parameterOnly:t.parameterOnly,parameters:t.parameters,pluginId:t.pluginId,pluginLocalFileId:t.pluginLocalFileId,recentlyUsedCommandName:(0,eR.EG)(e),triggeredFrom:"quick-actions"})}),E(i);return}break;case"tab":if(e.itemParameterArgs){let t=e.itemParameterArgs;n({name:$.Sn.PLUGIN_PARAMETER_ENTRY,module:(0,r.jsx)(ou.r,{command:t.command,displayName:t.displayName,initialParameterValues:e.runPluginArgs?.parameterValues,onExitParameterEntry:L.lQ,parameterOnly:t.parameterOnly,parameters:t.parameters,pluginId:t.pluginId,pluginLocalFileId:t.pluginLocalFileId,recentlyUsedCommandName:(0,eR.EG)(e),triggeredFrom:"quick-actions"})}),E(i);return}break;default:(0,O.xb)(a)}if(l){n({name:$.Sn.PLUGIN_SUBMENU_ENTRY,module:(0,r.jsx)(oh,{item:e,path:[(0,ex.TW)(e)]})}),E(i);return}e.callback&&!d?d=async()=>{e.callback&&await e.callback((0,e_.Dz)(e),e.args,u)}:e.action&&(d=async()=>{if(!e.action)return;let t=oG();if(t)return await t();eb.VU.get(e.action,"quick-actions",e.args)()}),E(i),oU(e)&&!(0,ep.PN)()?x():e.keepMenuOpen||_(),d?d().catch(t=>{(0,eu.$D)(o.e.AI_FOR_PRODUCTION,t,{extra:{item:e}})}):(0,eu.$D)(o.e.AI_FOR_PRODUCTION,Error("No valid action triggered from quick actions"),{extra:{item:e}})},[b,_,x,u,n,t,E,h]),w=e.shortcutText||(0,eA.c1)(f,d),S="plugins-menu-item"===e.name&&!!e.itemParameterArgs&&e.itemParameterArgs.parameters.length>0,k=(0,ey.YT)(e),I=(0,C.cW)(),N=(0,C.ZT)(),A=(()=>{if(e.itemParameterArgs&&e.runPluginArgs&&!t)return(0,r.jsx)(eL._,{runPluginArgs:e.runPluginArgs,itemParameterArgs:e.itemParameterArgs});if(e.itemPath){let t=e.itemPath;return(0,r.jsx)(eL.h,{itemPath:t})}return e.displayNode?(0,r.jsx)(r.Fragment,{children:e.displayNode}):(0,r.jsx)(r.Fragment,{children:(0,eR.EG)(e)})})(),R=oU(e),D=R?(0,e_.WJ)(c,e):void 0,B=(0,v.h)("plugin"),U=(0,v.h)("widget"),G=(0,eE.sZ)(),z="go-to-page"===e.name?`go-to-page-${e.args?.pageName}`:e.name||e.action;(0,a.useEffect)(()=>{e.onRender&&e.onRender(!!t)},[e,t]);let V=(0,H.o3)(H.nt.quickActionsA11y);return(0,r.jsx)(aA.B.Item,{primaryAction:{text:"Perform",shortcuts:[{key:M.Uz.ENTER},{key:M.Uz.TAB}],onAction:({shortcut:t})=>T(e,t)},actionLabel:!1,disabled:V?e.disabled:void 0,recordingKey:z,scrollMargin:"32px 0 16px 0",type:V&&R?"checkbox":"button",isChecked:!!D,children:(0,r.jsx)(og._,{checked:D,disabled:e.disabled,displayNode:A,label:(0,eR.EG)(e),icon:function(e){if("plugins-menu-item"===e.name){let t;return(e.pluginId&&(t=(0,ew.DM)({idToSearch:e.pluginId,localExtensionsByFileId:void 0,publishedExtensions:{...I,...N}})),t&&!(0,ek.ZQ)(t))?(0,r.jsx)(eN.V,{className:P.s.colorIcon.w20.h20.m2.bRadius4.$,plugin:t,role:"presentation"}):(0,r.jsx)(eh.B,{className:P.s.colorIcon.w20.h20.bRadius4.$,svg:oB.A,ariaLabel:`${e.name} icon`,autosize:!0})}if(e.iconType&&"string"==typeof e.iconType){var t;return"external_link"===(t=e.iconType)?(0,r.jsx)(eh.B,{svg:oF.A,className:P.s.colorIcon.$}):"import"===t?(0,r.jsx)(ea.R,{}):"plus"===t?(0,r.jsx)(es.e,{}):"widget"===t?(0,r.jsx)(eo.v,{}):void 0}if(e.iconType&&"string"!=typeof e.iconType)return e.iconType}(e),badge:"run-local-plugin"===e.menuActionType||"insert-local-widget"===e.menuActionType?(0,r.jsx)("div",{style:ef.sx.add({maxWidth:"110px"}).$,children:(0,r.jsx)(oM,{text:(0,F.t)("fullscreen_actions.development")})}):G&&(B.some(t=>t.plugin_id===e.pluginId)||U.some(t=>t.plugin_id===e.pluginId))?(0,r.jsx)("div",{style:ef.sx.add({maxWidth:"110px"}).$,children:(0,r.jsx)(oM,{text:G.name})}):m?(0,r.jsx)(oD,{searchQuery:t,fullscreenMenuAction:e}):e.isRepairCommand&&(0,ed.k)().internal_only_debug_tools?(0,r.jsx)(of.E,{children:"REPAIR"}):e.action===Y.JT.FIRST_DRAFT&&e.disabled?(0,r.jsx)("div",{"data-tooltip":(0,F.t)("qa.unavailable"),"data-tooltip-type":eI.Ib.TEXT,style:{"--color-icon":"var(--color-icon-disabled)"},children:(0,r.jsx)(el.b,{})}):void 0,hoverBadges:(()=>{if((0,eM.BB)(e)){let t=(0,sa.O)(e);return[(0,r.jsx)(sa.y,{helpUrlVariant:t},"ai")]}if((0,eM.Z7)(e))return[(0,r.jsx)(of.E,{children:(0,F.tx)("general.beta")},"beta")]})(),keyboardShortcut:w?(0,r.jsx)(em.S,{shortcut:w}):S||k?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:P.s.colorBgTertiary.bRadius5.font11.h16.fontMedium.flex.itemsCenter.px4.mr8.$,"aria-hidden":!0,id:"tab-hint",children:(0,F.tx)("whiteboard.ai_modal.hint_tab")}),(0,r.jsx)(eh.B,{svg:oP.A,className:P.s.colorIcon.$,"aria-describedby":"tab-hint"})]}):void 0,dataTestId:z})})}function oz({setActiveTab:e}){let t=(0,I.Ev)(),i=(0,c.md)(E.Lk),n=(0,c.md)(E.dd),o=(0,s.d4)(eS.l),l=(0,c.md)(E.Rt),u=(0,a.useRef)(l),p=(0,c.md)(E.Q8),h=(0,a.useDeferredValue)(p);(0,a.useEffect)(()=>{u.current=l},[l]);let f=function(){let e=(0,iU.F)(),t=oo(),i=function(){let e=(0,s.d4)(e=>e.mirror.appModel.isReadOnly),t=(0,od.c4)(),i=function(){let e=(0,tv.wo)(),t=(0,C.cW)(),i=(0,C.ZT)(),n=(0,eW.E3)(),r=[],a=[];return e.forEach(e=>{if(!e.extensionInfo)return;let{extensionType:n,extensionId:s}=e.extensionInfo,o=(0,ew.DM)({idToSearch:s,localExtensionsByFileId:{},publishedExtensions:{...t,...i}});o&&("plugin"===n?r.push(o):a.push(o))}),{plugins:(0,ew.AG)(n,r),widgets:(0,ew.AG)(n,a)}}();return(0,a.useMemo)(()=>(0,ol.M)({isReadOnly:e,extensionMenuProps:{...t,recentlyUsedPlugins:[...t.recentlyUsedPlugins??[],...i.plugins??[]],recentlyUsedWidgets:[...t.recentlyUsedWidgets??[],...i.widgets??[]],unboundedRecents:!0},includeDisabled:!0,filters:{showUnpurchased:!1}}),[e,t,i])}(),n=function(){let e=(0,ev.p8)("pagesList"),t=(0,iK.bG)({pagesList:e,isComparingChanges:!1});return(0,a.useMemo)(()=>(0,ed.k)().qa_go_to_page?e.map(e=>({name:"go-to-page",args:{pageName:e.name},callback:()=>{t(e.nodeId)},iconType:(0,r.jsx)(il,{}),displayNode:(0,r.jsx)(r.Fragment,{children:(0,F.tx)("fullscreen_actions.quick_actions.go-to-page",{pageName:(0,r.jsx)(eK.E,{color:"secondary",children:e.name})})})})):[],[e,t])}(),o=function(){let e=(0,iy.J)(),t=(0,iF.Zr)("send-to-make-from-design"),i=function(){let e=(0,eq.UN)().getDirectlySelectedNodes();return(0,iz.j)(e.map(e=>e.name))??null}(),n=a.useMemo(()=>i?(0,r.jsx)(eK.E,{color:"secondary",children:i}):null,[i]);return a.useMemo(()=>t&&i&&e?[{...iH.Bc,displayNode:(0,r.jsx)(iV,{children:(0,F.tx)("fullscreen_actions.quick_actions.send-frame-to-figma-make",{frameName:n})})}]:[],[t,i,e,n])}(),l=function(){let e=(0,iF.Zr)("send-to-buzz-from-design"),t=(0,s.d4)(G.tB),i=(0,s.d4)(e4.vx),n=(0,ev.eY)(),o=n.getDirectlySelectedNodes(),l=a.useMemo(()=>({tags:[iP.$.BETA],iconType:(0,r.jsx)(iR.W,{}),searchSynonyms:["send to buzz","export to buzz","copy to buzz","create buzz file","figma buzz","buzz"],flags:["edit","design"],callback:(e,n,r)=>{(0,iD.rN)(r,(0,iD.VY)({openFile:t,fileVersion:i}),iB.f6.SEND_TO_BUZZ_FROM_DESIGN_QA_V2_MENU)}}),[i,t]);return a.useMemo(()=>{if(!d.Mpt||!e||!t||!i)return[];let a=o.length>0,s=a?d.Mpt.getSelectedNodesToSend():d.Mpt.getTopLevelFramesToSend();if(0===s.length)return[];if(1===s.length){let e=n.get(s[0]);if(e?.isTopLevelFrame())return[{action:"send-to-buzz-from-design",...l,displayNode:(0,F.tx)("buzz.send_from_design.send_node_to_figma_buzz",{nodeName:(0,r.jsx)("span",{className:"x1n0bwc9",children:e.name})})}]}return a?[{action:"send-selection-to-buzz-from-design",...l,displayNode:(0,F.tx)("buzz.send_from_design.send_selection_to_figma_buzz",{numSelectedNodes:s.length})}]:[{action:"send-to-buzz-from-design",...l,displayNode:(0,F.tx)("buzz.send_from_design.send_frames_to_figma_buzz",{numFrames:s.length})}]},[o,i,e,t,n,l])}();return(0,a.useMemo)(()=>[...e,...o,...l,...i,{name:"wand-menu",callback:L.lQ,children:t},...n],[e,t,i,n,o,l])}(),g=eP(),_=iL(g,f),x=function(e,t,i,n){let o=(0,tv.wo)(),l=(0,eF.WI)(o.map(i=>{let n=t.getItem(e,i.displayName);return n&&i.runPluginArgs&&(n.runPluginArgs=i.runPluginArgs),n})).slice(0,3),{items:u}=function(e,t,i){let n=(0,m.PE)(),r=(0,ie.ZC)(n),o=function(e,t,i){let n=im(),r=t.map(e),o=function(){let e=(0,eW.m0)(),t=(0,it.e)(),i=(0,ii.ZO)(),n=G.q5()?.canEdit,r=(0,m.PE)();return t?"VARIABLES_TABLE":i?"COMPONENT_BROWSER":e?"DEV":!1===n?"DESIGN_VIEWER":n&&r?"DESIGN_EDITOR_AI":n&&!r?"DESIGN_EDITOR_NO_AI":"NONE"}(),l=function(e,t){let i=function(){let e=(0,s.d4)(e=>e.mirror?.appModel),t=im(),{frecencyByAction:i,frecencyByQuery:n}=(0,eO.fJ)(),r=(0,ix.Tv)(),o=(0,ig.C)(),l=(0,iy.J)();return(0,a.useCallback)((a,s)=>{if(s)return[];let d=a.map(e),c=[],u=(0,iv.ou)({actions:i}),p=r.filter(e=>{let t=(0,eq.UN)().get(e);return t?.isSlide}).length>0,m=(0,eA.Yh)(e,"send-to-make-from-design");if(0===r.length||p)return c=[Y.JT.GENERATE_IMAGE,Y.JT.REMOVE_BACKGROUND,Y.JT.UPSCALE_IMAGE,Y.JT.EDIT_IMAGE,Y.JT.AUTO_RENAME_LAYERS,Y.JT.CONTENT_FILL,Y.JT.FIND_INSPIRATION,Y.JT.FIRST_DRAFT,Y.JT.FIRST_DRAFT_FINE_TUNE,Y.JT.MAGIC_LINK,Y.JT.MAKE_EDITS,Y.JT.SLIDES_GENERATE_SPEAKER_NOTES,Y.JT.SLIDES_REWRITE_TEXT,Y.JT.REWRITE_TEXT,Y.JT.SHORTEN_TEXT,Y.JT.TRANSLATE_TEXT,Y.JT.WHITEBOARD_GENERATE_CONTENT,Y.JT.SUMMARIZE_STICKIES,Y.JT.SORT_STICKIES_BY_TOPIC,Y.JT.MIND_MAP_GENERATE_IDEAS],o&&c.push(Y.OZ),[...c].map(e=>t(d,e,!0)).filter(e=>!!e).sort((e,t)=>u.sort("",(0,ia._g)(e).searchItem,(0,ia._g)(t).searchItem));{let r,a,s=0;if(i_.ruz){let e=i_.ruz.getNodeImagePairsForEdit();e.length>1&&(0,ed.k)().aip_batch_image_modify?s=1:1===e.length?s=2:i_.ruz.getGenerateImageTarget()&&(s=3)}m&&l&&c.push(Y.i0),c.push(Y.JT.CONTENT_FILL,Y.JT.TRANSLATE_TEXT,Y.JT.REWRITE_TEXT,Y.JT.SHORTEN_TEXT,Y.JT.SLIDES_GENERATE_SPEAKER_NOTES,Y.JT.SLIDES_REWRITE_TEXT,Y.JT.GENERATE_IMAGE,Y.JT.REMOVE_BACKGROUND,Y.JT.UPSCALE_IMAGE,Y.JT.EDIT_IMAGE,Y.JT.FIRST_DRAFT_MAKE_CHANGES,Y.JT.AUTO_RENAME_LAYERS,Y.JT.MAGIC_LINK,Y.JT.FIND_INSPIRATION,Y.JT.FIRST_DRAFT,Y.JT.MAKE_EDITS,Y.JT.FIRST_DRAFT_FINE_TUNE,Y.JT.SUMMARIZE_STICKIES,Y.JT.SORT_STICKIES_BY_TOPIC,Y.JT.MIND_MAP_GENERATE_IDEAS),o&&c.push(Y.OZ);let p=[...c].map(e=>t(d,e)).filter(e=>!!e),h=p.sort((e,t)=>(function(e,t,i){if(1===e){if(iE.has(t.action??"")&&!iE.has(i.action??""))return -1;if(!iE.has(t.action??"")&&iE.has(i.action??""))return 1}else if(2===e){if(iT.has(t.action??"")&&!iT.has(i.action??""))return -1;if(!iT.has(t.action??"")&&iT.has(i.action??""))return 1}if(3===e||2===e){if(t.action===Y.JT.GENERATE_IMAGE)return -1;if(i.action===Y.JT.GENERATE_IMAGE)return 1}})(s,e,t)??u.sort("",(0,ia._g)(e).searchItem,(0,ia._g)(t).searchItem)),f=Object.values(d).filter(t=>(0,eA.Yh)(e,t.name||t.action||"")&&!p.includes(t)&&!t.searchOnly&&!(t.featureFlags&&t.featureFlags.includes("internal_only_debug_tools"))&&(0,iC.y)("",(0,ib.n)(t),{actions:i,queries:n})>0).sort((e,t)=>u.sort("",(0,ia._g)(e).searchItem,(0,ia._g)(t).searchItem));return f.length<4?(r=8-f.length,a=f.length):h.length<4?(r=h.length,a=8-h.length):(r=4,a=4),[...h.slice(0,r),...f.slice(0,a)]}},[e,t,i,n,r,o,l])}(),[n]=(0,a.useState)(()=>i(e,""));return n}(t,0),c=function(e,t){let i=!iO();return(0,a.useCallback)(()=>{if(i){let e=[];for(let i of t){if(!i.action||i.disabled)continue;let t=ij.get(i.action);t&&e.push([i.action,t])}return e}let n=[];for(let i of((0,eA.Yh)(e,Y.JT.FIRST_DRAFT_MAKE_CHANGES)&&n.push([Y.JT.FIRST_DRAFT_MAKE_CHANGES,io.b.SUGGESTIONS]),t))i.action&&!i.disabled&&n.push([i.action,io.b.SUGGESTIONS]);return n},[e,t,i])}(e,l),u=function(){let e=(0,is.I9)(),t=(0,ev.p8)("activeCanvasEditModeType"),i=(0,ig.C)();return(0,a.useCallback)(()=>{if(!e?.length){let e=[["canvas-search-replace",io.b.SUGGESTIONS],["select-all",io.b.SUGGESTIONS],["undo",io.b.SUGGESTIONS],["toggle-rulers",io.b.COMMON_SETTINGS],["toggle-snapping-to-pixels",io.b.COMMON_SETTINGS],["toggle-sidebar",io.b.COMMON_SETTINGS],["toggle-ui",io.b.COMMON_SETTINGS],["toggle-multiplayer-cursors",io.b.COMMON_SETTINGS],["show-nudge-amount-picker",io.b.COMMON_SETTINGS],["open-shortcuts",io.b.COMMON_SETTINGS],["open-account-settings",io.b.COMMON_SETTINGS]];return i&&e.push(["copy-to-figma-slides",io.b.SUGGESTIONS]),e}if(1===e.length){let n=e[0],r=[["add-selection-ready-status",io.b.SUGGESTIONS],["republish-selected-components",io.b.SUGGESTIONS],["publish-changes-to-library",io.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",io.b.SUGGESTIONS]],a=[["select-matching",io.b.SUGGESTIONS],["outline-stroke",io.b.SUGGESTIONS],["mask-selection",io.b.SUGGESTIONS],["flatten-selection",io.b.SUGGESTIONS],["unlock-all",io.b.SUGGESTIONS],["convert-to-raster",io.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",io.b.SUGGESTIONS]];if(t===d.m1T.VECTOR)return[["flip-horizontal",io.b.SUGGESTIONS],["flip-vertical",io.b.SUGGESTIONS],["align-horizontal-center",io.b.SUGGESTIONS],["align-vertical-center",io.b.SUGGESTIONS]];switch(n.type){case"SYMBOL":return r;case"FRAME":if(n.isStateGroup)return r;if(n.isGroup)return a;let s=[["add-selection-ready-status",io.b.SUGGESTIONS],["select-matching",io.b.SUGGESTIONS],["stack-selection",io.b.SUGGESTIONS],["run-multi-stack-auto-layout",io.b.SUGGESTIONS],["copy-properties",io.b.SUGGESTIONS],["unlock-all",io.b.SUGGESTIONS],["convert-to-raster",io.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",io.b.SUGGESTIONS],["replace-selected-frame-with-section",io.b.SUGGESTIONS]];return i&&s.push(["copy-to-figma-slides",io.b.SUGGESTIONS]),s;case"INSTANCE":return[["select-matching",io.b.SUGGESTIONS],["detach-instance",io.b.SUGGESTIONS],["reset-symbol",io.b.SUGGESTIONS],["convert-to-raster",io.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",io.b.SUGGESTIONS]];case"SLICE":return[["export-selected-exportables",io.b.SUGGESTIONS],["convert-to-raster",io.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",io.b.SUGGESTIONS]];case"WIDGET":return[["select-all-widgets",io.b.SUGGESTIONS],["convert-to-raster",io.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",io.b.SUGGESTIONS]];case"SECTION":return[["add-selection-ready-status",io.b.SUGGESTIONS],["select-matching",io.b.SUGGESTIONS],["unlock-all",io.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",io.b.SUGGESTIONS],["replace-selected-section-with-frame",io.b.SUGGESTIONS]];case"GROUP":return a;case"ELLIPSE":case"BOOLEAN_OPERATION":case"LINE":case"REGULAR_POLYGON":case"RECTANGLE":case"ROUNDED_RECTANGLE":case"STAR":case"VECTOR":return[["select-matching",io.b.SUGGESTIONS],["flip-horizontal",io.b.SUGGESTIONS],["mask-selection",io.b.SUGGESTIONS],["flatten-selection",io.b.SUGGESTIONS],["copy-properties",io.b.SUGGESTIONS],["convert-to-raster",io.b.SUGGESTIONS],["toggle-shown-for-selected-nodes",io.b.SUGGESTIONS]];case"TEXT":return[["text-edit-hyperlink",io.b.SUGGESTIONS],["text-toggle-strikethrough",io.b.SUGGESTIONS],["copy-properties",io.b.SUGGESTIONS],["paste-properties",io.b.SUGGESTIONS],["text-font-size-increase",io.b.SUGGESTIONS],["text-font-size-decrease",io.b.SUGGESTIONS],["text-bold-increase",io.b.SUGGESTIONS],["text-bold-decrease",io.b.SUGGESTIONS]]}}let n=[["select-matching",io.b.SUGGESTIONS],["frame-selection",io.b.SUGGESTIONS],["create-symbol",io.b.SUGGESTIONS],["create-multiple-symbols",io.b.SUGGESTIONS],["toggle-locked-for-selected-nodes",io.b.SUGGESTIONS],["export-selected-exportables",io.b.SUGGESTIONS],["align-horizontal-center",io.b.SUGGESTIONS],["align-vertical-center",io.b.SUGGESTIONS]];return i&&n.push(["copy-to-figma-slides",io.b.SUGGESTIONS]),n},[e,i,t])}(),p=(0,a.useCallback)((e,t)=>{let i=n(r,e,!0);if(i)return{...i,category:t}},[n,r]),h=i.map(e=>({...e,category:io.b.RECENTS})).filter(t=>!(0,ia.oG)(e,t)),f=(0,a.useCallback)(e=>{let t=e.map(([e,t])=>p(e,t));return eV()((0,eF.WI)([...h,...t]),eR.EG)},[h,p]),g=iO(),_=(0,a.useMemo)(()=>{if(g&&!["DESIGN_EDITOR_NO_AI","DESIGN_EDITOR_AI","DEV","VARIABLES_TABLE","COMPONENT_BROWSER"].includes(o)){var e;let t=(e=io.b.SUGGESTIONS,l.map(t=>({...t,category:e})));return eV()((0,eF.WI)([...h,...t]),eR.EG)}switch(o){case"DESIGN_EDITOR_AI":return f(c());case"DEV":return f(iS);case"VARIABLES_TABLE":return f(iI);case"COMPONENT_BROWSER":return f(ik);case"DESIGN_VIEWER":return f(iN);case"DESIGN_EDITOR_NO_AI":return f(u());case"NONE":return[];default:(0,O.xb)(o)}},[g,o,l,h,f,c,u]);return{suggestionMode:o,items:_}}(e,t,i),[l,c]=(0,a.useState)(o);return(0,a.useEffect)(()=>{(n!==r||0===l.items.length&&o.items.length>0||o.suggestionMode!==l.suggestionMode)&&c(o)},[n,r,l.items.length,l.suggestionMode,o]),l}(e,t,l),p=""!==i,h=(0,a.useMemo)(()=>""===i?[]:t.search(e,i).slice(0,25),[e,t,i]),f=function(e,t){let i=(0,eW.my)()===e6.nT.Design,n=(0,G.q5)(),o=(0,t9.V)(),l=(0,tw.s)(),d=!!(0,ed.k)().prt_legacy_v3,[u,p]=(0,c.fp)(tr),m=(0,s.d4)(z.Eh),h=(0,q.eH)(),f=(0,tC.T5)("useSearchFallbacks").unwrapOr(null),g=f?.name||n?.name;return(0,a.useMemo)(()=>""!==e?[{name:"assistant-chat-query",args:{searchQuery:e},callback:()=>{},displayNode:(0,F.tx)("fullscreen_actions.assistant-chat-query",{query:(0,r.jsx)(eK.E,{color:"secondary",children:e})}),iconType:(0,r.jsx)(eB.V,{}),quickAction:{module:{module:(0,r.jsx)(t1,{}),name:$.Sn.ASSISTANT_CHAT},beforeModuleOpen:e=>{c.zl.set(tr,{status:tn.Idle,messages:[]}),tb(e.searchQuery,u.messages,p,t_)}},disabled:!d},{name:"find-assets-and-community-matching",args:{searchQuery:e},callback:()=>{},displayNode:h?(0,F.tx)("fullscreen_actions.quick_actions.search-at-plan-file-and-community",{searchQuery:(0,r.jsx)(eK.E,{color:"secondary",children:(0,F.tx)("fullscreen_actions.quick_actions.quoted-query",{searchQuery:e})}),planFileName:g}):o?(0,F.tx)("fullscreen_actions.quick_actions.find-components-matching",{searchQuery:(0,r.jsx)(eK.E,{color:"secondary",children:e})}):(0,F.tx)("fullscreen_actions.quick_actions.find-assets-matching",{searchQuery:(0,r.jsx)(eK.E,{color:"secondary",children:e})}),iconType:h||o?(0,r.jsx)(eU.T,{}):(0,r.jsx)(eG.K,{}),quickAction:{module:{module:h?(0,r.jsx)(tE.z6,{}):(0,r.jsx)(tT.B,{}),name:$.Sn.ASSETS_TAB_DETAIL_VIEW},beforeModuleOpen:t=>{(0,Z.ES)({type:"input-text",query:t.searchQuery,assetTypeOption:{type:K.I.ALL},isKnownLibrary:l}),n?.key&&h&&o&&(0,B.Hl)({type:"input-text",value:e,file_key:n.key},B.G4.ACTIONS_LIST,void 0,void 0,void 0,!1)},retainSearchQuery:!0},disabled:!i||!n?.canEdit},{name:"find-extensions-matching",args:{searchQuery:e},displayNode:h?(0,F.tx)("fullscreen_actions.quick_actions.search-plugins-widgets",{searchQuery:(0,r.jsx)(eK.E,{color:"secondary",children:(0,F.tx)("fullscreen_actions.quick_actions.quoted-query",{searchQuery:e})})}):(0,F.tx)("fullscreen_actions.quick_actions.find-extensions-matching",{searchQuery:(0,r.jsx)(eK.E,{color:"secondary",children:e})}),iconType:(0,r.jsx)(eH.u,{}),callback:()=>{t.setActiveTab($.Jc.EXTENSIONS)},keepMenuOpen:!0,disabled:!i||!m}].filter(e=>!e.disabled):[],[e,o,i,n?.canEdit,n?.key,l,t,d,u,p,m,h,g])}(i,n);return p?eV()([...h.slice(0,4),...f,...h.slice(4)],eR.EG):u}(g,_,h,{setActiveTab:e}),y=(0,oc.X)(x),b=x.length,v=function(e){let t=ip()(ic()(e,e=>e.category),(e,t)=>({category:Object.values(io.b).find(e=>t===e)||null,items:e})).sort((e,t)=>ih(e.category)-ih(t.category)),i=[],n=0;for(let{category:e,items:r}of t)i.push({category:e,items:r,globalIdxOfFirstItem:n}),n+=r.length;return i}(x);(0,er.iC)({activeTab:$.Jc.ALL,query:p,resultsCount:b}),(0,a.useEffect)(()=>{i===$.Jc.ALL&&n&&t({quickActionsSessionId:n,quickActionsQueryId:u.current,searchQuery:h,numSearchResults:b,currentSelection:o,module:i,moduleFilters:null,qaVersion:S.$L,searchQueryResults:y})},[t,i,n,h,b,o,y]);let{createMetrics:T}=(0,eM.Sk)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(aA.B,{primary:!0,resultCount:b,children:[(0,r.jsx)(oj,{}),v.map(({category:e,items:t,globalIdxOfFirstItem:i})=>null!==e&&t.length>0&&v.length>1?(0,r.jsx)(aA.B.Section,{header:function(e){switch(e){case io.b.RECENTS:return(0,F.t)("qa.category.recents");case io.b.DESIGN_TOOLS:return(0,F.t)("qa.category.design_tools");case io.b.RIFFING_AND_WRITING:return(0,F.t)("qa.category.riffing_and_writing");case io.b.IMAGE_EDITING:return(0,F.t)("qa.category.image_editing");case io.b.COLLABORATION_TOOLS:return(0,F.t)("qa.category.collaboration_tools");case io.b.HANDOFF_TOOLS:return(0,F.t)("qa.category.handoff_tools");case io.b.VIEWER_TOOLS:return(0,F.t)("qa.category.viewer_tools");case io.b.SUGGESTIONS:return(0,F.t)("qa.category.suggestions");case io.b.COMMON_SETTINGS:return(0,F.t)("qa.category.common_settings");case io.b.ORGANIZE:return(0,F.t)("qa.category.organize");case io.b.TEMPLATES_AND_DIAGRAMS:return(0,F.t)("qa.category.templates_and_diagrams");default:return(0,O.xb)(e)}}(e),children:t.map((e,t)=>(0,r.jsx)(oH,{item:e,searchQuery:h,createCommonMetrics:()=>({numSearchResults:b,qaVersion:S.$L,searchQuery:h,searchPosition:i+t,item:e,moduleFilters:null,...T()})},(0,eR.EG)(e)))},e):t.map((e,t)=>(0,r.jsx)(oH,{item:e,searchQuery:h,createCommonMetrics:()=>({numSearchResults:b,qaVersion:S.$L,searchQuery:h,searchPosition:i+t,item:e,moduleFilters:null,...T()})},(0,eR.EG)(e))))]})})}var oV=i(544380),oK=i(572040),oW=i(876459);function oq({extensionFilter:e,setExtensionFilter:t,canViewWidgets:i}){let n=(0,eE.sZ)(),s=(0,ox.Cb)(),o=(0,a.useMemo)(()=>({[$.BY.ALL]:(0,F.t)("qa.filter.all"),[$.BY.PLUGINS]:(0,F.t)("qa.filter.plugins"),[$.BY.WIDGETS]:(0,F.t)("qa.filter.widgets"),[$.BY.FROM_ORG]:(0,F.t)("qa.filter.from_org_name",{org_name:n?.name||""}),[$.BY.DEVELOPMENT]:(0,F.t)("qa.filter.development")}),[n?.name]),l=(0,a.useMemo)(()=>{let e=!!n&&!s,t=oW.y3(),r=[];return i&&r.push({type:"checkableOption",value:$.BY.ALL,text:o[$.BY.ALL]}),r.push({type:"checkableOption",value:$.BY.PLUGINS,text:o[$.BY.PLUGINS]}),i&&r.push({type:"checkableOption",value:$.BY.WIDGETS,text:o[$.BY.WIDGETS]}),(e||t)&&r.push({type:"separator"}),e&&r.push({type:"checkableOption",value:$.BY.FROM_ORG,text:o[$.BY.FROM_ORG]}),t&&r.push({type:"checkableOption",value:$.BY.DEVELOPMENT,text:o[$.BY.DEVELOPMENT]}),r},[n,s,i,o]);return(0,r.jsx)(en.c0,{ariaLabel:(0,F.t)("qa.filter.aria_label"),buttonId:oX,displayAboveTarget:!1,id:oJ,items:l,labelForSelectedItem:e=>o[e],menuId:oY,onSelectedChange:t,placeholder:"Filter",recordingKey:oJ,selected:e})}let oY="extensions-filter-dropdown-menu",oX="extensions-filter-dropdown-button",oJ="extensions-filter-dropdown";var oZ=i(240644),oQ=i(753160),o$=i(95419),o0=i(975641),o1=i(696043),o2=i(929976),o3=i(33586),o5=i(45218),o4=i(752483),o6=i(248118),o7=i(813868),o8=i(254872),o9=i(198180);let le=e=>{(0,o7.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:"",triggeredFrom:"quick-actions"})};var lt=i(321561);function li({augmentedExtension:e,isAccessibleIcon:t}){let{extension:i,publishedExtension:n}=e;if(!(0,ek.ZQ)(i))return(0,r.jsx)(eN.V,{"aria-hidden":t,plugin:i,className:P.s.colorIcon.w20.h20.m2.bRadius4.$});let a=n&&(0,ew.Ar)(n);return a&&a.redirect_icon_url?(0,r.jsx)(eN.V,{"aria-hidden":t,plugin:a,className:P.s.colorIcon.w20.h20.m2.bRadius4.$}):(0,r.jsx)(eh.B,{ariaHidden:t,svg:oB.A,className:P.s.colorIcon.w20.h20.m2.bRadius4.$,dataTestId:"qa2-dev-plugin-icon",autosize:!0})}var ln=i(930185),lr=i(592180),la=i(125993),ls=i(552746),lo=i(753501),ll=i(564095),ld=i(599979),lc=i(10554),lu=i(566438),lp=i(38430),lm=i(959385),lh=i(467741);let lf="EXTENSION_OPTIONS_DROPDOWN";function lg(e){let t=(0,r$.Um)();return(0,ek.ZQ)(e)?t?.type===lf&&t?.data.extensionId===e.plugin_id&&t?.data.localFileId===e.localFileId:t?.type===lf&&t?.data.extensionId===e.plugin_id&&t?.data.localFileId===null}function l_(e){let t=(0,s.wA)(),i=lg(e);return a.useCallback(n=>{if(i)t(o2.oB());else{let i=n.getBoundingClientRect();t(o2.j7({type:lf,data:{extensionId:e.plugin_id,localFileId:(0,ek.ZQ)(e)?e.localFileId:null,targetRect:i}}))}},[t,i,e])}function lx(e){let[t,i]=a.useState(!1);return a.useEffect(()=>{i(!1)},[e]),(0,N.kz)(M.Uz.LEFT_ARROW,e=>{(0,ei.Jj)()&&t&&(e.preventDefault(),i(!1))}),(0,N.kz)(M.Uz.RIGHT_ARROW,()=>{(0,ei.Jj)()&&!t&&i(!0)}),t}function ly(e){let t=l_(e);return{text:"",shortcuts:[T.Hz],onAction:e=>{let i=e.target?.element;i&&t(i)}}}function lb({extension:e,active:t,isAccessibleButton:i}){let n=l_(e),s=a.useCallback(e=>{e.stopPropagation(),n(e.currentTarget)},[n]),o=(0,r.jsx)(lu.c,{active:t,borderWidth:1,children:(0,r.jsx)(la.J,{})});return(0,r.jsx)("div",{className:P.s.flex.pl8.$,children:i?(0,r.jsx)("button",{"aria-label":(0,F.t)("qa.plugins_widget.more_options",{widget:e.name}),onClick:s,onPointerUp:lo.dG,className:nP()(P.s.bgTransparent.h24.$),"data-testid":"extension-options-button",children:o}):(0,r.jsx)(ls.S.div,{role:"button",tabIndex:0,onClick:s,onPointerUp:lo.dG,className:nP()(P.s.bgTransparent.h24.$),"data-testid":"extension-options-button",children:o})})}function lC(e){let{augmentedExtension:t}=e,{extension:i,publishedExtension:n,localPublishedExtension:a}=t,s=(0,r$.Um)(),l=(0,ek.ZQ)(i)?i:a,d=(0,o3.NV)(l,n,lc.k2.EDITOR),c=(0,o3.OX)(n),u=(0,o3.x2)(i,n),p=(0,o3.qu)(l),m=(0,lh.rH)(t),h=(0,o3.xZ)(t),f=(0,tB.TA)(),g=!!n&&!!f&&((0,ll.Ro)(n,f)||(0,ld.Dd)(n,f)),_=lg(i),x=(0,lm.O)({extension:t,preloadImage:_});if(!_)return null;let y=[],b=[],C=!!n;!(0,ek.ZQ)(i)&&(C?(d&&g&&y.push(d),y.push({displayText:(0,F.t)("qa.extensions.view_details"),callback:x}),u&&g&&y.push(u),p&&g&&y.push(p),h&&g&&y.push(h),m&&b.push(m),c&&g&&b.push(c)):(0,eu.$D)(o.e.AI_FOR_PRODUCTION,Error("[Quick Actions] Published extension is missing publishedExtension from Redux state"),{extra:{extensionId:i.plugin_id,isWidget:(0,ek.k0)(i),types:Array.from(t.types).toString()}})),(0,ek.ZQ)(i)&&(d&&y.unshift(d),C&&u&&y.push(u),!i.error&&p&&y.push(p),m&&b.push(m),c&&b.push(c));let v=y.some(Boolean)&&b.some(Boolean)?{displayText:"",separator:!0}:null;return(0,r.jsx)(lp.ms,{parentRect:s?.data.targetRect,lean:"left",minWidth:64,items:[...y,v,...b].filter(e=>!!e),dataTestId:"extensionOptionsDropdown",recordingKey:"extensionOptionsDropdown"})}function lv({augmentedExtension:e,hasFauxFocus:t,optionsActive:i,submenuRef:n,...a}){let{extension:s}=e,o=(0,ek.k0)(s)?(0,r.jsx)(eK.E,{color:"tertiary",fontSize:11,children:(0,F.tx)("qa.extensions.widget")}):(0,r.jsx)(eK.E,{color:"tertiary",fontSize:11,children:(0,F.tx)("qa.extensions.plugin")}),l=oR(e),d=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(li,{isAccessibleIcon:a.isAccessibleExtensionRow,augmentedExtension:e}),(0,r.jsx)("div",{className:P.s.px8.$,style:ef.sx.add({maxWidth:l?"205px":"300px"}).$,children:(0,r.jsx)(oN.G,{text:s.name})}),(0,r.jsx)(o8.lM,{augmentedExtension:e,submenuRef:n}),l&&(0,r.jsx)("div",{style:ef.sx.add({maxWidth:"110px"}).$,children:(0,r.jsx)(oM,{text:l.text,variant:l.variant})})]});return(0,r.jsxs)("div",{className:P.s.flex.itemsCenter.justifyBetween.wFull.$,children:[a.isAccessibleExtensionRow?(0,r.jsx)("button",{className:P.s.flex.itemsCenter.$,onClick:a.onClick,onFocus:a.onFocus,style:ef.sx.add({background:"transparent",flexGrow:1}).$,children:d}):(0,r.jsx)("div",{className:P.s.flex.itemsCenter.$,children:d}),(0,r.jsx)("div",{children:t?(0,r.jsx)(lb,{...a.isAccessibleExtensionRow&&{isAccessibleButton:!0},extension:s,active:i}):(0,r.jsx)("span",{"aria-hidden":!0,children:o})})]})}function lE({manifestError:e}){return(0,r.jsx)("div",{className:P.s.alignLeft.font11.lh16.pl32.$,children:(0,r.jsx)(eK.E,{color:"danger",children:e.displayText})})}function lT({extension:e}){return(0,r.jsx)(o0.R,{className:P.s.font11.alignLeft.colorTextSecondary.lh16.pl32.$,text:e.localFilePath.replace("/manifest.json","")})}function lw({augmentedExtension:e,submenuRef:t}){let{extension:i}=e,n=(0,s.wA)(),[o,l]=a.useState(!1),d=lg(i),c=(0,o3.Pt)(i.error?.type,i),{onAction:u,actionText:p}=function({manifestError:e,augmentedExtension:t,submenuRef:i}){let{close:n}=(0,j.cq)(),{extension:r}=t,s=(0,o8.q8)(r),o=(0,o8.U4)(r),l=(0,o8.S3)({submenuIsShown:o,extension:r}),d=(0,o9.t)(r,s),c=o6.dR(r.plugin_id,"quick-actions"),u=(0,oI.Kp)(t),p=a.useCallback(()=>{(0,ek.k0)(r)?nR.l7.user("insert-widget",()=>le(r)):s&&i?l(i.current):c(),s||u(),d()&&n()},[r,s,i,l,c,u,d,n]);return e?{onAction:()=>e.action(),actionText:e.displayText}:{onAction:p,actionText:(0,F.t)("qa.extensions.run")}}({manifestError:c,augmentedExtension:e,submenuRef:t}),m=a.useCallback(()=>{if(d){n(o2.oB());return}u()},[d,u,n]),h=T.H5.LOCAL,f=(0,ln.D)({source:h,text:p,onAction:m,augmentedExtension:e}),g=lx(o),_=ly(i),x=g?_:f,y=(0,H.o3)(H.nt.quickActionsA11y),b=(0,r.jsxs)(r.Fragment,{children:[!c&&(0,r.jsx)(lT,{extension:i}),c&&(0,r.jsx)(lE,{manifestError:c})]}),C=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o8.Xq,{augmentedExtension:e}),(0,r.jsx)(lC,{augmentedExtension:e})]});return y?(0,r.jsx)(ln.p,{hasNestedButton:!0,primaryAction:x,setActive:l,children:(i,n)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:P.s.flex.flexColumn.wFull.$,children:[(0,r.jsx)(lv,{augmentedExtension:e,hasFauxFocus:o,isAccessibleExtensionRow:!0,onClick:n,onFocus:i,optionsActive:g,submenuRef:t}),b]}),C]})}):(0,r.jsxs)(ln.p,{primaryAction:x,setActive:l,children:[(0,r.jsxs)("div",{className:P.s.flex.flexColumn.wFull.$,children:[(0,r.jsx)(lv,{augmentedExtension:e,hasFauxFocus:o,optionsActive:g,submenuRef:t}),b]}),C]})}function lj({augmentedExtension:e,submenuRef:t}){let{extension:i,canRun:n,canRequest:o}=e,l=(0,s.wA)(),[d,c]=a.useState(!1),u=lg(i),{onAction:p,actionText:m}=(0,lt.m)({augmentedExtension:e,submenuRef:t}),h=T.H5.PUBLISHED,f=(0,ln.D)({source:h,text:m,onAction:()=>{if(u){l(o2.oB());return}p()},augmentedExtension:e}),g=lx(d),_=ly(i),x=g?_:f,y=(0,H.o3)(H.nt.quickActionsA11y);if(!n&&!o)return null;let b=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o8.Xq,{augmentedExtension:e}),(0,r.jsx)(lC,{augmentedExtension:e})]});return y?(0,r.jsx)(ln.p,{hasNestedButton:!0,primaryAction:x,setActive:c,children:(i,n)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:P.s.flex.flexColumn.wFull.$,children:(0,r.jsx)(lv,{augmentedExtension:e,hasFauxFocus:d,isAccessibleExtensionRow:!0,onClick:n,onFocus:i,optionsActive:g,submenuRef:t})}),b]})}):(0,r.jsxs)(ln.p,{primaryAction:x,setActive:c,children:[(0,r.jsx)(lv,{augmentedExtension:e,hasFauxFocus:d,optionsActive:g,submenuRef:t}),b]})}function lS(e){let t=(0,s.wA)(),i=(0,C.QZ)();return oW.y3()&&[$.BY.DEVELOPMENT,$.BY.ALL].includes(e)?[{itemKey:"newPlugin",text:(0,F.t)("whiteboard.inserts.plugin_development_options_new_plugin"),svg:es.e,onAction:()=>{t(tF.Lo()),rl.Y5.dispatch((0,tF.to)({type:o4.h,data:{resourceType:o5.bD.PLUGIN}}))}},i?{itemKey:"newWidget",text:(0,F.t)("whiteboard.inserts.widget_development_options_new_widget"),svg:es.e,onAction:()=>{t(tF.Lo()),rl.Y5.dispatch((0,tF.to)({type:o4.h,data:{resourceType:o5.bD.WIDGET}}))}}:null,{itemKey:"importFromManifest",text:(0,F.t)("whiteboard.inserts.development_options_import"),svg:ea.R,onAction:()=>t((0,o1.JZ)({resourceType:"unknown"}))}].filter(o$.Vq):[]}function lk({itemKey:e,text:t,svg:i,onAction:n}){let a=(0,lr.OX)(),s=T.H5.ACTION,o=(0,ln.D)({source:s,onAction:t=>{let{target:i}=t;(0,eM.PV)({action:e,isAi:!1,module:$.Jc.EXTENSIONS,qaVersion:S.$L,rankingAlgorithm:(0,I.eg)($.Jc.EXTENSIONS),searchPosition:i?.index??0,isPlugin:!1,numSearchResults:a.numResults,searchQuery:a.searchQuery,moduleFilters:a.moduleFilters}),n()},augmentedExtension:null});return(0,r.jsx)(ln.p,{primaryAction:o,children:(0,r.jsx)("div",{className:P.s.flex.itemsCenter.alignLeft.wFull.justifyBetween.$,children:(0,r.jsxs)("div",{className:P.s.flex.$,children:[(0,r.jsx)(i,{}),(0,r.jsx)("div",{className:P.s.ml8.$,children:t})]})})})}var lI=i(590952),lN=i(632989);let lA="button_with_faux_focus--button--4UzJZ",lO="button_with_faux_focus--icon--3ofHG",lL="button_with_faux_focus--buttonText--eXi6z",lR="button_with_faux_focus--buttonContent--QYGhy",lM="button_with_faux_focus--shortcut--XSTpu",lD="button_with_faux_focus--regularSize--PRZRN",lP="button_with_faux_focus--largeSize--KbVb-",lF="button_with_faux_focus--wideSize--vAeP3",lB="button_with_faux_focus--largeWideSize--7umaZ",lU="button_with_faux_focus--outlineStyle--HbkS5",lG="button_with_faux_focus--fauxFocus--ydUPp",lH="button_with_faux_focus--solidStyle--JXrgr",lz="button_with_faux_focus--primary--z-mFg button_with_faux_focus--solidStyle--JXrgr",lV="button_with_faux_focus--secondary--nFRZl button_with_faux_focus--outlineStyle--HbkS5",lK="button_with_faux_focus--destructive--mKBEK button_with_faux_focus--solidStyle--JXrgr",lW="button_with_faux_focus--destructiveSecondary--Wtsn1 button_with_faux_focus--outlineStyle--HbkS5",lq="button_with_faux_focus--signup--CPfrM button_with_faux_focus--solidStyle--JXrgr",lY="button_with_faux_focus--link--qW4X-",lX="button_with_faux_focus--destructiveLink--xx-J5 button_with_faux_focus--link--qW4X-",lJ=a.forwardRef(({active:e,children:t,size:i="regularSize",variant:a,...s},o)=>(0,r.jsx)(lN.E,{className:nP()({[lA]:!0,[n[a??"primary"]]:!0,[n[i]]:!0,[lG]:e}),...s,ref:o,children:(0,r.jsx)("span",{className:lL,children:(0,r.jsx)("span",{className:lR,children:t})})}));var lZ=i(130069);function lQ({action:e,children:t,dataTestId:i,variant:n}){let s=(0,a.useRef)(null),{active:o,target:l}=(0,rN.H)({ref:s,itemsPerRow:2}),d=(0,a.useMemo)(()=>({shortcuts:[{key:M.Uz.ENTER}],onAction:e}),[e]),{onClickCallback:c}=(0,rL.k)({primaryAction:d,active:o,actionLabel:!1,target:l});return(0,r.jsx)(lJ,{ref:s,onClick:e=>{e.stopPropagation(),c()},htmlAttributes:{"data-testid":i},variant:n,active:o,children:t})}function l$({extension:e}){let t=(0,lZ.R_)(e),i=(0,lZ.JB)(e);return(0,r.jsxs)("div",{className:P.s.mx8.mb8.p8.bRadius8.flex.justifyBetween.gap4.colorBgInfo.$,"data-testid":"extension-invite-row",children:[(0,r.jsxs)("div",{className:P.s.flex.gap8.itemsCenter.font11.lh16.$,children:[(0,r.jsx)(lI.H8,{user:e.creator,size:lI.Pf.MEDIUM}),(0,r.jsx)(lZ.e2,{resource:e})]}),(0,r.jsxs)("div",{className:P.s.flex.gap4.$,children:[(0,r.jsx)(lQ,{action:i,dataTestId:"decline-invite-button",variant:"secondary",children:(0,r.jsx)(eK.E,{fontSize:11,children:(0,F.tx)("community.detail_view.decline")})}),(0,r.jsx)(lQ,{action:t,dataTestId:"accept-invite-button",children:(0,r.jsx)(eK.E,{fontSize:11,children:(0,F.tx)("community.detail_view.accept")})})]})]})}function l0({invitedPlugins:e,invitedWidgets:t,selectedFilter:i}){let n=function({invitedPlugins:e,invitedWidgets:t,selectedFilter:i}){switch(i){case $.BY.PLUGINS:return e;case $.BY.WIDGETS:return t;case $.BY.ALL:case $.BY.DEVELOPMENT:return[...e,...t];case $.BY.FROM_ORG:return[];default:(0,O.xb)(i)}}({invitedPlugins:e,invitedWidgets:t,selectedFilter:i});return 0===n.length?null:(0,r.jsx)("div",{"data-testid":"extension-invite-section",className:P.s.flex.flexColumn.$,children:(0,r.jsx)(aA.B.Section,{header:(0,F.t)("community.detail_view.invitations"),children:n.map(e=>(0,r.jsx)(l$,{extension:e},e.id))})})}var l1=i(491152),l2=i(186077),l3=i(449363),l5=i(6507),l4=i(693499);function l6({augmentedExtension:e}){let{extension:t,publishedExtension:i}=e,n=(0,ek.k0)(t)?(0,F.tx)("qa.extensions.widget"):(0,F.tx)("qa.extensions.plugin"),a=i?.unique_run_count??0,s=i?.like_count??0,o=i?(0,r.jsx)(l3.o,{publishedExtension:i,showTooltip:!1}):null,l=(0,l3.g)(i);return(0,r.jsx)("div",{className:P.s.flex.flexColumn.colorTextSecondary.textBodyMedium.$,children:(0,r.jsxs)("div",{className:P.s.flex.flexRow.$,children:[n,(0,r.jsx)(l7,{}),(0,r.jsx)(eh.B,{svg:l5.A,className:P.s.mx2.colorIconSecondary.$}),(0,r.jsx)("div",{className:P.s.ml2.$,children:(0,F.t)("qa.extensions.num_users",{numUsers:a,numUsersStr:(0,se.$M)(a)})}),(0,r.jsx)(l7,{}),(0,r.jsx)(eh.B,{svg:l4.A,className:P.s.colorIconSecondary.$,style:ef.sx.add({margin:"3px"}).$}),(0,r.jsx)("div",{className:P.s.ml2.$,children:(0,se.$M)(s)}),l&&(0,r.jsx)(l7,{}),o]})})}function l7(){return(0,r.jsx)("div",{className:P.s.w1.hFull.mx6.$,style:ef.sx.add({backgroundColor:"var(--color-border-fs)"}).$,"data-testid":"divider"})}function l8({augmentedExtension:e}){let{extension:t,canRun:i,canRequest:n}=e,[s,o]=a.useState(!1),l=(0,lm.O)({extension:e,preloadImage:s}),d=T.H5.PUBLISHED_WITH_DETAILS,c=(0,ln.D)({source:d,text:(0,F.t)("qa.extensions.view_details"),onAction:l,augmentedExtension:e});if(!i&&!n)return null;let u=(0,oA.G8)(t,l1.$J);return(0,r.jsx)(ln.p,{primaryAction:c,setActive:o,children:(0,r.jsxs)("div",{className:P.s.flex.flexColumn.alignLeft.wFull.$,children:[(0,r.jsxs)("div",{className:P.s.flex.itemsCenter.overflowHidden.$,children:[(0,r.jsx)(li,{augmentedExtension:e}),(0,r.jsx)(l9,{augmentedExtension:e})]}),(0,r.jsxs)("div",{className:P.s.flex.flexColumn.overflowHidden.ml32.$,children:[(0,r.jsx)(oN.G,{text:u,className:P.s.mb4.colorTextSecondary.textBodyMedium.$,showTooltip:l2.i.NEVER}),(0,r.jsx)(l6,{augmentedExtension:e})]})]})})}function l9({augmentedExtension:e}){let{extension:t}=e,i=oR(e);return(0,r.jsxs)("div",{className:P.s.flex.itemsCenter.ml8.$,children:[(0,r.jsx)("div",{className:P.s.pr8.colorText.textBodyLarge.$,style:ef.sx.add({maxWidth:i?"205px":"300px"}).$,children:(0,r.jsx)(oN.G,{text:t.name})}),i&&(0,r.jsx)("div",{style:ef.sx.add({maxWidth:"110px"}).$,children:(0,r.jsx)(oM,{text:i.text,variant:i.variant})})]})}function de({augmentedExtensions:e,header:t,showExtensionDetails:i=!1,dataTestId:n}){let s=e.map(e=>{let t=a.createRef(),{key:n}=e;return(0,w.JT)(e)?(0,r.jsx)(lw,{augmentedExtension:e,submenuRef:t},n):i?(0,r.jsx)(l8,{augmentedExtension:e},n):(0,r.jsx)(lj,{augmentedExtension:e,submenuRef:t},n)});return(0,r.jsxs)("div",{"data-testid":n,className:P.s.flex.flexColumn.$,children:[t&&(0,r.jsx)(aA.B.Section,{header:t,children:s}),!t&&s]})}function dt({actions:e}){return 0===e.length?null:(0,r.jsx)("div",{"data-testid":"extension-actions-section",className:P.s.flex.flexColumn.$,children:e.map(({itemKey:e,...t})=>(0,r.jsx)(lk,{itemKey:e,...t},e))})}function di({extensions:e}){let t=(0,a.useMemo)(()=>[...e].sort(w.bL),[e]);return 0===t.length?null:(0,r.jsx)(de,{augmentedExtensions:t,dataTestId:"my-extensions-section"})}function dn(){let e=(0,C.QZ)();return(0,r.jsx)("div",{className:P.s.flex.wFull.mt16.justifyCenter.alignCenter.colorTextSecondary.$,"data-testid":"no-extensions-found",children:e?(0,F.tx)("qa.no_plugins_widgets_found"):(0,F.tx)("qa.no_plugins")})}function dr({availableExtensions:e,selectedFilter:t}){let i=(0,I.Ev)(),n=(0,c.md)(E.Lk),o=(0,c.md)(E.dd),l=(0,c.md)(E.Rt),d=(0,c.md)(E.Q8),u=(0,s.d4)(eS.l),p=(0,C.f6)(),m=(0,C.wW)(),{loaded:h,extensions:f}=function(e){let t=(0,w.Oy)(),{loaded:i,extensions:n}=(0,oQ.s)(),r=n.map(e=>t(e,T.Ag.COMMUNITY));return{loaded:i,extensions:(0,w.ZM)([...e,...r])}}(e),{myExtensions:g,suggestedExtensions:_,otherExtensionsFromOrg:x}=function(e,t){let i=(0,w.vA)(t),n=[],r=[],a=[];e.filter(e=>e.canRun||e.canRequest).filter(e=>i(e)).forEach(e=>{(0,w.wj)(e)?n.push(e):t===$.BY.FROM_ORG&&(0,w.jb)(e)||t!==$.BY.FROM_ORG&&(0,w.Nf)(e)?r.push(e):t===$.BY.FROM_ORG&&a.push(e)});let s=0,o=e=>{let t=[];for(let i of e){if(s>=25)break;t.push(i),s+=1}return t};return{myExtensions:o(n),suggestedExtensions:o(r),otherExtensionsFromOrg:o(a)}}(f,t),y=lS(t),b=g.length+_.length+x.length+y.length,v=t===$.BY.DEVELOPMENT,j=t===$.BY.FROM_ORG,k=h||j||v,N=function({myExtensions:e,suggestedExtensions:t,otherExtensionsFromOrg:i,extensionActions:n}){let r=(0,I.HD)("My Extensions",e),a=(0,I.HD)("Suggested",t),s=(0,I.HD)("Other Extensions from Org",i),o=(0,I.NH)(n);return(0,I.i6)([r,a,s,o])}({myExtensions:g,suggestedExtensions:_,otherExtensionsFromOrg:x,extensionActions:y});return((0,a.useEffect)(()=>{n===$.Jc.EXTENSIONS&&o&&k&&i({quickActionsSessionId:o,quickActionsQueryId:l,searchQuery:"",numSearchResults:b,currentSelection:u,module:n,moduleFilters:t,qaVersion:S.$L,searchQueryResults:N})},[i,n,o,k,l,b,u,t,N]),(0,er.iC)({activeTab:$.Jc.EXTENSIONS,query:d,resultsCount:b}),0===b)?(0,r.jsx)(dn,{}):(0,r.jsx)(lr.M6,{numResults:b,moduleFilters:t,children:(0,r.jsxs)(aA.B,{primary:!0,resultCount:b,dataTestId:"browseExtensions",children:[(0,r.jsx)(l0,{invitedPlugins:p,invitedWidgets:m,selectedFilter:t}),(0,r.jsx)(di,{extensions:g}),(0,r.jsx)(dt,{actions:y}),(0,r.jsx)(da,{extensions:_,hasLoaded:k}),j&&(0,r.jsx)(ds,{extensions:x})]})})}function da({extensions:e,hasLoaded:t}){return t?0===e.length?null:(0,r.jsx)(de,{augmentedExtensions:e,header:(0,F.t)("qa.suggested"),showExtensionDetails:!0}):(0,r.jsx)("div",{className:P.s.p8.$,children:(0,r.jsx)(oZ.R,{})})}function ds({extensions:e}){let t=(0,eE.sZ)();return t&&0!==e.length?(0,r.jsx)(de,{augmentedExtensions:e,header:(0,F.t)("qa.other_extensions_from_org",{org_name:t.name}),showExtensionDetails:!0}):null}var dl=i(946678),dd=i.n(dl),dc=i(850789),du=i(559491),dp=i(566371),dm=i(918929),dh=i(427318),df=i(324237),dg=i(22009),d_=i(306946),dx=i(277543),dy=i(740025),db=i(713695),dC=i(81982),dv=i(144933);let dE=db.M4.Query({fetch:async e=>(await dv.$W.getExtensions(e)).data.meta,enabled:()=>!(0,ed.k)().ext_extended_plugin_editor_types,output:({data:e})=>({public:e.results.public.map(e=>e.model),private:e.results.private.map(e=>e.model)})}),dT=db.M4.Query({fetch:async e=>{let t={...e,limit_associations:!0,sort_by:df.e.Search.RELEVANCY,resource_type:[d_.vt.PLUGIN,d_.vt.WIDGET],include_content:!0,consolidate_org_search:!0};return(await dv.$W.getResources(t)).data.meta},enabled:()=>!!(0,ed.k)().ext_extended_plugin_editor_types,output:({data:e})=>{let{pass:t,fail:i}=(0,dm.j)(e.results,e=>(0,dh.Gk)(e.model));return{public:i.map(({model:e})=>e.content?.plugin||e.content?.widget).filter(e=>!!e),private:t.map(({model:e})=>e.content?.plugin||e.content?.widget).filter(e=>!!e)}}});function dw(){return(0,r.jsx)("div",{className:"x78zum5 xh8yej3 xw7yly9 xl56j7k x2b8uid x1n0bwc9",children:(0,F.t)("search.error.max_query_length_exceeded")})}function dj({availableExtensions:e,selectedFilter:t}){let i=(0,I.Ev)(),n=(0,c.md)(E.Lk),l=(0,c.md)(E.dd),d=(0,c.md)(E.Q8),[u]=(0,dc.A)(d,300),p=u.trim(),m=(0,c.md)(E.Rt),h=(0,s.d4)(eS.l),f=(0,s.wA)(),{loading:g,publicExtensions:_,privateExtensions:x,localExtensions:y}=function(e){let{status:t,results:i,errors:n}=function(e){let t=function(e){switch(e){case e6.nT.Design:case e6.nT.Illustration:return dg.k.Editors.FIGMA;case e6.nT.Whiteboard:return dg.k.Editors.FIGJAM;case e6.nT.DevHandoff:return dg.k.Editors.DEV_MODE;case e6.nT.Slides:return dg.k.Editors.SLIDES;case e6.nT.Sites:return(0,ed.k)().ext_extended_plugin_editor_types?dg.k.Editors.SITES:dg.k.Editors.ALL;case e6.nT.Cooper:return(0,ed.k)().ext_extended_plugin_editor_types?dg.k.Editors.COOPER:dg.k.Editors.ALL;case null:case e6.nT.Figmake:return dg.k.Editors.ALL;default:(0,O.xb)(e)}}((0,eW.my)()),i=(0,ox.U5)(),n=(0,eE.dq)()??void 0,[{status:r,data:a,errors:s}]=(0,dp.IT)((0,ed.k)().ext_extended_plugin_editor_types?dT({query:e.trim(),resourceEditorType:(0,dx.So)(t),orgId:i?n:void 0,maxNumResults:20}):dE({query:e.trim(),editorType:t,orgSearch:i,currentOrgId:n,maxNumResults:20}),{enabled:e.trim().length>0&&!(0,w.GX)(e.trim()),key:"searchPublishedExtensionsQuery"});return{status:r,results:a||{public:[],private:[]},errors:s}}(e),r=function(e){let t=(0,C.$1)(),i=(0,a.useMemo)(()=>Object.values(t),[t]),n=(0,a.useMemo)(()=>new dC.Ef(i,dy.Ih),[i]);return(0,a.useMemo)(()=>n.search(e),[n,e])}(e);return(0,a.useMemo)(()=>{switch(t){case"loading":return{loading:!0,privateExtensions:[],publicExtensions:[],localExtensions:[]};case"loaded":return{loading:!1,publicExtensions:i.public,privateExtensions:i.private,localExtensions:r};case"disabled":return{loading:!1,privateExtensions:[],publicExtensions:[],localExtensions:[]};case"errors":return(0,eu.$D)(o.e.EXTENSIBILITY,Error("[useSearchExtensions] Unable to fetch search results"),{tags:{status:t},extra:{errors:n}}),{loading:!1,privateExtensions:[],publicExtensions:[],localExtensions:[]};default:(0,O.xb)(t)}},[i?.private,i?.public,r,t,n])}(p),b=function(e,t){let i=lS(t),n=(0,a.useMemo)(()=>new dC.Ef(i,dy.zd),[i]);return(0,a.useMemo)(()=>n.search(e),[n,e])}(p,t);(0,a.useEffect)(()=>{let e=[..._,...x];0!==e.length&&f(du.Qi({publishedPlugins:e,src:"Quick actions"}))},[f,x,_]);let{myExtensions:v,fromOrgExtensions:j,communityExtensions:k}=dI(function({publicExtensions:e,privateExtensions:t,localExtensions:i}){let n=(0,w.Oy)();return(0,a.useMemo)(()=>{let r=(e,t)=>e.map(e=>(0,ew.Ar)(e)).filter(e=>!!e).map(e=>n(e,t)),a=r(e,T.Ag.COMMUNITY),s=r(t,T.Ag.ORG_PRIVATE);return[...i.map(e=>n(e,T.Ag.LOCAL)),...s,...a]},[n,i,t,e])}({publicExtensions:_,privateExtensions:x,localExtensions:y}),e,t),N=v.length+j.length+k.length+b.length,A=function({myExtensions:e,actionItems:t,fromOrgExtensions:i,communityExtensions:n}){let r=(0,I.HD)("My Extensions",e),a=(0,I.NH)(t),s=(0,I.HD)("From Org",i),o=(0,I.HD)("From Community",n);return(0,I.i6)([r,a,s,o])}({myExtensions:v,actionItems:b,fromOrgExtensions:j,communityExtensions:k});return((0,a.useEffect)(()=>{n===$.Jc.EXTENSIONS&&l&&!g&&i({quickActionsSessionId:l,quickActionsQueryId:m,searchQuery:p,numSearchResults:N,currentSelection:h,module:n,moduleFilters:t,qaVersion:S.$L,searchQueryResults:A})},[h,i,n,N,l,m,t,g,A,p]),(0,er.iC)({activeTab:$.Jc.EXTENSIONS,isLoading:g,passthroughErrorMessage:(0,w.GX)(p)?(0,F.t)("search.error.max_query_length_exceeded"):null,query:d,resultsCount:N}),g)?(0,r.jsx)(oZ.R,{}):(0,w.GX)(p)?(0,r.jsx)(dw,{}):0===N?(0,r.jsx)(dn,{}):(0,r.jsx)(lr.M6,{numResults:N,moduleFilters:t,children:(0,r.jsxs)(aA.B,{primary:!0,resultCount:N,children:[(0,r.jsx)(di,{extensions:v}),(0,r.jsx)(dt,{actions:b}),(0,r.jsx)(dS,{extensions:j}),(0,r.jsx)(dk,{extensions:k})]})})}function dS({extensions:e}){let t=(0,eE.sZ)();if(!t||0===e.length)return null;let[i,n]=dd()(e,e=>e.types.has(T.Ag.ORG_SAVED)),a=[...i,...n];return(0,r.jsx)(de,{augmentedExtensions:a,header:(0,F.t)("qa.from_org_name",{org_name:t.name}),showExtensionDetails:!0,dataTestId:"from-org-extensions-section"})}function dk({extensions:e}){return 0===e.length?null:(0,r.jsx)(de,{augmentedExtensions:e,header:(0,F.t)("qa.from_community"),showExtensionDetails:!0,dataTestId:"community-extensions-section"})}let dI=(e,t,i)=>{let n=(0,w.vA)(i),r=(0,a.useMemo)(()=>new Set(e.map(e=>e.key)),[e]),s=(0,a.useMemo)(()=>{let i=[...e,...t];return(0,w.ZM)(i)},[t,e]),o=[],l=[],d=[];return s.filter(e=>e.canRun||e.canRequest).filter(e=>n(e)).filter(e=>r.has(e.key)).forEach(e=>{(0,w.wj)(e)?o.push(e):(0,w.C5)(e)?l.push(e):(0,w.Nf)(e)&&d.push(e)}),{myExtensions:o,fromOrgExtensions:l,communityExtensions:d}};function dN({hasLoadedExtensions:e,extensions:t,selectedFilter:i}){let n=(0,c.md)(E.Q8),a=(0,E.JB)(),s=(0,c.AY)(oK.t);return((0,x.h)(()=>()=>{a(),s()}),e)?n.trim()?(0,r.jsx)(dj,{availableExtensions:t,selectedFilter:i}):(0,r.jsx)(dr,{availableExtensions:t,selectedFilter:i}):(0,r.jsx)(oZ.R,{})}var dA=i(562072);function dO(){!function(){let e=(0,c.md)(E.IH),t=(0,c.md)(J.f),{autoClose:i}=(0,j.cq)(),n=(0,a.useCallback)(()=>{let e=X.D.getState();e.modalShown||e.dropdownShown||e.pickerShown||i()},[i]);!function({ref:e,handler:t,eventType:i="mousedown",eventOptions:n,recordingKey:r,enabled:s}){let o=(0,a.useCallback)(i=>{if(!(i.target instanceof Node))return;let n=i.target;n&&n.isConnected&&e&&(Array.isArray(e)?e.filter(e=>!!(e&&e.current)).every(e=>e.current&&!e.current.contains(n)):e.current&&!e.current.contains(n))&&t(i)},[e,t]),l=(0,R.rf)(r,i,o);(0,a.useEffect)(()=>{if(e&&s)return window.addEventListener(i,l,n),()=>{window.removeEventListener(i,l,n)}},[e,i,o,l,n,s])}({ref:(0,a.useMemo)(()=>[e,t],[e,t]),handler:()=>setTimeout(n,0),eventType:"mousedown",eventOptions:!0,recordingKey:"click-to-dismiss",enabled:!0})}();let{defaultViewTabsAvailable:e,defaultViewAssetsTabVisible:t}=(0,f.gB)(),[i,n]=(0,c.fp)(E.Q8),o=(0,c.Xr)(E.Rt),[l,d]=(0,c.fp)(oK.t),[u,p]=(0,c.fp)(E.Lk),{loaded:m,extensions:h}=(0,c.md)(E.P_),g=(0,s.wA)();a.useEffect(()=>g(U.aq()),[g]);let _=(0,G.q5)(),x=!!(e&&_?.canEdit),y=(0,tw.s)(),b=(0,t9.V)(),v=(0,q.eH)();(0,W.b)({disabled:!x});let T=u===$.Jc.ASSETS,{debouncedAssetSearch:w,clearAssetSearchAndCancelDebounce:S}=(0,Z.TC)({debounceWait:300}),{debouncedFragmentTextSearch:k,clearFragmentSearchAndCancelDebounce:N}=(0,dA.S)({debounceWait:300,entryPoint:B.G4.ACTIONS_ASSETS_TAB}),{debouncedFragmentTextSearch:A,clearFragmentSearchAndCancelDebounce:ea}=(0,dA.S)({debounceWait:300,entryPoint:B.G4.ACTIONS_ASSETS_TAB,isCommunity:!0}),es=a.useCallback(e=>{n(e),o((0,D.g)()),(0,I.lw)(),x&&(T||0===e.length)&&(w(e,{type:K.I.ALL}),b&&k(e),v&&A(e))},[n,o,w,k,x,T,b,v,A]),eo=a.useCallback(()=>{n(""),x&&(S(),b&&N(),v&&ea())},[n,x,S,N,b,v,ea]),el=a.useCallback(e=>{p(e),(0,I.lw)()},[p]),ed=a.useCallback(()=>{(0,tE.mX)(i,()=>el($.Jc.ASSETS),b,v,y,B.G4.ACTIONS_ASSETS_TAB)},[i,el,b,v,y]),ec=a.useRef(null),eu=(0,oV.U)(b),ep=(0,s.d4)(z.Eh),em=(0,C.QZ)();a.useEffect(()=>{em||l!==$.BY.ALL&&l!==$.BY.WIDGETS||d($.BY.PLUGINS)},[em,l,d]);let eh=(0,H.o3)(H.nt.quickActionsA11y),ef=a.useId(),eg=a.useId(),e_=a.useId(),ex=(0,r.jsxs)(en.fu,{value:u,onChange:L.lQ,numItems:ep?3:2,children:[(0,r.jsx)(en.oz,{tabId:$.Jc.ALL,tabPanelId:eh?ef:void 0,onAction:()=>el($.Jc.ALL),navigatingShortcut:{key:M.Uz.KEY_1,modifier:[M.xH.ALT]},shouldHaveAccessibleAttributes:eh,children:(0,F.tx)("qa.all")}),t&&(0,r.jsx)(en.oz,{tabId:$.Jc.ASSETS,tabPanelId:eh?eg:void 0,onAction:ed,navigatingShortcut:{key:M.Uz.KEY_2,modifier:[M.xH.ALT]},shouldHaveAccessibleAttributes:eh,children:(0,F.tx)("qa.assets")}),ep&&(0,r.jsx)(en.oz,{tabId:$.Jc.EXTENSIONS,tabPanelId:eh?e_:void 0,onAction:()=>el($.Jc.EXTENSIONS),navigatingShortcut:{key:M.Uz.KEY_3,modifier:[M.xH.ALT]},shouldHaveAccessibleAttributes:eh,children:em?(0,F.tx)("qa.plugins_widgets"):(0,F.tx)("qa.plugins")})]}),ey=a.useCallback(e=>{(v||b)&&(0,tE.jk)(e)},[b,v]),eb=(0,Q._M)({action:Y.JT.FIND_INSPIRATION,clientLifecycleId:void 0}),eC=v||b?(0,r.jsx)("div",{className:P.s.flex.$,children:(0,r.jsx)(tE.hc,{entryPoint:B.G4.ACTIONS_ASSETS_TAB,aiTrackingContext:eb,recordingKey:(0,R.Pt)("defaultView","visualSearchIconButton")})}):void 0,ev=u===$.Jc.EXTENSIONS,eE=(0,c.Xr)(V.FX),eT=a.useId();return(0,r.jsx)(et.n,{canShrinkIfNeeded:eh,height:Y.wC,recordingKey:"defaultView",children:(0,r.jsxs)(er.Do,{children:[(0,r.jsx)(ei.vj,{searchQuery:i,onSearchChange:es,onClear:eo,onPaste:ey,endEnhancer:eC,ref:ec,placeholder:eh&&i||!T?void 0:eu,descriptorId:eh?eT:void 0}),eh&&(0,r.jsx)(er.mr,{id:eT}),(x||ev)&&(0,r.jsx)("div",{className:P.s.px8.pb8.$,children:(0,r.jsxs)(ee.b,{primary:!1,gap:8,fullWidth:!0,justify:"space-between",children:[x&&ex,ev&&(0,r.jsx)(oq,{extensionFilter:l,setExtensionFilter:d,canViewWidgets:em})]})}),function(){switch(u){case $.Jc.ALL:return eE(!0),(0,r.jsx)(et.n.Body,{id:eh?ef:void 0,isTabPanel:!0,children:(0,r.jsx)(oz,{setActiveTab:el})});case $.Jc.ASSETS:return(0,r.jsx)(et.n.Body,{id:eh?eg:void 0,isTabPanel:!0,children:(0,r.jsx)(tT.t,{searchHandle:ec})});case $.Jc.EXTENSIONS:return(0,r.jsx)(et.n.Body,{id:eh?e_:void 0,isTabPanel:!0,children:(0,r.jsx)(dN,{extensions:h,hasLoadedExtensions:m,selectedFilter:l})});default:return(0,O.xb)(u)}}()]})})}function dL(){let{current:e}=(0,j.cq)(),t=(0,E.jh)();return((0,x.h)(()=>()=>{t()}),e)?(0,r.jsx)(r.Fragment,{children:e.module}):(0,r.jsx)(dO,{})}let dR=(e,t)=>{let i=(0,k.x)();(0,I.F$)(i)&&(0,I.Mq)({...t,qaVersion:S.$L,quickActionsSessionId:e,timeToShowModal:_.sn.tryStop(S.mP)||0,module:i})};function dM(){!function(){let e=(0,c.Xr)(E.P_),t=(0,C.FG)(),i=(0,C.AR)(),{loaded:n,userPlugins:r,userWidgets:s,orgPlugins:o,orgWidgets:l}=(0,C.q3)(),d=(0,C.ll)(),u=(0,C.U6)(),p=(0,v.h)("plugin"),m=(0,v.h)("widget"),h=(0,C.$1)(),f=(0,w.Oy)(),g=(0,a.useMemo)(()=>[{extensions:t,extensionType:T.Ag.RECENT},{extensions:i,extensionType:T.Ag.RECENT},{extensions:Object.values(r),extensionType:T.Ag.USER_SAVED},{extensions:Object.values(s),extensionType:T.Ag.USER_SAVED},{extensions:Object.values(o),extensionType:T.Ag.ORG_SAVED},{extensions:Object.values(l),extensionType:T.Ag.ORG_SAVED},{extensions:Object.values(d),extensionType:T.Ag.ALLOWLIST},{extensions:Object.values(u),extensionType:T.Ag.ALLOWLIST},{extensions:p,extensionType:T.Ag.ORG_PRIVATE},{extensions:m,extensionType:T.Ag.ORG_PRIVATE},{extensions:Object.values(h),extensionType:T.Ag.LOCAL}],[t,i,r,s,o,l,d,u,p,m,h]),_=(0,a.useMemo)(()=>{let e=n?g.map(({extensions:e,extensionType:t})=>e.map(e=>f(e,t))).flat():[];return(0,w.ZM)(e)},[g,f,n]);(0,a.useEffect)(()=>{n&&_&&e({loaded:n,extensions:_})},[n,_,e])}();let e=(0,c.Xr)(E.Bu),t=(0,c.md)(E.rE),i=(0,c.md)(E.dd);(0,x.h)(()=>(e(!0),i&&dR(i,t||void 0),()=>{e(!1)}));let n=(0,c.md)(y.Kh),[s,o]=a.useState(!1),{close:l}=(0,j.cq)();return(0,a.useEffect)(()=>{dD(n)&&o(!0),s&&!dD(n)&&l()},[l,n,s]),(0,r.jsx)(b.s,{children:(0,r.jsx)(N.s3,{name:"quickActions",recordingKey:"quickActions",children:(0,r.jsx)(A.p,{children:(0,r.jsx)(dL,{})})})})}function dD(e){return e===d.NLJ.SELECT}var dP=i(314264),dF=i(236825),dB=i(280854);function dU(e){let t=(0,ec.A)(g.KY,e.timeoutMs),i=(0,g.el)(),[n,s]=a.useState(!1),o=a.useRef(null);return a.useEffect(()=>(n?t.cancel():t(),()=>{t.cancel()}),[t,n]),(0,a.useEffect)(()=>{i&&(t.cancel(),t())},[i,t]),(0,r.jsx)("div",{ref:o,onPointerEnter:()=>{s(!0)},onPointerLeave:()=>{s(!1)},children:e.children})}function dG(){let e=X.D.getState(),t=(0,eS.l)(e),i=e.openFile?.key??"",n=(0,dP.v5)(e.selectedView,null),s=(0,iU.F)(),o=[...oo(),...s],l=eP(),u=iL(l,o),p=(0,g.el)(),h=p?u.list(l).find(e=>e.action===p.action):null,f=h?.action,_=h?(0,eR.ah)(h):null,x=(0,eR.J8)(h?.action,p?.payload),y=(0,eR.Hr)(h?.action),b=(0,a.useCallback)(()=>{f&&(rl.Y5.triggerAction(f,p?.payload),(0,g.KY)())},[f,p?.payload]),C=(0,c.md)(E.dd),v=(0,I.vI)(),T=(0,m.PE)();(0,dB.K)();let w=(0,a.useMemo)(()=>({action:f,source:"toast",toastType:p?.payload?.source,quickActionsSessionId:C,currentSelection:t,qaVersion:S.$L,fileKey:i,productType:n,role:v,hasAiFeatureAccess:T}),[f,C,t,i,n,v,T,p?.payload?.source]),j=(0,a.useRef)(w),k=(0,g.dL)(p);(0,a.useEffect)(()=>{j.current=w},[w]),(0,a.useEffect)(()=>{f&&k&&(0,nU.sx)(S.Sq,j.current,{forwardToDatadog:!0})},[f,k]),(0,ev.f4)(e=>{p?.guid&&!e.mirror.sceneGraphSelection[p.guid]&&(0,g.KY)()});let O=(0,a.useCallback)(()=>{if(!h)return;let e=h?.action,t=[Y.JT.MAGIC_LINK,Y.JT.FIND_INSPIRATION].includes(e);f===Y.JT.CONTENT_FILL&&d.CT8?.dismissContentFillNudge(),(0,g.KY)({dismissedAction:t?e:void 0})},[h,f]);if(!k)return null;if(!h)return console.warn("No menu item found for suggested action."),null;let L=(0,sa.O)(h);return(0,r.jsx)(N.s3,{name:"quickActions",recordingKey:"quickActions",children:(0,r.jsx)(A.p,{children:(0,r.jsx)(et.n,{children:(0,r.jsx)(dU,{timeoutMs:1e4,children:(0,r.jsx)(dF.y,{onDismiss:O,recordingKey:"SuggestionToast",children:(0,r.jsxs)(ee.B,{justify:"space-between",align:"center",fullWidth:!0,children:[(0,r.jsxs)(ee.B,{gap:4,align:"center",children:[(0,r.jsx)("span",{style:{"--color-icon":"var(--color-icon-brand)"},children:y}),(0,r.jsxs)(ee.B,{align:"center",children:[(0,r.jsx)("span",{className:P.s.textBodyMediumStrong.$,children:(0,r.jsx)(eK.E,{color:"brand",children:x})}),(0,eM.BB)(h)&&(0,r.jsx)(sa.y,{helpUrlVariant:L})]})]}),(0,r.jsx)(tG.r,{variant:"secondary",shortcuts:[{key:M.Uz.ENTER,modifier:[M.xH.META]}],onAction:()=>{b(),f&&(0,I.mi)({...j.current,isAi:!0})},recordingKey:"SuggestionToast",children:_})]})})})})})})}var dH=i(504203);function dz(){let e=(0,oi.XV)(),t=(0,oi.hk)(),i=(0,oi.sF)();return e?(0,r.jsx)(N.s3,{name:"quickActions",recordingKey:"quickActions",children:(0,r.jsx)(A.p,{children:(0,r.jsx)(et.n,{children:(0,r.jsx)(dF.y,{onDismiss:t,recordingKey:"VideoToast",children:(()=>{switch(e.status){case"success":return(0,r.jsxs)(ee.B,{justify:"space-between",align:"center",fullWidth:!0,children:[(0,r.jsxs)(ee.B,{gap:4,align:"center",children:[(0,r.jsx)("span",{className:"x2lah0s",children:(0,r.jsx)(eB.V,{})}),(0,r.jsx)("span",{...iM.xk(dV.text),children:(0,F.tx)("video_ai.make_video.success",{prompt:e.prompt})})]}),(0,r.jsx)(tG.r,{shortcuts:[{key:M.Uz.ENTER,modifier:[M.xH.META]}],onAction:i,recordingKey:"VideoToast",children:(0,F.tx)("video_ai.make_video.insert")})]});case"error":return(0,r.jsxs)(ee.B,{gap:4,align:"center",children:[(0,r.jsx)("span",{className:"x2lah0s",children:(0,r.jsx)(dH.C,{style:{"--color-icon":"var(--color-icon-danger)"}})}),(0,r.jsx)("span",{...iM.xk(dV.text),children:(0,F.tx)("video_ai.make_video.error",{prompt:e.prompt})})]});default:return null}})()})})})}):null}let dV={text:{...i(687265).g.textBodyMediumStrong,$$css:!0}};function dK(e){let t=(0,s.wA)(),i=(0,h.I)(),n=(0,m.PE)();return((0,a.useEffect)(()=>{d.glU?.handleHasDesignAIPermissionChange()},[n]),i)?(0,r.jsx)(u.tH,{boundaryKey:"QuickActionsV2",onError:()=>{t(p.F.enqueue({message:"Unable to open quick actions",type:"react-error"}))},team:o.e.AI_FOR_PRODUCTION,fallback:u.H4.NONE_I_KNOW_WHAT_IM_DOING,children:(0,r.jsx)(l.i,{children:(0,r.jsx)(f.QT,{value:(0,f.Ct)(e),children:(0,r.jsx)(dW,{})})})}):null}function dW(){let e=(0,c.md)(E.Bu),t=(0,g.el)(),i=(0,oi.XV)();return e?(0,r.jsx)(dM,{}):t?(0,r.jsx)(dG,{}):i?(0,r.jsx)(dz,{}):null}},517270:(e,t,i)=>{i.d(t,{Ct:()=>r,QT:()=>s,gB:()=>o});var n=i(7378);function r(e={}){return{defaultViewTabsAvailable:e.defaultViewTabsAvailable??!1,defaultViewAssetsTabVisible:e.defaultViewAssetsTabVisible??!1,centeredInPanels:e.centeredInPanels??!1}}let a=(0,n.createContext)(r()),s=a.Provider;function o(){return(0,n.useContext)(a)}},363670:(e,t,i)=>{i.d(t,{p:()=>S});var n=i(486106),r=i(7378),a=i(601108),s=i(27355),o=i(536384),l=i.n(o),d=i(783094),c=i(708845),u=i(109947),p=i(8833),m=i(847929),h=i(644079),f=i(632248),g=i(517270),_=i(453756),x=i(481531),y=i(751648),b=i(604494),C=i(40561),v=i(708115),E=i(27776),T=i(846650);let w=(0,d.jz)(E.j4N);function j(e){let t=r.useRef(null),i=(0,s.Xr)(b.fq),o=(0,c.wY)(t),{centeredInPanels:d}=(0,g.gB)();(0,r.useEffect)(()=>(o?.height&&i(o.height),()=>{i(0)}),[o,i]);let C=function(){let[e]=(0,s.fp)(u.f),t=e?.current?.getBoundingClientRect(),i=!!(t&&t.height>0),n=(0,h.xn)(),o=(0,h.Yk)(),l=(0,_.L)(),d=(0,x.G)(),c=(0,y.ze)();return(0,r.useMemo)(()=>{if((0,a.k)().figjam_quick_actions_v2&&!l&&(!i||c))return{bottom:o+(c&&d?0:12)};if(!i)return null;let e=(0,a.k)().figjam_quick_actions_v2?12:8;return{bottom:w+n+(t?.height||0)+e}},[n,i,t?.height,o,l,d,c])}(),[E,T]=(0,m.d)(),j=(0,r.useMemo)(()=>d?{left:E-T}:null,[d,E,T]),S={bottom:f.VQ};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{ref:t,style:{...S,...C,left:0,...j},className:l()(v.tT,p.Dm),"data-testid":"quick-actions-v2",children:(0,n.jsx)(k,{children:e.children})})})}function S(e){return(0,n.jsx)(j,{children:e.children})}function k(e){let t=r.useRef(null),i=(0,s.Xr)(b.IH);(0,r.useEffect)(()=>(t.current&&i(t),()=>{i(null)}),[i]);let a=(0,C.o)();return(0,n.jsx)("div",{ref:t,style:{maxWidth:T.X,minWidth:a},className:l()(v.N8,p.Dm),"data-cancel-insertable-resource-drag-and-drop":"true",children:e.children})}},589087:(e,t,i)=>{i.d(t,{$:()=>j,J:()=>S});var n=i(486106),r=i(7378),a=i(465776),s=i(995605),o=i(700578),l=i(27355),d=i(303541),c=i(456871),u=i(432652),p=i(969273),m=i(948389),h=i(913055),f=i(632248),g=i(862289),_=i(794154),x=i(278499),y=i(604494),b=i(690713),C=i(721854),v=i(904596),E=i(382217),T=i(878113);let w=({texts:e,authInfo:t,surroundingContext:i})=>u.Ay.shared.adjustText({texts:e,action:{type:"SHORTEN"},jsonMode:e.length>1,surroundingContext:i},t),j=async({params:e,abortController:t,onTasksUpdate:i,clientLifecycleId:n})=>{let{featureType:r}=e,a=(0,h.i2)(),s={targets:(0,c.on)(a,{allowEmpty:!1,excludeDigitsAndSpecialChar:!1,excludeLockedNodes:!0}),parameters:null,selection:o.UN().getCurrentPage()?.directlySelectedNodes??[],activeNodes:a};l.zl.set(y.DZ,null),l.zl.set(y.F3,s),l.zl.set(y.Q8,""),await (0,T.GD)({params:{clientLifecycleId:n,state:s,makeCortexRequest:w,featureType:r,excludeDigitsAndSpecialChar:!1,editScopeLabel:"adjust-text"},abortController:t,onTasksUpdate:i})};function S(){let{close:e}=(0,_.cq)(),{longRunningAction:t,lastParameters:i,onRun:o,cancel:l,resetText:c,lastRun:u}=(0,T.Hd)({makeCortexRequest:w,featureType:f.JT.SHORTEN_TEXT}),{state:h,aiTrackingContext:y,tasks:j}=t,S=(0,r.useCallback)(()=>{c(),(0,g.B3)(f.JT.SHORTEN_TEXT),e()},[c,e]),k=j.length,I=j.filter(e=>e.state===g.z8.FAILED).length;switch(h){case g.qy.INITIAL:return(0,n.jsx)(C.A,{action:f.JT.SHORTEN_TEXT,actionIcon:(0,n.jsx)(s.g,{}),actionLabel:(0,d.tx)("fullscreen_actions.quick_actions.shorten-text"),onPerform:()=>{o(null)},aiTrackingContext:y,getCustomDisabledTextFromSelectedNodes:e=>(0,T.bu)(e,{onlyAllowSingular:!0,instruction:(0,d.tx)("ai_text_tools.select_text_singular")}),instructionAction:{type:"learn_more",url:f.pY},children:(0,d.tx)("ai_text_tools.select_text_singular")});case g.qy.RUNNING:return(0,n.jsx)(E.F,{onCancel:()=>{l(),e()},aiTrackingContext:y,children:(0,d.tx)("ai_text_tools.shorten.running")});case g.qy.ERROR:let N;let{error:A}=t,O=[{type:b.f.TRY_AGAIN,callback:()=>o(i)}],L=null;return(A instanceof T.Vz||(0,m.sZ)(A)===p.B.CONTENT_LENGTH_LIMIT)&&(N=(0,d.tx)("ai.error.content_length_limit"),O=[]),A instanceof T.Jd&&(N=(0,d.tx)("ai_text_tools.missing_fonts"),O=[]),(0,m.sZ)(A)===p.B.UNSAFE_OR_HARMFUL_CONTENT&&(O=[]),k>0&&I>0&&I<k&&(L=(0,d.tx)("ai_text_tools.shorten.couldnt_count",{failed:I,total:k})),(0,n.jsx)(b.E,{buttons:O,error:t.error,aiTrackingContext:y,customMessage:N,secondaryMessage:L});case g.qy.DONE:return(0,n.jsx)(v.Oq,{recordingKey:"shortenText",iterateOptions:[{type:v.is.UNDO,callback:S},{type:v.is.TRY_AGAIN,callback:()=>{o(i)}}],aiTrackingContext:{...y,iteration_view_type:x.$J.SUCCESS_WITH_ITERATION},targets:u?u.targets.map(e=>e.node.guid):void 0});case g.qy.CANCELLED:return null;default:(0,a.xb)(h)}}},565440:(e,t,i)=>{i.d(t,{K:()=>O});var n=i(486106),r=i(7378),a=i(465776),s=i(46722),o=i(303541),l=i(828186),d=i(976749),c=i(432652),u=i(969273),p=i(948389),m=i(632248),h=i(286488),f=i(862289),g=i(794154),_=i(278499),x=i(690713),y=i(721854),b=i(904596),C=i(382217),v=i(63728),E=i(589278),T=i(226610),w=i(171177),j=i(388732),S=i(682594),k=i(883990);function I({items:e,onSelectItem:t,placeholder:i,showIcon:a=!0}){(0,w.If)(!1);let[s,o]=r.useState(""),[l,d]=r.useState([]);r.useEffect(()=>{d(e),o("")},[e]);let c=(0,n.jsx)(j.B,{resultCount:l.length,children:l.map(e=>(0,n.jsx)(j.B.Item,{primaryAction:{onAction:()=>t(e),shortcuts:[{key:v.Uz.ENTER}]},actionLabel:!1,recordingKey:e.label,children:(0,n.jsx)("div",{className:E.s.flex.justifyBetween.wFull.$,children:(0,n.jsx)("div",{className:E.s.ml28.$,children:e.label})})},e.label))}),u=t=>{o(t),d(e.filter(e=>e.label.toLowerCase().includes(t.toLowerCase())))},p=(0,T.o3)(T.nt.quickActionsA11y);return(0,n.jsxs)(S.n,{height:m.wC,canShrinkIfNeeded:p,recordingKey:"parameterLikeList",children:[(0,n.jsx)(k.DM,{searchQuery:s,onSearchChange:u,onClear:()=>{u("")},placeholder:i,showIcon:a}),(0,n.jsx)(S.n.Body,{children:c})]})}var N=i(878113);let A=["Arabic","Urdu"];function O(){let e=(0,d.ow)(),t=[{name:"Arabic",label:(0,o.t)("ai_text_tools.translate.language.arabic")},{name:"Chinese (Simplified)",label:(0,o.t)("ai_text_tools.translate.language.chinese_simplified")},{name:"Chinese (Traditional)",label:(0,o.t)("ai_text_tools.translate.language.chinese_traditional")},{name:"Dutch",label:(0,o.t)("ai_text_tools.translate.language.dutch")},{name:"English (United Kingdom)",label:(0,o.t)("ai_text_tools.translate.language.english_uk")},{name:"English (United States)",label:(0,o.t)("ai_text_tools.translate.language.english_us")},{name:"Tagalog",label:(0,o.t)("ai_text_tools.translate.language.tagalog")},{name:"French",label:(0,o.t)("ai_text_tools.translate.language.french")},{name:"German",label:(0,o.t)("ai_text_tools.translate.language.german")},{name:"Hindi",label:(0,o.t)("ai_text_tools.translate.language.hindi")},{name:"Indonesian",label:(0,o.t)("ai_text_tools.translate.language.indonesian")},{name:"Italian",label:(0,o.t)("ai_text_tools.translate.language.italian")},{name:"Japanese",label:(0,o.t)("ai_text_tools.translate.language.japanese")},{name:"Korean",label:(0,o.t)("ai_text_tools.translate.language.korean")},{name:"Malay",label:(0,o.t)("ai_text_tools.translate.language.malay")},{name:"Polish",label:(0,o.t)("ai_text_tools.translate.language.polish")},{name:"Portuguese (Brazil)",label:(0,o.t)("ai_text_tools.translate.language.portuguese_brazil")},{name:"Portuguese (Portugal)",label:(0,o.t)("ai_text_tools.translate.language.portuguese_portugal")},{name:"Russian",label:(0,o.t)("ai_text_tools.translate.language.russian")},{name:"Spanish (Latin America)",label:(0,o.t)("ai_text_tools.translate.language.spanish_latin_america")},{name:"Spanish (Spain)",label:(0,o.t)("ai_text_tools.translate.language.spanish_spain")},{name:"Swedish",label:(0,o.t)("ai_text_tools.translate.language.swedish")},{name:"Tamil",label:(0,o.t)("ai_text_tools.translate.language.tamil")},{name:"Thai",label:(0,o.t)("ai_text_tools.translate.language.thai")},{name:"Turkish",label:(0,o.t)("ai_text_tools.translate.language.turkish")},{name:"Ukrainian",label:(0,o.t)("ai_text_tools.translate.language.ukrainian")},{name:"Urdu",label:(0,o.t)("ai_text_tools.translate.language.urdu")},{name:"Vietnamese",label:(0,o.t)("ai_text_tools.translate.language.vietnamese")}];e&&(t=t.filter(e=>!A.includes(e.name)));let i=(0,o.t)("ai_text_tools.translate.running"),v=r.useRef(null),{onRun:E,resetText:T,cancel:w,longRunningAction:j,lastRun:S}=(0,N.Hd)({makeCortexRequest:({texts:e,parameters:t,authInfo:i,surroundingContext:n})=>c.Ay.shared.adjustText({texts:e,action:{type:"TRANSLATE",language:t.language},jsonMode:e.length>1,surroundingContext:n},i),featureType:m.JT.TRANSLATE_TEXT}),{state:k,aiTrackingContext:O,tasks:L}=j,{close:R}=(0,g.cq)(),M=(0,h.s)(m.JT.TRANSLATE_TEXT),D=L.length,P=L.filter(e=>e.state===f.z8.FAILED).length,F=(0,l.to)();switch(k){case f.qy.RUNNING:return(0,n.jsx)(C.F,{onCancel:()=>{w(),R()},aiTrackingContext:O,children:i});case f.qy.INITIAL:switch(M.state){case h.w.NEEDS_INITIAL_SELECTION:case h.w.SELECTION_LOST:return(0,n.jsx)(y.A,{action:m.JT.TRANSLATE_TEXT,actionLabel:(0,o.tx)("fullscreen_actions.quick_actions.translate-text"),actionIcon:(0,n.jsx)(s.R,{}),onPerform:()=>M.confirmInitialSelection(),getCustomDisabledTextFromSelectedNodes:e=>(0,N.bu)(e,{}),aiTrackingContext:O,instructionAction:{type:"learn_more",url:m.pY},children:(0,o.tx)("ai_text_tools.selection_instruction")});case h.w.SELECTION_OK:return(0,n.jsx)(I,{items:t,onSelectItem:e=>{let t={language:e.name};E(t),v.current=t},placeholder:(0,o.t)("ai_text_tools.translate.language"),showIcon:!F})}case f.qy.ERROR:let B;let{error:U}=j,G=null,H=[{type:x.f.TRY_AGAIN,callback:()=>{if(v.current)E(v.current);else throw new N.ay("Last parameters is null")}}];return(U instanceof N.Vz||(0,p.sZ)(U)===u.B.CONTENT_LENGTH_LIMIT)&&(B=(0,o.tx)("ai.error.content_length_limit"),H=[]),U instanceof N.Jd&&(B=(0,o.tx)("ai_text_tools.missing_fonts"),H=[]),(0,p.sZ)(U)===u.B.UNSAFE_OR_HARMFUL_CONTENT&&(H=[]),D>0&&P>0&&P<D&&(G=(0,o.tx)("ai_text_tools.translate.couldnt_count",{failed:P,total:D})),(0,n.jsx)(x.E,{buttons:H,error:j.error,aiTrackingContext:O,customMessage:B,secondaryMessage:G});case f.qy.DONE:return(0,n.jsx)(b.Oq,{iterateOptions:[{type:b.is.UNDO,callback:()=>{T(),R()}}],recordingKey:"translateText",aiTrackingContext:{...O,iteration_view_type:_.$J.DEFAULT_SUCCESS},targets:S?S.targets.map(e=>e.node.guid):[]});case f.qy.CANCELLED:return null;default:(0,a.xb)(k)}}},58505:(e,t,i)=>{i.d(t,{ce:()=>x,eb:()=>v,qi:()=>E,yh:()=>y,zs:()=>b});var n=i(7378),r=i(664063),a=i(95419),s=i(94678),o=i(601108),l=i(239603),d=i(656470),c=i.n(d),u=i(476572),p=i(714362),m=i(445976),h=i(167249),f=i(151869);let g=l.z.object({description:l.z.string(),wasOutputOfPreviousGeneration:l.z.boolean().optional()});l.z.object({prompt:l.z.string(),attachmentMetadata:l.z.record(l.z.string(),g).optional()});let _=`User has also attached the following frames (represented as JSX) and their corresponding images, components used here can be referenced in the output:
`;function x(e){let t={};for(let i of(0,s.B)(e,{followInstances:!0})){let e=(0,r.getComponentInfoById)(i.guid,{enableTsArrays:!!(0,o.k)().first_draft_ts_arrays});if(!e){(0,p.xi)("first-draft","Component info not found for user-selected node",{componentGuid:i.guid},{reportAsSentryError:!0});continue}t[e.jsxName.toLowerCase()]=e}return t}async function y(e,t,i){let n=(await Promise.all(e.map(async e=>{var i;let n=await (0,m.nX)(e);if(!n)return(0,p.xi)("first-draft","Unable to get JSX for user-selected node",{nodeGuid:e.guid}),null;let r=t.get(e.guid);if(!r)return(0,p.xi)("first-draft","No image data found for user-selected node",{nodeGuid:e.guid}),null;let a=null;a=r.promise?await r.promise:r.blob;let s=await (i=a,new Promise((e,t)=>{let n=new FileReader;n.onloadend=()=>{let i=n.result;"string"==typeof i?e(i):t(Error("Failed to convert blob to Data URL"))},n.onerror=()=>{t(Error("Failed to read blob"))},n.readAsDataURL(i)}));return{guid:e.guid,jsxStr:n,imageUrl:s}}))).filter(a.Vq);return[{role:"system",content:_},{role:"user",content:c()(n.map(({guid:e,jsxStr:t,imageUrl:n},r)=>{let a=[{type:"text",text:`
ATTACHMENT #${r+1}:
`}];return i&&i[e]&&a.push({type:"text",text:`Description: ${[...i[e].wasOutputOfPreviousGeneration?["This was the output of a previous generation"]:[],i[e].description].join(" ")}
`}),t&&a.push({type:"text",text:`\`\`\`jsx
${t}
\`\`\`
`}),a.push({type:"image",image:n}),a}))}]}let b=URL.createObjectURL(new Blob(["data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="],{type:"image/gif"}));function C(e){return e.visible}function v(){let e=(0,n.useRef)(new Map),t=(0,f.Tv)();return(0,h.Fk)((t,i)=>{if(!i)return e.current=new Map,null;let n=i.map(e=>t.get(e)).filter(a.Vq).filter(C);return e.current=new Map(n.map(e=>[e.guid,e])),n.map(e=>e?.guid)},t),e.current}function E({enabled:e}){let[t,i]=n.useState(new Map),r=n.useRef(t);r.current=t;let a=n.useRef(!1),s=v();return n.useEffect(()=>{if(!e)return;let n=new Set(s.keys()),r=new Set(t.keys()),o=(0,u._i)(r,n);(0,u._i)(n,r).forEach(async e=>{let t=s.get(e);if(!t)return;let n=t.loadImagesAndExport([{imageType:"PNG"}]),r=(async()=>new Blob([await n],{type:"image/png"}))();i(t=>{let i=new Map(t);return i.set(e,{imageURL:null,blob:null,promise:r}),i});let o=await r;if(a.current)return;let l=URL.createObjectURL(o);i(t=>{let i=new Map(t);return i.set(e,{imageURL:l,blob:o,promise:null}),i})}),o.size>0&&i(e=>{let t=new Map(e);return o.forEach(e=>{if(!t.has(e))return;let i=t.get(e);i?.imageURL&&URL.revokeObjectURL(i.imageURL),t.delete(e)}),t})},[s,t,e]),n.useEffect(()=>()=>{a.current=!0,r.current.forEach(e=>{e.imageURL&&URL.revokeObjectURL(e.imageURL)})},[]),t}},797086:(e,t,i)=>{i.d(t,{YG:()=>b,sI:()=>y});var n=i(486106),r=i(7378),a=i(157320),s=i(601108),o=i(27355),l=i(536384),d=i.n(l),c=i(806412),u=i(589278),p=i(303541),m=i(971098),h=i(175364);let f=(0,o.E3)("first_draft_last_used_kit",""),g=(0,o.E3)("first_draft_reset_kit_for_byod",!0);function _(e){return"LOCAL"===e.dsKitKey.type?e.dsKitKey.pageId??"local":e.dsKitKey.key}function x({text:e}){return(0,n.jsxs)("div",{className:d()(u.s.flex.flexRow.$),children:[(0,n.jsx)(a.i,{style:{marginLeft:-2}})," ",(0,n.jsx)("span",{className:d()(u.s.pl4.$),children:e})]})}function y(e=!1){let{libraryKitsQueryStatus:t,localKits:i,libraryKits:n}=(0,m.Ml)(),[a,l]=(0,o.fp)(f),[d,c]=(0,o.fp)(g);d&&(0,s.k)().first_draft_direct_gen&&(l(""),c(!1));let[u,p]=(0,r.useState)(null),h="loaded"===t;(0,r.useEffect)(()=>{if(h&&null===u){if(e){let e=i[0]??n[0]??null;e&&p({type:"KIT",kit:e})}else{let e=n[0]??i[0]??null;e&&p({type:"KIT",kit:e})}}},[i,n,h,u,p,e]);let x=(0,r.useMemo)(()=>[...n,...i],[n,i]),b=(0,r.useMemo)(()=>{let e=x.find(e=>_(e)===a);return h&&!e&&l(""),e??null},[a,x,l,h]);return{kitsAreLoaded:h,hasLastSelectedKit:h?!!b:!!a,selectedKit:b,setSelectedKit:r.useCallback(e=>{l(_(e))},[l]),selectedKitOption:u,setSelectedKitOption:p,allUsableKitEntries:x}}function b({items:e,kitsAreLoaded:t,selectedKitOption:i,setSelectedKitOption:r,recordingKey:a}){return(0,n.jsx)(h.m,{selected:i,onSelectedChange:r,placeholder:(0,n.jsx)(x,{text:t?(0,p.t)("first_draft.library_placeholder"):(0,p.t)("first_draft.kits_loading")}),labelForSelectedItem:e=>(0,n.jsx)(x,{text:e.kit.name}),displayAboveTarget:!0,lean:"right",items:e,recordingKey:c.Pt(a,"kitPicker"),disabled:!t})}},63984:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(934246),r=i(602140),a=i(303541),s=i(302958);function o(e,t,i=(0,a.t)("first_draft.share_trace_nudge_in_modal",{weirdOutput:(0,a.t)("first_draft.share_trace_nudge_weird_output")})){e(s.F.enqueue({type:"FIRST_DRAFT_SHOW_TRACE",message:i,button:{text:(0,a.t)("first_draft.share_trace"),action:()=>{(0,r.j)(JSON.stringify(t,null,2),"trace.json")}},onDismiss:n.lQ,timeoutOverride:2e4,timeoutType:"exact"}))}},280854:(e,t,i)=>{i.d(t,{K:()=>p});var n=i(7378),r=i(514228),a=i(763686),s=i(39751),o=i(722362),l=i(889655),d=i(318590),c=i(632248),u=i(322845);function p(){let e=(0,r.d4)(l.vD),t=(0,s.ZC)(e),i=(0,o.p8)("activeUserAction"),p=(0,d.LC)();n.useEffect(()=>{(e!==t&&t||![a.QOV.DEFAULT,a.QOV.CLICKING_TO_CHANGE_SELECTION].includes(i))&&(0,u.KY)({actionToClear:c.JT.FIND_INSPIRATION})},[e,i,t,p])}},40486:(e,t,i)=>{i.d(t,{Aw:()=>a,Ik:()=>l,Nv:()=>r,Y4:()=>s,cS:()=>c,jE:()=>d,nR:()=>n,r1:()=>o,x7:()=>u});let n=()=>Promise.resolve({}),r=()=>null,a=()=>null,s=()=>null,o=void 0,l=null,d=()=>null,c=()=>null,u=()=>null},87835:(e,t,i)=>{i.d(t,{M:()=>f,f:()=>h});var n=i(125019),r=i(279379),a=i(694009),s=i(559222),o=i(818009),l=i(308573),d=i(319102),c=i(136691),u=i(831786),p=i(582267),m=i(723183);async function h(e){if(!e.hash)return null;let t=(0,m.tG)(),i=(0,n.nj)(e.hash);return await t.getAllVideoUrls(),t.getSignedUrls([i]).get(i)??null}async function f(e){let t=e.map(e=>new r.p({formats:[a.uS],source:new s.Ts(e)})),i=(await Promise.all(t.map(e=>Promise.all([e.getPrimaryVideoTrack(),e.getPrimaryAudioTrack()])))).filter(e=>!!e[0]&&!!e[1]),n=new o.Fl({codec:"avc",bitrate:l.m0}),m=new o.Ii({codec:"aac",bitrate:l.m0}),h=new d.k({format:new c.si,target:new u.Sn});h.addVideoTrack(n),h.addAudioTrack(m),await h.start();let f=0;for(let[e,t]of i){let i=new p.lc(e),r=new p.qw(t);for await(let e of i.samples())e.setTimestamp(e.timestamp+f),n.add(e);for await(let e of r.samples())e.setTimestamp(e.timestamp+f),m.add(e);f+=await e.computeDuration()}return(await h.finalize(),h.target.buffer)?new Uint8Array(h.target.buffer):null}},165619:(e,t,i)=>{i.d(t,{J:()=>R});var n=i(486106),r=i(7378),a=i(514228),s=i(443820),o=i(763686),l=i(601108),d=i(536384),c=i.n(d),u=i(901889),p=i(751457),m=i(303541),h=i(731583),f=i(62612);function g(e){let t=e.mirror.sceneGraph,i=e.mirror.sceneGraphSelection;if(1!==Object.keys(i).length)return null;let n=t.get(Object.keys(i)[0]);return n&&"MEDIA"===n.type?n:null}var _=i(562352),x=i(643761),y=i(455680),b=i(624361);let C=(0,x.m)(v);async function v(e){let t=await (0,_.OF)(()=>E(e),{times:10,interval:1e3});return await new Promise((i,n)=>{let r=new Image;r.crossOrigin="anonymous",r.addEventListener("load",i),r.addEventListener("error",t=>{n(t.type+" loading the image with hash "+e)}),r.src=t}),t}async function E(e){let t=(await (0,b.Mj)([e],await y.Y5.openFilePromise())).s3_urls[e];if(!t)throw Error("Couldn't resolve image URL from server");return t}var T=i(27355),w=i(778880),j=i(635978),S=i(8833),k=i(640042),I=i(376315);let N="rich_media_overlay--loadingFallback---qUKd",A="rich_media_overlay--croppedClipPath--BeUH-";function O(e,t){e&&(t?(e.play(),w.Ay.safari&&(e.currentTime=.1)):(0,j.sQ)(e)?e.pause():(w.Ay.safari&&e.currentTime>.1&&(e.currentTime-=.1),e.play()))}let L=(0,r.memo)(({nodeId:e,mediaHash:t,isMaximized:i,setIsMaximized:a})=>{(0,k.RJ)(t);let s=(0,u.am)(),[o,l]=(0,r.useState)(null),[d,p,m,h]=function(){let[e,t]=(0,r.useState)(!1),[i,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(i){let e=()=>t(!0),n=()=>t(!1);return i.addEventListener("mousemove",e),i.addEventListener("mouseleave",n),()=>{i.removeEventListener("mousemove",e),i.removeEventListener("mouseleave",n)}}},[i]),[i,n,e,t]}(),f=(0,r.useRef)(null),g=(0,r.useRef)(!1),_=(0,T.md)(I.vE),[x,y]=(0,r.useState)(!1),[b,C]=(0,r.useState)(!0),v=(0,r.useRef)(!1);(0,r.useEffect)(()=>{_&&s("figjam_video_started_playing",{mediaHash:t})},[s,t,_]),(0,r.useEffect)(()=>{!g.current&&d&&(g.current=!0,(0,k.mc)(f.current,d,t).then(e=>{f.current=e}))},[g,t,d]),(0,r.useEffect)(()=>{if(d)return e(),d.addEventListener("loadeddata",e),d.addEventListener("canplay",e),()=>{d.removeEventListener("loadeddata",e),d.removeEventListener("canplay",e)};function e(){d&&(2>(d.readyState||0)&&!v.current?C(!0):(v.current=!0,C(!1)))}},[d]),(0,r.useEffect)(()=>{s("figjam_video_selected",{mediaHash:t})},[s,t]);let E=(0,k.DD)(e),N=(0,k.ZU)(e),[L,R]=(0,T.fp)(I.H),{isVideoNodeHovered:M,pointerDownOnVideo:D}=L,P=(0,r.useCallback)((e,t)=>{R({isVideoNodeHovered:e,pointerDownOnVideo:t})},[R]);return(0,n.jsxs)("div",{className:"rich_media_overlay--videoContainer--oC3oc",ref:l,children:[(0,n.jsx)("div",{className:c()("rich_media_overlay--clippedVideo--JljnC",i?"rich_media_overlay--noClipPath--ZooJK":A),children:(0,n.jsx)("video",{ref:p,crossOrigin:"anonymous",autoPlay:_&&!w.Ay.safari,className:c()("rich_media_overlay--video--O6uP2",i&&S.s4,i&&"rich_media_overlay--maximizedVideoBg--FUhbn"),onMouseUp:function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur()},controls:w.Ay.isIpad&&i,onClick:function(){i&&O(d,x)}})}),(0,n.jsx)(j._L,{didAutoplayOnSelection:_,hasEnded:x,isLoading:b,isMaximized:i,isVideoHovered:m,isVideoNodeHovered:M,mediaHash:t,pointerDownOnVideo:D,setHasEnded:y,setIsMaximized:a,setIsVideoHovered:h,setVideoControls:P,shouldHideControlBar:N,shouldHidePlaybackButton:E,toggleVideoPlayback:O,videoContainerElement:o,videoElement:d})]})}),R=r.memo(function(){let e=(0,a.d4)(g);return e&&e.richMediaInfo&&(!(0,l.k)().video_in_canvas_figjam||"VIDEO"!==e.richMediaInfo.richMediaType)?(0,n.jsx)(M,{nodeGuid:e.guid,mediaHash:e.richMediaInfo.mediaHash,mediaType:e.richMediaInfo.richMediaType},e.richMediaInfo.mediaHash):null}),M=r.memo(function(e){let{nodeGuid:t,mediaHash:i,mediaType:a}=e,s=r.useRef(null),o=r.useRef(null),l=(0,f._X)({subscribeToUpdates_expensive:!0}),[d,u]=r.useState(!1);return r.useEffect(()=>{let e=(0,h.EE)("rich-media",[t],e=>{o.current=e.position,B(s,l,o,d)});return o.current=e.currentNodePosition[t]?.position||null,B(s,l,o,d),()=>{(0,h.lB)("rich-media")}},[t,l,d]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{ref:s,className:c()("rich_media_overlay--richMediaOverlay--G9rnR",{"rich_media_overlay--maximizedMediaPositioner--vewL5":d}),children:(0,n.jsx)(p.tH,{fallback:(0,n.jsx)(P,{mediaType:a,mediaHash:i}),boundaryKey:"Video",children:(0,n.jsxs)(r.Suspense,{fallback:(0,n.jsx)(D,{}),children:["ANIMATED_IMAGE"===a&&(0,n.jsx)(F,{mediaHash:i}),"VIDEO"===a&&(0,n.jsx)(L,{nodeId:t,mediaHash:i,setIsMaximized:u,isMaximized:d})]})})})})});function D(){return(0,n.jsx)("div",{className:c()(N,A),children:(0,n.jsx)(s.k,{size:"lg"})})}function P({mediaHash:e,mediaType:t}){let i=(0,m.tx)("whiteboard.gif.failed_to_load");return"VIDEO"===t&&(i=(0,m.tx)("whiteboard.video.failed_to_load"),o.tHB?.isVideoBeingUploaded(e)&&(i=(0,m.tx)("whiteboard.video.still_uploading"))),(0,n.jsx)("div",{className:c()(N,A),children:(0,n.jsx)("div",{className:"rich_media_overlay--errorText--upGwm text--fontNeg16--JtecD text--_fontBase--QdLsd text--_negText--j9g-L",children:i})})}function F({mediaHash:e}){let t=C.useValue(e),i=(0,u.am)();return r.useEffect(()=>{i("figjam_gif_started_playing")},[i]),(0,n.jsx)("img",{crossOrigin:"anonymous",style:{height:"100%",backgroundColor:"white",width:"100%"},src:t,alt:"",className:A})}function B(e,t,i,n){if(!e.current||!t||!i.current)return;let r=e.current;if(n)r.style.position="fixed",r.style.height="auto",r.style.width="auto",r.style.transform="none",r.style.pointerEvents="all";else{let e=i.current,n=(0,f.Yb)(t,e);r.style.height=`${n.height}px`,r.style.width=`${n.width}px`,r.style.transform=`translate(${n.x+t.x}px, ${n.y+t.y}px) rotate(${e.angle}deg)`,r.style.transformOrigin="top left"}}},640042:(e,t,i)=>{i.d(t,{DD:()=>C,RJ:()=>f,ZU:()=>b,mc:()=>E});var n,r=i(7378),a=i(562352),s=i(651849),o=i(643761),l=i(257275),d=i(284552),c=i(455680),u=i(62612),p=i(167249),m=i(787550);let h=(0,o.m)(g,(n=(0,o.y)(6e4),(e,t)=>!t.deferred.result&&n(e,t)));function f(e){return h.useValue(e)}async function g(e){return await (0,a.OF)(()=>_(e),{times:20,interval:1e3})}async function _(e){let t=await x(e);if(!t)throw Error("Couldn't resolve video URL from server");return t}async function x(e){let t=await c.Y5.openFilePromise();if("figFile"!==t.type)throw Error("Unsupported file");try{let i=await m.S.getVideosDownload({fileKey:t.fileKey,hexHash:e});if(200!==i.status||i.data.error)throw Error("api error while resolving video");return i.data.meta.signed_url}catch(t){throw console.warn(`Couldn't download video with hash ${e}`),t}}let y=1/15;function b(e){let[t,i]=(0,r.useState)(!0),n=v(e),a=(0,u.qc)((0,u._X)({subscribeToUpdates_expensive:!1}));return(0,r.useEffect)(()=>{let e=0;n&&(e=n.x*n.y),i(e/(a.height*a.width)<y)},[n,a.height,a.width]),t}function C(e,{mediaPlayBadgeRadius:t=24}={}){let[i,n]=(0,r.useState)(!0),a=v(e),s=(0,u._X)({subscribeToUpdates_expensive:!1});return(0,r.useEffect)(()=>{a&&n(a.x*s.zoomScale<4*t||a.y*s.zoomScale<4*t)},[t,a,s.zoomScale]),i}function v(e){return(0,p.wA)((e,t)=>{let i=e.get(t);return i?i.size:null},e)}async function E(e,t,i){if(window.VIDEOJS_NO_DYNAMIC_STYLE=!0,e)return e;t.style.height="100%",t.style.width="100%",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center";let n=void 0!==t.volume?t.volume:1,r=await (0,d.Fe)();return new Promise(e=>{let a=r.videoJs(t,{muted:t.muted??!1,controls:!1,controlBar:!1,bigPlayButton:!1,loadingSpinner:!1,errorDisplay:!1,textTrackSettings:!1,textTrackDisplay:!1,nativeTextTracks:!1},async()=>{if((0,l.PN)()){a.src({type:"video/mp4",src:`https://static.figma.com/uploads/${i}`}),e(a);return}try{a.on("ready",()=>{a.volume(n)});let t=await c.Y5.openFilePromise();if("figFile"!==t.type)throw Error("Unsupported file");let r=`/api/files/${t.fileKey}/videos/${i}/manifest`;await (0,d.uz)(r,!0,a),e(a)}catch{try{let t=await _(i);s.k.warn("Reverting to fallback video source"),await (0,d.uz)(t,!1,a),e(a)}catch{e(null)}}})})}},351585:(e,t,i)=>{i.d(t,{QY:()=>o,Zk:()=>r,xw:()=>l});var n=i(27355);let r=(0,n.eU)({seen_fj_upsell_draft_modal_1:{fileKey:void 0,sessionId:0},seen_fj_upsell_draft_modal_2:{fileKey:void 0,sessionId:0},seen_fj_upsell_draft_modal_3:{fileKey:void 0,sessionId:0},seen_fj_upsell_team_modal_1:{fileKey:void 0,sessionId:0},seen_fj_upsell_team_modal_2:{fileKey:void 0,sessionId:0},seen_fj_upsell_team_modal_3:{fileKey:void 0,sessionId:0}}),a=(0,n.eU)({showing:!1,userFlag:null}),s=(0,n.eU)(e=>e(a),(e,t,i)=>{t(a,i)}),o=(0,n.eU)(e=>e(s)),l=(0,n.eU)(null,(e,t,{showing:i,userFlag:n=null})=>{t(s,{showing:i,userFlag:n})})},760762:(e,t,i)=>{i.d(t,{s:()=>eh});var n=i(486106),r=i(7378),a=i(514228),s=i(27355),o=i(594947),l=i(919079),d=i(303541),c=i(566045),u=i(156213),p=i(985254),m=i(314264),h=i(579169),f=i(864723),g=i(516028),_=i(165519),x=i(351585),y=i(536384),b=i.n(y),C=i(831799),v=i(990893);function E({name:e,onBadgeClick:t,text:i,trackingProperties:r,isLocked:a,children:s}){let o=a?"paid_status_badge_base--locked--z8YBo":e===l._Y.DEV_MODE_TRIAL?"paid_status_badge_base--devmode--u3XTd":"paid_status_badge_base--brand--7khqG";return(0,n.jsx)(C.fu,{name:e,properties:{...r,text:e},children:(0,n.jsxs)("div",{className:"paid_status_badge_base--container--e3rGO",children:[(0,n.jsx)(C.$z,{type:"button",className:"paid_status_badge_base--button--KgNx9","data-onboarding-key":v.l,onClick:t,children:(0,n.jsx)("span",{className:b()("paid_status_badge_base--badge---04yF text--fontPos11--2LvXf text--_fontBase--QdLsd",o),children:i})}),s]})})}function T({openFile:e}){let t=(0,v.I)(e.editorType),i=function(e){let t=(0,s.md)(f.UQ),i=(0,s.md)(h.zN),{getConfig:n}=(0,o.I7)("exp_free_badge_in_drafts_plan_comparison");return r.useMemo(()=>"design"===e&&t&&"loaded"===i.status&&!1===i.data&&!!n().getValue("free_badge_visible",!1),[e,t,i.status,i.data,n])}(e.editorType),a={fileKey:e.key,productType:(0,m.pi)(e)};return t?(0,n.jsx)(w,{trackingProperties:a}):i?(0,n.jsx)(j,{trackingProperties:a}):null}function w({trackingProperties:e}){let t=(0,a.wA)(),i=(0,s.md)(x.QY),r=(0,s.Xr)(x.xw),o=(0,s.md)(x.Zk),m=(0,a.d4)(e=>e.multiplayer.sessionID),h=(0,g.tS)();return(0,n.jsx)(E,{name:l._Y.FREE,onBadgeClick:()=>{i.showing&&i.userFlag&&(r({showing:!1}),t(u.Lo()),t(p.b({[i.userFlag]:!0})),o[i.userFlag]={fileKey:h||void 0,sessionId:m}),t(u.to({type:c.V,data:{upsellSource:_.b.DRAFT_FILE_BADGE,openCheckoutInNewTab:!0}}))},text:(0,d.t)("fullscreen.filename_view.free"),trackingProperties:e})}function j({trackingProperties:e}){let t=(0,a.wA)();return(0,n.jsx)(E,{name:l._Y.FREE,onBadgeClick:()=>{t(u.to({type:c.V,data:{upsellSource:_.b.DESIGN_DRAFT_FILE_BADGE,openCheckoutInNewTab:!0}}))},text:(0,d.t)("fullscreen.filename_view.free"),trackingProperties:e})}var S=i(90566),k=i(295724),I=i(121751),N=i(654645),A=i(391338),O=i(528509),L=i(212807),R=i(211146),M=i(191312),D=i(345997),P=i(642025),F=i(205827),B=i(522082),U=i(288654),G=i(723791),H=i(637027),z=i(589278),V=i(830372),K=i(272488),W=i(370443),q=i(864281),Y=i(43951),X=i(748636),J=i(419216);let Z="file_tracker_upsell_modal--progressDefault--rdBIR",Q="file_tracker_upsell_modal--progressActive--OS7iA file_tracker_upsell_modal--progressDefault--rdBIR",$="file_tracker_upsell_modal--progressWarning--pJlRr file_tracker_upsell_modal--progressDefault--rdBIR";function ee(e){let t;let{teamId:i,dismissModal:r,topPadding:a,pointerPaddingOffset:s}=e,o=(0,U.Rs)(Y.bel,{teamId:i}),l=(0,g.q5)(),c=(0,k.y)(i,_.b.FILE_TRACKER_MODAL),u=(0,K.E9)(),p=q.h.useTrackingContext({trigger:_.b.FILE_TRACKER_MODAL});if(!l||"loaded"!==o.status)return null;if(u)t=(0,G.oA)(o.data.team?.teamFileCounts?.totalFileCount)??0;else switch(l.editorType){case"design":t=o.data.team?.teamFileCounts?.designFileCount??0;break;case"whiteboard":t=o.data.team?.teamFileCounts?.whiteboardFileCount??0;break;case"slides":t=parseInt(o.data.team?.teamFileCounts?.slideFileCount??"0")}if(void 0===t||0===t)return null;let h=t<D.WW?(0,d.tx)("fullscreen.file_tracker_modal.num_files_of_max_free_files_created",{numFiles:t,maxFreeFiles:D.WW}):(0,d.tx)("fullscreen.file_tracker_modal.this_is_your_last_free_file"),f=t<D.WW?(0,d.tx)("fullscreen.file_tracker_modal.starter_plans_are_free_but_they_limit_you_to_just_max_free_files",{maxFreeFiles:D.WW}):(0,d.tx)("fullscreen.file_tracker_modal.max_free_files_already_you_are_becoming_a_pro",{maxFreeFiles:D.WW}),x=[(0,d.t)("fullscreen.file_tracker_modal.unlimited_files_pages"),(0,d.t)("fullscreen.file_tracker_modal.audio_conversations_in_files"),(0,d.t)("fullscreen.file_tracker_modal.unlimited_version_history_and_more")],y={fileTeamId:i,numFiles:t,productType:(0,m.pi)(l),...p};return(0,n.jsx)(C.fu,{name:"File Tracker Modal",properties:y,children:(0,n.jsx)(J.CR,{animateQuickly:!0,className:"file_tracker_upsell_modal--walkThroughModal--NYXku pointer_modal--walkThroughModalAnimateFast--Xm453 pointer_modal--walkThroughModal--6eTVS pointer_modal--pointerModal--wrpFz",disableClickOutsideToHide:!0,dismissModal:r,pointerPaddingOffset:s,shouldCenterArrow:X.EL.FALLBACK,shouldDismissWhenLostDOMTarget:!0,targetKey:v.l,topPadding:a,width:330-2*J.uv,children:(0,n.jsxs)("div",{className:"file_tracker_upsell_modal--modalContent--Jn4Rd","data-testid":"fileTrackerUpsellModalContent",children:[(0,n.jsxs)("div",{className:"file_tracker_upsell_modal--progressBar--IPGgx",children:[(0,n.jsx)("div",{className:b()(Q,{[$]:t>=D.WW})}),(0,n.jsx)("div",{className:b()(Z,{[Q]:t>1,[$]:t>=D.WW})}),(0,n.jsx)("div",{className:b()(Z,{[$]:t>=D.WW})})]}),(0,n.jsx)("h1",{className:"file_tracker_upsell_modal--modalTitle--UVfa7",children:h}),(0,n.jsx)("p",{className:"file_tracker_upsell_modal--modalBody--x728y",children:f}),(0,n.jsx)("div",{className:z.s.font11.colorText.lh16.fontMedium.mb24.pr24.$,children:(0,n.jsx)(V.Y,{direction:"vertical",spacing:16,children:x.map((e,t)=>(0,n.jsxs)(V.Y,{direction:"horizontal",verticalAlignItems:"start",spacing:8,children:[(0,n.jsx)("span",{children:"\u2713"}),(0,n.jsx)("span",{children:e})]},t))})}),(0,n.jsx)(H.vd,{className:"file_tracker_upsell_modal--comparePlansButton--2oBV9",onClick:()=>{r(),c()},dataTestId:"fileTrackerUpsellModalCta",trackingProperties:{trackingDescriptor:W.c.COMPARE_PLANS},children:(0,d.tx)("fullscreen.file_tracker_modal.compare_plans")})]})})})}var et=i(984674);function ei({dismissModal:e,teamId:t}){let i=(0,a.wA)(),r=(0,R.TN)(t);return(0,n.jsx)(C.fu,{name:"Pro trial upsell modal",properties:F.ng.getTrackingProperties(),children:(0,n.jsx)(J.CR,{width:300,targetKey:v.l,dismissModal:e,shouldCenterArrow:X.EL.FALLBACK,hideCloseButton:!0,children:(0,n.jsxs)("div",{className:"pro_trial_upsell_modal--container--vCFd5",children:[(0,n.jsx)("div",{children:(0,n.jsx)(et.E,{fontSize:13,fontWeight:"semi-bold",children:(0,d.tx)("fullscreen.pro_trial_upsell_modal.title",{numOfDaysLeft:r?.daysLeft})})}),(0,n.jsx)("p",{className:"pro_trial_upsell_modal--textContainer--kGoDm",children:(0,n.jsx)(et.E,{fontSize:11,children:(0,d.tx)("fullscreen.pro_trial_upsell_modal.description")})}),(0,n.jsx)("div",{className:"pro_trial_upsell_modal--btnContainer--wZVCK",children:(0,n.jsx)(H.vd,{trackingProperties:{trackingDescriptor:W.c.UPGRADE_FROM_FILENAME_PRO_BADGE,...F.ng.getTrackingProperties("Upgrade now")},onClick:()=>{e(),i((0,u.to)({type:c.V,data:{teamId:t,upsellSource:_.b.PRO_TRIAL_UPSELL_MODAL,openCheckoutInNewTab:!0}}))},children:(0,d.t)("fullscreen.pro_trial_upsell_modal.cta_text")})})]})})})}var en=i(231614),er=i(32680);function ea({openFile:e,team:t}){let i=(0,L.FC)(),r=(0,R.TN)(t.id),s=t.restrictionsList?.includes(M.P4.LOCKED),o=(0,a.d4)(e=>e.isOpenFileLoadedFromLiveGraph),l=(0,g.MY)().errors,d=!(0,D.XX)(t)&&(0,P.canEditTeam)(t.id,i),c=t.canEdit&&e.plan?.tier===M.Ag.STARTER,u=(0,A.u8)({oldValue:d,newValue:c,newValueReady:o,label:N.A.TeamPaidStatusBadge.canEditStarterTeam,enableFullRead:(0,I.DQ)(I.Pw.GROUP_7),contextArgs:{canEdit:t.canEdit,planTier:e.plan?.tier,isOpenFileLoadedFromLiveGraph:o,numOpenFileErrors:Array.isArray(l)?l.length:-1}}),p=(0,en.iG)(t),h={fileKey:e.key,fileTeamId:t.id,productType:(0,m.pi)(e)};return F.ng.canSeeProTrialUxInFile(r,e)?(0,n.jsx)(eo,{trackingProperties:h,teamId:t.id}):s?(0,n.jsx)(el,{trackingProperties:h,teamId:t.id,proTrial:r,canEditTeam:u,isProOrOnceEdu:p}):u?(0,n.jsx)(ed,{openFile:e,permissionsState:i,trackingProperties:h,teamId:t.id}):null}function es(){let[e,t]=r.useState(!1);return[e,(0,S.A)(e=>{t(e)},200,{leading:!0,trailing:!1})]}function eo({teamId:e,trackingProperties:t}){let[i,r]=es();return(0,n.jsx)(E,{name:l._Y.PRO_TRIAL,onBadgeClick:()=>r(!0),text:(0,d.t)("fullscreen.filename_view.pro_trial"),trackingProperties:{...t,...F.ng.getTrackingProperties()},children:i&&(0,n.jsx)(ei,{teamId:e,dismissModal:()=>r(!1)})})}function el({teamId:e,proTrial:t,trackingProperties:i,canEditTeam:r,isProOrOnceEdu:s}){let o=(0,a.wA)(),p=(0,B.jn)(),m=F.ng.canSeeProTrialExpiryUx(t),h=m?l._Y.PRO_TRIAL_EXPIRED:l._Y.LOCKED,f=m?_.b.PRO_TRIAL_UPSELL_MODAL:_.b.LOCKED_TEAM_FILE_BADGE;return(0,n.jsx)(E,{name:h,onBadgeClick:()=>{if(p)return null;e&&!s?o(u.to({type:er.t,data:{teamId:e,canEditTeam:r}})):r&&o(u.to({type:c.V,data:{teamId:e,upsellSource:f}}))},text:m?(0,d.t)("fullscreen.filename_view.trial_expired"):(0,d.t)("fullscreen.filename_view.locked"),trackingProperties:{...i,...m?F.ng.getTrackingProperties():{}},isLocked:!0})}function ed({openFile:e,permissionsState:t,trackingProperties:i,teamId:r}){let a=(0,v.I)(e.editorType),s=(0,O.jd)(t.openFile?.project);return a?(0,n.jsx)(em,{trackingProperties:i,teamId:r}):s?(0,n.jsx)(ec,{trackingProperties:i,teamId:r}):(0,n.jsx)(ep,{openFile:e,trackingProperties:i,teamId:r})}function ec({trackingProperties:e,teamId:t}){let i=(0,k.y)(t,_.b.STARTER_TEAM_FILE_BADGE);return(0,n.jsx)(E,{name:l._Y.FREE,onBadgeClick:()=>i(),text:(0,d.t)("fullscreen.filename_view.free"),trackingProperties:e})}let eu=[M._Y.DESIGN,M._Y.WHITEBOARD,M._Y.SLIDES];function ep({openFile:e,trackingProperties:t,teamId:i}){let[r,a]=es(),s=(0,k.y)(i,_.b.STARTER_TEAM_FILE_BADGE);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E,{name:l._Y.FREE,onBadgeClick:()=>{e.editorType&&eu.includes(e.editorType)?a(!0):s()},text:(0,d.t)("fullscreen.filename_view.free"),trackingProperties:t}),r&&(0,n.jsx)(ee,{teamId:i,dismissModal:()=>a(!1),topPadding:4,pointerPaddingOffset:-32})]})}function em({trackingProperties:e,teamId:t}){let i=(0,k.y)(t,_.b.STARTER_TEAM_FILE_BADGE),r=(0,a.wA)(),o=(0,s.md)(x.QY),c=(0,s.Xr)(x.xw);return(0,n.jsx)(E,{name:l._Y.FREE,onBadgeClick:()=>{o.showing&&o.userFlag&&(c({showing:!1}),r(u.Lo()),r(p.b({[o.userFlag]:!0}))),i()},text:(0,d.t)("fullscreen.filename_view.free"),trackingProperties:e})}function eh({openFile:e}){return e.team?(0,n.jsx)(ea,{openFile:e,team:e.team}):(0,n.jsx)(T,{openFile:e})}},990893:(e,t,i)=>{i.d(t,{I:()=>l,l:()=>o});var n=i(7378),r=i(27355),a=i(579169),s=i(864723);let o="file_paid_status_badge_onboarding_key";function l(e){let t=(0,r.md)(s.UQ),i=(0,r.md)(a.zN);return n.useMemo(()=>"whiteboard"===e&&t&&"loaded"===i.status&&!1===i.data,[e,t,i.status,i.data])}},368624:(e,t,i)=>{i.d(t,{A:()=>E});var n=i(486106),r=i(301843),a=i(701558),s=i(601108),o=i(303541),l=i(173838),d=i(198840),c=i(612685),u=i(191312),p=i(129884),m=i(496441),h=i(612521),f=i(63728),g=i(524523);let _="hub_file_tooltips--hubFileInfo--mO1Xa text--fontPos11--2LvXf text--_fontBase--QdLsd",x="hub_file_tooltips--handle--n3W-M",y="hub_file_tooltips--link--fRVPc blue_link--blueLink--9rlnd",b=(0,g.ex)("hub_file_in_review",function(e){let{url:t}=e,i=(0,f.Gc)(e=>{e.preventDefault(),h.Ay.redirect(t,"_blank")});return(0,n.jsxs)(m._,{newTab:!0,trusted:!0,href:t,className:_,htmlAttributes:{onMouseDown:i},children:[(0,n.jsx)("span",{className:x,children:(0,o.tx)("community.tooltip.is_currently_in_review")}),(0,n.jsx)("div",{className:y,children:(0,o.tx)("community.permissions_modal_publish_tab.footer.view_community_page")})]})},e=>({url:e.getAttribute("data-tooltip-hub-file-url")||""})),C=(0,g.ex)("hub_file_info",function(e){let{lastPublishedAt:t,url:i}=e,r=(0,f.Gc)(e=>{e.preventDefault(),h.Ay.redirect(i,"_blank")});return(0,n.jsxs)(m._,{newTab:!0,trusted:!0,href:i,className:_,htmlAttributes:{onMouseDown:r},children:[(0,n.jsx)("span",{className:x,children:(0,o.tx)("community.tooltip.published_to_community_on_date",{date:t})}),(0,n.jsx)("div",{className:y,children:(0,o.tx)("community.permissions_modal_publish_tab.footer.view_community_page")})]})},e=>{let t=e.getAttribute("data-tooltip-hub-file-url")||"";return{lastPublishedAt:e.getAttribute("data-tooltip-hub-file-last-published-at")||"",url:t}}),v=(0,g.ex)("hub_file_info_unverified",function(e){let{verificationStatus:t}=e;return(0,n.jsx)("div",{className:_,children:(0,n.jsx)("span",{className:x,children:t})})},e=>({verificationStatus:e.getAttribute("data-tooltip-hub-file-verification-status")}));function E(){let e=(0,l.JT)();return e?(0,n.jsx)(T,{hubFile:e}):null}function T({hubFile:e}){let t;let i=(0,d.Vz)(e.id);if(e.unpublishedAt)return null;let{currentHubFileVersion:l}=e,m=(0,o.t)("fullscreen.filename_view.hub_file_published_at",{publish_date:new Date(l.createdAt)}),h=e.verificationStatus===u.iS.BLOCKED?(0,o.t)("community.tooltip.this_community_file_is_currently_blocked"):e.verificationStatus===u.iS.UNVERIFIED?(0,o.t)("community.tooltip.this_community_file_is_currently_unverified"):"",f=e.verificationStatus===u.iS.BLOCKED||e.verificationStatus===u.iS.UNVERIFIED,g=e.publishingStatus===u.KB.PENDING_PUBLIC||e.publishingStatus===u.KB.PENDING_USER_VISUAL_COMPLIANCE;return f?t=v:g?t=b:(0,s.k)().hub_file_info_tooltip&&(t=C),(0,n.jsx)("div",{className:f?"hub_file_backlink--publicIconDisabled--ESBVX hub_file_backlink--publicIconBase--uhtkz":"hub_file_backlink--publicIcon--gl5n8 hub_file_backlink--publicIconBase--uhtkz","data-testid":"filename-view-public-icon","data-tooltip":t,"data-tooltip-hub-file-last-published-at":m,"data-tooltip-hub-file-url":(0,c.X$)(e.id),"data-tooltip-hub-file-verification-status":h,"data-tooltip-interactive":!0,"data-tooltip-max-width":300,"data-tooltip-offset-y":0,"data-tooltip-type":p.Ib.SPECIAL,onClick:f?void 0:i,children:f?(0,n.jsx)(r.N,{}):(0,n.jsx)(a.m,{})})}},896213:(e,t,i)=>{i.d(t,{v7:()=>eO,Lx:()=>ew});var n=i(486106),r=i(7378),a=i(514228),s=i(691059),o=i(718764),l=i(555681),d=i(969533),c=i(614223),u=i(763686),p=i(601108),m=i(27355),h=i(556482),f=i(536384),g=i.n(f),_=i(90566),x=i(783094),y=i(876459),b=i(612521),C=i(901889),v=i(63728),E=i(385215),T=i(763714),w=i(149328),j=i(638601),S=i(60079),k=i(637027),I=i(347284),N=i(589278),A=i(303541),O=i(514864),L=i(976345),R=i(88239),M=i(929976),D=i(91703),P=i(985254),F=i(753501);i(789);var B=i(564183),U=i(290668),G=i(469876),H=i(678782),z=i(578768),V=i(516028),K=i(440875),W=i(116724),q=i(2590),Y=i(495564);i(120294);var X=i(122682),J=i(129884),Z=i(106997),Q=i(336897);i(750432);var $=i(504727);i(519056);var ee=i(27776);(0,x.hG)(ee.rJv);var et=(e=>(e.VOICE="voice",e))(et||{}),ei=i(778880),en=i(156213);i(989765);var er=i(314264),ea=i(224);i(372672);var es=i(191312),eo=i(635666),el=i(652992),ed=i(53721),ec=i(630077),eu=i(739964);i(440393);var ep=i(51271),em=i(330497),eh=i(132424),ef=(e=>(e[e.NO_CALL_STATE=0]="NO_CALL_STATE",e[e.JOIN_CALL_STATE=1]="JOIN_CALL_STATE",e[e.IN_CALL_WIDGET_OPEN=2]="IN_CALL_WIDGET_OPEN",e[e.IN_CALL_WIDGET_CLOSED=3]="IN_CALL_WIDGET_CLOSED",e))(ef||{});function eg(e){let t=(0,a.Pj)(),i=(0,V.q5)(),r=(0,a.d4)(e=>e.orgById),s=(0,a.d4)(e=>e.teams),o=(0,a.d4)(e=>e.selectedView?.editorType),l=(0,a.d4)(e=>"prototype"===e.selectedView.view),d=o===ed.nT.Design||o===ed.nT.Whiteboard||o===ed.nT.DevHandoff||o===ed.nT.Slides||o===ed.nT.Illustration,c=(0,a.wA)();if(ei.XN||!i||l||!d)return null;let u=(0,X.YL)({openFile:i,teams:s,orgById:r});if(u===X.gW.FEATURE_DISABLED)return null;if(u===X.gW.ELIGIBLE_WITH_UPGRADE)return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:eh.WF,"data-onboarding-key":eo._2,onClick:()=>{let e=i.teamId&&s[i.teamId];if(!e)return;(0,er.ds)("CTA Clicked",i.key,t.getState(),{name:"Disabled Voice Call Button"});let n=o===ed.nT.Whiteboard?es._Y.WHITEBOARD:es._Y.DESIGN;c(en.to({type:eu.DV,data:{team:e,resource:el.Bi.AUDIO,action:ec.pE.USE_AUDIO,editorType:n,currentPlan:ea.F.Plan.STARTER,upsellPlan:ea.F.Plan.PRO}}))},children:(0,n.jsx)(ep.A.HeadphonesIcon,{className:eh.tL,size:32})})});if(u!==X.gW.ELIGIBLE){let e=u===X.gW.DISABLED_BY_ORG?(0,A.t)("collaboration.voice.audio_has_been_disabled_by_your_organization"):(0,A.t)("collaboration.voice.to_use_audio_in_this_file_move_it_to_a_team_on_one_of_our_paid_plans");return(0,n.jsx)("span",{className:eh.WF,"data-tooltip-type":J.Ib.TEXT,"data-tooltip-show-immediately":!0,"data-tooltip":e,children:(0,n.jsx)(ep.A.HeadphonesIcon,{className:eh.sl,size:32})})}return(0,n.jsx)("div",{className:eh.Te,children:(0,n.jsx)(em.K,{fileKey:i.key,className:eh.iw,"data-tooltip-type":J.Ib.TEXT,"data-tooltip":(0,A.t)("collaboration.voice.start_conversation"),hidePopover:e.hidePopover,children:(0,n.jsx)("span",{className:eh.iG,children:(0,n.jsx)("span",{"data-onboarding-key":"audio-nux-key",className:eh.zc,children:(0,n.jsx)(ep.A.HeadphonesIcon,{className:eh.tL,size:32})})})})})}var e_=i(298663),ex=i(552876),ey=i(561485),eb=i(362217);i(107215);var eC=i(384190);i(124657);var ev=i(574786);let eE="multiplayer-nickname-dropdown",eT=((0,G.ck)(),(0,x.jz)(ee.rJv));function ew(e,t,i,n,r,a,s){if(!r)return;let o=e.sessionID,l=o===t,d=a&&a.sessionID===t;if(l&&d)s();else if(n){let t=r.observingSessionID===o||r.sessionID===o?-1:e.sessionID,n=-1!==r.observingSessionID,a=r.observingSessionID!==o&&r.sessionID!==o;n&&i((0,q._P)({name:"Prototype Observation Ended",params:{multiplayerObservingSessionID:r.observingSessionID,multiplayerSessionID:r.sessionID}})),a&&(i((0,q._P)({name:"Prototype Observation Started",params:{multiplayerObservingSessionID:o,multiplayerSessionID:r.sessionID}})),i(P.b({aware_of_observation_mode:!0}))),i(D.J4({...r,observingSessionID:t}))}else u.h3O&&(u.h3O.observeUser(o),r.observingSessionID!==o&&r.sessionID!==o&&i(P.b({aware_of_observation_mode:!0})))}function ej(e){let{query:t,usersToSearch:i}=e,[n,a]=r.useState(i),s=r.useRef(!1),o=(0,C.am)(),l=r.useRef(!1),d=l.current,c=r.useCallback(async e=>{if(""===e)a(i);else{s.current=!1;let t=await (0,eC.n)(e,i);s.current||(a(t.map(e=>e.item)),d||(o("Multiplayer Tools User Search",{otherUserSessionsCount:i.length}),l.current=!0))}},[d,o,i]),u=(0,_.A)(c,200);return r.useEffect(()=>(u(t),()=>{u.cancel(),s.current=!0}),[u,t,i]),{searchResults:n}}let eS=(0,r.forwardRef)(function(e,t){let{query:i,setQuery:a}=e,s=r.useRef(null);return(0,n.jsx)("div",{ref:t,className:ev.MT,children:(0,n.jsx)(l.D,{ref:s,"aria-label":(0,A.t)("search.search_file_users"),autoFocus:!0,onChange:a,onClick:F.dG,placeholder:(0,A.t)("collaboration.spotlight.menu.search.placeholder"),spellCheck:!1,value:i})})});function ek({targetRect:e,arrowOffsetFromRectLeft:t,currentUser:i,peopleList:s,previousViewerList:o,previousViewerListRenderer:l,userListRenderer:d,onUserClick:u,onKeyDown:p,shouldDisableSpotlight:h,spotlightDisabledReason:f,dropdownRef:_}){let x=(0,r.useRef)(null),y=(0,r.useRef)(null),[b,C]=(0,m.fp)(T.ah),[v,j]=(0,m.fp)(T.Dv),[L,R]=r.useState(310),D=(0,r.useRef)(null),[P,F]=r.useState(0),B=(0,a.wA)(),U=(0,w.Av)(),G=Math.min(window.innerHeight-U-22,465);r.useLayoutEffect(()=>{x.current&&y.current&&R(G-x.current.offsetHeight-y.current.offsetHeight-16*P)},[G,P]);let H=(0,r.useCallback)(()=>{h||C(!0)},[C,h]),{start:z,cancel:V}=(0,W.Z)(H),q=(0,r.useCallback)(()=>{V(),C(!1)},[V,C]),Y=(0,E.Vi)(),X=(0,r.useCallback)(()=>{h||(Y(),q(),j(!0),B(M.oB()))},[q,B,j,Y,h]),Z=(0,E.B4)(),ee=(0,r.useCallback)(()=>{Z(),B(M.oB())},[B,Z]),et=(0,K.dR)(),ei=et&&i.sessionID===et.sessionID?(0,n.jsx)(S.pz,{onClick:ee,className:ev.BK,children:(0,A.tx)("collaboration.spotlight.button.stop")}):(0,n.jsx)(k.$$,{onClick:X,className:ev.BK,onMouseOver:()=>{z(300)},onMouseLeave:q,disabled:h,"data-dropdown-tooltip":h&&f?f:void 0,"data-tooltip-type":J.Ib.TEXT,"data-tooltip-show-below":!0,children:(0,A.tx)("collaboration.spotlight.tooltip.spotlight_me")}),en=s.length+(o?.length??0)>8,[er,ea]=r.useState(""),{searchResults:es}=ej({query:er,usersToSearch:s}),{searchResults:eo}=ej({query:er,usersToSearch:o??[]}),el=es.length>0&&eo.length>0,ed=es.length>0||eo.length>0,ec=0===es.length&&0===eo.length,eu=(0,n.jsx)("div",{className:ev.zW,children:(0,n.jsx)("div",{className:ev.me})});(0,r.useEffect)(()=>{F((en?1:0)+(""!==er&&ec?1:0)+(ed?1:0))},[en,er,ec,ed]);let ep=(0,n.jsxs)(c.J,{mode:"dark",children:[(0,n.jsxs)("div",{ref:x,className:ev.mg,children:[(0,n.jsx)(Q.Q,{user:i,isOverflow:!0,isCurrentUserHeaderRow:!0}),(0,n.jsxs)("div",{className:ev.Vr,children:[ei,(0,n.jsx)(eg,{})]})]}),en&&(0,n.jsxs)(n.Fragment,{children:[eu,(0,n.jsx)("div",{className:ev.rT,ref:y,children:(0,n.jsx)(eS,{query:er,setQuery:ea})})]}),""!==er&&ec&&(0,n.jsxs)(n.Fragment,{children:[eu,(0,n.jsx)("div",{className:`${ev.Tw} ${N.s.mb8.$}`,children:(0,A.tx)("fullscreen.toolbar.multiplayer.no_user_found")})]}),ed&&(0,n.jsxs)(n.Fragment,{children:[eu,(0,n.jsxs)(I.P,{width:eT-16,maxHeight:L,scrollBarAlways:!0,disableScrollbarBorder:!0,ref:D,children:[el&&(0,n.jsx)("div",{className:ev.Tw,children:(0,A.tx)("fullscreen.toolbar.multiplayer.currently_viewing")}),es.length>0&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(O.W,{label:(0,A.t)("fullscreen.toolbar.multiplayer.currently_viewing_users"),renderer:d,onSelect:e=>{e.length&&(u(e[0]),B(M.oB()))},initiallyNotSelected:!0,customClassName:ev.aK,children:es})}),eo.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:ev.Tw,children:(0,A.tx)("fullscreen.toolbar.multiplayer.previously_viewed")}),(0,n.jsx)(O.W,{label:(0,A.t)("fullscreen.toolbar.multiplayer.previously_viewed_users"),renderer:l,initiallyNotSelected:!0,customClassName:ev.aK,children:eo})]}),(0,n.jsx)("div",{className:N.s.pt12.$})]})]})]});return(0,n.jsx)($.Cf,{arrowOffsetFromRectLeft:t,className:g()(ev.qN,ev.QD),contentRef:_,disableDropdownScrollContainer:!0,lean:"center",maxHeight:G,maxWidth:eT,onKeyDown:p,propagateCloseClick:!0,removeUI3BorderPadding:!0,showPoint:!1,targetRect:e,children:ep})}function eI({currentUser:e,peopleList:t,previousViewerList:i,onUserClick:l,shouldDisableSpotlight:d,spotlightDisabledReason:u,containerProps:p,multiplayer:f,orgPathPart:g,isSites:_,nominatePresenter:x,cancelPresenterNomination:C,hidePopover:j}){let O=(0,r.useRef)(null),L=(0,r.useRef)(null),[R,D]=(0,m.fp)(T.ah),[P,F]=(0,m.fp)(T.Dv),[B,U]=r.useState(310),G=(0,r.useRef)(null),[H,V]=r.useState(0),q=(0,a.wA)(),Y=(0,w.Av)(),X=Math.min(window.innerHeight-Y-22,465);r.useLayoutEffect(()=>{O.current&&L.current&&U(Math.min(X-O.current.offsetHeight-L.current.offsetHeight-16*H,310))},[X,H]);let Z=(0,r.useCallback)(()=>{d||D(!0)},[D,d]),{start:$,cancel:ee}=(0,W.Z)(Z),et=(0,r.useCallback)(()=>{ee(),D(!1)},[ee,D]),ei=(0,E.Vi)(),en=(0,r.useCallback)(()=>{d||(ei(),et(),F(!0),q(M.oB()),j())},[et,q,F,ei,d,j]),er=(0,E.B4)(),ea=(0,r.useCallback)(()=>{er(),q(M.oB()),j()},[q,er,j]),es=(0,K.dR)(),eo=es&&e.sessionID===es.sessionID?(0,n.jsx)(S.pz,{onClick:ea,className:ev.BK,children:(0,A.tx)("collaboration.spotlight.button.stop")}):(0,n.jsx)(k.$$,{onClick:en,className:ev.BK,onMouseOver:()=>{$(300)},onMouseLeave:et,disabled:d,"data-dropdown-tooltip":d&&u?u:void 0,"data-tooltip-type":J.Ib.TEXT,"data-tooltip-show-below":!0,children:(0,A.tx)("collaboration.spotlight.tooltip.spotlight_me")}),el=t.length+(i?.length??0)>8,[ed,ec]=r.useState(""),{searchResults:eu}=ej({query:ed,usersToSearch:t}),{searchResults:ep}=ej({query:ed,usersToSearch:i??[]}),em=eu.length>0&&ep.length>0,eh=eu.length>0||ep.length>0,ef=0===eu.length&&0===ep.length,ex=(0,n.jsx)("div",{className:ev.zW,children:(0,n.jsx)("div",{className:ev.me})});(0,r.useEffect)(()=>{V((el?1:0)+(""!==ed&&ef?1:0)+(eh?1:0))},[el,ed,ef,eh]);let ey=(e,t)=>{let i=(0,v.Gc)(()=>{let t=`/files${g}/user/${e.userID}`;b.Ay.redirect(t,y.eD?void 0:"_blank")}),r=[],a=f.sessionNominatedByCurrentUser===e.sessionID,s=f.presenterSessionID===e.sessionID,o=_&&!!e.sitesViewState&&(0,e_.a)(e.sitesViewState);return!t||s||d||(a?r.push({text:(0,A.tx)("collaboration.spotlight.tooltip.menu.cancel_ask_to_spotlight"),onClick:()=>{(0,z.AD)(e)&&C(e.sessionID,f)},key:"cancel-ask-to-spotlight"}):r.push({text:(0,A.tx)("collaboration.spotlight.tooltip.ask_to_spotlight"),onClick:()=>{(0,z.AD)(e)&&x(e.sessionID,f)},disabled:o,key:"ask-to-spotlight"})),r.push({text:(0,A.tx)("avatar.tooltip.view_profile"),onClick:e=>{i(e)},key:"view-profile"}),(0,n.jsx)(Q.Q,{user:e,isOverflow:!0,onUserClick:t?l:void 0,secondaryActions:r,hidePopover:j},e.sessionID)},eb=(0,n.jsxs)(c.J,{mode:"dark",children:[(0,n.jsxs)("div",{ref:O,className:ev.Km,children:[(0,n.jsx)(Q.Q,{user:e,isOverflow:!0,isCurrentUserHeaderRow:!0}),(0,n.jsxs)("div",{className:ev.Vr,children:[eo,(0,n.jsx)(eg,{hidePopover:j})]})]}),el&&(0,n.jsxs)(n.Fragment,{children:[ex,(0,n.jsx)("div",{className:ev.zK,ref:L,children:(0,n.jsx)(eS,{query:ed,setQuery:ec})})]}),""!==ed&&ef&&(0,n.jsxs)(n.Fragment,{children:[ex,(0,n.jsx)("div",{className:`${ev.hg} ${N.s.mb8.$}`,children:(0,A.tx)("fullscreen.toolbar.multiplayer.no_user_found")})]}),eh&&(0,n.jsxs)(n.Fragment,{children:[ex,(0,n.jsxs)(I.P,{width:eT-16,maxHeight:B,scrollBarAlways:!0,disableScrollbarBorder:!0,ref:G,children:[em&&(0,n.jsx)("h2",{className:ev.hg,children:(0,A.tx)("fullscreen.toolbar.multiplayer.currently_viewing")}),eu.length>0&&eu.map(e=>(0,n.jsx)(r.Fragment,{children:ey(e,!d)},`currentViewer-${e.userID}`)),ep.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:ev.hg,children:(0,A.tx)("fullscreen.toolbar.multiplayer.previously_viewed")}),ep.map(e=>(0,n.jsx)(r.Fragment,{children:ey(e,!1)},`previousViewer-${e.userID}`))]}),(0,n.jsx)("div",{className:N.s.pt12.$})]})]})]});return(0,n.jsx)(s.mc,{...p(h.Ay.props(eN.popoverContainer(X,eT))),children:(0,n.jsx)(o.i,{children:eb})})}let eN={popoverContainer:(e,t)=>[{backgroundColor:"xon4yw5",borderRadius:"x1mxnbhz",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,padding:"xf7z5ut",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,boxSizing:"x9f619",maxHeight:"x1kb659o",width:"x1bl4301",$$css:!0},{"--maxHeight":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${t}px`)}]},eA="multiplayer-tools-dropdown",eO=r.memo(function(e){let t;let{multiplayer:i,dropdownShown:o,currentUser:l,onUserClick:c,thresholdUsesContainerWidth:h}=e,f=(0,r.useRef)(null),_=(0,r.useRef)(null),x=(0,r.useRef)(null),w=(0,r.useRef)(null),S=(0,r.useRef)(null),k=(0,z.wF)(),I=(0,R.ZO)(),N=(0,B.k)(),O=(0,j.WN)(),D=(0,a.wA)(),[P,G]=r.useState(!1),V=(0,ex.Oc)(),W=o?.type,q=!V&&W===eA,X=(0,r.useMemo)(()=>i.allUsers.filter(e=>e.sessionID!==l?.sessionID),[i.allUsers,l]),$=(0,a.d4)(e=>"prototype"===e.selectedView.view||"presentation"===e.selectedView.view),ee=(0,H.Zr)("spotlight-me"),et=(0,e_.G)(),ei=!$&&(e.disableFollowing||I||!ee);ei&&et&&(t=(0,A.t)("left_rail.only_available_on_canvas"));let[en,er]=(0,m.fp)(T.ah);en&&!q&&er(!1);let ea=f.current&&_.current?f.current.clientWidth-_.current.clientWidth:void 0,es=(0,z.Wq)(ea,h),{users:eo,overflowUsers:el}=(0,z.uC)(X,null,!1,es),ed=(0,r.useMemo)(()=>[...eo,...el].filter(e=>e&&e.userID!==l.userID),[el,eo,l]),ec=(0,r.useMemo)(()=>k?.filter(e=>!ed.some(t=>e.userID===t.userID)&&e.userID!==l.userID),[ed,k,l]),eu=(0,C.am)(),ep=(0,r.useCallback)(e=>{if((0,F.dG)(e),!_.current)return;x.current=_.current.getBoundingClientRect();let t=o?.type===eA;D(L.gR({type:eA})),t||eu("Multiplayer Tools Opened",{currentUserSessionID:l.sessionID,otherUserSessionsCount:ed.length})},[l.sessionID,D,o?.type,ed.length,eu]),em=(0,K.dR)(),eh=em&&em.sessionID!==l.sessionID?em:null,ef=(0,Y.q)(),eg=(0,E.tu)(),eC=(0,E.oJ)(),eE=(0,ey.cJ)(),eT=r.useMemo(()=>({label:e=>e.name,id:e=>String(e.sessionID),renderDisplay(e,{hasCursor:t}){let r=(0,v.Gc)(()=>{let t=`/files${ef}/user/${e.userID}`;b.Ay.redirect(t,y.eD?void 0:"_blank")}),a=[],s=i.sessionNominatedByCurrentUser===e.sessionID,o=i.presenterSessionID===e.sessionID,l=eE&&!!e.sitesViewState&&(0,e_.a)(e.sitesViewState);return o||ei||(s?a.push({text:(0,A.tx)("collaboration.spotlight.tooltip.menu.cancel_ask_to_spotlight"),onClick:()=>{(0,z.AD)(e)&&eC(e.sessionID,i)},key:"cancel-ask-to-spotlight"}):a.push({text:(0,A.tx)("collaboration.spotlight.tooltip.ask_to_spotlight"),onClick:()=>{(0,z.AD)(e)&&eg(e.sessionID,i)},disabled:l,key:"ask-to-spotlight"})),a.push({text:(0,A.tx)("avatar.tooltip.view_profile"),onClick:e=>{r(e)},key:"view-profile"}),(0,n.jsx)(Q.Q,{user:e,isOverflow:!0,isInListbox:!0,containsCursor:t,secondaryActions:a},e.sessionID)}}),[eE,i,ef,eg,eC,ei]),ew=ed.length+1,ej=(0,n.jsx)(eb.s,{featured:eh,quickAccess:eo,maxVisibleUsers:z.A8-1,onUserClick:c,totalUserCount:ew}),[eS,eN]=r.useState(!1),{getTriggerProps:eO,getContainerProps:eL}=s.fP({isOpen:eS,onOpenChange:eN,type:"dialog",softDismiss:!0}),eR=!V&&(0,p.k)().a11y_multiplayer_dropdown?eO():{},eM=(0,n.jsx)(Z.x,{children:(0,n.jsxs)("button",{ref:_,"aria-expanded":V?void 0:null!=x.current&&o?.type===eA,"aria-label":(0,A.t)("fullscreen.toolbar.multiplayer.multiplayer_tools"),className:g()({[ev.XE]:!0,[ev.yx]:el.length>0,[ev.Ge]:0===el.length,[ev.wH]:q,[ev.yo]:!q&&P&&!V}),"data-tooltip":(0,A.t)("fullscreen.toolbar.multiplayer.multiplayer_tools"),"data-tooltip-offset-x":_.current&&S.current?_.current.offsetWidth/2-S.current.offsetWidth/2-1.5:0,"data-tooltip-offset-y":_.current&&f.current?f.current.clientHeight/2-_.current.clientHeight/2:0,"data-tooltip-type":J.Ib.TEXT,id:"multiplayer-toolbar-container",onClick:F.dG,onKeyDown:e=>{(0,U.hx)({e,onClickHandler:e=>{N?O(u.rcl.FOLLOW_PRESENTER):ep(e)},onEscapeHandler:()=>{_?.current?.blur()}})},onMouseDownCapture:e=>{N?O(u.rcl.FOLLOW_PRESENTER):ep(e)},onMouseLeave:()=>{G(!1)},onMouseOverCapture:e=>{G(!0),(0,F.dG)(e)},...eR,children:[(0,n.jsx)("span",{ref:w,className:ev.r9,children:(0,n.jsx)(Q.Q,{user:l,isOverflow:!1},l.sessionID)},l.sessionID),(0,n.jsxs)("span",{"data-onboarding-key":"multiplayer-spotlight-nux-key",className:ev.rR,children:[el.length>0&&(0,n.jsx)("span",{className:g()({[ev.zk]:!0,[ev.r9]:!0,[ev.wH]:q,[ev.yo]:!q&&P&&!V}),style:{minWidth:ew<10?8:ew<100?15:22},children:`${ew}`}),!V&&(0,n.jsx)("span",{ref:S,children:(0,n.jsx)(d.O,{className:g()({[ev.ai]:!0,[ev.wH]:q})})})]})]})}),eD=(0,r.useCallback)(()=>{D(M.oB()),f.current?.focus()},[D]),[eP,eF]=r.useState(null);return(0,r.useEffect)(()=>{eP&&eP.focus()},[eP]),(0,n.jsxs)("span",{className:ev.EI,ref:f,"data-onboarding-key":"multiplayer-users-container",children:[(0,n.jsxs)(n.Fragment,{children:[eM,ej]}),!(0,p.k)().a11y_multiplayer_dropdown&&o?.type===eA&&S.current&&(0,n.jsx)(ek,{arrowOffsetFromRectLeft:S.current?S.current.offsetWidth/2+1:0,currentUser:l,dropdownRef:eF,onKeyDown:e=>{"Escape"===e.key&&eD()},onUserClick:c,peopleList:ed,previousViewerList:ec,previousViewerListRenderer:{label:e=>e.name,id:e=>String(e.userID),renderDisplay(e,{hasCursor:t}){let i=(0,v.Gc)(()=>{let t=`/files${ef}/user/${e.userID}`;b.Ay.redirect(t,y.eD?void 0:"_blank")}),r=[{text:(0,A.tx)("avatar.tooltip.view_profile"),onClick:e=>{i(e)},key:"view-profile"}];return(0,n.jsx)(Q.Q,{user:e,isOverflow:!0,isInListbox:!0,containsCursor:t,secondaryActions:r},e.userID)}},shouldDisableSpotlight:ei,spotlightDisabledReason:t,targetRect:S.current.getBoundingClientRect(),userListRenderer:eT}),(0,p.k)().a11y_multiplayer_dropdown&&S.current&&(0,n.jsx)(eI,{cancelPresenterNomination:eC,containerProps:eL,currentUser:l,hidePopover:()=>{eN(!1)},isSites:eE,multiplayer:i,nominatePresenter:eg,onUserClick:c,orgPathPart:ef,peopleList:ed,previousViewerList:ec,shouldDisableSpotlight:ei,spotlightDisabledReason:t})]})}),eL="multiplayer-users-dropdown"},124657:(e,t,i)=>{i.d(t,{sK:()=>k,vQ:()=>S});var n=i(486106),r=i(7378),a=i(536384),s=i.n(a),o=i(239910),l=i.n(o),d=i(783094),c=i(39751),u=i(169182),p=i(149328),m=i(440875),h=i(805373),f=i(54182),g=i(27776),_=i(574786);let x=e=>e?13:14,y=(0,d.jz)(g.Ocz),b=(0,d.jz)(g.bnr),C=e=>e?b:y,v=(0,d.jz)(g.Ko3);var E=(e=>(e.PRESENTING="presenting",e.SELECTED="selected",e.NONE="none",e))(E||{}),T=(e=>(e.PRESENTING="presenting",e.SELECTED="selected",e.DESELECTED="deselected",e.NONE="",e))(T||{});let w=e=>{let t=e.user.sessionID===e.observingSessionID,i=e.user.sessionID===e.presenterSessionID;return t?"selected":i?"presenting":"none"},j=l()([{current:"none",selected:"selected",presenting:"presenting",none:""},{current:"selected",selected:"selected",presenting:"presenting",none:"deselected"},{current:"presenting",selected:"selected",presenting:"presenting",none:""}],e=>e.current);function S(e){let t;let{user:i,tooltipOffsetY:a}=e;(0,p.Av)();let o=function({user:e,observingSessionID:t,presenterSessionID:i,nominatedSessionID:n,disableSpotlightAnimation:a}){let[s,o]=r.useState(""),l=(0,c.ZC)({user:e,observingSessionID:t,presenterSessionID:i,nominatedSessionID:n}),d=r.useMemo(()=>({user:e,observingSessionID:t,presenterSessionID:i,nominatedSessionID:n}),[t,i,e,n]);return r.useEffect(()=>{let e="";if(!a){let t=w(d);e=j[l&&w(l)||"none"][t]}o(e)},[d,l,a]),s}({user:i,observingSessionID:e.observingSessionID,presenterSessionID:e.presenterSessionID,nominatedSessionID:e.nominatedSessionID,disableSpotlightAnimation:e.disableSpotlightAnimation}),l=_.qb,d=(0,m.Ww)(),u=w(r.useMemo(()=>({user:e.user,observingSessionID:e.observingSessionID,presenterSessionID:e.presenterSessionID,nominatedSessionID:e.nominatedSessionID}),[e.observingSessionID,e.presenterSessionID,e.user,e.nominatedSessionID])),g=i.sessionID===d?.sessionID?"var(--color-bg-brand)":i.color,y=C(!0),b=x(!0);return e.hasBorder&&(t="none"===u?"outward":"inward"),(0,n.jsx)("div",{className:s()({[_.C7]:!e.horizontal,[_._L]:e.horizontal}),children:(0,n.jsxs)(f.W,{id:e.tooltipProxyId,user:{id:i.userID,handle:i.name,sessionId:i.sessionID},tooltipOffsetY:a,children:[(0,n.jsx)("svg",{className:`multiplayer-animation-svg ${e.horizontal?"horizontal":""}`,viewBox:`0 0 ${y} ${v}`,"aria-hidden":"true",children:(0,n.jsx)("circle",{className:`multiplayer-animation-circle ${e.horizontal?"horizontal":""} ${o}`,cx:y/2,cy:v/2,r:b,fill:"none",stroke:g,strokeWidth:"2"})},"multiplayer-animation-svg"),e.showColorIndicators&&(0,n.jsx)("div",{className:`multiplayer-animation-droplet${e.horizontal?"-horizontal":""} ${o}`,"data-avatar-color-bar":!0,style:{backgroundColor:g}},"multiplayer-animation-droplet"),(0,n.jsx)("div",{className:l,children:(0,n.jsx)(h.Ro,{entity:{...i,id:i.userID},className:_.ws,borderStyle:t})})]})})}let k=r.memo(function(e){let t=C(e.isUI3),i=x(e.isUI3),r=`
  @layer css-modules {
    .multiplayer-animation-svg {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: ${t}px;
    }

    .multiplayer-animation-droplet {
      left: ${t/2-i/2}px;
      top: 0px;
      height: 2px;
      width: ${i}px;
      border-radius: 0px;
      position: absolute;
    }

    .multiplayer-animation-droplet-horizontal {
      left: 0px;
      top: 50%;
      transform: translateY(-50%);
      height: ${i}px;
      width: 2px;
      border-radius: 0px;
      position: absolute;
    }

    .multiplayer-animation-droplet.selected {
      animation: droplet 0.3s ease-in forwards;
    }

    .multiplayer-animation-droplet-horizontal.selected {
      animation: droplet-horizontal 0.3s ease-in forwards;
    }

    .multiplayer-animation-droplet.deselected {
      animation: droplet-reverse 0.2s ease-out 0.4s forwards;
      left: ${t/2-i/4}px;
      top: 0px;
      height: 0px;
      width: 0px;
      border-radius: 0px;
    }

    .multiplayer-animation-droplet-horizontal.deselected {
      animation: droplet-horizontal-reverse 0.2s ease-out 0.4s forwards;
      left: ${t/2-i/4}px;
      height: 0px;
      width: 0px;
      border-radius: 0px;
    }

    .multiplayer-animation-circle {
      stroke-dasharray: 400;
      stroke-dashoffset: 400;
      transform-origin: center;
      transform: rotateZ(-90deg);
    }

    .multiplayer-animation-circle.horizontal {
      transform: rotateZ(-180deg);
    }

    .multiplayer-animation-circle.selected {
      animation: draw-circle 0.15s ease-in 0.3s forwards;
    }

    .multiplayer-animation-circle-horizontal.selected {
      animation: draw-circle-horizontal 0.15s ease-in 0.3s forwards;
    }

    .multiplayer-animation-circle.deselected {
      animation: draw-circle-reverse 0.4s ease-in forwards;
    }

    .multiplayer-animation-circle.presenting {
      stroke-dasharray: 3.4;
      animation: rotating 30s linear infinite
    }

    @keyframes rotating {
      from {
        transform: rotateZ(0deg);
      }
      to {
        transform: rotateZ(360deg);
      }
    }

    @keyframes droplet {
      0% {
        top: 0px;
        height: 2px;
        width: ${i}px;
        border-radius: 0px;
      }
      20% {
        top: -3.5px;
        height: ${i/2}px;
        width:  ${i/2}px;
        border-radius: 100%;
      }
      66% {
        top: -2px;
        height: 7px;
      }
      98% {
        top: 5px;
        height: 3px;
        width: 3px;
        border-radius: 100%;
      }
      99% {
        top: 5px;
        height: 1px;
        width: 1px;
        border-radius: 100%;
      }
      100% {
        top: 5px;
        height: 0px;
        width: 0px;
        border-radius: 100%;
      }
    }

    @keyframes droplet-horizontal {
      0% {
        left: 0;
        height: ${i}px;
        width: 2px;
        border-radius: 0px;
      }
      20% {
        left: -3.5px;
        height: ${i/2}px;
        width: ${i/2}px;
        border-radius: 100%;
      }
      66% {
        left: -2px;
        width: ${i/2}px;
      }
      99% {
        left: 5px;
        height: 3px;
        width: 3px;
        border-radius: 100%;
      }
      100% {
        left: 5px;
        height: 0px;
        width: 0px;
        border-radius: 100%;
      }
    }

    @keyframes draw-circle {
      0% {
        stroke-dashoffset: 400;
      }
      100% {
        stroke-dashoffset: 300;
      }
    }

    @keyframes droplet-reverse {
      0% {
        top: 0px;
        height: 2px;
        width: 2px;
        border-radius: 0px;
      }
      100% {
        top: 0px;
        height: 2px;
        width: ${i};
        border-radius: 0px;
      }
    }

    @keyframes droplet-horizontal-reverse {
      0% {
        left: 0px;
        height: 2px;
        width: 2px;
        border-radius: 0px;
      }
      100% {
        left: 0px;
        width: 2px;
        height: ${i}px;
        border-radius: 0px;
      }
    }
  }
  `;return(0,n.jsx)("style",{nonce:(0,u.Ay)().csp_nonce,children:r})})},519056:(e,t,i)=>{i.d(t,{w:()=>et});var n=i(486106),r=i(7378),a=i(514228),s=i(969941),o=i(536384),l=i.n(o),d=i(783094),c=i(169182),u=i(288654),p=i(723791),m=i(778880),h=i(502364),f=i(617427),g=i(303541),_=i(182479),x=i(60600),y=i(473493),b=i(88239),C=i(11182),v=i(156213),E=i(831799),T=i(13008),w=i(976749),j=i(765689),S=i(2023),k=i(722362),I=i(546509),N=i(516028),A=i(191312),O=i(43951),L=i(345997),R=i(465071),M=i(680166),D=i(53721),P=i(129884),F=i(202542),B=i(522082),U=i(596134),G=i(779607),H=i(24875),z=i(231614),V=i(828890),K=i(162708),W=i(598952),q=i(224454),Y=i(552876),X=i(831857),J=i(30079),Z=i(233873),Q=i(27776),$=i(466614),ee=(e=>(e.PRIMARY="primary",e.SECONDARY="secondary",e.DISABLED="disabled",e.LOADING="loading",e.OPEN_SESSION="openSession",e.PERSONAL_DRAFT_DISABLED="personalDraftDisabled",e.HAS_CURRENT_UPGRADE_REQUEST="hasCurrentUpgradeRequest",e))(ee||{});function et({editingFile:e,user:t,isFileInWorkshop:i,appendedClassname:s}){let o=(0,b.l7)(),l=(0,w.my)(),f=(0,j.wR)(e.editorType),{hasPendingRequest:E,getUpgradePathway:U,getHasProvisionalAccess:W}=(0,M.wH)({folderId:e.folderId}),Z=e.editorType===A._Y.WHITEBOARD&&!!e.org?.figjamDisabledAt,ee=l===D.nT.Slides&&(0,p.oA)(e.org?.isSlidesDisabled),et=l===D.nT.Sites&&!!e.org?.isSitesDisabled,en=l===D.nT.Cooper&&!!e.org?.isCooperDisabled,er=(0,X.e)(),es=!!e.org||(0,L.XX)(e.team),eo=e.isTryFile,el=(0,k.aV)(),ed=(0,a.wA)(),ec=N.Cq({useSinatraType:!0})?.url,[eu,ep]=(0,r.useState)(null),em=!e.teamId&&!e.parentOrgId&&e.folderId===t?.personal_drafts_folder_id&&!eo,eh=W(f),{userLacksLicenseAccess:ef}=(0,M.KI)({fileKey:e.key,userId:t?.id??null,enabled:!!e&&!!t}),eg=ef(e.editorType??A._Y.DESIGN),e_=e.folderId===t?.drafts_folder_id&&eg&&E(f)&&!eh&&U(f)!==F.J.AUTO_PATHWAY,ex=t?.id===e.creatorId,ey=(0,z.vt)(e.team?.id),eb=(0,B.jn)(),eC=(0,u.Rs)(O.kQI,{id:e.team?.id||""},{enabled:!!e.team}),ev="loaded"===eC.status&&!!eC.data.team?.hasPermission,eE=!!e.team&&ey||!!e.team&&eb,eT=e.editorType===A._Y.FIGMAKE&&!er,ew=(0,R.X$)("ShareButton").unwrapOr(null),ej=ew?.tier===A.Ag.PRO,eS=(0,y.xo)();(0,T.xf)(e);let ek=(0,Y.Oc)(),eI=(e.canView&&e.canEdit,(0,r.useCallback)(()=>{if(!el&&!Z&&!ee&&!et&&!en&&!eT&&!em&&e){if(eo){let t;void 0!==ec&&(ed(C.S({url:ec})),t=!0),ed((0,v.to)({type:K.p,data:{fileKey:e.key,alreadyCopied:t}}))}else(0,h.YQ)({id:"multiplayer_toolbar_share_button"}),ed((0,v.to)({type:V.g_,data:{fileKey:e.key,source:S.nk.fullscreenToolbar,isLockedTeam:eE}}))}},[el,Z,ee,et,en,em,eo,eT,eE,ec,e,ed])),eN=(0,I.m0)();if((0,r.useEffect)(()=>{eN&&(eN._share_file=()=>{eI()})},[eN,eI]),m.Ay.isMeetDevice||(!eo||!i)&&!t)return null;let eA=i&&!eo&&es,eO=!!(0,c.tl)().org_id&&(0,c.tl)().org_id===e.parentOrgId;if(eE&&"loading"===eC.status)return null;let eL=eT?"disabled":eo?"secondary":Z||ee||et||en?"disabled":el?"loading":eA?"openSession":em?"personalDraftDisabled":e_?"hasCurrentUpgradeRequest":eE&&ev&&!e.canEdit||eS?"secondary":"primary",eR=eT?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_figmake_files_disabled"):Z?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_fig_jam_files_disabled_by_your_organization"):ee?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_slides_files_disabled_by_your_organization"):et?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_sites_files_disabled_by_your_organization"):en?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_buzz_files_disabled_by_your_organization"):eA?(0,g.t)("fullscreen.toolbar.multiplayer.open_session_in_progress"):em?q.r:e_?(0,g.t)("fullscreen.toolbar.multiplayer.sharing_has_current_upgrade_request"):null,eM={"data-tooltip-is-current-user-file-owner":JSON.stringify(ex),"data-tooltip-type":em?P.Ib.SPECIAL:P.Ib.TEXT,"data-tooltip-interactive":!!em,"data-tooltip":eR,"data-tooltip-show-immediately":!0,"data-tooltip-offset-y":em?0:6},eD=l===D.nT.Whiteboard,eP=eD||o||ek,eF=eP?$.lT:$.m,eB=e.hasEditRole&&(0,p.oA)(e.hasEditRole),eU=!el&&!eR&&eu&&ex&&(eO||ej),eG=eD?(0,d.jz)(Q.M$q):void 0;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:eF,ref:ep,"data-onboarding-key":_.D9,children:[(0,n.jsx)(eP?ea:ei,{variant:eL,onClick:eI,tooltipProps:eM,appendedClassname:s}),eB&&(0,n.jsx)(J.$,{fileKey:e.key,isLegacyPosition:!eP})]}),eB&&!eR&&eu&&(0,n.jsx)(G.F,{target:eu,windowPadding:eG}),eU&&(0,n.jsx)(H.q,{file:e,target:eu}),(0,n.jsx)(x.DG,{})]})}function ei({variant:e,onClick:t,tooltipProps:i,appendedClassname:r}){let a=(0,U.v)(),s="openSession"===e,o=l()(a?$.cR:$.OI,{[$.Mg]:"disabled"===e,[$.A9]:"loading"===e,[$.LF]:s,[$.z_]:"personalDraftDisabled"===e,[$.MI]:"secondary"===e},$.uX,r);return(0,n.jsxs)(E.$z,{type:"button",className:o,onClick:t,"data-onboarding-key":W.v4,...i,dataTestId:"multiplayer-toolbar-share-button",trackingProperties:{buttonVariant:e},disabled:er(e),children:[s&&(0,n.jsx)(Z.r,{}),(0,g.tx)("fullscreen.toolbar.multiplayer.share")]})}let en=["disabled","personalDraftDisabled","loading","hasCurrentUpgradeRequest"];function er(e){return en.includes(e)}function ea({variant:e,onClick:t,tooltipProps:i}){let r={primary:"primary",secondary:"secondary",disabled:"disabled",loading:"disabled",openSession:"primary",personalDraftDisabled:"disabled",hasCurrentUpgradeRequest:"disabled"}[e],a=null;return"openSession"===e&&(a=(0,n.jsx)(s.I,{})),(0,n.jsx)(f.c,{disabled:er(e),variant:"disabled"!==r?r:void 0,iconPrefix:a,onClick:t,trackingProperties:{buttonVariant:e},htmlAttributes:{...i,"data-testid":"multiplayer-toolbar-share-button","data-onboarding-key":W.v4},children:(0,g.tx)("fullscreen.toolbar.multiplayer.share")})}},183049:(e,t,i)=>{i.d(t,{Bo:()=>u,G$:()=>m,NI:()=>p,Qp:()=>a,V6:()=>o,YA:()=>h,bE:()=>d,fM:()=>s,mO:()=>l,mn:()=>r,v8:()=>c});var n=i(486106);function r(){return(0,n.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,n.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,n.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 11.8333C11 11.3731 11.3731 11 11.8333 11H21H30.1667C30.6269 11 31 11.3731 31 11.8333V16C31 16.4602 30.6269 16.8333 30.1667 16.8333C29.7064 16.8333 29.3333 16.4602 29.3333 16V12.6667H21.8333V29.3333H25.1667C25.6269 29.3333 26 29.7064 26 30.1667C26 30.6269 25.6269 31 25.1667 31H21H16.8333C16.3731 31 16 30.6269 16 30.1667C16 29.7064 16.3731 29.3333 16.8333 29.3333H20.1667V12.6667H12.6667V16C12.6667 16.4602 12.2936 16.8333 11.8333 16.8333C11.3731 16.8333 11 16.4602 11 16V11.8333Z",fill:"black",fillOpacity:"0.9"})]})}function a(){return(0,n.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,n.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,n.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.6666 19.0849L23.3798 18.5874C24.4633 17.8316 25.1667 16.5811 25.1667 15.1666C25.1667 12.8654 23.3012 10.9999 21 10.9999C18.6988 10.9999 16.8333 12.8654 16.8333 15.1666C16.8333 16.5811 17.5366 17.8315 18.6201 18.5873L19.3332 19.0848V19.9543V22.6666H22.6666V19.9544V19.0849ZM24.3332 22.6666V19.9544C25.8445 18.9003 26.8333 17.1489 26.8333 15.1666C26.8333 11.9449 24.2217 9.33325 21 9.33325C17.7783 9.33325 15.1667 11.9449 15.1667 15.1666C15.1667 17.1488 16.1554 18.9002 17.6666 19.9543V22.6666C17.5892 22.6666 17.5122 22.6774 17.4377 22.6986L11.6044 24.3653C11.2466 24.4675 11 24.7945 11 25.1666V28.4999C11 28.9602 11.3731 29.3333 11.8333 29.3333H30.1667C30.6269 29.3333 31 28.9602 31 28.4999V25.1666C31 24.7945 30.7533 24.4675 30.3956 24.3653L24.5623 22.6986C24.4878 22.6774 24.4108 22.6666 24.3333 22.6666H24.3332ZM17.7831 24.3333H19.3332H22.6666H24.2169L29.3333 25.7952V27.6666H12.6667V25.7952L17.7831 24.3333ZM14.3333 31.8333C14.3333 31.373 14.7064 30.9999 15.1667 30.9999H26.8333C27.2936 30.9999 27.6667 31.373 27.6667 31.8333C27.6667 32.2935 27.2936 32.6666 26.8333 32.6666H15.1667C14.7064 32.6666 14.3333 32.2935 14.3333 31.8333Z",fill:"black",fillOpacity:"0.9"})]})}function s(){return(0,n.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,n.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,n.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 22.6667V19.2639V17.6667H16V22.6667H11ZM11 24.3333V27.6667C11 28.5871 11.7462 29.3333 12.6667 29.3333H16V24.3333H11ZM17.6667 29.3333H29.3333C30.2538 29.3333 31 28.5871 31 27.6667V12.6667C31 11.7462 30.2538 11 29.3333 11H21.925H17.6667V16H31V17.6667H17.6667V22.6667H31V24.3333H17.6667V29.3333ZM16 11H12.6667C11.7462 11 11 11.7462 11 12.6667V16H16V11ZM9.33334 27.6667V19.2639V12.6667C9.33334 10.8257 10.8257 9.33333 12.6667 9.33333H21.925H29.3333C31.1743 9.33333 32.6667 10.8257 32.6667 12.6667V27.6667C32.6667 29.5076 31.1743 31 29.3333 31H12.6667C10.8257 31 9.33334 29.5076 9.33334 27.6667Z",fill:"black",fillOpacity:"0.9"})]})}function o(){return(0,n.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,n.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,n.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.4999 10.9999H25.1666C24.7063 10.9999 24.3333 11.373 24.3333 11.8333V15.1666C24.3333 15.6268 24.7063 15.9999 25.1666 15.9999H28.4999C28.9602 15.9999 29.3333 15.6268 29.3333 15.1666V11.8333C29.3333 11.373 28.9602 10.9999 28.4999 10.9999ZM25.1666 9.33325C23.7859 9.33325 22.6666 10.4525 22.6666 11.8333V12.6666H21.8333C20.4525 12.6666 19.3333 13.7859 19.3333 15.1666V19.3333C19.3333 19.7935 18.9602 20.1666 18.4999 20.1666H17.6666V19.3333C17.6666 17.9525 16.5473 16.8333 15.1666 16.8333H11.8333C10.4525 16.8333 9.33325 17.9525 9.33325 19.3333V22.6666C9.33325 24.0473 10.4525 25.1666 11.8333 25.1666H15.1666C16.5473 25.1666 17.6666 24.0473 17.6666 22.6666V21.8333H18.4999C18.9602 21.8333 19.3333 22.2063 19.3333 22.6666V26.8333C19.3333 28.214 20.4525 29.3333 21.8333 29.3333H22.6666V30.1666C22.6666 31.5473 23.7859 32.6666 25.1666 32.6666H28.4999C29.8806 32.6666 30.9999 31.5473 30.9999 30.1666V26.8333C30.9999 25.4525 29.8806 24.3333 28.4999 24.3333H25.1666C23.7859 24.3333 22.6666 25.4525 22.6666 26.8333V27.6666H21.8333C21.373 27.6666 20.9999 27.2935 20.9999 26.8333V22.6666C20.9999 22.0263 20.7592 21.4422 20.3633 20.9999C20.7592 20.5576 20.9999 19.9735 20.9999 19.3333V15.1666C20.9999 14.7063 21.373 14.3333 21.8333 14.3333H22.6666V15.1666C22.6666 16.5473 23.7859 17.6666 25.1666 17.6666H28.4999C29.8806 17.6666 30.9999 16.5473 30.9999 15.1666V11.8333C30.9999 10.4525 29.8806 9.33325 28.4999 9.33325H25.1666ZM15.1666 18.4999H11.8333C11.373 18.4999 10.9999 18.873 10.9999 19.3333V22.6666C10.9999 23.1268 11.373 23.4999 11.8333 23.4999H15.1666C15.6268 23.4999 15.9999 23.1268 15.9999 22.6666V19.3333C15.9999 18.873 15.6268 18.4999 15.1666 18.4999ZM25.1666 25.9999H28.4999C28.9602 25.9999 29.3333 26.373 29.3333 26.8333V30.1666C29.3333 30.6268 28.9602 30.9999 28.4999 30.9999H25.1666C24.7063 30.9999 24.3333 30.6268 24.3333 30.1666V26.8333C24.3333 26.373 24.7063 25.9999 25.1666 25.9999Z",fill:"black",fillOpacity:"0.9"})]})}function l(){return(0,n.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,n.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,n.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12.67H27C28.2868 12.67 29.33 13.7132 29.33 15V27C29.33 28.2868 28.2868 29.33 27 29.33H15C13.7132 29.33 12.67 28.2868 12.67 27V18H21.5C22.3284 18 23 17.3284 23 16.5V12.67ZM21.33 12.67H15C13.7132 12.67 12.67 13.7132 12.67 15V16.33H21.33V12.67ZM21.5 11H27C29.2091 11 31 12.7909 31 15V27C31 29.2091 29.2091 31 27 31H15C12.7909 31 11 29.2091 11 27V16.5V15C11 12.7909 12.7909 11 15 11H21.5Z",fill:"black",fillOpacity:"0.9"})]})}function d(){return(0,n.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,n.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,n.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31 21C31 26.5228 26.5229 31 21 31C15.4772 31 11 26.5228 11 21C11 15.4771 15.4772 11 21 11C26.5229 11 31 15.4771 31 21ZM32.6667 21C32.6667 27.4433 27.4433 32.6667 21 32.6667C14.5567 32.6667 9.33334 27.4433 9.33334 21C9.33334 14.5567 14.5567 9.33333 21 9.33333C27.4433 9.33333 32.6667 14.5567 32.6667 21ZM15.728 22.6667C15.4422 22.6667 15.1763 22.8132 15.0236 23.0548C14.8709 23.2964 14.8527 23.5994 14.9753 23.8576C16.0444 26.108 18.3393 27.6667 21 27.6667C23.6607 27.6667 25.9557 26.108 27.0247 23.8576C27.1473 23.5994 27.1291 23.2964 26.9764 23.0548C26.8237 22.8132 26.5578 22.6667 26.272 22.6667H15.728ZM21 26C19.5199 26 18.1891 25.3569 17.273 24.3333H24.727C23.811 25.3569 22.4801 26 21 26ZM19.3333 17.6667C19.3333 18.5871 18.5871 19.3333 17.6667 19.3333C16.7462 19.3333 16 18.5871 16 17.6667C16 16.7462 16.7462 16 17.6667 16C18.5871 16 19.3333 16.7462 19.3333 17.6667ZM24.3333 19.3333C25.2538 19.3333 26 18.5871 26 17.6667C26 16.7462 25.2538 16 24.3333 16C23.4129 16 22.6667 16.7462 22.6667 17.6667C22.6667 18.5871 23.4129 19.3333 24.3333 19.3333Z",fill:"black",fillOpacity:"0.9"})]})}function c(){return(0,n.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,n.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,n.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.6667 12.6667H14.3333C13.4129 12.6667 12.6667 13.4129 12.6667 14.3333V23.7798L16.8691 19.5774C17.1945 19.252 17.7222 19.252 18.0476 19.5774L27.7984 29.3282C28.6573 29.2611 29.3333 28.5428 29.3333 27.6667V14.3333C29.3333 13.4129 28.5871 12.6667 27.6667 12.6667ZM11 27.6667V25.7929V25.7904V14.3333C11 12.4924 12.4924 11 14.3333 11H27.6667C29.5076 11 31 12.4924 31 14.3333V27.6667C31 29.5076 29.5076 31 27.6667 31H14.3333C12.4924 31 11 29.5076 11 27.6667ZM17.4583 21.3452L12.6667 26.1368V27.6667C12.6667 28.5871 13.4129 29.3333 14.3333 29.3333H25.4465L17.4583 21.3452ZM26 17.6667C26 18.5871 25.2538 19.3333 24.3333 19.3333C23.4129 19.3333 22.6667 18.5871 22.6667 17.6667C22.6667 16.7462 23.4129 16 24.3333 16C25.2538 16 26 16.7462 26 17.6667ZM27.6667 17.6667C27.6667 19.5076 26.1743 21 24.3333 21C22.4924 21 21 19.5076 21 17.6667C21 15.8257 22.4924 14.3333 24.3333 14.3333C26.1743 14.3333 27.6667 15.8257 27.6667 17.6667Z",fill:"black",fillOpacity:"0.9"})]})}function u(){return(0,n.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,n.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,n.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 12.6667H16V14.3333H26V12.6667ZM27.6667 12.6667V14.3333H29.3333L29.3333 12.6667L27.6667 12.6667ZM12.6667 12.6667L14.3333 12.6667V14.3333H12.6667L12.6667 12.6667ZM29.3333 16H12.6667L12.6667 29.3333H29.3333L29.3333 16ZM12.6667 11C11.7462 11 11 11.7462 11 12.6667V29.3333C11 30.2538 11.7462 31 12.6667 31H29.3333C30.2538 31 31 30.2538 31 29.3333V12.6667C31 11.7462 30.2538 11 29.3333 11H12.6667ZM21.8934 23.6306L22.2346 23.4259L22.9045 23.024C23.1742 22.8621 23.1742 22.4712 22.9045 22.3094L22.2346 21.9074L21.8934 21.7027L21.8803 21.6948L21 21.1667L20.9758 21.1522L20.5599 20.9026L19.9644 20.5453C19.6867 20.3787 19.3333 20.5787 19.3333 20.9026V21.597V22.0821V22.1103V23.223V23.2512V23.7363V24.4308C19.3333 24.7546 19.6867 24.9547 19.9644 24.788L20.5599 24.4308L20.9758 24.1812L21 24.1667L21.8803 23.6385L21.8934 23.6306ZM23.762 20.8802L20.8219 19.1161C19.4333 18.283 17.6667 19.2832 17.6667 20.9026V24.4308C17.6667 26.0501 19.4333 27.0504 20.8219 26.2172L23.762 24.4531C25.1106 23.6439 25.1106 21.6894 23.762 20.8802Z",fill:"black",fillOpacity:"0.9"})]})}function p(){return(0,n.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,n.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,n.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.0786 14.7062C25.2844 14.2945 25.1176 13.794 24.7059 13.5882C24.2943 13.3823 23.7937 13.5492 23.5879 13.9608L16.9212 27.2942C16.7154 27.7058 16.8823 28.2064 17.2939 28.4122C17.7056 28.618 18.2061 28.4512 18.4119 28.0395L25.0786 14.7062ZM14.0487 13.7068C13.7023 13.4037 13.1758 13.4388 12.8728 13.7852L7.03944 20.4518C6.76452 20.766 6.76452 21.2352 7.03944 21.5493L12.8728 28.216C13.1758 28.5624 13.7023 28.5975 14.0487 28.2944C14.395 27.9913 14.4301 27.4649 14.1271 27.1185L8.77389 21.0006L14.1271 14.8827C14.4301 14.5363 14.395 14.0098 14.0487 13.7068ZM27.9512 28.2944C28.2975 28.5975 28.824 28.5624 29.1271 28.216L34.9604 21.5493C35.2353 21.2352 35.2353 20.766 34.9604 20.4518L29.1271 13.7852C28.824 13.4388 28.2975 13.4037 27.9512 13.7068C27.6048 14.0098 27.5697 14.5363 27.8728 14.8827L33.2259 21.0006L27.8728 27.1185C27.5697 27.4649 27.6048 27.9913 27.9512 28.2944Z",fill:"black",fillOpacity:"0.9"})]})}function m(){return(0,n.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,n.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,n.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.1579 29.3333H21C25.6024 29.3333 29.3333 25.6024 29.3333 21C29.3333 16.3976 25.6024 12.6667 21 12.6667C16.3976 12.6667 12.6667 16.3976 12.6667 21V27.8421C12.6667 28.1597 12.6669 28.3541 12.6722 28.5017C12.6767 28.6248 12.6835 28.6661 12.6844 28.671C12.7523 28.9948 13.0052 29.2477 13.329 29.3156C13.3237 29.3145 13.3575 29.3227 13.4983 29.3278C13.6459 29.3331 13.8403 29.3333 14.1579 29.3333ZM21 11C15.4772 11 11 15.4772 11 21V27.8421C11 28.4536 11 28.7593 11.0532 29.013C11.2569 29.9843 12.0157 30.7431 12.987 30.9468C13.2407 31 13.5464 31 14.1579 31H21C26.5228 31 31 26.5228 31 21C31 15.4772 26.5228 11 21 11Z",fill:"black",fillOpacity:"0.9"})]})}function h(){return(0,n.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,n.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,n.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.6667 9.33325C17.2064 9.33325 16.8333 9.70635 16.8333 10.1666C16.8333 10.6268 17.2064 10.9999 17.6667 10.9999H20.1667V12.7008C15.0337 13.1243 11 17.4244 11 22.6666C11 28.1894 15.4772 32.6666 21 32.6666C26.5228 32.6666 31 28.1894 31 22.6666C31 21.069 30.6254 19.5589 29.9591 18.2193L30.4107 17.7677C31.3871 16.7914 31.3871 15.2085 30.4107 14.2322L29.4344 13.2558C28.4581 12.2795 26.8752 12.2795 25.8989 13.2558L25.4473 13.7075C24.343 13.1583 23.1229 12.8072 21.8333 12.7008V10.9999H24.3333C24.7936 10.9999 25.1667 10.6268 25.1667 10.1666C25.1667 9.70635 24.7936 9.33325 24.3333 9.33325H21H17.6667ZM26.9116 14.6002C27.7348 15.2045 28.4621 15.9318 29.0664 16.755L29.2322 16.5892C29.5577 16.2637 29.5577 15.7361 29.2322 15.4107L28.2559 14.4344C27.9305 14.1089 27.4028 14.1089 27.0774 14.4344L26.9116 14.6002ZM21.8333 16.8333C21.8333 16.373 21.4602 15.9999 21 15.9999C20.5398 15.9999 20.1667 16.373 20.1667 16.8333V21.2229C19.6685 21.5111 19.3333 22.0497 19.3333 22.6666C19.3333 23.5871 20.0795 24.3333 21 24.3333C21.9205 24.3333 22.6667 23.5871 22.6667 22.6666C22.6667 22.0497 22.3315 21.5111 21.8333 21.2229V16.8333ZM21 30.9999C25.6024 30.9999 29.3333 27.269 29.3333 22.6666C29.3333 18.0642 25.6024 14.3333 21 14.3333C16.3976 14.3333 12.6667 18.0642 12.6667 22.6666C12.6667 27.269 16.3976 30.9999 21 30.9999Z",fill:"black",fillOpacity:"0.9"})]})}},40694:(e,t,i)=>{i.d(t,{I:()=>S,Q:()=>k});var n=i(486106),r=i(7378),a=i(944059),s=i(514228),o=i(632989),l=i(763686),d=i(536384),c=i.n(d),u=i(736624),p=i(675859),m=i(734251),h=i(303541),f=i(147952),g=i(455680),_=i(966473),x=i(372672),y=i(862883),b=i(129884),C=i(136698),v=i(565197),E=i(635568),T=i(357202),w=i(740623);function j({children:e,mini:t,user:i}){return t?(0,n.jsx)("div",{className:c()(w.HG,w.ET),children:e}):(0,n.jsx)("div",{"data-tooltip-type":b.Ib.TEXT,"data-tooltip":i.name||i.handle||"","data-tooltip-timeout-delay":"500","data-tooltip-show-below":!0,"data-tooltip-offset-y":"-20",className:w.HG,children:e})}function S({user:e,hideName:t,mini:i,searchQuery:a,triggeredFrom:o}){let d=e.hi_res_img_url||e.img_url,c=`${d}?c=1`,p=(0,C.$L)(e.id,C.us),h=(0,v.LL)(c,e.name||e.handle||"",p),b=(0,x.TA)(),T=(0,E.b)(),S=(0,s.wA)(),O=r.useCallback(()=>{S(f.F9({currentUserId:b??void 0,storeInRecentsKey:y.$A.FigJam,item:{id:e.id,user:e,type:y.vt.FaceStamp}}))},[b,S,e]),{dragState:L,onInsertableResourcePointerDown:R}=(0,_.Z)({iconSrc:h,insertAction:t=>{let{dropPosition:i}=t,n=t.pointerPercentageOffset?t.pointerPercentageOffset.x:0,r=t.pointerPercentageOffset?t.pointerPercentageOffset.y:0,a=new u.Mi(50,50),s=i.subtract(new u.Mi(n*a.x,r*a.y)).subtract(new u.Mi(5,5));(0,v.xG)(h,s.x,s.y,e.id,"drag",l.zkO.USER),O(),T()},clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:T,resource:{id:e.id,name:e.name||"",img:h},triggeredFrom:o,searchQuery:a,mini:i});return i&&!h?null:(0,n.jsx)(j,{mini:i,user:e,children:h?(0,n.jsxs)(m.n.recordableDiv,{className:w.RX,onPointerDown:R,children:[(0,n.jsx)(N,{stampImageUrl:h,username:e.handle||"",onClick:()=>{let t=g.Y5.getViewportInfo();(0,v.xG)(h,t.offsetX,t.offsetY,e.id,"click",l.zkO.USER),O(),T()},dragging:null!==L,mini:i}),(0,n.jsx)(A,{dragState:L,imageUrl:h}),!t&&(0,n.jsx)(I,{username:e.name||e.handle||""})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(k,{mini:i}),!t&&(0,n.jsx)(I,{username:""})]})})}function k({mini:e}={}){return(0,n.jsxs)("div",{className:c()(w.HG,{[w.ET]:e,[w.M4]:!e}),children:[(0,n.jsx)("div",{className:c()(w.eP,w.iE)}),!e&&(0,n.jsx)("div",{className:c()(w.t$,w.OP)})]})}function I({username:e}){return(0,n.jsx)("div",{title:e,className:w.OP,children:e})}function N(e){return(0,n.jsx)(o.E,{className:w.RT,recordingKey:"facestamp",onClick:e.onClick,htmlAttributes:{"data-testid":`facestamp-${e.username}${e.mini?"-mini":""}`},children:(0,n.jsx)(p.oW,{draggable:!1,src:e.stampImageUrl,className:c()(w.iE,{[w.Jy]:e.dragging,[w.dG]:e.mini}),alt:(0,h.t)("whiteboard.face_stamps.aria_label",{userName:e.username})})})}function A(e){if(!e.dragState?.dragPosition||!e.dragState.grabbedPointerPercentageOffset)return null;let t=function(){let{zoomScale:e}=g.Y5.getViewportInfo();return new u.Mi(50,50).scale(e)}(),i=e.dragState.dragPosition.subtract(new u.Mi(e.dragState.grabbedPointerPercentageOffset.x*t.x,e.dragState.grabbedPointerPercentageOffset.y*t.y));return(0,a.createPortal)((0,n.jsx)(p.oW,{alt:"",className:c()(T.$J,{[T.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:i.x,top:i.y,width:t.x,height:t.y},src:e.imageUrl}),document.getElementById("fullscreen-root"))}},353422:(e,t,i)=>{i.d(t,{U5:()=>c,d0:()=>d,d2:()=>p,qK:()=>m});var n=i(7378),r=i(514228),a=i(808775),s=i(516028),o=i(193867),l=i(862883);function d(){let e=!!s.q5()?.org,t=(0,r.d4)(e=>(0,o.zg)(e.selectedView)&&!e.user);return!!(e&&!t)}function c(e,t=20){let i=p(e),a=(0,r.d4)(e=>e.faceStamps);return n.useMemo(()=>{let e=new Map;return i.forEach(t=>{e.set(t.id,t)}),a.forEach(t=>{e.set(t.id,t)}),Array.from(e.values()).slice(0,t)},[t,i,a])}let u=(e,t)=>(e.name||"").toLowerCase().includes(t.toLowerCase())||(e.handle||"").toLowerCase().includes(t.toLowerCase())||(e.email||"").toLowerCase().split("@")[0].includes(t.toLowerCase());function p(e){let t=(0,r.d4)(e=>e.recentlyUsed.faceStamps[l.$A.FigJam]);return n.useMemo(()=>t.map(e=>e.user).filter(t=>!e||u(t,e)),[t,e])}function m(){let e=(0,r.d4)(e=>e.recentlyUsed.faceStamps),t=d(),i=(0,a.o)();return n.useMemo(()=>i&&t?e.figjam.map(e=>e.user):[],[i,e,t])}},47995:(e,t,i)=>{i.d(t,{t:()=>s});var n=i(486106),r=i(632989),a=i(964520);function s({text:e,description:t,onClick:i,iconComponent:s,recordingKey:o,rightCaret:l}){return(0,n.jsxs)(r.E,{onClick:i,recordingKey:o,className:"native_figjam_action_block--optionContainer--PAZPH",htmlAttributes:{"data-testid":o},children:[(0,n.jsx)("div",{className:"native_figjam_action_block--actionBlockLeftSide--lGAtd native_figjam_action_block--actionBlockRightSide--lUQRE",children:s}),(0,n.jsxs)("div",{className:"native_figjam_action_block--actionBlockRightSide--lUQRE",children:[(0,n.jsx)("div",{className:"native_figjam_action_block--textRow--yGuij",children:(0,n.jsx)("div",{className:"native_figjam_action_block--text--S9XDd text--fontPos13--xW8hS text--_fontBase--QdLsd",children:e})}),(0,n.jsx)("div",{className:"native_figjam_action_block--description--FdkF2 text--fontPos11--2LvXf text--_fontBase--QdLsd",children:t})]}),l&&(0,n.jsx)(a.a,{className:"native_figjam_action_block--rightCaret--mk9xP","aria-hidden":!0})]})}},335206:(e,t,i)=>{i.d(t,{j6:()=>W,v7:()=>z,G0:()=>X,fQ:()=>J,l7:()=>q,Lf:()=>K,Sn:()=>V,Ox:()=>H,vh:()=>U,ue:()=>G,m_:()=>Y,Yx:()=>F});var n=i(486106),r=i(514228),a=i(763686),s=i(189185),o=i(806412),l=i(734251),d=i(303541),c=i(972736),u=i(156213),p=i(147952),m=i(546509),h=i(228122),f=i(139332),g=i(36414),_=i(979658),x=i(862883),y=i(183049),b=i(920333),C=i(47995),v=i(635568),E=i(7378),T=i(797478),w=i(120210),j=i(102752),S=i(748636),k=i(826587),I=i(770360);let N="delightful-toolbar-media-button",A="InsertMediaModal",O=(0,j.Ju)(function(){let e=(0,r.wA)(),t=(0,r.d4)(e=>!!e.modalShown?.data?.shouldMountCenter),i=E.useRef(null),s=t?{kind:"mountCenter"}:{kind:"buttonTarget",buttonTarget:N},{initialModalPosition:o,modalPosition:l,setModalPosition:c}=(0,w.ts)(s,157,320),p=E.useCallback(()=>{a.glU.triggerAction("set-tool-default",null),e(u.ES({type:A}))},[e]),m=E.useCallback(e=>{c(e)},[c]),h=!l||!!o?.equals(l);return(E.useEffect(()=>{let e=e=>{let t=i.current?.getEl(),n=(0,T.Tc)(N);if(!t||!n)return;let r=t.contains(e.target),a=n.contains(e.target);!h||r||a||p()};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[p,h]),o)?(0,n.jsx)(S.Ao,{ref:i,arrowPosition:S.F_.BOTTOM,arrowRelativeX:t?void 0:160,containerClassName:I.jT,dragHeaderOnly:!0,headerClassName:I.N1,initialPosition:o,initialWidth:320,isFigJam:!0,onClose:p,onDragEnd:m,onDragStart:()=>a.glU.triggerActionInUserEditScope("set-tool-default",null),smallArrow:!0,title:(0,d.t)("whiteboard.embeds.insert_embed_modal.title"),children:(0,n.jsx)("div",{className:I.hQ,"data-testid":"insert-media-modal",children:(0,n.jsx)(k.q,{onSuccess:p})})}):null},A);var L=i(630757),R=i(913518),M=i(365876),D=i(765161);let P="figjam_universal_inserts";function F(e){let t=function(e){switch(e){case"Table":return a.NLJ.TABLE;case"CodeBlock":return a.NLJ.CODE_BLOCK;case"MindMap":return a.NLJ.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS;case"Text":return a.NLJ.TYPE;case"Section":return a.NLJ.SECTION;default:throw Error(`Unknown tool: ${e}`)}}(e),i=()=>{s.l7.user("click-insert-tool",()=>a.glU.createNodeAtViewportCenterFromTool(t))};return{insertToolWithDragAction:e=>{let{dropPosition:n,isClick:r}=e;r?i():s.l7.user("drag-insert-tool",()=>a.glU.createNodeFromTool(t,n.x,n.y))},insertToolOnClickAction:i}}function B(e){let t;let i=(0,v.b)(),a=(0,r.wA)(),d=(0,r.d4)(e=>e.user?.id),{tabManager:c,searchQuery:u}=(0,b.cX)();(0,f.kg)(e.resourceType)&&(t=e.resourceType);let m=!!(0,g.AE)(e.resourceType),y=t&&(0,x.ds)(t)&&m,E=()=>{y&&t&&a(p.ay({currentUserId:d,storeInRecentsKey:x.$A.FigJam,item:{id:t,type:x.vt.WhiteboardTool}})),i()},T=i=>{if(t){let{insertToolWithDragAction:e,insertToolOnClickAction:n}=F(t);i?e(i):n()}e.onInsert?.(),E()},w=e=>{T(e)},j=()=>{T()};e.editScopeLabel&&(w=s.nc.user(e.editScopeLabel,w),j=s.nc.user(e.editScopeLabel,j));let{dragState:S,onInsertableResourcePointerDown:k}=(0,g.Ik)({resource:e.resourceType,insertAction:w,clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:E,triggeredFrom:(0,_.Vq)(c.activeTab),searchQuery:u,icon:m?void 0:e.icon});return(0,n.jsxs)(l.n.div,{onPointerDown:e.disableDragAndDrop?void 0:k,"data-testid":"draggable-insert-action",children:[(0,n.jsx)(C.t,{text:e.text,description:e.description,onClick:j,iconComponent:e.icon,recordingKey:o.Pt("inserts","more",e.recordingKey)}),(0,n.jsx)(h.M,{dragState:S,icon:m?void 0:e.icon})]})}function U(){return(0,n.jsx)(B,{resourceType:"Table",text:(0,d.t)("whiteboard.inserts.table_title"),description:(0,d.t)("whiteboard.inserts.table_description"),recordingKey:"table",icon:y.fM()})}function G(){return(0,n.jsx)(B,{resourceType:"Text",text:(0,d.t)("whiteboard.inserts.text_title"),description:(0,d.t)("whiteboard.inserts.text_description"),recordingKey:"text",icon:y.mn()})}function H(){let e=(0,v.b)();return(0,n.jsx)(C.t,{text:(0,d.t)("whiteboard.inserts.stamp_title"),description:(0,d.t)("whiteboard.inserts.stamp_description"),onClick:()=>{(0,D.X)({source:P}),e()},iconComponent:y.Qp(),recordingKey:o.Pt("inserts","more","stamp")})}function z(){let e=(0,v.b)();return(0,n.jsx)(C.t,{text:(0,d.t)("whiteboard.inserts.comments_title"),description:(0,d.t)("whiteboard.inserts.comments_description"),onClick:()=>{e(),a.glU.triggerActionInUserEditScope("set-tool-comments",{source:P})},iconComponent:y.G$(),recordingKey:o.Pt("inserts","more","comments")})}function V(){return(0,n.jsx)(B,{resourceType:"Section",text:(0,d.t)("whiteboard.inserts.section_title"),description:(0,d.t)("whiteboard.inserts.section_description"),recordingKey:"section",icon:y.mO()})}function K(){let e=(0,M.V)();return(0,n.jsx)(C.t,{text:(0,d.t)("whiteboard.inserts.quick_actions_v2"),description:(0,d.t)("whiteboard.inserts.quick_actions_v2_description"),onClick:e,iconComponent:(0,n.jsx)(L.j,{}),recordingKey:o.Pt("inserts","more","quick-actions-v2")})}function W(){return(0,n.jsx)(B,{resourceType:"CodeBlock",text:(0,d.t)("whiteboard.inserts.code_block_title"),description:(0,d.t)("whiteboard.inserts.code_block_description"),recordingKey:"codeBlock",icon:y.NI()})}function q(){return(0,n.jsx)(B,{resourceType:"MindMap",text:(0,d.t)("whiteboard.inserts.mind_map_title"),description:(0,d.t)("whiteboard.inserts.mind_map_description"),recordingKey:"mindMap",icon:y.V6(),editScopeLabel:"insert-mindmap"})}function Y(){let e=(0,R.MR)();return(0,n.jsx)(B,{resourceType:"Timer",text:(0,d.t)("whiteboard.inserts.timer_title"),description:(0,d.t)("whiteboard.inserts.timer_description"),recordingKey:"timer",icon:y.YA(),onInsert:()=>{e({source:R.OO.INSERTS_MENU})}})}function X(){let e=(0,r.wA)(),t=m.BI()?.shouldOptimizeForIpadApp;return(0,n.jsx)(B,{resourceType:"Image",text:(0,d.t)("whiteboard.inserts.media_title"),description:(0,d.t)("whiteboard.inserts.media_description"),recordingKey:"images",icon:y.v8(),onInsert:()=>{a.glU.triggerAction("set-tool-default",null),a.glU.triggerAction("place",{source:"MEDIA_MODAL"}),e(c.qC({open:!0}))},disableDragAndDrop:t})}function J(){let e=(0,r.wA)();return(0,n.jsx)(B,{resourceType:"Link",text:(0,d.t)("whiteboard.inserts.links_title"),description:(0,d.t)("whiteboard.inserts.links_description"),recordingKey:"links",icon:y.Bo(),onInsert:()=>{a.glU.triggerAction("set-tool-default",null),e(u.$O({type:O.type,data:{shouldMountCenter:!0}}))}})}},656872:(e,t,i)=>{i.d(t,{G:()=>g,y:()=>_});var n=i(486106),r=i(7378),a=i(514228),s=i(220026),o=i(763686),l=i(303541),d=i(156213),c=i(370443),u=i(247611),p=i(198840),m=i(129884),h=i(701580),f=i(200844);let g="templates_toolbar";function _(){let e=(0,a.wA)(),t=(0,a.d4)(e=>e.modalShown?.type===h.PH.type),i=(0,r.useCallback)(()=>{t?e(d.Ce()):(u.oW.trigger("action",o.KWd.CLEAR),e(d.$O({type:h.PH.type,data:{triggeredFrom:"toolbar",templateInsertionLocation:p.RD.CURRENT_FILE}})))},[e,t]),_=(0,l.t)("whiteboard.inserts.templates");return(0,n.jsx)(f.Z,{tooltip:{type:m.Ib.TEXT,text:_},isActive:t,onClick:i,trackingProperties:{trackingDescriptor:c.c.TEMPLATES_TOOLBAR_ITEM_CLICKED},onboardingKey:g,children:(0,n.jsx)(s.Q,{})})}},762998:(e,t,i)=>{i.d(t,{_:()=>g,H:()=>f});var n=i(486106),r=i(465776),a=i(763686),s=i(700578),o=i(536384),l=i.n(o);let d=["APPLE_IPHONE_14_PRO","APPLE_IPHONE_14_PLUS","APPLE_IPHONE_15","APPLE_WATCH_45MM","APPLE_WATCH_SERIES_10_42MM","APPLE_WATCH_SERIES_10_46MM","APPLE_IPHONE_16"],c=e=>d.some(t=>e.startsWith(t));var u=i(349969),p=i(170018),m=i(855699),h=i(874933);function f({children:e,initialViewerSize:t,isDeviceFrameShown:i}){let r;return i&&(r=s.UN().getCurrentPage()?.prototypeDevice),(0,n.jsx)(g,{initialViewerSize:t,isDeviceFrameShown:i,prototypeDevice:r,isInlinePreview:!0,children:e})}function g({children:e,initialViewerSize:t,isDeviceFrameShown:i,prototypeDevice:s,isInlinePreview:o,onDeviceFrameLoaded:d}){let f="data:,",g="",_={},x=!1,y=1,b=!1;if(i){(0,r.B1)(s,"prototypeDevice should be set when device frame is shown");let{presetIdentifier:e,rotation:i}=s,n=u.hY[e];if(o){let e=n?.inlinePreviewInfo;(0,r.B1)(e,"inlinePreviewDeviceData should exist since device is supported for inline preview")}f=n.url,x=c(e),b=i===a.xOL.CCW_90;let l=n.getI18nDeviceName(),d=n.getI18nStyleName();g=`${l} (${d})`;let{idealDeviceSize:m,framePresetSize:h,offset:C}=(0,p.is)(e,i),v=(0,p.Ho)(t,h,m);y=v.x/v.y;let E=(0,p.Ho)(t,h,C),T={x:t.x/v.x*100,y:t.y/v.y*100},w={x:E.x/v.x*100,y:E.y/v.y*100};_={position:"absolute",width:`${T.x}%`,height:`${T.y}%`,left:`${w.x}%`,top:`${w.y}%`}}let C=i?h.qW:m.Wc,v=l()({[m.Wc]:!0,[h.Cb]:i,[h.Q$]:x});return(0,n.jsxs)("div",{className:C,children:[i&&(b?(()=>{let e=1/y;return(0,n.jsx)("div",{style:{aspectRatio:y},children:(0,n.jsx)("img",{src:f,className:l()(h.Q0,h.mT,h.M4),style:{width:`${100*e}%`},alt:g,"data-testid":"inline-preview-device-image",onLoad:d})})})():(0,n.jsx)("img",{src:f,className:h.M4,alt:g,"data-testid":"inline-preview-device-image",onLoad:d})),(0,n.jsx)("div",{style:_,className:v,children:e})]})}},707590:(e,t,i)=>{i.d(t,{e:()=>E});var n=i(425489),r=i(991888),a=i(486106),s=i(7378),o=i(763686),l=i(27355),d=i(536384),c=i.n(d),u=i(714362),p=i(257275),m=i(768070),h=i(455680),f=i(612685),g=i(617727),_=i(191312),x=i(297733),y=i(208152),b=i(165422),C=i(855699);let v=s.forwardRef(function({pageId:e,openFileKey:t,closeInlinePreview:i,isOpen:d,iframeFocused:v,setIframeFocused:E,onIframeFocus:T,backgroundColorHex:w,scalingMode:j,contentScalingMode:S},k){let I=(0,l.Xr)(n.hg),[N,A]=s.useState(!1),O=(0,l.md)(g.yw),{isResizing:L,isDragging:R}=s.useContext(y.O),M=s.useMemo(()=>L||R||!v,[L,R,v]),D=s.useMemo(()=>L||R,[L,R]);s.useEffect(()=>{r.A.setDisableCloseWithShortcut(D)},[D]),s.useEffect(()=>{k.current&&(d?k.current.focus():(0,x.$z)())},[k,d]),s.useEffect(()=>{let e=k.current;if(!e||N)return;let t=e=>{let t=e.shiftKey&&"Space"===e.code,n="Escape"===e.code;(t||n)&&!D&&i("keyboard")};try{return e.contentWindow?.addEventListener("keydown",t),()=>{e&&e.contentWindow?.removeEventListener("keydown",t)}}catch(e){(0,u.xi)("inline_preview_iframe_component","Failed to add keydown event listener",{message:e.message})}},[k,N,D,i]);let P=t?function(e,t,i,n,r){let a=encodeURIComponent((0,f.Kw)({base:"proto",file:{key:e},nodeId:t})),s="&hide-ui=1&inline-viewer=1"+(n?`&scaling=${n}`:"")+(r?`&content-scaling=${r}`:"")+(i?`&bg-color=${i}`:"");return`${location.origin}/embed?embed_host=inline-viewer&url=${a}${s}`}(t,e,w,j,S):"";if(s.useEffect(()=>{if(!k.current)return;let e=r.A.initialize(k.current,{closeInlinePreview:i,dispatch:I,onLoad:()=>{A(!0)}});return()=>{I({type:"RESET_INLINE_PREVIEW"}),e(),A(!1)}},[i,I,e,k]),s.useEffect(()=>{},[P,e,O]),s.useEffect(()=>{let e=k.current;if(!e)return;let t=()=>{E(!1),h.Y5.triggerAction("inline-preview-iframe-focus-state-changed",{isFocused:!1})};return e.contentWindow?.addEventListener("focus",T),e.contentWindow?.addEventListener("blur",t),()=>{e&&(e.contentWindow?.removeEventListener("focus",T),e.contentWindow?.removeEventListener("blur",t))}},[k,E,T]),s.useEffect(()=>()=>(0,g.Bm)("inline_prototype_viewer"),[]),!t)return null;let F="/test/interactions/proto?secondary=1&inline-viewer=1";return m.zn&&(F+="&rolloutFlags=1"),m.Ns&&(F+=`&additional-ffs=${m.Ns}`),(0,a.jsxs)("div",{className:C.Wc,children:[(0,a.jsx)("iframe",{ref:k,title:"Inline Preview",src:(0,p.PN)()?F:P,className:c()(C.VR,M?C.dS:null)}),!N&&(0,a.jsx)(b.z2,{shouldNotOverflow:!0,isViewer:!0,editorType:_._Y.DESIGN,progressBarMode:o.Oin.HIDE_UI})]})}),E={overflowDropdownType:"INLINE_PREVIEW_OVERFLOW_DROPDOWN",stateAtom:n.hg,ViewerComponent:v,onBack:()=>{r.A.navigateBackward()},onForward:()=>{r.A.navigateForward()},onRestart:()=>{r.A.restartPrototype()},onFocus:()=>!!r.A.isIframeInitialized()&&(r.A.focus(),!0),onDismissOverflow:()=>{r.A.focus()}}},354452:(e,t,i)=>{i.d(t,{u:()=>u});var n=i(7378),r=i(859698),a=i(763686),s=i(189185),o=i(871411),l=i(15927),d=i(449184),c=i(455680);function u({inheritStyleKeyField:e,initialStyleCreationPaint:t,isCreatingFromSelection:i,trackingOptions:u,shouldUseEyedropperStyleCreationFlow:p}){let[m,h]=n.useState(null),f=n.useRef(!1),g=s.nc.user("create-style",()=>{if(f.current=!0,m){let{key:e,version:t}=m,i=a.Pt4.getSoftDeletedStyleNodeId(e,t);return c.Y5.restoreSoftDeletedNode(i),(0,d.sx)("Style Created",{styleType:u.styleType,styleKey:m.key,styleVersion:m.version}),i}});return n.useEffect(()=>{let n=s.l7.system("create-soft-deleted-style",()=>(function({initialStyleCreationPaint:e,isCreatingFromSelection:t,inheritStyleKeyField:i,shouldUseEyedropperStyleCreationFlow:n}){if(n)return a.OmW.createSoftDeletedStyleForEyedropper();if(!e)return a.glU.createSoftDeletedStyle(i,"","",t);{let t=(0,l.GP)(e);return a.Osy.createSoftDeletedStyleFromPaintData(t,"")}})({initialStyleCreationPaint:t,inheritStyleKeyField:e,isCreatingFromSelection:i,shouldUseEyedropperStyleCreationFlow:p}));if(!n){h(null);return}return h(n),()=>{a.glU.selectStyle(r.n3.INVALID,r.IA.INVALID),s.l7.system("style-creation-cleanup",()=>{if(n&&!f.current){let t=a.Pt4.getSoftDeletedStyleNodeId(n.key,n.version);a.glU.applyStyleToSelection(e,o.AD,!0),a.glU.hardDeleteSoftDeletedNode(t)}})}},[t,e,i,p]),{styleRef:m,createStyle:g}}},440393:(e,t,i)=>{i.d(t,{Y:()=>u});var n=i(486106),r=i(7378),a=i(443068),s=i(303541),o=i(275739),l=i(318520),d=i(129884),c=i(51271);function u({userId:e,onMuteButtonClickCallback:t,disabled:i}){let u=o.h.getInstance(),[p,m]=(0,r.useState)(null),h=(0,l.TI)(e,u),f=(0,r.useCallback)(async()=>{!i&&void 0!==h&&u&&(await t(h,u),m(h?"unmute":"mute"))},[h,t,m,u,i]);r.useEffect(()=>{m(null)},[h]);let g=()=>i?(0,s.t)("collaboration.voice.check_your_microphone_permissions_to_start_chatting"):h?(0,s.t)("collaboration.voice.click_to_unmute"):(0,s.t)("collaboration.voice.click_to_mute");return(0,n.jsx)(a.K,{onClick:f,"data-tooltip-type":d.Ib.TEXT,"data-tooltip":g(),"data-tooltip-timeout-delay":i?50:void 0,"aria-label":g(),"data-fullscreen-intercept":!0,disabled:i,children:i||"unmute"!==p&&("mute"===p||h)?(0,n.jsx)(c.A.Muted,{}):(0,n.jsx)(c.A.Unmuted,{})})}},643761:(e,t,i)=>{i.d(t,{m:()=>a,y:()=>s});var n=i(874553),r=i(607410);function a(e,t){let i={};return i.useValue=function(a){if(t&&i[a]&&t(a,i[a])&&delete i[a],!i[a]){let t=(0,n.v)();e(a).then(e=>t.resolve(e)).catch(e=>t.reject(e)),i[a]={deferred:t,created:Date.now()}}let{deferred:s}=i[a];switch(s.status){case"pending":throw(0,r.WE)(s.promise),Error("unreachable");case"rejected":throw s.error;case"resolved":return s.result}},i}function s(e){return(t,i)=>Date.now()-i.created>e}},853982:(e,t,i)=>{i.d(t,{j:()=>n});function n(e){let t;let i=0;for(let n of e){if(++i>1)return;t=n}return t}},935965:(e,t,i)=>{i.d(t,{o:()=>n});let n=(0,i(270322).bt)(e=>e.mirror.appModel.isReadOnly)},486658:(e,t,i)=>{i.d(t,{kV:()=>I,_j:()=>N,gU:()=>w,EW:()=>A,cm:()=>k,po:()=>S});var n=i(7378),r=i(514228),a=i(763686),s=i(189185),o=i(871411),l=i(700578),d=i(27355),c=i(128080),u=i.n(c),p=i(901889),m=i(757801),h=i(257275),f=i(327588),g=i(455680),_=i(722362),x=i(633914),y=i(412189),b=i(84367),C=i(167249),v=i(827540),E=i(524655),T=i(784857);function w({shouldIndentChildren:e,focusedItemId:t,exclusivelySelectItemId:i,isInFocusView:l,initialSelectedItemIds:c,focusNodeInView:f,collapsedStatesDisabled:C,explicitlyToggledRef:w}){let S=(0,b.ut)(a.Ez5?.canvasGrid().canvasGridArray,[]),{carouselItemsById:k,carouselItemGuids:I,toggleCollapsed:O,expandParent:L}=A(S,e,C,w),{selectedItemIds:R,onMouseDownItem:M,onMouseUpItem:D}=function(e,t,i,l,c,u,p,m){let h=(0,_.KH)(),[f,x]=(0,n.useState)(l),C=e.indexOf(f),w=(0,b.ut)(a.Ez5?.singleSlideView().isCarouselFocused,!1),S=(0,r.d4)(e=>e.isRenaming);(0,n.useEffect)(()=>{1===Object.keys(h).length&&(u?x(l):x(Object.keys(h)[0]))},[l,w,u,h]);let[k,I]=(0,d.fp)(j);(0,n.useEffect)(()=>()=>{I("")},[I]);let A=(0,n.useCallback)(e=>{if(!a.Egt||1===p.length)return;let t=p.filter(t=>t!==e);if(e===l){let i=p.indexOf(e),n=i>t.length-1?t.length-1:i;m(t[n],!0),a.Egt.addToSelection(p)}I(""),a.Egt.removeFromSelection([e])},[p,l,I,m]),O=(0,n.useCallback)(e=>{I(""),e===l||p.includes(e)||a.Egt?.addToSelection([e])},[l,p,I]),L=(0,n.useCallback)(e=>{p.includes(e)?A(e):O(e)},[p,A,O]),R=(0,v.I)();return(0,y.U3)("keydown",n=>{if(!(0,T.N8)()||!a.glU||a.glU.isInCursorChat()||!w||R||S||function(e,t,i,n){if(1===t.length&&"string"==typeof t[0]){let r=t[0],a=i[r];if(a){let t="ArrowRight"===e.key&&a.isCollapsed,i="ArrowLeft"===e.key&&!a.isCollapsed;if((t||i)&&a.children.length>0)return e.preventDefault(),n(r),!0}}return!1}(n,p,t,i)||function(e,t,i,n,r){if(e.metaKey&&("["===e.key||"]"===e.key)){let o=t[n];if(!o)return e.stopPropagation(),!1;let l=t.filter((e,t)=>!i.includes(e)||t===n),d="["===e.key?-1:1;return l=function(e,t,i){let n=[...e];if(e.length<2)return n;let r=n.indexOf(t);if(-1===r||0===r&&-1===i||r===e.length-1&&1===i)return n;let a=r+i;if(void 0===n[r]||void 0===n[a])return n;let s=n[r];return n[r]=n[a],n[a]=s,n}(l,o,d),s.l7.user("reorder-slides-ssv",()=>{if(a.Ez5){let e=(0,E._j)(i,l,0,r,t);a.Ez5.canvasGrid().setGridOrder(e),g.Y5.commit()}}),e.stopPropagation(),!0}return!1}(n,e,p,C,t))return;let r=N(n);if(!r)return;n.stopPropagation();let o=e.indexOf(k),l=-1!==o?o:C,d=l+("BACK"===r?-1:1);if(d<0?d=0:d>=e.length&&(d=e.length-1),n.shiftKey&&"N"!==n.key){let t=!1;C<l?t="BACK"===r:C>l&&(t="NEXT"===r),t?A(e[l]):O(e[d]),I(e[d])}else c(e[d]),x(e[d])}),{selectedItemIds:p,onMouseDownItem:(t,i)=>{if(t.metaKey||f===o.AD)p.includes(i)||x(i),L(i);else if(t.shiftKey){if(!a.Egt)return;let t=e.indexOf(f),n=e.indexOf(i);if(k){let i=e.indexOf(k),n=e.slice(Math.min(t,i),Math.max(t,i)+1);a.Egt.removeFromSelection(n)}let r=e.slice(Math.min(t,n),Math.max(t,n)+1);a.Egt.addToSelection(r),I(i)}else p.includes(i)||(c(i),x(i))},onMouseUpItem:(e,t,i,n)=>{t||e.metaKey||e.shiftKey||!i||c(n)}}}(I,k,O,t,i,l,c,f),[P,F]=(0,n.useState)(""),{onMouseDown:B,onMouseMove:U,onCarouselItemReorder:G,isDraggingCarouselItems:H,isClickingCarouselItems:z,detachedCarouselItemGuids:V,indentSelectionBy:K}=function(e,t,i,r,o,l){let[d,c]=(0,n.useState)([]),[f,_,b]=(0,x.J)(!1),[C,v]=(0,n.useState)(null),[T,w]=(0,n.useState)(!1),[j,S]=(0,n.useState)(0),k=(0,p.U)(),I="DRAGGING"===_||"PENDING_CANVAS_GRID_UPDATE"===_,N="CLICKING"===_,A=e=>{(0,m.g1)("slide.onMouseDown",{pageX:e.pageX,pageY:e.pageY}),b("CLICKING"),v([e.pageX,e.pageY])},O=n=>{n.button&&0!==n.button||c(t.filter(t=>!e.includes(t)||t===i))},L=e=>{(0,h.Ns)()&&(0,m.g1)("slides.reorder",{indices:e.map(e=>"number"==typeof r[e].number?r[e].number-1:null)}),c(t=>u()(e,t)?t:e),w(!0),g.Y5.commit()},R=e=>{e!==j&&S(e)},M=()=>{I?s.l7.user("reorder-slides-ssv",()=>{if(!a.Ez5)return;k("reorder_slides",{num_slides:e.length});let i=(0,E._j)(e,d,j,r,t);i.length>o.length&&k("create_new_row",{source:"indent_outdent"}),u()(i,o)?b(!1):(b("PENDING_CANVAS_GRID_UPDATE"),a.Ez5.canvasGrid().setGridOrder(i),g.Y5.commit())}):b(!1)};return((0,n.useEffect)(()=>{"PENDING_CANVAS_GRID_UPDATE"===f.current&&b(!1)},[o,b,f]),(0,h.nl)()&&(E.Wh.reorder=e=>{L(e.map(e=>t[e]))},E.Wh.onMouseDown=A),(0,y.U3)("mouseup",()=>{(0,m.g1)("slide.onMouseUp",{}),v(null),w(!1),M()}),l)?{onMouseDown:()=>{},onMouseMove:()=>{},onCarouselItemReorder:()=>{},isDraggingCarouselItems:!1,isClickingCarouselItems:!1,detachedCarouselItemGuids:[],indentSelectionBy:0}:{onMouseDown:A,onMouseMove:e=>{if(C&&(0,m.g1)("slide.onMouseMove",{pageX:e.pageX,pageY:e.pageY}),N&&C&&(Math.abs(C[0]-e.pageX)>=20||Math.abs(C[1]-e.pageY)>=20)&&(b("DRAGGING"),O(e)),I&&C){let t=d[d.indexOf(i)-1],n=T?50:20,a=void 0===t?void 0:r[t],s=void 0!==a&&!a.isCollapsed,o=C[0]-e.pageX;R(o<-n&&s?1:o>n?-1:0)}},onCarouselItemReorder:L,isDraggingCarouselItems:I,isClickingCarouselItems:N,detachedCarouselItemGuids:d,indentSelectionBy:j}}(R,I,P,k,S,(0,_.p8)("isReadOnly"));return(0,n.useMemo)(()=>({carouselItemsById:k,carouselItemGuids:I,toggleCollapsed:O,expandParent:L,selectedItemIds:R,onMouseUpItem:D,onMouseDownItem:M,onMouseDown:B,onMouseMove:U,onCarouselItemReorder:G,isDraggingCarouselItems:H,isClickingCarouselItems:z,detachedCarouselItemGuids:V,indentSelectionBy:K,hoveredItemId:P,setHoveredItemId:F}),[k,I,O,L,R,D,M,B,U,G,H,z,V,K,P,F])}let j=(0,d.eU)("");function S(){let[e,t]=(0,d.fp)(j);return(0,n.useCallback)(e=>{a.Ez5&&a.Egt&&(t(""),a.Ez5.singleSlideView().isFocusedNodeViewEnabled()?a.Ez5.singleSlideView().focusNodeInFocusedNodeView(e,!0):a.Ez5.singleSlideView().panToNode(e,.6),a.Egt.replaceSelection([e],!0))},[t])}function k(){let[e,t]=(0,d.fp)(j),i=(0,b.ut)(a.Ez5?.cooperFocusView().focusedNodeId,""),r=(0,f.kG)();return(0,n.useCallback)(e=>{if(a.Ez5&&a.Egt){if(t(""),r){if(i===e){a.Egt.replaceSelection([e],!0);return}a.Ez5.cooperFocusView().focusNodeInFocusedNodeView(e,!0),a.Egt.replaceSelection([e],!0)}else a.Ez5.cooperFocusView().panToNode(e,.6);a.Egt.replaceSelection([e],!0)}},[t,i,r])}var I=(e=>(e.NEXT="NEXT",e.BACK="BACK",e))(I||{});function N(e){switch(e.key){case"ArrowUp":case"ArrowLeft":case"N":return"BACK";case"ArrowDown":case"ArrowRight":case"n":return"NEXT";default:return null}}function A(e,t,i,d){var c,u,p;let m,h;let f=(0,n.useRef)(e);(0,n.useEffect)(()=>{f.current.flat().forEach(e=>{let t=(0,l.UN)().get(e);t&&(t.isExpanded=!0)})},[]);let _=(0,r.d4)(e=>e.mirror.appModel.topLevelMode===a.lyf.HISTORY),{collapsedCarouselItemIds:x,skippedCarouselItemIds:y}=(0,C.wA)((e,t)=>t.flat().reduce((t,i)=>{let n=e.get(i);return n&&!n.isExpanded&&(t.collapsedCarouselItemIds[i]=!0),n&&n?.isSkippedSlide&&(t.skippedCarouselItemIds[i]=!0),t},{collapsedCarouselItemIds:{},skippedCarouselItemIds:{}}),e),b=a.Ez5?.canvasGrid().gridGUID(),v=(0,C.Fk)((e,t)=>!!b&&(e.get(t)?.areSlidesManuallyIndented||!1),b??""),E=(c=e,u=_||i?{}:x,p=_||i?{}:y,m=1,h=!1,1===c.length&&!v&&t&&(h=!0,c=c[0].map(e=>[e])),c.map((e,i)=>{let[n,...r]=e;return{guid:n,parentGuid:"",coord:h?{row:0,col:i}:{row:i,col:0},number:p[n]?null:m++,indent:0,isCollapsed:!!u[n],children:r.map((e,r)=>({guid:e,parentGuid:n,coord:{row:i,col:r+1},number:p[e]?null:m++,indent:t?1:0,isCollapsed:!!u[e],children:[]}))}})),{carouselItemsById:T,carouselItemGuids:w}=(0,n.useMemo)(()=>{let t={};E.forEach(e=>{t[e.guid]=e,e.children.forEach(e=>{t[e.guid]=e})});let i=e.flat().filter(e=>{let i=t[e];if(!i)return!1;let n=i.parentGuid?(0,l.UN)().get(i.parentGuid):void 0;return 0===i.indent||n?.isExpanded});return{carouselItemsById:t,carouselItemGuids:i}},[E,e]);(0,n.useRef)(T).current=T;let j=(0,n.useCallback)(e=>{let t=(0,l.UN)(),i=t.get(e);if(i){if(i.isExpanded){i.isExpanded=!1;let n=T[e];if(n&&n.children&&n.children.length>0){let e=n.children.map(e=>e.guid);if(e.length>0){let i=t.getCurrentPage(),n=i?.directlySelectedNodes?.map(e=>e.guid)||[],r=e.filter(e=>n.includes(e));r.length>0&&a.Egt?.removeFromSelection(r)}}}else i.isExpanded=!0;g.Y5.commit()}},[T]),S=(0,n.useCallback)(e=>{if(i)return;let t=T[e];if(t&&t.parentGuid&&t.parentGuid!==o.AD){let e=T[t.parentGuid];if(e&&e.isCollapsed){if(d&&d.current&&d.current.has(t.parentGuid))return;s.l7.user("expand-row-ssv",()=>{let e=(0,l.UN)().get(t.parentGuid);e&&(e.isExpanded=!0,g.Y5.commit())})}}},[T,i,d]);return{carouselItemsById:T,carouselItemGuids:w,toggleCollapsed:j,expandParent:S}}},373408:(e,t,i)=>{i(556482)},687951:(e,t,i)=>{i.d(t,{A:()=>f});var n=i(486106),r=i(7378),a=i(343967),s=i(632989),o=i(270214),l=i(556482),d=i(749682),c=i(722362),u=i(129884),p=i(144692),m=i(121043),h=i(658134);function f({children:e,loadingShimmerCounts:t=[5],hasNoopFigmaMenu:i=!1}){let s=(0,c.aV)(),d=(0,a.U1)();if((0,r.useEffect)(()=>{let e=document.documentElement.style;return e.setProperty("--left-rail-width",`${h._}px`),()=>{e.removeProperty("--left-rail-width")}},[]),s)return(0,n.jsx)("div",{...l.Ay.props(g.sideRail,g.sideRailWidth(h._),g.animateLeft),ref:d,children:(0,n.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xh8yej3",children:[(0,n.jsx)("div",{className:"xsdox4t x78zum5 xl56j7k x6s0dn4 xh8yej3 x2lah0s",children:(0,n.jsx)(p.Oh,{})}),t.map((e,t)=>{let i=Array.from({length:e},(e,i)=>(0,n.jsx)(p.Oh,{},t+"-"+i));return(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(f.Divider,{}),(0,n.jsx)(f.Section,{children:i})]},t)})]})});let u=[],_=[];return r.Children.forEach(e,e=>{r.isValidElement(e)&&(e.type===f.Footer?u.push(e):_.push(e))}),(0,n.jsxs)("div",{...l.Ay.props(g.sideRail,g.sideRailWidth(h._)),ref:d,"data-testid":"left-rail-container",children:[(0,n.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xh8yej3",children:[(0,n.jsx)("div",{className:"xsdox4t x78zum5 xl56j7k x6s0dn4 xh8yej3 x2lah0s",children:i?(0,n.jsx)(o.m,{}):(0,n.jsx)(m.xG,{hideChevron:!0})}),_]}),u]})}i(373408),f.Footer=function({children:e}){return(0,n.jsx)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xwib8y2 xc9opll x1hfjgiu",children:e})},f.Divider=function(){return(0,n.jsx)("div",{className:"x1kky2od x1n5zjp5"})},f.Section=function({children:e}){let t=r.Children.toArray(e).filter(r.isValidElement);return(0,n.jsx)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xh8yej3 xc9opll x1hfjgiu",children:t.map((e,i)=>r.cloneElement(e,{firstItem:0===i,lastItem:i===t.length-1}))})},f.IconButton=function({active:e,label:t,icon:i,onClick:r,disabled:a,badge:o,shortcut:c,recordingKey:p,firstItem:m,lastItem:h,dataOnboardingKey:f,dataTestId:_,customTooltip:x}){let[y,b]=(0,d.M)();return(0,n.jsx)(s.E,{className:"xh8yej3 x78zum5 xl56j7k x9dqhi0","aria-label":t,"aria-pressed":e,disabled:a,htmlAttributes:{"data-show-tooltip":!0,"data-tooltip":t,"data-tooltip-type":u.Ib.TEXT,"data-tooltip-show-right":!0,"data-tooltip-shortcut-key":c,"data-tooltip-offset-y":m?4:h?-4:0,...x,"data-onboarding-key":f,"data-testid":_},onClick:r,recordingKey:p,ref:y,children:(0,n.jsx)("div",{...l.Ay.props(g.iconButton,a&&g.disabledIcon,!a&&g.enabledIcon,!a&&b&&g.hoveredIcon,e&&g.activeIcon,m&&g.firstSectionItem,h&&g.lastSectionItem),children:o?(0,n.jsxs)("div",{className:"x78zum5 x1n2onr6",children:[i,(0,n.jsx)("div",{className:"x10l6tqk x13vifvy x3m8u43 x1wc42o8 xegnrdp x16rqkct x1mnc5ec x78zum5 xl56j7k x6s0dn4 xb3r6kr",children:(0,n.jsx)("div",{className:"x1ftt334 x1ycjhwn xmo782v x16rqkct"})})]}):i})})},f.SegmentedIconButtonGroup=function({children:e}){return(0,n.jsx)("div",{className:"x78zum5 xdt5ytf xamitd3 x19y5rnk x1v8gsql xxhr3t x54yuno x18u3cr5 x1jkc10p xmauxvm x1o7ms22 x1swbamy x611mgq",children:e})};let g={firstSectionItem:{marginTop:"x14vqqas",$$css:!0},lastSectionItem:{marginBottom:"xod5an3",$$css:!0},iconButton:{margin:"x1xaecxz",marginInline:null,marginInlineStart:null,marginLeft:null,marginInlineEnd:null,marginRight:null,marginBlock:null,marginTop:null,marginBottom:null,padding:"x9dr4nv",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,position:"x1n2onr6",borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0},activeIcon:{outline:"x3wdcuw",outlineColor:null,outlineStyle:null,outlineWidth:null,outlineOffset:"x1g40iwv",backgroundColor:"x16dhb8d","--color-icon":"xang4nc","--xnzwwm8":"x6kiqxt",$$css:!0},disabledIcon:{"--color-icon":"xz8z4lq",$$css:!0},enabledIcon:{backgroundColor:"xjbqb8w","--xvmlmsc":"x1gmbimj","--xnzwwm8":"x1npb8cn",$$css:!0},hoveredIcon:{backgroundColor:"x30nh5c","--xnzwwm8":"x18qiuqh",$$css:!0},sideRailWidth:e=>[{width:"x1bl4301",$$css:!0},{"--width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],sideRail:{top:"x167uce1",position:"x1n2onr6",height:"xqmztoh",display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",borderRight:"xspf3my",borderRightWidth:null,borderInlineStartWidth:null,borderInlineEndWidth:null,borderRightStyle:null,borderInlineStartStyle:null,borderInlineEndStyle:null,borderRightColor:null,borderInlineStartColor:null,borderInlineEndColor:null,justifyContent:"x1qughib",backgroundColor:"x1yjdb4r",zIndex:"x16tb26j",$$css:!0},animateLeft:{animationName:"xpkg1mr",animationDuration:"x7t6ubo",animateFillMode:"xx6zgt6",$$css:!0}}},635978:(e,t,i)=>{i.d(t,{Az:()=>w,_L:()=>S,sQ:()=>j});var n=i(486106),r=i(7378),a=i(492908),s=i(934246),o=i(443820),l=i(632989),d=i(673591),c=i(301080),u=i(547523),p=i(473569),m=i(536384),h=i.n(m),f=i(508367),g=i(901889),_=i(749682),x=i(778880),y=i(795674),b=i(303541),C=i(8833),v=i(129884),E=i(269644);let T={BUTTON_SHAPE_FILL:"#FFFFFF",BUTTON_BG_FILL:"#000000",BUTTON_STROKE_OPACITY:.2,BUTTON_BG_FILL_OPACITY:.7,BUTTON_BG_FILL_HOVER_OPACITY:.9};function w(e){if(null==e||Number.isNaN(e))return"";let{seconds:t,minutes:i}=(0,y._d)(e);return`${i}:${String(t).padStart(2,"0")}`}function j(e){return!!e&&!e.ended&&!e.paused&&e.currentTime>0&&e.readyState>2}function S({videoElement:e,videoContainerElement:t,isLoading:i,isMaximized:a,setIsMaximized:l,isVideoHovered:d,setIsVideoHovered:c,didAutoplayOnSelection:u,mediaHash:p,hasEnded:m,setHasEnded:y,toggleVideoPlayback:b,shouldHidePlaybackButton:v,shouldHideControlBar:T,isVideoNodeHovered:S,pointerDownOnVideo:N,setVideoControls:L,shouldHideFullscreenButton:R=!1,onSeekStart:M=s.lQ,onSeekEnd:D=s.lQ,onMute:P=s.lQ,onUnmute:F=s.lQ}){let[B,U]=(0,r.useState)(0),G=(0,r.useRef)(!1),H=(0,r.useRef)(u),[z,V]=(0,r.useState)(null),[K,W]=(0,r.useState)(!1),[q,Y]=(0,r.useState)(!1),X=(0,g.am)(),[J,Z]=(0,_.M)(),[Q,$]=(0,_.M)(),ee=T||!e,et=(0,r.useRef)(!1),ei=a&&(d||$),en=z||e?.currentTime,er=e?.duration,ea=j(e),es=(0,r.useRef)(void 0),eo=(0,r.useRef)(void 0);(0,r.useEffect)(()=>{let e=(x.Ay.isIpad?N:S)||Z||ei||!ea||m||et.current;Y(e),clearTimeout(es?.current),e&&(es.current=setTimeout(()=>{m||!ea||Z||et.current||(Y(!1),c(!1),L(!1,!1))},3e3))},[m,ei,ea,S,Z,c,L,N]);let el=(0,r.useCallback)(()=>{U(e=>e+1)},[]);(0,r.useEffect)(()=>{if(e&&t)return e.addEventListener("playing",s),e.addEventListener("canplay",i),e.addEventListener("ended",c),e.addEventListener("timeupdate",i),e.addEventListener("seeking",o),e.addEventListener("seeked",r),e.addEventListener("stalled",n),t.addEventListener(f.R7.fullscreenChangeEventName,d),()=>{e?.removeEventListener("playing",s),e?.removeEventListener("canplay",i),e?.removeEventListener("ended",c),e?.removeEventListener("timeupdate",i),e?.removeEventListener("seeking",o),e?.removeEventListener("seeked",r),e?.removeEventListener("stalled",n),t?.removeEventListener(f.R7.fullscreenChangeEventName,d)};function i(){el()}function n(){et.current=!1}function r(){et.current=!1,y(!1)}function s(){y(!1),el()}function o(){et.current=!0}function d(){l(!a)}function c(){K||y(!0),el()}},[a,K,el,y,l,t,e]);let ed=(0,r.useCallback)(()=>{!1===H.current&&(H.current=!0,X("figjam_video_started_playing",{mediaHash:p})),b(e,m),el()},[m,p,el,X,e,b]),ec=(0,r.useCallback)(()=>{e&&(G.current=j(e)||m,e.pause(),M())},[m,M,e]),eu=(0,r.useCallback)(()=>{e&&(G.current&&e.play(),eo.current&&(e.currentTime=eo.current),D(e.currentTime),V(null),eo.current=void 0)},[e,D]),ep=(0,r.useCallback)(t=>{if(e){if(et.current){eo.current=t;return}e.currentTime=t}},[e]),em=(0,n.jsx)(O,{togglePlay:ed,hasEnded:m,isPlaying:ea,shouldShowVideoControls:q,isMaximized:a});return i?(0,n.jsx)("div",{className:h()(E.vx,E.jJ,E.bb),children:(0,n.jsx)(o.k,{size:"lg"})}):x.Ay.isIpad&&a?null:ee?q&&!v?em:null:(0,n.jsxs)(n.Fragment,{children:[z?null:em,(0,n.jsxs)("div",{className:h()(C.Uu,E._v,!q&&E.YC),ref:Q,children:[(0,n.jsxs)("div",{className:E.TN,children:[w(en)," / ",w(er)]}),(0,n.jsx)(A,{currentTime:en||0,totalTime:er||0,onScrubStart:ec,onScrub:V,onScrubEnd:eu,onVideoPositionUpdated:ep,hasEnded:m,isScrubbing:K,setIsScrubbing:W}),(0,n.jsxs)("div",{className:E.yG,children:[!R&&(0,n.jsx)(k,{isMaximized:a,toggleFullscreen:function(){a||document.fullscreenElement?f.R7.exitFullscreenFunc():x.Ay.isIpad?e&&e.webkitEnterFullscreen&&e.webkitEnterFullscreen():t&&f.R7.requestFullscreenFunc.call(t)}}),(0,n.jsx)(I,{rerender:el,videoElement:e,volumeHoverRef:J,onMute:P,onUnmute:F})]})]})]})}function k({isMaximized:e,toggleFullscreen:t}){let i=E.zR,r=e?(0,n.jsx)(d.p,{className:i}):(0,n.jsx)(c.O,{className:i});return(0,n.jsx)("div",{children:(0,n.jsx)(l.E,{onClick:t,className:E.TJ,htmlAttributes:{"data-tooltip":e?(0,b.t)("whiteboard.video.minimize_tooltip"):(0,b.t)("whiteboard.video.fullscreen_tooltip"),"data-tooltip-type":v.Ib.TEXT},children:(0,n.jsx)("span",{"aria-hidden":!0,children:r})})})}function I({rerender:e,videoElement:t,volumeHoverRef:i,onMute:a,onUnmute:s}){let[o,d]=(0,r.useState)(!1),c=(0,r.useRef)(1),[m,f]=(0,r.useState)(t?.volume||1),g=t?.muted??!1,_=o&&!x.Ay.isIpad,y=(0,r.useCallback)(()=>{t&&(t.muted?(t.muted=!1,t.volume=c.current,f(c.current),s()):(t.volume>0&&(c.current=t.volume),t.muted=!0,f(0),a()),e())},[e,t,a,s]),C=E.zR,T=g?(0,n.jsx)(u.P,{className:C}):(0,n.jsx)(p.L,{className:C});return(0,n.jsxs)("div",{ref:i,children:[(0,n.jsx)(l.E,{onClick:y,className:h()(E.TJ,E.z9,_&&E.BT),htmlAttributes:{onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),"data-tooltip":g?(0,b.t)("whiteboard.video.unmute_tooltip"):(0,b.t)("whiteboard.video.mute_tooltip"),"data-tooltip-type":v.Ib.TEXT},children:(0,n.jsx)("span",{"aria-hidden":!0,children:T})}),_?(0,n.jsx)(N,{volume:g?0:m,handleChange:e=>{let i=e.target.valueAsNumber;t&&(t.volume=i,t.muted=0===i),f(i)},setIsHovered:d}):null]})}function N({handleChange:e,setIsHovered:t,volume:i}){let a=100*i,s=(0,r.useRef)(null);return(0,n.jsx)("div",{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),className:E.qD,children:(0,n.jsx)("div",{className:E.sf,children:(0,n.jsx)("input",{ref:s,className:h()(E.Ct,C.Dm,C.Uu),max:1,min:0,onChange:e,onKeyDown:function(e){e?.key==="Escape"&&t(!1)},onMouseUp:function(){s.current instanceof HTMLInputElement&&s.current.blur()},step:.02,style:{background:`linear-gradient(to right,var(--active-slider-color) 0%,var(--active-slider-color) ${a}%,var(--inactive-slider-color) ${a}%,var(--inactive-slider-color) 100%)`},type:"range",value:i})})})}function A({currentTime:e,totalTime:t,hasEnded:i,onVideoPositionUpdated:s,onScrubStart:o,onScrub:l,onScrubEnd:d,isScrubbing:c,setIsScrubbing:u}){let[p,m]=(0,r.useState)(!1),h=(0,r.useRef)(null),f=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(c&&f.current)return document.addEventListener("pointermove",e),document.addEventListener("pointerup",i),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("pointerup",i)};function e(e){if(!f.current)return;let i=e.clientX,{minX:n,maxX:r}=f.current,o=(0,a.qE)(0,(i-n)/(r-n)*t,t);f.current.newTime=o,l(o),s(f.current.newTime)}function i(){f.current&&(s(f.current.newTime),u(!1),d(),f.current=null,document.activeElement instanceof HTMLElement&&document.activeElement.blur())}},[c,l,d,s,u,t]);let g=Math.min(e/t*100,100),_=g>0?8:0;return x.Ay.safari&&i&&(g=100),(0,n.jsx)("div",{className:E.It,onPointerEnter:()=>m(!0),onPointerLeave:()=>m(!1),children:(0,n.jsxs)("div",{role:"progressbar",tabIndex:0,className:E.tS,onPointerDown:e=>{if(!h.current)return;e.stopPropagation(),u(!0),o();let i=h.current.getBoundingClientRect(),n=i.x,r=i.x+i.width,l=e.clientX,d=(0,a.qE)(0,(l-n)/(r-n)*t,t);s(d),f.current={minX:n,maxX:r,originX:e.clientX,newTime:d}},children:[(0,n.jsx)("div",{className:E.xE,ref:h}),(0,n.jsx)("div",{className:E.CN,style:{width:`${g}%`}}),(p||c)&&(0,n.jsx)("div",{className:E.Yq,style:{left:`calc(${g}% - ${_}px)`},onPointerDown:t=>{if(!h.current)return;t.stopPropagation(),u(!0),o();let i=h.current.getBoundingClientRect();f.current={minX:i.x,maxX:i.x+i.width,originX:t.clientX,newTime:e}},role:"button",tabIndex:0})]})})}function O({shouldShowVideoControls:e,togglePlay:t,hasEnded:i,isPlaying:r,isMaximized:a}){let[s,o]=(0,_.M)(),l=o?T.BUTTON_BG_FILL_HOVER_OPACITY:T.BUTTON_BG_FILL_OPACITY;return(0,n.jsx)("button",{ref:s,className:h()(C.Uu,E.CY,!e&&E.ct),onPointerDown:function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur(),t()},children:(0,n.jsx)(i?L:r?M:R,{fillOpacityForBackground:l,isMaximized:a})})}function L({fillOpacityForBackground:e,isMaximized:t}){return(0,n.jsxs)("svg",{className:h()(t&&E.gJ),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",children:[(0,n.jsx)("path",{d:"M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z",fill:T.BUTTON_BG_FILL,fillOpacity:e}),(0,n.jsx)("path",{d:"M34 24C34 18.4772 29.7175 14 24.4348 14C20.5763 14 17.2515 16.3884 15.7391 19.8282V14H14V22.1818H21.8261V20.3636H17.4222C18.7028 17.6696 21.362 15.8182 24.4348 15.8182C28.757 15.8182 32.2609 19.4813 32.2609 24C32.2609 28.5187 28.757 32.1818 24.4348 32.1818C21.362 32.1818 18.7028 30.3304 17.4222 27.6364H15.5216C16.9131 31.3612 20.3792 34 24.4348 34C29.7175 34 34 29.5228 34 24Z",fill:T.BUTTON_SHAPE_FILL}),(0,n.jsx)("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:T.BUTTON_BG_FILL,strokeOpacity:T.BUTTON_STROKE_OPACITY})]})}function R({fillOpacityForBackground:e,isMaximized:t}){return(0,n.jsxs)("svg",{className:h()(t&&E.gJ),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_403_4259)",children:[(0,n.jsx)("rect",{width:"48",height:"48",rx:"24",fill:T.BUTTON_BG_FILL,fillOpacity:e}),(0,n.jsx)("path",{d:"M19 34V14L35 24L19 34Z",fill:T.BUTTON_SHAPE_FILL})]}),(0,n.jsx)("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:T.BUTTON_BG_FILL,strokeOpacity:T.BUTTON_STROKE_OPACITY}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_403_4259",children:(0,n.jsx)("rect",{width:"48",height:"48",rx:"24",fill:T.BUTTON_BG_FILL})})})]})}function M({fillOpacityForBackground:e,isMaximized:t}){return(0,n.jsxs)("svg",{className:h()(t&&E.gJ),width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_1_16)",children:[(0,n.jsx)("rect",{width:"48",height:"48",rx:"24",fill:T.BUTTON_BG_FILL,fillOpacity:e}),(0,n.jsx)("path",{d:"M15 15H21V33H15V15Z",fill:T.BUTTON_SHAPE_FILL}),(0,n.jsx)("path",{d:"M27 15H33V33H27V15Z",fill:T.BUTTON_SHAPE_FILL})]}),(0,n.jsx)("rect",{x:"0.5",y:"0.5",width:"47",height:"47",rx:"23.5",stroke:T.BUTTON_BG_FILL,strokeOpacity:T.BUTTON_STROKE_OPACITY}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1_16",children:(0,n.jsx)("rect",{width:"48",height:"48",rx:"24",fill:T.BUTTON_BG_FILL})})})]})}},595260:(e,t,i)=>{i.d(t,{_:()=>s,b:()=>N});var n=i(763686),r=i(601108),a=i(216495),s=(e=>(e.AUTO="AUTO",e.DIV="DIV",e.SPAN="SPAN",e.P="P",e.H1="H1",e.H2="H2",e.H3="H3",e.H4="H4",e.H5="H5",e.H6="H6",e.ARTICLE="ARTICLE",e.ASIDE="ASIDE",e.FOOTER="FOOTER",e.HEADER="HEADER",e.MAIN="MAIN",e.NAV="NAV",e.SECTION="SECTION",e.IMG="IMG",e.VIDEO="VIDEO",e.BUTTON="BUTTON",e.FIGURE="FIGURE",e.FIGCAPTION="FIGCAPTION",e.IFRAME="IFRAME",e.OL="OL",e.UL="UL",e))(s||{});let o={value:"DIV"},l={value:"ARTICLE"},d={value:"ASIDE"},c={value:"BUTTON"},u={value:"FIGURE"},p={value:"FIGCAPTION"},m={value:"FOOTER"},h={value:"HEADER"},f={value:"MAIN"},g={value:"NAV"},_={value:"OL"},x={value:"UL"},y={value:"SECTION"},b={value:"P"},C={value:"H1"},v={value:"H2"},E={value:"H3"},T={value:"H4"},w={value:"H5"},j={value:"H6"},S={value:"IMG"},k={value:"VIDEO"},I={value:"IFRAME"};function N(e,t,i,s){switch((!e||(0,a.gl)(e))&&(e=n.BJw.NONE),t){case n.Pir.MIXED:return{category:t,tagDefaultValue:"AUTO",tagOptions:[],tagEditable:!1,labelType:e};case n.Pir.TEXT:let N=b;return(0,r.k)().sts_a11y_aria_attributes&&("UNORDERED_LIST"===i?N=x:"ORDERED_LIST"===i&&(N=_)),{category:t,tagDefaultValue:N.value,tagOptions:[...N===x||N===_?[N,{divider:!0}]:[],b,C,v,E,T,w,j,...(0,r.k)().sts_a11y_aria_attributes&&s?[{divider:!0},p]:[]],tagEditable:!0,labelType:e};case n.Pir.BLOCK:return{category:t,tagDefaultValue:o.value,tagOptions:[o,l,d,c,u,m,h,f,g,y,...(0,r.k)().sts_a11y_ol_ul_tags?[{divider:!0},_,x]:[]].filter(Boolean),tagEditable:!0,labelType:e};case n.Pir.BLOCK_WITH_IMAGE:return{category:t,tagDefaultValue:(0,r.k)().sts_a11y_aria_attributes?S.value:o.value,tagOptions:[...(0,r.k)().sts_a11y_aria_attributes?[S]:[],o,l,d,c,u,m,h,f,g,y,...(0,r.k)().sts_a11y_ol_ul_tags?[{divider:!0},_,x]:[]].filter(Boolean),tagEditable:!0,labelType:e};case n.Pir.BLOCK_WITH_VIDEO:return{category:t,tagDefaultValue:(0,r.k)().sts_a11y_aria_attributes?k.value:o.value,tagOptions:[...(0,r.k)().sts_a11y_aria_attributes?[k]:[],o,l,d,c,u,m,h,f,g,y,...(0,r.k)().sts_a11y_ol_ul_tags?[{divider:!0},_,x]:[]].filter(Boolean),tagEditable:!0,labelType:e};case n.Pir.IFRAME:return{category:t,tagDefaultValue:I.value,tagOptions:[I],tagEditable:!1,labelType:e};default:return{category:n.Pir.NONE,tagDefaultValue:"AUTO",tagOptions:[],tagEditable:!1,labelType:e}}}},71222:(e,t,i)=>{i.d(t,{MO:()=>J,nh:()=>K,FD:()=>Y,e5:()=>W,gA:()=>X});var n=i(486106),r=i(7378),a=i(514228),s=i(730894),o=i(763508),l=i(304633),d=i(701065);let c=(0,r.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M15.293 5.293A1 1 0 0 0 14.586 5H11.5A1.5 1.5 0 0 0 10 6.5v1a.5.5 0 0 0 1 0v-1a.5.5 0 0 1 .5-.5H14v1.5A1.5 1.5 0 0 0 15.5 9H17v4.5a.5.5 0 0 1-.5.5h-1a.5.5 0 0 0 0 1h1a1.5 1.5 0 0 0 1.5-1.5V8.414a1 1 0 0 0-.293-.707zM16.586 8 15 6.414V7.5a.5.5 0 0 0 .5.5zM11 11.5v-1.086L12.586 12H11.5a.5.5 0 0 1-.5-.5m-1 0V10H7.5a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5V13h-1.5a1.5 1.5 0 0 1-1.5-1.5m1.293-2.207A1 1 0 0 0 10.586 9H7.5A1.5 1.5 0 0 0 6 10.5v7A1.5 1.5 0 0 0 7.5 19h5a1.5 1.5 0 0 0 1.5-1.5v-5.086a1 1 0 0 0-.293-.707z",clipRule:"evenodd"})})});var u=i(857502),p=i(764883);let m=(0,r.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",d:"M6.02 4.98a1.314 1.314 0 0 1 1.86 0l2.006 2.007c.55.55.622 1.416.17 2.049a2 2 0 0 0 .213 2.577l1.847 1.846a2 2 0 0 0 2.576.213 1.59 1.59 0 0 1 2.049.17l2.006 2.006a1.316 1.316 0 0 1 0 1.86c-1.946 1.947-4.973 2.312-7.116.584a41 41 0 0 1-3.267-2.928 41 41 0 0 1-2.928-3.268c-1.728-2.143-1.363-5.168.584-7.115m1.152.708a.315.315 0 0 0-.445 0c-1.637 1.637-1.876 4.09-.513 5.781.799.99 1.76 2.09 2.857 3.188a40 40 0 0 0 3.188 2.857c1.69 1.364 4.144 1.125 5.782-.513a.316.316 0 0 0 0-.446l-2.007-2.007a.59.59 0 0 0-.668-.116l-.093.054a3 3 0 0 1-3.864-.32L9.562 12.32a3 3 0 0 1-.32-3.865l.053-.092a.59.59 0 0 0-.116-.67z"})})});var h=i(201779),f=i(763686),g=i(700578),_=i(601108),x=i(806412),y=i(303541),b=i(565242);function C(e,t){return("object"==typeof e&&null!=e||"function"==typeof e)&&t in e}function v(e){return"string"==typeof e}function E(e){var t,i;return!!(C(e,t="itemId")&&v(e[t]))&&!!(C(e,i="slugFieldId")&&v(e[i])&&C(e,"fieldIdToDataMap"))}var T=i(707993),w=i(986594),j=i(216495),S=i(848862),k=i(167249),I=i(188421),N=i(794875),A=i(165054),O=i(493196),L=i(270045);i(556482);var R=i(11),M=i(714743),D=i(649254),P=i(479978),F=i(274066);function B({initialSelectedItemId:e,collectionId:t,onLinkChange:i,targetNodeId:a,disabled:s}){let[o,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{l(e)},[e]);let d=(0,b.VC)(t),c=(0,D.Vp)(t??"").data,u=(0,r.useMemo)(()=>null==d||0===c.length?new Map:new Map(c.map(e=>{let t=e.id,i=e.fields.find(e=>e.fieldSchemaId===d)?.value;return null==i||0===i.length?((0,R.$D)(A.e.CMS,Error("item slug is null or empty when computing CMS item page link options"),{extra:{itemId:t,itemSlug:i}}),[t,""]):[t,i]})),[c,d]);if(!c||!o||!d)return null;let p=c.map(e=>{var t;return(0,n.jsx)(O.c$,{value:e.id,children:(t=e.id,u.get(t)||((0,R.$D)(A.e.CMS,Error("invalid slug name when formatting a CMS item page link"),{extra:{itemId:t}}),""))},e.id)}),m=(0,n.jsxs)(O.bL,{value:o,onChange:e=>{if(null==e){(0,R.$D)(A.e.CMS,Error("item id is null when setting CMS item page link (slug selector)"));return}i({type:"internal_cms_item_page_item",id:a,itemId:e,fieldSchemaId:d}),l(e)},children:[(0,n.jsx)("div",{className:"xjp7ctv x9hn8t9",children:(0,n.jsx)(O.l9,{width:"fill",label:(0,n.jsx)(L.h,{children:(0,y.tx)("sites.panel.link_panel.cms_item")}),disabled:s||0===c.length})}),(0,n.jsx)(O.mc,{children:p})]});return(0,n.jsxs)("div",{className:"x78zum5 x12mrbbr xh8yej3",children:[(0,n.jsx)(M.B,{svg:F.A,className:"xyjf476 x1ja3g5x"}),(0,n.jsx)(P.Ad,{label:null,input:m,appendedClassName:"x1ghz6dp x1717udv xh8yej3"})]})}var U=i(85384);class G extends I.a3{}class H extends N.c${}function z({OriginalComponent:e,...t}){return(0,n.jsx)(e,{...t,className:"link_combo_box--ui3ComboBoxInput--8rKB- ellipsis--ellipsis--Tjyfa"})}let V=e=>"TEXT"===e.type&&!!e.hyperlink;function K(){return!!(0,g.UN)().getDirectlySelectedNodes().find(V)}function W(){return(0,k.Fk)(e=>e.getDirectlySelectedNodes().some(V))}let q=e=>!!("TEXT"===e.type&&e.textData?.styleOverrideTable?.length)&&!!e.textData.styleOverrideTable.find(e=>!!e.hyperlink&&!!e.hyperlink.url||!!e.hyperlink?.guid);function Y(){return!!(0,g.UN)().getDirectlySelectedNodes().find(q)}function X(){return(0,k.Fk)(e=>e.getDirectlySelectedNodes().some(q))}function J({id:e,link:t,onLinkChange:i,error:C,disabled:v=!1,isHyperlinkEditor:k=!1,showCMSLinkFields:A=!1,showCMSItemPages:O=!1,recordingKey:L}){let R=(0,g.UN)().getCurrentPage(),M=(0,r.useMemo)(()=>(R?.childrenNodes.filter(e=>e.isResponsiveSetOrWebpage&&!e.getNearestDakotaCollectionId())??[]).sort((e,t)=>e.name.localeCompare(t.name)),[R?.childrenNodes]),{cmsLinkOptions:D,cmsItemPageLinkOptions:P,collectionName:F,cmsLinkFields:V,cmsCollectionId:K,cmsItemPages:W}=function({recordingKey:e,showCMSLinkFields:t,showCMSItemPages:i}){let a=(0,g.UN)(),s=a.getCurrentPage(),o=a.getDirectlySelectedNodes(),l=function(e,t){let i=e?.getSelectedTextRange();return!!(i&&i.start!==i.end&&t?.characters)&&t.characters.length!==i.end-i.start}(s,o[0]),d=o[0]?.getNearestAncestorDakotaCollectionId()??null,p=(0,T.G)({collectionStableId:d}),m=p?.collection?.name,h=(0,r.useMemo)(()=>(s?.childrenNodes.filter(e=>e.isResponsiveSet&&null!=e.getDakotaSelectorCollectionId())??[]).sort((e,t)=>e.name.localeCompare(t.name)),[s?.childrenNodes]),f=(0,b.uE)(d??"").filter(e=>"link"===e.fieldType);return{collectionName:m,cmsLinkOptions:t&&(0,_.k)().dakota?function({cmsItemPages:e,collectionId:t,cmsLinkFields:i,recordingKey:r,hasPartialTextSelection:a}){let s=(0,g.UN)().getDirectlySelectedNodes();if(0===s.length||a)return[];let o=[];if(t&&(0,w.J6)(s,t)){let i=e.filter(e=>e.isResponsiveSet&&e.getNearestDakotaCollectionId()===t).sort((e,t)=>e.name.localeCompare(t.name));o.push(...i.map(e=>(0,n.jsx)(H,{value:{type:"internal_cms_item_page",collectionId:t,id:e.guid},dataTestId:`sites.link_combo_box.cms_repeater_to_item_page_link.${e.name}`,recordingKey:x.Pt(r,"option.cms_repeater_to_item_page_link",e.guid),icon:(0,n.jsx)(c,{})},e.guid)))}return t&&(0,w.qs)(s,t)&&o.push(...i.map(e=>(0,n.jsx)(H,{value:{type:"cms_link_field_alias",collectionId:t,fieldId:e.id,fieldName:e.name},dataTestId:`sites.link_combo_box.cms_link_field_link.${e.name}`,recordingKey:x.Pt(r,"option.cms_link_field_link",e.name),icon:(0,n.jsx)(u.r,{})},e.id))),o}({cmsItemPages:h,collectionId:d,cmsLinkFields:f,recordingKey:e,hasPartialTextSelection:l}):[],cmsItemPageLinkOptions:i&&(0,_.k)().cms_item_page_links?function({cmsItemPages:e,selectedNodes:t,recordingKey:i,hasPartialTextSelection:r}){return r||(0,w.fn)(t)?[]:e.map(e=>({guid:e.guid,data:e.getDakotaItemData()})).filter(({data:e})=>E(e)).map(({guid:e,data:t})=>(0,n.jsx)(H,{value:{type:"internal_cms_item_page_item",id:e,itemId:t.itemId,fieldSchemaId:t.slugFieldId},recordingKey:x.Pt(i,"option.cms_item_page_link",e),icon:(0,n.jsx)(c,{})},e))}({cmsItemPages:h,selectedNodes:o,recordingKey:e,hasPartialTextSelection:l}):[],cmsLinkFields:f,cmsCollectionId:d,cmsItemPages:h}}({recordingKey:L,showCMSLinkFields:A,showCMSItemPages:O}),q=(0,_.k)().sts_links_v2&&!Y()&&R?.editModeType!==f.m1T.TEXT?[(0,n.jsx)(H,{value:{type:"back"},recordingKey:x.Pt(L,"option.back"),icon:(0,n.jsx)(s.E,{})},"back-link-preset"),(0,n.jsx)(H,{value:{type:"anchor_link"},recordingKey:x.Pt(L,"option.anchor_link"),icon:(0,n.jsx)(o.M,{})},"anchor-link-preset")]:[],X=(0,a.wA)(),J=(0,S.Um)(),Z=r.useRef(null);r.useEffect(()=>{k&&Z.current&&(Z.current.focus(),Z.current.select())},[k,Z]);let Q=(0,r.useMemo)(()=>({format:e=>(0,j.gl)(e)?(0,y.t)("fullscreen.mixed"):e?.type==="header"?e.name:(0,U.u3)(e,M,W),parse:e=>{if(!e)return null;let i=e===(0,y.t)("sites.panel.home")?"/":e,n=M.find(e=>e.name===i);if(n)return{type:"internal",id:n.guid};let r=V.find(e=>e.name===i);if(A&&r)return{type:"cms_link_field_alias",collectionId:K??"",fieldId:r.id,fieldName:r.name};let a=W.find(e=>e.name===i);if(O&&a){if(a.getDakotaSelectorCollectionId()===K)return{type:"internal_cms_item_page",collectionId:K??"",id:a.guid};{let e=a.getDakotaItemData();if(E(e))return{type:"internal_cms_item_page_item",id:a.guid,itemId:e.itemId,fieldSchemaId:e.slugFieldId}}}return{type:"url",url:i,openInNewTab:!(0,j.gl)(t)&&t?.type==="url"&&t.openInNewTab}},isEqual:(e,t)=>(0,U.MR)(e,t)}),[M,W,V,t,K,O,A]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(I.ow,{value:{inputComponent:k?void 0:z},children:[(0,n.jsxs)(G,{chevronClassName:k?"link_combo_box--sitesHyperlinkEditorChevron--X-K3X":void 0,dataTestId:"sites_link_combo_box_input",disabled:v,dispatch:X,dropdownShown:J,dropdownWidth:(0,_.k)().sts_links_v2?184:172,forceInputPlaceholder:null===t,formatter:Q,forwardedRef:Z,icon:k?null:(0,j.gl)(t)||t?.type!=="back"?(0,j.gl)(t)||t?.type!=="anchor_link"?(0,j.gl)(t)||t?.type!=="url"?(0,n.jsx)(h.N,{}):t?.url.startsWith("mailto:")?(0,n.jsx)(p.f,{}):t?.url.startsWith("tel:")?(0,n.jsx)(m,{}):(0,n.jsx)(u.r,{}):(0,n.jsx)(o.M,{}):(0,n.jsx)(s.E,{}),id:e,inputClassName:k?"link_combo_box--sitesHyperlinkEditor--q6R2y input--darkInput--zfbnG":C?"link_combo_box--linkPanelComboBoxError--GL-Fq link_combo_box--linkPanelComboBox--lmY7a":"link_combo_box--linkPanelComboBox--lmY7a",omitValueFromDropdown:(0,j.gl)(t)||t?.type==="internal"||null==t,onChange:e=>{e?.type!=="header"&&i(e)},openBelowTarget:!0,placeholder:(0,y.t)("sites.panel.search_responsive_sets"),property:t,recordingKey:L,children:[D.length>0&&[(0,n.jsx)(H,{isHeader:!0,disabled:!0,dataTestId:"sites.link_combo_box.cms_header",value:{type:"header",name:F??(0,y.t)("sites.panel.link_panel.cms_header")},recordingKey:x.Pt(L,"option.cms_header")},"cms-header"),...D,(0,n.jsx)(N.sK,{},"cms-webpages-divider"),(0,n.jsx)(H,{isHeader:!0,disabled:!0,dataTestId:"sites.link_combo_box.webpages_header",recordingKey:x.Pt(L,"option.webpages_header"),value:{type:"header",name:(0,y.t)("sites.panel.link_panel.webpages_header")}},"webpages-header")],M.map(e=>(0,n.jsx)(H,{icon:"/"===e.name?(0,n.jsx)(l.I,{}):(0,n.jsx)(d.g,{}),dataTestId:`sites.link_combo_box.responsive_set.${e.name}`,value:{type:"internal",id:e.guid},recordingKey:x.Pt(L,"option",e.name)},e.guid)),...P,q.length>0&&[(0,n.jsx)(N.sK,{},"link-preset-divider"),...q]]}),t&&!(0,j.gl)(t)&&"internal_cms_item_page_item"===t.type&&(0,n.jsx)(B,{targetNodeId:t.id,initialSelectedItemId:t.itemId,onLinkChange:i,collectionId:(0,w.WI)(t.id),disabled:v})]}),C]})}},60886:(e,t,i)=>{i.d(t,{Jh:()=>s,QD:()=>a,Ro:()=>n,jK:()=>r});let n=["auto","pitch","product_showcase","product_management","sales","proposal","research_report","knowledge","meeting","portfolio"],r=[5,10,15,20,25],a=["minimal","concise","detailed","extensive"],s={usecase:"auto",slideCount:5,textDensity:"concise"}},236102:(e,t,i)=>{i.d(t,{EG:()=>p,JY:()=>m,mG:()=>c,sH:()=>h,wd:()=>u});var n=i(7378),r=i(27355),a=i(615482),s=i(396421);let o={step:"NOT_STARTED",data:{deckOptions:i(60886).Jh}},l=(0,a.Wh)(()=>(0,r.um)(o,(e,t)=>{switch(t.type){case"SET_STEP":if(!function(e,t){let i="GENERATION_LOADING"===e.step||"DONE"===e.step;switch(t){case"NOT_STARTED":case"OUTLINE":return!i;case"GENERATION_LOADING":return e.data?.outline!==void 0;case"GENERATION_ON_CANVAS":return"GENERATION_LOADING"===e.step;case"DONE":return"GENERATION_LOADING"===e.step||"GENERATION_ON_CANVAS"===e.step}}(e,t.step))return e;if("NOT_STARTED"===t.step)return o;return{...e,step:t.step};case"SET_PROMPT":if(!d(e))return e;return{...e,data:{...e.data,prompt:t.prompt}};case"SET_OUTLINE":if(!d(e))return e;return{...e,data:{...e.data,outline:t.outline}};case"SET_TEMPLATE_LIBRARY_KEY":if(!d(e))return e;return{...e,data:{...e.data,templateLibraryKey:t.templateLibraryKey}};case"SET_USECASE":return{...e,data:{...e.data,deckOptions:{...e.data?.deckOptions,usecase:t.usecase}}};case"SET_SLIDE_COUNT":return{...e,data:{...e.data,deckOptions:{...e.data?.deckOptions,slideCount:t.slideCount}}};case"SET_TEXT_DENSITY":return{...e,data:{...e.data,deckOptions:{...e.data?.deckOptions,textDensity:t.textDensity}}}}}));function d(e){return"OUTLINE"===e.step}function c(){return(0,r.md)(l).step}function u(){switch(c()){case"NOT_STARTED":case"GENERATION_ON_CANVAS":case"DONE":return!1;case"OUTLINE":case"GENERATION_LOADING":return!0}}function p(){return(0,r.md)(l).data}function m(){let[e,t]=(0,r.fp)(l),i=n.useCallback(()=>{t({type:"SET_STEP",step:"OUTLINE"})},[t]),a=n.useCallback(()=>{t({type:"SET_STEP",step:"GENERATION_LOADING"})},[t]),s=n.useCallback(()=>{t({type:"SET_STEP",step:"GENERATION_ON_CANVAS"})},[t]),o=n.useCallback(()=>{t({type:"SET_STEP",step:"DONE"})},[t]),d=n.useCallback(()=>{t({type:"SET_STEP",step:"NOT_STARTED"})},[t]),c=n.useCallback(e=>{t({type:"SET_PROMPT",prompt:e})},[t]),u=n.useCallback(e=>{t({type:"SET_TEMPLATE_LIBRARY_KEY",templateLibraryKey:e})},[t]),p=n.useCallback(e=>{t({type:"SET_OUTLINE",outline:e})},[t]),m=n.useCallback(e=>{t({type:"SET_USECASE",usecase:e})},[t]),h=n.useCallback(e=>{t({type:"SET_SLIDE_COUNT",slideCount:e})},[t]),f=n.useCallback(e=>{t({type:"SET_TEXT_DENSITY",textDensity:e})},[t]);return{step:e.step,data:e.data,start:i,createDeck:a,showDeckGenerationOnCanvas:s,finish:o,reset:d,setPrompt:c,setOutline:p,setTemplateLibraryKey:u,setUsecase:m,setSlideCount:h,setTextDensity:f}}function h(){let{data:e,setTemplateLibraryKey:t}=m(),i=e?.templateLibraryKey,r=(0,s.WS)(),a=r.data||[],o="loaded"===r.status&&a.length>0,l=a[0],d=(0,s.S7)();return i?d=i:o&&l&&(d=l.library_key),n.useEffect(()=>{d!==i&&t(d)},[d,i,t]),d}},341455:(e,t,i)=>{i.d(t,{Gd:()=>v,g2:()=>S,M0:()=>E,Hn:()=>T,Wb:()=>j,v0:()=>w});var n=i(486106),r=i(7378),a=i(763686),s=i(871411),o=i(27355),l=i(618447),d=i(516028),c=i(632248),u=i(862289),p=i(838407),m=i(60023),h=i(553488),f=i(396421),g=i(536384),_=i.n(g),x=i(640017);function y(){let e="dark"===(0,x.DP)();return(0,n.jsx)("div",{className:_()("slides_ai_shimmer_overlay--shimmer--R2Ru3",e?"slides_ai_shimmer_overlay--shimmerDark--hd6lU":"slides_ai_shimmer_overlay--shimmerLight--PGzix")})}var b=i(989613),C=i(53049);function v(e){if(e)return e.pageGuids;let t=o.zl.get(m.V6);return(()=>{switch(t.type){case m.i6.ALL:return t.allPages;case m.i6.SINGLE:return[t.page];default:return[]}})().map(e=>e.guid)}function E(e){let t=(0,o.md)(m.bY).figjamEntryPointData,i=t?.figjamFileKey||e,n=t?.selectedGuids;return(0,r.useCallback)(()=>{if(i)return(0,C.R)({fileKey:i,selectedGuids:n})},[i,n])}function T(e){let t=(0,f.yt)(e[0]),i=(0,r.useRef)(!1);return(0,r.useCallback)(()=>{if(!o.zl.get(d.ze))return;let n=o.zl.get(l.BT);if(!i.current&&0===n.flat().length&&e.length>0){i.current=!0;let n=e[0];if(!n)return;t(n,{row:0,col:0},a.zkO.USER,"figjam-board-to-deck-default-slide",h.Ji.BOARD_TO_DECK)}},[t,e])}function w(){let e=function(){let e=(0,o.md)(m.ux),t=(0,f.WS)(),i=t.data||[],n="loaded"===t.status&&i.length>0,r=i[0],a=(0,f.S7)();return e||(n&&r?r.library_key:a)}(),t=(0,f.NG)(e),i="loaded"===t.status;return{areSlidePresetsLoaded:i,slidePresetModules:i?t.data:[]}}function j(){let e=(0,r.useRef)(null),t=(0,r.useRef)(new Set);return{showPlaceholderOverlay:(0,r.useCallback)(i=>{if(i&&i!==s.AD&&e.current!==i){for(let e of t.current)(0,p.ks)(e);e.current=i,t.current.add(i),(0,p.Vm)(i,(0,n.jsx)(y,{}))}},[]),removeAllPlaceholderOverlays:(0,r.useCallback)(()=>{for(let e of t.current)(0,p.ks)(e);t.current.clear(),e.current=null},[])}}function S(){(0,r.useEffect)(()=>()=>{let{state:e}=(0,u.pP)(c.JT.BOARD_TO_DECK);e===u.qy.RUNNING&&(0,u.cT)(c.JT.BOARD_TO_DECK),(0,b.$K)()},[])}},989613:(e,t,i)=>{i.d(t,{$K:()=>f,D0:()=>y,D1:()=>C,Sk:()=>b,Y:()=>x,tO:()=>g});var n=i(691470),r=i(316567),a=i(651849),s=i(407919),o=i(303541),l=i(302958),d=i(576487),c=i(632248),u=i(862289);let p="slides-ai-generation-started",m="slides-ai-generation-error",h="slides-ai-generation-completed";function f(){s.D.dispatch(l.F.dequeue({matchType:p})),s.D.dispatch(l.F.dequeue({matchType:m})),s.D.dispatch(l.F.dequeue({matchType:h}))}function g(){s.D.dispatch(l.F.enqueue({message:(0,o.t)("slides.present_summary.visual_bells.loading"),type:p,icon:d.zX.SPINNER,button:{text:(0,o.t)("slides.present_summary.visual_bells.stop"),action:()=>{s.D.dispatch(l.F.dequeue({matchType:p})),(0,u.cT)(c.JT.BOARD_TO_DECK)}},timeoutOverride:3e5}))}function _(e,t,i){s.D.dispatch(l.F.dequeue({matchType:p})),s.D.dispatch(l.F.enqueue({message:e,type:i,icon:t,timeoutOverride:3e3}))}function x(){_((0,o.t)("slides.present_summary.visual_bells.canceled_indirectly"),d.zX.EXCLAMATION,"slides-ai-generation-canceled")}function y(e){_(e,d.zX.EXCLAMATION,m)}function b(){s.D.dispatch(l.F.dequeue({matchType:p})),s.D.dispatch(l.F.enqueue({type:h,messageComponentKey:d.Rw.BOARD_TO_DECK_FEEDBACK,icon:d.zX.GREEN_CHECK,onDismiss:()=>{s.D.dispatch(l.F.dequeue({matchType:h}))},timeoutOverride:6e4}))}function C(e){a.k.error(e);let t={content_length_limit_exceeded:(0,o.t)("slides.present_summary.visual_bells.error_content_limit_exceeded"),rate_limit_exceeded:(0,o.t)("slides.present_summary.visual_bells.error_rate_limited"),service_issue:(0,o.t)("slides.present_summary.visual_bells.error_vendor"),offline:(0,o.t)("slides.present_summary.visual_bells.error_offline"),unsafe_or_harmful_content:(0,o.t)("slides.present_summary.visual_bells.content_moderation"),unauthorized:(0,o.t)("slides.present_summary.visual_bells.error_unknown"),generic:(0,o.t)("slides.present_summary.visual_bells.error_unknown"),ai_opt_out_error:(0,o.t)("slides.present_summary.visual_bells.error_opt_out"),meter_exceeded:(0,o.t)("slides.present_summary.visual_bells.error_meter_exceeded"),create_slides_out_of_date:(0,o.t)("slides.present_summary.visual_bells.error_out_of_date"),not_implemented:(0,o.t)("ai.error.not_implemented")},i="generic";if(e instanceof r.CortexErrorV2)r.ClientContentLengthLimitExceededError.isInstance(e)||r.ProviderContentLengthLimitExceededError.isInstance(e)?i="content_length_limit_exceeded":r.ProviderRateLimitExceededError.isInstance(e)||r.ProviderOverloadedError.isInstance(e)||r.CortexRateLimitExceededError.isInstance(e)?i="rate_limit_exceeded":r.ProviderServiceIssueError.isInstance(e)||r.ProviderServiceBusyError.isInstance(e)?i="service_issue":r.OutOfDateFeatureVersionError.isInstance(e)?"create_slides"===e.featureName&&(i="create_slides_out_of_date"):r.MeterExceededError.isInstance(e)?i="meter_exceeded":r.OfflineError.isInstance(e)?i="offline":r.UnsafeOrHarmfulPromptError.isInstance(e)||r.ProviderUnsafeOrHarmfulContentError.isInstance(e)?i="unsafe_or_harmful_content":r.UnauthorizedError.isInstance(e)?i="unauthorized":r.NotImplementedError.isInstance(e)?i="not_implemented":e?.statusCode===404?i="service_issue":e?.statusCode===429||e?.statusCode===529?i="rate_limit_exceeded":e?.statusCode===403&&(i="ai_opt_out_error");else if(e instanceof n.G1)switch(e.type){case"content_length_limit_exceeded":case"rate_limit_exceeded":case"service_issue":case"create_slides_out_of_date":case"meter_exceeded":case"offline":case"unsafe_or_harmful_content":case"unauthorized":i=e.type;break;default:switch(e.data?.status){case 404:i="service_issue";break;case 429:i="rate_limit_exceeded";break;case 403:i="ai_opt_out_error"}}y(t[i]??(0,o.t)("slides.present_summary.visual_bells.error_unknown"))}},312268:(e,t,i)=>{i.d(t,{G:()=>b,V:()=>C});var n=i(486106),r=i(7378),a=i(632989),s=i(969533),o=i(149844),l=i(189185),d=i(700578),c=i(27355),u=i(878298),p=i(556482),m=i(589278),h=i(303541),f=i(129884),g=i(524655),_=i(835688),x=i(60023),y=i(396421);let b="carousel-add-slide-button",C=r.forwardRef(function({recordingKey:e},t){let{toggleTemplatePicker:i,closeTemplatePicker:r}=(0,y.uu)(),C=(0,c.md)(x.Ei),E=l.nc.user("ssv-carousel",()=>{r();let e=(0,d.UN)();(0,g.oY)(e,"carousel_add_slide_button")});return(0,n.jsxs)("div",{"data-element-target":b,className:"xh8yej3 xxk0z11 x78zum5 xl56j7k",children:[(0,n.jsxs)(a.E,{ref:t,...p.Ay.props(v.addSlideButton,v.newSlideButton,C&&v.buttonOpen),onClick:i,htmlAttributes:{"data-fullscreen-intercept":!0,"data-tooltip":(0,h.t)("slides.carousel.add-slide-from-template"),"data-tooltip-type":f.Ib.TEXT,"data-onboarding-key":_.MB},"aria-label":(0,h.t)("slides.carousel.add-slide-from-template"),children:[(0,n.jsx)("p",{className:m.s.noWrap.$,children:(0,h.t)("slides.carousel.new_slide")}),(0,n.jsx)(s.O,{})]}),(0,n.jsx)(a.E,{className:"x15cczae x1icplyp x1bamp8i x78zum5 x6s0dn4 xww3pen",onClick:E,recordingKey:(0,u.Pt)(e,"addSlideButton"),htmlAttributes:{"data-fullscreen-intercept":!0,"data-tooltip":(0,h.t)("slides.carousel.add-blank-slide"),"data-tooltip-type":f.Ib.TEXT,"data-tooltip-shortcut-key":"create-slide","data-testid":"addSlideButton"},"aria-label":(0,h.t)("slides.carousel.add-blank-slide"),children:(0,n.jsx)(o.e,{})})]})}),v={addSlideButton:{":active_backgroundColor":"x15cczae",":focus-visible_boxShadow":"x1icplyp",$$css:!0},newSlideButton:{backgroundColor:"x1yjdb4r",display:"x78zum5",justifyContent:"xl56j7k",alignItems:"x6s0dn4",flexGrow:"x1iyjqo2",boxSizing:"x9f619",height:"x5yr21d",pointerEvents:"x71s49j",border:"x1bamp8i",borderWidth:null,borderInlineWidth:null,borderLeftWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderLeftStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderLeftColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,borderRight:"x7956lj",borderRightWidth:null,borderInlineStartWidth:null,borderInlineEndWidth:null,borderRightStyle:null,borderInlineStartStyle:null,borderInlineEndStyle:null,borderRightColor:null,borderInlineStartColor:null,borderInlineEndColor:null,paddingLeft:"xd3ty66",paddingInlineStart:null,paddingInlineEnd:null,borderRadius:"xy5cce4",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0},buttonOpen:{backgroundColor:"x30nh5c",$$css:!0}}},16707:(e,t,i)=>{i.d(t,{_:()=>H,i:()=>z});var n=i(486106),r=i(7378),a=i(514228),s=i(763686),o=i(27355),l=i(407919),d=i(207101),c=i(169182),u=i(459490),p=i(637027),m=i(303541),h=i(929976),f=i(985254),g=i(370443),_=i(621515),x=i(956262),y=i(579169),b=i(296690),C=i(455680),v=i(84367),E=i(598018),T=i(268271),w=i(696396),j=i(455766),S=i(129046),k=i(995208),I=i(425180),N=i(858282),A=i(357367),O=i(6204),L=i(21029),R=i(28058),M=i(60023),D=i(583075),P=i(191312),F=i(680166),B=i(675859);function U(){return(0,n.jsx)(B.oW,{src:(0,c.ck)("b5ff672e289f44685a5e04d3de9f17f154fb2455"),alt:"Figma Slides carousel",width:332})}var G=i(835688);function H(){let e=(0,o.Xr)(M.VZ),t=(0,L.jY)(),i=(0,A.Bk)(),{show:a,isShowing:s,complete:l}=(0,_.e)({overlay:O.Yqi,priority:T.N.HIGH_PRIORITY_MODAL}),c=(0,r.useMemo)(()=>i?[z,V,K,W,q,Y]:[z,V,K,W,Y],[i]),{currentStep:u,next:p}=(0,x.A)({numSteps:c.length,onComplete:l}),m=r.useMemo(()=>{let a=()=>{p(),e(!0)},o=c.map((e,n)=>r.createElement(e,{onClickPrimaryCta:t||0!==n?p:a,onClickSecondaryCta:l,isShowing:s,totalSteps:i?5:4,isOnboarding:!0}));return t||o.splice(1,0,(0,n.jsx)(R.g,{})),o},[c,t,p,e,l,s,i]);return((0,d.h)(()=>{a()}),s&&m)?(0,n.jsx)(j.U,{currentStep:u,isShowing:s,children:m}):null}function z({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:i,isOnboarding:s}){let d;let _=(0,o.Xr)(M.VZ),x=(0,o.md)(y.d2),C=function(){let{getPlanAndPlanUser:e}=(0,F.wH)(),{plan:t,planUser:i}=e(P.G_.SLIDES);return t?.tier!==P.Ag.STARTER&&t?.tier!==P.Ag.STUDENT&&(i?.seatTypeLicenseTypes?.includes(P.G_.SLIDES)??!1)}(),v=(0,a.wA)(),T=x.data===w.qo.ORG,j=o.zl.get(b.Z),S=o.zl.get(E.Me),I=l.D.getState().openFile,N=!I||!I.canEdit,A=(0,c.sL)(),O=(0,u.lt)({currentOrg:j,currentTeam:S,isViewer:N}),L="/sub-processors/",R="/ssa/",D="ja"===(0,c.mm)()[0]?(0,m.tx)("slides.onboarding.welcome.title.jp"):(0,m.tx)("slides.onboarding.welcome.title");d=C?(0,m.tx)("slides.onboarding.ga.billable_seat.welcome.description"):(0,m.tx)("slides.onboarding.ga.welcome.description");let B=T?O?(0,m.tx)("slides.onboarding.welcome.org.footer.no_ai",{services_agreement:(0,n.jsx)(p.CY,{href:R,target:"_blank",trusted:!0,children:(0,m.tx)("slides.onboarding.services_agreement")})}):(0,m.tx)("slides.onboarding.welcome.org.footer.ai",{subprocessors:(0,n.jsx)(p.CY,{href:L,target:"_blank",trusted:!0,children:(0,m.tx)("slides.onboarding.subprocessors")}),services_agreement:(0,n.jsx)(p.CY,{href:R,target:"_blank",trusted:!0,children:(0,m.tx)("slides.onboarding.services_agreement")})}):O?void 0:(0,m.tx)("slides.onboarding.welcome.starter.footer",{subprocessors:(0,n.jsx)(p.CY,{href:L,target:"_blank",trusted:!0,children:(0,m.tx)("slides.onboarding.subprocessors")})});(0,r.useEffect)(()=>{s&&!A&&v?.(f.b({seen_slides_onboarding:!1}))});let G=()=>{e(),v?.(f.b({seen_slides_onboarding:!0,...!A&&{agreed_to_slides_ai_terms:!0}})),s&&_(!0)},H=()=>{if(A){G();return}v?.(h.sf({view:"recentsAndSharing"})),t()};return N?null:(0,n.jsx)(k._l,{description:(0,n.jsx)("span",{style:{whiteSpace:"pre-line"},children:d}),disclaimerFooter:A?void 0:B,isShowing:i,media:(0,n.jsx)(U,{}),onClose:H,preventUserClose:!A,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.welcome.primary_cta"),onClick:G,ctaTrackingDescriptor:g.c.NEXT},secondaryCta:A?void 0:{type:"button",label:(0,m.tx)("slides.onboarding.welcome.secondary_cta"),onClick:H,ctaTrackingDescriptor:g.c.CLOSE},title:D,trackingContextName:"Slides Onboarding > Welcome"})}function V({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:i,totalSteps:r}){let a=(0,v.ut)(s.Ez5?.singleSlideView().isInFocusedNodeView,!0);return(0,n.jsx)(I.rq,{arrowPosition:N.F_.BOTTOM,description:(0,m.tx)("slides.onboarding.new_slide.description"),isShowing:i,media:(0,n.jsx)(S.y,{src:(0,c.ck)("2811dcf7f07f10fbc8543106336765058bc83266"),alt:"slides template picker",aspectRatio:240/135}),onClose:t,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),a&&s.Ez5?.singleSlideView().exitFocusedNodeViewAndLeavePanelsOpen()},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.close"),onClick:t,ctaTrackingDescriptor:g.c.CLOSE},shouldDisableAnimation:!0,stepCounter:{stepNum:1,totalNumSteps:r},targetKey:G.MB,title:(0,m.tx)("slides.onboarding.new_slide.title"),trackingContextName:"Slides Onboarding > New Slide"})}function K({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:i,totalSteps:r}){return(0,n.jsx)(I.rq,{description:(0,m.tx)("slides.onboarding.views.description"),isShowing:i,media:(0,n.jsx)(S.y,{src:(0,c.ck)("8ad8b13cac28f9fb6eaaed9cad7c621684fadd6b"),alt:"Grid view in Slides",aspectRatio:240/135}),onClose:t,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.next"),onClick:()=>{C.Y5.triggerAction("enter-focus-view"),e()},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.close"),onClick:t,ctaTrackingDescriptor:g.c.CLOSE},shouldDisableAnimation:!0,stepCounter:{stepNum:2,totalNumSteps:r},targetKey:G.b_,title:(0,m.tx)("slides.onboarding.views.title"),trackingContextName:"Slides Onboarding > Views"})}function W({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:i,totalSteps:r}){let a=(0,A.Bk)(),o=(0,D.E)();return(0,n.jsx)(I.rq,{description:(0,m.tx)("slides.onboarding.nondesigner.tools.description"),isShowing:i,media:(0,n.jsx)(S.y,{src:(0,c.ck)("aca6af2d36ffc1a4f65a12247f598a7598a530b7"),alt:"Apps in Slides",aspectRatio:240/135}),onClose:t,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),a&&o(s.nQ7.DESIGN)},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.close"),onClick:()=>{t()},ctaTrackingDescriptor:g.c.CLOSE},shouldCenterArrow:N.EL.BEST_EFFORT,shouldDisableAnimation:!0,shouldHideArrow:!0,stepCounter:{stepNum:3,totalNumSteps:r},targetKey:G.hx,title:(0,m.tx)("slides.onboarding.nondesigner.tools.title"),trackingContextName:"Slides Onboarding > Tools"})}function q({onClickPrimaryCta:e,onClickSecondaryCta:t,isShowing:i,totalSteps:r}){let a=(0,D.E)();return(0,n.jsx)(I.rq,{description:(0,m.tx)("slides.onboarding.designer.tools.description"),isShowing:i,media:(0,n.jsx)(S.y,{src:(0,c.ck)("5064800f3f60febf8b2ad2ad8ba4efdd6167eeaa"),alt:"Design tool toggle",aspectRatio:240/135}),onClose:t,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.next"),onClick:()=>{e(),a(s.nQ7.DESIGN)},ctaTrackingDescriptor:g.c.NEXT},secondaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.close"),onClick:()=>{t()},ctaTrackingDescriptor:g.c.CLOSE},shouldCenterArrow:N.EL.BEST_EFFORT,shouldDisableAnimation:!0,shouldHideArrow:!0,stepCounter:{stepNum:4,totalNumSteps:r},targetKey:G.uy,title:(0,m.tx)("slides.onboarding.designer.tools.title"),trackingContextName:"Slides Onboarding > Design Mode"})}function Y({onClickSecondaryCta:e,isShowing:t,totalSteps:i}){return(0,n.jsx)(I.rq,{description:(0,m.tx)("slides.onboarding.share.description"),isShowing:t,media:(0,n.jsx)(S.y,{src:(0,c.ck)("a3ed241305c3e13d9ec5cab6e9a88db7572695c5"),alt:"presenter mode in Slides",aspectRatio:240/135}),onClose:e,onTargetLost:e,primaryCta:{type:"button",label:(0,m.tx)("slides.onboarding.callout.done"),onClick:e,ctaTrackingDescriptor:g.c.DONE},shouldDisableAnimation:!0,stepCounter:{stepNum:i,totalNumSteps:i},targetKey:G.J5,title:(0,m.tx)("slides.onboarding.share.title"),trackingContextName:"Slides Onboarding > Present"})}},315461:(e,t,i)=>{i.d(t,{AC:()=>h,D0:()=>_,Mp:()=>x,Z4:()=>g,sQ:()=>f,tx:()=>p,xl:()=>m});var n=i(7378),r=i(514228),a=i(763686),s=i(449184),o=i(216495),l=i(516028),d=i(889655),c=i(224338);function u(){let e=(0,l.tS)()??"",t=(0,c.Jb)()??"",i=(0,r.d4)(d.AF);return{fileKey:e,slideId:t,nodeId:i?.guid}}function p(){let e=u();return n.useCallback((t,i)=>{s.az.trackDefinedEvent("slides.modify_object_animation.type",{...e,oldValue:t,newValue:i})},[e])}function m(){let e=u();return n.useCallback((t,i)=>{s.az.trackDefinedEvent("slides.modify_object_animation.duration",{...e,oldValue:t,newValue:i})},[e])}function h(){let e=u();return n.useCallback((t,i)=>{let n=e=>void 0===e?void 0:(0,o.gl)(e)?"MIXED":e===a.luZ.TRIGGER?"TRIGGER":"AFTER_PREVIOUS";s.az.trackDefinedEvent("slides.modify_object_animation.start_condition",{...e,oldValue:n(t),newValue:n(i)})},[e])}function f(){let e=u();return n.useCallback((t,i)=>{s.az.trackDefinedEvent("slides.modify_object_animation.phase",{...e,oldValue:t,newValue:i})},[e])}function g(){let e=u();return n.useCallback(()=>{s.az.trackDefinedEvent("slides.reorder_object_animation",e)},[e])}function _(){let e=u();return n.useCallback(()=>{s.az.trackDefinedEvent("slides.delete_object_animation",e)},[e])}function x(){let e=u();return n.useCallback(t=>{s.az.trackDefinedEvent("slides.preview_object_animation",{...e,numAnimations:t})},[e])}},228612:(e,t,i)=>{i.d(t,{eB:()=>u,hT:()=>c,kP:()=>n,uc:()=>p});var n,r=i(262240),a=i(95419),s=i(165054),o=i(763686),l=i(871411),d=i(11),c=(e=>(e.SECTION_HEADER="section header",e.ANIMATION="animation",e))(c||{});function u(e){return"section header"===e.type}function p(e){return"animation"===e.type}(e=>{let t="CUSTOM_CUBIC",i=[.17,0,.2,1];function n(e,t){let i=t??(0,l.sH)(o.glU?.generateUniqueID());if(!i)throw Error("Failed to generate unique ID for object animation interaction");return{id:i,event:{interactionType:"ON_CLICK"},actions:e}}e.fromPrototypeInteractions=function(e){let n=[],r=0;for(let s of e){if(!s.id)continue;let e=s.id,l=(s.actions||[]).map(e=>"OBJECT_ANIMATION"===e.connectionType&&e.transitionNodeID&&void 0!==e.animationType&&"NONE"!==e.animationType?{connectionType:e.connectionType,transitionNodeID:e.transitionNodeID,transitionDuration:e.transitionDuration??.3,animationType:e.animationType,animationPhase:e.animationPhase??"IN",easingType:e.easingType??t,easingFunction:e.easingFunction??i}:null).filter(a.Vq);0!==l.length&&(l.forEach((t,i)=>{0===i?(n.push({type:"section header",interactionIndex:r}),n.push({type:"animation",action:t,startCondition:o.luZ.TRIGGER,interactionId:e,interactionIndex:r})):n.push({type:"animation",action:t,startCondition:o.luZ.AFTER_PREVIOUS,interactionId:e,interactionIndex:r})}),r++)}return n.length>0&&n.push({type:"section header",interactionIndex:r}),n},e.toPrototypeInteractions=function(e){let t=[],i=null;for(let c of function(e){let t=new Set,i=new Set;return e.map(e=>{if(u(e))return null;if("OBJECT_ANIMATION"!==e.action.connectionType||!e.action.transitionNodeID)return(0,d.$D)(s.e.SLIDES,Error("Invalid object animation action"),{extra:{action:e.action}}),null;let i=(0,r.Gu)(e.action.transitionNodeID);return i?t.has(i)?((0,d.$D)(s.e.SLIDES,Error("Duplicate object animation transition node ID found:"),{extra:{action:e.action}}),null):(t.add(i),e):null}).filter(a.Vq).map((e,t)=>{if(0===t&&e.startCondition!==o.luZ.TRIGGER){let t=(0,l.sH)(o.glU?.generateUniqueID());if(!t)throw Error("Failed to generate unique ID for object animation interaction");return{...e,startCondition:o.luZ.TRIGGER,interactionId:t,interactionIndex:0}}if(e.startCondition!==o.luZ.TRIGGER)return e;{let t=(0,r.Gu)(e.interactionId);if(!(!t||i.has(t)))return i.add(t),e;{let t=(0,l.sH)(o.glU?.generateUniqueID());if(!t)throw Error("Failed to generate unique ID for object animation interaction");return{...e,interactionId:t}}}})}(e))if(c.startCondition===o.luZ.TRIGGER)i=n([c.action],c.interactionId),t.push(i);else{if(!i)throw Error("Expected current interaction to be non-null");i.actions?.push(c.action)}return t},e.createBaseInteraction=n,e.createTestAction=function(e){return{connectionType:"OBJECT_ANIMATION",transitionNodeID:(0,l.sH)(e),transitionDuration:.3,animationType:"FADE",animationPhase:"IN",easingType:t,easingFunction:i}}})(n||(n={}))},367372:(e,t,i)=>{i.d(t,{E:()=>_,l:()=>x});var n=i(486106),r=i(514228),a=i(262240),s=i(860955),o=i(763686),l=i(189185),d=i(103090),c=i(8833),u=i(482208),p=i(455680),m=i(320600),h=i(315461),f=i(228612),g=i(564578);function _({boundingRect:e,selectedView:t,targetObjectAnimation:i}){let a=(0,r.wA)(),{appModel:s,sceneGraph:o,sceneGraphSelection:l}=(0,d.R)(e=>({appModel:e.mirror.appModel,sceneGraph:e.mirror.sceneGraph,sceneGraphSelection:e.mirror.sceneGraphSelection})),{slideId:u,targetNodeId:p}=i,h=y({sceneGraph:o,slideId:u,targetNodeId:p}),f={left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height,width:e.width,height:e.height};return(0,n.jsx)("div",{className:c.Dm,children:(0,n.jsx)(m.Q,{appModel:s,dispatch:a,lean:"left",menuItems:h,recordingKey:"slidesAnimationContextMenu",removeDisabledItems:!0,sceneGraph:o,sceneGraphSelection:l,selectedView:t,showPoint:!1,targetRect:f})})}function x({targetObjectAnimation:e,manager:t}){let{sceneGraph:i}=(0,d.R)(e=>({sceneGraph:e.mirror.sceneGraph})),{slideId:r,targetNodeId:a}=e,o=y({sceneGraph:i,slideId:r,targetNodeId:a});return(0,n.jsx)(s.bL,{manager:t,children:(0,n.jsx)(s.mc,{children:o.map(e=>(0,n.jsx)(s.q7,{onClick:()=>{e.callback&&e.callback()},children:(0,u.A)(e.name)},e.name))})})}function y({sceneGraph:e,slideId:t,targetNodeId:i}){let n=[],r=e.get(t),s=r?.objectAnimations??[],d=f.kP.fromPrototypeInteractions(s),c=(0,h.Z4)(),u=(0,h.D0)(),m=d.findIndex(e=>(0,f.uc)(e)&&(0,a.Gu)(e.action.transitionNodeID)===i);if(m<0)return n;let _=d[m];if(!r||!_)return n;let x=d[m-1],y=d[m+1];if(x&&(0,f.eB)(x)){let e=d[m-2];e&&(0,f.uc)(e)&&n.push({name:"slides-merge-object-animation-with-above",callback:()=>{l.l7.user("slides-merge-object-animation-with-above",()=>{let t=(0,g.Eo)(_,e,x,d);t&&(c(),r.objectAnimations=t)})}})}if(_.startCondition===o.luZ.TRIGGER&&y&&(0,f.eB)(y)){let e=d[m+2];e&&(0,f.uc)(e)&&n.push({name:"slides-merge-object-animation-with-below",callback:()=>{l.l7.user("slides-merge-object-animation-with-below",()=>{let t=(0,g.Eo)(_,y,e,d);t&&(c(),r.objectAnimations=t)})}})}return _.startCondition===o.luZ.AFTER_PREVIOUS&&(!y||(0,f.eB)(y))&&n.push({name:"slides-separate-object-animation",callback:()=>{l.l7.user("slides-separate-object-animation",()=>{let e=(0,g.zQ)(_,{type:f.hT.SECTION_HEADER,interactionIndex:_.interactionIndex+1},d);e&&(c(),r.objectAnimations=e)})}}),n.push({name:"slides-delete-object-animation",callback:()=>{l.l7.user("slides-delete-object-animation",()=>{u(),r.removeObjectAnimation(i),p.Y5.commit()})},recordingKey:"delete"}),n}},564578:(e,t,i)=>{i.d(t,{Eo:()=>c,zQ:()=>d});var n=i(382883),r=i(763686),a=i(871411),s=i(714362),o=i(228612);function l(e,t){if(!e&&!t)return!0;if(e&&t){if((0,o.uc)(e)&&(0,o.uc)(t))return(0,n.c2)(e.action.transitionNodeID,t.action.transitionNodeID);if((0,o.eB)(e)&&(0,o.eB)(t))return e.interactionIndex===t.interactionIndex}return!1}function d(e,t,i){let n=[];for(let s of i)l(s,e)||(l(s,t)?(n.push({...e,startCondition:r.luZ.TRIGGER,interactionId:a.Hr}),n.push(t)):n.push(s));let s=n.map((e,t,i)=>{let n=t-1>=0&&i[t-1]&&(0,o.eB)(i[t-1]);return(0,o.uc)(e)&&n?{...e,startCondition:r.luZ.TRIGGER}:e});return o.kP.toPrototypeInteractions(s)}function c(e,t,i,n){if(l(e,t)||l(e,i))return o.kP.toPrototypeInteractions(n);if(!function(e,t,i){let n=i.findIndex(t=>l(t,e)),r=i.findIndex(e=>l(e,t));return void 0===e&&0===r||void 0===t&&n===i.length-1||-1!==n&&-1!==r&&n+1===r}(t,i,n))return(0,s.x1)("Slides reorder object animations","prevItem and nextItem are not in the correct order",{prevItem:t,nextItem:i,oldItems:n},{reportAsSentryError:!0}),null;for(let e=0;e<n.length;e++)if(l(n[e],t)){if(!l(n[e+1],i))return null;break}let a=[];for(let s of n)l(s,e)||(t&&l(s,t)?(a.push(t),a.push({...e,startCondition:(0,o.uc)(t)?r.luZ.AFTER_PREVIOUS:r.luZ.TRIGGER})):i&&l(s,i)&&(0,o.uc)(i)?a.push({...i,startCondition:r.luZ.AFTER_PREVIOUS}):a.push(s));return o.kP.toPrototypeInteractions(a)}},172674:(e,t,i)=>{i.d(t,{$3:()=>j,Ay:()=>S,dk:()=>T,gv:()=>k,k0:()=>w});var n=i(7378),r=i(691470),a=i(316567),s=i(189185),o=i(871411),l=i(700578),d=i(27355),c=i(407919),u=i(39751),p=i(303541),m=i(302958),h=i(576487),f=i(948389),g=i(632248),_=i(862289),x=i(164260),y=i(548825);class b extends Error{constructor(){super(),this.reportToSentry=!1,this.name="SwitchedSlideError",this.type="switched_slide"}}class C extends Error{constructor(){super(),this.reportToSentry=!1,this.name="SwitchedToGridViewError",this.type="switched_to_grid_view"}}class v extends Error{constructor(){super(),this.reportToSentry=!1,this.name="NotEnoughContentError",this.type="not_enough_content"}}class E extends Error{constructor(){super(),this.reportToSentry=!1,this.name="UneditedSlideError",this.type="unedited_slide"}}let T=[b,v,E,r.G1,a.CortexErrorV2];function w(e,t){let i=function(e){if(e instanceof b)return(0,p.t)("slides.speaker_notes.error.switched-slides");if(e instanceof C)return(0,p.t)("slides.speaker_notes.error.switched-to-grid-view");if(e instanceof v)return(0,p.t)("slides.speaker_notes.error.add-more-content");if(e instanceof E)return(0,p.t)("slides.speaker_notes.error.unmodified_slide");if(!(e instanceof r.G1||e instanceof a.CortexErrorV2))return(0,p.t)("slides.speaker_notes.error.default");if(e instanceof a.PayloadTooLargeError)return(0,p.t)("slides.speaker_notes.error.payload_too_large");let t={offline:(0,p.t)("slides.speaker_notes.error.connection"),rate_limit_exceeded:(0,p.t)("slides.speaker_notes.error.rate_limit"),text_tool_no_text:(0,p.t)("slides.speaker_notes.error.add-more-content"),content_length_limit_exceeded:(0,p.t)("slides.speaker_notes.error.token_limit"),payload_too_large:(0,p.t)("slides.speaker_notes.error.payload_too_large"),unsafe_or_harmful_content:(0,p.t)("slides.speaker_notes.error.inappropriate_input"),service_issue:(0,p.t)("slides.speaker_notes.error.openai_down"),ai_opt_out_error:(0,p.t)("slides.speaker_notes.error.opt_out"),unauthorized:(0,p.t)("slides.speaker_notes.error.default"),generic:(0,p.t)("slides.speaker_notes.error.default"),not_implemented:(0,p.t)("ai.error.not_implemented")};if((0,f._0)(e)){let t=(0,f.PI)(e);return t?(0,p.t)("slides.speaker_notes.error.meter_limit",{resetDate:t}):(0,p.t)("slides.speaker_notes.error.rate_limit")}return t[function(e){if(e instanceof a.CortexErrorV2){if(a.ClientContentLengthLimitExceededError.isInstance(e)||a.ProviderContentLengthLimitExceededError.isInstance(e))return"content_length_limit_exceeded";if(a.MeterExceededError.isInstance(e))return"meter_exceeded";if(a.ProviderRateLimitExceededError.isInstance(e)||a.ProviderOverloadedError.isInstance(e)||a.CortexRateLimitExceededError.isInstance(e))return"rate_limit_exceeded";if(a.ClientNoTextSelectedError.isInstance(e))return"text_tool_no_text";else if(a.ProviderServiceIssueError.isInstance(e)||a.ProviderServiceBusyError.isInstance(e))return"service_issue";else if(a.OfflineError.isInstance(e))return"offline";else if(a.UnsafeOrHarmfulPromptError.isInstance(e)||a.ProviderUnsafeOrHarmfulContentError.isInstance(e))return"unsafe_or_harmful_content";else if(a.UnauthorizedError.isInstance(e))return"unauthorized";else if(a.NotImplementedError.isInstance(e))return"not_implemented";else if(e?.statusCode===404)return"service_issue";else if(e?.statusCode===429||e?.statusCode===529)return"rate_limit_exceeded";else if(e?.statusCode===403)return"ai_opt_out_error"}else if(e instanceof r.G1)switch(e.type){case"content_length_limit_exceeded":case"payload_too_large":case"meter_exceeded":case"rate_limit_exceeded":case"text_tool_no_text":case"service_issue":case"offline":case"unsafe_or_harmful_content":case"ai_opt_out_error":case"unauthorized":return e.type;case"generic":switch(e.data?.status){case 404:return"service_issue";case 429:return"rate_limit_exceeded";case 403:return"ai_opt_out_error"}}return"generic"}(e)]||(0,p.t)("slides.speaker_notes.error.default")}(e),n=function(e){switch(e.type){case"meter_exceeded":case"content_length_limit_exceeded":case"payload_too_large":case"service_issue":case"ai_opt_out_error":case"unsafe_or_harmful_content":case"switched_slide":case"switched_to_grid_view":case"not_enough_content":case"unedited_slide":return!1;default:return!0}}(e);c.D.dispatch(m.F.enqueue({icon:h.zX.CLOSE_FILLED,message:i,type:"speaker-notes-visual-bell",button:n&&t?{text:(0,p.t)("slides.speaker_notes.draft_again"),action:()=>t()}:void 0,onDismiss:()=>{}}))}function j(e){let t=(0,l.UN)().get(e);if(t&&t.editInfo&&t?.editInfo?.createdAt===t?.editInfo?.lastEditedAt)throw new E}function S(e){if(0===e.length)throw new v}function k(e,t){let i=(0,u.ZC)(e),r=i!==e&&(0,o.fn)((0,o.sH)(e))&&(0,o.fn)((0,o.sH)(i)),a=(0,u.ZC)(t)!==t&&!t;(0,n.useEffect)(()=>{(0,_.pP)(g.JT.SLIDES_GENERATE_SPEAKER_NOTES).state===_.qy.RUNNING&&i&&(r?I(new b,i):a&&I(new C,i))},[a,r,i])}function I(e,t){(0,_.cT)(g.JT.SLIDES_GENERATE_SPEAKER_NOTES),w(e);let i=d.zl.get(x.TD);if(t&&i){let e=JSON.stringify(i.toJSON());s.l7.ai("generate-slide-speaker-notes",()=>{(0,y.lq)(t,e)})}}},301359:(e,t,i)=>{i.d(t,{O:()=>E});var n=i(165054),r=i(763686),a=i(700578),s=i(601108),o=i(27355),l=i(407919),d=i(11),c=i(456871),u=i(432652),p=i(948389),m=i(455680),h=i(632248),f=i(862289),g=i(297822),_=i(164260),x=i(509285),y=i(172674),b=i(391621),C=i(548825);let v=e=>{let t=(0,c.mz)(),i=(0,a.UN)().get(e);if(!i)return t;let n=i.absoluteTransform.m12,r=i.absoluteBoundingBox.h,s=.1*r,o=n+s,l=n+r-s;return t.filter(e=>(0,C.O)(e,24,o,l))},E=async({params:e,abortController:t,clientLifecycleId:i})=>{let{source:a}=e,c=l.D.getState().openFile?.key,T=o.zl.get(_.ed),w=o.zl.get(_.hD);if(!w){(0,d.$D)(n.e.AI_PRODUCTIVITY,Error("Editor is null when trying to generate speaker notes"));return}let j=w.getEditorState();o.zl.set(_.TD,j);let S=(r.Ez5?.editorPreferences().speakerNotesHeight.getCopy()??0)===0;(0,b.x)({eventName:"started",fileKey:c,slideId:T,source:a});let k=!1;try{let e;(0,y.$3)(T),r.Ez5?.singleSlideView()&&S&&(0,C.ud)(r.CNR?.initialSpeakerNotesHeightInViewport()??0),w.setEditorState(w.getEditorState());let n={...(0,p.Ay)(),clientLifecycleId:i},a=v(T);(0,y.Ay)(a),(0,C.gH)();let o=a.map(e=>({text:e.characters,x:e.absoluteTransform.m02,y:e.absoluteTransform.m12}));(0,s.k)().figjam_ai_piper_speaker_notes_image_filtering?(0,x.yU)(T)&&(e=await (0,C.Yu)(T),k=!0):(e=await (0,C.Yu)(T),k=!0);let l={texts:o,image:e},d=await u.Ay.slides.speakerNotes(l,n),h=new u.c6(d);if(t.signal.aborted){(0,b.x)({eventName:"stopped",fileKey:c,slideId:T,imageIncluded:k});return}let f="";for await(let e of h){if(t.signal.aborted){(0,b.x)({eventName:"stopped",fileKey:c,slideId:T,imageIncluded:k});return}f+=e.delta,(f=f.replace(/(.) -/g,"$1\n -")).length>0&&(0,C.hp)(f,"history-merge")}m.Y5.commit(),(0,b.x)({eventName:"finished",fileKey:c,slideId:T,imageIncluded:k});return}catch(e){w.setEditorState(j),(0,y.k0)(e,()=>{(function(){let e=b.f.TRY_AGAIN;o.zl.set(g.zF,e),(0,f.B3)(h.JT.SLIDES_GENERATE_SPEAKER_NOTES),(0,f.Ag)(h.JT.SLIDES_GENERATE_SPEAKER_NOTES,E,{source:e})})()}),(0,b.x)({eventName:"failed",fileKey:c,slideId:T,imageIncluded:k,errorType:e.type||e.marker}),(0,f.cT)(h.JT.SLIDES_GENERATE_SPEAKER_NOTES),y.dk.some(t=>e instanceof t)||(0,d.$D)(n.e.AI_PRODUCTIVITY,Error(`Unexpected error encountered while generating speaker notes: ${e.message}`));return}}},391621:(e,t,i)=>{i.d(t,{f:()=>r,x:()=>a});var n=i(449184),r=(e=>(e.QUICK_ACTIONS="quick_actions",e.EDITOR_PLACEHOLDER="editor_placeholder",e.TRY_AGAIN="try_again",e))(r||{});function a(e){(0,n.sx)("slides_generate_speaker_notes_event",e)}},548825:(e,t,i)=>{i.d(t,{B_:()=>b,Hk:()=>v,O:()=>T,Yu:()=>w,ap:()=>y,gH:()=>x,hp:()=>g,k8:()=>C,lq:()=>_,ud:()=>E});var n=i(7378),r=i(165054),a=i(763686),s=i(163822),o=i(700578),l=i(693164),d=i(463802),c=i(27355),u=i(408361),p=i(714362),m=i(632248),h=i(862289),f=i(164260);function g(e,t="history-push"){let i=c.zl.get(f.hD);i&&i.update(()=>{(0,l.Wn)(e,[l.mK,l.NB])},{tag:t})}function _(e,t){let i=(0,o.UN)().get(e);if(i)try{i.slideSpeakerNotes=t}catch(e){(0,p.x1)(r.e.SLIDES,"Failed to set slide speaker notes",{error:e})}}function x(){let e=c.zl.get(f.hD);e&&e.dispatchCommand(u.SK,void 0)}function y(){let[e]=(0,d.DF)(),t=(0,c.Xr)(f.hD);return(0,n.useEffect)(()=>{t(e)},[e,t]),null}function b(){let[e]=(0,d.DF)(),t=C();return(0,n.useEffect)(()=>{t?e.setEditable(!1):e.setEditable(!0)},[e,t]),null}function C(){return(0,h.wj)(m.JT.SLIDES_GENERATE_SPEAKER_NOTES).state===h.qy.RUNNING}function v(){a.Ez5?.editorPreferences().speakerNotesHeight.set(0)}function E(e){a.Ez5?.editorPreferences().speakerNotesHeight.set(e)}function T(e,t,i,n){let r=e.absoluteTransform.m12>i&&e.absoluteTransform.m12+e.absoluteBoundingBox.h<n,a=e.fontSize>t;return e.visible&&(a||r)}async function w(e){let t=(0,o.UN)().get(e);if(t)return await (0,s.v)(t)}},764386:(e,t,i)=>{i.d(t,{q:()=>iu});var n,r=i(486106),a=i(7378),s=i(27355),o=i(622574),l=i(60023),d=i(536384),c=i.n(d),u=i(169182),p=i(347284),m=i(589278),h=i(303541),f=i(516028),g=i(236102),_=i(162641),x=i(553488),y=i(396421),b=i(514228),C=i(934246),v=i(632989),E=i(763686),T=i(189185),w=i(716947),j=i(556482),S=i(736624),k=i(675859),I=i(858013),N=i(412913),A=i(753501),O=i(314264),L=i(973927),R=i(524117),M=i(523935),D=i(838765),P=i(566312),F=i(164260),B=i(938408);let U=(0,N.f)();function G({module:e,...t}){let i=(0,y.r$)(),n=(0,s.Xr)(l.VZ),o=(0,s.Xr)(l.Ei),d=(0,s.md)(F.v2),u=(0,f.tS)(),p=(0,b.wA)(),h="insert-slide-module",g=(0,B.D)(e.library_key),_=T.nc.user(h,(t,n,r)=>{(0,x.CH)({module:e,viewType:i,getGridCoord:E.Ez5?.getInsertGridCoord??(()=>({row:0,col:0})),dispatch:p,subscribeToLibrary:g})(t,n,r)}),{onInsertableResourcePointerDown:C,dragState:v}=(0,M.j)({resource:e,isList:!1,sourceForTracking:"slides-templates-panel",clickToInsert_DEPRECATED:!0,insertAsChildOfCanvas:!0,insertionCallback:_,afterSuccessfulInsert:()=>{o(!1),n(!1)},selectAfterInsert:!1}),w=T.nc.user(h,C),j=a.useMemo(()=>d?new S.Mi(E.CNR?.singleSlideThumbnailWidth()??0,E.CNR?.singleSlideThumbnailHeight()??0):void 0,[d]);return(0,r.jsxs)("div",{className:c()(m.s.flex.alignCenter.justifyCenter.gap8.$,{"slides_template_tile--moduleCoverCardPicker--IvByg slides_template_tile--_moduleCoverCard--6hqG0 slides_template_tile--moduleCoverCardPickerSize--AAEPk":i===x.Ji.PICKER||i===x.Ji.OUTLINE_TO_DECK,"slides_template_tile--moduleCoverCardModal--llMPw slides_template_tile--_moduleCoverCard--6hqG0 slides_template_tile--moduleCoverCardModalSize--1-jSe":i===x.Ji.OVERLAY_MODAL,"slides_template_tile--gridViewHover--dEaa-":!d}),children:[(0,r.jsx)(R.q,{dragState:i===x.Ji.PICKER?v:null,isList:!1,overrideDragPreviewSize:j}),(0,r.jsx)(H,{thumbnailUrl:e.thumbnail_url,onPointerDown:t=>{w(t),(0,O.Cu)({moduleId:e.id,moduleFileKey:U(e),fileKey:u,name:"slide_template_tile",productType:"slides"})},"aria-label":t["aria-label"]},e.node_id)]})}function H({name:e,thumbnailUrl:t,thumbnailWidth:i,thumbnailHeight:n,onPointerDown:a,showLoadingSpinner:s=!1,disabled:o=!1,removeBorder:l=!1,...d}){return(0,r.jsxs)(v.E,{className:c()(m.s.flex.flexColumn.itemsStart.hFull.wFull.$,"slides_template_tile--tileFocusable--MRUA5"),onClick:o?void 0:a,actionOnPointerDown:!0,"aria-label":d["aria-label"],htmlAttributes:{"data-testid":"insertableSlideTile"},children:[(0,r.jsxs)("div",{...j.Ay.props(q.tile,!l&&q.tileBorder),style:{width:i??"100%",height:n??"100%"},children:[s&&(0,r.jsx)(I.kt,{className:"slides_template_tile--loadingSpinner--i0gem"}),(0,r.jsx)(k.oW,{onDragStart:A.wo,className:"slides_template_tile--tileImage--xQ9Rj",src:t,alt:e,loading:"lazy"})]}),e&&(0,r.jsx)("div",{className:m.s.font11.fontInter.colorTextSecondary.$,children:e})]})}function z({text:e,dataTestId:t,onPointerDown:i,imageContainerContent:n,additionalClassname:a,showSelectedState:o=!1}){let d=(0,y.r$)(),u=(0,s.md)(l.bY);return(0,r.jsx)("div",{"data-testid":t,className:c()(m.s.p8.$,a),children:(0,r.jsx)(D.sU,{image:(0,r.jsx)("div",{onPointerDown:i,children:(0,r.jsx)(D.WM,{className:c()({"slides_template_tile--templateCoverCardLarge--aUi8S slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardLargeSize--lWeyZ":d===x.Ji.PICKER||d===x.Ji.OUTLINE_TO_DECK,"slides_template_tile--templateCoverCardMedium--D1xOJ slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardMediumSize--dZ4FH":d===x.Ji.OVERLAY_MODAL,"slides_template_tile--templateCoverCardExtraLarge--9llOJ slides_template_tile--_templateCoverCard--owOUm slides_template_tile--templateCoverCardExtraLargeSize---WVL9":u.type===l.Vf.TEMPLATE_PICKER,"slides_template_tile--selectedTemplateTile---grt1":o}),removeBorder:!0,backgroundColor:"none",children:n})}),bottomRow:(0,r.jsx)(D.dY.MetadataContainer,{children:(0,r.jsx)(D.dY.TextMetadataLayout,{onClick:i,primaryText:(0,r.jsx)("div",{className:m.s.font11.colorText.ellipsis.overflowHidden.$,children:e})})}),bottomRowClassName:c()({"slides_template_tile--templateCoverBottomRowLarge--jYVZ6":d===x.Ji.PICKER||d===x.Ji.OUTLINE_TO_DECK,"slides_template_tile--templateCoverBottomRowMedium--jnOVs":d===x.Ji.OVERLAY_MODAL})})})}function V({template:e}){return(0,s.md)(l.bY).type===l.Vf.TEMPLATE_PICKER?(0,r.jsx)(K,{template:e}):(0,r.jsx)(W,{template:e})}function K({template:e}){let{name:t,imageUrl:i,libraryKey:n}=(0,L.fG)()(e),[a,o]=(0,s.fp)(l.ux);if(!n)return null;let d=()=>o((0,w.l)(n));return(0,r.jsx)(z,{text:t,dataTestId:"slidesTemplateCoverTile",onPointerDown:d,imageContainerContent:(0,r.jsx)(H,{thumbnailUrl:i,onPointerDown:d,removeBorder:a===(0,w.l)(n)},t),additionalClassname:"slides_template_tile--hoverableTemplateTile--meERX",showSelectedState:a===(0,w.l)(n)})}function W({template:e}){let{name:t,imageUrl:i,libraryKey:n}=(0,L.fG)()(e),a=(0,s.Xr)(l.bY),o=(0,y.r$)(),d=(0,s.md)(l.bY),c=(0,g.JY)(),u=(0,s.Xr)(l.DM);if(!n)return null;let p=e=>{e.stopPropagation(),n&&((0,O.Cu)({fileKey:n,name:"template_cover_tile",productType:"slides"}),o===x.Ji.OUTLINE_TO_DECK?(c.setTemplateLibraryKey((0,w.l)(n)),u(!1)):a({type:l.Vf.TEMPLATE,libraryKey:n,parentView:d}))},m=o===x.Ji.OUTLINE_TO_DECK?"Select template":(0,h.tx)("slides.templates.view_template");return(0,r.jsx)(z,{text:t,dataTestId:"slidesTemplateCoverTile",onPointerDown:p,imageContainerContent:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(D.Wh.Cover,{children:(0,r.jsx)("div",{className:"slides_template_tile--hoverOverlay--m7upM"})}),(0,r.jsx)(D.Wh.Center,{children:(0,r.jsx)(P.i,{insertTemplate:C.lQ,isInsertingTemplate:!1,shouldUseOpaqueBackground:!0,children:m})}),(0,r.jsx)(H,{thumbnailUrl:i,onPointerDown:p},t)]})})}let q={tile:{display:"x78zum5",position:"x1n2onr6",overflow:"xb3r6kr",overflowX:null,overflowY:null,justifyContent:"xl56j7k",alignItems:"x6s0dn4",$$css:!0},tileBorder:{boxSizing:"x9f619",border:"xqvp088",borderWidth:null,borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:null,borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,borderColor:null,borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,borderRadius:"x1sxf85j",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,$$css:!0}};function Y({modules:e}){let{onShowSeparatorScroll:t}=(0,y.gH)();if(!e.length)return null;let i=e[0].library_key;return(0,r.jsx)(p.P,{className:m.s.px16.hFull.$,onScroll:t,children:(0,r.jsx)(Z,{children:e.map((t,i)=>(0,r.jsx)(G,{module:t,"aria-label":(0,h.t)("slides.templates.template_picker.slide_button.aria_label",{index:i+1,total:e.length})},t.id))},i)})}function X({children:e}){return(0,r.jsx)("div",{className:m.s.flex.flexWrap.pb8.gap0.$,children:e})}function J({title:e,children:t,rightHeaderCta:i}){let n=e||!!i;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:c()({[m.s.flex.justifyBetween.alignLeft.itemsCenter.pt16.pb8.px8.$]:n}),children:[e&&(0,r.jsx)("div",{className:m.s.font13.colorText.fontSemiBold.fontInter.noWrap.overflowHidden.ellipsis.pr4.$,children:e}),i]}),(0,r.jsx)(X,{children:t})]})}function Z({children:e}){return(0,r.jsx)("div",{className:m.s.flex.flexWrap.pb16.gap8.$,children:e})}var Q=i(148230);let $="loading_state--container--ouiBF";function ee(){let e=(0,y.r$)(),t=(0,s.md)(l.bY),i=c()({"slides_template_tile--templateCoverCardMediumSize--dZ4FH":e===x.Ji.OVERLAY_MODAL,"slides_template_tile--templateCoverCardLargeSize--lWeyZ":e===x.Ji.PICKER||e===x.Ji.OUTLINE_TO_DECK,"slides_template_tile--templateCoverCardExtraLargeSize---WVL9":t.type===l.Vf.TEMPLATE_PICKER},m.s.m8.$);return(0,r.jsx)(_.Qp,{className:i,animationType:_.JR.LIGHT_SHIMMER})}function et(){let e=(0,y.r$)(),t=c()({"slides_template_tile--moduleCoverCardPickerSize--AAEPk":e===x.Ji.PICKER||e===x.Ji.OUTLINE_TO_DECK,"slides_template_tile--moduleCoverCardModalSize--1-jSe":e===x.Ji.OVERLAY_MODAL});return(0,r.jsx)(_.Qp,{className:t,animationType:_.JR.LIGHT_SHIMMER})}function ei(){return(0,r.jsx)(_.Qp,{className:c()("loading_state--title--YIpQO",m.s.m8.$),animationType:_.JR.LIGHT_SHIMMER})}function en({removePadding:e=!1,numSections:t=3,numTemplates:i}){let n=(0,s.md)(l.bY).type===l.Vf.TEMPLATE_PICKER?3:4;return(0,r.jsx)("div",{className:c()("loading_state--loadingStateContainer--dcv3D",{[m.s.px8.$]:!e}),children:Array.from({length:t}).map(()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ei,{}),(0,r.jsx)(X,{children:Array.from({length:i??n}).map((e,t)=>(0,r.jsxs)("div",{className:m.s.flex.flexColumn.$,children:[(0,r.jsx)(ee,{}),(0,r.jsx)(_.Wi,{className:m.s.h16.mx8.w100.$,animationType:_.JR.LIGHT_SHIMMER})]},t))})]}))})}function er(){return(0,r.jsx)("div",{className:$,children:(0,r.jsx)(X,{children:Array.from({length:14}).map((e,t)=>(0,r.jsx)(ee,{},t))})})}function ea(){return(0,r.jsx)("div",{className:$,children:(0,r.jsx)(Z,{children:Array.from({length:16}).map((e,t)=>(0,r.jsx)(et,{},t))})})}function es(){return(0,r.jsxs)("div",{className:c()(Q.Vg,m.s.px16.pb16.pt8.gap16.overflowHidden.hFull.$),children:[(0,r.jsx)(eo,{}),(0,r.jsx)(eo,{}),(0,r.jsx)(eo,{}),(0,r.jsx)(eo,{}),(0,r.jsx)(eo,{}),(0,r.jsx)(eo,{}),(0,r.jsx)(eo,{}),(0,r.jsx)(eo,{}),(0,r.jsx)(eo,{}),(0,r.jsx)(eo,{}),(0,r.jsx)(eo,{})]})}function eo(){return(0,r.jsxs)("div",{className:m.s.flex.flexColumn.gap4.$,children:[(0,r.jsx)(_.Qp,{className:"loading_state--file--g4dxg",animationType:_.JR.LIGHT_SHIMMER}),(0,r.jsx)(_.Wi,{className:"loading_state--fileTitle--ATrhd",animationType:_.JR.LIGHT_SHIMMER}),(0,r.jsx)(_.Wi,{className:"loading_state--fileSubtitle--9Lkb7",animationType:_.JR.LIGHT_SHIMMER})]})}function el({children:e,dataTestId:t}){return(0,r.jsx)("div",{className:m.s.flex.flexColumn.hFull.$,"data-testid":t,children:e})}var ed=i(563413),ec=i(443068),eu=i(704296);function ep({onClick:e}){return(0,r.jsx)(ec.K,{"aria-label":(0,h.t)("common.close"),onClick:e,children:(0,r.jsx)(eu.L,{})})}function em({searchQuery:e,setSearchQuery:t,showCloseButton:i,placeholder:n}){let{canDismiss:a,maybeUseLightTemplateOnDismiss:s}=(0,y.vN)();return(0,r.jsxs)("div",{className:m.s.flex.flexRow.itemsCenter.pl8.pr12.py8.gap12.$,children:[(0,r.jsx)(ed.IW,{className:c()(Q.ON,m.s.wFull.borderBox.bRadius6.colorBgSecondary.$),query:e,clearSearch:()=>t(""),onChange:t,placeholder:n,focusOnMount:!0,withSmallXIcon:!0}),i&&a&&(0,r.jsx)(ep,{onClick:s})]})}function eh({searchQuery:e,setSearchQuery:t,onBack:i,showCloseButton:n,placeholder:a}){let{canDismiss:s,maybeUseLightTemplateOnDismiss:o}=(0,y.vN)();return(0,r.jsxs)("div",{className:c()(m.s.flex.flexRow.itemsCenter.pl8.pr12.py8.gap12.$),children:[(0,r.jsx)(ed.RE,{className:c()(Q.ON,m.s.wFull.borderBox.bRadius6.colorBgSecondary.$),query:e,clearSearch:()=>t(""),onChange:t,onBack:i,placeholder:a,focusOnMount:!0,withSmallXIcon:!0}),n&&s&&(0,r.jsx)(ep,{onClick:o})]})}function ef({icon:e,title:t,subtitle:i}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:m.s.flex.flexRow.gap6.lh24.itemsCenter.$,children:[e,(0,r.jsx)("h1",{className:m.s.colorText.fontInter.font14.fontNormal.fontSemiBold.spacingCompact.$,children:t})]}),(0,r.jsx)("h2",{className:m.s.colorTextSecondary.textBodyMedium.$,children:i})]})}function eg({closePicker:e}){let t=t=>{T.l7.user("create-new-slide-with-default-theme",()=>{E.Ez5?.slideThemeLibBindings().insertDefaultLocalTheme(t,null)}),e()};return(0,r.jsxs)(J,{title:(0,h.t)("slides.templates.dev_environment_only"),children:[(0,r.jsx)(H,{thumbnailWidth:"184px",thumbnailHeight:"101px",name:(0,h.t)("slides.templates.light"),thumbnailUrl:(0,u.ck)("4a01804a5d4ad3a2d38ea604c0d8d63520e9b97b"),onPointerDown:()=>t(E.zMY.LIGHT)},"light"),(0,r.jsx)(H,{thumbnailWidth:"184px",thumbnailHeight:"101px",name:(0,h.t)("slides.templates.dark"),thumbnailUrl:(0,u.ck)("01a1fc814ce18d9da3ba738aef79acc82c752ab7"),onPointerDown:()=>t(E.zMY.DARK)},"dark")]})}var e_=i(822011),ex=i(149844);let ey=(0,a.memo)(function(e){return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5 6h14a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1M3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-1.982l.945 2.31a.5.5 0 0 1-.926.38l-1.1-2.69H8.063l-1.1 2.69a.5.5 0 1 1-.926-.379L6.982 17H5a2 2 0 0 1-2-2zm4.7 3.2.315-1.26c.126-.505.844-.505.97 0L9.3 10.2l1.26.315c.505.126.505.844 0 .97L9.3 11.8l-.315 1.26c-.126.505-.844.505-.97 0L7.7 11.8l-1.26-.315c-.505-.126-.505-.844 0-.97zM12.5 9a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var eb=i(220026),eC=i(601108),ev=i(687265),eE=i(831799);function eT({buttons:e,editorType:t,wrapperStyle:i}){let n=2===e.length?ej.twoColumnGrid:ej.threeColumnGrid;return(0,r.jsx)("div",{...j.xk(ej.startFromRowWrapper,n,i),children:e.map(e=>(0,r.jsx)(eE.fu,{name:`${t}_template_start_from_button.${e.id}`,children:(0,r.jsx)(ew,{onClick:e.onClick,title:e.title,subtitle:e.subtitle,icon:e.icon,buttonStyle:e.buttonStyle,iconStyle:e.iconStyle,dataTestId:e.dataTestId,editorType:t,id:e.id})},e.id))})}function ew({onClick:e,title:t,subtitle:i,icon:n,buttonStyle:a,iconStyle:s,dataTestId:o,editorType:l,id:d}){let c=(e=>{if("dashedBorder"===e)return ej.dashedBorder})(a),u=(e=>{switch(e){case"startFromOutlineIcon":return ej.startFromOutlineIcon;case"startFromScratchIcon":return ej.startFromScratchIcon;case"makeATemplate":return ej.makeATemplate;default:return}})(s);return(0,r.jsxs)("button",{...j.xk(ej.startFromRowButton,c&&c),onClick:()=>{(0,O.Cu)({name:`${l}.templates.${d}`,triggeredFrom:`${l}_template_modal`}),e()},"data-testid":o,children:[(0,r.jsx)("span",{...j.xk(u&&u),children:n}),(0,r.jsxs)("div",{className:"x78zum5 xdt5ytf x1cy8zhl",children:[(0,r.jsx)("p",{...j.xk(ej.titleText),children:t}),(0,r.jsx)("p",{...j.xk(ej.subtitleText),children:i})]})]})}let ej={startFromRowWrapper:{display:"xrvj5dj",gap:"x1i71x30",rowGap:null,columnGap:null,gridAutoFlow:"x1mt1orb",$$css:!0},threeColumnGrid:{gridTemplateColumns:"x1wlfl8j",$$css:!0},twoColumnGrid:{gridTemplateColumns:"x1p9eum2",$$css:!0},startFromRowButton:{display:"x78zum5",flexDirection:"x1q0g3np",alignItems:"x6s0dn4",borderRadius:"x19y5rnk",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,borderWidth:"xmkeg23",borderInlineWidth:null,borderInlineStartWidth:null,borderLeftWidth:null,borderInlineEndWidth:null,borderRightWidth:null,borderBlockWidth:null,borderTopWidth:null,borderBottomWidth:null,borderStyle:"x1y0btm7",borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,boxSizing:"x9f619",padding:"x1hslx8c",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,gap:"x1pulhmw",rowGap:null,columnGap:null,minHeight:"xbktkl8",height:"xg7h5cd",backgroundColor:"xjbqb8w x14m9vh9",borderColor:"x7z60cl xmmimuq",borderInlineColor:null,borderInlineStartColor:null,borderLeftColor:null,borderInlineEndColor:null,borderRightColor:null,borderBlockColor:null,borderTopColor:null,borderBottomColor:null,cursor:"x1ypdohk","--outline-color":"x15hx6y6 xgmft2d","--icon-bg-color":"x1rpdmm6 x18dr77","--icon-color":"xmeeen6 x1wrqvno",$$css:!0},dashedBorder:{borderStyle:"xbsl7fq",borderInlineStyle:null,borderInlineStartStyle:null,borderLeftStyle:null,borderInlineEndStyle:null,borderRightStyle:null,borderBlockStyle:null,borderTopStyle:null,borderBottomStyle:null,$$css:!0},startFromOutlineIcon:{"--color-icon":"x199ijdt",$$css:!0},startFromScratchIcon:{borderRadius:"x1d36bvo",borderStartStartRadius:null,borderStartEndRadius:null,borderEndStartRadius:null,borderEndEndRadius:null,borderTopLeftRadius:null,borderTopRightRadius:null,borderBottomLeftRadius:null,borderBottomRightRadius:null,backgroundColor:"x1ma37q9","--color-icon":"xq7bfzs",$$css:!0},makeATemplate:{"--color-icon":"x199ijdt",$$css:!0},titleText:{...ev.g.textBodyMediumStrong,color:"x1akne3o",margin:"x1ghz6dp",marginInline:null,marginInlineStart:null,marginLeft:null,marginInlineEnd:null,marginRight:null,marginBlock:null,marginTop:null,marginBottom:null,$$css:!0},subtitleText:{...ev.g.textBodyMedium,color:"x1n0bwc9",margin:"x1ghz6dp",marginInline:null,marginInlineStart:null,marginLeft:null,marginInlineEnd:null,marginRight:null,marginBlock:null,marginTop:null,marginBottom:null,$$css:!0}};var eS=i(29287);function ek({onStartFromFigJamSelected:e,onStartFromTextOutlineSelected:t}){let{isCreateSlidesOutlineEnabled:i}=(0,eS.mp)(),{canDismiss:n,maybeUseLightTemplateOnDismiss:s}=(0,y.vN)(),{setUserDraftTemplateKeyForCurrentFile:l}=(0,y.Iv)(),d=(0,o.J3)(),c=(0,o.JU)(d),u=(0,a.useMemo)(()=>{let a=[];return(n&&a.push({id:"start_from_scratch",onClick:s,icon:(0,r.jsx)(ex.e,{}),title:(0,h.t)("slides.templates.start_from.scratch.title"),subtitle:(0,h.t)("slides.templates.start_from.scratch.subtitle"),buttonStyle:"dashedBorder",iconStyle:"startFromScratchIcon",dataTestId:"start-from-scratch"}),(0,eC.k)().piper_outline_to_deck?a.push({id:"outline_to_deck",onClick:t,icon:(0,r.jsx)(ey,{}),title:(0,h.t)("slides.templates.start_from.outline.title"),subtitle:"Generate deck from outline",iconStyle:"startFromOutlineIcon",dataTestId:"outline-to-deck"}):i&&a.push({id:"start_from_outline",onClick:e,icon:(0,r.jsx)(ey,{}),title:(0,h.t)("slides.templates.start_from.outline.title"),subtitle:(0,h.t)("slides.templates.start_from.outline.subtitle"),iconStyle:"startFromOutlineIcon",dataTestId:"start-from-outline"}),c&&a.push({id:"make_a_template",onClick:()=>{s(),l()},icon:(0,r.jsx)(eb.Q,{}),title:(0,h.t)("slides.templates.make_a_template.title"),subtitle:(0,h.t)("slides.templates.make_a_template.subtitle"),iconStyle:"makeATemplate",dataTestId:"make-a-template"}),1===a.length&&a[0]?.id==="start_from_scratch")?[]:a},[n,i,s,e,t,c,l]);return(0,r.jsx)(eT,{buttons:u,editorType:e_._YF.SLIDES,wrapperStyle:eI.wrapper})}let eI={wrapper:{paddingTop:"x1vi7shn",paddingLeft:"x8rdmch",paddingRight:"xctkrei",paddingInlineStart:null,paddingInlineEnd:null,$$css:!0}};var eN=i(521428),eA=i(525001),eO=i(566371),eL=i(106207),eR=i(191312),eM=i(18797),eD=i(84367),eP=i(190980),eF=i(79930),eB=i(862883),eU=i(381612),eG=i(861982);function eH({onSeeAllClick:e}){return(0,r.jsx)("button",{className:c()("see_all_button--seeAllButton--TAlLw",m.s.font11.fontMedium.fontInter.flexShrink0.$),onClick:e,children:(0,h.tx)("slides.templates.view_type.see_all")})}var ez=i(460441);function eV({currentTeam:e}){let t=(0,y.fK)(),i=(0,eA.Xr)(l.bY),{teamTemplates:n,numTemplatesForTeam:a}=(0,o.wv)(eR._Y.SLIDES,t);if(!n||0===n.length)return null;let s=(a??0)>t;return(0,r.jsx)(eY,{title:(0,h.tx)("slides.templates.template_picker.header_with_name",{orgOrTeamName:e.name}),previewData:n,onSeeAllClick:s?()=>i({type:l.Vf.TEAM,teamId:e.id,displayName:e.name}):void 0})}function eK({currentOrg:e}){let t=(0,y.fK)(),{teamTemplates:i,isLoading:n}=(0,o.wv)(eR._Y.SLIDES,t),a=(0,eA.Xr)(l.bY),s=i&&i.length>=t;if(n||!i||!i.length||!t)return null;let d=s?()=>a({type:l.Vf.ORG}):void 0;return(0,r.jsx)(eY,{title:(0,h.tx)("slides.templates.theme_picker.org_template_header",{orgName:e.name}),previewData:i,onSeeAllClick:d})}function eW(){let[{data:e,status:t}]=(0,eO.IT)((0,ez._)()),i=(0,eA.Xr)(l.bY),n=(0,y.fK)();return"loading"===t?(0,r.jsx)(en,{removePadding:!0,numSections:2}):e&&0!==e.length?(0,r.jsx)(r.Fragment,{children:e.map(e=>{let t=e.shelf_content.map(t=>({type:eF.n.HubFile,template:t,category:e.id})),a=t.slice(0,n);return 0===a.length?null:(0,r.jsx)(eY,{title:(0,h.Yd)(e.i18n_meta.title,e.title),previewData:a,onSeeAllClick:t.length>n?()=>i({type:l.Vf.HUB_FILE,shelfId:e.id}):void 0},e.id)})}):null}function eq(){let e=(0,eL.eE)(eB.$A.Slides),t=(0,eP.TI)(eB.$A.Slides),i=(0,y.fK)(),n=(0,b.wA)(),a=(0,f.q5)(),s=(0,o.J3)(),l=(0,o.JU)(s),d=s===o.kN.FILE_IN_DRAFTS,c=0===(0,eD.ut)(E.Ez5?.canvasGrid()?.canvasGridArray,[]).length,u=(0,eM.oh)(eU.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:eB.$A.Slides}));return 0===t?null:u||!a?(0,r.jsx)(en,{numSections:1,numTemplates:t,removePadding:!0}):(0,r.jsx)(eY,{title:(0,h.t)("slides.templates.recents"),previewData:e.slice(0,i),onPublishTemplateClick:l&&!c?()=>{(0,eG.ZW)({dispatch:n,file:{key:a.key,name:a.name,folder_id:a.folderId,team_id:a.teamId,editor_type:a.editorType,parent_org_id:a.parentOrgId},source:"template-picker",fileNeedsMovingBeforePublish:d}),(0,O.Cu)({name:"publish-template-template-modal",fileKey:a.key})}:void 0})}function eY({title:e,previewData:t,onSeeAllClick:i,onPublishTemplateClick:n}){let a=i?(0,r.jsx)(eH,{onSeeAllClick:i}):n?(0,r.jsx)(eN.$n,{onClick:n,recordingKey:"template-picker-publish-template",variant:"secondary",children:(0,h.tx)("slides.templates.button.publish_template")}):void 0;return(0,r.jsx)(J,{title:e,rightHeaderCta:a,children:t.map(e=>(0,r.jsx)(V,{template:e},e.template.id))})}var eX=i(925868),eJ=i(714743),eZ=i(625002);function eQ({isSearchQueryLoading:e,trimmedSearchQuery:t,searchQueryResult:i,requestLoadMore:n}){let{onShowSeparatorScroll:a}=(0,y.gH)();return e&&0===i.length?(0,r.jsx)("div",{className:m.s.p8.$,children:(0,r.jsx)(er,{})}):0===i.length?(0,r.jsxs)("div",{className:m.s.p10.flex.flex1.flexColumn.itemsCenter.alignCenter.textBodyMedium.colorTextDisabled.$,children:[(0,r.jsx)(eJ.B,{className:m.s.h200.$,svg:eZ.A,useOriginalSrcFills_DEPRECATED:!0}),(0,r.jsx)("div",{children:(0,h.tx)("slides.templates.search.empty",{searchTerm:(0,r.jsx)("span",{className:m.s.fontBold.$,children:t})})}),(0,r.jsx)("div",{children:(0,h.tx)("slides.templates.search.empty.tip")})]}):(0,r.jsx)(p.P,{className:m.s.px8.hFull.$,onScroll:a,children:(0,r.jsxs)("div",{className:m.s.pt8.$,children:[(0,r.jsx)(X,{children:i.map(e=>(0,r.jsx)(V,{template:e},(0,L.NH)(e)))}),(0,r.jsx)(eX.a,{onIntersectionChange:({isIntersecting:e})=>{e&&n()}})]})})}function e$({closePicker:e}){let{loading:t}=(0,eS.mp)(),i=(0,y.r$)(),{scrollPosition:n,scrollRef:d,onScroll:c,resetScrollTop:h}=(0,y.d$)(l.Vf.ALL),{onShowSeparatorScroll:_}=(0,y.gH)(),b=(0,s.md)(l.q7),C=(0,f.tS)(),v=(0,o.Gi)(),{start:E}=(0,g.JY)(),T=(0,s.Xr)(l.bY);return((0,a.useEffect)(()=>()=>h([l.Vf.ALL]),[h]),t||b&&!C)?(0,r.jsx)(en,{}):(0,r.jsxs)(p.P,{className:m.s.px8.hFull.$,scrollContainerRef:d,initialScrollTop:n,onScroll:(e,t)=>{c(e,t),_(e,t)},children:[i===x.Ji.OVERLAY_MODAL&&(0,r.jsx)(ek,{onStartFromFigJamSelected:function(){T({type:l.Vf.FILE_PICKER,parentType:l.Vf.ALL})},onStartFromTextOutlineSelected:function(){E()}}),(0,r.jsx)(eq,{}),v?.type==="org"&&(0,r.jsx)(eK,{currentOrg:v.entity}),v?.type==="team"&&(0,r.jsx)(eV,{currentTeam:v.entity}),(0,r.jsx)(eW,{}),(0,u.IX)()&&(0,r.jsx)(eg,{closePicker:e})]})}function e0({closePicker:e,showCloseButton:t}){let{trimmedSearchQuery:i,searchQuery:n,setSearchQuery:a,isSearchQueryLoading:s,searchQueryResult:o,requestLoadMore:l}=(0,y.$N)(),{showSeparator:d}=(0,y.gH)();return(0,r.jsxs)(el,{children:[(0,r.jsx)("div",{className:c()({[Q.me]:d}),children:(0,r.jsx)(em,{searchQuery:n,setSearchQuery:a,showCloseButton:!!t,placeholder:(0,h.t)("slides.templates.search_templates")})}),i?(0,r.jsx)(eQ,{isSearchQueryLoading:s,trimmedSearchQuery:i,searchQueryResult:o,requestLoadMore:l}):(0,r.jsx)(e$,{closePicker:e})]})}var e1=i(713695),e2=i(520159);function e3({title:e,onClick:t,children:i,isLoading:a,publisherName:s,showSeparator:o=!0}){return(0,r.jsxs)("div",{className:c()(m.s.borderBox.flex.flexRow.itemsCenter.p8.minH48.$,{[Q.me]:o}),children:[(0,r.jsx)(ec.K,{"aria-label":(0,h.t)("slides.templates.back"),onClick:t,children:(0,r.jsx)(e2.C,{"data-not-draggable":!0,"data-does-not-dismiss-modal":!0})}),(0,r.jsxs)("div",{className:Q.Tn,children:[a?(0,r.jsx)(ei,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.TemplateTitle,{title:e}),s&&(0,r.jsx)(n.MetadataPublisher,{publisherName:s})]}),i]})]})}function e5({shelfId:e}){let[{data:t,status:i}]=(0,e1.IT)((0,ez.Q)(e)),n=(0,eA.Xr)(l.bY),{scrollPosition:a,scrollRef:s,onScroll:o}=(0,y.d$)(l.Vf.HUB_FILE),d=()=>n({type:l.Vf.ALL});return"loading"===i?(0,r.jsxs)(el,{children:[(0,r.jsx)(e3,{isLoading:!0,title:"",onClick:d}),(0,r.jsx)(en,{})]}):t?(0,r.jsxs)(el,{children:[(0,r.jsx)(e3,{title:(0,h.Yd)(t.i18n_meta.title,t.title),onClick:d}),(0,r.jsx)(p.P,{className:m.s.px8.pt16.hFull.$,scrollContainerRef:s,initialScrollTop:a,onScroll:o,children:(0,r.jsx)(X,{children:t.shelf_content.map(t=>(0,r.jsx)(V,{template:{type:eF.n.HubFile,category:e,template:t}},t.id))})})]}):null}(e=>{e.TemplateTitle=function({title:e}){return(0,r.jsxs)("div",{className:Q.GM,children:[(0,h.tx)("slides.templates.templates_modal.templates_title"),(0,r.jsx)("span",{className:Q.HE,children:" / "}),e]})},e.MetadataPublisher=function({publisherName:e}){return(0,r.jsx)("div",{className:Q.m_,children:(0,h.tx)("slides.templates.templates_modal.published_by",{publisherName:e})})}})(n||(n={}));var e4=i(165054),e6=i(871411),e7=i(714362),e8=i(302958),e9=i(576487),te=i(49598),tt=i(78808),ti=i(933328),tn=i(455680),tr=i(784857),ta=i(764527),ts=i(900932),to=i(632248),tl=i(13082),td=i(651849),tc=i(862289),tu=i(297822),tp=i(341455),tm=i(999099),th=i(700578),tf=i(471229),tg=i(432652),t_=i(33126),tx=i(915227),ty=i(864723),tb=i(788069),tC=i(53049),tv=i(347702),tE=i(989613);async function tT({slidePresetModules:e,abortController:t,batchSize:i=2,dispatch:n}){let r=[],a=[];E.Zdr?.createHiddenFrameForPresets();for(let s=0;s<e.length;s+=i){if(t.signal.aborted)return a;for(let t of e.slice(s,s+i))try{let e=new Promise(e=>{(0,x.Zx)({module:t,editScopeType:E.zkO.USER,editScopeLabel:"use-slides-ai-preset-selection",callback:t=>{a.push(t),e()},dispatch:n})});r.push(e)}catch(e){td.k.error("Failed to insert preset",e)}Promise.allSettled(r).then(()=>{t.signal.aborted&&tA(a)}),await tN(Promise.allSettled(r),t.signal)}return t.signal.aborted||E.Zdr?.selectPresetsFromTemplate(),a}async function tw({figjamFileKey:e,selectedGuids:t=[],pageGuids:i=[],abortController:n}){if(!E.Zdr)return[];let r=await tN((0,tC.R)({fileKey:e,selectedGuids:t.slice(0,tm.S)}),n.signal);return n.signal.aborted?[]:JSON.parse(E.Zdr.getCanvasDataJsonFromBuffer(r,i))}class tj{constructor(e,t,i){this.currentItem=void 0,this.hasRenamedFile=!1,this.lastSlideGuid="",this.abortController=e,this.showPlaceholderOverlay=t,this.getNextItem=i,this.intervalId=this.start()}start(){return setInterval(()=>this.update(),100)}isActive(){return 0!==this.intervalId}update(){if(!E.Zdr)return;if(this.abortController.signal.aborted||!s.zl.get(f.ze)){this.cancel();return}if(this.currentItem||(this.currentItem=this.getNextItem(),!this.currentItem))return;let e=E.Zdr.generateSlides(this.currentItem.slideItem);if(!this.abortController.signal.aborted){if(this.showPlaceholderOverlay(E.Zdr.getPlaceholderNodeId()),e.length>0){e.unshift(this.lastSlideGuid);for(let t=0;t<e.length-1;++t){let i=e[t];i&&tI(tk(i))}let t=e[e.length-1];t&&(this.lastSlideGuid=t)}this.currentItem.resolve(),this.currentItem=void 0}}cancel(){this.isActive()&&(this.cleanUp(),(0,tE.Y)())}completeSuccessfully(){this.cleanUp(),(0,tE.Sk)()}processError(e){this.cleanUp(),(0,tE.D1)(e)}cleanUp(){this.isActive()&&(clearInterval(this.intervalId),this.intervalId=0)}}async function tS({canvasData:e,processTitle:t,showPlaceholderOverlay:i,abortController:n}){let r=[],a=new tj(n,i,()=>r.shift());try{let i=await tg.Ay.slides.createSlides({version:"1.1",data:e},{orgId:s.zl.get(t_._s),teamId:s.zl.get(f.As)||null,fileKey:s.zl.get(f.ze)||null,fileSeq:s.zl.get(tx.J)?.toString()||null,userId:s.zl.get(ty.kS)||null,trackingSessionId:(0,tf.fF)()});if(n.signal.aborted||!s.zl.get(f.ze)){i.cancel();return}let o=[],l=!1;for await(let e of new tg.c6(i)){if(!a.isActive())return;let i=e;l||"TITLE"!==i.slideType||(l=!0,t(i.content.find(e=>"h1"===e.type)?.content||"")),o.push(new Promise(e=>{r.push({slideItem:i,resolve:e})}))}if(await tN(Promise.allSettled(o),n.signal),n.signal.aborted)return;a.completeSuccessfully()}catch(e){a.processError(e)}}let tk=(0,tv.n)(e=>{if(!e)return[];let t=(0,th.UN)().get(e);if(!t)return[];let i=[];return t.childrenNodes.forEach(e=>{(function e(t,i){t&&("TEXT"===t.type?i.push(t):t.childrenNodes.forEach(t=>e(t,i)))})(e,i)}),i}),tI=(0,tv.n)(e=>{T.l7.user("figjam-to-slide-deck-text-opacity",()=>{e.forEach(e=>{e.opacity>0||e.setOpacityWithAnimation(1,tb._E.forLinear(.5),"slides-ai-animate-slide-text")})}),e.length=0});async function tN(e,t){if(!t)return e;if(t.aborted)throw Error("Aborted");let i=new Promise((e,i)=>{let n=()=>{i(Error("Aborted"))};t.addEventListener("abort",n),t.addEventListener("abort",()=>{t.removeEventListener("abort",n)})});return await Promise.race([e,i])}function tA(e){e&&T.l7.user("remove-hidden-preset-nodes",()=>{for(let t of e){let e=(0,th.UN)().get(t);if(e)try{e.removeSelfAndChildren()}catch(e){console.warn("Failed to remove preset",e)}}})}function tO(){let e=(0,s.md)(l.oQ)??void 0,t=(0,s.md)(l.bY),i=t?.figjamEntryPointData,n=i?.figjamFileKey??e,{areSlidePresetsLoaded:r,slidePresetModules:o}=(0,tp.v0)(),d=(0,tp.Hn)(o),{showPlaceholderOverlay:c,removeAllPlaceholderOverlays:u}=(0,tp.Wb)(),p=(0,b.wA)(),m=(0,s.md)(f.ze),h=t?.source??tm.E.SLIDES_TEMPLATE;(0,s.Xr)(tu.zF)(h);let g=(0,B.D)(o[0]?.library_key),_=(0,a.useMemo)(()=>({figjamFileKey:n,figjamEntryPointData:i,areSlidePresetsLoaded:r,slidePresetModules:o,addFirstPresetToEmptyDeck:d,showPlaceholderOverlay:c,removeAllPlaceholderOverlays:u,dispatch:p,openFileKey:m,subscribeToLibrary:g}),[n,i,r,o,d,c,u,p,m,g]),x=(0,tc.RL)(to.JT.BOARD_TO_DECK,tL,{figjamFileKey:n});return{startAction:(0,a.useCallback)(()=>{(0,tc.B3)(to.JT.BOARD_TO_DECK),x.start(_)},[_,x]),figjamFileKey:n}}let tL=async({abortController:e,params:t})=>{let{figjamFileKey:i,figjamEntryPointData:n,areSlidePresetsLoaded:r,slidePresetModules:a,addFirstPresetToEmptyDeck:o,showPlaceholderOverlay:l,removeAllPlaceholderOverlays:d,dispatch:c,openFileKey:u,subscribeToLibrary:p}=t,m=(0,tp.Gd)(n),g=n?.selectedGuids,_=!i;if(e.signal.aborted||_||!r||!u)return;a?.length||td.k.warn("No slide preset modules found...");let x=[];try{if(E.Ez5&&E.Ez5.uiState().leftPanelCollapsedUI3.set(!0),(0,tE.tO)(),!E.Zdr)return;E.Zdr.showLoadingState();let t=E.Zdr.getPlaceholderNodeId();l(t);let[n,r]=await tN(Promise.allSettled([tw({figjamFileKey:i,selectedGuids:g,pageGuids:m,abortController:e}),tT({slidePresetModules:a,abortController:e,dispatch:c})]),e.signal);if("rejected"===r.status){td.k.error("Failed to ingest templates",r.reason),(0,tE.D0)((0,h.t)("slides.present_summary.visual_bells.error_unknown"));return}if(x=r.value,"rejected"===n.status){td.k.error("Failed to fetch canvas data from file",n.reason),(0,tE.D0)((0,h.t)("slides.present_summary.visual_bells.error_unknown"));return}p&&p(),await tS({canvasData:n.value,processTitle:e=>{e&&c(tt.Nw({file:{key:u},name:`${e} ${(0,h.t)("slides.templates.presentation")}`}))},showPlaceholderOverlay:l,abortController:e})}catch(t){if(e.signal.aborted){(0,tE.Y)();return}(0,tE.D0)((0,h.t)("slides.present_summary.visual_bells.error_unknown")),td.k.error("Failed to generate slides",t)}finally{d(),u!==s.zl.get(f.ze)||o(),E.Zdr?.finishDeckGeneration(),tA(x)}};var tR=i(257275),tM=i(848862),tD=i(794875);function tP(){let e=(0,b.wA)(),t=(0,tM.Um)(),i=(0,s.md)(l.oQ),[n,o]=a.useState([]),[d,c]=(0,s.fp)(l.V6),u=(0,tp.M0)(i);return(a.useEffect(()=>{!(0,tR.nl)()&&i&&(c({type:l.i6.NONE}),(async()=>{let e=await u();if(!e)return;let t=E.Zdr?.getPagesFromBuffer(e)??[],i=t[0];i&&(o(t.map(e=>({guid:e.guid,name:e.name}))),c({type:l.i6.SINGLE,page:{guid:i.guid,name:i.name}}))})())},[i,c,u]),i)?d.type===l.i6.NONE?(0,r.jsx)(tF,{}):(0,r.jsx)("div",{"data-testid":"page-selector",children:(0,r.jsxs)(tD.l6,{ariaLabel:(0,h.t)("slides.templates.file_picker.page_selector.label"),className:"slides_template_page_selector--pageSelector--PuTJR",dispatch:e,dropdownShown:t,dropdownWidth:208,formatter:{format:e=>{switch(e.type){case l.i6.SINGLE:return e.page.name;case l.i6.ALL:return(0,h.t)("slides.templates.file_picker.page_selector.all_pages");default:return""}},isEqual:(e,t)=>e.type===t.type&&(e.type!==l.i6.SINGLE||t.type!==l.i6.SINGLE||e.page.guid===t.page.guid&&e.page.name===t.page.name)},id:"slides-ai-file-picker-page-select",inputClassName:m.s.fontMedium.colorText.ellipsis.alignTop.maxW150.$,onChange:e=>{c(e)},property:d,children:[(0,r.jsx)(tD.c$,{value:{type:l.i6.NONE},disabled:!0,ignoreCheck:!0,children:(0,h.t)("slides.templates.file_picker.page_selector.label")}),n.map(e=>(0,r.jsx)(tD.c$,{value:{type:l.i6.SINGLE,page:e},children:e.name},e.guid)),(0,r.jsx)(tD.sK,{}),(0,r.jsx)(tD.c$,{value:{type:l.i6.ALL,allPages:n},children:(0,h.t)("slides.templates.file_picker.page_selector.all_pages")},-1)]})}):null}function tF(){return(0,r.jsxs)("div",{className:"slides_template_page_selector--pageSelectorLoadingState--oaDQH",children:[(0,r.jsx)("div",{className:m.s.fontMedium.overflowHidden.colorTextSecondary.$,children:(0,h.t)("slides.templates.file_picker.page_selector.loading")}),(0,r.jsx)(I.kt,{})]})}function tB({templateSelected:e}){let{startAction:t,figjamFileKey:i}=tO();return(0,r.jsx)(tV,{children:(0,r.jsx)(eN.$n,{iconPrefix:(0,r.jsx)(ta.x,{}),variant:"primary",onClick:t,disabled:!i,children:(0,h.tx)(e?"slides.templates.template_picker.submit.button.with_template":"slides.templates.template_picker.submit.button.without_template")})})}function tU({createOutline:e,addAllSlides:t,disabled:i}){let{isCreateSlidesOutlineEnabled:n}=(0,eS.mp)();return(0,r.jsxs)("div",{className:c()(m.s.flex.itemsCenter.justifyEnd.py8.pr16.gap8.$,Q.qr),children:[n&&(0,r.jsx)(eN.$n,{iconPrefix:(0,r.jsx)(ts.V,{}),variant:"secondary",onClick:e,disabled:i,children:(0,h.tx)("slides.templates.outline_with_template.button")}),(0,r.jsx)(eN.$n,{variant:"secondary",onClick:t,disabled:i,children:(0,h.tx)("slides.templates.add_all_slides")})]})}function tG({children:e}){return(0,r.jsx)(tV,{children:(0,r.jsxs)("div",{className:m.s.flex.gap8.itemsCenter.$,children:[(0,r.jsx)(tP,{}),e]})})}function tH(){let e=(0,s.md)(l.V6),{startAction:t,figjamFileKey:i}=tO();return(0,r.jsx)(tG,{children:(0,r.jsx)(eN.$n,{iconPrefix:(0,r.jsx)(ta.x,{}),variant:"primary",onClick:t,disabled:!i||e.type===l.i6.NONE,children:(0,h.tx)("slides.templates.file_picker.submit_button.generate")})})}function tz(){let e=(0,s.md)(l.V6),t=(0,s.Xr)(l.bY),i=(0,s.md)(l.oQ);return(0,r.jsx)(tG,{children:(0,r.jsx)(eN.$n,{variant:"primary",onClick:()=>{t({type:l.Vf.TEMPLATE_PICKER})},disabled:!i||e.type===l.i6.NONE,children:(0,h.tx)("slides.templates.file_picker.submit_button.pick_template")})})}function tV({children:e}){return(0,r.jsxs)("div",{className:c()(m.s.flex.itemsCenter.justifyBetween.pl12.pr8.py8.$,Q.qr),children:[(0,r.jsx)("div",{className:m.s.flex.itemsCenter.justifyStart.gap8.$,children:(0,r.jsx)(tl.y,{helpUrlVariant:to.JT.BOARD_TO_DECK})}),e]})}var tK=i(509285);function tW({libraryKey:e}){let t=(0,y.NG)(e),[i,n]=(0,s.fp)(l.bY),o=null===(0,f.tS)(),d=(0,y.r$)(),c=(0,y.S7)(),u=(0,s.Xr)(l.ux),p=(0,s.Xr)(l.oQ);return((0,a.useEffect)(()=>{o||["loading","loaded"].includes(t.status)||(0,e7.Lo)(e4.e.SLIDES,`Query result status has unexpected value: ${t.status}`)},[o,t.status]),"loading"===t.status||o)?(0,r.jsxs)(el,{children:[(0,r.jsx)(e3,{title:"",isLoading:!0,onClick:()=>{n(i.type===l.Vf.TEMPLATE?i.parentView:{type:l.Vf.ALL}),u(null),p(null)},showSeparator:!1}),(0,r.jsx)("div",{className:m.s.px16.overflowHidden.$,children:(0,r.jsx)(ea,{})}),d===x.Ji.OVERLAY_MODAL&&!c&&(0,r.jsx)(tU,{createOutline:C.lQ,addAllSlides:C.lQ,disabled:!0})]}):(0,r.jsx)(tq,{libraryKey:e,modules:t.data||[]})}function tq({libraryKey:e,modules:t}){let i=(0,f.q5)(),n=(0,y.r$)(),[o,d]=(0,s.fp)(l.bY),c=(0,s.Xr)(l.ux),u=(0,s.Xr)(l.oQ),{showSeparator:p}=(0,y.gH)(),m=(0,b.wA)(),g=(0,y.m4)(),_=t&&t.length>0,C=(0,tK.e)(),v=o.type===l.Vf.TEMPLATE&&o.shouldRemoveSourceLibraryKeyOnFail,w=(0,y.BX)(C);(0,a.useEffect)(()=>{if(!_&&o.type===l.Vf.TEMPLATE){if(v){w(),d({type:l.Vf.ALL});return}e?((0,e7.x1)(e4.e.SLIDES,"Expected to find at least one module in slides template",{libraryKey:e},{reportAsSentryError:!0}),m(e8.F.enqueue({type:"slides-template",message:(0,h.t)("slides.templates.toast.no_longer_available"),error:!0,icon:e9.zX.EXCLAMATION}))):(0,e7.x1)(e4.e.SLIDES,"No library key found for slides template",{},{reportAsSentryError:!0}),d({type:l.Vf.ALL})}},[m,_,e,t,w,d,v,o.type]);let j=(0,B.D)(e);if(!_)return null;let k=t[0],I=()=>{let e=(E.Ez5?.canvasGrid().canvasGridArray.getCopy()??[]).length>0,r={row:0,col:0},a=E.Ez5?.getInsertGridCoord({x:-1/0,y:-1/0})??r;if(C&&C!==e6.AD){let e=E.Ez5?.canvasGrid().coordForChild(C)??r;a={row:e.row,col:e.col+1}}else a=e?{row:(E.Ez5?.canvasGrid().getLastChildCoord()??r).row+1,col:0}:r;g(),m((0,ti.yy)({modules:t,canvasPosition:new S.Mi,percentageOffset:new S.Mi,insertAsChildOfCanvas:!0,afterSlideModulesInsertion:(e,t)=>{T.l7.user("add-all-slides",()=>{e.forEach((e,i)=>{(0,x.h0)({module:e,insertedItems:t[i],viewType:n,getGridCoord:()=>({row:a.row,col:a.col+i}),subscribeToLibrary:j})}),(0,tr.fL)(t[0][0]),tn.Y5.commit()})}})),T.l7.user("add-all-slides",()=>{E.Ez5?.slideThemeLibBindings().setDocumentTemplateLibraryKey(t[0].library_key)}),!(0,eC.k)().piper_auto_rename&&i?.key&&k.file_name&&!e&&i.name===(0,h.t)("fullscreen.fullscreen_view_selector.untitled")&&m(tt.Nw({file:{key:i.key},name:k.file_name})),k?.isHubFile&&k?.hub_file_id&&m((0,te.k8)({hubFileId:k.hub_file_id})),(0,x.qm)(m,k)},N=k.file_name||"",A=k.publisher_name;return(0,r.jsxs)(el,{children:[(0,r.jsx)(e3,{title:N,publisherName:A,onClick:()=>{d(o.type===l.Vf.TEMPLATE?o.parentView:{type:l.Vf.ALL}),c(null),u(null)},showSeparator:p,children:(0,r.jsx)(tY,{addAllSlides:I})}),(0,r.jsx)(Y,{modules:t}),n===x.Ji.OVERLAY_MODAL&&(0,r.jsx)(tU,{createOutline:()=>{c(k.library_key),d({type:l.Vf.FILE_PICKER,parentType:l.Vf.TEMPLATE})},addAllSlides:I})]})}function tY({addAllSlides:e}){return(0,y.r$)()===x.Ji.PICKER?(0,r.jsx)(tX,{children:(0,r.jsx)(eN.$n,{variant:"secondary",onClick:e,children:(0,h.tx)("slides.templates.add_all_slides")})}):null}function tX({children:e}){return(0,r.jsx)("div",{className:m.s.mr8.mlAuto.$,children:e})}var tJ=i(115566),tZ=i(336853);function tQ({title:e,templates:t,onRequestMore:i,onSeeAllClick:n}){return(0,r.jsxs)(J,{title:e,rightHeaderCta:n?(0,r.jsx)(eH,{onSeeAllClick:n}):void 0,children:[t.map(e=>(0,r.jsx)(V,{template:e},(0,L.gp)(e))),(0,r.jsx)(eX.a,{onIntersectionChange:i})]})}function t$({currentOrg:e}){let{isLoadingTeamTemplates:t,templatesByTeam:i,requestLoadMore:n,requestLoadMoreForTeam:s}=(0,o.GR)(e,eR._Y.SLIDES),d=(0,tZ.G7)(e),c=(0,y.fK)(),{teamTemplates:u,isLoading:h,requestLoadMoreForOrg:f}=(0,o.e2)({orgId:e.id,areWorkspacesEnabled:d,numTemplatesPerTeam:c,editorType:eR._Y.SLIDES,filterByIds:null}),g=(0,eC.k)().pro_templates_lg,_=g?u:i,x=(0,eA.Xr)(l.bY),{scrollPosition:b,scrollRef:C,onScroll:v}=(0,y.d$)(l.Vf.ORG),E=_?.[_.length-1]?.teamId??null,T=(0,a.useRef)(null);(0,tJ.X)({containerRef:C,targetRef:T,targetKey:E,onIntersectionChange:g?f:n});let w=()=>x({type:l.Vf.ALL});return(g?h:t)?(0,r.jsxs)(el,{children:[(0,r.jsx)(e3,{isLoading:!0,title:"",onClick:w}),(0,r.jsx)(en,{})]}):(0,r.jsxs)(el,{children:[(0,r.jsx)(e3,{title:e.name,onClick:w}),(0,r.jsx)(p.P,{className:m.s.px8.hFull.$,scrollContainerRef:C,initialScrollTop:b,onScroll:v,children:_.map(t=>(0,r.jsx)("div",{ref:E===t.teamId?T:null,children:(0,r.jsx)(tQ,{title:t.teamName??e.name,templates:t.templates,onRequestMore:()=>{g||s(t.teamId)},onSeeAllClick:g&&t.totalTemplatesByTeam>c?()=>x({type:l.Vf.TEAM,teamId:t.teamId,displayName:t.teamName??e.name}):void 0},t.teamId)},t.teamId))})]})}var t0=i(845253);function t1({templates:e,scrollContainerRef:t,onRequestMore:i}){let n=e?.[e.length-1]?.id,s=(0,a.useRef)(null);return(0,tJ.X)({containerRef:t,targetRef:s,targetKey:n,onIntersectionChange:i}),(0,r.jsx)(J,{children:e.map(e=>(0,r.jsx)("div",{ref:e.id===n?s:void 0,children:(0,r.jsx)(V,{template:{type:eF.n.TeamTemplateLg,template:e}},e.id)},e.id))})}function t2({teamId:e,displayName:t}){let{requestLoadMoreForTeam:i,templatesByTeam:n}=(0,o.li)({teamId:e,editorType:eR._Y.SLIDES}),a=(0,eA.Xr)(l.bY),{scrollPosition:s,scrollRef:d,onScroll:c}=(0,y.d$)(l.Vf.TEAM),u=(0,t0.dq)();return(0,r.jsxs)(el,{children:[(0,r.jsx)(e3,{title:t,onClick:()=>{u?a({type:l.Vf.ORG}):a({type:l.Vf.ALL})}}),n?(0,r.jsx)(p.P,{className:m.s.p8.hFull.$,scrollContainerRef:d,initialScrollTop:s,onScroll:c,children:(0,r.jsx)(t1,{scrollContainerRef:d,templates:n.templates,onRequestMore:i})}):(0,r.jsx)("div",{className:m.s.p8.$,children:(0,r.jsx)(er,{})})]})}var t3=i(288654),t5=i(445814),t4=i(372672),t6=i(43951),t7=i(50159);function t8({showCloseButton:e}){let[t,i]=(0,s.fp)(l.bY),{files:n,searchQuery:a,debouncedSearchQuery:o,setSearchQuery:d,status:u}=(0,y._8)(eR._Y.WHITEBOARD),[p,f]=(0,s.fp)(l.ux),g=(0,s.Xr)(l.oQ),{showSeparator:_}=(0,y.gH)();return t.type!==l.Vf.FILE_PICKER?null:(0,r.jsxs)(el,{dataTestId:"file-picker-view",children:[(0,r.jsx)(eh,{searchQuery:a,setSearchQuery:d,onBack:function(){t.type===l.Vf.FILE_PICKER&&(p&&t.parentType===l.Vf.TEMPLATE?i({type:l.Vf.TEMPLATE,libraryKey:p,parentView:{type:l.Vf.ALL}}):(i({type:l.Vf.ALL}),f(null),g(null)))},showCloseButton:!!e,placeholder:(0,h.t)("slides.templates.file_picker.search_files")}),(0,r.jsx)("div",{className:c()(m.s.pt16.pb24.px16.flex.flexColumn.gap2.$,{[Q.me]:_}),children:(0,r.jsx)(ef,{icon:(0,r.jsx)(t5.w4,{size:16,type:t5.y1.WHITEBOARD}),title:(0,h.t)("slides.templates.file_picker.title"),subtitle:(0,h.t)("slides.templates.file_picker.subtitle")})}),(0,r.jsx)(t9,{status:u,debouncedSearchQuery:o,files:n}),t.parentType===l.Vf.TEMPLATE?(0,r.jsx)(tH,{}):(0,r.jsx)(tz,{})]})}function t9({status:e,debouncedSearchQuery:t,files:i}){let{scrollPosition:n,scrollRef:a,onScroll:s}=(0,y.d$)(l.Vf.FILE_PICKER),{onShowSeparatorScroll:o}=(0,y.gH)(),d=(0,b.d4)(e=>e.mirror.appModel.multiplayerSessionState===E.kul.JOINED),u=null===(0,f.tS)();return e===y.J_.LOADING||!d||u?(0,r.jsx)(es,{}):e!==y.J_.SUCCESS?(0,r.jsx)("div",{className:m.s.flex.itemsCenter.justifyCenter.hFull.wFull.colorText.textBodyLarge.pre.$,children:(0,r.jsx)(it,{debouncedSearchQuery:t,status:e})}):(0,r.jsx)(p.P,{className:c()(m.s.px8.hFull.$),onScroll:(e,t)=>{s(e,t),o(e,t)},scrollContainerRef:a,initialScrollTop:n,children:(0,r.jsx)("div",{className:c()(Q.Vg,m.s.pb12.$),children:i.map(e=>(0,r.jsx)(ie,{file:e},e.key))})})}function ie({file:e}){let t=(0,t4.iZ)(),[i,n]=(0,s.fp)(l.oQ),{disabled:a,tooltipText:o}=function(e){let t=(0,t3.Rs)(t6.bgg,{fileKey:e});if("loaded"!==t.status)return{disabled:!0,tooltipText:void 0};if(t.data.file?.viewerExportRestricted&&t.data.file?.canEdit===!1)return{disabled:!0,tooltipText:(0,h.t)("slides.template.file_picker.viewer_export_restricted_disabled")};let i=t.data.file?.org;if(i?.k12GoogleOrg||i?.aiFeaturesDisabledAt)return{disabled:!0,tooltipText:(0,h.t)("slides.template.file_picker.ai_disabled.org")};let n=t.data.file?.team;return n?.aiFeaturesDisabledAt?{disabled:!0,tooltipText:(0,h.t)("slides.template.file_picker.ai_disabled.team")}:{disabled:!1,tooltipText:void 0}}(e.key);return(0,r.jsx)("div",{className:c()(m.s.pt8.px8.$,Q.Fj),children:(0,r.jsx)(t7.GQ,{activeFileUsers:[],currentUser:t,disableIconOverlays:!0,disabled:a,file:e,isSelected:!a&&i===e.key,onClick:t=>{t.stopPropagation(),a||n(e.key)},overrideOnClick:!0,subtitle:(0,r.jsx)(t7.lJ,{file:e}),titleFontSize:11,tooltipText:o})})}function it({debouncedSearchQuery:e,status:t}){return t===y.J_.NO_QUERY_RESULTS?(0,h.tx)("slides.templates.file_picker.no_files_match",{searchQuery:(0,r.jsx)("p",{className:m.s.colorText.textBodyLargeStrong.$,children:e})}):t===y.J_.NO_RECENT_FILES?(0,r.jsx)("h1",{className:m.s.colorText.textBodyLarge.$,children:(0,h.tx)("slides.templates.file_picker.no_recent_files")}):null}function ii({showCloseButton:e}){let{searchQuery:t,setSearchQuery:i}=(0,y.$N)(),[n,a]=(0,s.fp)(l.bY),o=!!(n.type===l.Vf.TEMPLATE_PICKER&&n.figjamEntryPointData),d=(0,b.d4)(e=>e.mirror.appModel.multiplayerSessionState===E.kul.JOINED)||(0,tR.nl)();return(0,r.jsxs)(el,{dataTestId:"template-picker-view",children:[o?(0,r.jsx)(em,{searchQuery:t,setSearchQuery:i,showCloseButton:!0,placeholder:(0,h.t)("slides.templates.search_templates")}):(0,r.jsx)(eh,{searchQuery:t,setSearchQuery:i,onBack:function(){a({type:l.Vf.FILE_PICKER,parentType:l.Vf.TEMPLATE_PICKER})},showCloseButton:!!e,placeholder:(0,h.t)("slides.templates.template_picker.search_templates")}),d?(0,r.jsx)(ir,{footer:e=>(0,r.jsx)(tB,{templateSelected:e})}):(0,r.jsx)(en,{removePadding:!0})]})}function ir({footer:e}){let{trimmedSearchQuery:t,isSearchQueryLoading:i,searchQueryResult:n,requestLoadMore:a}=(0,y.$N)(),o=(0,s.md)(l.ux),{showSeparator:d}=(0,y.gH)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:c()(m.s.p16.flex.flexColumn.gap2.$,{[Q.me]:t&&d}),children:(0,r.jsx)(ef,{icon:(0,r.jsx)("div",{style:{"--color-icon":"var(--color-icon-menu-onselected)"},className:m.s.colorBgBrand.h14.w14.bRadius2.flex.alignCenter.itemsCenter.$,children:(0,r.jsx)(eb.Q,{})}),title:(0,h.t)("slides.templates.template_picker.title"),subtitle:(0,h.t)("slides.templates.template_picker.subtitle")})}),t?(0,r.jsx)(eQ,{isSearchQueryLoading:i,trimmedSearchQuery:t,searchQueryResult:n,requestLoadMore:a}):(0,r.jsx)(is,{}),e(!!o)]})}var ia=(e=>(e[e.RECENTS=1]="RECENTS",e[e.HUB_FILE=2]="HUB_FILE",e[e.ORG=3]="ORG",e))(ia||{});function is(){let e=(0,t0.sZ)(),[t,i]=a.useState([]),[n,s]=a.useState(null),[{data:o}]=(0,eO.IT)((0,ez._)()),d=(0,eL.eE)(eB.$A.Slides),{scrollPosition:u,scrollRef:p,onScroll:f}=(0,y.d$)(l.Vf.TEMPLATE_PICKER),{showSeparator:g,onShowSeparatorScroll:_}=(0,y.gH)(),x=a.useCallback((e,t)=>{f(e,t),_(e,t)},[f,_]);(0,a.useEffect)(()=>{let t=[];if(d.length>0&&t.push({type:1,id:"recents",label:(0,h.t)("slides.templates.recents")}),o)for(let e of o)t.push({type:2,shelf:e,id:`hub-${e.id}`,label:e.title});e&&t.push({type:3,id:"org",label:(0,h.t)("slides.templates.org_templates")}),i(t),t.length>0&&s(t[0].id)},[d,e,o]);let b=e=>()=>{s(e)},C={scrollContainerRef:p,initialScrollTop:u,onScroll:x},v=t.find(e=>e.id===n);return v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:c()(m.s.flex.flexRow.gap6.alignCenter.itemsCenter.px16.pb16.$,{[Q.me]:g}),children:t.map(e=>(0,r.jsx)("button",{className:c()(m.s.textBodyMedium.colorText.spacingWide.alignCenter.px8.h24.$,{[Q.eg]:n===e.id,[m.s.textBodyMediumStrong.$]:n===e.id,[m.s.colorTextSecondary.$]:n!==e.id}),onClick:b(e.id),children:2===e.type?(0,h.Yd)(e.shelf.i18n_meta.title,e.shelf.title):e.label},e.id))}),(t=>{switch(t.type){case 2:return(0,r.jsx)(ic,{shelf:t.shelf,...C});case 1:return(0,r.jsx)(io,{...C});case 3:if(!e)throw Error("Something went wrong in tab calculation");return(0,r.jsx)(id,{currentOrg:e,...C})}})(v)]}):null}function io({scrollContainerRef:e,initialScrollTop:t,onScroll:i}){let n=(0,eL.eE)(eB.$A.Slides);return 0===n.length?null:(0,r.jsx)(p.P,{className:m.s.px8.hFull.$,scrollContainerRef:e,initialScrollTop:t,onScroll:i,children:(0,r.jsx)(X,{children:n.map(e=>(0,r.jsx)(V,{template:e},(0,L.NH)(e)))})})}function il({teamId:e,displayName:t,onBackClick:i}){let{requestLoadMoreForTeam:n,templatesByTeam:s}=(0,o.li)({teamId:e,editorType:eR._Y.SLIDES}),l=(0,a.useRef)(null);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e3,{title:t,onClick:i,showSeparator:!1}),s?(0,r.jsx)(p.P,{scrollContainerRef:l,className:m.s.px8.hFull.$,children:(0,r.jsx)(t1,{scrollContainerRef:l,templates:s.templates,onRequestMore:n})}):(0,r.jsx)(er,{})]})}function id({currentOrg:e,scrollContainerRef:t,initialScrollTop:i,onScroll:n}){let{isLoadingTeamTemplates:s,templatesByTeam:l,requestLoadMore:d,requestLoadMoreForTeam:c}=(0,o.GR)(e,eR._Y.SLIDES),u=(0,tZ.G7)(e),{teamTemplates:h,isLoading:f,requestLoadMoreForOrg:g}=(0,o.e2)({orgId:e.id,areWorkspacesEnabled:u,numTemplatesPerTeam:6,editorType:eR._Y.SLIDES,filterByIds:null}),_=(0,eC.k)().pro_templates_lg,x=_?h:l,y=x?.[x.length-1]?.teamId??null,b=(0,a.useRef)(null);(0,tJ.X)({containerRef:t,targetRef:b,targetKey:y,onIntersectionChange:_?g:d});let[C,v]=a.useState(null);return C?(0,r.jsx)(il,{teamId:C,displayName:e.name,onBackClick:()=>v(null)}):(_?f:s)?(0,r.jsx)(en,{}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(p.P,{className:m.s.px8.hFull.$,scrollContainerRef:t,initialScrollTop:i,onScroll:n,children:x.map(t=>(0,r.jsx)("div",{ref:y===t.teamId?b:null,children:(0,r.jsx)(tQ,{title:t.teamName??e.name,templates:t.templates,onRequestMore:()=>{_||c(t.teamId)},onSeeAllClick:_&&t.totalTemplatesByTeam>6?()=>{v(t.teamId)}:void 0},t.teamId)},t.teamId))})})}function ic({shelf:e,scrollContainerRef:t,initialScrollTop:i,onScroll:n}){let[{status:a}]=(0,eO.IT)((0,ez._)());if("loading"===a)return(0,r.jsx)(en,{});let s=e.id;return(0,r.jsx)(p.P,{className:m.s.px8.hFull.$,scrollContainerRef:t,initialScrollTop:i,onScroll:n,children:(0,r.jsx)(X,{children:e.shelf_content.map(e=>{let t={type:eF.n.HubFile,category:s,template:e};return(0,r.jsx)(V,{template:t},e.id)})})})}function iu({showCloseButton:e}){let t=(0,s.md)(l.bY),i=(0,s.Xr)(l.VZ),n=(0,s.Xr)(l.Ei),d=(0,s.Xr)(l.OR),c=(0,s.Xr)(l.xw),u=(0,o.Gi)();switch((0,a.useEffect)(()=>()=>{d(""),c()},[c,d]),t.type){case l.Vf.ALL:return(0,r.jsx)(e0,{showCloseButton:e,closePicker:()=>{n(!1),i(!1)}});case l.Vf.ORG:if(u?.type!=="org")throw Error("User is not allowed to browse org templates");return(0,r.jsx)(t$,{currentOrg:u.entity});case l.Vf.TEAM:if(!u)throw Error("User is not allowed to browse team templates");return(0,r.jsx)(t2,{teamId:t.teamId,displayName:t.displayName});case l.Vf.TEMPLATE:return(0,r.jsx)(tW,{libraryKey:t.libraryKey});case l.Vf.HUB_FILE:return(0,r.jsx)(e5,{shelfId:t.shelfId});case l.Vf.FILE_PICKER:return(0,r.jsx)(t8,{showCloseButton:e});case l.Vf.TEMPLATE_PICKER:return(0,r.jsx)(ii,{showCloseButton:e});default:return null}}},28058:(e,t,i)=>{i.d(t,{g:()=>W,h:()=>K});var n=i(486106),r=i(7378),a=i(514228),s=i(763686),o=i(27355),l=i(536384),d=i.n(l),c=i(783094),u=i(216696),p=i(8833),m=i(831799),h=i(223206),f=i(12032),g=i(545877),_=i(797478),x=i(740163),y=i(701001),b=i(722362),C=i(516028),v=i(845253),E=i(84367),T=i(45218),w=i(862883),j=i(381612),S=i(32128),k=i(632248),I=i(862289),N=i(236102),A=i(21029),O=i(312268),L=i(835688),R=i(430547),M=i(1768),D=i(764386),P=i(589278),F=i(918700),B=i(396421),U=i(27776);function G({children:e}){let{canDismiss:t,maybeUseLightTemplateOnDismiss:i}=(0,B.vN)();return(0,n.jsx)(F.d_,{className:d()("slides_template_modal--templateModal--GmDGm",p.Qx),size:(0,c.hG)(U.uRR),onHide:i,tintedModalBackground:!0,disableClickOutsideToHide:!t,enableEscapeToClose:t,"data-testid":"slides-template-modal",children:(0,n.jsx)("div",{className:P.s.overflowHidden.$,style:{height:"600px"},children:e})})}var H=i(60023),z=i(553488),V=i(148230);function K(){let[e,t]=(0,o.fp)(H.Ei),i=(0,x.dP)(),s=(0,y._o)(),l=(0,S.Ye)(),h=(0,a.wA)(),f=(0,v.sZ)(),g=r.useRef(null);if((0,M.Y)(()=>t(!1),{closeOnEsc:!0,ignore:[g,(0,_.Tc)("slides-template-button"),(0,_.Tc)(O.G),(0,_.Tc)(R.l)]}),(0,r.useEffect)(()=>{h(j.cd.fetchTemplatesMetadata({key:w.$A.Slides,orgId:f?.id})),h(u.sz({shelfType:T.cS.SLIDES_TEMPLATE_MODAL}))},[f?.id,h]),!e)return null;let b=l?70+s:(0,c.jz)(U.M$q)+s;return(0,n.jsx)(m.fu,{name:"Slides Template Picker",children:(0,n.jsx)("div",{className:d()(V.ij,p.Dm),style:{top:b,left:l?12:i+12,width:408,height:window.innerHeight-b-72},ref:g,"data-testid":"slides-template-picker",children:(0,n.jsx)(B.Jn.Provider,{value:z.Ji.PICKER,children:(0,n.jsx)(D.q,{})})})})}function W(){let e=(0,b.p8)("isReadOnly"),t=(0,A.jY)(),i=!!(0,B.S7)(),r=(0,E.ut)(s.Ez5?.canvasGrid().canvasGridArray,[]).flat().length>0,a=(0,o.md)(H.q7),l=(0,A.EI)(),d=(0,o.md)(f.D),c=(0,o.md)((0,g.r1)(L.Kt)).data,u=(0,o.md)(H.VZ),p=(0,o.md)(h.u2),{state:_}=(0,I.wj)(k.JT.BOARD_TO_DECK),x=(0,C.tS)(),y=(0,N.wd)();return a||p&&p.fileKey&&!a||e||!c||y||!l||t||i||r||d&&!u||_===I.qy.RUNNING?null:(0,n.jsx)(m.fu,{name:"Slides Template Overlay Modal",properties:{productType:"slides",fileKey:x},children:(0,n.jsx)(B.Jn.Provider,{value:z.Ji.OVERLAY_MODAL,children:(0,n.jsx)(G,{children:(0,n.jsx)(D.q,{showCloseButton:!0})})})})}},430547:(e,t,i)=>{i.d(t,{R:()=>m,l:()=>p});var n=i(486106),r=i(521428),a=i(149844),s=i(27355),o=i(935965),l=i(303541),d=i(129884),c=i(835688),u=i(396421);let p="toolbar-add-slide-button";function m(){let e=(0,s.md)(o.o),{toggleTemplatePicker:t}=(0,u.uu)();return e?null:(0,n.jsx)(r.$n,{onClick:t,iconPrefix:(0,n.jsx)(a.e,{}),variant:"secondary",recordingKey:"toolbar.addSlideButton",htmlAttributes:{"data-testid":"addSlideButton","data-element-target":p,"data-onboarding-key":c.MB,"data-tooltip":(0,l.t)("slides.carousel.add-slide-from-template"),"data-tooltip-type":d.Ib.TEXT,"data-fullscreen-intercept":!0},children:(0,l.tx)("slides.carousel.new_slide")})}},607036:(e,t,i)=>{i.d(t,{qM:()=>D,RS:()=>O,cR:()=>R,FT:()=>A});var n=i(486106),r=i(7378),a=i(443068),s=i(632989),o=i(521428),l=i(520159),d=i(251970),c=i(763686),u=i(27355),p=i(536384),m=i.n(p),h=i(88484),f=i(901889),g=i(806412),_=i(637027),x=i(109947),y=i(589278),b=i(303541),C=i(8833),v=i(314264),E=i(797478),T=i(455680),w=i(831696),j=i(129884),S=i(53049),k=i(1768);let I="slides_insert_embed_modal--sectionContainer--r1D85",N="slides_insert_embed_modal--recentPrototypeThumbnail--2N-ss",A=(0,u.eU)(-1),O="slide-insert-embed-modal-button";async function L({fileKey:e,nodeId:t}){let i=await (0,S.R)({fileKey:e});return i&&c.DCy?.getPrototypeFileStructureData(e,i,t)||{}}function R(){let e=(0,f.U)(),[t,i]=(0,u.fp)(A),a=(0,r.useRef)(null),s=(0,r.useCallback)((e=!1)=>{e&&T.Y5.triggerAction("set-tool-default",null),i(-1)},[i]);(0,k.Y)(()=>s(!0),{closeOnEsc:!0,ignore:[a,(0,E.Tc)(O)]});let[o,l]=(0,r.useState)(0),d=(0,r.useCallback)(async t=>{let i=(0,w.pb)(t),n=(0,w.zU)(t);if(!i)return;let r=await L({fileKey:i,nodeId:n});e("embedded_prototype_file_structure_data",{fileKey:i,nodeId:n,...r})},[e]),c=(0,r.useCallback)(e=>{T.Y5.triggerActionInUserEditScope("insert-interactive-element-into-active-slide",{type:"EMBED",url:e}),s(),d(e)},[s,d]),p=(0,h.O8)(),m=0===o?(0,b.t)("slides.flapp.embed.widget_modal_title"):(0,b.t)("slides.flapp.embed.prototype_modal_title");return(0,n.jsx)(D,{closeWidow:s,ref:a,center:t,children:(0,n.jsx)(P,{title:m,showBackButton:0!==o,onBackClicked:()=>l(0),onCloseClicked:s,children:0===o?(0,n.jsx)(F,{closeModal:s,navigateToPrototypeStep:()=>l(1)}):(0,n.jsx)(U,{recentPrototypes:p,onAddPrototypeRequested:c})})})}var M=(e=>(e[e.LANDING=0]="LANDING",e[e.PROTOTYPE=1]="PROTOTYPE",e))(M||{});let D=(0,r.forwardRef)(function(e,t){let[i]=(0,u.fp)(x.f),a=i?.current?.getBoundingClientRect(),s=(a?.height??0)>0,o=(0,r.useMemo)(()=>s?{bottom:window.innerHeight-(a?.y??0)+8}:{bottom:72},[s,a?.y]);return(0,n.jsx)("div",{ref:t,style:{position:"fixed",width:"fit-content",margin:"auto",left:e.center,transform:"translateX(-50%)",...o},className:m()("slides_insert_embed_modal--dockedToolbeltWindow--lJ7x1 text--fontPos13--xW8hS text--_fontBase--QdLsd",C.Dm),children:(0,n.jsx)("div",{style:{minWidth:e.minWidth??a?.width??396},children:e.children})})});function P({children:e,title:t,showBackButton:i,onBackClicked:r,onCloseClicked:s}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:m()("slides_insert_embed_modal--headerContainer--5xFbR",i?y.s.pl8.$:y.s.pl16.$),children:[(0,n.jsxs)("div",{className:y.s.textBodyMediumStrong.flex.itemsCenter.$,children:[i?(0,n.jsx)(a.K,{onClick:r,"aria-label":(0,b.t)("general.back"),children:(0,n.jsx)(l.C,{})}):null,(0,n.jsx)("p",{children:t})]}),(0,n.jsx)(a.K,{"aria-label":(0,b.t)("common.close"),onClick:s,children:(0,n.jsx)(d.A,{})})]}),(0,n.jsx)(H,{}),(0,n.jsx)("div",{className:"slides_insert_embed_modal--contentContainer--5pDam",children:e})]})}function F({closeModal:e,navigateToPrototypeStep:t}){let r=t=>{t(),e()},a="liveInteractionModal";return(0,n.jsxs)("div",{className:"slides_insert_embed_modal--widgetContainer--LvggL",children:[(0,n.jsx)("div",{className:y.s.textBodyMedium.colorTextSecondary.pb16.$,children:(0,b.tx)("slides.flapp.embed.widget_modal_description")}),(0,n.jsxs)("div",{className:"slides_insert_embed_modal--widgetGrid---WhKd",children:[(0,n.jsx)(B,{thumbnail:i(947615),title:(0,b.t)("slides.flapp.embed.widget_poll"),onSelected:()=>r(()=>T.Y5.triggerActionInUserEditScope("insert-interactive-element-into-active-slide",{type:"POLL"})),recordingKey:g.Pt(a,"poll")}),(0,n.jsx)(B,{thumbnail:i(795595),title:(0,b.t)("slides.flapp.embed.widget_stamps"),onSelected:()=>r(()=>T.Y5.triggerActionInUserEditScope("insert-interactive-element-into-active-slide",{type:"FACEPILE"})),recordingKey:g.Pt(a,"facepile")}),(0,n.jsx)(B,{thumbnail:i(317240),title:(0,b.t)("slides.flapp.embed.widget_alignment"),onSelected:()=>r(()=>T.Y5.triggerActionInUserEditScope("insert-interactive-element-into-active-slide",{type:"ALIGNMENT"})),recordingKey:g.Pt(a,"alignment")}),(0,n.jsx)(B,{thumbnail:i(377832),title:(0,b.t)("slides.flapp.embed.widget_prototype"),onSelected:t,recordingKey:g.Pt(a,"prototype")})]})]})}function B({thumbnail:e,title:t,onSelected:i,recordingKey:r}){return(0,n.jsxs)(s.E,{className:y.s.flex.flexColumn.gap8.$,onClick:i,recordingKey:r,children:[(0,n.jsx)("img",{className:"slides_insert_embed_modal--widgetThumbnail--u966s",src:e,alt:t,draggable:!1}),(0,n.jsx)("p",{className:y.s.wFull.textBodyMediumStrong.alignLeft.$,children:t})]})}function U({recentPrototypes:e,onAddPrototypeRequested:t}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(z,{}),(0,n.jsx)(K,{prototypes:e,maxCount:3,onPrototypeClick:t}),(0,n.jsx)(V,{onAddPrototypeUrlClicked:t})]})}function G({prototypeUrl:e,onClick:t}){let i=(0,w.Ik)(e),r=i||!e?void 0:(0,b.t)("slides.flapp.embed.add_button_invalid_link_tooltip");return(0,n.jsx)("div",{"data-tooltip-type":j.Ib.TEXT,"data-tooltip":r,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,children:(0,n.jsx)(o.$n,{variant:"primary",disabled:!i,onClick:()=>{e&&t(e.trim())},children:(0,b.tx)("slides.flapp.embed.add_button_label")})})}function H(){return(0,n.jsx)("div",{className:y.s.wFull.colorBgTertiary.h1.$})}function z(){return(0,n.jsx)("div",{className:m()(y.s.colorTextSecondary.textBodyMedium.$,I),children:(0,b.tx)("slides.flapp.embed.modal_description")})}function V({onAddPrototypeUrlClicked:e}){let[t,i]=(0,r.useState)(),a=(0,b.t)("slides.flapp.embed.add_prototype_link_hint",{prototype_link_prefix:(0,w.qS)()});return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:y.s.textBodyMediumStrong.$,children:(0,b.tx)("slides.flapp.embed.add_prototype_link_header")}),(0,n.jsxs)("div",{className:"slides_insert_embed_modal--prototypePasteContainer--PozcZ",children:[(0,n.jsx)(_.ks,{className:"slides_insert_embed_modal--prototypeLinkInput--9Jynj",type:"url",onChange:e=>{i(e.target.value)},value:t,placeholder:a}),(0,n.jsx)(G,{prototypeUrl:t,onClick:()=>{t&&((0,v.Cu)({name:"slides.flapps.embed.add_prototype_link_button_clicked",fileKey:(0,w.pb)(t),productType:"slides"}),e(t))}})]})]})}function K({prototypes:e,maxCount:t,onPrototypeClick:i}){let a=(0,r.useMemo)(()=>e.data?.slice(-t)?.reverse(),[e,t]);return!a||a.length<1?null:(0,n.jsx)("div",{className:I,children:(0,n.jsxs)("div",{className:y.s.textBodyMediumStrong.$,children:[(0,b.tx)("slides.flapp.embed.recent_prototypes_header"),a.map(e=>(0,n.jsx)(W,{thumbnailUrl:e.thumbnail_url,title:e.name,subtitle:e.fig_file.name,onClick:()=>{(0,v.Cu)({name:"slides.flapps.embed.recent_prototype_tile_clicked",fileKey:e.file_key,productType:"slides"}),i(e.url)}},`${e.name}_${e.file_key}`))]})})}function W({thumbnailUrl:e,title:t,subtitle:i,onClick:r}){return(0,n.jsxs)(s.E,{className:"slides_insert_embed_modal--recentPrototypeTileContainer--ig9io",onClick:r,children:[e?(0,n.jsx)("img",{className:N,alt:"Prototype thumbnail",src:e,loading:"lazy",draggable:!1}):(0,n.jsx)("div",{className:N}),(0,n.jsxs)("div",{className:y.s.alignLeft.$,children:[(0,n.jsx)("p",{className:y.s.textBodyMediumStrong.$,children:t}),(0,n.jsx)("p",{className:y.s.textBodySmall.colorTextSecondary.$,children:i})]})]})}},680511:(e,t,i)=>{i.d(t,{Ix:()=>h,bs:()=>p,zF:()=>m});var n=i(486106),r=i(7378),a=i(27355),s=i(938538),o=i(589278),l=i(797478),d=i(455680),c=i(1768),u=i(607036);let p=(0,a.eU)(-1),m="slide-insert-shape-modal-button";function h({activateTool:e,activeToolId:t,areAnyShapesActive:i,shapes:h}){let[f,g]=(0,a.fp)(p),_=(0,r.useCallback)((e=!1)=>{e&&d.Y5.triggerAction("set-tool-default",null),g(-1)},[g]),x=(0,r.useRef)(null);return(0,c.Y)(()=>_(!i),{closeOnEsc:!0,ignore:[x,(0,l.Tc)(m)]}),(0,n.jsx)(u.qM,{closeWidow:_,ref:x,minWidth:152,center:f,children:(0,n.jsx)("div",{className:o.s.flex.flexWrap.p8.itemsCenter.contentCenter.gap8.$,style:{width:152},children:h.map(i=>(0,n.jsx)(s.$,{tooltipText:i.text,tooltipShortcut:i.shortcutText,isActive:t===i.toolId,onMouseDown:()=>e(i.toolId),recordingKey:`slides-shape-${i.toolId}`,children:i.icon},i.toolId))})})}},583075:(e,t,i)=>{i.d(t,{E:()=>g});var n=i(514228),r=i(763686),a=i(27355),s=i(99656),o=i(370763),l=i(929976),d=i(91703),c=i(314264),u=i(741237),p=i(516028),m=i(357367),h=i(607036),f=i(680511);function g({logToggle:e}={}){let t=function(){let e=(0,n.wA)(),t=(0,a.Xr)(h.FT),i=(0,a.Xr)(f.bs);return()=>{e(l.oB()),e(d.XE()),e(d.Uv()),t(-1),i(-1)}}(),i=(0,m.Bk)(),_=(0,p.tS)(),{Sprig:x}=(0,s.A)();return n=>{(i||n!==r.nQ7.DESIGN)&&(t(),function(e){let t=a.zl.get(o.Kh);e===r.nQ7.DESIGN&&((0,u.NT)(r.FAf.DESIGN),t===r.NLJ.COMMENTS&&r.glU?.triggerAction("set-tool-default",null))}(n),n===r.nQ7.DESIGN?r.glU?.triggerAction("enter-slides-design-mode",null):r.glU?.triggerAction("enter-slides-mode",null),e&&n===r.nQ7.DESIGN?((0,c.Cu)({trackingContext:"slides_toggle_back_to_slides",productType:"slides",fileKey:_}),x("track","slides_toggle_back_to_slides")):e&&n===r.nQ7.SELF&&(0,c.Cu)({trackingContext:"slides_toggle_design",productType:"slides",fileKey:_}))}}},904355:(e,t,i)=>{function n(){return null}i.d(t,{V_:()=>l,Te:()=>s,Ab:()=>r,Ug:()=>o,oI:()=>a}),i(992467),i(165422),new(i(275748)).b({name:"string_management",dependencies:[],exports:{"./components":"./components.ts","./ast":"./ast.ts","./ast/schema":"./ast/schema.ts","./public_helpers":"./public_helpers.ts","./public_hooks":"./public_hooks.ts","./public_types":"./public_types.ts"},sideEffects:!1,friendFiles:[]});let r=n,a=n,s=n,o=n,l=n},512956:(e,t,i)=>{i.d(t,{J7:()=>f,bY:()=>g,hG:()=>p,hQ:()=>m});var n=i(486106),r=i(7378),a=i(465776),s=i(763686),o=i(27355),l=i(714362),d=i(659371),c=i(773693),u=i(402783),p=(e=>(e[e.NONE=0]="NONE",e[e.SUMMARIZE_STICKIES=1]="SUMMARIZE_STICKIES",e[e.SORT_STICKIES_BY_TOPIC=2]="SORT_STICKIES_BY_TOPIC",e[e.SORT_STICKIES_BY_COLOR=3]="SORT_STICKIES_BY_COLOR",e[e.SORT_STICKIES_BY_AUTHOR=4]="SORT_STICKIES_BY_AUTHOR",e[e.SORT_STICKIES_BY_STAMP_COUNT=5]="SORT_STICKIES_BY_STAMP_COUNT",e[e.SORT_STICKIES_BY_STAMP_TYPE=6]="SORT_STICKIES_BY_STAMP_TYPE",e[e.MIND_MAP_GENERATE_IDEAS=7]="MIND_MAP_GENERATE_IDEAS",e))(p||{});let m=(0,o.eU)(0),h=(0,o.eU)(null,(e,t,i)=>{t(m,i)});function f(e){o.zl.set(h,e)}function g(){let[e,t]=(0,o.fp)(m),i=(0,r.useRef)(null),p=function(){let{summarizeCanvasSelection:e}=(0,u.ss)(s.cfv.ABOVE,void 0,"QUICK_ACTION"),t=(0,d.PX)(),{expandSelectedMindmapNode:i}=(0,c.S)();return n=>{switch(n){case 0:(0,l.xi)("AI Actions",'Unexpected AI action "none" requested');break;case 1:e();break;case 2:case 3:case 4:case 5:case 6:{let e=function(e){switch(e){case 2:return d.Uj.CLUSTER;case 3:return d.Uj.CLUSTER_BY_COLOR;case 4:return d.Uj.CLUSTER_BY_AUTHOR;case 5:return d.Uj.CLUSTER_BY_STAMP_COUNT;case 6:return d.Uj.CLUSTER_BY_STAMP_TYPE;default:return}}(n);if(!e){(0,l.xi)("AI Actions","Unexpected AI action requested",{action:n});return}t({type:e,disabled:!1,displayText:""});break}case 7:i();break;default:(0,a.xb)(n)}}}();return(0,r.useEffect)(()=>{(async()=>{if(0!==e&&e!==i.current){i.current=e;try{p(e),await new Promise(e=>setTimeout(e,1e3))}finally{t(0),i.current=null}}})()},[e,t,p]),(0,n.jsx)(n.Fragment,{})}},295369:(e,t,i)=>{i.d(t,{Cw:()=>v,Su:()=>b,v:()=>y});var n=i(486106),r=i(7378),a=i(934246),s=i(27355),o=i(303541),l=i(831799),d=i(621515),c=i(62612),u=i(268271),p=i(696396),m=i(152487),h=i(983167),f=i(858282),g=i(419216),_=i(6204),x=i(659371);let y=(0,s.eU)(!1),b="organize";function C({onClose:e}){let t=(0,x.Cb)(),i=(0,c.LE)({subscribeToUpdates_expensive:t});return r.useEffect(()=>{t||e()},[t,e]),(0,n.jsx)("div",{style:{opacity:i?0:1,transition:"ease-in-out 0.1s all"},children:(0,n.jsx)(g.Dv,{targetType:"dom",targetKey:b,topPadding:-6,isBold:!0,fixedWidth:316,arrowPosition:f.F_.BOTTOM,onTargetLost:a.lQ,children:(0,n.jsx)(h.mI,{bodyText:(0,n.jsx)("span",{style:{maxWidth:184},children:(0,o.tx)("whiteboard.organize_menu.onboarding_text_base",{boldText:(0,n.jsx)("b",{children:(0,o.tx)("whiteboard.organize_menu.onboarding_text_bold_text")})})}),buttonText:(0,o.tx)("whiteboard.organize_menu.onboarding_dismiss_button_text"),onButtonClick:()=>{e()}})})})}function v(){let[e,t]=(0,s.fp)(y),{show:i,isShowing:a,complete:o}=(0,d.e)({overlay:_.YiU,priority:u.N.SECONDARY_MODAL});return r.useEffect(()=>{i({canShow:()=>e})},[e,i]),(0,n.jsx)(m.M,{isShowing:a,testId:"FigJamAISummarizationEntrpointPointerOverlay",children:(0,n.jsx)(l.fu,{name:p.e0.AI_INLINE_MENU_ORGANIZE_SUMMARY_TOOLTIP,children:(0,n.jsx)(C,{onClose:()=>{t(!1),o()}})})})}},565436:(e,t,i)=>{i.d(t,{S:()=>C,o:()=>b});var n=i(486106),r=i(7378),a=i(587457);let s=(0,r.memo)(function(e){return(0,a.O)()?(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M12 4.5a7.5 7.5 0 0 0-7.484 7A.527.527 0 0 1 4 12a.48.48 0 0 1-.486-.5A8.5 8.5 0 0 1 19 7.177V5.5a.5.5 0 0 1 1 0v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1h1.845A7.5 7.5 0 0 0 12 4.5M7.5 16H5.655a7.5 7.5 0 0 0 13.829-3.5c.018-.275.24-.5.516-.5s.502.224.485.5A8.5 8.5 0 0 1 5 16.823V18.5a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1m2-7a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 1 0V10h1.5v4H11a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-.5v-4H14v.5a.5.5 0 0 0 1 0v-1a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"})}):(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.5 4A7.5 7.5 0 0 0 4 11.5c0 .27-.213.5-.484.5h-.032A.477.477 0 0 1 3 11.53v-.03a8.5 8.5 0 0 1 16-4.004V5.5a.5.5 0 1 1 1 0v3a.5.5 0 0 1-.5.5h-3a.5.5 0 1 1 0-1h1.635A7.5 7.5 0 0 0 11.5 4m-4 12h-2a7.501 7.501 0 0 0 13.439-3.532.53.53 0 0 1 .515-.468.48.48 0 0 1 .484.53A8.501 8.501 0 0 1 5 16.978V18.5a.5.5 0 0 1-1 0v-3a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1m2-7a.5.5 0 0 0-.5.5v.8a.5.5 0 0 0 1 0V10h1v3h-.3a.5.5 0 1 0 0 1h1.6a.5.5 0 0 0 0-1H12v-3h1v.3a.5.5 0 1 0 1 0v-.8a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"})})});var o=i(763686),l=i(189185),d=i(601108),c=i(27355),u=i(303541),p=i(671547),m=i(216495),h=i(275640),f=i(774045),g=i(151869),_=i(144634),x=i(439493),y=i(892864);function b(e){let t=(0,g.uQ)()||"",i=(0,h.kl)("embedData"),n=decodeURIComponent(m.E7(i)?.originalText||""),a=(0,p.tq)(i),s=(0,c.Xr)(f.n);return r.useCallback(()=>{n&&(a(p.yc.CONVERT_TO_TEXT),s({type:"MINIMIZE"}),(0,l.l7)(e,"convert-embed-to-text",()=>o.glU?.replaceNodeWithText(t,n)))},[n,a,s,t,e])}function C(e){let t=(0,c.md)(f.n),i=(0,g.uQ)()||"",r=(0,h.kl)("embedData"),a=decodeURIComponent(m.E7(r)?.originalText||""),l=b(o.zkO.USER);return r&&i&&a&&(!t||e.inModal)?(0,d.k)().figjam_a11y_inline_toolbar?(0,n.jsx)(_.V,{variant:"button",tooltip:(0,u.t)("whiteboard.embeds.inline_menu.change_back_to_text"),ariaLabel:(0,u.t)("whiteboard.embeds.inline_menu.change_back_to_text"),onClick:l,recordingKey:"embedConvertToTextControl",children:(0,n.jsx)(s,{})}):(0,n.jsx)(x.K0,{svg:y.A,active:"NONE",tooltip:(0,u.t)("whiteboard.embeds.inline_menu.change_back_to_text"),onClick:l,recordingKey:"embedConvertToTextControl"}):null}},917051:(e,t,i)=>{i.d(t,{e:()=>b,f:()=>y});var n=i(486106),r=i(7378),a=i(514228),s=i(311426),o=i(601108),l=i(27355),d=i(303541),c=i(815170),u=i(671547),p=i(216495),m=i(275640),h=i(774045),f=i(144634),g=i(439493),_=i(305639);let x=()=>{let e=(0,m.kl)("embedData");return decodeURIComponent(p.E7(e)?.url||p.E7(e)?.srcUrl||"")};function y(){let e=(0,a.wA)(),t=x(),i=(0,m.kl)("embedData"),n=(0,u.tq)(i);return r.useCallback(()=>{t&&(n(u.yc.OPEN_PREVIEW),e((0,c.RK)({rawInput:t})))},[t,e,n])}function b(e){let t=(0,l.md)(h.n),i=x(),r=y();return i&&(e.inModal||!t)?(0,o.k)().figjam_a11y_inline_toolbar?(0,n.jsx)(f.V,{variant:"button",tooltip:(0,d.t)("whiteboard.embeds.inline_menu.open_link"),ariaLabel:(0,d.t)("whiteboard.embeds.inline_menu.open_link"),onClick:r,recordingKey:"embedOpenExternalControl",children:(0,n.jsx)(s.V,{})}):(0,n.jsx)(g.K0,{svg:_.A,active:"NONE",tooltip:(0,d.t)("whiteboard.embeds.inline_menu.open_link"),onClick:r,recordingKey:"embedOpenExternalControl"}):null}},584673:(e,t,i)=>{i.d(t,{nG:()=>z,tT:()=>q});var n=i(486106),r=i(7378),a=i(514228),s=i(934246),o=i(860955),l=i(53857),d=i(821217),c=i(947268);let u=(0,r.memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.5 5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5M4 5.5A1.5 1.5 0 0 1 5.5 4h4A1.5 1.5 0 0 1 11 5.5v4A1.5 1.5 0 0 1 9.5 11h-4A1.5 1.5 0 0 1 4 9.5zm12.015 7.94L15.5 15.5l-2.06.515c-.505.126-.505.844 0 .97l2.06.515.515 2.06c.126.505.844.505.97 0l.515-2.06 2.06-.515c.505-.126.505-.844 0-.97L17.5 15.5l-.515-2.06c-.126-.505-.844-.505-.97 0M9.5 14h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 0-.5-.5m-4-1A1.5 1.5 0 0 0 4 14.5v4A1.5 1.5 0 0 0 5.5 20h4a1.5 1.5 0 0 0 1.5-1.5v-4A1.5 1.5 0 0 0 9.5 13zm9-8h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-4a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5m-1.5.5A1.5 1.5 0 0 1 14.5 4h4A1.5 1.5 0 0 1 20 5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4A1.5 1.5 0 0 1 13 9.5z",clipRule:"evenodd"})})});var p=i(601108),m=i(27355);i(556482);var h=i(536384),f=i.n(h),g=i(612521),_=i(880308),x=i(564528),y=i(919079),b=i(714743),C=i(589278),v=i(303541),E=i(984674),T=i(985254),w=i(831799),j=i(545877),S=i(129884),k=i(794875),I=i(654279);function N(){return(0,n.jsx)(l.E,{variant:"defaultFilled",size:"md",children:(0,v.tx)("qa.ai")})}var A=i(759243),O=i(761984),L=i(295369),R=i(144634),M=i(659371),D=i(439493),P=i(769101),F=i(255873),B=i(735248),U=i(759863),G=i(228231);let H="figjam_organize_sort_stickies_sub_menu",z="https://help.figma.com/hc/articles/16822138920343-Use-AI-tools-in-Figma",V="used_figjam_ai_quick_actions",K=(0,j.r1)(V);function W(e){switch(e){case M.Uj.SUMMARIZE:return"summarize";case M.Uj.CLUSTER:return"sort stickies";case M.Uj.CREATE_FIGMA_SLIDES_OUTLINE:return"copy to slides";case M.Uj.CLUSTER_BY_AUTHOR:return"sort by author";case M.Uj.CLUSTER_BY_COLOR:return"sort by color";case M.Uj.CLUSTER_BY_STAMP_COUNT:return"sort by stamp count";case M.Uj.CLUSTER_BY_STAMP_TYPE:return"sort by stamp type";case M.Uj.OPEN_CLUSTER_BY_MORE_MENU:return"sort by more dropdown button";case M.Uj.TIDY_UP:return"tidy up";case M.Uj.WRAP_IN_SECTION:return"wrap in section";default:return"other organize action"}}function q(){let e=(0,M.Yh)(),t=e.filter(e=>!e?.disabled&&!e?.isInClusterSubmenu),i=e.filter(e=>e?.disabled&&!e?.isInClusterSubmenu),s=(0,_.g)(),u=(0,M.PX)(),[h,f]=(0,m.fp)(M.Y),g=(0,M.Wb)(),x=(0,M.Pn)();r.useEffect(()=>g,[g]),r.useEffect(()=>{h||x()},[h,x]);let y=(0,M.z1)(),b=function(){let e=(0,M.Yh)(),t=(0,M.QL)(),i=(0,M.E0)(),n=[...e];for(let e of(i&&(n=[...n,...t]),n))if(e&&M.IW[e.type])return!0;return!1}(),E=(0,v.t)("whiteboard.inline_menu.organize_dropdown_options_aria_label"),j=[...t,...i],{getTriggerProps:k,manager:I}=o.b(),A=(0,a.wA)(),L=(0,O.CI)(),D=(0,m.md)(K).data;return(0,p.k)().figjam_a11y_inline_toolbar?(0,n.jsx)(w.fu,{name:"organize_menu_dropdown",children:(0,n.jsxs)(o.bL,{manager:I,children:[(0,n.jsx)(R.V,{variant:"menu",getTriggerProps:()=>k({onClick:()=>{b&&A(T.b({[V]:!0}))}}),tooltip:(0,v.t)("whiteboard.inline_menu.organize_dropdown_button_aria_label"),ariaLabel:(0,v.t)("whiteboard.inline_menu.organize_dropdown_button_aria_label"),dataTestId:"inline_menu_organize_dropdown_button",recordingKey:"inline_menu_organize_dropdown_button",trackingProperties:{text:"organize dropdown button"},children:(0,n.jsxs)("div",{className:"x78zum5 x6s0dn4 x1jnr06f",children:[(0,n.jsx)(c.t,{}),(0,v.tx)("whiteboard.inline_menu.organize_button_text"),!D&&L&&(0,n.jsx)(w.fu,{name:"organize_actions_onboarding_badge",children:(0,n.jsx)(l.E,{variant:"brandFilled",children:(0,v.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge_2")})})]})}),(0,n.jsxs)(o.mc,{children:[(0,n.jsx)(o.YJ,{children:j.map(e=>{if(!e)return null;let{type:t,disabled:i,displayText:r,fplIcon:a,disabledTooltipText:s,tooltipOverrides:l}=e,c=l?.tooltip||(i&&s?s:void 0),p=l?.tooltipType||S.Ib.TEXT,m=(0,M.Ef)(e);return t===M.Uj.OPEN_CLUSTER_BY_MORE_MENU?(0,n.jsx)($,{disabled:i},t):(0,n.jsxs)(o.q7,{disabled:i,onClick:()=>u(e),recordingKey:Z(t),"data-testid":Z(t),"aria-label":r,htmlAttributes:{"data-tooltip":c,"data-tooltip-type":p,"data-tooltip-show-right":!0,"data-tooltip-text-left":!0,"data-tooltip-tip-align-left":!0},children:[a&&(0,n.jsx)(o.Q$,{children:(0,n.jsx)("div",{className:"x30jfuo",children:a})}),r,m&&(0,n.jsx)(o.Ov,{children:(0,n.jsx)(d.o,{eventListeners:["onClick","onPointerUp","onMouseUp"],children:(0,n.jsx)(N,{})})})]},t)})}),(0,n.jsx)(o.N_,{href:z,newTab:!0,trusted:!0,children:(0,n.jsx)(F._,{})})]})]})}):(0,n.jsx)(w.fu,{name:"organize_menu_dropdown",children:(0,n.jsx)(P.Fn,{OptionWrapper:function({children:e}){return(0,n.jsx)("div",{className:"organize_actions_control--flexColumn--p-Sra","aria-label":E,id:s,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0,children:e})},additionalContentsBottom:(0,n.jsx)("div",{className:C.s.mt4.$}),additionalContentsTop:(0,n.jsx)("div",{className:C.s.mt4.$}),onChange:(e,t)=>{t.preventDefault(),t.stopPropagation(),u(e)},options:j,overrideMenuOpenState:{isOpenOverride:h,setIsOpenOverride:f},popoverClassName:"organize_actions_control--popover--l143N",positionX:e=>e.x,renderButton:({onClick:e,onKeyDown:t,ref:i})=>(0,n.jsx)(Y,{disabled:!1,onClick:e,onKeyDown:e=>y(e,t),buttonRef:i,ariaWrapperId:s,trackingProperties:{text:"organize dropdown button"},dropdownContainsAiOption:b}),renderOption:J,value:void 0})})}let Y=(0,w.tf)(function({onClick:e,onKeyDown:t,buttonRef:i,ariaWrapperId:o,disabled:l,dropdownContainsAiOption:d}){let c=(0,a.wA)(),u=(0,m.md)(K).data,p=(0,O.CI)(),[h,g]=r.useState(0),_=(0,v.t)("whiteboard.inline_menu.organize_dropdown_button_aria_label");return(0,n.jsx)(D.$n,{ref:i,ariaControls:o,ariaLabel:_,buttonChildrenStyle:{justifyContent:"initial",width:"initial"},buttonStyle:{width:"auto",paddingRight:24},caret:"down",disabled:l,onClick:l?s.lQ:()=>{e(),d&&c(T.b({[V]:!0}))},onKeyDown:t,onboardingKey:L.Su,recordingKey:"inline_menu_organize_dropdown_button",role:"combobox",testId:"inline_menu_organize_dropdown_button",tooltip:l?I.w:void 0,tooltipType:l?S.Ib.SPECIAL:void 0,children:(0,n.jsxs)("div",{className:"organize_actions_control--withBadge--2qE6m",children:[(0,n.jsx)("div",{className:"organize_actions_control--buttonIconContainer--7BE5y",children:(0,n.jsx)(b.B,{svg:G.A,className:f()("organize_actions_control--svgIcon--Y27OU",{"organize_actions_control--svgIconDisabled--siNy6":l})})}),(0,v.tx)("whiteboard.inline_menu.organize_button_text"),!u&&p&&(0,n.jsx)(w.fu,{name:"organize_actions_onboarding_badge",children:(0,n.jsx)("div",{style:{paddingLeft:8},ref:e=>{g(e?.offsetWidth||h)},children:(0,n.jsx)(y.Ex,{text:(0,v.t)("whiteboard.inline_menu.ai_quick_actions_onboarding_badge_2"),color:y.zE.FIGJAM,size:y.vj.SMALL,className:"organize_actions_control--onboardingBadge--NG7o-",dataTestId:"figjam_ai_quick_actions_onboarding_badge"})})})]})})});function X({isFocused:e}){let t=(0,O.v1)(),i=(0,M.PX)(),a=(0,M.QL)(),o=(0,m.md)(M.u3),[l,d]=(0,m.fp)(M.UI),[c,u]=(0,m.fp)(M.kw),[p,h]=r.useState(!1);return(r.useEffect(()=>{let e=setTimeout(()=>{h(!0)},200);return()=>{clearTimeout(e)}},[h]),r.useEffect(()=>{e?u(!0):u(!1)},[e,u]),t)?(0,n.jsxs)("div",{onMouseEnter:()=>{p&&d(!0)},onMouseLeave:()=>{d(!1)},"data-testid":"whiteboard_organize_sort_sub_menu_wrapper",children:[(0,n.jsx)(Q,{ariaLabel:(0,v.t)("whiteboard.inline_menu.arrange_stickies_dropdown_button_aria_label"),disabled:!1,displayText:(0,v.t)("whiteboard.inline_menu.sort_by_dropdown_button_text_2"),id:`${M.Uj.OPEN_CLUSTER_BY_MORE_MENU}-menu-option`,isAiOption:!1,isFocused:e,isSubMenu:!0,onClick:()=>{l||d(!l)},onKeyDown:()=>{d(!l)},svgSrc:B.A,trackingProperties:{text:W(M.Uj.OPEN_CLUSTER_BY_MORE_MENU)},type:M.Uj.OPEN_CLUSTER_BY_MORE_MENU},`${M.Uj.OPEN_CLUSTER_BY_MORE_MENU}-menu-option`),l&&(0,n.jsx)(w.fu,{name:H,children:(0,n.jsx)("div",{className:"organize_actions_control--submenuPopover--3lKOZ",children:(0,n.jsx)("div",{className:"organize_actions_control--submenuContainer--TmBn7",children:(0,n.jsx)(D.W1,{children:(0,n.jsx)("div",{className:C.s.flex.flexColumn.py6.w200.$,"aria-label":(0,v.t)("whiteboard.inline_menu.arrange_stickies_dropdown_button_aria_label"),role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0,children:a.map((e,t)=>J({value:e,onClick:()=>i(e),onKeyDown:s.lQ,isSelected:!1,isFocused:o===t}))})})})})})]}):null}let J=e=>{let{value:t,onClick:i,id:r,isFocused:a,onKeyDown:s}=e;if(!t)return null;let o=(0,M.Ef)(t),{type:l,disabled:d,displayText:c,svgSrc:u,disabledTooltipText:p,tooltipOverrides:m}=t,h=W(l);return l===M.Uj.OPEN_CLUSTER_BY_MORE_MENU?(0,n.jsx)(X,{isFocused:a},M.Uj.OPEN_CLUSTER_BY_MORE_MENU):(0,n.jsx)(Q,{disabled:d,disabledTooltipText:p,displayText:c,id:r,isAiOption:o,isFocused:a,onClick:i,onKeyDown:s,svgSrc:u,tooltipOverrides:m,trackingProperties:{text:h},type:l},`${l}-menu-option`)};function Z(e){return`inline_menu_organize_option-${e}`}let Q=(0,w.tf)(function({id:e,type:t,displayText:i,svgSrc:r,disabledTooltipText:a,disabled:o,onClick:l,onKeyDown:c,isFocused:u,tooltipOverrides:p,isAiOption:m,isSubMenu:h,ariaLabel:_}){let y=p?.tooltip||(o&&a?a:""),v=p?.tooltipType||S.Ib.TEXT;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{"aria-label":_??i,"aria-selected":"false",className:f()("organize_actions_control--optionContainer--RtoCw",{"organize_actions_control--optionContainerDisabled--mB76I":o,"organize_actions_control--optionContainerIsFocused--8x27n":u}),"data-tooltip":y,"data-tooltip-offset-x":6,"data-tooltip-show-right":!0,"data-tooltip-text-left":!0,"data-tooltip-tip-align-left":!0,"data-tooltip-type":v,id:e,role:"option",tabIndex:-1,children:(0,n.jsx)(k.c$,{children:(0,n.jsxs)("div",{className:C.s.flex.justifyBetween.itemsCenter.gap8.$,children:[(0,n.jsx)(E.E,{truncate:!0,children:i}),m&&(0,n.jsx)(d.o,{eventListeners:["onClick","onPointerUp","onMouseUp"],children:(0,n.jsx)(A.v,{location:"INLINE_TOOLBAR",hoverStyleClassName:f()({"organize_actions_control--aiBetaBadge--F1z9L":!o}),onPointerUp:()=>{(0,x.Lf)(z)||g.Ay.unsafeRedirect(z,"_blank")}})}),h&&(0,n.jsx)("span",{className:C.s.pl4.mr0.$,children:(0,n.jsx)(b.B,{svg:U.A})})]}),additionalStylesClassName:void 0,"data-testid":Z(t),dataTestId:Z(t),disabled:o,fullWidth:!0,height:32,ignoreCheck:!0,onKeyDown:o?s.lQ:c,onMouseUp:o?s.lQ:l,recordingKey:Z(t),selected:!1,style:{width:"95%",marginBottom:0},svg:r,value:t},`option-${t}`)})})});function $({disabled:e}){let t=(0,O.v1)(),i=(0,M.QL)(),r=(0,M.PX)();return t?(0,n.jsx)(w.fu,{name:H,children:(0,n.jsxs)(o.g8,{children:[(0,n.jsxs)(o.ZP,{disabled:e,recordingKey:Z(M.Uj.OPEN_CLUSTER_BY_MORE_MENU),"data-testid":Z(M.Uj.OPEN_CLUSTER_BY_MORE_MENU),"aria-label":(0,v.t)("whiteboard.inline_menu.arrange_stickies_dropdown_button_aria_label"),children:[(0,n.jsx)(o.Q$,{children:(0,n.jsx)("div",{className:"x30jfuo",children:(0,n.jsx)(u,{})})}),(0,v.t)("whiteboard.inline_menu.sort_by_dropdown_button_text_2")]}),(0,n.jsx)(o.MJ,{children:(0,n.jsx)(o.YJ,{children:i.map(e=>{if(!e)return null;let{type:t,disabled:i,displayText:a,svgSrc:s}=e,l=(0,M.Ef)(e);return(0,n.jsxs)(o.q7,{disabled:i,onClick:()=>r(e),recordingKey:Z(t),"data-testid":Z(t),"aria-label":a,children:[s&&(0,n.jsx)(o.Q$,{children:(0,n.jsx)("div",{className:"x30jfuo",children:(0,n.jsx)(b.B,{svg:s})})}),a,l&&(0,n.jsx)(o.Ov,{children:(0,n.jsx)(d.o,{eventListeners:["onClick","onPointerUp","onMouseUp"],children:(0,n.jsx)(N,{})})})]},t)})})})]})}):null}},505291:(e,t,i)=>{i.d(t,{p:()=>p});var n=i(486106),r=i(7378),a=i(251970);i(556482);var s=i(536384),o=i.n(s),l=i(478006),d=i(617427),c=i(303541),u=i(831799);let p=(0,r.memo)(function(e){let{leftContent:t,content:i,rightContent:r,trackingContext:s="DLT Banner",onClose:p,isFloatingBanner:f,shouldHide:g}=e;return(0,l.h8)({isFigjamDLTBanner:!0,bannerType:e.bannerType}),(0,n.jsx)(u.fu,{name:s,children:(0,n.jsxs)("div",{className:o()(f?"dlt_banner--floatingBanner--Gv-Xd":"dlt_banner--banner--nGI-J",{"dlt_banner--hide--MO-Ze":g}),children:[(0,n.jsx)(m,{leftContent:t}),(0,n.jsx)(h,{content:i}),r,r&&p&&(0,n.jsx)("div",{className:"x1xc55vz"}),p?(0,n.jsx)(d.Me,{"aria-label":(0,c.t)("common.close"),onClick:p,recordingKey:"dltBannerCloseButton",htmlAttributes:{"data-testid":"dltBannerCloseButton"},trackingEventName:"dlt_banner_closed",children:(0,n.jsx)(a.A,{})}):null]})})}),m=(0,r.memo)(function(e){let{icon:t,text:i}=e.leftContent??{},r=t&&(0,n.jsx)("div",{className:"dlt_banner--icon--gtxyL",children:t}),a=i&&(0,n.jsx)("b",{children:i});return(0,n.jsxs)("div",{className:o()("dlt_banner--leftContent--5Yk4A text--fontPos12--YsUAh text--_fontBase--QdLsd",i&&t?"dlt_banner--leftContentIconAndText--QjRmB":i?"dlt_banner--leftContentOnlyText--4VC-I":t?"dlt_banner--leftContentOnlyIcon--Nb45Y":"dlt_banner--leftContentEmpty--dXeoN"),children:[r,a]})}),h=(0,r.memo)(function(e){let{content:t}=e;return(0,n.jsx)("div",{className:"dlt_banner--mainContent--eTkSu text--fontPos12--YsUAh text--_fontBase--QdLsd",children:t})})},435916:(e,t,i)=>{i.d(t,{X:()=>J,O:()=>ei});var n=i(486106),r=i(7378),a=i(514228),s=i(934246),o=i(763686),l=i(601108),d=i(27355),c=i(536384),u=i.n(c),p=i(207101),m=i(778880),h=i(303541),f=i(985254),g=i(621515),_=i(956262),x=i(579169),y=i(545877),b=i(455680),C=i(740163),v=i(722362),E=i(268271),T=i(455766),w=i(14910),j=i(728657),S=i(595131),k=i(103090),I=i(929976),N=i(924253),A=i(848862),O=i(357047),L=i(425180),R=i(748636),M=i(598952);function D({dismissModal:e,targetKey:t=M.oi.ZOOM}){let i=(0,a.wA)(),s=(0,k.R)(({mirror:{appModel:e}})=>e.showUi),l=(0,A.Um)(),d=(0,r.useRef)(!1),c=(0,N.q)(),u=(0,r.useCallback)(()=>{e(),i(I.oB())},[e,i]);return(0,r.useEffect)(()=>{d.current&&!(0,O.TY)(l)&&e()},[e,l]),(0,r.useEffect)(()=>{if(c&&!d.current){if((0,O.TY)(l))i(I.ho({type:O.pi,data:{selectionToUpdate:o.m7W.PREFERENCES}}));else{let e=s?42:0;i(I.j7({type:O.pi,data:{targetRect:{top:0,right:e,bottom:e,left:0,width:e,height:e},togglePreferences:!0},hasOwnEscKeyHandler:!0}))}d.current=!0}},[i,l,c,s]),(0,n.jsx)(L.rq,{isShowing:!0,trackingContextName:"new_user_pan_zoom_pref_tooltip",onClose:u,targetKey:t,emphasized:!0,title:(0,h.tx)("mouse_controls_modal.new_user.title"),description:(0,h.tx)("mouse_controls_modal.new_user.description"),arrowPosition:R.F_.LEFT_TITLE})}var P=i(6204),F=i(505291);function B(){return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.80079 15.0786V10.2857H5.80079V15.0786L6.94724 13.9322L7.65434 14.6393L5.30079 16.9928L2.94724 14.6393L3.65434 13.9322L4.80079 15.0786Z",fill:"#8638E5"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.80077 20.2071V25H4.80077V20.2071L3.65433 21.3536L2.94722 20.6464L5.30077 18.2929L7.65433 20.6464L6.94722 21.3536L5.80077 20.2071Z",fill:"#8638E5"}),(0,n.jsx)("path",{d:"M8.22183 11.7644C7.44078 10.9834 7.44078 9.71705 8.22183 8.93601C9.00288 8.15496 10.2692 8.15496 11.0503 8.93601L18.8284 16.7142L16 19.5426L8.22183 11.7644Z",fill:"white"}),(0,n.jsx)("path",{d:"M8.57538 11.4109C7.9896 10.8251 7.9896 9.87535 8.57538 9.28956C9.16117 8.70377 10.1109 8.70377 10.6967 9.28956L18.1213 16.7142L16 18.8355L8.57538 11.4109Z",stroke:"black",strokeOpacity:"0.9"}),(0,n.jsx)("path",{d:"M13.171 12.4716C12.39 11.6905 12.39 10.4242 13.171 9.64316C13.9521 8.86211 15.2184 8.86211 15.9995 9.64316L20.9492 14.5929L18.1208 17.4213L13.171 12.4716Z",fill:"white"}),(0,n.jsx)("path",{d:"M13.5246 12.118C12.9388 11.5322 12.9388 10.5825 13.5246 9.99671C14.1104 9.41093 15.0601 9.41093 15.6459 9.99671L20.2421 14.5929L18.1208 16.7142L13.5246 12.118Z",stroke:"black",strokeOpacity:"0.9"}),(0,n.jsx)("path",{d:"M15.9992 11.0574C15.2181 10.2764 15.2181 9.01002 15.9992 8.22897C16.7802 7.44793 18.0466 7.44793 18.8276 8.22897L23.0702 12.4716L20.2418 15.3L15.9992 11.0574Z",fill:"white"}),(0,n.jsx)("path",{d:"M16.3527 10.7038C15.7669 10.1181 15.7669 9.16831 16.3527 8.58253C16.9385 7.99674 17.8883 7.99674 18.474 8.58253L22.3631 12.4716L20.2418 14.5929L16.3527 10.7038Z",stroke:"black",strokeOpacity:"0.9"}),(0,n.jsx)("path",{d:"M19.5353 10.3502C18.7543 9.5692 18.7543 8.30287 19.5353 7.52182C20.3164 6.74077 21.5827 6.74077 22.3637 7.52182L25.1922 10.3502L22.3637 13.1787L19.5353 10.3502Z",fill:"white"}),(0,n.jsx)("path",{d:"M19.8889 9.9967C19.3031 9.41091 19.3031 8.46116 19.8889 7.87538C20.4746 7.28959 21.4244 7.28959 22.0102 7.87538L24.4851 10.3502L22.3637 12.4716L19.8889 9.9967Z",stroke:"black",strokeOpacity:"0.9"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0144L25.8992 22.3711C29.0234 19.2469 29.0234 14.1816 25.8992 11.0574L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.4619 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8709 19.5897C12.2623 19.1581 10.585 19.9977 9.9665 21.544C9.78861 21.9888 10.0272 22.4908 10.4843 22.6337L16.5493 24.5303C19.3396 25.4028 22.3727 25.0002 24.8389 23.43L25.2536 23.0152L25.256 23.0143L28.0205 20.2498C29.9732 18.2972 29.9732 15.1313 28.0205 13.1787L25.1921 10.3502L16 19.5423L16.3172 19.8596C16.462 20.0043 16.3217 20.2472 16.124 20.1942L13.8709 19.5897ZM17.3246 19.6318L25.1921 11.7644L27.3134 13.8858C28.8755 15.4479 28.8755 17.9806 27.3134 19.5427L24.7125 22.1436L24.7101 22.1445L24.2113 22.6433C22.0103 24.008 19.3228 24.3498 16.8477 23.5758L10.9742 21.7391C11.4561 20.7767 12.5552 20.2721 13.6117 20.5555L15.8649 21.16C16.8504 21.4244 17.5982 20.4627 17.3246 19.6318Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("rect",{x:"15.292",y:"17.4214",width:"2",height:"4",transform:"rotate(-45 15.292 17.4214)",fill:"white"}),(0,n.jsx)("path",{d:"M16.2617 18.3853C16.7382 18.8834 17.3334 19.5012 17.3555 19.7388L17.7643 19.562L16.2617 18.3853Z",fill:"white"}),(0,n.jsx)("rect",{x:"17.4141",y:"15.3",width:"2",height:"4",transform:"rotate(-45 17.4141 15.3)",fill:"white"}),(0,n.jsx)("rect",{x:"19.5352",y:"13.1787",width:"2",height:"4",transform:"rotate(-45 19.5352 13.1787)",fill:"white"}),(0,n.jsx)("rect",{x:"23.0703",y:"13.8859",width:"2",height:"4",transform:"rotate(-45 23.0703 13.8859)",fill:"white"}),(0,n.jsx)("rect",{x:"21.6562",y:"11.0574",width:"2",height:"4",transform:"rotate(-45 21.6562 11.0574)",fill:"white"}),(0,n.jsx)("path",{d:"M20.9492 20.2498L28.0203 13.1787V13.1787C29.9729 15.1313 29.9729 18.2971 28.0203 20.2498L25 23.27L24.5 23.5L20.9492 20.2498Z",fill:"white"}),(0,n.jsx)("path",{d:"M27.3137 13.8858C27.509 14.0811 27.8256 14.0811 28.0208 13.8858C28.2161 13.6906 28.2161 13.374 28.0208 13.1787L27.3137 13.8858ZM24.4853 11.0574L27.3137 13.8858L28.0208 13.1787L25.1924 10.3503L24.4853 11.0574Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.8514 23.4906L24.0517 23.882L23.6121 22.9839L24.4118 22.5924L24.8514 23.4906Z",fill:"white"}),(0,n.jsx)("path",{d:"M24.8516 23.4907C25.0996 23.3693 25.2022 23.0698 25.0808 22.8218C24.9594 22.5738 24.6599 22.4711 24.4119 22.5926L24.8516 23.4907ZM24.0519 23.8822L24.8516 23.4907L24.4119 22.5926L23.6122 22.984L24.0519 23.8822Z",fill:"black",fillOpacity:"0.9"})]})}function U(){return(0,n.jsxs)("svg",{width:"17",height:"24",viewBox:"0 0 17 24",fill:"none",children:[(0,n.jsx)("rect",{width:"16.8",height:"24",rx:"8.4",fill:"white"}),(0,n.jsx)("rect",{x:"0.5",y:"0.5",width:"15.8",height:"23",rx:"7.9",stroke:"black",strokeOpacity:"0.9"}),(0,n.jsx)("rect",{x:"6",y:"4.80005",width:"4.8",height:"8.4",rx:"2.4",fill:"#9747FF"}),(0,n.jsx)("rect",{x:"6.5",y:"5.30005",width:"3.8",height:"7.4",rx:"1.9",stroke:"black",strokeOpacity:"0.9"})]})}function G(){return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:[(0,n.jsx)("rect",{width:"16.8007",height:"24",rx:"8.40036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 25.2197 6.58252)",fill:"white"}),(0,n.jsx)("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),(0,n.jsx)("path",{d:"M14.0391 15.7617L21.5291 17.7686L23.2014 14.0238L22.377 9.61005L19.7149 6.10149L16.8341 5.32959L14.0391 15.7617Z",fill:"#9747FF"}),(0,n.jsx)("rect",{x:"-0.61236",y:"0.353557",width:"15.8007",height:"23",rx:"7.90036",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 24.1074 6.43607)",stroke:"black",strokeOpacity:"0.9"}),(0,n.jsx)("rect",{width:"4.8002",height:"8.4",rx:"2.4001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 18.1826 9.66602)",fill:"white"}),(0,n.jsx)("rect",{x:"-0.61236",y:"0.353557",width:"3.8002",height:"7.4",rx:"1.9001",transform:"matrix(-0.965926 -0.258819 -0.258795 0.965932 17.0703 9.51957)",stroke:"black",strokeOpacity:"0.9"})]})}function H(){return(0,n.jsxs)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3535 6.50001H19V7.50001H21.3535L20.2071 8.64645L20.9142 9.35356L23.2677 7.00001L20.9142 4.64645L20.2071 5.35356L21.3535 6.50001Z",fill:"#8638E5"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64649 6.50001H10V7.50001H7.64649L8.79293 8.64645L8.08583 9.35356L5.73227 7.00001L8.08583 4.64645L8.79293 5.35356L7.64649 6.50001Z",fill:"#8638E5"}),(0,n.jsx)("path",{d:"M11 8C11 6.89543 11.8954 6 13 6V6C14.1046 6 15 6.89543 15 8V19H11V8Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 18V8C14 7.44772 13.5523 7 13 7C12.4477 7 12 7.44772 12 8V18H14ZM13 6C11.8954 6 11 6.89543 11 8V19H15V8C15 6.89543 14.1046 6 13 6Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("path",{d:"M8 13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 26V16.2C11 15.0524 10.1213 14.11 9 14.009V20.0742C9 21.2192 9.21848 22.3536 9.64371 23.4167L10.677 26H11ZM10 27L8.71523 23.7881C8.24275 22.6069 8 21.3464 8 20.0742V13.8C8 13.3582 8.35817 13 8.8 13C10.5673 13 12 14.4327 12 16.2V27H10Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("path",{d:"M14 6C14 4.89543 14.8954 4 16 4V4C17.1046 4 18 4.89543 18 6V19H14V6Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 18V6C17 5.44772 16.5523 5 16 5C15.4477 5 15 5.44772 15 6V18H17ZM16 4C14.8954 4 14 4.89543 14 6V19H18V6C18 4.89543 17.1046 4 16 4Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("path",{d:"M17 13C17 11.8954 17.8954 11 19 11V11C20.1046 11 21 11.8954 21 13V19H17V13Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H20ZM19 11C17.8954 11 17 11.8954 17 13V19H21V13C21 11.8954 20.1046 11 19 11Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("path",{d:"M20 15C20 13.8954 20.8954 13 22 13V13C23.1046 13 24 13.8954 24 15V19H20V15Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 18V15C23 14.4477 22.5523 14 22 14C21.4477 14 21 14.4477 21 15V18H23ZM22 13C20.8954 13 20 13.8954 20 15V19H24V15C24 13.8954 23.1046 13 22 13Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("path",{d:"M11 19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27H11V19Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 20H12V26H22.2192L22.7313 23.9518C22.9098 23.2379 23 22.5048 23 21.7689V20ZM23 27H11V19H24V21.7689C24 22.5866 23.8997 23.4011 23.7014 24.1943L23 27Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("path",{d:"M11 19H22V27H11V19Z",fill:"white"}),(0,n.jsx)("path",{d:"M15 17C15 17.2761 14.7761 17.5 14.5 17.5C14.2239 17.5 14 17.2761 14 17C14 16.7239 14.2239 16.5 14.5 16.5C14.7761 16.5 15 16.7239 15 17Z",fill:"white"}),(0,n.jsx)("path",{d:"M12 19C12 19.2761 11.7761 19.5 11.5 19.5C11.2239 19.5 11 19.2761 11 19C11 18.7239 11.2239 18.5 11.5 18.5C11.7761 18.5 12 18.7239 12 19Z",fill:"white"}),(0,n.jsx)("path",{d:"M18 17C18 17.2761 17.7761 17.5 17.5 17.5C17.2239 17.5 17 17.2761 17 17C17 16.7239 17.2239 16.5 17.5 16.5C17.7761 16.5 18 16.7239 18 17Z",fill:"white"}),(0,n.jsx)("path",{d:"M21 18C21 18.2761 20.7761 18.5 20.5 18.5C20.2239 18.5 20 18.2761 20 18C20 17.7239 20.2239 17.5 20.5 17.5C20.7761 17.5 21 17.7239 21 18Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.5 17.5C14.7761 17.5 15 17.2761 15 17C15 16.7239 14.7761 16.5 14.5 16.5C14.2239 16.5 14 16.7239 14 17C14 17.2761 14.2239 17.5 14.5 17.5Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.5 19.5C11.7761 19.5 12 19.2761 12 19C12 18.7239 11.7761 18.5 11.5 18.5C11.2239 18.5 11 18.7239 11 19C11 19.2761 11.2239 19.5 11.5 19.5Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 17.5C17.7761 17.5 18 17.2761 18 17C18 16.7239 17.7761 16.5 17.5 16.5C17.2239 16.5 17 16.7239 17 17C17 17.2761 17.2239 17.5 17.5 17.5Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.5 18.5C20.7761 18.5 21 18.2761 21 18C21 17.7239 20.7761 17.5 20.5 17.5C20.2239 17.5 20 17.7239 20 18C20 18.2761 20.2239 18.5 20.5 18.5Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("path",{d:"M10 26H23V26.6C23 26.8209 22.8209 27 22.6 27H10.4C10.1791 27 10 26.8209 10 26.6V26Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"white"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.6941 24.8912C9.95025 24.788 10.2415 24.9121 10.3447 25.1682L10.84 26.3984C10.9431 26.6545 10.8191 26.9458 10.5629 27.049C10.3068 27.1521 10.0155 27.0281 9.91238 26.7719L9.41704 25.5417C9.3139 25.2856 9.43794 24.9943 9.6941 24.8912Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.0231 24.8459C22.7554 24.7781 22.4835 24.9402 22.4157 25.2079L22.0949 26.4752C22.0271 26.7429 22.1892 27.0148 22.4569 27.0826C22.7246 27.1503 22.9965 26.9883 23.0643 26.7206L23.3851 25.4533C23.4529 25.1856 23.2908 24.9136 23.0231 24.8459Z",fill:"black",fillOpacity:"0.9"}),(0,n.jsx)("path",{d:"M20 18H23V21H20V18Z",fill:"white"}),(0,n.jsx)("path",{d:"M12 17H15V21H12V17Z",fill:"white"}),(0,n.jsx)("path",{d:"M16 17H19V21H16V17Z",fill:"white"}),(0,n.jsx)("path",{d:"M21 16H23V21H21V16Z",fill:"white"}),(0,n.jsx)("path",{d:"M18 16H20V26H18V16Z",fill:"white"}),(0,n.jsx)("path",{d:"M15 16H17V26H15V16Z",fill:"white"}),(0,n.jsx)("path",{d:"M12 16H14V26H12V16Z",fill:"white"})]})}let z="figjam_pan_zoom_onboarding--icon--TaGJG",V="figjam_pan_zoom_onboarding--bannerContainer--CsV0q",K={NEW_USER_PAN:"figjam_seen_new_user_dlt_pan",NEW_USER_ZOOM:"figjam_seen_new_user_dlt_zoom"};function W({children:e}){return(0,n.jsx)("span",{className:"figjam_pan_zoom_onboarding--boldedBannerText--Zx-EN",children:e})}function q(e){let{onNext:t,onManualDismiss:i}=e,s=(0,a.wA)(),l=(0,r.useCallback)(()=>{s(f.b({[K.NEW_USER_ZOOM]:!0}))},[s]),d=(0,r.useCallback)(()=>{l(),i()},[l,i]),c=(0,r.useCallback)(()=>{l(),t()},[l,t]);return(0,r.useEffect)(()=>(o.glU?.setUsedZoomAction(!1),b.Y5.fromFullscreen.on("zoomActionMessageForOnboarding",c),()=>{b.Y5.fromFullscreen.removeListener("zoomActionMessageForOnboarding",c)}),[s,c]),(0,n.jsx)(F.p,{trackingContext:"FigJam New User Zoom Banner",content:(0,n.jsx)("div",{className:V,children:(0,h.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll",{boldTextPinch:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:u()("figjam_pan_zoom_onboarding--zoomIcon--efDh8",z),children:(0,n.jsx)(B,{})}),(0,n.jsx)(W,{children:(0,h.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_pinch")})]}),boldTextScroll:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:z,children:(0,n.jsx)(U,{})}),(0,n.jsx)(W,{children:(0,h.tx)("rcs.figjam_zoom.to_zoom_pinch_your_trackpad_or_hold_and_scroll_bold_text_scroll")})]})})}),rightContent:(0,n.jsx)(X,{onChangePreferences:e.onChangePreferences}),onClose:d})}function Y(e){let{onManualDismiss:t}=e,[i,s]=(0,r.useState)(!1),l=(0,a.wA)();(0,p.h)(()=>{setTimeout(()=>{s(!0)},1e3)});let d=(0,r.useCallback)(()=>{l(f.b({[K.NEW_USER_PAN]:!0}))},[l]),c=(0,r.useCallback)(()=>{d(),t()},[d,t]);return((0,r.useEffect)(()=>{if(i)return o.glU?.setUsedPanAction(!1),b.Y5.fromFullscreen.on("panActionMessageForOnboarding",c),()=>{b.Y5.fromFullscreen.removeListener("panActionMessageForOnboarding",c)}},[l,i,c]),i)?(0,n.jsx)(F.p,{trackingContext:"FigJam New User Pan Banner",content:(0,n.jsx)("div",{className:V,children:(0,h.tx)("rcs.figjam_pan.move_instructions",{boldTextSwipe:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:z,children:(0,n.jsx)(H,{})}),(0,n.jsx)(W,{children:(0,h.tx)("rcs.figjam_pan.move_instructions_bold_text_swipe")})]}),boldTextRightClick:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:z,children:(0,n.jsx)(G,{})}),(0,n.jsx)(W,{children:(0,h.tx)("rcs.figjam_pan.hold_right_click")})]})})}),rightContent:(0,n.jsx)(X,{onChangePreferences:e.onChangePreferences}),onClose:c}):null}function X({onChangePreferences:e}){return(0,n.jsx)("button",{onClick:e,className:"figjam_pan_zoom_onboarding--changePreferencesButton--0z5Xs text--fontPos11--2LvXf text--_fontBase--QdLsd",children:(0,h.tx)("rcs.figjam_pan_zoom_change_prefs")})}function J(){let e=(0,v.aV)(),t=(0,S.Td)(),i=(0,a.d4)(e=>e.isMakeSomethingV2Active);return t||e||i?null:(0,n.jsx)(et,{})}let Z=(0,y.r1)(K.NEW_USER_PAN),Q=(0,y.r1)(K.NEW_USER_ZOOM),$=(0,y.Fu)("figjam_editor_onboarded"),ee=[function(e){let{isOverlayShowing:t,next:i,complete:r,onChangePreferences:a}=e;return t?(0,n.jsx)(q,{onNext:i,onManualDismiss:r,onChangePreferences:a}):null},function(e){let{isOverlayShowing:t,complete:i,onChangePreferences:r}=e;return t?(0,n.jsx)(Y,{onNext:i,onManualDismiss:i,onChangePreferences:r}):null}];function et(){let e=(0,d.md)(Z),t=(0,d.md)(Q),i=(0,d.md)($),a=(0,d.md)(x.Fy),o=(0,d.md)(x.g5),l=(0,d.md)(x.NT),c=(0,d.md)(j.w),[u,p]=(0,r.useState)(!1),h=(0,_.A)({numSteps:ee.length,onComplete:s.lQ}),{show:f,complete:y,isShowing:b}=(0,g.e)({overlay:P.eD$,priority:E.N.DEFAULT_MODAL},[e,t,i,a,o,l]);(0,r.useEffect)(()=>{let e=[j.tX.NOT_STARTED,j.tX.COMPLETED].includes(c),t=h.currentStep===ee.length-1;b||!e||t||f({canShow:(e,t,i,n,r,a)=>{let s=!m.Xb&&!m.aR,o=(0,w.d)({emailValidatedAt:r,jobTitle:a});return![j.tX.USE_CASE_STEPS,j.tX.MODAL_SHOWING].includes(c)&&(!!i||o)&&!n&&!e&&!t&&s}})},[b,c,f,h.currentStep]);let C=(0,r.useCallback)(()=>{p(!0)},[p]),v=(0,r.useCallback)(()=>{p(!1)},[p]);return b?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(T.U,{currentStep:h.currentStep,children:ee.map((e,t)=>r.createElement(e,{isOverlayShowing:h.currentStep===t,next:h.next,complete:y,onChangePreferences:C})),isShowing:!0}),u?(0,n.jsx)(D,{dismissModal:v,targetKey:1===h.currentStep?M.oi.PAN:M.oi.ZOOM}):null]}):null}function ei(){return(0,l.k)().figjam_nav_new_user_onboarding&&(0,C.UK)().scrollWheelZoom.getCopy()&&(0,C.UK)().rightClickPan.getCopy()}},861323:(e,t,i)=>{i.d(t,{q:()=>K,x:()=>H});var n=i(486106),r=i(7378),a=i(514228),s=i(27355),o=i(536384),l=i.n(o),d=i(169182),c=i(751457),u=i(589278),p=i(968813),m=i(973927),h=i(469876),f=i(486443),g=i(845253),_=i(372672),x=i(18797),y=i(862883),b=i(129884),C=i(381612),v=i(42189),E=i(526509),T=i(630194),w=i(316480),j=i(658673),S=i(806373),k=i(837467),I=i(937735),N=i(552397),A=i(801324),O=i(300024),L=i(289511),R=i(27776),M=i(694413),D=i(731560);let P=R.YCy,F=[{src:(0,d.ck)("9cd2eb2ff31cb221dce81ca1e67aa51e12b24166"),zIndex:0,width:50,height:50,translateStart:{x:42,y:36},rotateStart:-15,translateEnd:{x:42,y:36},rotateEnd:-15},{src:(0,d.ck)("276fdbb8f6edbcb958f84235ebfc58b63eab0fc2"),zIndex:1,width:50,height:50,translateStart:{x:95,y:36},rotateStart:15,translateEnd:{x:95,y:36},rotateEnd:15},{src:(0,d.ck)("94db9cf93e2a26f927d5f1a7f066f8b045985011"),zIndex:2,width:50,height:50,translateStart:{x:42,y:66},rotateStart:-10,translateEnd:{x:42,y:66},rotateEnd:-10},{src:(0,d.ck)("004b50b1460d47029608e9aaa66c09c1c94c6741"),zIndex:3,width:50,height:50,translateStart:{x:95,y:66},rotateStart:10,translateEnd:{x:95,y:66},rotateEnd:10}];function B({recentItems:e,toolbarIconScale:t,isModalOpen:i}){let r=(0,w.ws)(e);return(0,n.jsx)("div",{className:l()(D.z6,D.ac,M.JY),style:{width:112*t},children:F.map((e,a)=>{var s,o;let l=r[a];return(0,n.jsx)(G,{zIndex:P+1+e.zIndex,width:e.width*t,height:e.height*t,isModalOpen:i,transform:(s={x:e.translateStart.x*t,y:e.translateStart.y*t},o=e.rotateStart,`translate(calc(-50% + ${s.x}px), calc(-50% + ${s.y}px)) rotate(${o}deg)`),children:l?(0,n.jsx)(S.E,{item:l,width:e.width*t,height:e.height*t,disableTooltips:!0}):(0,n.jsx)("img",{src:e.src,alt:"",className:M.VF})},l?.id||e.src)})})}function U({onClick:e,isSelected:t,isHovered:i}){return(0,n.jsx)("div",{className:u.s.flex.itemsCenter.justifyCenter.mx20.h40.w40.$,children:(0,n.jsx)(N.I,{toolType:"universal-insert-collage",recordingKey:(0,T.hx)("universal-insert-plus"),isSelected:t,hasOpenSubmenu:!1,onClick:e,"data-tooltip-type":b.Ib.LOOKUP,"data-tooltip":"browse-all-resources-dlt","data-tooltip-offset-y":-2,children:(0,n.jsx)(k.gd,{toolType:"universal-insert-collage",inactiveIcon:(0,n.jsx)(A.nX,{}),hoveredIcon:(0,n.jsx)(A.ZH,{}),activeIcon:(0,n.jsx)(A.cs,{}),isSelected:t,isHovered:i})})})}function G({zIndex:e,width:t,height:i,transform:r,isModalOpen:a,children:s}){return(0,n.jsx)("div",{className:l()(M.s,{[M.r3]:a}),style:{zIndex:e,width:t,height:i,transform:r},children:(0,n.jsx)("div",{className:M.f_,children:s})})}function H(e,t){let[i,n]=(0,r.useState)(!1),a=(0,r.useRef)(!1),s=(0,r.useRef)([]);return s.current=t,(0,r.useEffect)(()=>{e||a.current||(a.current=!0,async function(){let e=[];for(let t of s.current)t&&e.push(new Promise(e=>{let i=new Image;i.src=t,i.addEventListener("load",()=>e()),i.addEventListener("error",()=>e())}));await Promise.all(e),n(!0)}())},[e]),i}function z({toolbarIconScale:e}){let t=(0,_.TA)(),[i,o]=(0,r.useState)(!1),l=(0,a.wA)(),d=(0,w.NT)(),c=(0,s.md)(E.c5),u=(0,f.XM)(),b=(0,g.sZ)(),j=(0,a.d4)(e=>e.universalInsertModal.showing),k=(0,m.fG)(),A=(0,L.r)(j,c?.stage!=="FULL"?v.p.MORE:void 0);(0,r.useEffect)(()=>{l(C.cd.fetchTemplatesMetadata({key:y.$A.FigJam,orgId:b?.id})),l(C.cd.fetchWidgetsMetadata({key:y.$A.FigJam})),o(!0)},[l,b?.id]);let R=(0,x.oh)(p.fC),P=(0,x.oh)(C.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:y.$A.FigJam})),F=(0,x.oh)(C.cd.fetchWidgetsMetadata.loadingKeyForPayload({key:y.$A.FigJam})),G=H(!i||R||P||F,d.map(e=>(0,S.h)(e,k,t??void 0)))?d.map(e=>e.id||"").sort((e,t)=>e.localeCompare(t)).join(""):"loading",z=u&&c?.stage==="MINIMIZED_ZERO"||c?.stage==="MINIMIZED"||c?.stage==="CUT_OFF";return(0,n.jsx)(I.XN,{alignment:"CENTER",children:(0,n.jsx)(N.I,{toolType:"universal-insert-collage",recordingKey:(0,T.hx)("universal-insert-collage"),isSelected:j,className:h.pb.isGoogleClassroomIntegration()?D.vy:D.qs,onClick:A,ariaLabel:"browse-all-resources-dlt",onboardingKey:O.yl,"data-does-not-dismiss-modal":!0,hasOpenSubmenu:j,children:t=>(0,n.jsx)(I.ti,{isSelected:t,noScaleAnimation:!0,isRightEdge:!0,children:(0,n.jsxs)("div",{className:M.Ge,"data-element-target":O.b,"data-cancel-insertable-resource-drag-and-drop":!0,children:[!z&&(0,n.jsx)(B,{recentItems:d,toolbarIconScale:e,isModalOpen:j},G),(0,n.jsx)(U,{onClick:A,isSelected:j,isHovered:t})]})})})})}function V(){return(0,n.jsx)(I.XN,{alignment:"CENTER",children:(0,n.jsx)("div",{"data-element-target":O.b,className:M.V6,children:(0,n.jsx)(j.Hm,{})})})}let K=(0,r.memo)(function({toolbarIconScale:e}){return(0,n.jsx)(c.tH,{fallback:(0,n.jsx)(V,{}),boundaryKey:"UniversalInsertCollage",children:(0,n.jsx)(z,{toolbarIconScale:e})})})},630757:(e,t,i)=>{i.d(t,{U:()=>f,j:()=>g});var n=i(486106),r=i(459490);let a="M14.9998 22.0001C16.6567 22.0001 17.9998 23.3433 17.9998 25.0001V29.0001C17.9998 30.657 16.6567 32.0001 14.9998 32.0001H10.9998C9.39474 32.0001 8.08406 30.7396 8.00376 29.1544L7.99985 29.0001V25.0001C7.99985 23.3433 9.34299 22.0001 10.9998 22.0001H14.9998ZM27.9998 26.0001H31.9998V28.0001H27.9998V32.0001H25.9998V28.0001H21.9998V26.0001H25.9998V22.0001H27.9998V26.0001ZM10.9998 24.0001L10.8973 24.005C10.3932 24.0563 9.99985 24.4824 9.99985 25.0001V29.0001L10.0047 29.1027C10.0526 29.5731 10.4269 29.9473 10.8973 29.9952L10.9998 30.0001H14.9998L15.1024 29.9952C15.5728 29.9473 15.9471 29.5731 15.995 29.1027L15.9998 29.0001V25.0001C15.9998 24.4824 15.6065 24.0563 15.1024 24.005L14.9998 24.0001H10.9998ZM11.7372 7.44836C12.5227 6.80757 13.6816 6.85379 14.4139 7.58605L18.4139 11.5861L18.5516 11.7374C19.1924 12.523 19.1462 13.6819 18.4139 14.4142L14.4139 18.4142C13.6816 19.1464 12.5227 19.1927 11.7372 18.5519L11.5858 18.4142L7.58579 14.4142C6.80474 13.6331 6.80474 12.3671 7.58579 11.5861L11.5858 7.58605L11.7372 7.44836ZM26.9998 8.00012C29.7613 8.00012 31.9998 10.2387 31.9998 13.0001C31.9998 15.7615 29.7613 18.0001 26.9998 18.0001C24.2384 18.0001 21.9998 15.7615 21.9998 13.0001C21.9998 10.2387 24.2384 8.00012 26.9998 8.00012ZM8.99985 13.0001L12.9998 17.0001L16.9998 13.0001L12.9998 9.00012L8.99985 13.0001ZM26.9998 10.0001C25.343 10.0001 23.9998 11.3433 23.9998 13.0001C23.9998 14.657 25.343 16.0001 26.9998 16.0001C28.6567 16.0001 29.9998 14.657 29.9998 13.0001C29.9998 11.3433 28.6567 10.0001 26.9998 10.0001Z",s="M29.5788 26.1828C29.7208 25.6148 30.5284 25.6149 30.6706 26.1828L31.2497 28.5001L33.5671 29.0792C34.1352 29.2213 34.1352 30.029 33.5671 30.171L31.2497 30.7501L30.6706 33.0675C30.5284 33.6354 29.7208 33.6355 29.5788 33.0675L28.9997 30.7501L26.6823 30.171C26.1147 30.0288 26.1147 29.2215 26.6823 29.0792L28.9997 28.5001L29.5788 26.1828ZM17.4342 10.3097C18.2606 7.89508 21.7387 7.89512 22.5651 10.3097L22.6383 10.5587L23.8981 15.6007L28.9411 16.8615C31.602 17.527 31.6851 21.2117 29.1901 22.0656L28.9411 22.1388L23.8981 23.3986L22.6383 28.4416C21.9513 31.1881 18.048 31.1881 17.361 28.4416L16.1003 23.3986L11.0583 22.1388C8.31197 21.4517 8.31197 17.5486 11.0583 16.8615L16.1003 15.6007L17.361 10.5587L17.4342 10.3097ZM20.6979 11.0441C20.516 10.3171 19.4833 10.3171 19.3014 11.0441L17.7497 17.2501L11.5436 18.8019C10.8169 18.9839 10.8169 20.0164 11.5436 20.1984L17.7497 21.7501L19.3014 27.9562C19.4719 28.6378 20.3909 28.6805 20.6549 28.0841L20.6979 27.9562L22.2497 21.7501L28.0827 20.2912L28.4557 20.1984C29.1373 20.0279 29.1801 19.1088 28.5837 18.8449L28.4557 18.8019L22.2497 17.2501L20.6979 11.0441ZM9.32878 5.93276C9.47084 5.36482 10.2784 5.3649 10.4206 5.93276L10.9997 8.25015L13.3171 8.82925C13.8852 8.97127 13.8852 9.77902 13.3171 9.92105L10.9997 10.5001L10.4206 12.8175C10.2784 13.3854 9.47084 13.3855 9.32878 12.8175L8.74967 10.5001L6.43229 9.92105C5.86469 9.77879 5.86469 8.9715 6.43229 8.82925L8.74967 8.25015L9.32878 5.93276Z";function o(){return(0,n.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,n.jsx)("rect",{width:"40",height:"40",rx:"8",fill:"white"}),(0,n.jsx)("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:a,fill:"black",fillOpacity:"0.9"})]})}function l(){return(0,n.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,n.jsx)("rect",{width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),(0,n.jsx)("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:a,fill:"black",fillOpacity:"0.9"})]})}function d(){return(0,n.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,n.jsx)("rect",{width:"40",height:"40",rx:"8",fill:"#9747FF"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:a,fill:"white"})]})}function c(){return(0,n.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,n.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,n.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,n.jsx)("g",{transform:"translate(21,21) scale(0.85) translate(-21,-21)",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:a,fill:"black",fillOpacity:"0.9"})})]})}function u(){return(0,n.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,n.jsx)("rect",{width:"40",height:"40",rx:"8",fill:"white"}),(0,n.jsx)("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:s,fill:"black",fillOpacity:"0.9"})]})}function p(){return(0,n.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,n.jsx)("rect",{width:"40",height:"40",rx:"8",fill:"#F5F5F5"}),(0,n.jsx)("rect",{x:"0.5",y:"0.5",width:"39",height:"39",rx:"7.5",stroke:"black",strokeOpacity:"0.2"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:s,fill:"black",fillOpacity:"0.9"})]})}function m(){return(0,n.jsxs)("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",children:[(0,n.jsx)("rect",{width:"40",height:"40",rx:"8",fill:"#9747FF"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:s,fill:"white"})]})}function h(){return(0,n.jsxs)("svg",{width:"42",height:"42",viewBox:"0 0 42 42",fill:"none",children:[(0,n.jsx)("rect",{x:"1",y:"1",width:"40",height:"40",rx:"5",fill:"white"}),(0,n.jsx)("rect",{x:"0.583333",y:"0.583333",width:"40.8333",height:"40.8333",rx:"5.41667",stroke:"black",strokeOpacity:"0.1",strokeWidth:"0.833333"}),(0,n.jsx)("g",{transform:"translate(21,21) scale(0.85) translate(-21,-21)",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:s,fill:"black",fillOpacity:"0.9"})})]})}function f(){let e=!(0,r.q8)();return{Inactive:e?u:o,GrayHover:e?p:l,Active:e?m:d}}function g(){return(0,r.q8)()?(0,n.jsx)(c,{}):(0,n.jsx)(h,{})}},659371:(e,t,i)=>{i.d(t,{Cb:()=>z,E0:()=>U,Ef:()=>B,IW:()=>O,PX:()=>V,Pn:()=>F,QL:()=>H,UI:()=>L,Uj:()=>A,Wb:()=>P,Y:()=>D,Yh:()=>G,kw:()=>M,u3:()=>R,z1:()=>K});var n=i(486106),r=i(7378),a=i(934246),s=i(114128),o=i(993374),l=i(90943),d=i(764527),c=i(189185),u=i(601108),p=i(27355),m=i(63728),h=i(459490),f=i(303541),g=i(482208),_=i(455680),x=i(678782),y=i(129884),b=i(654279),C=i(29287),v=i(101849),E=i(481968),T=i(761984),w=i(402783),j=i(299537),S=i(339098),k=i(796779),I=i(853229),N=i(371621),A=(e=>(e.SUMMARIZE="summarize",e.CLUSTER="cluster_by_topic",e.TIDY_UP="tidy_up",e.WRAP_IN_SECTION="wrap_in_section",e.CLUSTER_BY_AUTHOR="cluster_by_author",e.CLUSTER_BY_COLOR="cluster_by_color",e.CLUSTER_BY_STAMP_COUNT="cluster_by_stamp_count",e.CLUSTER_BY_STAMP_TYPE="cluster_by_stamp_type",e.OPEN_CLUSTER_BY_MORE_MENU="open_cluster_by_more_menu",e.CREATE_FIGMA_SLIDES_OUTLINE="create_figma_slides_outline",e))(A||{});let O={summarize:!0,cluster_by_topic:!0,create_figma_slides_outline:!0,tidy_up:!1,wrap_in_section:!1,cluster_by_author:!1,cluster_by_color:!1,cluster_by_stamp_count:!1,cluster_by_stamp_type:!1,open_cluster_by_more_menu:!1},L=(0,p.eU)(!1),R=(0,p.eU)(null),M=(0,p.eU)(!1),D=(0,p.eU)(!1);function P(){let e=F(),[t,i]=(0,p.fp)(D),n=(0,p.Xr)(M);return r.useCallback(()=>{e(),i(!1),n(!1)},[e,i,n])}function F(){let[e,t]=(0,p.fp)(R),[i,n]=(0,p.fp)(L);return r.useCallback(()=>{t(null),n(!1)},[t,n])}function B(e){return!!e&&(O[e.type]||!1)}function U(){return(0,T.v1)()}function G(){let e=(0,h.q8)(),t=(0,u.k)().figjam_synthesize_handbrake||!1,i=[],r=(0,T.V)()&&!e,a=(0,T.cF)(),c=(0,C.IR)(),p=U(),m=(0,x.Zr)("create-section-from-selection"),_=(0,x.Zr)("tidy-up"),v=(0,x.Zr)("align-top"),E={tooltip:b.w,tooltipType:y.Ib.SPECIAL};return p&&i.push({type:"open_cluster_by_more_menu",disabled:!1,isInClusterSubmenu:!1,displayText:"",disabledTooltipText:""}),r&&i.push({type:"summarize",disabled:!a||t,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_summarize_button"),svgSrc:S.A,fplIcon:(0,n.jsx)(s.O,{}),disabledTooltipText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_summarize_disabled_tooltip",{minSelectedStickies:2}),tooltipOverrides:t?E:void 0,isInClusterSubmenu:!1}),_&&v&&i.push({type:"tidy_up",disabled:!1,displayText:(0,g.A)("tidy-up"),svgSrc:N.A,fplIcon:(0,n.jsx)(o.D,{}),tooltipOverrides:{tooltip:"tidy-up",tooltipType:y.Ib.LOOKUP}}),m&&i.push({type:"wrap_in_section",disabled:!1,displayText:(0,g.A)("create-section-from-selection"),svgSrc:I.A,fplIcon:(0,n.jsx)(l.c,{}),tooltipOverrides:{tooltip:"create-section-from-selection",tooltipType:y.Ib.LOOKUP}}),c&&i.push({type:"create_figma_slides_outline",disabled:t,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_create_slides_outline"),svgSrc:k.A,fplIcon:(0,n.jsx)(d.x,{}),disabledTooltipText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_create_slides_outline_disabled_tooltip",{minSelectedStickies:2}),tooltipOverrides:t?E:void 0,isInClusterSubmenu:!1}),i}function H(){return[...function(){let e=(0,h.q8)(),t=(0,T.v1)();if(e)return[];let i=!!(0,u.k)().figjam_synthesize_handbrake,n=[],r=(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2}),a={tooltip:b.w,tooltipType:y.Ib.SPECIAL};return n.push({type:"cluster_by_topic",disabled:!t||i,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_topic_2"),disabledTooltipText:r,tooltipOverrides:i?a:void 0,isInClusterSubmenu:!0}),n}(),...function(){let e=(0,T.v1)(),t=(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_disabled_tooltip",{minSelectedStickies:2}),i=[];return i.push({type:"cluster_by_color",disabled:!e,isInClusterSubmenu:!0,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_color_2"),disabledTooltipText:t}),i.push({type:"cluster_by_author",disabled:!e,isInClusterSubmenu:!0,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_author_2"),disabledTooltipText:t}),i.push({type:"cluster_by_stamp_count",disabled:!e,isInClusterSubmenu:!0,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_stamp_count_2"),disabledTooltipText:t}),i.push({type:"cluster_by_stamp_type",disabled:!e,isInClusterSubmenu:!0,displayText:(0,f.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_by_stamp_type_2"),disabledTooltipText:t}),i}()].filter(e=>e?.isInClusterSubmenu&&"open_cluster_by_more_menu"!==e.type)}function z(){return!!G().find(e=>e?.type==="summarize"||e?.type==="cluster_by_topic"||e?.type==="open_cluster_by_more_menu")}function V(){let e=(0,p.md)(j.f).positionRelativeToSelection,{summarizeCanvasSelection:t}=(0,w.ss)(e,void 0,"INLINE_TOOLBAR"),{clusterCanvasSelection:i}=(0,E.f)(),{cluster:n}=(0,E.J)(v.Gq,!1),{cluster:r}=(0,E.J)(v.MS,!1),{cluster:s}=(0,E.J)(v.bM,!0),{cluster:o}=(0,E.J)(v.ON,!1),l=(0,C.iX)(),d=P();return e=>{let u=a.lQ,p="";if(e){switch(e.type){case"cluster_by_author":u=n,p="inline-menu-organize-cluster-by-author";break;case"cluster_by_color":u=r,p="inline-menu-organize-cluster-by-color";break;case"cluster_by_stamp_count":u=s,p="inline-menu-organize-cluster-by-stamp-count";break;case"cluster_by_stamp_type":u=o,p="inline-menu-organize-cluster-by-stamp-type";break;case"summarize":u=t,p="inline-menu-organize-summarize";break;case"create_figma_slides_outline":u=l,p="inline-menu-organize-create-figma-slides-outline";break;case"cluster_by_topic":u=i,p="inline-menu-organize-cluster";break;case"tidy_up":u=()=>_.Y5.triggerActionInUserEditScope("tidy-up"),p="inline-menu-organize-tidy-up";break;case"wrap_in_section":u=()=>_.Y5.triggerActionInUserEditScope("create-section-from-selection"),p="inline-menu-organize-wrap-in-section"}c.l7.user(p,u),"open_cluster_by_more_menu"!==e.type&&d()}}}function K(){let[e,t]=(0,p.fp)(L),[i,n]=(0,p.fp)(R),[r,a]=(0,p.fp)(M),s=H(),o=V();return(a,l)=>{if(a.shiftKey||a.altKey||a.ctrlKey){l(a);return}if(e)switch(a.keyCode){case m.Uz.ESCAPE:t(!1),n(null);break;case m.Uz.DOWN_ARROW:null===i?n(0):i+1<s.length&&n(i+1);break;case m.Uz.UP_ARROW:null===i?n(s.length-1):i-1>=0&&n(i-1);break;case m.Uz.RIGHT_ARROW:null===i&&n(0);break;case m.Uz.LEFT_ARROW:n(null),t(!1);break;case m.Uz.ENTER:null!==i&&i<s.length&&(a.preventDefault(),a.stopPropagation(),o(s[i]))}else if(r)switch(a.keyCode){case m.Uz.RIGHT_ARROW:t(!0);break;case m.Uz.LEFT_ARROW:t(!1);break;default:l(a)}else l(a)}}},180472:(e,t,i)=>{i.d(t,{V3:()=>O,ML:()=>K,w:()=>A,HG:()=>L});var n=i(486106),r=i(7378),a=i(514228),s=i(443068),o=i(251970),l=i(763686),d=i(194682),c=i(348225),u=i(930821),p=i(492004),m=i(806412),h=i(347284),f=i(303541),g=i(941192),_=i(124493),x=i(797478),y=i(656450),b=i(167249),C=i(565197),v=i(407856),E=i(99493),T=i(995608),w=i(960980),j=i(731583),S=i(62612);function k({nodePosition:e,isExpanded:t,children:i}){let a=(0,S._X)({subscribeToUpdates_expensive:!0}),s=(0,r.useMemo)(()=>(0,S.Yb)(a,e.absoluteBounds),[e.absoluteBounds,a]),o=(0,r.useMemo)(()=>(0,S.ZT)(s,a),[s,a]),l=(0,r.useMemo)(()=>{if(!s)return{};let e=s.x+a.x,i=s.y+a.y;return{width:s.width,height:s.height,position:"fixed",transform:`translate(${e}px, ${i}px)`,pointerEvents:"none",zIndex:t?1:0}},[a.x,a.y,s,t]);return o?(0,n.jsx)("div",{style:l,children:(0,n.jsx)("div",{style:{pointerEvents:"all"},children:i({viewportZoom:a.zoomScale})})}):null}var I=i(27776),N=i(10897);let A=32,O=7.5,L=256;var R=(e=>(e.DEFAULT="default",e.HOVERED="hovered",e.SELECTED="selected",e.DIMMED="dimmed",e))(R||{}),M=(e=>(e.LARGE="large",e.MEDIUM="medium",e.SMALL="small",e.X_SMALL="xSmall",e))(M||{});function D({clientHeight:e,scrollHeight:t,scrollTop:i}){return 1>Math.abs(t-e-i)}function P({nodeVoteInfo:e,isMostVoted:t,isSelected:i,isHoveredInModal:a,isOtherPinSelected:s,selectPin:o,deselectPin:d,nodePosition:c,currentUserId:u}){let[p,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)(p),[g,_]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!p){f(!1);return}let e=setTimeout(()=>f(!0),100);return()=>clearTimeout(e)},[p]);let x=(0,r.useCallback)(()=>o(e.guid),[o,e.guid]),y=(0,r.useCallback)(()=>d(e.guid),[d,e.guid]),b=i?"selected":h||a?"hovered":s?"dimmed":"default",C="selected"===b||"hovered"===b;return(0,r.useEffect)(()=>{C&&!g?(l.ofk.setVoteStampsHiddenOnVotedNode(e.guid,!0),_(!0)):!C&&g&&(l.ofk.setVoteStampsHiddenOnVotedNode(e.guid,!1),_(!1))},[C,g,e.guid]),(0,n.jsx)(k,{nodePosition:c,isExpanded:["selected","hovered"].includes(b),children:({viewportZoom:i})=>(0,n.jsx)(F,{recordingKey:`votePin-nodeId${e.guid}`,nodeVoteInfo:e,isMostVoted:t,pinState:b,setIsHovered:m,selectPin:x,deselectPin:y,viewportSize:i>.75?"large":i>.5?"medium":i>.25?"small":"xSmall",currentUserId:u})})}let F=r.memo(function({nodeVoteInfo:e,isMostVoted:t,pinState:i,setIsHovered:a,selectPin:l,deselectPin:p,viewportSize:_,currentUserId:y,recordingKey:b}){let C=(0,r.useRef)(null),v=(0,r.useRef)(null),[E,T]=(0,r.useState)(0),[j,S]=(0,r.useState)(!1),[k,L]=(0,r.useState)(!0),[R,M]=(0,r.useState)(0),[P,F]=(0,r.useState)(!1),H=(0,w.oC)(e),V={large:{paddingTop:"2px",paddingBottom:"2px",paddingLeft:"10px",paddingRight:"10px"},medium:{paddingTop:"1px",paddingBottom:"1px",paddingLeft:"8px",paddingRight:"8px"},small:{paddingTop:"0px",paddingBottom:"0px",paddingLeft:"7px",paddingRight:"7px"},xSmall:{paddingTop:"0px",paddingBottom:"0px",paddingLeft:"6px",paddingRight:"6px"}}[_],K={large:1,medium:.9,small:.8,xSmall:.7}[_];(0,r.useEffect)(()=>{if("selected"!==i)return;let e=e=>{(0,x.n3)(e.target,C.current)||p()};return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[i,p,e.guid]);let W=t?g.sx.colorBgvotingtertiary.$.backgroundColor:g.sx.colorBg.$.backgroundColor,q={default:{transform:`scale(${K})`,backgroundColor:W,borderColor:W,opacity:1,...V},dimmed:{transform:`scale(${K})`,backgroundColor:W,borderColor:W,opacity:.5,...V},hovered:{transform:"scale(1)",backgroundColor:W,borderColor:W,opacity:1,paddingTop:"8px",paddingBottom:"12px",paddingLeft:"16px",paddingRight:"0px"},selected:{transform:"scale(1)",backgroundColor:W,...g.sx.colorBorderSelectedStrong.$,opacity:1,paddingTop:"8px",paddingBottom:"12px",paddingLeft:"16px",paddingRight:"0px"}},Y={default:{width:"0px",height:"0px",marginLeft:"0px",marginRight:"0px",opacity:0},dimmed:{width:"0px",height:"0px",marginLeft:"0px",marginRight:"0px",opacity:0},hovered:{width:I.$tX,height:I.$tX,marginLeft:"8px",marginRight:"12px",opacity:0},selected:{width:I.$tX,height:I.$tX,marginLeft:"8px",marginRight:"12px",opacity:1}},X=(0,r.useMemo)(()=>{let t=(0,w.zi)(y);return Object.entries(e.userIdToNodeVotes).sort((e,i)=>t(e[0],i[0]))},[e.userIdToNodeVotes,y]),J=X.length>3,Z=J?X.slice(0,2):X,Q=J?X.slice(2):[],$={hovered:{height:`${A}px`},selected:{height:"auto"}},ee=(0,r.useCallback)(e=>{let t=0!==e;t!==j&&S(t);let i=v.current?.getScrollHeight(),n=v.current?.getTrackHeight(),r=void 0===i||void 0===n||D({clientHeight:n,scrollHeight:i,scrollTop:e});r!==k&&L(r)},[j,k]),et=(0,r.useCallback)(e=>{if(!e||!v.current){S(!1),L(!0);return}let t=v.current.getScrollTop(),i=v.current.getScrollHeight(),n=v.current.getTrackHeight();S(0!==t),L(D({clientHeight:n,scrollHeight:i,scrollTop:t}))},[]);return(0,n.jsxs)(d.x,{transition:{duration:.1,ease:"easeInOut"},children:[(0,n.jsx)("div",{role:"button",tabIndex:0,className:N.UD,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onClick:m.rf(b,"click",l),ref:C,style:{transform:`translateX(${10-E}px)`},id:e.guid,children:(0,n.jsxs)(c.P.div,{className:N.yM,initial:!1,animate:i,variants:q,children:[(0,n.jsxs)("p",{className:N.wx,children:[(0,n.jsx)(B,{numTotalVotes:H,isMostVoted:t}),(0,n.jsx)(c.P.span,{className:N.cG,initial:!1,animate:i,variants:Y,children:"selected"===i&&(0,n.jsx)(s.K,{onClick:e=>{e.stopPropagation(),p(),a(!1)},"aria-label":(0,f.t)("general.close"),children:(0,n.jsx)(o.A,{})})})]}),(0,n.jsx)(u.N,{children:["selected","hovered"].includes(i)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.P.div,{className:N.W0,animate:"selected"===i&&j&&!P?"scrolled":"notScrolled",initial:{marginTop:"0px",opacity:0},variants:{notScrolled:{marginTop:"4px",opacity:0},scrolled:{marginTop:"4px",opacity:1}},exit:{marginTop:"0px",opacity:0}}),(0,n.jsx)(c.P.div,{className:N.sI,initial:{width:"0px",height:"0px",opacity:0,transform:`scale(${1/K})`},animate:{width:"240px",height:"auto",opacity:1,transform:"scale(1)"},exit:{width:"0px",height:"0px",opacity:0,transform:`scale(${1/K})`},children:(0,n.jsx)(h.P,{ref:v,maxHeight:A*O,width:240,allowScrollAndZoomOver:!0,onScroll:ee,onCanScrollChange:et,forceRerenderCount:R,children:(0,n.jsxs)("ul",{className:N.hQ,children:[Z.map(([e,t])=>(0,n.jsx)(G,{userId:e,nodeVotes:t},e)),J&&(0,n.jsxs)(c.P.div,{initial:!1,animate:i,variants:$,onAnimationStart:()=>F(!0),onAnimationComplete:()=>{F(!1),M(e=>e+1)},children:["hovered"===i&&(0,n.jsx)(z,{overflowCount:X.length-Z.length}),"selected"===i&&Q.map(([e,t])=>(0,n.jsx)(G,{userId:e,nodeVotes:t},e))]})]})})}),(0,n.jsx)(c.P.div,{className:N.W0,animate:"selected"!==i||k||P?"hide":"show",initial:{opacity:0},variants:{show:{opacity:1},hide:{opacity:0}},exit:{opacity:0}})]})})]})}),(0,n.jsx)(U,{reportWidth:T,numTotalVotes:H,isMostVoted:t,scale:K,padding:V})]})});function B({numTotalVotes:e,isMostVoted:t}){return(0,n.jsxs)("span",{className:N.TK,children:[(0,n.jsx)("span",{children:(0,f.tx)("voting.pin.votes",{numVotes:e})}),t&&(0,n.jsx)("img",{src:T.Ys,className:N.C0,alt:(0,f.t)("voting.pin.medal_img_alt")})]})}function U({reportWidth:e,numTotalVotes:t,isMostVoted:i,scale:a,padding:s}){let o=r.useRef(null);return r.useLayoutEffect(()=>{let t=o.current;if(t){let{width:i}=t.getBoundingClientRect();window.myEl=t,e(i)}},[o,t,i,a,s.paddingLeft,s.paddingRight,s.paddingTop,s.paddingBottom,e]),(0,n.jsx)("div",{className:N.D9,style:{transform:`scale(${a})`},"aria-hidden":!0,children:(0,n.jsx)("span",{style:s,ref:o,children:(0,n.jsx)(B,{numTotalVotes:t,isMostVoted:i})})})}function G({userId:e,nodeVotes:t}){let i=t.length>3,r=i?t.slice(0,2):t,a=t.length-2;return(0,n.jsxs)("li",{className:N.QE,children:[(0,n.jsx)(H,{userId:e}),(0,n.jsxs)("div",{className:N.WK,children:[r.map(e=>(0,n.jsx)(V,{stampId:e},e)),i&&(0,n.jsx)("span",{className:N._v,children:a})]})]},e)}function H({userId:e}){let{user:t,loading:i}=(0,y.wW)(e);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.v,{userId:e,user:t,loading:i,size:24,loadingClassName:N.SD}),(0,n.jsx)(E.m,{userId:e,user:t,loading:i,defaultClassName:N.nT,loadingClassName:N.fK})]})}function z({overflowCount:e}){return(0,n.jsxs)("li",{className:N.Qf,children:[(0,n.jsx)("div",{className:N.EA,children:(0,n.jsx)(T.xL,{})}),(0,n.jsx)("span",{className:N.iG,children:(0,f.tx)("voting.pin.voter_list_overflow",{numOverflowingVoters:e})})]})}function V({stampId:e}){let t=(0,p.fU)(),i=(0,b.Fk)((e,t)=>{let i=e.get(t);return i?i.name:null},e),r=(()=>{let e=v.WJ.find(e=>e.label===i);return e&&(0,C.k6)(e,t)||v.tR})(),a=i?(0,f.t)("voting.pin.stamp_preview_alt_with_type",{stampType:i}):(0,f.t)("voting.pin.stamp_preview_alt_without_type");return(0,n.jsx)("img",{className:N.O8,src:r,alt:a})}function K({votedNodes:e,votingStage:t,selectedNodeId:i,currentUserId:s}){let o=(0,a.wA)(),d=(0,a.d4)(e=>e.voting.hoveredInModalVotePinId),c=(0,r.useMemo)(()=>(0,w.yn)(e),[e]),u=(0,r.useCallback)(e=>o(_.w9({votePinId:e})),[o]),p=(0,r.useCallback)(e=>o(_.rT({votePinId:e})),[o]),m=function({votedNodes:e}){let[t,i]=(0,r.useState)({}),n=(0,r.useMemo)(()=>e.map(e=>e.guid),[e]);return(0,r.useEffect)(()=>{if(!n.length){i({});return}let e="vote-pins",t=(0,j.EE)(e,n,e=>{i(t=>({...t,[e.nodeId]:e.position}))});return i(Object.entries(t.currentNodePosition).reduce((e,[t,i])=>(i&&(e[t]=i.position),e),{})),()=>{(0,j.lB)(e)}},[n]),t}({votedNodes:e});return(0,n.jsx)(n.Fragment,{children:e.map(e=>{let r=m[e.guid];if(!r)return null;let a=1===c.size&&c.has(e.guid)&&t===l.W8Y.ENDED;return(0,n.jsx)(P,{currentUserId:s,deselectPin:p,isHoveredInModal:d===e.guid,isMostVoted:a,isOtherPinSelected:!!i&&i!==e.guid,isSelected:i===e.guid,nodePosition:r,nodeVoteInfo:e,selectPin:u},e.guid)})})}},995608:(e,t,i)=>{i.d(t,{BV:()=>l,CB:()=>k,Cu:()=>O,D5:()=>x,EW:()=>h,G7:()=>a,Gg:()=>A,H$:()=>R,H0:()=>c,HK:()=>D,I5:()=>G,JK:()=>S,Mi:()=>E,N$:()=>d,QD:()=>B,QZ:()=>P,R8:()=>L,Un:()=>j,Vq:()=>F,Yl:()=>_,Ys:()=>s,_K:()=>g,ak:()=>v,c1:()=>N,dA:()=>w,dH:()=>m,h9:()=>f,kj:()=>y,lm:()=>I,pt:()=>C,qn:()=>T,rQ:()=>b,sJ:()=>U,xL:()=>o,xf:()=>p,yc:()=>u,zp:()=>M});var n=i(486106),r=i(169182);let a=(0,r.ck)("054596349bf8a2ae155aa7818cf2a3cbf483a9f4"),s=(0,r.ck)("295306027f272a9b0931ddec9321361f7cd8299b");function o(){return(0,n.jsx)("svg",{width:"20",height:"14",viewBox:"0 0 20 14",fill:"none",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 3.5C8.5 4.88071 7.38071 6 6 6C4.61929 6 3.5 4.88071 3.5 3.5C3.5 2.11929 4.61929 1 6 1C7.38071 1 8.5 2.11929 8.5 3.5ZM9.5 3.5C9.5 5.433 7.933 7 6 7C4.067 7 2.5 5.433 2.5 3.5C2.5 1.567 4.067 0 6 0C7.933 0 9.5 1.567 9.5 3.5ZM17 5C17 6.10457 16.1046 7 15 7C13.8954 7 13 6.10457 13 5C13 3.89543 13.8954 3 15 3C16.1046 3 17 3.89543 17 5ZM18 5C18 6.65685 16.6569 8 15 8C13.3431 8 12 6.65685 12 5C12 3.34315 13.3431 2 15 2C16.6569 2 18 3.34315 18 5ZM13.2108 10.4215C13.7492 10.1518 14.3569 10 15 10C17.2091 10 19 11.7909 19 14H20C20 11.2386 17.7614 9 15 9C14.1612 9 13.3706 9.20657 12.6763 9.57162C12.8743 9.83933 13.0532 10.1234 13.2108 10.4215ZM12 14H11C11 11.2386 8.76142 9 6 9C3.23858 9 1 11.2386 1 14H0C0 10.6863 2.68629 8 6 8C9.31371 8 12 10.6863 12 14Z"})})}function l({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_4137_211384)",children:(0,n.jsxs)("g",{clipPath:"url(#clip1_4137_211384)",children:[(0,n.jsx)("rect",{width:"64",height:"64",transform:"translate(0 16.3726) rotate(-15)",fill:e}),(0,n.jsx)("rect",{x:"12.7651",y:"25.3755",width:"44",height:"6",transform:"rotate(-15 12.7651 25.3755)",fill:"black",fillOpacity:"0.15"}),(0,n.jsx)("rect",{x:"15.871",y:"36.9666",width:"32",height:"6",transform:"rotate(-15 15.871 36.9666)",fill:"black",fillOpacity:"0.15"})]})}),(0,n.jsxs)("defs",{children:[(0,n.jsx)("clipPath",{id:"clip0_4137_211384",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})}),(0,n.jsx)("clipPath",{id:"clip1_4137_211384",children:(0,n.jsx)("rect",{width:"64",height:"64",fill:"white",transform:"translate(0 16.3726) rotate(-15)"})})]})]})}function d(){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_4119_210884)",children:[(0,n.jsx)("rect",{x:"1.93188",y:"17.8704",width:"40",height:"40",rx:"8",transform:"rotate(-15 1.93188 17.8704)",fill:"white"}),(0,n.jsx)("rect",{x:"4.65869",y:"35.7747",width:"4",height:"4",transform:"rotate(-15 4.65869 35.7747)",fill:"black",fillOpacity:"0.8"}),(0,n.jsx)("path",{d:"M6.55591 33.1958L4.61477 25.9514C3.47123 21.6836 5.43444 17.4495 9.59547 16.3346L33.1641 10.0194C37.3251 8.90444 41.1423 11.5897 42.2859 15.8574L44.227 23.1019",stroke:"black",strokeOpacity:"0.2"}),(0,n.jsx)("path",{d:"M8.62646 40.9232L10.5676 48.1676C11.7111 52.4354 15.5284 55.1206 19.6894 54.0057L43.258 47.6905C47.419 46.5755 49.3822 42.3414 48.2387 38.0737L46.2976 30.8293",stroke:"black",strokeOpacity:"0.2"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.2731 19.058L14.8865 23.7167L15.4041 25.6486L23.1315 23.578L28.3079 42.8965L30.2398 42.3789L25.0634 23.0604L32.7908 20.9898L32.2731 19.058Z",fill:"black",fillOpacity:"0.8"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4119_210884",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function c(){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_4119_210979)",children:[(0,n.jsx)("rect",{fill:"white",height:"10",rx:"2",stroke:"#0D99FF",strokeLinecap:"square",strokeWidth:"2",transform:"rotate(-15.0378 0.87391 13.0737)",width:"10",x:"0.87391",y:"13.0737"}),(0,n.jsx)("rect",{fill:"white",height:"10",rx:"2",stroke:"#0D99FF",strokeLinecap:"square",strokeWidth:"2",transform:"rotate(-15.0378 17.4791 74.8821)",width:"10",x:"17.4791",y:"74.8821"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.6782 27.9006L46.2859 22.7045L48.2177 22.1868L49.5833 27.2831L54.6798 25.9175L55.1974 27.8493L50.0013 29.2416L49.5104 27.4096L47.6782 27.9006ZM32.6806 33.8827L27.4845 35.275L26.9668 33.3431L32.0632 31.9775L30.6977 26.8814L32.6296 26.3637L34.0219 31.5598L34.1216 31.5331L47.5783 27.9274L49.5101 27.4097L50.0278 29.3416L53.6335 42.7982L54.1511 44.7301L52.2193 45.2477L38.7626 48.8534L36.8308 49.3711L36.8308 49.3711L38.6628 48.8802L40.0551 54.0763L38.1232 54.594L36.7577 49.4977L31.6615 50.8632L31.1438 48.9314L36.3399 47.5391L36.3131 47.4392L32.7074 33.9826L32.1898 32.0507L32.1897 32.0508L32.6806 33.8827ZM48.0959 29.8592L34.6393 33.4649L38.245 46.9216L51.7016 43.3159L48.0959 29.8592ZM54.278 44.8033L59.3744 43.4378L58.8568 41.5059L53.6607 42.8982L54.1515 44.73L52.3193 45.221L53.7116 50.4171L55.6435 49.8994L54.278 44.8033Z",fill:"#0D99FF"}),(0,n.jsx)("rect",{x:"7",y:"16.6052",width:"64",height:"64",transform:"rotate(-15.0378 7 16.6052)",stroke:"#0D99FF",strokeWidth:"2"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4119_210979",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function u(){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_4121_211214)",children:[(0,n.jsx)("rect",{fill:"white",height:"10",rx:"2",stroke:"#9747FF",strokeLinecap:"square",strokeWidth:"2",transform:"rotate(-15.0378 0.87391 13.0737)",width:"10",x:"0.87391",y:"13.0737"}),(0,n.jsx)("rect",{fill:"white",height:"10",rx:"2",stroke:"#9747FF",strokeLinecap:"square",strokeWidth:"2",transform:"rotate(-15.0378 17.4789 74.8821)",width:"10",x:"17.4789",y:"74.8821"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.8154 33.1697L40.4705 25.1453L48.5141 29.7671L43.859 37.7915L35.8154 33.1697ZM37.1696 49.4156L29.1452 44.7605L33.767 36.7169L41.7914 41.372L37.1696 49.4156ZM53.4151 48.061L48.76 56.0855L40.7164 51.4636L45.3715 43.4392L53.4151 48.061ZM60.0855 36.4702L52.0611 31.8151L47.4393 39.8587L55.4637 44.5138L60.0855 36.4702Z",fill:"#8638E5"}),(0,n.jsx)("rect",{x:"7",y:"16.6052",width:"64",height:"64",transform:"rotate(-15.0378 7 16.6052)",stroke:"#9747FF",strokeWidth:"2"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4121_211214",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function p(){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_4591_210267)",children:[(0,n.jsx)("rect",{x:"-2",y:"15.4233",width:"48",height:"48",rx:"9.6",transform:"rotate(-15 -2 15.4233)",fill:"white"}),(0,n.jsx)("rect",{x:"-1.26515",y:"15.8476",width:"46.8",height:"46.8",rx:"9",transform:"rotate(-15 -1.26515 15.8476)",stroke:"black",strokeOpacity:"0.2",strokeWidth:"1.2"}),(0,n.jsx)("circle",{cx:"31.4811",cy:"24.4658",r:"4.2",transform:"rotate(-15 31.4811 24.4658)",stroke:"black",strokeOpacity:"0.8",strokeWidth:"2.4"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.606 20.7418L36.1064 13.909C37.3868 13.566 38.7028 14.3258 39.0458 15.6061L45.8786 41.1065C46.2217 42.3868 45.4619 43.7028 44.1816 44.0459L42.4018 44.5228L21.5894 30.0419L20.6167 29.3651L19.9277 30.3293L13.2094 39.7307L8.90894 23.6812C8.56588 22.4009 9.32568 21.0849 10.606 20.7418ZM14.0138 42.7329L15.7418 49.1817C16.0848 50.462 17.4008 51.2218 18.6812 50.8787L39.368 45.3357L21.1914 32.6888L14.0138 42.7329ZM6.59072 24.3024C5.9046 21.7418 7.4242 19.1097 9.98483 18.4236L35.4853 11.5908C38.0459 10.9047 40.6779 12.4243 41.364 14.9849L48.1969 40.4854C48.883 43.046 47.3634 45.678 44.8028 46.3641L19.3023 53.197C16.7417 53.8831 14.1097 52.3635 13.4235 49.8028L6.59072 24.3024Z",fill:"black",fillOpacity:"0.8"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4591_210267",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function m({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_4121_211235)",children:(0,n.jsx)("rect",{y:"16.5644",width:"64",height:"64",rx:"3",transform:"rotate(-15 0 16.5644)",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4121_211235",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function h({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_4171_210078)",children:(0,n.jsx)("rect",{x:"-5.5",y:"14.4346",width:"88.7204",height:"72.0853",rx:"25.2992",transform:"rotate(-15 -5.5 14.4346)",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4171_210078",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function f({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_4171_210088)",children:(0,n.jsx)("path",{d:"M16.5562 8.25247C16.8973 6.92671 18.0926 6 19.4615 6L89.4516 6C91.4118 6 92.8454 7.84915 92.357 9.74752L73.765 82.0085C73.4239 83.3342 72.2286 84.2609 70.8596 84.2609H0.869569C-1.09063 84.2609 -2.52423 82.4118 -2.0358 80.5134L16.5562 8.25247Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4171_210088",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function g({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_4173_210152)",children:(0,n.jsx)("path",{d:"M75.9438 8.25247C75.6027 6.92671 74.4074 6 73.0385 6L3.04841 6C1.08821 6 -0.34539 7.84915 0.143036 9.74752L18.735 82.0085C19.0761 83.3342 20.2714 84.2609 21.6404 84.2609H91.6304C93.5906 84.2609 95.0242 82.4118 94.5358 80.5134L75.9438 8.25247Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4173_210152",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function _({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_4119_210848)",children:(0,n.jsx)("circle",{cx:"40",cy:"46",r:"40",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4119_210848",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function x({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_4119_210856)",children:(0,n.jsx)("g",{clipPath:"url(#clip1_4119_210856)",children:(0,n.jsx)("path",{d:"M18.693 6.40686C19.2012 4.50766 21.9085 3.78226 23.2982 5.17292L82.5015 64.4167C83.7556 65.6717 82.9788 67.752 81.0647 68.2649L0.211739 89.9294C-1.70237 90.4423 -3.41521 89.029 -2.95662 87.3152L18.693 6.40686Z",fill:e})})}),(0,n.jsxs)("defs",{children:[(0,n.jsx)("clipPath",{id:"clip0_4119_210856",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})}),(0,n.jsx)("clipPath",{id:"clip1_4119_210856",children:(0,n.jsx)("rect",{width:"89.0428",height:"77.1705",fill:"white",transform:"translate(-22.3394 16.0794) rotate(-15)"})})]})]})}function y({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_4121_211255)",children:(0,n.jsx)("path",{d:"M51.3523 84.6094C52.5437 86.3294 55.5163 86.0834 56.4088 84.191L94.4305 3.57293C95.2359 1.86524 93.7104 0.0603115 91.6086 0.234234L2.83059 7.58081C0.728861 7.75473 -0.479214 9.78588 0.59593 11.3379L51.3523 84.6094Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4121_211255",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function b({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_4119_210865)",children:[(0,n.jsx)("ellipse",{cx:"36.0212",cy:"10.0459",rx:"36.2221",ry:"8.35894",transform:"rotate(-15 36.0212 10.0459)",fill:e}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M72.0853 4.68736C67.4361 9.37258 54.7615 15.1933 39.2535 19.3486C21.2873 24.2612 6.9678 24.914 1.84497 22.4498L15.4556 73.2452L15.4564 73.2483L15.4564 73.2483C16.6513 77.7075 33.2845 77.1251 52.6077 71.9474C71.9309 66.7698 86.6269 58.9575 85.4321 54.4984L72.0853 4.68736Z",fill:e})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4119_210865",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function C({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_4171_210106)",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.30957 14.019C11.2258 17.2597 17.7809 30.6301 22.2705 47.3855C27.6619 67.5064 28.033 84.8893 23.0994 86.2112C22.8341 86.2823 22.5589 86.3055 22.2747 86.2826L22.3557 86.5848L94.06 67.3717L94.072 67.3685L94.0839 67.3652L94.4168 67.276L94.4086 67.2455C98.6089 65.2803 97.911 48.5964 92.7387 29.2931C87.5664 9.98975 79.8288 -4.80791 75.2087 -4.40965L75.2005 -4.44026L6.30957 14.019Z",fill:e}),(0,n.jsx)("ellipse",{rx:"37.1231",ry:"8.56687",transform:"matrix(-0.258819 -0.965926 -0.965926 0.258819 12.747 50.7267)",fill:e})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4171_210106",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function v({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_4121_211283)",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M67.808 -0.216748L71.1184 12.1379L84.015 60.2684C84.2789 61.2533 83.6944 62.2656 82.7096 62.5295L14.95 80.6856C13.9636 80.9499 12.9501 80.3633 12.6879 79.3764L0.985107 35.3241L17.2244 30.9728C18.2736 30.6916 18.8962 29.6132 18.6151 28.564L14.2374 12.2262L65.5469 -1.52218C66.5318 -1.78607 67.5441 -1.20161 67.808 -0.216748ZM14.1879 12.2394L12.5651 12.6743L12.5663 12.6788L14.1879 12.2394Z",fill:e}),(0,n.jsx)("path",{d:"M0.453613 33.7343L15.3437 29.7445C16.2999 29.4883 16.8674 28.5054 16.6112 27.5492L12.6214 12.6591L0.453613 33.7343Z",fill:e})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4121_211283",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function E({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_4121_211302)",children:[(0,n.jsx)("path",{d:"M1.59945 13.1347C1.69191 12.2997 2.28702 11.6068 3.09854 11.3894L33.2368 3.31384C34.0484 3.09639 34.9102 3.39889 35.4078 4.07583L43.442 15.006L0.106658 26.6177L1.59945 13.1347Z",fill:e}),(0,n.jsx)("path",{d:"M0.49585 28.071L77.3176 7.48667C78.4055 7.19517 79.5237 7.84077 79.8152 8.92866L93.0608 58.3616C93.3523 59.4495 92.7067 60.5677 91.6188 60.8592L16.7668 80.9157C15.6789 81.2072 14.5607 80.5616 14.2692 79.4737L0.49585 28.071Z",fill:e})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_4121_211302",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function T({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_1508_10125)",children:(0,n.jsx)("path",{d:"M114.56 0.523225L5.97986 10.0227C2.09706 10.3624 -0.43629 14.2562 0.826349 17.9436L23.8419 80.1745C24.7355 82.7842 27.2933 84.4483 30.0413 84.2079L103.746 77.7596C106.494 77.5192 108.724 75.4361 109.151 72.7109L121.01 7.42886C121.613 3.57818 118.442 0.183524 114.56 0.523225Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1508_10125",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function w({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_1_2)",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.0018 18.1129C2.35849 15.712 3.7829 13.2449 6.18378 12.6015L8.11564 12.0839L28.0447 86.4602L26.1128 86.9778C23.712 87.6211 21.2448 86.1967 20.6015 83.7958L3.0018 18.1129ZM30.9425 85.6837L11.0134 11.3074L67.0371 -3.70406L86.9662 70.6722L30.9425 85.6837ZM89.864 69.8958L69.9349 -4.48052L71.8667 -4.99815C74.2676 -5.64147 76.7348 -4.21705 77.3781 -1.81617L94.9778 63.8668C95.6211 66.2677 94.1967 68.7348 91.7958 69.3781L89.864 69.8958Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1_2",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function j({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_1508_9936)",children:(0,n.jsx)("path",{d:"M1.28373 39.4007L27.401 4.53364C29.0584 2.33788 31.9967 1.55056 34.5299 2.62346L74.5817 19.7606C76.9322 20.7561 78.3955 23.1298 78.2289 25.677L74.5428 65.0534C74.3751 67.6187 72.5917 69.7921 70.1085 70.4574L30.506 81.0689C28.0228 81.7343 25.3917 80.7438 23.9638 78.606L1.08334 46.3481C-0.334505 44.2255 -0.254107 41.4381 1.28373 39.4007Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1508_9936",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function S({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_1508_9948)",children:(0,n.jsx)("path",{d:"M77.1821 12.7227L54.9038 -0.139714C53.5257 -0.935364 51.8879 -1.15098 50.3509 -0.739117L23.3659 6.49148C21.8288 6.90334 20.5183 7.90893 19.7227 9.28704L6.8603 31.5654C6.06465 32.9435 5.84904 34.5812 6.2609 36.1183L13.4915 63.1032C13.9034 64.6403 14.9089 65.9508 16.2871 66.7465L38.5654 79.6089C39.9435 80.4045 41.5812 80.6201 43.1183 80.2083L70.1032 72.9777C71.6403 72.5658 72.9508 71.5602 73.7465 70.1821L86.6089 47.9038C87.4045 46.5257 87.6201 44.888 87.2083 43.3509L79.9777 16.3659C79.5658 14.8288 78.5602 13.5183 77.1821 12.7227Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1508_9948",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function k({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_1508_9990)",children:(0,n.jsx)("path",{d:"M4.38961 47.4437L8.7529 18.3221C9.07419 15.9214 10.8074 13.9494 13.147 13.3225L79.3093 -4.40567C81.6489 -5.03256 84.1359 -4.1913 85.6145 -2.2729L103.954 20.7655C104.931 22.033 105.361 23.6381 105.149 25.2242L100.785 54.3458C100.464 56.7465 98.7309 58.7186 96.3914 59.3454L30.229 77.0736C27.8895 77.7005 25.4024 76.8592 23.9238 74.9408L5.58431 51.9024C4.60744 50.635 4.17733 49.0298 4.38961 47.4437Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1508_9990",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function I({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_1508_10069)",children:(0,n.jsx)("path",{d:"M78.3034 46.7945L75.2573 11.9772C74.9685 8.67607 72.0583 6.23413 68.7572 6.52293L5.97724 12.0155C2.67614 12.3043 0.234196 15.2145 0.523004 18.5156L3.56912 53.3329C3.75676 55.4776 5.07913 57.3574 7.03428 58.2588L40.0733 74.3612C42.003 75.2509 44.2594 75.0535 46.0054 73.8422L75.7463 52.2473C77.5152 51.0201 78.4911 48.9392 78.3034 46.7945Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1508_10069",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function N({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_1508_10082)",children:(0,n.jsx)("path",{d:"M53.8362 -0.906348L28.8877 3.49274C25.6243 4.06816 23.4453 7.18012 24.0207 10.4435L25.9888 21.6046C26.5642 24.868 24.3852 27.98 21.1218 28.5554L9.96064 30.5234C6.69727 31.0988 4.51826 34.2108 5.09368 37.4741L9.49277 62.4226C10.0682 65.686 13.1801 67.865 16.4435 67.2896L27.6047 65.3216C30.868 64.7461 33.98 66.9252 34.5554 70.1885L36.5234 81.3496C37.0988 84.613 40.2108 86.792 43.4741 86.2166L68.4226 81.8175C71.686 81.2421 73.865 78.1301 73.2896 74.8668L71.3216 63.7056C70.7462 60.4423 72.9252 57.3303 76.1885 56.7549L87.3497 54.7869C90.613 54.2115 92.792 51.0995 92.2166 47.8362L87.8175 22.8877C87.2421 19.6243 84.1302 17.4453 80.8668 18.0207L69.7057 19.9887C66.4423 20.5641 63.3304 18.3851 62.7549 15.1218L60.7869 3.96061C60.2115 0.697243 57.0996 -1.48177 53.8362 -0.906348Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1508_10082",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function A({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_1508_10095)",children:(0,n.jsx)("path",{d:"M53.9511 20.3098L42.1525 3.16336C39.1912 0.00572091 33.9624 0.927699 32.2597 4.90774L27.0372 25.0555C26.4488 26.4308 25.3678 27.5367 24.0063 28.1564L3.71302 33.8825C-0.294145 35.7063 -1.03771 41.0813 2.32381 43.9245L20.084 54.7429C21.247 55.7266 21.9924 57.1158 22.1689 58.6287L21.3874 79.2433C21.8923 83.5712 26.6965 85.9346 30.4331 83.6935L46.7061 70.2694C47.9748 69.5084 49.4799 69.243 50.9323 69.5242L70.8153 76.573C75.0931 77.401 78.7991 73.537 77.7934 69.2974L70.0084 50.1933C69.6568 48.7113 69.8821 47.1509 70.6385 45.8288L83.6275 29.5885C85.8139 25.767 83.2768 20.9705 78.8875 20.6272L57.8597 22.1872C56.3683 22.0705 54.9743 21.401 53.9511 20.3098Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1508_10095",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function O({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_1508_10138)",children:(0,n.jsx)("path",{d:"M12.85 78.4563L1.39908 13.5151C0.701528 9.55913 4.01276 6.04841 8.00276 6.51361L106.493 17.9966C109.127 18.3037 111.247 20.3031 111.707 22.9144L118.224 59.876C118.8 63.1393 116.621 66.2513 113.357 66.8267L19.8007 83.3233C16.5373 83.8987 13.4254 81.7197 12.85 78.4563Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1508_10138",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function L({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_1508_10170)",children:(0,n.jsx)("path",{d:"M3.52293 10.7657C3.23413 7.46464 5.67607 4.55445 8.97717 4.26564L88.0582 -2.65305C91.3593 -2.94186 94.2695 -0.499919 94.5583 2.80118L98.93 52.7701C99.3106 57.1197 95.0142 60.5495 90.7364 59.6753C85.6875 58.6434 79.1215 57.7867 72.6631 58.3517C59.3871 59.5132 46.8006 72.394 33.8579 73.5263C25.4977 74.2577 16.8948 72.2143 12.2232 70.8232C10.0275 70.1694 8.54803 68.2028 8.34835 65.9205L3.52293 10.7657Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1508_10170",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function R({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_1508_10181)",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.3176 14.6705C1.88439 9.71881 5.54731 5.35352 10.499 4.92031L74.9606 -0.719357C77.7924 -0.967105 80.3366 0.794636 81.185 3.38441L12.8314 9.36458C8.98009 9.70152 6.13115 13.0967 6.4681 16.948L10.3685 61.53L7.72221 60.9899C6.90554 60.8233 6.29563 60.1395 6.22298 59.3092L2.3176 14.6705ZM13.0928 12.3532L15.0852 12.1789L81.6029 6.35932L83.1972 6.21983C86.4983 5.93102 89.4085 8.37296 89.6973 11.6741L93.3699 53.6516C93.7502 57.9988 89.453 61.4325 85.1642 60.627C80.8923 59.8246 75.5894 59.2269 70.3662 59.6838C64.4909 60.1979 58.7686 63.3152 53.0827 66.4127C47.4685 69.4711 41.8899 72.5101 36.2345 73.0049C29.1375 73.6258 21.8422 71.9786 17.6488 70.7666C15.4459 70.1298 13.96 68.1595 13.7601 65.8752L13.4347 62.1558L9.63099 18.679L9.45668 16.6866C9.26414 14.4858 10.8921 12.5457 13.0928 12.3532Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1508_10181",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function M({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_1508_10194)",children:(0,n.jsx)("path",{d:"M13.5958 79.9017C8.77167 80.3237 5.46072 75.1516 7.86364 70.9473L21.5019 47.0847C22.744 44.9115 22.5064 42.1954 20.9058 40.2709L3.33102 19.1391C0.234531 15.4159 2.59704 9.74744 7.42117 9.32538L90.1645 2.08628C92.2987 1.89955 94.3706 2.86499 95.6004 4.61925L115.109 32.4478C116.341 34.205 116.541 36.4863 115.633 38.4307L101.253 69.2241C100.346 71.1653 98.4734 72.4758 96.3391 72.6626L13.5958 79.9017Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_1508_10194",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function D({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_2094_1753)",children:(0,n.jsx)("path",{d:"M16.731 20.0212C13.2433 16.3882 7.10166 18.409 6.4527 23.4032L1.37881 62.4502C0.884517 66.2541 4.03759 69.5386 7.85853 69.1999L47.08 65.7235C52.0965 65.2788 54.3663 59.2248 50.8786 55.5917L46.4318 50.9596L85.863 13.1058C88.2534 10.811 88.331 7.01278 86.0361 4.62231L69.0925 -13.0273C66.7977 -15.4178 62.9995 -15.4953 60.609 -13.2005L21.1778 24.6533L16.731 20.0212Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_2094_1753",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function P({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_2094_1725)",children:(0,n.jsx)("path",{d:"M52.9651 15.8477L35.2998 41.0764L59.9709 58.3513C64.1126 51.7654 65.9172 43.6796 64.4598 35.4144C63.0477 27.4063 58.8158 20.6037 52.9651 15.8477ZM49.7126 13.5191L32.0232 38.7821L6.79163 21.1147C11.5638 14.9703 18.5448 10.5091 26.81 9.05173C35.0608 7.59689 43.133 9.39265 49.7126 13.5191ZM4.53573 24.4182L29.7289 42.0587L12.4783 66.6951C6.35043 61.9235 1.90212 54.9524 0.447277 46.7016C-0.962241 38.7078 0.67945 30.8817 4.53573 24.4182ZM15.779 68.955C22.2492 72.8262 30.089 74.4763 38.0971 73.0642C46.0909 71.6547 52.8835 67.4354 57.6382 61.601L33.0055 44.353L15.779 68.955Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_2094_1725",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function F({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsxs)("g",{clipPath:"url(#clip0_2094_1739)",children:[(0,n.jsx)("path",{d:"M28.644 8.74898L34.0412 39.3575L64.2193 34.0363C62.5252 26.3602 58.0606 19.2724 51.1138 14.4082C44.3027 9.63898 36.299 7.84315 28.644 8.74898Z",fill:e}),(0,n.jsx)("path",{d:"M25.4365 9.29133L30.8376 39.9224L0.206747 45.3234C-0.826765 37.5308 0.944422 29.3435 5.80863 22.3967C10.6728 15.45 17.7605 10.9854 25.4365 9.29133Z",fill:e}),(0,n.jsx)("path",{d:"M0.79417 48.523L31.4025 43.126L36.7236 73.3038C28.9311 74.3373 20.7439 72.5661 13.7972 67.7019C6.98606 62.9327 2.56115 56.0261 0.79417 48.523Z",fill:e}),(0,n.jsx)("path",{d:"M39.9232 72.7164C47.4263 70.9495 54.3331 66.5246 59.1023 59.7134C63.8715 52.9023 65.6673 44.8987 64.7616 37.2438L34.606 42.5611L39.9232 72.7164Z",fill:e})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_2094_1739",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function B({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_2094_1770)",children:(0,n.jsx)("path",{d:"M16.7681 5.48015C8.61136 6.30146 2.66482 13.5796 3.48613 21.7363L5.92497 45.9576C6.74628 54.1143 14.0244 60.0609 22.1811 59.2396L22.4765 59.2098L23.2086 66.48C23.4012 68.393 25.6685 69.2962 27.1238 68.0396L39.3133 57.5145L68.2606 54.5998C76.4174 53.7785 82.3639 46.5004 81.5426 38.3436L79.1038 14.1224C78.2825 5.96563 71.0043 0.01909 62.8476 0.840394L16.7681 5.48015Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_2094_1770",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function U({color:e="#699BF7"}){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_2094_1787)",children:(0,n.jsx)("path",{d:"M4.01281 14.3118C3.61202 11.0224 5.95368 8.03096 9.24306 7.63016L9.73939 7.56969L10.5256 14.022L4.07329 14.8081L4.01281 14.3118ZM4.43614 17.7861L12.7213 85.7832C13.122 89.0726 16.1135 91.4143 19.4029 91.0135L19.8992 90.953L10.8884 16.9999L4.43614 17.7861ZM13.8664 16.6371L22.8772 90.5902L106.757 80.3698C110.046 79.969 112.388 76.9776 111.987 73.6882L103.702 5.69107L13.8664 16.6371ZM103.339 2.71309L103.279 2.21676C102.878 -1.07262 99.8864 -3.41428 96.597 -3.01349L12.7174 7.20684L13.5035 13.6591L103.339 2.71309Z",fill:e})}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_2094_1787",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})})})]})}function G(){return(0,n.jsxs)("svg",{width:"40",height:"72",viewBox:"0 0 40 72",fill:"none",children:[(0,n.jsx)("g",{clipPath:"url(#clip0_5859_244544)",children:(0,n.jsxs)("g",{clipPath:"url(#clip1_5859_244544)",children:[(0,n.jsx)("rect",{x:"-0.191895",y:"16.3726",width:"64",height:"64.7102",rx:"4",transform:"rotate(-15 -0.191895 16.3726)",fill:"#2F2746"}),(0,n.jsx)("rect",{x:"12.5732",y:"25.3755",width:"44",height:"6",transform:"rotate(-15 12.5732 25.3755)",fill:"#514670"}),(0,n.jsx)("rect",{x:"23.4062",y:"34.8961",width:"32",height:"6",transform:"rotate(-15 23.4062 34.8961)",fill:"#514670"}),(0,n.jsx)("rect",{x:"26.5122",y:"46.4872",width:"32",height:"6",transform:"rotate(-15 26.5122 46.4872)",fill:"#514670"}),(0,n.jsx)("rect",{x:"21.8906",y:"60.1488",width:"6",height:"6",transform:"rotate(-15 21.8906 60.1488)",fill:"#514670"})]})}),(0,n.jsxs)("defs",{children:[(0,n.jsx)("clipPath",{id:"clip0_5859_244544",children:(0,n.jsx)("rect",{width:"40",height:"72",fill:"white"})}),(0,n.jsx)("clipPath",{id:"clip1_5859_244544",children:(0,n.jsx)("rect",{x:"-0.191895",y:"16.3726",width:"64",height:"64.7102",rx:"4",transform:"rotate(-15 -0.191895 16.3726)",fill:"white"})})]})]})}},960980:(e,t,i)=>{i.d(t,{$_:()=>S,Av:()=>j,DG:()=>E,FJ:()=>L,Ld:()=>w,Pd:()=>M,YR:()=>R,e_:()=>k,hr:()=>I,oC:()=>N,yn:()=>A,zi:()=>O});var n=i(7378),r=i(514228),a=i(763686),s=i(27355),o=i(778880),l=i(303541),d=i(156213),c=i(789),u=i(224),p=i(455680),m=i(516028),h=i(191312),f=i(598018),g=i(652992),_=i(739964),x=i(355607),y=i(992395),b=i(913518),C=i(80656),v=i(587765);function E(e){let t=(0,l.t)("voting.modal.voting_setup_responsive_placeholder_prompt",{numVotes:e.userVoteLimit});return e.title||t}let T=()=>!((0,o.wg)()||(0,o.o4)());function w(){let e=(0,v.jz)();return!!(e?.length&&e?.length>0)}function j(){let e=k(),t=!!(0,v.C3)(),i=T()&&("eligible"===e||"eligibleWithUpgrade"===e),[r,a]=n.useState(t&&i);return n.useEffect(()=>{if(!t){a(!1);return}i&&a(!0)},[t,i]),i||r}var S=(e=>(e.FEATURE_DISABLED="featureDisabled",e.ELIGIBLE_WITH_MOVE_FILE_TO_PAID_TEAM="eligibleWithMoveFileToPaidTeam",e.ELIGIBLE_WITH_UPGRADE="eligibleWithUpgrade",e.ELIGIBLE="eligible",e))(S||{});function k(){let e=(0,m.q5)(),t=(0,r.d4)(t=>e&&e.teamId?t.teams[e.teamId]:null),i=(0,r.d4)(e=>e.isFreeUser),n=(0,c.DG)(e?.key||"").enabled,a=e?.isTryFile,s=!!e&&(e.canEdit||n);return a||!s?"featureDisabled":e.parentOrgId?"eligible":t?(0,f.PS)(t)?"eligible":"eligibleWithUpgrade":i?"eligibleWithUpgrade":"eligibleWithMoveFileToPaidTeam"}function I(){let e=(0,r.d4)(e=>e.mirror.appModel.votingSessionInfo),t=p.BI.getUserId(),i=t&&e.userIdToVoteStampIds[t]?.length||0;return e.userVoteLimit-i}function N(e){return Object.values(e.userIdToNodeVotes).reduce((e,t)=>e+t.length,0)}function A(e){return new Set(e.reduce((e,t)=>{let i=N(t),n=e.voteCount;return i<n?e:i>n?{voteCount:i,nodes:[t]}:{voteCount:n,nodes:[...e.nodes,t]}},{voteCount:0,nodes:[]}).nodes.map(e=>e.guid))}function O(e){return function(t,i){return t===e?-1:i===e?1:t.localeCompare(i)}}function L(){let e=(0,r.d4)(e=>e.mirror.appModel.votingSessionInfo.votingStage),t=(0,s.Xr)(y.Qs);n.useEffect(()=>{(e===a.W8Y.JOINED||e===a.W8Y.NOT_JOINED)&&t({type:"SET_VIEW",payload:y.iN.DEFAULT})},[e,t])}function R(){let e=(0,r.d4)(e=>e.mirror.appModel.votingSessionInfo.votingStage),t=(0,s.Xr)(y.Qs),i=(0,x.$)(),o=(0,b.qU)();n.useEffect(()=>{e!==a.W8Y.ENDED||i||(t({type:"VOTING_ENDED"}),(0,C.D)(o))},[e,t,i,o])}function M(e){let t=k(),i=(0,m.q5)(),a=(0,r.d4)(e=>i&&i.teamId?e.teams[i.teamId]??null:null),s=(0,r.wA)();return n.useCallback(()=>{if("eligibleWithUpgrade"===t)s(d.to({type:_.DV,data:{team:a,resource:g.Bi.VOTING,editorType:h._Y.WHITEBOARD,currentPlan:u.F.Plan.STARTER,upsellPlan:u.F.Plan.PRO}}));else if("eligible"===t)return e(),!0;return!1},[s,t,a,e])}},200844:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(486106),r=i(7378),a=i(976845),s=i(831799),o=i(129884);let l=(0,r.memo)((0,r.forwardRef)(function({tooltip:e,isActive:t,onClick:i,recordingKey:r,dataElementTarget:s,onboardingKey:l,disabled:d,dataTestId:c,children:u},p){return(0,n.jsx)(a.d,{ref:p,"aria-expanded":t,htmlAttributes:{"data-tooltip-type":e.type,"data-testid":c,"data-tooltip":e.type===o.Ib.TEXT?e.text:e.key,"data-element-target":s,"data-fullscreen-intercept":!0,"data-onboarding-key":l},onClick:i,recordingKey:r,"aria-label":e.type===o.Ib.TEXT?e.text:e.ariaLabel,disabled:d,children:u})})),d=(0,s.tf)(l)},757252:(e,t,i)=>{i.d(t,{AE:()=>H,B8:()=>R,HB:()=>D,Kq:()=>F,OP:()=>M,U_:()=>P,Yg:()=>A,ar:()=>O,es:()=>B,ke:()=>L,uB:()=>U,yX:()=>G});var n=i(7378),r=i(514228),a=i(763686),s=i(27355),o=i(125333),l=i(566045),d=i(156213),c=i(224),u=i(455680),p=i(912149),m=i(516028),h=i(851577),f=i(645480),g=i(372672),_=i(191312),x=i(84367),y=i(465071),b=i(165519),C=i(652992),v=i(633080),E=i(630077),T=i(275938),w=i(739964),j=i(347702),S=i(526509),k=i(204478),I=i(351862),N=i(787735);function A(){return(0,x.ut)(a.Ez5?.figjamState().isShapesSidebarOpen,!1)}function O(){let[e,t]=(0,s.fp)(S.oh);return n.useCallback(()=>{a.Ez5?.figjamState().isShapesSidebarOpen.set(!0),t({type:"close",source:S.Yg.OpenedShapesSidebar})},[t])}function L(){let e=(0,s.Xr)(k.oW),t=(0,s.Xr)(k.Ai),[i,r]=(0,s.fp)(k.Hf);return n.useCallback(()=>{(0,I.ko)({event:I.fT.ClosedPanel,searchState:i}),r({state:"inactive"}),e(""),t(!1),a.Ez5?.figjamState().isShapesSidebarOpen.set(!1)},[i,r,e,t])}function R(){let e=(0,g.TA)(),t=(0,s.md)(k.Rg),[i,r]=(0,s.fp)(k.Gn);n.useEffect(()=>{if(e)return;let n=()=>{r(i.map(e=>{if(e.lastAddedAtByUserId&&t in e.lastAddedAtByUserId){let{[t]:i,...n}=e.lastAddedAtByUserId;return{...e,lastAddedAtByUserId:n}}return e}).filter(e=>e.lastAddedAtByUserId&&Object.keys(e.lastAddedAtByUserId).length>0))};return window.addEventListener("beforeunload",n),()=>window.removeEventListener("beforeunload",n)},[e,i,t,r]);let a=e??t;return n.useMemo(()=>i.filter(e=>a in(e.lastAddedAtByUserId??{})).map(e=>e.id),[i,a])}function M(e,t){let i=(0,T.dF)(e);return t?`${i} - ${t}`:i}function D(e){let t=(0,s.md)(o.yE);if(!(0,r.d4)(e=>e?.mirror?.appModel?.currentTool===a.NLJ.SHAPE_WHITEBOARD_PLATFORM)||!t)return!1;let i=e.type===v.PW.COMPONENT?e.component_key:e.key,n=e.type,l=e.userFacingVersion.toString();return e.library_key===t.libraryKey&&l===t.assetVersion&&i===t.assetKey&&n===t.assetType}function P(){return(0,n.useCallback)(e=>{let t=e.relatedTarget;if(!t||t.classList.contains("focus-target"))return;let i=t.classList.contains(N.Fu);for(;!i&&t.parentElement;)i=(t=t.parentElement).classList.contains(N.Fu);i||a.glU?.triggerActionEnumInUserEditScope(a.rcl.SET_TOOL_DEFAULT_FIGJAM,{})},[])}function F({insertAction:e,recordingKey:t}){let i=(0,n.useMemo)(()=>({resource:{},clickToInsert_DEPRECATED:!1,onDragStart:()=>u.Y5.triggerActionEnum(a.rcl.SET_TOOL_DEFAULT)}),[]);return(0,h.t)(i,{insertAction:e,getDragPreviewSrc:()=>"",onPointerDownCallback:I.Ln,onPointerUpCallback:I.UH,dragPreviewPointerPosition:f.N.CENTERED,recordingKey:t})}function B(){let e=(0,y.X$)("useAreAdvancedShapesLocked");return(0,y.YY)(e).unwrapOr(!1)}function U(){let e=(0,m.q5)(),t=(0,r.wA)();return(0,n.useCallback)(()=>{e&&t((0,d.to)({type:l.V,data:{upsellSource:b.b.SHAPES_SIDEBAR,teamId:e.team?.id,openCheckoutInNewTab:!0}}))},[e,t])}function G(){let e=(0,m.q5)(),t=(0,r.wA)(),i=c.F.useShouldHideStarterCtaForOpenFile();return(0,n.useCallback)(()=>{e&&t((0,d.to)({type:w.DV,data:{team:e.team,resource:C.Bi.ADVANCED_SHAPES,action:E.ZN.INSERT_ADVANCED_SHAPE,editorType:_._Y.WHITEBOARD,currentPlan:c.F.Plan.STARTER,upsellPlan:c.F.Plan.PRO,hideUpsellPlanCta:i}}))},[e,t,i])}function H(){return z((0,p.w)())}let z=(0,j.n)(e=>"developer"===e)},365876:(e,t,i)=>{i.d(t,{C:()=>d,V:()=>c});var n=i(7378),r=i(763686),a=i(449184),s=i(370763),o=i(120210),l=i(757252);function d(){let e=(0,l.ar)();return n.useCallback(t=>{a.az.trackDefinedEvent("figjam_advanced_diagramming.shapes_sidebar_open",{}),e(),r.glU&&(t?.setToolToDefault??!0)&&r.glU.triggerActionEnum(r.rcl.SET_TOOL_DEFAULT,{})},[e])}function c(){let e=(0,o.LR)();return n.useCallback(()=>{(0,s.$v)("toggle-menu"),e()},[e])}},510768:(e,t,i)=>{i.d(t,{a:()=>c});var n=i(528509),r=i(722362),a=i(516028),s=i(372672),o=i(191312),l=i(680166),d=i(595131);function c(){let e=(0,r.aV)(),t=(0,a.q5)(),i=(0,n.VA)(t?.project),c=(0,d.Td)(),u=!!(0,s.iZ)(),{getProvisionalAccessBanner:p}=(0,l.wH)(),m=p(o.G_.WHITEBOARD),h=!!m?.showBanner;return!e&&!i&&!c&&u&&h}},672727:(e,t,i)=>{i.d(t,{g:()=>l});var n=i(7378),r=i(514228),a=i(27355),s=i(516028),o=i(880974);function l(){let e=(0,s.tS)(),t=(0,r.d4)(e=>e.fileVersion),i=(0,a.Xr)(o.ME);return(0,n.useCallback)((n,r)=>i({fileKey:e,fileVersion:t,template:n},r),[e,t,i])}},385690:(e,t,i)=>{i.d(t,{g:()=>d});var n=i(7378),r=i(27355),a=i(502364),s=i(12032),o=i(916469),l=i(265420);function d(e){let t=(0,r.md)(s.D);return n.useCallback(()=>{t&&!l.l.has(t)&&(0,a.YQ)({id:o.X,properties:{requester:e}})},[t,e])}},645772:(e,t,i)=>{i.d(t,{Dm:()=>w,W:()=>E,v0:()=>T});var n=i(7378),r=i(465776),a=i(763686),s=i(27355),o=i(384673),l=i(370763),d=i(819472),c=i(241541),u=i(916469),p=i(365876),m=i(822177),h=i(510768),f=i(461518),g=i(391708),_=i(849005),x=i(595754),y=i(307066),b=i(999133),C=i(628824),v=i(385690);function E(){let e=(0,b.GC)(),t=(0,c.rM)(e),i=function(e){let{activeSecondaryToolbeltId:t,setActiveSecondaryToolbeltId:i}=(0,o.LH)(),c=(0,s.md)(l.Kh),m=(0,v.g)(u.Y.FigJamQuickActionsMenuOpen),h=(0,p.V)(),f=(0,d.L)();return n.useCallback(n=>{let s=n.type;switch(s){case y.fo.ACTIVATE_TOOL:f(),e(n.toolId);break;case y.fo.TOGGLE_ACTIONS:h(),m();break;case y.fo.TOGGLE_COMMENTS:c===a.NLJ.COMMENTS?e(x.$o):e(a.NLJ.COMMENTS);break;case y.fo.TOGGLE_SUBMENU_AND_TOOL:{let r=n.secondaryToolbeltId;t===r?(e(x.$o),i(null)):(e(n.toolIdToActivate),i(r));break}default:(0,r.xb)(s)}},[e,c,m,f,h,t,i])}(t.activateTool);return{...t,handleToolAction:i}}function T(){return(0,l.uh)(b.Jn)}function w(){let e=(0,s.md)(m.hV),t=(0,f.w)(),i=(0,g.g)(),n=(0,h.a)(),r=(0,_.z)(),a=C.i.NONE;return e?a=C.i.NONE:t?a=C.i.TEAM_TEMPLATES:i?a=C.i.VERSION_HISTORY:n?a=C.i.PROVISIONAL_ACCESS:r&&(a=C.i.VIEW_ONLY),{activeBannerType:a,isToolbeltDisabled:t||i||r,isCommentsDisabled:i}}},28761:(e,t,i)=>{i.d(t,{lO:()=>c,vE:()=>p});var n=i(763686),r=i(601108),a=i(27355),s=i(442259),o=i(270322),l=i(300024),d=i(765161);function c(e){return(0,a.md)(u)||e===n.NLJ.STAMP}let u=(0,o.bt)(e=>(0,r.k)().figjam_emoji_stamps_mw25?"WHEEL"===e.multiplayerEmoji.type:"WHEEL"===e.multiplayerEmoji.type&&["STAMP1","STAMP2"].includes(e.multiplayerEmoji.wheelType)),p=(0,a.eU)(null,(e,t)=>{e(u)?s.CB.closeWheel():(0,d.X)({source:l.fK})})},307066:(e,t,i)=>{i.d(t,{MI:()=>r,fo:()=>a,hj:()=>o,w:()=>s,zK:()=>n});var n=(e=>(e.INSERTS_MENU="inserts_menu",e))(n||{}),r=(e=>(e.MoveTools="MoveTools",e))(r||{}),a=(e=>(e[e.ACTIVATE_TOOL=0]="ACTIVATE_TOOL",e[e.TOGGLE_SUBMENU_AND_TOOL=1]="TOGGLE_SUBMENU_AND_TOOL",e[e.TOGGLE_COMMENTS=2]="TOGGLE_COMMENTS",e[e.TOGGLE_ACTIONS=3]="TOGGLE_ACTIONS",e))(a||{}),s=(e=>(e.DrawingTools="DrawingTools",e.StickyTools="StickyTools",e.DiagrammingTools="DiagrammingTools",e))(s||{}),o=(e=>(e.SELECT="toolDefault",e.HAND="toolHand",e.PENCIL="toolPencil",e.HIGHLIGHER="toolHighlighter",e.WASHI_TAPE="toolWashiTape",e.ERASER="toolEraser",e.STICKY="toolSticky",e.SHAPES="shapes",e.TEXT="toolText",e.SECTION="toolSection",e.TABLE="toolTable",e.STAMP="toolStamp",e.COMMENT="toolComment",e.ACTIONS="buttonActions",e.INSERTS="buttonInserts",e))(o||{})},999133:(e,t,i)=>{i.d(t,{BB:()=>g,GC:()=>m,Jn:()=>h,XS:()=>f,nU:()=>_});var n=i(7378),r=i(763686),a=i(27355),s=i(370763),o=i(873852),l=i(634288),d=i(595754),c=i(28761),u=i(307066);let p=(0,a.eU)(e=>e(s.Kh),(e,t,i)=>{if(i===r.NLJ.STAMP){t(c.vE);return}let n=h(i);(0,s.$v)(n)});function m(){return n.useMemo(()=>({...s.lW,activeToolIdAtom:p}),[])}function h(e){switch(e){case d.$o:return"set-tool-default-figjam";case u.zK.INSERTS_MENU:return"browse-all-resources-modal";case o.y:return"toggle-menu";default:return(0,s.O_)(e)}}let f=(0,a.eU)(e=>{let t=e(s.Kh);return t&&(0,l.L)(t)?t:null}),g=(0,a.eU)(e=>e(s.Kh)===r.NLJ.DROPPER_COLOR),_=(0,a.eU)(e=>e(s.Kh)===r.NLJ.STICKY)},628824:(e,t,i)=>{i.d(t,{i:()=>N,_:()=>A});var n=i(486106),r=i(27355),a=i(384673),s=i(763535),o=i(913332),l=i(191312),d=i(680166),c=i(822177),u=i(617427),p=i(303541),m=i(370443),h=i(622574),f=i(106207),g=i(722362),_=i(516028),x=i(862883),y=i(869006),b=i(59509),C=i(363675),v=i(478006),E=i(831799);function T({children:e,dataTestId:t,trackingContext:i="Whiteboard Banner",onDismiss:r}){return(0,v.h8)({isFigjamDLTBanner:!1}),(0,n.jsx)(E.fu,{name:i,children:(0,n.jsx)("div",{className:"whiteboard_banner--root--fw3hW banner--root--0lk16 banner--banner--fgRdl","data-testid":t,children:(0,n.jsx)(b.Yy,{variant:"brand",icon:null,onDismiss:r??void 0,children:(0,n.jsx)(C.Q,{children:(0,n.jsx)("div",{className:"whiteboard_banner--contentWrapper--uU9Yv banner--contentWrapper--NMmQM",children:e})})})})})}function w(){let e=(0,g.aV)(),t=(0,h.kD)(),i=(0,f.b4)(),r=(0,_.q5)();if(!(0,h.tS)()||e)return null;let a=t?.publishedByUser?.handle?(0,n.jsx)("div",{children:(0,p.tx)("whiteboard.delightful_toolbar.custom_template_banner.youre_viewing_a_team_template",{userName:(0,n.jsx)("b",{children:t?.publishedByUser.handle})})}):(0,p.tx)("whiteboard.delightful_toolbar.custom_template_banner.youre_viewing_a_template");return(0,n.jsx)(T,{dataTestId:"team-template-banner",trackingContext:"Team Template Banner",children:(0,n.jsxs)("div",{className:"team_template_banner--contentContainer--AgNFD",children:[a,(0,n.jsx)(y.RJ,{viewOnly:!0,variant:"brand-secondary"}),(0,n.jsx)(u.$z,{onClick:()=>{t&&r&&i({templateIdentifier:{type:x.vt.TeamTemplate,file_key:t.fileKey},templateName:t.name})},trackingProperties:{trackingDescriptor:m.c.USE_IN_NEW_FILE},children:(0,p.tx)("whiteboard.delightful_toolbar.custom_template_banner.new_file_button")})]})})}var j=i(7378),S=i(175043),k=i(936515);function I(){let[e,t]=(0,j.useState)(!0);return e?(0,n.jsx)(T,{dataTestId:"version-history-banner",trackingContext:"Version History Banner",onDismiss:()=>t(!1),children:(0,p.tx)("whiteboard.delightful_toolbar.version_history_banner_text",{selectIcon:(0,n.jsx)(S.y,{}),handIcon:(0,n.jsx)(k.O,{})})}):null}var N=(e=>(e[e.NONE=0]="NONE",e[e.TEAM_TEMPLATES=1]="TEAM_TEMPLATES",e[e.VERSION_HISTORY=2]="VERSION_HISTORY",e[e.VIEW_ONLY=3]="VIEW_ONLY",e[e.PROVISIONAL_ACCESS=4]="PROVISIONAL_ACCESS",e))(N||{});function A({activeBannerType:e}){let t=(0,r.Xr)(c.hV),{getProvisionalAccessBanner:i}=(0,d.wH)(),u=(0,a.zm)(),p=i(l.G_.WHITEBOARD);switch(e){case 1:return(0,n.jsx)(w,{});case 2:return(0,n.jsx)(I,{});case 3:return(0,n.jsx)(o.f,{onClose:()=>t(!0)});case 4:return(0,n.jsx)(s.c,{text:p.text,licenseType:l.G_.WHITEBOARD,hasSecondaryToolbelt:u,shouldShowCurf:p.shouldShowCurf});default:return null}}},728077:(e,t)=>{var i,n;function r(e){return null!=e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message&&e.message.includes("IPC")}function a(e){try{return e()}catch(e){if(r(e)){console.warn("suppressingErrorsCausedByWindowClose: ignoring IPC error:",e);return}throw e}}function s(e,t){return a(()=>{let i=e.__figmaFloatingWindow;if(null==i)throw Error("withFloatingWindowAPI: bindings not found");return t(i)})}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{FloatingWindowHorizontalZone:function(){return n},FloatingWindowVerticalZone:function(){return i},isErrorCausedByWindowClose:function(){return r},suppressingErrorsCausedByWindowClose:function(){return a},withFloatingWindowAPI:function(){return s}}),function(e){e[e.NN=0]="NN",e[e.N=1]="N",e[e.S=2]="S",e[e.SS=3]="SS"}(i||(i={})),function(e){e[e.WW=0]="WW",e[e.W=1]="W",e[e.E=2]="E",e[e.EE=3]="EE"}(n||(n={}))},317240:e=>{e.exports="data:image/png;base64,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"},795595:e=>{e.exports="data:image/png;base64,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"},947615:e=>{e.exports="data:image/png;base64,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"},377832:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZwAAAD8CAYAAABDwhLXAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABjjSURBVHgB7d3NbxXHmsfxtrGB2A4hEgglECV3TV7uMrCZWZHs7oxEss4VZD+BfYA/ICR3HZKbNSBNZkdgdTfAEiLIIlJyUUyCRiEKEJs3A57z9NxCjx+qqtvYp/BT5/uRjM/p0+ecbtPdv6rq6uqxJmJxcXHz/Pz8B+Pj4/82ePznwaTXGgAA0i6MjY1defTo0f/MzMx8FZthzE4YBM1/DELm74M3bm4AAFi+K4McOWKDZ1w/uX379qeDX/9N2AAAVuC1QY78/c6dO4f0xMc1nEHNRl443AAAsEoGwfPZ1NTUR+1j+Wdubu4DSaMGAIDV95/T09Nft4EzqN38s6FjAABgOG7cv3//T+v+Vbv5oAEAYDg2TkxM/O/4wF8aAACGaHFx8d/HB/+81gAAMFxvjQ3O3yw2AAAM2XgDAEABBA4AoAgCBwBQBIEDACiCwAEAFEHgAACKIHAAAEUQOACAIggcAEARBA4AoAgCBwBQBIEDACiCwAEAFEHgAACKIHAAAEUQOACAIggcAEARBA4AoAgCBwBQBIEDACiCwAEAFEHgAACKIHAAAEUQOACAIggcAEARBA4AoAgCBwBQBIEDACiCwAEAFEHgAACKIHAAAEUQOACAIggcAEARBA4AoAgCBwBQBIEDACiCwAEAFEHgAACKIHAAAEUQOACAIggcAEARBA4AoAgCBwBQBIEDACiCwAEAFEHgAACKmGiADouLi9HpY2NjT7wm03LvC6/r12Kf00W/J/X+MD32nbHPCc9j8+a+Q8+vv7PPOvadrr8nte52nq75U8sfxNbDrqN+r30/YFHDGVH2IBKeh9+PHj1qH+uf1LxB7OBk3xt7f+yAG3ufJstnhYOdPRCGdYl9v31sp+nvy03X36k/wy5L6m9h18Mub2q5Yssfliv8jcLv8LoNFfu+1Hd1fWdY7tTftOv/FPUbm5+fZwsYEalSbuq1vqX0mqz2Oq6lv1nXsqy0pmmnxWpf1IpGG01qI0iXdGM1m/Hx8fZ5rBah5Q4sqQNXV1PYcpq4wnS7HF3Nen3Wqc/j3AF6OcsS/t56nj7fkSKfl6oBxgoQsf+/2LKkPsdOD+tja376c3UA2b8T6kXgVC530Is1nciB6uHDh4+fh4OXDafcASL1eggzfUDKvd9+57p169pl00038lkpdr7YQc8uq8wn3xHmCZ8f/g727xLm18uhPzO8Ls/1Y/35Dx48SK5D7m9t/zYhZMLj8P+m/5byO8xnD/qp0LHf3xVA+m+hvz+2XqkgQp0InBFhD/DhuRx85IB3//799rccEMOBVQdNrqSaaqLL1Txiy6cPmim570rpG3B9n9vpXaGgQztMC+ti1yn23TosQ2DYANV0gKSWy35n7PNy/7+WrdXIj/x/ys/k5GQzMTHR/pb5UgFGbad+nMOpmD6ghN9hh5ZguXfvXjP4/28PBtPT0+2PHBTkIAGslGxjd+/ebX9kO5Og3LhxY/uja440r40OAqdCtrQcgiZMl9rMH3/80WzYsKHZsmVLs379+gYYNtnurl+/3v6emZlpCzohcHToEDz1InAqE6vVhN+hxHnnzp3m5ZdfbkuaQGkSOL/88ktb4JEfCR57nid23gf+ETgViZ2jCY/l/IwEjezE27Zto9kMz5QUfq5du9Zuj1NTU+32GOtsgLpw4Wcl7Il93ZwmbedyvkYeS82GsMGzJtvgjh072m309u3bSzqriLDd5jp7wB8CpyJ25wxdY6UJY25urnnppZcaYC2R2rbUvBcWFp4414j6EDgVsNc06J1WSo43b95sXn31VWo2WHNkm5Rat3RiCdd/xQKHEKoDgVOJ2Pmb0ElAOgfQEw1rlZzDkW1Uajr6oltCpj4ETgV07UYP1Bg6CkizBbCWbd26tT2XE5qBbS9L1IHAcSy2U+rrbqS0KF1Oqd1grZNtVC46DsP82F6WqAOBUwE9TI0+8SonYmX0AMADuRhUttlUDYdmNv8IHOdiY2+J0DuNizvhhRSOdODYgOG6HP8YvNMxO8qv3knDoJxyQhbwQJrVdPdoQa2mLtRwnMpds6C7RNMVGl6E0cJTwzPBPwLHudh9RsJvdlR4o2+NjfoQOE7FblBmOw8A3uiLP+19g9im/eMcjlNdvXcoKcKj1HnJ8BodB3yjhlMRSoDwzhakYtPYzv0icByyO1ys6aHPbYEBL3QzG7Ucvwgch+xtCGLYMeFVV0GJgpRfBE4lYt2k2THhTex+OEG4HTX8InAcCrUXTqKiNrpmnuryD78IHIdiIRPbOQkjeKN7qcWGtWG79o3AcSzXo0d2SrpFw6NY7d12jIFPBI5jXTsfOye8yQ3XFKv5wBcCx6HcTkfTA2rE+co6EDgOpZob7DyUBOGN7YlGr8u6EDhO6XM2sR2Upgd4ZIdk0j3W5EcCSX7gE/9zztlmBv2cHRMe2cE6deGJMQJ944jkVGoEXd2bhxoOPAvbsC5EcR7HNwLHKX3xZ+51wJvcNp17HWsfgeOQveZGT9dt3tRw4I3dbmMXNLNd+8X9cByKtXHj/126dKn55ptvmnPnzjWXL19ubt261XiyadOmZufOnc3rr7/e7N+/v9mxY0czSnShKdUxBn6Nzc/Pc7RyRt9+IAxyGAY6DI8XFhaaX3/9tXnrrbeaUTA7O9scOnSoDZuavP/++83BgwdHJnguXrzYbN26tZmcnHzcRVp+r1u37nHo0BnGL/7nHEo1l9kOA6NSKpSazJ49e6oLG3H8+PFm79697TqOgtgYanp7p6nYNwLHIV3D0VI912oWwsZb09lySO1N1nEUQsfWXlK9MOET53Ac6tsxoPadUw7E+/bte2L6rl272qao3bt3J5uitm/fvuT5zz//3AxT3++TdZLzT0ePHm0fa1LTOXPmTNXNa6mau70AFD5Rw3Eq16Q2KmIHZTnfcfLkyTZwPB6YX3nllXbZz58/366LJrW4jz/+uKlZqtauX6eW4xeB41xuEM+aS4ISNHJ+Q5MD9IEDB5payLrY0JHzVLU3reVGz4g9hx8EjmOxjgGjUvo7duzYkudSM6gpbAJZJ2ki1E6dOtXUyjadUZOvC4HjWOwiuVHqmabVGDaBNLFpco6nVra7f9eFoPCFwHHKlgT1jjkKF4TawJEOArWyNZyam9RsBwHUhcCpQCgNBqNwHY7tBl1zzy1pLtRq7gLehVEHfCNwnLK1mFhzGm3d8CiMmqFx4WcduA7HoVDKi7Vx69dHaQgQe51L6fev9e/zQgdLoAtT1HB8o4bjUFeTGW3g8Cy23caCCP4QOJXRtR3ujAiPYkM00ZRWBwLHoVxpjxIgvEvV0EehM0ztOIfjVDiHI2KDeY7aTjnssdCetVE656Nr5uGaHEKmDtRwHLIlvVgTBGNOwaNYrYYOA/UgcByywRIw5hS86yokUYjyjcBxKNeLxz4GvOnqfQm/CBznUh0HaH6AR3LtWKo5eBSGbKodgeNQLkyo6cCz0GFAb99cg1MPAseh3DUJ7JTwLNYlOtYpBj4ROM6lxpwCPIp18Q8YQcM/AsehPj3TYoN5Amudvc0GTcR14cJPh/oO88EO+vTkFgCff/55c/Xq1eaFF15o9u/fX/UtEDzQ932iMOUTgeOQbnZIlQC58PPpyQ3O9u7du+S+MxI+cufNgwcPEjxD1HUHW8LGN5rUHOpq48bK7Nu3L3qTs+PHj7dBJOGD4QjdokWspxp8I3Ccip1AHeWx1FbL2bNnm9nZ2eTr8trhw4ebt99+u+pbPT8r4R5PQp/L0U1pbNt+EThOpW5UhZWRczbarl27nrjFs5Dg2bNnT/PRRx898R6sTK42Q1OxbwSOczZ4CKDVJWFz/vz55siRI9HgoZltdcXuVEt36HoQOE7FTqbq3/YxVkZ6qZ04caLtOGDRzLZ62GbrRuA4lGtW4DzO8EgN59NPP21Onz5NM9sQcTFzvQgch3K9d+jZM3w7d+6kmW2IUgPSUoDyj8BxLte0xg46XH2a2aTGE+tijbjc6Ods0/4ROJXhBGtZXc1sck6Hms7qodbuG4FTEUYaeHZyzWzHjh1r0E+fbZbClF8EjlPcL2Rtkma29957b8k0mtSWp6unJQUpvxhLzSl79XWs8wABVJY0nx06dKg5d+7ckulS+0E/tiBlr8mBbwSOQyFcwt0Ru+bDcEkN5pNPPkk2nUmtB/3EuvXrzgIUpHwjcByzNRsCpjzpAi21mliz2aZNm9rRpWO92NAtN4gnoeMTgeOQHdwwPLYBxE45PKnms0DGYPvss8+4lcEKcGuC+hA4TtmhbKSt++HDh9F5sHq6ms9CN2kJHDyd2B0/GSOwDgSOc/ZGbJQCh6er+ezDDz9sz9fIYzy90FFAn6+hA0EdCByn7L3fwzT5CZ0JCJ7VQfNZWV3XkFGo8ovAcSjWBdqGDxd+ro5Tp061NZsYms+Gg55o9SJwKqHHmqIE+PRseNB8VpYuPDGIZ31oFHUo1k3Utm9Tu3k6UmvJ1VjktTNnzjQHDhwgbIZAn6sJhShdgKLm7huBUwlGGlg9X3755RPXzkgQnTx5sv3hXM3w6N6WYRuOjaQBn2hSc84O3c51OCsnNRc5NyO1mO+++659znmaMmxtxm7DFKR8I3CcioWLbW7oGvoGeVKrid1yAM8OIw34RpOaU6kmBnZEeBYbqskWrNjG/SJwnLJdoWMdCQBvdKDY3wHbt18EjlN2BF3O3aAWNlAYSaMeBI5DXVdhjwLbJfnq1atNrWZnZ5c8r707tu3ib5vRqOH4ReA4lNv5RmWQQ3tTs7Nnzza1GrUbutnOLqlBPOEPgeNUrDltlJoebDfl1PAzNTh69OiS5zUHTqp7P0FTBwLHIdv9WV8gp6fV3PTw7rvvLnkutQC5bUBtZJ1sk5oMq1Mzey2OfQ1+ETgO2WHb5UePEB3rTlobKeW/8847S6ZJTaCm0JF1sbUbGQGh5pEOYgWn3OvwZWx+fp4ig0M6VCRs5Ec/XlhYaH777bfmjTfeaGolJf89e/Y8McCmXKwpowTs3r3b3cFZ1klqa9JEaM/dhOF1ag6cCxcuNNu2bWsmJibazgMSLuvWrXv8ONVVGj4QOA7pE6ixsAmBc/369ebNN99saib3qpHQGQWnT5+uvsPAxYsXm61bt7aBE4ImhI0NHfhDk5pjsauytVHYMeUALAfimoegkW7QoxA2Qo9+nmoS5jyOXwSOU6kwsU1to0AOxCdOnHhihOcayHkquR3CKIRNELslgX4NftGk5lTuHI4M7x7O4dTepGbJOZAvvviiuXTpUtvcFruB2lomtRkJFzn/JGEzSkEjvv3222bLli3N5OTk4+Y03aQmaFbzi9GinbPX4ISS4ajukNK0dvjw4QY+2S7/YVrofSnndeAXTWrO2VIfQ4CgNqkxA+EPgeNQ3zZtmh3gTe62G7HaD3whcByKBUlsCHd2TniTqqUzSnQdCJwKxJoa7Ii7gBexW22kbqMOXzgqOWcH7Ay4vTQ8sjUafZEzYeMfgVOR2LhTgCd9OgiwXftF4DhnL47jviHwzJ6riW3H1HL8InCcStVmUsO6Ax7YZrTUPPCJwHEqdmJVo70bHvW5jozt2i8CxyE7zlRqB+SqbHjTp/szNRy/CByHbLNDrJeakDHVAE9yA3ZSs/GPwKlAbFgbwCM7UrTG+Un/CByHYhfA6etu2CFRI0Yb8I/Accx2H6VLNGoQ64HJ7aXrQOA41Le7KDsmvMrV0qnB+0XgOJZr02anhGexwWjhH4HjWKwJjWY1eJfbdgke3wgcp7qaHNgx4VHqguWuC53hA4HjUNdN18L93+XCzwcPHjSAB7KtTkxMtNtu7nwkhSm/CByHctcoaLLz3r9/vwE8uHPnzpKwSW3n1HD8InAcszum7j4qO+7k5GRz69atBvDg9u3bzfr165dM46LmuhA4DvUZ6kN2UKnhEDjw4ubNm+02mwoYQsc/AsehvhfBSS1HmtTu3r3bAGvZvXv3moWFhTZwgq774sAfAsc52w1aN0HIzvvcc881165da4C1TLbRjRs3toWkHG674RuB41ysFKh/S5v43Nxc2z4OrEVSu5mfn28DJ5x/tAUojdqOXwSOc6kdU9dypqenmx9//JEu0lhzZJv8/vvv25q4rd3YbZqajX8EjmOheUHvlPYaBnksJUfpsfbTTz81wFoiBSHZPqUmLttu2H5jBaiu5jasffwPOpfqNmp33KmpqbbpQkqT1HTwrMk2+MMPP7Q3CZTACXenzXWDpobjH4FTgVhJ0P6WprWZmZn2vjmXL19uwwd4FuScomyDEjqyTUrY6BpMrAOMng6/xgYn6yg2VECCRF+fI8/tj5Qm5Xc4SSs7+/bt29sSJjBs0j1/dna2DRw5rxjO20jg6NCxBSaRqvXAFwLHOXsRaBi4M4SMDZ/wXEqXcgCQ4UQ2bNjQbN68uW12kxDS10IATytsY3Lx8Y0bN9ptTYJGtjfZxiRkbMDYsCFw6kLgOKfbtUPYhGkhZEQ4b2NrPTJdLrjTv2XHltpQ6JSgb2kddnx5r54W67wQvtvOo+ftum2wvB6aWuyIwV0jZsv7UiMP6/fH7r3StUx6OfS69Fk2PY/9Lv1czxNbl9xyppYht2z2e1LLaP92urBjT+5LsMiPdArQHQNi4WKnEzb1oSjrXOzArQMhHBB0AOgDghwE5IAQaj46tPTn9FmOvid1YwfKXAjY1+zrfT43vMcGZW75Uu8N84Tpdtm6As0uV5/H4XOWEzq5QNXT+wRXV1DZ5Qy/beeVWE0m1oRmP6urEAAfCJxKpGoQtmRsgyccROW3njd2YLPftZLl7JrWNT22XLn3BKE31NMsm+5JFQu/la7XMOS+K7Yey6mlpT5TP7Y1HluDiQWSrdkQNvUgcCoU2znDzm2bqELoyME0Fjar0Yxj39tVi9EHcH2wijXNDfvajFgzk2bDxq5jOKCm/o6pWmSqlmWbuPrUQGLrpN8XW6dc0OcCLDYtVsPJPW+aJlrbgX8ETsX0DhsOmra5LLwWHoswTx+58CgpVlrv2xwo+jZrPc3yxIJCf3YsNPsEcNd69PnM2DzCfk/qPalakq2lxMIkVaux30nw1IPAqYwt8eodWYeKCLUae1ALllO7iVnsOKcSa77JHei7vj93LiE3bywIUu/Lfbd9j23KTM2/Gt+v39sVOLlpqVpo13tz250OGv2ZOmzt/5sNMtSBwKlI6uA1Fmk+0dftjEWahSwdTPZgkGtuSn1W7kD2tGLL1fXZuVpD6v2pmsJya1X2+5f7ffq13AE6Vtuy77eflaLfb5dHN9mG+cK0WC0nfF5qu1mt7QJrB4FTmVTtwe68uoktzJ87qNlzKfpAstjRHJULwFiJuk/NJzdPX6mDcJiWWt6YXG3Kfp6eFvteO49djth0vU6pv2ts27Bi202fv6/9HhtEen1sSKfWFfXhOpyKxQ6SIWTsgS5Xu7GfFTt4iuUcmHPBEZtXP7fLnJJbjtR8fZapT+jlQjj3ObF5upZ5Ocuam97nc3P/T6m/Rexx7DW7faE+BM4IsAeXVLikajtdIRLYg429bkUfWPT5pFzJNhZ0enrf5Qrv0ctpl9FKhUZsffoEW2z9wnt1rbHP/Dn2/7pPLSk8jxVQUoGS+u6u6amwQf0InBGRCo1cjaarlC5iJf3UtK7vTH1G7HP6lNxjy2Efd31/V+D2nR7726XWTa+ffk+fg33sO+1n6M8P021Pxdhy5baBPsthPy+23qgbgTNibO1C66rJ5A6MuQDou1x9D9Cp93WFRJ91yz3uuxxd8+XWK/Y5fdeja76VfHfuO7s+M/fZGC0EzgiypV07XT9PzZNrOllOKbzr82JSpeLYwW85TW+lPc2699XVrKbnW27Pur61v9j8sWXA6KCX2gjKhYWwbfp2nlTTVlcTSaz0bc9bxALOflffg1WsdN3VfKWn6c+ILUufz+s62Ke+M9YEZp93/R303zj3nfpv2vf/IvY7tQ10rTdGBzUcAEAR3PETAFAEgQMAKILAAQAUQeAAAIogcAAARRA4AIAiCBwAQBEEDgCgCAIHAFAEgQMAKILAAQAUQeAAAIogcAAARRA4AIAiCBwAQBEEDgCgCAIHAFAEgQMAKILAAQAUQeAAAIogcAAARRA4AIAiCBwAQBEEDgCgCAIHAFAEgQMAKILAAQAUQeAAAIogcAAARRA4AIAiCBwAQBEEDgCgCAIHAFAEgQMAKILAAQAUQeAAAIogcAAARRA4AIAiJHCuNAAADNeV8bGxsQsNAADDdXH80aNH/2gAABiixcXFr8d+//33zevXr//n4PnmBgCAVTZoSbsyNTX1p/EXX3zxxsOHD//aAAAwBIOWtCPyu+2ltmnTpq8HE/7WAACwuo7MzMx8JQ8ed4t+/vnn/yukEAAAKzU4b/O36enpw+H5mJ1hbm7ug/Hx8UODGV9rAABYvhuDn78OwuZrPXEsNbcEz+BEz18GD18b/Py5AQAg7crg58KgsvKPQdB8NciPG3aG/wPCVN5Z9OwolwAAAABJRU5ErkJggg=="},118847:(e,t,i)=>{i.d(t,{K0:()=>h,Zf:()=>_,bL:()=>m,is:()=>n,wi:()=>g});var n,r=i(486106),a=i(7378),s=i(57692),o=i(443068),l=i(976845),d=i(556482),c=i(687265),u=i(704296);function p({children:e,width:t}){return(0,a.useEffect)(()=>{let e=document.documentElement.style;return e.setProperty("--left-rail-width",`${t}px`),()=>{e.removeProperty("--left-rail-width")}},[]),(0,r.jsx)(s.N,{"aria-label":"Navigation Bar",orientation:"vertical",...d.Ay.props(x.base,x.baseWidth(t)),children:e})}function m({menuButton:e,children:t,width:i}){let n=[],s=[];return a.Children.forEach(t,e=>{a.isValidElement(e)&&(e.type===g?s.push(e):n.push(e))}),(0,r.jsxs)(p,{width:i,children:[(0,r.jsxs)("div",{className:"x6s0dn4 x78zum5 xdt5ytf x1nfngrj",children:[e,(0,r.jsx)(f,{}),n]}),(0,r.jsx)("div",{className:"x6s0dn4 x78zum5 xdt5ytf x1nfngrj",children:s})]})}function h({active:e,disabled:t,icon:i,label:n,onClick:a,type:s}){switch(s){case"icon":return(0,r.jsx)(o.K,{"aria-label":n,"aria-expanded":e,disabled:t,onClick:a,size:"lg",children:i});case"dialog":return(0,r.jsx)(l.d,{"aria-label":n,"aria-expanded":e,disabled:t,onClick:a,size:"lg",children:i})}}function f(){return(0,r.jsx)("div",{className:"x1n5zjp5 xkwerj4 x1ah0xmj",role:"separator"})}function g({children:e}){return(0,r.jsx)(r.Fragment,{children:e})}function _({canvasActionName:e,children:t,onClose:i}){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{...d.Ay.props(x.canvasActionPanelHeader),children:[e,(0,r.jsx)(o.K,{onClick:i,"aria-label":"Close",children:(0,r.jsx)(u.L,{})})]}),t]})}!function(e){e.ICON="icon",e.DIALOG="dialog"}(n||(n={}));let x={base:{backgroundColor:"x1yjdb4r",borderRight:"xspf3my",borderRightWidth:null,borderInlineStartWidth:null,borderInlineEndWidth:null,borderRightStyle:null,borderInlineStartStyle:null,borderInlineEndStyle:null,borderRightColor:null,borderInlineStartColor:null,borderInlineEndColor:null,display:"x78zum5",flexDirection:"xdt5ytf",height:"xqmztoh",justifyContent:"x1qughib",padding:"x1uil0o3",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,position:"x1n2onr6",top:"x167uce1",$$css:!0},baseWidth:e=>[{width:"x1bl4301",$$css:!0},{"--width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],canvasActionPanelHeader:{padding:"x1kzcg16",paddingInline:null,paddingStart:null,paddingLeft:null,paddingEnd:null,paddingRight:null,paddingBlock:null,paddingTop:null,paddingBottom:null,display:"x78zum5",justifyContent:"x1qughib",alignItems:"x6s0dn4",borderBottom:"x1n5zjp5",borderBottomWidth:null,borderBottomStyle:null,borderBottomColor:null,...c.g.textBodyLargeStrong,$$css:!0}}},157320:(e,t,i)=>{i.d(t,{i:()=>s});var n=i(486106),r=i(7378),a=i(587457);let s=(0,r.memo)(function(e){return(0,a.O)()?(0,n.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.3 5.163a3.5 3.5 0 0 0-3.6 0l-.2.12v5.85a4.5 4.5 0 0 1 4 0v-5.85zm1.2.12v5.85a4.5 4.5 0 0 1 4 0v-5.85l-.2-.12a3.5 3.5 0 0 0-3.6 0zm-.286 7.169.043-.023.442-.265a3.5 3.5 0 0 1 3.602 0l.442.265a.5.5 0 0 0 .757-.44v-6.98a.5.5 0 0 0-.195-.406l-.057-.037-.433-.26a4.5 4.5 0 0 0-4.63 0L8 4.416l-.185-.11a4.5 4.5 0 0 0-4.63 0l-.434.26a.5.5 0 0 0-.25.445v6.98a.5.5 0 0 0 .376.494.5.5 0 0 0 .38-.056l.442-.265a3.5 3.5 0 0 1 3.602 0l.442.265a.5.5 0 0 0 .113.05.5.5 0 0 0 .358-.027",clipRule:"evenodd"})}):(0,n.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6.8 5.476a3.5 3.5 0 0 0-3.6 0l-.2.12v5.85a4.5 4.5 0 0 1 4 0v-5.85zm1.2.12v5.85a4.5 4.5 0 0 1 4 0v-5.85l-.2-.12a3.5 3.5 0 0 0-3.6 0zm-.286 7.168.043-.023.442-.265a3.5 3.5 0 0 1 3.602 0l.442.265a.5.5 0 0 0 .757-.44v-6.98a.5.5 0 0 0-.195-.405l-.057-.038-.433-.26a4.5 4.5 0 0 0-4.63 0L7.5 4.73l-.185-.11a4.5 4.5 0 0 0-4.63 0l-.434.26a.5.5 0 0 0-.25.445v6.98a.5.5 0 0 0 .376.493.5.5 0 0 0 .38-.056l.442-.265a3.5 3.5 0 0 1 3.602 0l.442.265a.5.5 0 0 0 .113.05.5.5 0 0 0 .358-.027",clipRule:"evenodd"})})})},958580:(e,t,i)=>{i.d(t,{B:()=>r});var n=i(486106);let r=(0,i(7378).memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m18.015 5.441-.315 1.26-1.26.315c-.505.126-.505.844 0 .97l1.26.315.315 1.26c.126.505.844.505.97 0L19.3 8.3l1.26-.315c.505-.126.505-.844 0-.97L19.3 6.7l-.315-1.26c-.126-.505-.844-.505-.97 0M8.5 10.001a.5.5 0 0 0 0 1h7a.5.5 0 1 0 0-1zM8 13.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5M14.5 7a.5.5 0 0 1 0 1h-7A1.5 1.5 0 0 0 6 9.5v6A1.5 1.5 0 0 0 7.5 17h9a1.5 1.5 0 0 0 1.5-1.5v-4a.5.5 0 0 1 1 0v4a2.5 2.5 0 0 1-2.5 2.5h-9A2.5 2.5 0 0 1 5 15.5v-6A2.5 2.5 0 0 1 7.5 7z",clipRule:"evenodd"})})})},764883:(e,t,i)=>{i.d(t,{f:()=>a});var n=i(486106),r=i(7378);let a=(0,r.memo)(function(e){let t=(0,r.useId)();return(0,n.jsxs)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:[(0,n.jsx)("mask",{id:t,fill:"#fff",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M5 6h14a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1M3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm2.805.104a.5.5 0 0 0-.61.792l6.5 5a.5.5 0 0 0 .61 0l6.5-5a.5.5 0 0 0-.61-.792L12 11.869z",clipRule:"evenodd"})}),(0,n.jsx)("path",{fill:"var(--color-icon)",d:"m5.805 7.104.61-.793zm-.61.792.61-.792zm6.5 5 .61-.792zm.61 0-.61-.792zm6.5-5-.61-.792zm-.61-.792-.61-.793zM12 11.869l-.61.793.61.469.61-.47zM19 5H5v2h14zm2 2a2 2 0 0 0-2-2v2zm0 10V7h-2v10zm-2 2a2 2 0 0 0 2-2h-2zM5 19h14v-2H5zm-2-2a2 2 0 0 0 2 2v-2zM3 7v10h2V7zm2-2a2 2 0 0 0-2 2h2zm0-1a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1zm14 0H5v2h14zm3 3a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1zm0 10V7h-2v10zm-3 3a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1zM5 20h14v-2H5zm-3-3a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1zM2 7v10h2V7zm3.896.805a.5.5 0 0 1-.7.091l1.219-1.585a1.5 1.5 0 0 0-2.104.274zm-.091-.701a.5.5 0 0 1 .091.7L4.311 6.586a1.5 1.5 0 0 0 .274 2.104zm6.5 5-6.5-5-1.22 1.585 6.5 5zm-.61 0a.5.5 0 0 1 .61 0l-1.22 1.585a1.5 1.5 0 0 0 1.83 0zm6.5-5-6.5 5 1.22 1.585 6.5-5zm-.091.7a.5.5 0 0 1 .091-.7l1.22 1.585a1.5 1.5 0 0 0 .274-2.104zm.7.092a.5.5 0 0 1-.7-.091l1.585-1.22a1.5 1.5 0 0 0-2.104-.274zm-6.194 4.766 6.195-4.766-1.22-1.585-6.195 4.766zM5.195 7.896l6.195 4.766 1.22-1.585L6.415 6.31z",mask:`url(#${t})`})]})})},836234:(e,t,i)=>{i.d(t,{z:()=>r});var n=i(486106);let r=(0,i(7378).memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",d:"M19 5a2 2 0 0 1 2 2v10a2 2 0 0 1-1.796 1.99L19 19H5l-.204-.01a2 2 0 0 1-1.785-1.786L3 17V7a2 2 0 0 1 2-2zM5 6a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zm4.749 2c.205 0 .39.126.466.317l2.75 7 .027.098a.501.501 0 0 1-.959.268L10.98 13H8.018l-1.054 2.683a.501.501 0 0 1-.932-.366l2.75-7A.5.5 0 0 1 9.25 8zm5.751 7a.5.5 0 1 1 0 1 .5.5 0 0 1 0-1m.455-7a2.045 2.045 0 0 1 .914 3.874l-.145.073A1.31 1.31 0 0 0 16 13.118v.382a.5.5 0 0 1-1 0v-.382a2.31 2.31 0 0 1 1.276-2.065l.146-.074A1.046 1.046 0 0 0 15.955 9H15.5a1 1 0 0 0-1 1 .5.5 0 0 1-1 0 2 2 0 0 1 2-2zm-7.544 4h2.176L9.499 9.231z"})})})},92046:(e,t,i)=>{i.d(t,{W:()=>s});var n=i(486106),r=i(7378),a=i(587457);let s=(0,r.memo)(function(e){return(0,a.O)()?(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.646 5.646a.5.5 0 0 1 .708 0l4.5 4.5a.5.5 0 0 1-.708.708L12.5 7.207V18a.5.5 0 0 1-1 0V7.207l-3.646 3.647a.5.5 0 0 1-.708-.708z",clipRule:"evenodd"})}):(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M11.146 5.146a.5.5 0 0 1 .708 0l5 5a.5.5 0 0 1-.708.708L12 6.707V17.5a.5.5 0 0 1-1 0V6.707l-4.146 4.147a.5.5 0 0 1-.708-.708z",clipRule:"evenodd"})})})},995605:(e,t,i)=>{i.d(t,{g:()=>r});var n=i(486106);let r=(0,i(7378).memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",d:"m9.4 16.5.28-1.12c.083-.333.557-.333.64 0l.28 1.12 1.12.28c.333.083.333.557 0 .64l-1.12.28-.28 1.12c-.083.333-.557.333-.64 0L9.4 17.7l-1.12-.28c-.333-.083-.333-.557 0-.64zm5.377-10.195a2.177 2.177 0 1 1 1.947 3.893l-3.606 1.803 3.606 1.803a2.177 2.177 0 0 1-1.948 3.894l-.243-.122a2.45 2.45 0 0 1-1.329-2.537l.249-1.753-7.677-3.838-.086-.054a.5.5 0 0 1 .439-.876l.095.036L12 11.44l1.453-.725-.249-1.752a2.45 2.45 0 0 1 1.33-2.537zm-.584 8.876a1.45 1.45 0 0 0 .787 1.5l.243.123a1.177 1.177 0 1 0 1.053-2.106l-1.88-.94zm-4.322-2.663a.5.5 0 0 1 .438.877l-.085.053-4 2-.095.036a.5.5 0 0 1-.439-.876l.086-.054 4-2zm6.932-4.793a1.176 1.176 0 0 0-1.578-.526l-.245.122a1.45 1.45 0 0 0-.787 1.501l.203 1.422 1.88-.94c.582-.29.817-.998.527-1.58"})})})},46722:(e,t,i)=>{i.d(t,{R:()=>r});var n=i(486106);let r=(0,i(7378).memo)(function(e){return(0,n.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,n.jsx)("path",{fill:"var(--color-icon)",d:"m16.7 7.7.315-1.259c.126-.505.844-.505.97 0l.315 1.26 1.26.315c.505.126.505.844 0 .97l-1.26.315-.315 1.26c-.126.505-.844.505-.97 0L16.7 9.3l-1.26-.315c-.505-.126-.505-.844 0-.97zM15 11a.5.5 0 0 1 .462.308l1.666 4 .834 2 .03.096a.501.501 0 0 1-.905.377l-.049-.089L16.333 16h-3.166l-.705 1.692a.5.5 0 0 1-.924-.384l.834-2 1.666-4 .034-.067A.5.5 0 0 1 14.5 11zM9.5 5a.5.5 0 0 1 .5.5V7h3.5a.5.5 0 0 1 0 1h-1.282l-.054.16c-.503 1.487-1.088 2.537-2.031 3.705l1.527 1.91a.501.501 0 1 1-.781.624l-1.407-1.758c-.69.77-1.538 1.631-2.618 2.713a.5.5 0 0 1-.708-.707c1.147-1.148 2.012-2.03 2.692-2.8L7.21 9.814a.5.5 0 1 1 .781-.626l1.501 1.878c.773-.986 1.249-1.867 1.668-3.065H5.5a.5.5 0 0 1 0-1H9V5.5a.5.5 0 0 1 .5-.5m4.083 10h2.334l-1.167-2.8z"})})})}}]);

//# debugId=7d9d532d-5198-54d7-8126-eca3c2030dd0

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/8ebe9d3d684a9efead61be8172cc5d19629a5a48/7498-b756ac6175d94c65.min.js.map