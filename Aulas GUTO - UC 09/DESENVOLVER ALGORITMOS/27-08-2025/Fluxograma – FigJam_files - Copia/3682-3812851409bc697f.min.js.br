"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="02d330b4-e10e-58fa-8ec9-200c9f6132cf")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[3682],{933480:(e,t,a)=>{a.d(t,{F:()=>s,HR:()=>r,Io:()=>i,Ok:()=>c,Pn:()=>_,V_:()=>o,dK:()=>u,nM:()=>d,rH:()=>n,sQ:()=>l,ue:()=>p});let o="on_canvas_pill--pillContainer--jvRgr",s="on_canvas_pill--centered--iOUXI",i="on_canvas_pill--pill--fSukI",l="on_canvas_pill--bottom--gwvqA",n="on_canvas_pill--node--xgavI",r="on_canvas_pill--symbol--3Kz9f",c="on_canvas_pill--forceBrandColor--DynJg",d="on_canvas_pill--row--I6QoB",_="on_canvas_pill--pillLargeBorderRadius--9uWP9",u="on_canvas_pill--pillText--ts0Xi ellipsis--ellipsis--Tjyfa",p="on_canvas_pill--iconNodeType--0xm99"},343085:(e,t,a)=>{a.d(t,{N:()=>n,S:()=>r});var o=a(7378),s=a(27355);let i=(0,s.eU)(0),l=(0,s.eU)(e=>e(i)>0);function n({isVisible:e}){let t=(0,s.Xr)(i);(0,o.useLayoutEffect)(()=>{if(e)return t(e=>e+1),()=>t(e=>Math.max(0,e-1))},[e,t])}function r(){return(0,s.md)(l)}},659785:(e,t,a)=>{a.d(t,{d:()=>u});var o=a(486106);a(556482);var s=a(383776),i=a(88239),l=a(678782),n=a(516028),r=a(144692),c=a(276552),d=a(692397),_=a(932863);function u({shouldUseBottomBorder:e}){let t=(0,n.q5)(),a=(0,i.l7)(),u=(0,s.e)(),p=(0,i.ZO)(),[v,E]=(0,c.H)(),m=(0,l.Zr)("toggle-sidebar");if(!(t&&t.key&&t.name))return(0,o.jsxs)(d.SZ,{shouldUseBottomBorder:!!e,children:[(0,o.jsx)(r.cQ,{}),(0,o.jsx)(r.EG,{})]});let h=(0,o.jsx)(d.x$,{shouldShowFileMenu:!a&&!u&&!p,recordingKey:d.Fp});return v&&(h=(0,o.jsxs)("div",{className:"x7hzu26 x78zum5 x1qughib",children:[h,m&&(0,o.jsx)(_.n,{})]})),(0,o.jsxs)(d.SZ,{shouldUseBottomBorder:!!e,children:[h,(0,o.jsx)(d.l9,{}),(0,o.jsx)(d.t7,{openFile:t})]})}},618608:(e,t,a)=>{a.d(t,{MO:()=>x,Tq:()=>b});var o=a(486106),s=a(7378),i=a(387100),l=a(815945),n=a(536384),r=a.n(n),c=a(714743),d=a(8833),_=a(62612),u=a(249941),p=a(933480),v=a(108557),E=a(253654),m=a(839808),h=a(564837),N=a(60943),I=a(559949),g=a(372209),f=a(253373),O=a(160761),w=a(939968);let x=s.forwardRef(function(e,t){let{boundingBox:a,isFigmaPurple:s}=e.node,i=function(e,t,a,o){let s=(0,_._X)({subscribeToUpdates_expensive:!0});if(!s)return null;let i={},l=(0,_.Yb)(s,{x:e.x,y:e.y,width:e.w,height:e.h});return i.left=l.x+s.x,i.top=l.y+s.y,t&&(i.left+=l.width/2),a&&(i.top=l.y+s.y+l.height),{containerStyle:i,pillStyle:o&&{maxWidth:o(l.width)},zoomScale:s.zoomScale}}(a,e.centered,e.bottom,e.maxWidth);if(!i)return null;let{containerStyle:l,pillStyle:n}=i;return(0,o.jsx)("div",{ref:t,className:r()(d.Dm,p.V_,{[p.F]:e.centered,[p.sQ]:e.bottom}),style:{...l,marginLeft:e.offsetX??0,marginTop:e.offsetY?.(i.zoomScale)??0},"data-testid":e.dataTestId,children:(0,o.jsx)("div",{className:r()(p.Io,s?p.HR:p.rH,e.largeBorderRadius&&p.Pn,e.forceBrandColor&&p.Ok),style:n,children:e.children})})});function b({node:e}){let t=(0,l.xx)((e,t)=>(0,u.D)(e,t)),a=e?t(e.guid,e.objectsPanelThumbnailId):"",s=a?(0,c.V)(a):function(e){let t=null;switch(e.type){case"TEXT":t=O.A;break;case"FRAME":t=e.isGroup?E.A:e.isStateGroup?g.A:(0,u.GN)({stackMode:e.stackMode,stackCounterAlignItems:e.stackCounterAlignItems});break;case"ROUNDED_RECTANGLE":t=N.A;break;case"ELLIPSE":t=v.A;break;case"STAR":t=I.A;break;case"VECTOR":t=w.A;break;case"GROUP":t=E.A;break;case"INSTANCE":t=m.A;break;case"SYMBOL":t=e.isState?f.A:g.A}return(0,i.oY)(e.type)&&e.hasEnabledStaticImagePaint&&(t=h.A),t}(e);return s?(0,o.jsx)(c.B,{className:p.ue,svg:s}):null}},764731:(e,t,a)=>{a.d(t,{s:()=>t_});var o=a(486106),s=a(7378),i=a(514228),l=a(989765),n=a(516028),r=a(372672),c=a(637336),d=a(120294),_=a(120529),u=a(536384),p=a.n(u),v=a(778880),E=a(303541),m=a(722362),h=a(635666),N=a(343085),I=a(129884),g=a(99004),f=a(626177),O=a(51271),w=a(330497),x=a(132424);let b="voice_widget--modal--xsQ2A",T="voice_widget--show--O6ORx voice_widget--modal--xsQ2A",D="voice_widget--topRow--O1wj-",R="voice_widget--voiceModalPanel--KD-J1";function j(e){let{fileKey:t}=e;var{userIdsInCall:a}=(0,d.W5)(t);let i=a.size,l=(0,m.aV)(),n=(0,r.iZ)();s.useEffect(()=>{!v.XN&&n?.id&&!a.has(n.id)&&(0,h.w$)(i)},[i,n?.id,a]);let c=!l&&!v.XN;return((0,N.N)({isVisible:c}),c)?(0,o.jsx)("div",{className:p()(b,T),children:(0,o.jsx)(g.m,{role:"region",children:(0,o.jsx)(f.Id,{className:R,children:(0,o.jsxs)("div",{className:D,children:[(0,o.jsxs)("div",{className:"voice_widget--joinModalCountGroup--zxI6Q",children:[(0,o.jsx)(O.A.HeadphonesIcon,{className:x.QH,size:24}),a.size]}),(0,o.jsx)(w.K,{fileKey:e.fileKey,"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,E.t)("collaboration.voice.join_conversation"),isJoinWidget:!0,"data-onboarding-key":"audio-nux-key",children:(0,E.tx)("collaboration.voice.join")})]})})})}):(0,o.jsx)(o.Fragment,{})}var A=a(343967),C=a(976845),S=a(632989),y=a(932503),k=a(169182),L=a(165623),W=a(910117),P=a(929976),U=a(156213),M=a(314264),$=a(236903),G=a(122682),B=a(318520),V=a(805373),H=a(671373),F=a(919079),z=a(714743),X=a(976345),J=a(848862),K=a(834956),Y=a(778125);let q="captions_dialog--showGradient--ZAHRk";var Q=a(789982),Z=a(918452);let ee="DROPDOWN_TYPE_CAPTIONS_DIALOG_TYPE_SIZE";function et({caption:e,user:t}){let a=e.userId+"_"+e.timestamp;return(0,o.jsxs)("div",{className:"captions_dialog--captionRow--pgS-N",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(V.Ro,{className:"captions_dialog--avatar--ISexR",entity:{...t,id:e.userId},size:24}),(0,o.jsx)("div",{className:"captions_dialog--name--SmWv6",children:t?t.name:e.userId})]}),e.text.map((e,t)=>(0,o.jsx)("div",{className:"captions_dialog--paragraph--SjDQd",children:e.map((e,s)=>(0,o.jsx)("div",{className:"captions_dialog--sentence--SJkHn",children:`${e} `},a+"_"+t+"_"+s))},a+"_"+t))]},a)}let ea=()=>({small:{style:"captions_dialog--smallText--aUeBx",label:(0,E.t)("collaboration.voice.small")},medium:{style:"captions_dialog--mediumText--ODxEN",label:(0,E.t)("collaboration.voice.medium")},large:{style:"captions_dialog--largeText---t1d2",label:(0,E.t)("collaboration.voice.large")},x_large:{style:"captions_dialog--xlargeText--C60DA",label:(0,E.t)("collaboration.voice.x_large")}}),eo=Date.now();function es({call:e}){let t=ea(),[a,l]=s.useState([]),[r,c]=s.useState(t.small.style),[_,u]=s.useState(!1),[p,v]=s.useState(!1),[m,h]=s.useState(!1),N=(0,n.q5)();if(!N)throw Error("Open file required");let g=(0,i.d4)(e=>e.voice.activeCall[N.key]),f=(0,i.wA)(),[O,w]=s.useState(null),x=(0,J.Um)(),b=s.useRef(null),T=!!(x&&x.type===ee),D=a.reduce((e,t)=>e.add(t.userId),new Set),R=(0,d.bF)(D,N.key).reduce((e,t)=>(e[t.userID]=t,e),{});s.useEffect(()=>{let t=e=>{e&&l(e)};return e.audioCaptionStream.subscribe(t),()=>e.audioCaptionStream.unsubscribe(t)}),s.useEffect(()=>{O&&O.scrollHeight-O.scrollTop-O.clientHeight<150&&eo<Date.now()-150&&O.scrollTo({top:O.scrollHeight-O.clientHeight,behavior:"smooth"})}),s.useEffect(()=>{O&&!m&&(O.scrollTop=O.scrollHeight-O.clientHeight)},[O,m]);let j=!m&&g;return(0,o.jsxs)("div",{className:["captions_dialog--captionsDialog--gOIvh",r].join(" "),children:[(0,o.jsx)("div",{className:["captions_dialog--topDivider--BlM0x captions_dialog--_divider--m8Skg",_?q:""].join(" ")}),j&&(0,o.jsx)("div",{className:"captions_dialog--scrollContainer--WuVOJ",ref:e=>w(e),onScroll:e=>{O&&(v(0!=O.scrollHeight-O.scrollTop-O.clientHeight),u(0!==O.scrollTop))},onWheel:e=>{e.deltaY<0&&(eo=Date.now())},children:(0,o.jsx)("div",{className:"captions_dialog--scrollContainerInner--db2cV",children:a.map(e=>(0,o.jsx)(et,{caption:e,user:R[e.userId]},e.timestamp))})}),j&&(0,o.jsx)("div",{className:["captions_dialog--bottomDivider--WBbo5 captions_dialog--_divider--m8Skg",p?q:""].join(" ")}),j&&(0,o.jsx)(S.E,{onClick:()=>O.scrollTo({top:O.scrollHeight-O.clientHeight,behavior:"smooth"}),className:`captions_dialog--scrollToBottomButton--SeU-4 ${p?"captions_dialog--showScrollToBottomButton--Lc7Iy":""}`,children:(0,E.tx)("collaboration.voice.new_transcripts")}),(0,o.jsxs)("div",{className:"captions_dialog--header--SA3Wv",onClick:()=>h(!m),children:[(0,o.jsx)(z.B,{className:j?"captions_dialog--closedCaptionsIconMaximized--N-lwT":"captions_dialog--closedCaptionsIconMinimized--Ou0WE",svg:Q.A}),(0,o.jsx)("span",{className:"captions_dialog--label---1DXk",children:(0,E.tx)("collaboration.voice.closed_captions")}),(0,o.jsx)(F.Ex,{text:(0,E.t)("collaboration.voice.beta"),className:"captions_dialog--betaTag--qFyxq",color:F.zE.BRAND}),(0,o.jsx)(Y.K0,{svg:Z.A,ref:b,className:"captions_dialog--typeSizeIcon--Xhxj-",onClick:e=>{e.stopPropagation(),f(X.gR({type:ee}))},"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,E.t)("collaboration.voice.text_size")}),b.current&&T&&(0,o.jsx)(K.j,{dispatch:f,items:Object.keys(t).map(e=>({name:e,displayText:t[e].label,className:[t[e].style,"captions_dialog--dropdownTextOptions--ma0Ue"].join(" "),isChecked:t[e].style===r})),showPoint:!0,parentRect:b.current?.getBoundingClientRect(),onSelectItem:e=>{e.name&&c(t[e.name].style)},minWidth:96}),(0,o.jsx)("div",{style:{clear:"both"}})]})]})}var ei=a(440393),el=a(757007),en=a(876459),er=a(493477),ec=a(483726);let ed=[_.$E.WARNING_RECV_AUDIO_DECODE_FAILED,_.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW,_.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW,_.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW];function e_(e){let t;if((0,er.Im)(e.activeWarnings))return null;for(let a of ed)if(e.activeWarnings[a]){t=e.activeWarnings[a];break}return t?(0,o.jsx)("div",{className:e.className,"data-tooltip-type":I.Ib.TEXT,"data-tooltip":t,"data-tooltip-show-below":!0,"data-tooltip-timeout-delay":50,children:(0,o.jsx)(ec.e,{className:"voice_warning_icon--icon--NvhIw","aria-label":t})}):null}function eu(e){switch(e){case _.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:return(0,E.t)("collaboration.voice.audio_input_too_low_warning");case _.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:return(0,E.t)("collaboration.voice.speaker_volume_too_low_warning");case _.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case _.$E.WARNING_RECV_AUDIO_DECODE_FAILED:return(0,E.t)("collaboration.voice.poor_connection_warning");default:return null}}function ep(e){let{callEvent:t,onClick:a,notificationUserId:l}=e.notification,[n,r]=s.useState(null),[d,u]=s.useState(!1),p=s.useRef(),v=s.useRef(t),[m,h]=s.useState(),N=(0,i.d4)(e=>e.multiplayer.allUsers),I=(0,i.d4)(e=>e.voice.voiceUsersById),g=s.useMemo(()=>{if(l){if(l in I)return I[l].name;let e=N.find(e=>e.userID===l);if(e)return e.name}return"User"},[l,I,N]),O=m?.href,w=s.useMemo(()=>O?"a":"div",[O]);if(s.useEffect(()=>()=>{p?.current&&clearTimeout(p.current)},[]),s.useEffect(()=>{let e=()=>{u(!1),r(null)};m?(u(!0),r(null),m.persist||r(setTimeout(()=>{e()},2e3))):e()},[m]),s.useEffect(()=>()=>{n&&clearTimeout(n)},[n]),s.useEffect(()=>{switch(v.current=t,t){case _.$E.CONNECTED:h({msg:(0,E.t)("collaboration.voice.connected"),type:_.w.SUCCESS,icon:(0,o.jsx)(el.g,{})});break;case _.$E.CONNECTED_WITH_MIC_DISABLED:h({msg:(0,E.t)("collaboration.voice.connected_check_your_microphone_permissions_to_start_chatting"),allowMultiLine:!0,type:_.w.SUCCESS});break;case _.$E.CONNECTING:h({msg:(0,E.t)("collaboration.voice.connecting"),type:_.w.PENDING,persist:!0});break;case _.$E.ERROR:h({msg:(0,E.t)("collaboration.voice.something_went_wrong_try_again"),type:_.w.ERROR,persist:!0});break;case _.$E.CALL_INACTIVE:h({msg:(0,E.t)("collaboration.voice.things_got_quiet_for_awhile_so_we_ended_the_conversation"),type:_.w.PENDING,persist:!1,allowMultiLine:!0});break;case _.$E.TOKEN_WILL_EXPIRE:h({msg:(0,E.t)("collaboration.voice.it_s_been_quiet_for_a_while_so_we_ll_end_the_conversation_in_20_seconds_n_click_to_stay_on"),type:_.w.MESSAGE,persist:!0,onClick:a,allowMultiLine:!0});break;case _.$E.TOKEN_EXPIRED:h({msg:(0,E.t)("collaboration.voice.audio_has_timed_out_click_to_rejoin"),type:_.w.ERROR,persist:!0,onClick:a});break;case _.$E.USER_JOINED:h({truncatedPrefix:g,msg:(0,E.t)("collaboration.voice.joined"),type:_.w.MESSAGE});break;case _.$E.USER_LEFT:h({truncatedPrefix:g,msg:(0,E.t)("collaboration.voice.left"),type:_.w.MESSAGE});break;case _.$E.ERROR_MICROPHONE_PERMISSIONS_DENIED:let e=(0,E.t)("collaboration.voice.enable_mic_access_in_your_browser_to_join");en.eD&&(e=(0,E.t)("collaboration.voice.enable_mic_access_for_the_figma_app_to_join")),h({msg:e,type:_.w.ERROR,href:c.AM.TROUBLESHOOT});break;case _.$E.WARNING_MICROPHONE_LEVELS_HIGH_AND_MUTED:h({msg:(0,E.t)("collaboration.voice.want_to_unmute_click_the_mic"),type:_.w.PENDING});break;case _.$E.ERROR_ON_LEAVE:h({msg:(0,E.t)("collaboration.voice.couldn_t_leave_please_try_again"),type:_.w.ERROR});break;case _.$E.SYSTEM_INCOMPATIBLE:h({msg:(0,E.t)("collaboration.voice.figma_audio_won_t_work_on_your_device_learn_why"),type:_.w.ERROR,persist:!0,allowMultiLine:!0,href:c.AM.TROUBLESHOOT});break;case _.$E.DISCONNECTING:case _.$E.RECONNECTING:p.current=setTimeout(()=>{v.current===_.$E.RECONNECTING&&(h({msg:(0,E.t)("collaboration.voice.attempting_to_reconnect"),type:_.w.PENDING,persist:!0}),p.current=void 0)},1500);break;case _.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:case _.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:case _.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case _.$E.WARNING_RECV_AUDIO_DECODE_FAILED:let s=eu(t);if(!s)break;h({msg:s,type:_.w.WARNING,allowMultiLine:!0})}},[t]),void 0===t)return(0,o.jsx)(o.Fragment,{});let x=["expanded"===e.widgetState?"voice_flash_notifications--flashExpandedList--NkNnw voice_flash_notifications--flash--8i3SH":"voice_flash_notifications--flash--8i3SH",d?function(){switch(m?.type){case _.w.ERROR:return"voice_flash_notifications--flashError--6fLPW";case _.w.WARNING:return"voice_flash_notifications--flashWarning--tdCit";case _.w.MESSAGE:return"voice_flash_notifications--flashMessage--lt-k-";case _.w.SUCCESS:return"voice_flash_notifications--flashSuccess--hmpUM";case _.w.PENDING:default:return"voice_flash_notifications--flashPending--Hzt7W"}}():"voice_flash_notifications--flashHidden--uYI96"];return(0,o.jsx)(f.kg,{onClick:m?.onClick,className:x.join(" "),children:(0,o.jsxs)(w,{className:"voice_flash_notifications--flashNotificationMessageWrap--eXghM voice_flash_notifications--flashNotificationMessageBase--wxFPN",target:"_blank",rel:"noopener",href:m?.href,children:[m?.truncatedPrefix&&(0,o.jsx)("span",{className:"voice_flash_notifications--truncatedPrefix---gMQI ellipsis--ellipsis--Tjyfa",children:m?.truncatedPrefix}),m?.icon,m?.msg]})})}var ev=a(930338),eE=a(347284),em=a(336897),eh=a(124657),eN=a(275739),eI=a(270077);let eg="active_speakers_row--name--LtwVz ellipsis--ellipsis--Tjyfa",ef="active_speakers_row--pos1--88uza active_speakers_row--pos--D59NJ",eO="active_speakers_row--fadeOut--2tZhG",ew="active_speakers_row--willFadeIn--fFCX6",ex="active_speakers_row--activeSpeakerRowAvatar--zKOXb",eb=(e,t)=>e.userID===t.userID,eT=(e,t)=>{let a=e.sort((e,t)=>e.userID>t.userID?-1:1).map(e=>e.userID),o=t.sort((e,t)=>e.userID>t.userID?-1:1).map(e=>e.userID);if(a.length!==o.length)return!0;for(let e=0;e<a.length;e++)if(a[e]!==o[e])return!0;return!1},eD=(e,t)=>{let a=t.filter(t=>!e.find(e=>eb(e,t))),o=e.filter(e=>!t.find(t=>eb(e,t))),s=e.map(e=>o.indexOf(e)>-1?e:void 0),i=e.map(e=>-1===o.indexOf(e)?e:a.shift()).filter(e=>!!e);return a.length>0&&i.push(...a),t.length>1&&1===e.length&&(s[1]=e[0]),{fadeOut:s,active:i}};function eR({user:e,classNames:t,call:a}){let s;let l=(0,i.d4)(e=>e.multiplayer.observingSessionID),n=(0,i.d4)(e=>e.multiplayer.presenterSessionID??null),r=(Array.isArray(t)?[...t,ex]:[t,ex]).join(" "),d=(0,c.eo)(),u=(0,o.jsx)(V.Ro,{entity:{...e,id:e.userID},className:"active_speakers_row--activeSpeakerRowAvatarWithoutMultiplayer--W-S0A",size:24},e.userID),p=e=>{e.stopPropagation()};return"sessionID"in e&&(s=`active-speaker-row-voice-avatar-session-${e.sessionID}`,u=(0,o.jsx)(eh.vQ,{sessionID:e?.sessionID,observingSessionID:l,presenterSessionID:n??null,nominatedSessionID:null,user:e,showColorIndicators:!0,tooltipProxyId:s}),p=t=>{t.stopPropagation(),t.preventDefault(),d(e)}),(0,o.jsxs)("div",{className:r,children:[(0,o.jsx)("div",{className:"active_speakers_row--avatarObserveClickTarget--T1JH- voice_toolbar--avatarObserveClickTarget--QALFw",onClick:p,"data-tooltip-proxy-element-id":s}),u,(0,o.jsx)(eI.i,{userId:e.userID,userName:e.name,microphoneStyle:_.bU.FULL,call:a,volumeIconMutedState:eI.S.MINI,className:"active_speakers_row--voiceIndicatorPositioning--YqGFz"})]})}function ej({user:e,classNames:t}){return(0,o.jsx)("div",{className:eg+" "+(Array.isArray(t)?t.join(" "):t),children:e.name})}let eA=["active_speakers_row--pos0--Dc1bB active_speakers_row--pos--D59NJ",ef,"active_speakers_row--pos2--b5pkb active_speakers_row--pos--D59NJ","active_speakers_row--pos3--EAAkN active_speakers_row--pos--D59NJ","active_speakers_row--pos4--R5-5y active_speakers_row--pos--D59NJ","active_speakers_row--pos5--FYPvT active_speakers_row--pos--D59NJ","active_speakers_row--pos6--PTsn8 active_speakers_row--pos--D59NJ","active_speakers_row--pos7--DjtPj active_speakers_row--pos--D59NJ"];class eC extends s.Component{constructor(e){super(e),this.displayString="ActiveSpeakersRow",this.node=null,this.state={active:[],fadeOut:[]}}componentWillMount(){this.setState(eD(this.state.active,this.props.users))}shouldComponentUpdate(e,t){return e===this.props||(eT(this.props.users,e.users)&&this.setState(eD(this.state.active,e.users)),!1)}render(){let e=(e,t)=>`${e.name}-${t}`,t=[],a=eN.h.getInstance();if(!a)return null;if(1===this.state.fadeOut.length&&this.state.fadeOut[0]){let s=this.state.fadeOut[0];t.push((0,o.jsx)(eR,{call:a,user:s,classNames:[eA[0],eO]},e(s,"avatar")),(0,o.jsx)(ej,{user:s,classNames:[ef,eO,eg]},e(s,"name")))}else if(2===this.state.fadeOut.length&&!this.state.fadeOut[0]&&this.state.fadeOut[1]){let a=this.state.fadeOut[1];t.push((0,o.jsx)(ej,{user:a,classNames:[ef,eO,eg]},e(a,"name")))}else t.push.apply(t,this.state.fadeOut.map((t,s)=>t&&(0,o.jsx)(eR,{call:a,user:t,classNames:[eA[s],eO]},e(t,"avatar"))));if(1===this.state.active.length){let s=this.state.active[0];t.push((0,o.jsx)(eR,{call:a,user:s,classNames:[eA[0],ew]},e(s,"avatar")),(0,o.jsx)(ej,{user:s,classNames:[ef,ew,eg]},e(s,"name")))}else t.push.apply(t,this.state.active.map((t,s)=>(0,o.jsx)(eR,{call:a,user:t,classNames:[eA[s],ew]},e(t,"avatar"))));return t.sort((e,t)=>null===e.key||null===t.key?0:e.key>t.key?-1:1),setTimeout(()=>{this.node?.querySelectorAll("."+ew).forEach(e=>e.classList.remove(ew))},10),(0,o.jsx)("div",{ref:e=>this.node=e,className:"active_speakers_row--activeSpeakerRow--l5ylB",children:t})}}function eS(e){let{call:t,usersInCall:a}=e,i=(0,r.iZ)(),l=(0,B.mt)(t),n=s.useMemo(()=>l?.filter(e=>e!==i?.id)?.slice(0,6).reduce((e,t)=>{let o=a.find(({userID:e})=>e===t);return o?e.concat([o]):e},[])||[],[l,a,i]);return(0,o.jsx)(eC,{users:n})}var ey=a(364616),ek=a(844411);function eL(e){let{children:t,headerText:a,collapsedContent:i,onToggle:l,collapseStateOverride:n}=e,[r,c]=s.useState(!1),d=n||r;return(0,o.jsxs)("span",{children:[(0,o.jsx)(f.fI,{className:d?"voice_collapsible_dropdown--isCollapsed--SwBvz":"",children:(0,o.jsxs)("span",{className:"voice_collapsible_dropdown--dropdownSectionTitle--lpt22",onClick:t=>{t.preventDefault(),t.stopPropagation(),l&&!0!==e.hideToggleOption&&l(!d),c(!d)},children:[d?i:a,!e.hideToggleOption&&(0,o.jsx)(z.B,{svg:d?ey.A:ek.A,className:"voice_collapsible_dropdown--voiceDropdownChevronIcon--JgQxE"})]})}),!d&&t&&(0,o.jsx)(o.Fragment,{children:t})]})}var eW=a(232922);let eP=(0,i.Ng)(e=>({showWidgetParticipantList:e.voice.showWidgetParticipantList}))(function(e){let{showWidgetParticipantList:t}=e,a=(0,r.iZ)(),n=(0,i.wA)(),{userIdsInCall:u}=(0,d.W5)(e.fileKey),p=(0,d.bF)(u,e.fileKey),v=(0,c.eo)(),{usersInCall:E,callMetadata:m}=s.useMemo(()=>({usersInCall:p.filter(e=>e.userID!==a?.id),callMetadata:{microphoneStyle:_.bU.FULL,call:e.call}}),[p,a,e.call]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(eh.sK,{}),E.length>0&&(0,o.jsx)("div",{className:eW.ev,children:(0,o.jsx)(eL,{headerText:`${e.currentUserInCall?"You and ":""}`+(0,ev.td)(E.length,"person","people")+" in conversation",collapseStateOverride:!t,collapsedContent:(0,o.jsx)(eS,{usersInCall:E,call:e.call}),hideToggleOption:E.length<2,onToggle:e=>n(l.yF(!e)),children:(0,o.jsx)(eE.P,{className:eW.YM,children:E.map(e=>(0,o.jsx)(em.Q,{callMetadata:m,user:e,isOverflow:!0,onUserClick:v},"sessionID"in e?e.sessionID:e.userID))})})})]})});var eU=a(270045),eM=a(442517),e$=a(355202),eG=a(473569);let eB=(0,s.memo)(function(e){return(0,o.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,o.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7 7h10a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1M5 8a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2zm4.5 7a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1zm4.5-1.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 0 1h-2a.5.5 0 0 1-.5-.5m-3.5-.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1zm2.5 2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 0 1h-1a.5.5 0 0 1-.5-.5M7.5 13a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})});var eV=a(19536),eH=a(449184),eF=a(783094),ez=a(17223),eX=a(858013),eJ=a(302958),eK=a(831799),eY=a(504727),eq=a(794875),eQ=a(27776);let eZ="device_controls--deviceControlRow--kSC19",e0="device_controls--controlLabel--Yp1lV",e1="device_controls--dropdownContainer--DfMXW",e5="device_controls--dropdownInput--w72f-",e2="device_controls--dropdownChevron--UBe58",e4="MICROPHONE_CONTROL_DROPDOWN",e3="PLAYBACK_DEVICE_CONTROL_DROPDOWN",e7=(0,eF.jz)(eQ.aHA);function e9(e,t,a,o,l,n,r){let c=(0,i.wA)(),[d,_]=(0,s.useState)(null),[u,p]=(0,s.useState)([]),m=(0,i.d4)(e=>e.dropdownShown?.type===o),h=(0,eV.wm)(()=>u.map(e=>e.deviceId),[u]),N=(0,s.useCallback)(async()=>{try{let e=await t(),a=new Set(h);(h.length!==e.length||e.some(e=>!(e.deviceId in a)))&&p(e)}catch{r||c(eJ.F.enqueue({message:(0,E.t)("collaboration.voice.error_fetching_devices"),error:!0,type:"voice-device-error"}))}},[h,c,t,r]),I=(0,s.useCallback)(async()=>{try{if(n&&!v.Ay.chrome)return;let t=await e();t.deviceId!==d?.deviceId&&_(t)}catch{}},[n,e,d]),g=(0,s.useCallback)(async e=>{e.deviceId!==d?.deviceId&&_(e);try{await a(e)}catch{c(eJ.F.enqueue({message:(0,E.t)("collaboration.voice.error_selecting_device"),error:!0,type:"voice-device-error"})),await I()}},[I,a,c,d]);return(0,s.useEffect)(()=>{(l||m)&&N()},[l,m,N]),(0,s.useEffect)(()=>{I(),N()},[]),[d,u,g]}function e8(e){let[t,a,s]=e9(e.call.currentMicrophone,e.call.getMicrophones,e.call.setMicrophone,e4,e.isOpen,!1,e.microphonePermissionDenied),[i,l,n]=e9(e.call.currentPlaybackDevice,e.call.getPlaybackDevices,e.call.setPlaybackDevice,e4,e.isOpen,!0,e.microphonePermissionDenied),r=e.targetRef.current?.getBoundingClientRect();return e.isOpen?(0,o.jsx)(e6,{targetRect:r,currentMicrophone:t,microphoneDevices:a,setMicrophone:s,currentPlaybackDevice:i,playbackDevices:l,setPlaybackDevice:n}):null}function e6(e){let{targetRect:t,currentMicrophone:a,microphoneDevices:l,setMicrophone:n,currentPlaybackDevice:r,playbackDevices:c,setPlaybackDevice:d}=e,_=(0,i.wA)(),u=s.useId(),p=s.useId(),[m,h]=(0,s.useState)({type:""}),N=()=>{h({type:""})},I={format:e=>e?.label||"",isEqual:(e,t)=>e.deviceId===t.deviceId},g=(0,o.jsx)(e$.P,{}),O=(0,o.jsx)(eG.L,{}),w=(0,o.jsx)(eq.l6,{ariaLabelledBy:u,chevronClassName:e2,className:e1,dispatch:_,dropdownShown:m,formatter:I,icon:g,id:e4,inputClassName:e5,neverConstrain:!0,onChange:e=>{n(e)},onHideDropdownOverride:N,onShowDropdownOverride:()=>h({type:e4}),property:a||{deviceId:"not_found",label:(0,E.t)("collaboration.voice.microphone_not_found"),groupId:"not_found",kind:"audioinput",toJSON:()=>null},children:l.map(e=>(0,o.jsx)(eq.c$,{value:e,children:e.label},e.deviceId))}),x=(0,o.jsx)(eq.l6,{ariaLabelledBy:p,chevronClassName:e2,className:e1,dispatch:_,dropdownShown:m,formatter:I,icon:O,id:e3,inputClassName:e5,neverConstrain:!0,onChange:e=>{d(e)},onHideDropdownOverride:N,onShowDropdownOverride:()=>h({type:e3}),property:r||{deviceId:"not_found",label:(0,E.t)("collaboration.voice.playback_device_not_found"),groupId:"not_found",kind:"audiooutput",toJSON:()=>null},children:c.map(e=>(0,o.jsx)(eq.c$,{value:e,children:e.label},e.deviceId))}),b=(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"device_controls--divider--Z8rM-"}),!(0,G.WO)()&&(0,o.jsx)(tt,{}),(0,G.WO)()&&(0,o.jsx)(te,{})]});return(0,o.jsxs)(eY.Cf,{className:"device_controls--pointingDropdown--hSJ1h",targetRect:t,minWidth:e7,propagateCloseClick:!0,lean:"left",leanPadding:52,children:[(0,o.jsxs)("div",{onClick:e=>e.stopPropagation(),children:[(0,o.jsxs)("div",{className:"device_controls--header---h3P-",children:[(0,E.t)("collaboration.voice.audio_settings"),(0,o.jsx)(ez.Jn,{onClick:()=>_(P.oB())})]}),(0,o.jsxs)("div",{className:"device_controls--container--VR8KK",children:[(0,o.jsxs)(f.fI,{className:eZ,children:[(0,o.jsx)("span",{className:e0,id:u,children:(0,E.tx)("collaboration.voice.microphone")}),w]}),v.Ay.chrome&&(0,o.jsxs)(f.fI,{className:eZ,children:[(0,o.jsx)("span",{className:e0,id:p,children:(0,E.tx)("collaboration.voice.speakers")}),x]})]})]}),(0,G.X0)()&&b]})}function te(){let e=(0,i.d4)(e=>e.voice.captionsInstallProgress),t=(0,i.d4)(e=>e.voice.showCaptions),a=(0,i.wA)(),l=s.useId(),n=(0,o.jsx)(eB,{}),r=(0,E.tx)("collaboration.voice.closed_captioning"),c=(0,o.jsx)(F.Ex,{text:(0,E.t)("collaboration.voice.beta"),className:"device_controls--betaTag---VTFI",color:F.zE.BRAND});return t&&(0,G.Mw)(e)&&(r=(0,E.tx)("collaboration.voice.setting_up_closed_captions_install_progress",{installProgress:e}),n=(0,o.jsx)(eX.kt,{className:"device_controls--captionsLoadingSpinner--ivdGQ"}),c=(0,o.jsx)(o.Fragment,{})),(0,o.jsxs)(eU.J,{className:"device_controls--closedCaptionRow--OdIHt raw_components--singleRow--W5dYN raw_components--_singleRow--yTGIY raw_components--singleRowHeight--dKM4t raw_components--_row--rHucX raw_components--row--NThzm device_controls--deviceControlRowWithHover--KUbHL device_controls--deviceControlRow--kSC19",htmlFor:l,children:[n,(0,o.jsxs)("span",{className:"device_controls--captionToggleLabel--MjCYn device_controls--controlLabelFullOpacity--1nEqI device_controls--controlLabel--Yp1lV",children:[r,c]}),(0,o.jsx)(eM.v,{id:l,checked:t,onChange:(e,{event:t})=>{t.stopPropagation(),(0,eH.sx)("voice_captions_toggle",{value:e,source:"voice_widget"}),(0,G.HJ)(a,e)}})]})}function tt(){let e=c.AM.ACCESSIBILITY;return(0,o.jsx)(eK.L0,{target:"_blank",rel:"noopener",href:e,trackingEventName:"Learn more about captioning",children:(0,o.jsxs)(f.fI,{className:"device_controls--deviceControlRowWithHover--KUbHL device_controls--deviceControlRow--kSC19",children:[(0,o.jsx)(z.B,{className:"device_controls--iconContainer--TuXUt",svg:Q.A}),(0,o.jsx)("span",{className:"device_controls--controlLabelFullOpacity--1nEqI device_controls--controlLabel--Yp1lV",children:(0,E.tx)("collaboration.voice.learn_how_to_turn_on_closed_captioning")})]})})}let ta=(0,k.ck)("94721b53827c353075273e54a45ea41850ee0284"),to=(0,k.ck)("d917bf9964749c47b46d367572a5dd28a559bd2f"),ts="DEVICE_CONTROL_DROPDOWN",ti=null,tl=null,tn=null;function tr(e){let{call:t,fileKey:a,user:n,callEvent:r,notificationUserId:c,callEventCallback:u}=e,v=(0,i.Pj)(),[m,h]=(0,s.useState)(null),[O,w]=(0,s.useState)(),[x,j]=(0,s.useState)(!1),[k,B]=(0,s.useState)(!1),[V,F]=(0,s.useState)(!1),[z,X]=(0,s.useState)(!1),J=(0,i.d4)(e=>e.voice.snapWidget),[K,Y]=(0,s.useState)(!1),[q,Q]=(0,s.useState)(!1),[Z,ee]=(0,s.useState)({}),{userIdsInCall:et}=(0,d.W5)(a);(0,$.W)();let ea=(0,i.d4)(e=>e.voice.showCaptions),eo=(0,i.d4)(e=>e.voice.captionsInstallProgress),el=(0,i.d4)(e=>e.dropdownShown?.type===ts),en=(0,i.d4)(e=>e.voice.activeCall[a]||!1),er=(0,i.d4)(e=>e.voice.showWidgetParticipantList),ec=(0,s.useRef)(null),ed=(0,i.wA)(),ev={in:()=>{F(!0)},out:()=>(F(!1),new Promise(e=>setTimeout(e,300)))};s.useEffect(()=>{let e=t.getSystemCompatibility();if(h(e),!e){u(_.$E.SYSTEM_INCOMPATIBLE);return}ti||tl||(tl=new Audio(ta),(ti=new Audio(to)).load(),tl.load(),[tl,ti].forEach(e=>e.volume=.5))},[]),s.useEffect(()=>{!en&&m&&eh(),window.requestAnimationFrame(()=>ev.in())},[m]),s.useEffect(()=>{let e;switch(r){case _.$E.DISCONNECTED:q&&(tl?.play(),Q(!1)),ed(l.oI({fileKey:a}));break;case _.$E.TOKEN_WILL_EXPIRE_DETECT_MIC_INPUT:(function e(a){if(Date.now()>=a){u(_.$E.TOKEN_WILL_EXPIRE);return}if(t.isLocalUserSpeaking()){eI(!1);return}setTimeout(()=>{e(a)},500)})(Date.now()+1e4);break;case _.$E.CONNECTED:case _.$E.CONNECTED_WITH_MIC_DISABLED:K&&(setTimeout(()=>ti?.play(),400),Y(!1)),ed(l.rO({fileKey:a}));break;case _.$E.CALL_INACTIVE:t.leave();break;case _.$E.TOKEN_WILL_EXPIRE:e=()=>eI(!0);break;case _.$E.TOKEN_EXPIRED:e=eh;break;case _.$E.USER_JOINED:case _.$E.USER_LEFT:if(tn)return;break;case _.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW:case _.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW:case _.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW:case _.$E.WARNING_RECV_AUDIO_DECODE_FAILED:let o=eu(r);if(!o)break;ee({...Z,[r]:o});break;case _.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER:case _.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER:case _.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER:case _.$E.WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER:let s=function(e){switch(e){case _.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW_RECOVER:return _.$E.WARNING_AUDIO_INPUT_LEVEL_TOO_LOW;case _.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW_RECOVER:return _.$E.WARNING_AUDIO_OUTPUT_LEVEL_TOO_LOW;case _.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW_RECOVER:return _.$E.WARNING_SEND_AUDIO_BITRATE_TOO_LOW;case _.$E.WARNING_RECV_AUDIO_DECODE_FAILED_RECOVER:return _.$E.WARNING_RECV_AUDIO_DECODE_FAILED;default:return null}}(r);if(!s)break;delete Z[s],ee(Z)}void 0!==r&&w({callEvent:r,onClick:e,notificationUserId:c})},[r]),s.useEffect(()=>{X(!0)},[J]),s.useEffect(()=>{z&&X(!1)},[z]);let[eE,em]=(0,s.useState)(!0),eh=async()=>{if(em(!0),!t.getSystemCompatibility()){em(!1),u(_.$E.SYSTEM_INCOMPATIBLE);return}j(!0),Y(!0),tn=setTimeout(()=>{tn=null},5e3);try{let{data:e}=await W.Ay.post(`/api/voice/${a}/auth`),o=await (0,L.JL)(e.meta.user_encryption_key),s=await (0,L.We)(o,e.meta.call_user_id);if(s!=s)throw Error(`User ID does not match local user ID.
local: ${s}
remote: ${s}`);await t.join({appId:e.meta.app_id,callId:e.meta.call_id,token:e.meta.auth_token,callUserId:e.meta.call_user_id,userId:s,encryptionKey:e.meta.call_encryption_key,userEncryptionKey:o,setParticipantIdsCallback:eN,callEventCallback:u,store:v,fileKey:a})}catch(e){em(!1),u(_.$E.ERROR)}j(!1),em(!1)};function eN(e){ed(l.cb(e))}(0,N.N)({isVisible:V});let eI=async e=>{let{data:o}=await W.Ay.post(`/api/voice/${a}/auth`,{call_user_id:t.uid});await t.renewToken(o.meta.auth_token),e?u(_.$E.CONNECTED):u(_.$E.TOKEN_SILENTLY_RENEWED)},eg=async()=>{j(!0),Q(!0);try{await Promise.all([ev.out(),t.leave()]),ed(l.oI({fileKey:a})),tl?.play(),el&&ed(P.oB()),ed(l.Pp(!1))}catch{ev.in(),u(_.$E.ERROR_ON_LEAVE)}j(!1)},ef=async e=>{(0,M.ds)("voice_user_mute_toggle",a,v.getState(),{source:"voice_widget",muted:!e}),e?await t.unmute():await t.mute()},eO=()=>{el?ed(P.oB()):((0,M.ds)("voice_widget_open_settings",a,v.getState()),ed(P.j7({type:ts})))},ew=O?O&&et.size>1&&er?"expanded":"collapsed":null;ea&&(0,G.nN)(eo)&&((0,M.ds)("voice_caption_download_error",a,v.getState(),{error_code:eo,source:"voice_widget"}),(0,G.HJ)(ed,!1),ed((0,U.to)({type:H.L,data:{dispatch:ed,installProgress:eo}})));let ex=(0,A.U1)();return(0,o.jsx)(g.m,{role:"region",children:(0,o.jsxs)("div",{className:"voice_widget--hybridModalWrapper--x9-GE",ref:ex,children:[(0,o.jsx)("div",{className:p()(b,{[T]:V}),children:(0,o.jsxs)(f.Id,{className:R,children:[(0,o.jsxs)("div",{className:D,children:[(0,o.jsx)("span",{className:en||k?"voice_widget--currentUser--L7Z6l":"voice_widget--inactiveCurrentUser--yVaZY voice_widget--currentUser--L7Z6l",children:(0,o.jsx)(tc,{user:n,call:e.call})}),(0,o.jsx)(e_,{className:"voice_widget--warningIcon--WJPdH",activeWarnings:Z}),(0,o.jsx)(ei.Y,{userId:n.id,onMuteButtonClickCallback:ef,disabled:t.microphonePermissionDenied}),(0,o.jsx)(C.d,{"aria-expanded":el,"aria-label":(0,E.t)("collaboration.voice.settings"),ref:ec,"data-tooltip-type":I.Ib.TEXT,"data-tooltip":(0,E.t)("collaboration.voice.settings"),onClick:()=>{eO()},htmlAttributes:{onMouseDown:e=>{e.stopPropagation()}},children:(0,o.jsx)(y.I,{})}),(0,o.jsx)(S.E,{className:en||eE?"voice_widget--leaveButton--UUdxH basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd":"voice_widget--joinButton--WvZPr basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",onClick:en||eE?eg:eh,disabled:!m||x,htmlAttributes:{onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1)},children:en||eE?(0,E.tx)("collaboration.voice.leave"):(0,E.tx)("collaboration.voice.join")})]}),en&&(0,o.jsx)(eP,{fileKey:a,currentUserInCall:en,call:t}),(0,G.WO)()&&ea&&(0,o.jsx)(es,{call:t})]})}),O&&(0,o.jsx)(ep,{notification:O,widgetState:ew}),(0,o.jsx)(e8,{isOpen:el,call:t,targetRef:ec,microphonePermissionDenied:t.microphonePermissionDenied})]})})}function tc({user:e,call:t}){return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(td,{user:e,call:t}),(0,o.jsx)(V.Ro,{entity:e,size:24,className:"voice_widget--undraggableImage--muN9g",label:e.name})]})}function td({user:e,call:t}){let a=(0,B.Wl)(e.id,t);return!a||a.isMuted?null:(0,o.jsx)(eI.i,{userId:e.id,userName:e.name,microphoneStyle:_.bU.FULL,className:"voice_widget--avatarVoiceIndicator--zfWwx",volumeIconMutedState:eI.S.NONE,call:t})}function t_(){let e=(0,i.d4)(e=>e.mirror.appModel.showUi),t=(0,n.tS)(),a=(0,r.iZ)(),u=(0,i.d4)(e=>e.voice.showWidget),p=(0,i.d4)(e=>t&&t in e.voice.activeCall),v=(0,i.d4)(e=>t&&!!e.voice.activeCall[t]),{userIdsInCall:E}=(0,d.W5)(t,!0),m=(0,d.bF)(E,t).length,h=(0,c.qr)(),N=(0,i.wA)(),[I,g]=(0,s.useState)(),[f,O]=(0,s.useState)(),w=s.useCallback((e,t)=>{_.GA.has(e)&&N(l.Pp(!0)),t&&O(t),g(e)},[N]),x=(0,i.d4)(e=>e.voice.captionsInstallProgress),b=(0,i.d4)(e=>e.voice.showCaptions);return(s.useEffect(()=>{h&&(h.captionsToggleEnabled=b,h.streamAudioForCaptions(b&&100===x))},[b,x,h]),s.useEffect(()=>{u||(O(void 0),g(void 0))},[u]),s.useEffect(()=>{t&&!p&&m>0?N(l.Zq({fileKey:t})):t&&p&&!v&&0===m&&N(l.a6({fileKey:t}))},[m,t,p,v,N]),e&&t&&a)?p&&!u?(0,o.jsx)(j,{fileKey:t}):h&&u?(0,o.jsx)(tr,{fileKey:t,user:a,call:h,notificationUserId:f,callEvent:I,callEventCallback:w}):(0,o.jsx)(o.Fragment,{}):(0,o.jsx)(o.Fragment,{})}}}]);

//# debugId=02d330b4-e10e-58fa-8ec9-200c9f6132cf

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/8ebe9d3d684a9efead61be8172cc5d19629a5a48/3682-3812851409bc697f.min.js.map